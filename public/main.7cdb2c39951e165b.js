"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(eo,wi,lt)=>{lt.d(wi,{$:()=>r0,A:()=>Ce,G:()=>on,K:()=>Fx,L:()=>_c,N:()=>Eo,P:()=>uf,R:()=>S0,U:()=>Ve,V:()=>bg,W:()=>$h,X:()=>Uo,Y:()=>Rs,Z:()=>Co,_:()=>wc,a:()=>Os,a0:()=>Cg,a1:()=>Zh,a2:()=>Ag,a3:()=>l0,a4:()=>jx,a5:()=>lr,a6:()=>Cc,a7:()=>c0,a8:()=>Zu,a9:()=>Hx,aA:()=>Ot,aB:()=>$t,aC:()=>ve,aD:()=>Fs,aE:()=>se,aF:()=>ht,aG:()=>sd,aH:()=>N0,aI:()=>Mc,aJ:()=>fi,aN:()=>Mi,aQ:()=>ea,aa:()=>Pe,ab:()=>ii,ac:()=>ls,ad:()=>Ir,ae:()=>Tc,af:()=>It,ag:()=>u0,ah:()=>ki,ak:()=>Yu,al:()=>Na,am:()=>ta,ap:()=>o0,aq:()=>Xu,as:()=>VF,at:()=>zF,au:()=>Sn,av:()=>et,aw:()=>q,ax:()=>Rt,ay:()=>Oc,az:()=>L0,b:()=>$x,c:()=>Pa,d:()=>M0,e:()=>r1,f:()=>s1,g:()=>dr,h:()=>cn,i:()=>af,j:()=>Ps,k:()=>q0,l:()=>e1,m:()=>g1,o:()=>e2,p:()=>Dn,r:()=>t1,s:()=>A0,u:()=>Hn});var S=lt(861),re=lt(58),z=lt(534),Je=lt(879),pt=lt(582),Wn=lt(537);const Dn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const on=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gn=function Ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Je.Yd("@firebase/auth");function qn(p,...d){_t.logLevel<=Je.in.ERROR&&_t.error(`Auth (${z.SDK_VERSION}): ${p}`,...d)}function Rt(p,...d){throw xt(p,...d)}function $t(p,...d){return xt(p,...d)}function wr(p,d,h){const g=Object.assign(Object.assign({},Gn()),{[d]:h});return new re.LL("auth","Firebase",g).create(d,{appName:p.name})}function Ci(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Rt(p,"argument-error"),wr(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(p,...d){if("string"!=typeof p){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return zt.create(p,...d)}function ve(p,d,...h){if(!p)throw xt(d,...h)}function Gt(p){const d="INTERNAL ASSERTION FAILED: "+p;throw qn(d),new Error(d)}function Sn(p,d){p||Gt(d)}function ei(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Kn(){return"http:"===go()||"https:"===go()}function go(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Er{constructor(d,h){this.shortDelay=d,this.longDelay=h,Sn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function _o(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kn()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(p,d){Sn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Q{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=new Er(3e4,6e4);function Y(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function me(p,d,h,g){return de.apply(this,arguments)}function de(){return(de=(0,S.Z)(function*(p,d,h,g,v={}){return Se(p,v,(0,S.Z)(function*(){let I={},V={};g&&("GET"===d?V=g:I={body:JSON.stringify(g)});const J=(0,re.xO)(Object.assign({key:p.config.apiKey},V)).slice(1),ye=yield p._getAdditionalHeaders();return ye["Content-Type"]="application/json",p.languageCode&&(ye["X-Firebase-Locale"]=p.languageCode),Q.fetch()(Jt(p,p.config.apiHost,h,J),Object.assign({method:d,headers:ye,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function Se(p,d,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,S.Z)(function*(p,d,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ne),d);try{const v=new yn(p),I=yield Promise.race([h(),v.promise]);v.clearNetworkTimeout();const V=yield I.json();if("needConfirmation"in V)throw Un(p,"account-exists-with-different-credential",V);if(I.ok&&!("errorMessage"in V))return V;{const J=I.ok?V.errorMessage:V.error.message,[ye,ze]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw Un(p,"credential-already-in-use",V);if("EMAIL_EXISTS"===ye)throw Un(p,"email-already-in-use",V);if("USER_DISABLED"===ye)throw Un(p,"user-disabled",V);const ut=g[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw wr(p,ut,ze);Rt(p,ut)}}catch(v){if(v instanceof re.ZR)throw v;Rt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function we(p,d,h,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,S.Z)(function*(p,d,h,g,v={}){const I=yield me(p,d,h,g,v);return"mfaPendingCredential"in I&&Rt(p,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Jt(p,d,h,g){const v=`${d}${h}?${g}`;return p.config.emulator?yo(p.config,v):`${p.config.apiScheme}://${v}`}function Bn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g($t(this.auth,"network-request-failed")),$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(p,d,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const v=$t(p,d,g);return v.customData._tokenResponse=h,v}function hi(p){return void 0!==p&&void 0!==p.getResponse}function G(p){return void 0!==p&&void 0!==p.enterprise}class j{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Bn(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function fe(){return(fe=(0,S.Z)(function*(p){return(yield me(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(p,d){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(p,d){return me(p,"GET","/v2/recaptchaConfig",Y(p,d))})).apply(this,arguments)}function qt(){return(qt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Rn(){return(Rn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $i(){return($i=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function er(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Kt(){return(Kt=(0,S.Z)(function*(p,d=!1){const h=(0,re.m9)(p),g=yield h.getIdToken(d),v=vn(g);ve(v&&v.exp&&v.auth_time&&v.iat,h.auth,"internal-error");const I="object"==typeof v.firebase?v.firebase:void 0,V=I?.sign_in_provider;return{claims:v,token:g,authTime:er(dn(v.auth_time)),issuedAtTime:er(dn(v.iat)),expirationTime:er(dn(v.exp)),signInProvider:V||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(p){return 1e3*Number(p)}function vn(p){const[d,h,g]=p.split(".");if(void 0===d||void 0===h||void 0===g)return qn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,re.tV)(h);return v?JSON.parse(v):(qn("Failed to decode base64 JWT payload"),null)}catch(v){return qn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function jn(p,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,S.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof re.ZR&&function ss({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class vo{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,S.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class as{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wi(p){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,S.Z)(function*(p){var d;const h=p.auth,g=yield p.getIdToken(),v=yield jn(p,function ti(p,d){return $i.apply(this,arguments)}(h,{idToken:g}));ve(v?.users.length,h,"internal-error");const I=v.users[0];p._notifyReloadListener(I);const V=null!==(d=I.providerUserInfo)&&void 0!==d&&d.length?function xa(p){return p.map(d=>{var{providerId:h}=d,g=(0,pt._T)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(I.providerUserInfo):[],J=function gc(p,d){return[...p.filter(g=>!d.some(v=>v.providerId===g.providerId)),...d]}(p.providerData,V),ut=!!p.isAnonymous&&!(p.email&&I.passwordHash||J?.length),tn={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:J,metadata:new as(I.createdAt,I.lastLoginAt),isAnonymous:ut};Object.assign(p,tn)}),Ai.apply(this,arguments)}function bo(){return(bo=(0,S.Z)(function*(p){const d=(0,re.m9)(p);yield Wi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function As(){return(As=(0,S.Z)(function*(p,d){const h=yield Se(p,{},(0,S.Z)(function*(){const g=(0,re.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:v,apiKey:I}=p.config,V=Jt(p,v,"/v1/token",`key=${I}`),J=yield p._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(V,{method:"POST",headers:J,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function O(){return(O=(0,S.Z)(function*(p,d){return me(p,"POST","/v2/accounts:revokeToken",Y(p,d))})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ve(d.idToken,"internal-error"),ve(typeof d.idToken<"u","internal-error"),ve(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function gl(p){const d=vn(p);return ve(d,"internal-error"),ve(typeof d.exp<"u","internal-error"),ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var g=this;return(0,S.Z)(function*(){return ve(!g.accessToken||g.refreshToken,d,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,S.Z)(function*(){const{accessToken:v,refreshToken:I,expiresIn:V}=yield function _l(p,d){return As.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(v,I,Number(V))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:v,expirationTime:I}=h,V=new C;return g&&(ve("string"==typeof g,"internal-error",{appName:d}),V.refreshToken=g),v&&(ve("string"==typeof v,"internal-error",{appName:d}),V.accessToken=v),I&&(ve("number"==typeof I,"internal-error",{appName:d}),V.expirationTime=I),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function x(p,d){ve("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class w{constructor(d){var{uid:h,auth:g,stsTokenManager:v}=d,I=(0,pt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new as(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,S.Z)(function*(){const g=yield jn(h,h.stsTokenManager.getToken(h.auth,d));return ve(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function Tn(p){return Kt.apply(this,arguments)}(this,d)}reload(){return function Cr(p){return bo.apply(this,arguments)}(this)}_assign(d){this!==d&&(ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new w(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,S.Z)(function*(){let v=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),v=!0),h&&(yield Wi(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,S.Z)(function*(){const h=yield d.getIdToken();return yield jn(d,function An(p,d){return qt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,v,I,V,J,ye,ze,ut;const tn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Hr=null!==(v=h.email)&&void 0!==v?v:void 0,ra=null!==(I=h.phoneNumber)&&void 0!==I?I:void 0,dd=null!==(V=h.photoURL)&&void 0!==V?V:void 0,Z0=null!==(J=h.tenantId)&&void 0!==J?J:void 0,Lc=null!==(ye=h._redirectEventId)&&void 0!==ye?ye:void 0,La=null!==(ze=h.createdAt)&&void 0!==ze?ze:void 0,Y0=null!==(ut=h.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:Tf,emailVerified:a_,isAnonymous:Vc,providerData:l_,stsTokenManager:Dr}=h;ve(Tf&&Dr,d,"internal-error");const b1=C.fromJSON(this.name,Dr);ve("string"==typeof Tf,d,"internal-error"),x(tn,d.name),x(Hr,d.name),ve("boolean"==typeof a_,d,"internal-error"),ve("boolean"==typeof Vc,d,"internal-error"),x(ra,d.name),x(dd,d.name),x(Z0,d.name),x(Lc,d.name),x(La,d.name),x(Y0,d.name);const Mt=new w({uid:Tf,auth:d,email:Hr,emailVerified:a_,displayName:tn,isAnonymous:Vc,photoURL:dd,phoneNumber:ra,tenantId:Z0,stsTokenManager:b1,createdAt:La,lastLoginAt:Y0});return l_&&Array.isArray(l_)&&(Mt.providerData=l_.map(c_=>Object.assign({},c_))),Lc&&(Mt._redirectEventId=Lc),Mt}static _fromIdTokenResponse(d,h,g=!1){return(0,S.Z)(function*(){const v=new C;v.updateFromServerResponse(h);const I=new w({uid:h.localId,auth:d,stsTokenManager:v,isAnonymous:g});return yield Wi(I),I})()}}const k=new Map;function se(p){Sn(p instanceof Function,"Expected a class definition");let d=k.get(p);return d?(Sn(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,k.set(p,d),d)}const Ve=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,g){var v=this;return(0,S.Z)(function*(){v.storage[h]=g})()}_get(h){var g=this;return(0,S.Z)(function*(){const v=g.storage[h];return void 0===v?null:v})()}_remove(h){var g=this;return(0,S.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function ht(p,d,h){return`firebase:${p}:${d}:${h}`}class ln{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:v,name:I}=this.auth;this.fullUserKey=ht(this.userKey,v.apiKey,I),this.fullPersistenceKey=ht("persistence",v.apiKey,I),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?w._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,S.Z)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,S.Z)(function*(){if(!h.length)return new ln(se(Ve),d,g);const v=(yield Promise.all(h.map(function(){var ze=(0,S.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let I=v[0]||se(Ve);const V=ht(g,d.config.apiKey,d.name);let J=null;for(const ze of h)try{const ut=yield ze._get(V);if(ut){const tn=w._fromJSON(d,ut);ze!==I&&(J=tn),I=ze;break}}catch{}const ye=v.filter(ze=>ze._shouldAllowMigration);return I._shouldAllowMigration&&ye.length?(I=ye[0],J&&(yield I._set(V,J.toJSON())),yield Promise.all(h.map(function(){var ze=(0,S.Z)(function*(ut){if(ut!==I)try{yield ut._remove(V)}catch{}});return function(ut){return ze.apply(this,arguments)}}())),new ln(I,d,g)):new ln(I,d,g)})()}}function Ne(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(yl(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(kn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(B(d))return"Blackberry";if(Ee(d))return"Webos";if(tt(d))return"Safari";if((d.includes("chrome/")||tr(d))&&!d.includes("edge/"))return"Chrome";if(q(d))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function kn(p=(0,re.z$)()){return/firefox\//i.test(p)}function tt(p=(0,re.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function tr(p=(0,re.z$)()){return/crios\//i.test(p)}function yl(p=(0,re.z$)()){return/iemobile/i.test(p)}function q(p=(0,re.z$)()){return/android/i.test(p)}function B(p=(0,re.z$)()){return/blackberry/i.test(p)}function Ee(p=(0,re.z$)()){return/webos/i.test(p)}function et(p=(0,re.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Ot(p=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Ri(p=(0,re.z$)()){return et(p)||q(p)||Ee(p)||B(p)||/windows phone/i.test(p)||yl(p)}function Wt(p,d=[]){let h;switch(p){case"Browser":h=Ne((0,re.z$)());break;case"Worker":h=`${Ne((0,re.z$)())}-${p}`;break;default:h=p}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${z.SDK_VERSION}/${g}`}class Wu{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=I=>new Promise((V,J)=>{try{V(d(I))}catch(ye){J(ye)}});g.onAbort=h,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const v of h.queue)yield v(d),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const I of g)try{I()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function lg(){return(lg=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v2/passwordPolicy",Y(p,d))})).apply(this,arguments)}class wo{constructor(d){var h,g,v,I;const V=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=V.minPasswordLength)&&void 0!==h?h:6,V.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=V.maxPasswordLength),void 0!==V.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=V.containsLowercaseCharacter),void 0!==V.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=V.containsUppercaseCharacter),void 0!==V.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=V.containsNumericCharacter),void 0!==V.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=V.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(I=d.forceUpgradeOnSignin)&&void 0!==I&&I,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,v,I,V,J;const ye={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,ye),this.validatePasswordCharacterOptions(d,ye),ye.isValid&&(ye.isValid=null===(h=ye.meetsMinPasswordLength)||void 0===h||h),ye.isValid&&(ye.isValid=null===(g=ye.meetsMaxPasswordLength)||void 0===g||g),ye.isValid&&(ye.isValid=null===(v=ye.containsLowercaseLetter)||void 0===v||v),ye.isValid&&(ye.isValid=null===(I=ye.containsUppercaseLetter)||void 0===I||I),ye.isValid&&(ye.isValid=null===(V=ye.containsNumericCharacter)||void 0===V||V),ye.isValid&&(ye.isValid=null===(J=ye.containsNonAlphanumericCharacter)||void 0===J||J),ye}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),v&&(h.meetsMaxPasswordLength=d.length<=v)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let v=0;v<d.length;v++)g=d.charAt(v),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,v,I){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=I))}}class AF{constructor(d,h,g,v){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=se(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var v,I;if(!g._deleted&&(g.persistenceManager=yield ln.create(g,d),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(I=g.currentUser)||void 0===I?void 0:I.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,S.Z)(function*(){var g;const v=yield h.assertedPersistence.getCurrentUser();let I=v,V=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,ye=I?._redirectEventId,ze=yield h.tryRedirectSignIn(d);(!J||J===ye)&&ze?.user&&(I=ze.user,V=!0)}if(!I)return h.directlySetCurrentUser(null);if(!I._redirectEventId){if(V)try{yield h.beforeStateQueue.runMiddleware(I)}catch(J){I=v,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(J))}return I?h.reloadAndSetCurrentUserOrClear(I):h.directlySetCurrentUser(null)}return ve(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===I._redirectEventId?h.directlySetCurrentUser(I):h.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(d){var h=this;return(0,S.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,S.Z)(function*(){try{yield Wi(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,S.Z)(function*(){const g=d?(0,re.m9)(d):null;return g&&ve(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,S.Z)(function*(){if(!g._deleted)return d&&ve(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,S.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(se(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,S.Z)(function*(){const h=yield function SF(p){return lg.apply(this,arguments)}(d),g=new wo(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new re.LL("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(v.tenantId=h.tenantId),yield function F(p,d){return O.apply(this,arguments)}(h,v)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,S.Z)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(h);return null===d?v.removeCurrentUser():v.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const g=d&&se(d)||h._popupRedirectResolver;ve(g,h,"argument-error"),h.redirectPersistenceManager=yield ln.create(h,[se(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,S.Z)(function*(){var g,v;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,S.Z)(function*(){if(d===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,v){if(this._deleted)return()=>{};const I="function"==typeof h?h:h.next.bind(h);let V=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(J,this,"internal-error"),J.then(()=>{V||I(this.currentUser)}),"function"==typeof h){const ye=d.addObserver(h,g,v);return()=>{V=!0,ye()}}{const ye=d.addObserver(h);return()=>{V=!0,ye()}}}directlySetCurrentUser(d){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const v=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const I=yield d._getAppCheckToken();return I&&(g["X-Firebase-AppCheck"]=I),g})()}_getAppCheckToken(){var d=this;return(0,S.Z)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function Ei(p,...d){_t.logLevel<=Je.in.WARN&&_t.warn(`Auth (${z.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function fi(p){return(0,re.m9)(p)}class Mx{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,re.ne)(h=>this.observer=h)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kb(p){return new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=d,g.onerror=v=>{const I=$t("internal-error");I.customData=v,h(I)},g.type="text/javascript",g.charset="UTF-8",function vl(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(g)})}function Nx(p){return`__${p}${Math.floor(1e6*Math.random())}`}class Px{constructor(d){this.type="recaptcha-enterprise",this.auth=fi(d)}verify(d="verify",h=!1){var g=this;return(0,S.Z)(function*(){function I(){return I=(0,S.Z)(function*(J){if(!h){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var ye=(0,S.Z)(function*(ze,ut){Ae(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Hr=new j(tn);return null==J.tenantId?J._agentRecaptchaConfig=Hr:J._tenantRecaptchaConfigs[J.tenantId]=Hr,ze(Hr.siteKey)}ut(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{ut(tn)})});return function(ze,ut){return ye.apply(this,arguments)}}())}),I.apply(this,arguments)}function V(J,ye,ze){const ut=window.grecaptcha;G(ut)?ut.enterprise.ready(()=>{ut.enterprise.execute(J,{action:d}).then(tn=>{ye(tn)}).catch(()=>{ye("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,ye)=>{(function v(J){return I.apply(this,arguments)})(g.auth).then(ze=>{if(!h&&G(window.grecaptcha))V(ze,J,ye);else{if(typeof window>"u")return void ye(new Error("RecaptchaVerifier is only supported in browser"));Kb("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{V(ze,J,ye)}).catch(ut=>{ye(ut)})}}).catch(ze=>{ye(ze)})})})()}}function Zb(p,d,h){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,S.Z)(function*(p,d,h,g=!1){const v=new Px(p);let I;try{I=yield v.verify(h)}catch{I=yield v.verify(h,!0)}const V=Object.assign({},d);return Object.assign(V,g?{captchaResp:I}:{captchaResponse:I}),Object.assign(V,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(V,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),V})).apply(this,arguments)}function Tr(p,d,h,g){return mt.apply(this,arguments)}function mt(){return mt=(0,S.Z)(function*(p,d,h,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const I=yield Zb(p,d,h,"getOobCode"===h);return g(p,I)}return g(p,d).catch(function(){var I=(0,S.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield Zb(p,d,h,"getOobCode"===h);return g(p,J)}return Promise.reject(V)});return function(V){return I.apply(this,arguments)}}())}),mt.apply(this,arguments)}function Fx(p,d,h){const g=fi(p);ve(g._canInitEmulator,g,"emulator-config-failed"),ve(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const v=!!h?.disableWarnings,I=Ye(d),{host:V,port:J}=function Ph(p){const d=Ye(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const I=v[1];return{host:I,port:Xb(g.substr(I.length+1))}}{const[I,V]=g.split(":");return{host:I,port:Xb(V)}}}(d);g.config.emulator={url:`${I}//${V}${null===J?"":`:${J}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:V,port:J,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Jb(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Ye(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function Xb(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class _c{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Gt("not implemented")}_getIdTokenResponse(d){return Gt("not implemented")}_linkToIdToken(d,h){return Gt("not implemented")}_getReauthenticationResolver(d){return Gt("not implemented")}}function Gu(p,d){return yc.apply(this,arguments)}function yc(){return(yc=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:resetPassword",Y(p,d))})).apply(this,arguments)}function Fh(){return(Fh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lx(p,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Lh(){return(Lh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",Y(p,d))})).apply(this,arguments)}function to(p,d){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPassword",Y(p,d))})).apply(this,arguments)}function hg(p,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendOobCode",Y(p,d))})).apply(this,arguments)}function e0(){return(e0=(0,S.Z)(function*(p,d){return hg(p,d)})).apply(this,arguments)}function ae(p,d){return qu.apply(this,arguments)}function qu(){return(qu=(0,S.Z)(function*(p,d){return hg(p,d)})).apply(this,arguments)}function fg(p,d){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,S.Z)(function*(p,d){return hg(p,d)})).apply(this,arguments)}function mg(){return(mg=(0,S.Z)(function*(p,d){return hg(p,d)})).apply(this,arguments)}function t0(){return(t0=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}function n0(){return(n0=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}class Uh extends _c{constructor(d,h,g,v=null){super("password",g),this._email=d,this._password=h,this._tenantId=v}static _fromEmailAndPassword(d,h){return new Uh(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new Uh(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return Tr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function gg(p,d){return t0.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,S.Z)(function*(){switch(g.signInMethod){case"password":return Tr(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lx);case"emailLink":return function PF(p,d){return n0.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Da(p,d){return bl.apply(this,arguments)}function bl(){return(bl=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithIdp",Y(p,d))})).apply(this,arguments)}class Eo extends _c{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Eo(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Rt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:v}=h,I=(0,pt._T)(h,["providerId","signInMethod"]);if(!g||!v)return null;const V=new Eo(g,v);return V.idToken=I.idToken||void 0,V.accessToken=I.accessToken||void 0,V.secret=I.secret,V.nonce=I.nonce,V.pendingToken=I.pendingToken||null,V}_getIdTokenResponse(d){return Da(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,Da(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Da(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,re.xO)(h)}return d}}function yg(){return(yg=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendVerificationCode",Y(p,d))})).apply(this,arguments)}function jh(){return(jh=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d))})).apply(this,arguments)}function vg(){return(vg=(0,S.Z)(function*(p,d){const h=yield we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d));if(h.temporaryProof)throw Un(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Sa={USER_NOT_FOUND:"user-not-found"};function P(){return(P=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Sa)})).apply(this,arguments)}class Aa extends _c{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Aa({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Aa({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function Bx(p,d){return jh.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function vc(p,d){return vg.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ux(p,d){return P.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:v}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:v}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:v,temporaryProof:I}=d;return g||h||v||I?new Aa({verificationId:h,verificationCode:g,phoneNumber:v,temporaryProof:I}):null}}class wl{constructor(d){var h,g,v,I,V,J;const ye=(0,re.zd)((0,re.pd)(d)),ze=null!==(h=ye.apiKey)&&void 0!==h?h:null,ut=null!==(g=ye.oobCode)&&void 0!==g?g:null,tn=function xe(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=ye.mode)&&void 0!==v?v:null);ve(ze&&ut&&tn,"argument-error"),this.apiKey=ze,this.operation=tn,this.code=ut,this.continueUrl=null!==(I=ye.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(V=ye.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(J=ye.tenantId)&&void 0!==J?J:null}static parseLink(d){const h=function Hh(p){const d=(0,re.zd)((0,re.pd)(p)).link,h=d?(0,re.zd)((0,re.pd)(d)).deep_link_id:null,g=(0,re.zd)((0,re.pd)(p)).deep_link_id;return(g?(0,re.zd)((0,re.pd)(g)).link:null)||g||h||d||p}(d);try{return new wl(h)}catch{return null}}}let bg=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return Uh._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const v=wl.parseLink(g);return ve(v,"argument-error"),Uh._fromEmailAndCode(h,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Js{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class bc extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Co extends bc{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ve("providerId"in h&&"signInMethod"in h,"argument-error"),Eo._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ve(d.idToken||d.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Co.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Co.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:I,nonce:V,providerId:J}=d;if(!g&&!v&&!h&&!I||!J)return null;try{return new Co(J)._credential({idToken:h,accessToken:g,nonce:V,pendingToken:I})}catch{return null}}}let $h=(()=>{class p extends bc{constructor(){super("facebook.com")}static credential(h){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Uo=(()=>{class p extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v}=h;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Rs=(()=>{class p extends bc{constructor(){super("github.com")}static credential(h){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class ea extends _c{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Da(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,Da(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Da(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:v,pendingToken:I}=h;return g&&v&&I&&g===v?new ea(g,I):null}static _create(d,h){return new ea(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wc extends Js{constructor(d){ve(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return wc.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return wc.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=ea.fromJSON(d);return ve(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return ea._create(g,h)}catch{return null}}}let r0=(()=>{class p extends bc{constructor(){super("twitter.com")}static credential(h,g){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=h;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function ks(p,d){return El.apply(this,arguments)}function El(){return(El=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signUp",Y(p,d))})).apply(this,arguments)}class To{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,v=!1){return(0,S.Z)(function*(){const I=yield w._fromIdTokenResponse(d,g,v),V=Eg(g);return new To({user:I,providerId:V,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(g,!0);const v=Eg(g);return new To({user:d,providerId:v,_tokenResponse:g,operationType:h})})()}}function Eg(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Cg(p){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,S.Z)(function*(p){var d;const h=fi(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new To({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield ks(h,{returnSecureToken:!0}),v=yield To._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(v.user),v})).apply(this,arguments)}class Ku extends re.ZR{constructor(d,h,g,v){var I;super(h.code,h.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:d.name,tenantId:null!==(I=d.tenantId)&&void 0!==I?I:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,v){return new Ku(d,h,g,v)}}function Ec(p,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Ku._fromErrorAndOperation(p,I,d,g):I})}function Tg(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function o0(p,d){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p);yield qh(!0,h,d);const{providerUserInfo:g}=yield function Bt(p,d){return Rn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),v=Tg(g||[]);return h.providerData=h.providerData.filter(I=>v.has(I.providerId)),v.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Ig.apply(this,arguments)}function Gh(p,d){return xg.apply(this,arguments)}function xg(){return(xg=(0,S.Z)(function*(p,d,h=!1){const g=yield jn(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return To._forOperation(p,"link",g)})).apply(this,arguments)}function qh(p,d,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,S.Z)(function*(p,d,h){yield Wi(d);const v=!1===p?"provider-already-linked":"no-such-provider";ve(Tg(d.providerData).has(h)===p,d.auth,v)})).apply(this,arguments)}function s0(p,d){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,S.Z)(function*(p,d,h=!1){const{auth:g}=p,v="reauthenticate";try{const I=yield jn(p,Ec(g,v,d,p),h);ve(I.idToken,g,"internal-error");const V=vn(I.idToken);ve(V,g,"internal-error");const{sub:J}=V;return ve(p.uid===J,g,"user-mismatch"),To._forOperation(p,v,I)}catch(I){throw"auth/user-not-found"===I?.code&&Rt(g,"user-mismatch"),I}})).apply(this,arguments)}function a0(p,d){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,S.Z)(function*(p,d,h=!1){const g="signIn",v=yield Ec(p,g,d),I=yield To._fromIdTokenResponse(p,g,v);return h||(yield p._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Zh(p,d){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,S.Z)(function*(p,d){return a0(fi(p),d)})).apply(this,arguments)}function Ag(p,d){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p);return yield qh(!1,h,d.providerId),Gh(h,d)})).apply(this,arguments)}function l0(p,d){return kg.apply(this,arguments)}function kg(){return(kg=(0,S.Z)(function*(p,d){return s0((0,re.m9)(p),d)})).apply(this,arguments)}function Mg(){return(Mg=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithCustomToken",Y(p,d))})).apply(this,arguments)}function jx(p,d){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,S.Z)(function*(p,d){const h=fi(p),g=yield function yt(p,d){return Mg.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),v=yield To._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(v.user),v}),Ng.apply(this,arguments)}class Ke{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Og._fromServerResponse(d,h):"totpInfo"in h?Yh._fromServerResponse(d,h):Rt(d,"internal-error")}}class Og extends Ke{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Og(h)}}class Yh extends Ke{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new Yh(h)}}function X(p,d,h){var g;ve((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ve(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ve(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ve(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Gi(p){return en.apply(this,arguments)}function en(){return(en=(0,S.Z)(function*(p){const d=fi(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function lr(p,d,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,S.Z)(function*(p,d,h){const g=fi(p),v={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&X(g,v,h),yield Tr(g,v,"getOobCode",ae)})).apply(this,arguments)}function Cc(p,d,h){return Br.apply(this,arguments)}function Br(){return Br=(0,S.Z)(function*(p,d,h){yield Gu((0,re.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var g=(0,S.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Gi(p),v});return function(v){return g.apply(this,arguments)}}())}),Br.apply(this,arguments)}function c0(p,d){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,S.Z)(function*(p,d){yield function dg(p,d){return Lh.apply(this,arguments)}((0,re.m9)(p),{oobCode:d})}),Qh.apply(this,arguments)}function Zu(p,d){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p),g=yield Gu(h,{oobCode:d}),v=g.requestType;switch(ve(v,h,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(g.mfaInfo,h,"internal-error");default:ve(g.email,h,"internal-error")}let I=null;return g.mfaInfo&&(I=Ke._fromServerResponse(fi(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:I},operation:v}})).apply(this,arguments)}function Hx(p,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,S.Z)(function*(p,d){const{data:h}=yield Zu((0,re.m9)(p),d);return h.email})).apply(this,arguments)}function Pe(p,d,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,S.Z)(function*(p,d,h){const g=fi(p),V=yield Tr(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ks).catch(ye=>{throw"auth/password-does-not-meet-requirements"===ye.code&&Gi(p),ye}),J=yield To._fromIdTokenResponse(g,"signIn",V);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}function ii(p,d,h){return Zh((0,re.m9)(p),bg.credential(d,h)).catch(function(){var g=(0,S.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Gi(p),v});return function(v){return g.apply(this,arguments)}}())}function ls(p,d,h){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,S.Z)(function*(p,d,h){const g=fi(p),v={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function I(V,J){ve(J.handleCodeInApp,g,"argument-error"),J&&X(g,V,J)})(v,h),yield Tr(g,v,"getOobCode",fg)})).apply(this,arguments)}function Ir(p,d){const h=wl.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function Tc(p,d,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),v=bg.credentialWithLink(d,h||ei());return ve(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Zh(g,v)})).apply(this,arguments)}function ka(){return(ka=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:createAuthUri",Y(p,d))})).apply(this,arguments)}function It(p,d){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,S.Z)(function*(p,d){const g={identifier:d,continueUri:Kn()?ei():"http://localhost"},{signinMethods:v}=yield function Ra(p,d){return ka.apply(this,arguments)}((0,re.m9)(p),g);return v||[]}),Tl.apply(this,arguments)}function u0(p,d){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&X(h.auth,v,d);const{email:I}=yield function OF(p,d){return e0.apply(this,arguments)}(h.auth,v);I!==p.email&&(yield p.reload())}),Ma.apply(this,arguments)}function ki(p,d,h){return Il.apply(this,arguments)}function Il(){return Il=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&X(g.auth,I,h);const{email:V}=yield function pg(p,d){return mg.apply(this,arguments)}(g.auth,I);V!==p.email&&(yield p.reload())}),Il.apply(this,arguments)}function jo(){return(jo=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Yu(p,d){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,S.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,re.m9)(p),I={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},V=yield jn(g,function Ic(p,d){return jo.apply(this,arguments)}(g.auth,I));g.displayName=V.displayName||null,g.photoURL=V.photoUrl||null;const J=g.providerData.find(({providerId:ye})=>"password"===ye);J&&(J.displayName=g.displayName,J.photoURL=g.photoURL),yield g._updateTokensIfNecessary(V)}),Xh.apply(this,arguments)}function Na(p,d){return xc((0,re.m9)(p),d,null)}function ta(p,d){return xc((0,re.m9)(p),null,d)}function xc(p,d,h){return xl.apply(this,arguments)}function xl(){return xl=(0,S.Z)(function*(p,d,h){const{auth:g}=p,I={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(I.email=d),h&&(I.password=h);const V=yield jn(p,function ug(p,d){return Fh.apply(this,arguments)}(g,I));yield p._updateTokensIfNecessary(V,!0)}),xl.apply(this,arguments)}class Qu{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class Jh extends Qu{constructor(d,h,g,v){super(d,h,g),this.username=v}}class d0 extends Qu{constructor(d,h){super(d,"facebook.com",h)}}class Ms extends Jh{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class ef extends Qu{constructor(d,h){super(d,"google.com",h)}}class Dc extends Jh{constructor(d,h,g){super(d,"twitter.com",h,g)}}function Xu(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Zt(p){var d,h;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},I=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const V=null===(h=null===(d=vn(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(V)return new Qu(I,"anonymous"!==V&&"custom"!==V?V:null)}if(!g)return null;switch(g){case"facebook.com":return new d0(I,v);case"github.com":return new Ms(I,v);case"google.com":return new ef(I,v);case"twitter.com":return new Dc(I,v,p.screenName||null);case"custom":case"anonymous":return new Qu(I,null);default:return new Qu(I,g,v)}}(h)}class Sl{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new Sl("enroll",d,h)}static _fromMfaPendingCredential(d){return new Sl("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Sl._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return Sl._fromIdtoken(d.multiFactorSession.idToken)}return null}}class f0{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=fi(d),v=h.customData._serverResponse,I=(v.mfaInfo||[]).map(J=>Ke._fromServerResponse(g,J));ve(v.mfaPendingCredential,g,"internal-error");const V=Sl._fromMfaPendingCredential(v.mfaPendingCredential);return new f0(V,I,function(){var J=(0,S.Z)(function*(ye){const ze=yield ye._process(g,V);delete v.mfaInfo,delete v.mfaPendingCredential;const ut=Object.assign(Object.assign({},v),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(h.operationType){case"signIn":const tn=yield To._fromIdTokenResponse(g,h.operationType,ut);return yield g._updateCurrentUser(tn.user),tn;case"reauthenticate":return ve(h.user,g,"internal-error"),To._forOperation(h.user,h.operationType,ut);default:Rt(g,"internal-error")}});return function(ye){return J.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,S.Z)(function*(){return h.signInResolver(d)})()}}function VF(p,d){var h;const g=(0,re.m9)(p),v=d;return ve(d.customData.operationType,g,"argument-error"),ve(null===(h=v.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),f0._fromError(g,v)}class p0{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Ke._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new p0(d)}getSession(){var d=this;return(0,S.Z)(function*(){return Sl._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,S.Z)(function*(){const v=d,I=yield g.getSession(),V=yield jn(g.user,v._process(g.user.auth,I,h));return yield g.user._updateTokensIfNecessary(V),g.user.reload()})()}unenroll(d){var h=this;return(0,S.Z)(function*(){const g="string"==typeof d?d:d.uid,v=yield h.user.getIdToken();try{const I=yield jn(h.user,function HF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(p,d))}(h.user.auth,{idToken:v,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:V})=>V!==g),yield h.user._updateTokensIfNecessary(I),yield h.user.reload()}catch(I){throw I}})()}}const m0=new WeakMap;function zF(p){const d=(0,re.m9)(p);return m0.has(d)||m0.set(d,p0._fromUser(d)),m0.get(d)}const Bg="__sak";class zx{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Bg,"1"),this.storage.removeItem(Bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const $x=(()=>{class p extends zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function g0(){const p=(0,re.z$)();return tt(p)||et(p)}()&&function Ze(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ri(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),I=this.localCache[g];v!==I&&h(g,I,v)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((J,ye,ze)=>{this.notifyListeners(J,ze)});const v=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(v);if(h.newValue!==J)null!==h.newValue?this.storage.setItem(v,h.newValue):this.storage.removeItem(v);else if(this.localCache[v]===h.newValue&&!g)return}const I=()=>{const J=this.storage.getItem(v);!g&&this.localCache[v]===J||this.notifyListeners(v,J)},V=this.storage.getItem(v);!function K(){return(0,re.w1)()&&10===document.documentMode}()||V===h.newValue||h.newValue===h.oldValue?I():setTimeout(I,10)}notifyListeners(h,g){this.localCache[h]=g;const v=this.listeners[h];if(v)for(const I of Array.from(v))I(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var v=()=>super._set,I=this;return(0,S.Z)(function*(){yield v().call(I,h,g),I.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,v=this;return(0,S.Z)(function*(){const I=yield g().call(v,h);return v.localCache[h]=JSON.stringify(I),I})()}_remove(h){var g=()=>super._remove,v=this;return(0,S.Z)(function*(){yield g().call(v,h),delete v.localCache[h]})()}}return p.type="LOCAL",p})(),Os=(()=>{class p extends zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let GF=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(I=>I.isListeningto(h));if(g)return g;const v=new p(h);return this.receivers.push(v),v}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,S.Z)(function*(){const v=h,{eventId:I,eventType:V,data:J}=v.data,ye=g.handlersMap[V];if(!ye?.size)return;v.ports[0].postMessage({status:"ack",eventId:I,eventType:V});const ze=Array.from(ye).map(function(){var tn=(0,S.Z)(function*(Hr){return Hr(v.origin,J)});return function(Hr){return tn.apply(this,arguments)}}()),ut=yield function WF(p){return Promise.all(p.map(function(){var d=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(ze);v.ports[0].postMessage({status:"done",eventId:I,eventType:V,response:ut})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Mi(p="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return p+h}class tf{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var v=this;return(0,S.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let V,J;return new Promise((ye,ze)=>{const ut=Mi("",20);I.port1.start();const tn=setTimeout(()=>{ze(new Error("unsupported_event"))},g);J={messageChannel:I,onMessage(Hr){const ra=Hr;if(ra.data.eventId===ut)switch(ra.data.status){case"ack":clearTimeout(tn),V=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),ye(ra.data.response);break;default:clearTimeout(tn),clearTimeout(V),ze(new Error("invalid_response"))}}},v.handlers.add(J),I.port1.addEventListener("message",J.onMessage),v.target.postMessage({eventType:d,eventId:ut,data:h},[I.port2])}).finally(()=>{J&&v.removeMessageHandler(J)})})()}}function bn(){return window}function nf(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function rf(){return(rf=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sf="firebaseLocalStorageDb",Ju="firebaseLocalStorage",Hg="fbase_key";class Ac{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Al(p,d){return p.transaction([Ju],d?"readwrite":"readonly").objectStore(Ju)}function Oa(){const p=indexedDB.open(sf,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Ju,{keyPath:Hg})}catch(v){h(v)}}),p.addEventListener("success",(0,S.Z)(function*(){const g=p.result;g.objectStoreNames.contains(Ju)?d(g):(g.close(),yield function ed(){const p=indexedDB.deleteDatabase(sf);return new Ac(p).toPromise()}(),d(yield Oa()))}))})}function zg(p,d,h){return w0.apply(this,arguments)}function w0(){return(w0=(0,S.Z)(function*(p,d,h){const g=Al(p,!0).put({[Hg]:d,value:h});return new Ac(g).toPromise()})).apply(this,arguments)}function E0(){return(E0=(0,S.Z)(function*(p,d){const h=Al(p,!1).get(d),g=yield new Ac(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function C0(p,d){const h=Al(p,!0).delete(d);return new Ac(h).toPromise()}const af=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield Oa()),h.db})()}_withRetries(h){var g=this;return(0,S.Z)(function*(){let v=0;for(;;)try{const I=yield g._openDb();return yield h(I)}catch(I){if(v++>3)throw I;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return nf()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=GF._getInstance(function b0(){return nf()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,S.Z)(function*(v,I){return{keyProcessed:(yield h._poll()).includes(I.key)}});return function(v,I){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,S.Z)(function*(v,I){return["keyChanged"]});return function(v,I){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var g,v;if(h.activeServiceWorker=yield function v0(){return rf.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new tf(h.activeServiceWorker);const I=yield h.sender._send("ping",{},800);I&&null!==(g=I[0])&&void 0!==g&&g.fulfilled&&null!==(v=I[0])&&void 0!==v&&v.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,S.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Ug(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Oa();return yield zg(h,Bg,"1"),yield C0(h,Bg),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,S.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var v=this;return(0,S.Z)(function*(){return v._withPendingWrite((0,S.Z)(function*(){return yield v._withRetries(I=>zg(I,h,g)),v.localCache[h]=g,v.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,S.Z)(function*(){const v=yield g._withRetries(I=>function qF(p,d){return E0.apply(this,arguments)}(I,h));return g.localCache[h]=v,v})()}_remove(h){var g=this;return(0,S.Z)(function*(){return g._withPendingWrite((0,S.Z)(function*(){return yield g._withRetries(v=>C0(v,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const g=yield h._withRetries(V=>{const J=Al(V,!1).getAll();return new Ac(J).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const v=[],I=new Set;for(const{fbase_key:V,value:J}of g)I.add(V),JSON.stringify(h.localCache[V])!==JSON.stringify(J)&&(h.notifyListeners(V,J),v.push(V));for(const V of Object.keys(h.localCache))h.localCache[V]&&!I.has(V)&&(h.notifyListeners(V,null),v.push(V));return v})()}notifyListeners(h,g){this.localCache[h]=g;const v=this.listeners[h];if(v)for(const I of Array.from(v))I(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),td=1e12;class T0{constructor(d){this.auth=d,this.counter=td,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new Zx(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||td;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||td))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,S.Z)(function*(){var g;return null===(g=h._widgets.get(d||td))||void 0===g||g.execute(),""})()}}class Zx{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof d?document.getElementById(d):d;ve(v,"argument-error",{appName:h}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yx(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wg=Nx("rcb"),I0=new Er(3e4,6e4);class x0{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=bn().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ve(function Xx(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&hi(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((g,v)=>{const I=bn().setTimeout(()=>{v($t(d,"network-request-failed"))},I0.get());bn()[Wg]=()=>{bn().clearTimeout(I),delete bn()[Wg];const J=bn().grecaptcha;if(!J||!hi(J))return void v($t(d,"internal-error"));const ye=J.render;J.render=(ze,ut)=>{const tn=ye(ze,ut);return this.counter++,tn},this.hostLanguage=h,g(J)},Kb(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:Wg,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(I),v($t(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=bn().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class QF{load(d){return(0,S.Z)(function*(){return new T0(d)})()}clearedOneInstance(){}}const D0="recaptcha",Yn={theme:"light",type:"image"};class S0{constructor(d,h,g=Object.assign({},Yn)){this.parameters=g,this.type=D0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(d),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof h?document.getElementById(h):h;ve(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QF:new x0,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(I=>{const V=J=>{J&&(d.tokenChangeListeners.delete(V),I(J))};d.tokenChangeListeners.add(V),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=bn()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){ve(Kn()&&!nf(),d.auth,"internal-error"),yield function Jx(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ee(p){return fe.apply(this,arguments)}(d.auth);ve(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gg{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Aa._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function A0(p,d,h){return lf.apply(this,arguments)}function lf(){return(lf=(0,S.Z)(function*(p,d,h){const g=fi(p),v=yield id(g,d,(0,re.m9)(h));return new Gg(v,I=>Zh(g,I))})).apply(this,arguments)}function e1(p,d,h){return nd.apply(this,arguments)}function nd(){return(nd=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);yield qh(!1,g,"phone");const v=yield id(g.auth,d,(0,re.m9)(h));return new Gg(v,I=>Ag(g,I))})).apply(this,arguments)}function t1(p,d,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),v=yield id(g.auth,d,(0,re.m9)(h));return new Gg(v,I=>l0(g,I))})).apply(this,arguments)}function id(p,d,h){return cf.apply(this,arguments)}function cf(){return cf=(0,S.Z)(function*(p,d,h){var g;const v=yield h.verify();try{let I;if(ve("string"==typeof v,p,"argument-error"),ve(h.type===D0,p,"argument-error"),I="string"==typeof d?{phoneNumber:d}:d,"session"in I){const V=I.session;if("phoneNumber"in I)return ve("enroll"===V.type,p,"internal-error"),(yield function BF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:start",Y(p,d))}(p,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ve("signin"===V.type,p,"internal-error");const J=(null===(g=I.multiFactorHint)||void 0===g?void 0:g.uid)||I.multiFactorUid;return ve(J,p,"missing-multi-factor-info"),(yield function qx(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:start",Y(p,d))}(p,{mfaPendingCredential:V.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield function Vx(p,d){return yg.apply(this,arguments)}(p,{phoneNumber:I.phoneNumber,recaptchaToken:v});return V}}finally{h._reset()}}),cf.apply(this,arguments)}function Hn(p,d){return rd.apply(this,arguments)}function rd(){return(rd=(0,S.Z)(function*(p,d){yield Gh((0,re.m9)(p),d)})).apply(this,arguments)}let uf=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=fi(h)}verifyPhoneNumber(h,g){return id(this.auth,h,(0,re.m9)(g))}static credential(h,g){return Aa._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:v}=h;return g&&v?Aa._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Li(p,d){return d?se(d):(ve(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class qg extends _c{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Da(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Da(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Da(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function R0(p){return a0(p.auth,new qg(p),p.bypassAuthState)}function Rc(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),s0(h,new qg(p),p.bypassAuthState)}function Do(p){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,S.Z)(function*(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),Gh(h,new qg(p),p.bypassAuthState)})).apply(this,arguments)}class k0{constructor(d,h,g,v,I=!1){this.auth=d,this.resolver=g,this.user=v,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,S.Z)(function*(g,v){d.pendingPromise={resolve:g,reject:v};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(I){d.reject(I)}});return function(g,v){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,S.Z)(function*(){const{urlResponse:g,sessionId:v,postBody:I,tenantId:V,error:J,type:ye}=d;if(J)return void h.reject(J);const ze={auth:h.auth,requestUri:g,sessionId:v,tenantId:V||void 0,postBody:I||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ye)(ze))}catch(ut){h.reject(ut)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return R0;case"linkViaPopup":case"linkViaRedirect":return Do;case"reauthViaPopup":case"reauthViaRedirect":return Rc;default:Rt(this.auth,"internal-error")}}resolve(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n1=new Er(2e3,1e4);function Pa(p,d,h){return df.apply(this,arguments)}function df(){return(df=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Js);const v=Li(g,h);return new Zg(g,"signInViaPopup",d,v).executeNotNull()})).apply(this,arguments)}function r1(p,d,h){return hf.apply(this,arguments)}function hf(){return(hf=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js);const v=Li(g.auth,h);return new Zg(g.auth,"reauthViaPopup",d,v,g).executeNotNull()})).apply(this,arguments)}function M0(p,d,h){return ff.apply(this,arguments)}function ff(){return(ff=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js);const v=Li(g.auth,h);return new Zg(g.auth,"linkViaPopup",d,v,g).executeNotNull()})).apply(this,arguments)}let Zg=(()=>{class p extends k0{constructor(h,g,v,I,V){super(h,g,I,V),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const g=yield h.execute();return ve(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,S.Z)(function*(){Sn(1===h.filter.length,"Popup operations only handle one event");const g=Mi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(v=>{h.reject(v)}),h.resolver._isIframeWebStorageSupported(h.auth,v=>{v||h.reject($t(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,n1.get())};h()}}return p.currentPopupAction=null,p})();const vt="pendingRedirect",kc=new Map;class XF extends k0{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,S.Z)(function*(){let g=kc.get(h.auth._key());if(!g){try{const I=(yield function o1(p,d){return Yg.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(I)}catch(v){g=()=>Promise.reject(v)}kc.set(h.auth._key(),g)}return h.bypassAuthState||kc.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const v=yield g.auth._redirectUserForId(d.eventId);if(v)return g.user=v,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function Yg(){return(Yg=(0,S.Z)(function*(p,d){const h=P0(d),g=O0(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(h));return yield g._remove(h),v})).apply(this,arguments)}function Qg(p,d){return pf.apply(this,arguments)}function pf(){return(pf=(0,S.Z)(function*(p,d){return O0(p)._set(P0(d),"true")})).apply(this,arguments)}function Mc(){kc.clear()}function N0(p,d){kc.set(p._key(),d)}function O0(p){return se(p._redirectPersistence)}function P0(p){return ht(vt,p.config.apiKey,p.name)}function s1(p,d,h){return function a1(p,d,h){return ge.apply(this,arguments)}(p,d,h)}function ge(){return(ge=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Js),yield g._initializationPromise;const v=Li(g,h);return yield Qg(v,g),v._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function cn(p,d,h){return function Ge(p,d,h){return He.apply(this,arguments)}(p,d,h)}function He(){return(He=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js),yield g.auth._initializationPromise;const v=Li(g.auth,h);yield Qg(v,g.auth);const I=yield l1(g);return v._openRedirect(g.auth,d,"reauthViaRedirect",I)})).apply(this,arguments)}function dr(p,d,h){return function F0(p,d,h){return Rl.apply(this,arguments)}(p,d,h)}function Rl(){return(Rl=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js),yield g.auth._initializationPromise;const v=Li(g.auth,h);yield qh(!1,g,d.providerId),yield Qg(v,g.auth);const I=yield l1(g);return v._openRedirect(g.auth,d,"linkViaRedirect",I)})).apply(this,arguments)}function Ps(p,d){return od.apply(this,arguments)}function od(){return(od=(0,S.Z)(function*(p,d){return yield fi(p)._initializationPromise,sd(p,d,!1)})).apply(this,arguments)}function sd(p,d){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,S.Z)(function*(p,d,h=!1){const g=fi(p),v=Li(g,d),V=yield new XF(g,v,h).execute();return V&&!h&&(delete V.user._redirectEventId,yield g._persistUserIfCurrent(V.user),yield g._setRedirectUser(null,d)),V})).apply(this,arguments)}function l1(p){return mf.apply(this,arguments)}function mf(){return(mf=(0,S.Z)(function*(p){const d=Mi(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class Fs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function na(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!kl(d)){const v=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError($t(this.auth,v))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jg(d))}saveEventToCache(d){this.cachedEventUids.add(Jg(d)),this.lastProcessedEventTime=Date.now()}}function Jg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function kl({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function L0(p){return gf.apply(this,arguments)}function gf(){return(gf=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v1/projects",d)})).apply(this,arguments)}const c1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u1=/^https?/;function ad(){return(ad=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield L0(p);for(const h of d)try{if(V0(h))return}catch{}Rt(p,"unauthorized-domain")})).apply(this,arguments)}function V0(p){const d=ei(),{protocol:h,hostname:g}=new URL(d);if(p.startsWith("chrome-extension://")){const V=new URL(p);return""===V.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&V.hostname===g}if(!u1.test(h))return!1;if(c1.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const t_=new Er(3e4,6e4);function B0(){const p=bn().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Nc=null;const H0=new Er(5e3,15e3),z0="__/auth/iframe",$0="emulator/auth/iframe",n_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h1(p){const d=p.config;ve(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?yo(d,$0):`https://${p.config.authDomain}/${z0}`,g={apiKey:d.apiKey,appName:p.name,v:z.SDK_VERSION},v=d1.get(p.config.apiHost);v&&(g.eid=v);const I=p._getFrameworks();return I.length&&(g.fw=I.join(",")),`${h}?${(0,re.xO)(g).slice(1)}`}function ia(){return ia=(0,S.Z)(function*(p){const d=yield function j0(p){return Nc=Nc||function U0(p){return new Promise((d,h)=>{var g,v,I;function V(){B0(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{B0(),h($t(p,"network-request-failed"))},timeout:t_.get()})}if(null!==(v=null===(g=bn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)d(gapi.iframes.getContext());else{if(null===(I=bn().gapi)||void 0===I||!I.load){const J=Nx("iframefcb");return bn()[J]=()=>{gapi.load?V():h($t(p,"network-request-failed"))},Kb(`https://apis.google.com/js/api.js?onload=${J}`).catch(ye=>h(ye))}V()}}).catch(d=>{throw Nc=null,d})}(p),Nc}(p),h=bn().gapi;return ve(h,p,"internal-error"),d.open({where:document.body,url:h1(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n_,dontclear:!0},g=>new Promise(function(){var v=(0,S.Z)(function*(I,V){yield g.restyle({setHideOnLeave:!1});const J=$t(p,"network-request-failed"),ye=bn().setTimeout(()=>{V(J)},H0.get());function ze(){bn().clearTimeout(ye),I(g)}g.ping(ze).then(ze,()=>{V(J)})});return function(I,V){return v.apply(this,arguments)}}()))}),ia.apply(this,arguments)}const mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class r_{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fa="__/auth/handler",m1="emulator/auth/handler",vf=encodeURIComponent("fac");function Oc(p,d,h,g,v,I){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,S.Z)(function*(p,d,h,g,v,I){ve(p.config.authDomain,p,"auth-domain-config-required"),ve(p.config.apiKey,p,"invalid-api-key");const V={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:z.SDK_VERSION,eventId:v};if(d instanceof Js){d.setDefaultLanguage(p.languageCode),V.providerId=d.providerId||"",(0,re.xb)(d.getCustomParameters())||(V.customParameters=JSON.stringify(d.getCustomParameters()));for(const[ut,tn]of Object.entries(I||{}))V[ut]=tn}if(d instanceof bc){const ut=d.getScopes().filter(tn=>""!==tn);ut.length>0&&(V.scopes=ut.join(","))}p.tenantId&&(V.tid=p.tenantId);const J=V;for(const ut of Object.keys(J))void 0===J[ut]&&delete J[ut];const ye=yield p._getAppCheckToken(),ze=ye?`#${vf}=${encodeURIComponent(ye)}`:"";return`${function o_({config:p}){return p.emulator?yo(p,m1):`https://${p.authDomain}/${Fa}`}(p)}?${(0,re.xO)(J).slice(1)}${ze}`})).apply(this,arguments)}const bf="webStorageSupport",q0=class G0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=sd,this._overrideRedirectResult=N0}_openPopup(d,h,g,v){var I=this;return(0,S.Z)(function*(){var V;Sn(null===(V=I.eventManagers[d._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const J=yield Oc(d,h,g,ei(),v);return function W0(p,d,h,g=500,v=600){const I=Math.max((window.screen.availHeight-v)/2,0).toString(),V=Math.max((window.screen.availWidth-g)/2,0).toString();let J="";const ye=Object.assign(Object.assign({},mi),{width:g.toString(),height:v.toString(),top:I,left:V}),ze=(0,re.z$)().toLowerCase();h&&(J=tr(ze)?"_blank":h),kn(ze)&&(d=d||"http://localhost",ye.scrollbars="yes");const ut=Object.entries(ye).reduce((Hr,[ra,dd])=>`${Hr}${ra}=${dd},`,"");if(function Ut(p=(0,re.z$)()){var d;return et(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(ze)&&"_self"!==J)return function yf(p,d){const h=document.createElement("a");h.href=p,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",J),new r_(null);const tn=window.open(d||"",J,ut);ve(tn,p,"popup-blocked");try{tn.focus()}catch{}return new r_(tn)}(d,J,Mi())})()}_openRedirect(d,h,g,v){var I=this;return(0,S.Z)(function*(){return yield I._originValidation(d),function y0(p){bn().location.href=p}(yield Oc(d,h,g,ei(),v)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:v,promise:I}=this.eventManagers[h];return v?Promise.resolve(v):(Sn(I,"If manager is not set, promise should be"),I)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,S.Z)(function*(){const g=yield function jr(p){return ia.apply(this,arguments)}(d),v=new Fs(d);return g.register("authEvent",I=>(ve(I?.authEvent,d,"invalid-auth-event"),{status:v.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:v},h.iframes[d._key()]=g,v})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(bf,{type:bf},v=>{var I;const V=null===(I=v?.[0])||void 0===I?void 0:I[bf];void 0!==V&&h(!!V),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function e_(p){return ad.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Ri()||tt()||et()}};class Fc{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class Ml extends Fc{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ml(d)}_finalizeEnroll(d,h,g){return function UF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:finalize",Y(p,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function $g(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:finalize",Y(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let g1=(()=>{class p{constructor(){}static assertion(h){return Ml._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var K0="@firebase/auth";class JF{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ud=(0,re.Pz)("authIdTokenMaxAge")||300;let Ef=null;const Cf=p=>function(){var d=(0,S.Z)(function*(h){const g=h&&(yield h.getIdTokenResult()),v=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(v&&v>ud)return;const I=g?.token;Ef!==I&&(Ef=I,yield fetch(p,{method:I?"POST":"DELETE",headers:I?{Authorization:`Bearer ${I}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function e2(p=(0,z.getApp)()){const d=(0,z._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function NF(p,d){const h=(0,z._getProvider)(p,"auth");if(h.isInitialized()){const v=h.getImmediate(),I=h.getOptions();if((0,re.vZ)(I,d??{}))return v;Rt(v,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:q0,persistence:[af,$x,Os]}),g=(0,re.Pz)("authTokenSyncURL");if(g){const I=Cf(g);(function Dl(p,d,h){(0,re.m9)(p).beforeAuthStateChanged(d,h)})(h,I,()=>I(h.currentUser)),function Fg(p,d,h,g){(0,re.m9)(p).onIdTokenChanged(d,h,g)}(h,V=>I(V))}const v=(0,re.q4)("auth");return v&&Fx(h,`http://${v}`),h}!function cd(p){(0,z._registerComponent)(new Wn.wA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),v=d.getProvider("heartbeat"),I=d.getProvider("app-check-internal"),{apiKey:V,authDomain:J}=g.options;ve(V&&!V.includes(":"),"invalid-api-key",{appName:g.name});const ye={apiKey:V,authDomain:J,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(p)},ze=new AF(g,v,I,ye);return function pe(p,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(se);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(g,d?.popupRedirectResolver)}(ze,h),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Wn.wA("auth-internal",d=>{const h=fi(d.getProvider("auth").getImmediate());return new JF(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(K0,"1.4.0",function s_(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,z.registerVersion)(K0,"1.4.0","esm2017")}("Browser")},58:(eo,wi,lt)=>{lt.d(wi,{BH:()=>wr,DV:()=>j,Dv:()=>dn,G6:()=>yo,GJ:()=>hi,L:()=>Xt,LL:()=>de,Pz:()=>$t,Sg:()=>Ci,UG:()=>Gt,UI:()=>fe,US:()=>Wn,Wj:()=>jn,Wl:()=>rt,Yr:()=>Er,ZB:()=>qe,ZR:()=>me,aH:()=>Rt,b$:()=>Kn,cI:()=>we,dS:()=>ss,eu:()=>ne,g5:()=>z,gK:()=>vn,gQ:()=>ti,h$:()=>Dn,hl:()=>Q,hu:()=>re,jU:()=>Sn,lb:()=>Zn,m9:()=>As,ne:()=>$i,p$:()=>Ce,pd:()=>Rn,q4:()=>Ei,r3:()=>G,ru:()=>ei,tV:()=>he,uI:()=>ve,ug:()=>vo,vZ:()=>Ae,w1:()=>_o,w9:()=>Un,xO:()=>qt,xb:()=>ee,z$:()=>xt,zd:()=>Bt});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},re=function(F,O){if(!F)throw z(O)},z=function(F){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+F)},Je=function(F){const O=[];let C=0;for(let x=0;x<F.length;x++){let w=F.charCodeAt(x);w<128?O[C++]=w:w<2048?(O[C++]=w>>6|192,O[C++]=63&w|128):55296==(64512&w)&&x+1<F.length&&56320==(64512&F.charCodeAt(x+1))?(w=65536+((1023&w)<<10)+(1023&F.charCodeAt(++x)),O[C++]=w>>18|240,O[C++]=w>>12&63|128,O[C++]=w>>6&63|128,O[C++]=63&w|128):(O[C++]=w>>12|224,O[C++]=w>>6&63|128,O[C++]=63&w|128)}return O},Wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let w=0;w<F.length;w+=3){const k=F[w],se=w+1<F.length,$e=se?F[w+1]:0,Ve=w+2<F.length,ht=Ve?F[w+2]:0;let kn=(15&$e)<<2|ht>>6,tt=63&ht;Ve||(tt=64,se||(kn=64)),x.push(C[k>>2],C[(3&k)<<4|$e>>4],C[kn],C[tt])}return x.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(Je(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let C=0,x=0;for(;C<F.length;){const w=F[C++];if(w<128)O[x++]=String.fromCharCode(w);else if(w>191&&w<224){const k=F[C++];O[x++]=String.fromCharCode((31&w)<<6|63&k)}else if(w>239&&w<365){const Ve=((7&w)<<18|(63&F[C++])<<12|(63&F[C++])<<6|63&F[C++])-65536;O[x++]=String.fromCharCode(55296+(Ve>>10)),O[x++]=String.fromCharCode(56320+(1023&Ve))}else{const k=F[C++],se=F[C++];O[x++]=String.fromCharCode((15&w)<<12|(63&k)<<6|63&se)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const C=O?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let w=0;w<F.length;){const k=C[F.charAt(w++)],$e=w<F.length?C[F.charAt(w)]:0;++w;const ht=w<F.length?C[F.charAt(w)]:64;++w;const Ne=w<F.length?C[F.charAt(w)]:64;if(++w,null==k||null==$e||null==ht||null==Ne)throw new di;x.push(k<<2|$e>>4),64!==ht&&(x.push($e<<4&240|ht>>2),64!==Ne&&x.push(ht<<6&192|Ne))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class di extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dn=function(F){const O=Je(F);return Wn.encodeByteArray(O,!0)},Xt=function(F){return Dn(F).replace(/\./g,"")},he=function(F){try{return Wn.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function Ce(F){return qe(void 0,F)}function qe(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const C in O)!O.hasOwnProperty(C)||!Ct(C)||(F[C]=qe(F[C],O[C]));return F}function Ct(F){return"__proto__"!==F}const _t=()=>{try{return function on(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&he(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ei=F=>{var O,C;return null===(C=null===(O=_t())||void 0===O?void 0:O.emulatorHosts)||void 0===C?void 0:C[F]},Rt=()=>{var F;return null===(F=_t())||void 0===F?void 0:F.config},$t=F=>{var O;return null===(O=_t())||void 0===O?void 0:O[`_${F}`]};class wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,C)=>{this.resolve=O,this.reject=C})}wrapCallback(O){return(C,x)=>{C?this.reject(C):this.resolve(x),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(C):O(C,x))}}}function Ci(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=O||"demo-project",w=F.iat||0,k=F.sub||F.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:w,exp:w+3600,auth_time:w,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(se)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Gt(){var F;const O=null===(F=_t())||void 0===F?void 0:F.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Sn(){return"object"==typeof self&&self.self===self}function ei(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){const F=xt();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Er(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function yo(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((F,O)=>{try{let C=!0;const x="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(x);w.onsuccess=()=>{w.result.close(),C||self.indexedDB.deleteDatabase(x),F(!0)},w.onupgradeneeded=()=>{C=!1},w.onerror=()=>{var k;O((null===(k=w.error)||void 0===k?void 0:k.message)||"")}}catch(C){O(C)}})}class me extends Error{constructor(O,C,x){super(C),this.code=O,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(O,C,x){this.service=O,this.serviceName=C,this.errors=x}create(O,...C){const x=C[0]||{},w=`${this.service}/${O}`,k=this.errors[O],se=k?function Se(F,O){return F.replace(kt,(C,x)=>{const w=O[x];return null!=w?String(w):`<${x}?>`})}(k,x):"Error";return new me(w,`${this.serviceName}: ${se} (${w}).`,x)}}const kt=/\{\$([^}]+)}/g;function we(F){return JSON.parse(F)}function rt(F){return JSON.stringify(F)}const Jt=function(F){let O={},C={},x={},w="";try{const k=F.split(".");O=we(he(k[0])||""),C=we(he(k[1])||""),w=k[2],x=C.d||{},delete C.d}catch{}return{header:O,claims:C,data:x,signature:w}},Un=function(F){const C=Jt(F).claims;return!!C&&"object"==typeof C&&C.hasOwnProperty("iat")},hi=function(F){const O=Jt(F).claims;return"object"==typeof O&&!0===O.admin};function G(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function j(F,O){if(Object.prototype.hasOwnProperty.call(F,O))return F[O]}function ee(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function fe(F,O,C){const x={};for(const w in F)Object.prototype.hasOwnProperty.call(F,w)&&(x[w]=O.call(C,F[w],w,F));return x}function Ae(F,O){if(F===O)return!0;const C=Object.keys(F),x=Object.keys(O);for(const w of C){if(!x.includes(w))return!1;const k=F[w],se=O[w];if(be(k)&&be(se)){if(!Ae(k,se))return!1}else if(k!==se)return!1}for(const w of x)if(!C.includes(w))return!1;return!0}function be(F){return null!==F&&"object"==typeof F}function qt(F){const O=[];for(const[C,x]of Object.entries(F))Array.isArray(x)?x.forEach(w=>{O.push(encodeURIComponent(C)+"="+encodeURIComponent(w))}):O.push(encodeURIComponent(C)+"="+encodeURIComponent(x));return O.length?"&"+O.join("&"):""}function Bt(F){const O={};return F.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[w,k]=x.split("=");O[decodeURIComponent(w)]=decodeURIComponent(k)}}),O}function Rn(F){const O=F.indexOf("?");if(!O)return"";const C=F.indexOf("#",O);return F.substring(O,C>0?C:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,C){C||(C=0);const x=this.W_;if("string"==typeof O)for(let Ne=0;Ne<16;Ne++)x[Ne]=O.charCodeAt(C)<<24|O.charCodeAt(C+1)<<16|O.charCodeAt(C+2)<<8|O.charCodeAt(C+3),C+=4;else for(let Ne=0;Ne<16;Ne++)x[Ne]=O[C]<<24|O[C+1]<<16|O[C+2]<<8|O[C+3],C+=4;for(let Ne=16;Ne<80;Ne++){const kn=x[Ne-3]^x[Ne-8]^x[Ne-14]^x[Ne-16];x[Ne]=4294967295&(kn<<1|kn>>>31)}let ht,ln,w=this.chain_[0],k=this.chain_[1],se=this.chain_[2],$e=this.chain_[3],Ve=this.chain_[4];for(let Ne=0;Ne<80;Ne++){Ne<40?Ne<20?(ht=$e^k&(se^$e),ln=1518500249):(ht=k^se^$e,ln=1859775393):Ne<60?(ht=k&se|$e&(k|se),ln=2400959708):(ht=k^se^$e,ln=3395469782);const kn=(w<<5|w>>>27)+ht+Ve+ln+x[Ne]&4294967295;Ve=$e,$e=se,se=4294967295&(k<<30|k>>>2),k=w,w=kn}this.chain_[0]=this.chain_[0]+w&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+se&4294967295,this.chain_[3]=this.chain_[3]+$e&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(O,C){if(null==O)return;void 0===C&&(C=O.length);const x=C-this.blockSize;let w=0;const k=this.buf_;let se=this.inbuf_;for(;w<C;){if(0===se)for(;w<=x;)this.compress_(O,w),w+=this.blockSize;if("string"==typeof O){for(;w<C;)if(k[se]=O.charCodeAt(w),++se,++w,se===this.blockSize){this.compress_(k),se=0;break}}else for(;w<C;)if(k[se]=O[w],++se,++w,se===this.blockSize){this.compress_(k),se=0;break}}this.inbuf_=se,this.total_+=C}digest(){const O=[];let C=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let w=this.blockSize-1;w>=56;w--)this.buf_[w]=255&C,C/=256;this.compress_(this.buf_);let x=0;for(let w=0;w<5;w++)for(let k=24;k>=0;k-=8)O[x]=this.chain_[w]>>k&255,++x;return O}}function $i(F,O){const C=new er(F,O);return C.subscribe.bind(C)}class er{constructor(O,C){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=C,this.task.then(()=>{O(this)}).catch(x=>{this.error(x)})}next(O){this.forEachObserver(C=>{C.next(O)})}error(O){this.forEachObserver(C=>{C.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,C,x){let w;if(void 0===O&&void 0===C&&void 0===x)throw new Error("Missing Observer.");w=function Tn(F,O){if("object"!=typeof F||null===F)return!1;for(const C of O)if(C in F&&"function"==typeof F[C])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:C,complete:x},void 0===w.next&&(w.next=Kt),void 0===w.error&&(w.error=Kt),void 0===w.complete&&(w.complete=Kt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),k}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let C=0;C<this.observers.length;C++)this.sendOne(C,O)}sendOne(O,C){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{C(this.observers[O])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}const dn=function(F,O,C,x){let w;if(x<O?w="at least "+O:x>C&&(w=0===C?"none":"no more than "+C),w)throw new Error(F+" failed: Was called with "+x+(1===x?" argument.":" arguments.")+" Expects "+w+".")};function vn(F,O){return`${F} failed: ${O} argument `}function jn(F,O,C,x){if((!x||C)&&"function"!=typeof C)throw new Error(vn(F,O)+"must be a valid function.")}function Zn(F,O,C,x){if((!x||C)&&("object"!=typeof C||null===C))throw new Error(vn(F,O)+"must be a valid context object.")}const ss=function(F){const O=[];let C=0;for(let x=0;x<F.length;x++){let w=F.charCodeAt(x);if(w>=55296&&w<=56319){const k=w-55296;x++,re(x<F.length,"Surrogate pair missing trail surrogate."),w=65536+(k<<10)+(F.charCodeAt(x)-56320)}w<128?O[C++]=w:w<2048?(O[C++]=w>>6|192,O[C++]=63&w|128):w<65536?(O[C++]=w>>12|224,O[C++]=w>>6&63|128,O[C++]=63&w|128):(O[C++]=w>>18|240,O[C++]=w>>12&63|128,O[C++]=w>>6&63|128,O[C++]=63&w|128)}return O},vo=function(F){let O=0;for(let C=0;C<F.length;C++){const x=F.charCodeAt(C);x<128?O++:x<2048?O+=2:x>=55296&&x<=56319?(O+=4,C++):O+=3}return O};function As(F){return F&&F._delegate?F._delegate:F}},415:(eo,wi,lt)=>{function S(n){return"function"==typeof n}function re(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const z=re(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Je(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(o){t=o instanceof z?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Dn(o)}catch(s){t=t??[],s instanceof z?t=[...t,...s.errors]:t.push(s)}}if(t)throw new z(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Dn(t);else{if(t instanceof pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Je(e,t)}remove(t){const{_finalizers:e}=this;e&&Je(e,t),t instanceof pt&&t._removeParent(this)}}pt.EMPTY=(()=>{const n=new pt;return n.closed=!0,n})();const Wn=pt.EMPTY;function di(n){return n instanceof pt||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function Dn(n){S(n)?n():n.unsubscribe()}const Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},he={setTimeout(n,t,...e){const{delegate:i}=he;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=he;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ce(n){he.setTimeout(()=>{const{onUnhandledError:t}=Xt;if(!t)throw n;t(n)})}function qe(){}const Ct=zt("C",void 0,void 0);function zt(n,t,e){return{kind:n,value:t,error:e}}let gt=null;function _t(n){if(Xt.useDeprecatedSynchronousErrorHandling){const t=!gt;if(t&&(gt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=gt;if(gt=null,e)throw i}}else n()}class qn extends pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,di(t)&&t.add(this)):this.destination=Sn}static create(t,e,i){return new Ci(t,e,i)}next(t){this.isStopped?Gt(function Gn(n){return zt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Gt(function on(n){return zt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gt(Ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function $t(n,t){return Rt.call(n,t)}class wr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){xt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){xt(i)}else xt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xt(e)}}}class Ci extends qn{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$t(t.next,o),error:t.error&&$t(t.error,o),complete:t.complete&&$t(t.complete,o)}):r=t}this.destination=new wr(r)}}function xt(n){Xt.useDeprecatedSynchronousErrorHandling?function Ei(n){Xt.useDeprecatedSynchronousErrorHandling&&gt&&(gt.errorThrown=!0,gt.error=n)}(n):Ce(n)}function Gt(n,t){const{onStoppedNotification:e}=Xt;e&&he.setTimeout(()=>e(n,t))}const Sn={closed:!0,next:qe,error:function ve(n){throw n},complete:qe},ei="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kn(n){return n}function _o(n){return 0===n.length?Kn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ct=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Q(n){return n&&n instanceof qn||function yo(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&di(n)}(e)?e:new Ci(e,i,r);return _t(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Er(i))((r,o)=>{const s=new Ci({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ei](){return this}pipe(...e){return _o(e)(this)}toPromise(e){return new(e=Er(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Er(n){var t;return null!==(t=n??Xt.Promise)&&void 0!==t?t:Promise}const ne=re(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Y(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ne}next(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Wn:(this.currentObservers=null,o.push(e),new pt(()=>{this.currentObservers=null,Je(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new ct;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends ${constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Wn}}function me(n){return S(n?.lift)}function de(n){return t=>{if(me(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new kt(n,t,e,i,r)}class kt extends qn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(n,t){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var rt=lt(582);const Jt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bn(n){return S(n?.then)}function yn(n){return S(n[ei])}function Un(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function hi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const j=function G(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return S(n?.[j])}function fe(n){return(0,rt.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,rt.qq)(e.read());if(r)return yield(0,rt.qq)(void 0);yield yield(0,rt.qq)(i)}}finally{e.releaseLock()}})}function Ae(n){return S(n?.getReader)}function be(n){if(n instanceof ct)return n;if(null!=n){if(yn(n))return function An(n){return new ct(t=>{const e=n[ei]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Jt(n))return function qt(n){return new ct(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bn(n))return function Bt(n){return new ct(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ce)})}(n);if(Un(n))return ti(n);if(ee(n))return function Rn(n){return new ct(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ae(n))return function $i(n){return ti(fe(n))}(n)}throw hi(n)}function ti(n){return new ct(t=>{(function er(n,t){var e,i,r,o;return(0,rt.mG)(this,void 0,void 0,function*(){try{for(e=(0,rt.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ar(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,t,e=1/0){return S(t)?Kt((i,r)=>we((o,s)=>t(i,o,r,s))(be(n(i,r))),e):("number"==typeof t&&(e=t),de((i,r)=>function Tn(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,f=!1;const m=()=>{f&&!l.length&&!c&&t.complete()},_=b=>c<i?y(b):l.push(b),y=b=>{o&&t.next(b),c++;let E=!1;be(e(b,u++)).subscribe(Se(t,N=>{r?.(N),o?_(N):t.next(N)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){const N=l.shift();s?ar(t,s,()=>y(N)):y(N)}m()}catch(N){t.error(N)}}))};return n.subscribe(Se(t,_,()=>{f=!0,m()})),()=>{a?.()}}(i,r,n,e)))}function dn(n=1/0){return Kt(Kn,n)}const vn=new ct(n=>n.complete());function Zn(n){return n&&S(n.schedule)}function ss(n){return n[n.length-1]}function vo(n){return S(ss(n))?n.pop():void 0}function as(n){return Zn(ss(n))?n.pop():void 0}function Ai(n,t=0){return de((e,i)=>{e.subscribe(Se(i,r=>ar(i,n,()=>i.next(r),t),()=>ar(i,n,()=>i.complete(),t),r=>ar(i,n,()=>i.error(r),t)))})}function Cr(n,t=0){return de((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function As(n,t){if(!n)throw new Error("Iterable cannot be null");return new ct(e=>{ar(e,t,()=>{const i=n[Symbol.asyncIterator]();ar(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function C(n,t){return t?function O(n,t){if(null!=n){if(yn(n))return function bo(n,t){return be(n).pipe(Cr(t),Ai(t))}(n,t);if(Jt(n))return function xa(n,t){return new ct(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Bn(n))return function gc(n,t){return be(n).pipe(Cr(t),Ai(t))}(n,t);if(Un(n))return As(n,t);if(ee(n))return function _l(n,t){return new ct(e=>{let i;return ar(e,t,()=>{i=n[j](),ar(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(n,t);if(Ae(n))return function F(n,t){return As(fe(n),t)}(n,t)}throw hi(n)}(n,t):be(n)}function x(...n){const t=as(n),e=function Wi(n,t){return"number"==typeof ss(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?be(i[0]):dn(e)(C(i,t)):vn}class w extends ${constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function k(...n){return C(n,as(n))}function se(n={}){const{connector:t=(()=>new $),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=l=void 0,u=f=!1},y=()=>{const b=s;_(),b?.unsubscribe()};return de((b,E)=>{c++,!f&&!u&&m();const N=l=l??t();E.add(()=>{c--,0===c&&!f&&!u&&(a=$e(y,r))}),N.subscribe(E),!s&&c>0&&(s=new Ci({next:A=>N.next(A),error:A=>{f=!0,m(),a=$e(_,e,A),N.error(A)},complete:()=>{u=!0,m(),a=$e(_,i),N.complete()}}),be(b).subscribe(s))})(o)}}function $e(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return be(t(...e)).subscribe(i)}function Ve(n,t){return de((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Se(i,l=>{r?.unsubscribe();let c=0;const u=o++;be(n(l,u)).subscribe(r=Se(i,f=>i.next(t?t(l,f,u,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ht(n,t=Kn){return n=n??ln,de((e,i)=>{let r,o=!0;e.subscribe(Se(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function ln(n,t){return n===t}function Ne(n){for(let t in n)if(n[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function kn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function tr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const yl=Ne({__forward_ref__:Ne});function q(n){return n.__forward_ref__=q,n.toString=function(){return tt(this())},n}function B(n){return Ee(n)?n():n}function Ee(n){return"function"==typeof n&&n.hasOwnProperty(yl)&&n.__forward_ref__===q}function et(n){return n&&!!n.\u0275providers}const Ut="https://g.co/ng/security#xss";class K extends Error{constructor(t,e){super(function Ri(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ze(n){return"string"==typeof n?n:null==n?"":String(n)}function cg(n,t){throw new K(-201,!1)}function Tr(n,t){null==n&&function mt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ph(n){return Jb(n,yc)||Jb(n,Fh)}function Jb(n,t){return n.hasOwnProperty(t)?n[t]:null}function Gu(n){return n&&(n.hasOwnProperty(ug)||n.hasOwnProperty(Lx))?n[ug]:null}const yc=Ne({\u0275prov:Ne}),ug=Ne({\u0275inj:Ne}),Fh=Ne({ngInjectableDef:Ne}),Lx=Ne({ngInjectorDef:Ne});var jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(jt||{});let dg;function to(n){const t=dg;return dg=n,t}function Vh(n,t,e){const i=Ph(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&jt.Optional?null:void 0!==t?t:void cg(tt(n))}const Mn=globalThis;class ae{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const bl={},_g="__NG_DI_FLAG__",Eo="ngTempTokenPath",yg=/\n/gm,jh="__source";let vc;function Sa(n){const t=vc;return vc=n,t}function Ux(n,t=jt.Default){if(void 0===vc)throw new K(-203,!1);return null===vc?Vh(n,void 0,t):vc.get(n,t&jt.Optional?null:void 0,t)}function P(n,t=jt.Default){return(function Lh(){return dg}()||Ux)(B(n),t)}function xe(n,t=jt.Default){return P(n,Hh(t))}function Hh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wl(n){const t=[];for(let e=0;e<n.length;e++){const i=B(n[e]);if(Array.isArray(i)){if(0===i.length)throw new K(900,!1);let r,o=jt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=bg(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(P(r,o))}else t.push(P(i))}return t}function zh(n,t){return n[_g]=t,n.prototype[_g]=t,n}function bg(n){return n[_g]}function Co(n){return{toString:n}.toString()}var $h=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}($h||{}),Uo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Uo||{});const Rs={},hn=[],ea=Ne({\u0275cmp:Ne}),wg=Ne({\u0275dir:Ne}),wc=Ne({\u0275pipe:Ne}),r0=Ne({\u0275mod:Ne}),ks=Ne({\u0275fac:Ne}),El=Ne({__NG_ELEMENT_ID__:Ne}),To=Ne({__NG_ENV_ID__:Ne});function Eg(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Cg(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Ku(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Wh(n){return 3===n||4===n||6===n}function Ku(n){return 64===n.charCodeAt(0)}function Ec(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Tg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Tg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const o0="ng-template";function Ig(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Eg(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Gh(n){return 4===n.type&&n.value!==o0}function xg(n,t,e){return t===(4!==n.type||e?n.value:o0)}function qh(n,t,e){let i=4;const r=n.attrs||[],o=function Dg(n){for(let t=0;t<n.length;t++)if(Wh(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!xg(n,l,e)||""===l&&1===t.length){if(Io(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!Ig(n.attrs,c,e)){if(Io(i))return!1;s=!0}continue}const f=s0(8&i?"class":l,r,Gh(n),e);if(-1===f){if(Io(i))return!1;s=!0;continue}if(""!==c){let m;m=f>o?"":r[f+1].toLowerCase();const _=8&i?m:null;if(_&&-1!==Eg(_,c,0)||2&i&&c!==m){if(Io(i))return!1;s=!0}}}}else{if(!s&&!Io(i)&&!Io(l))return!1;if(s&&Io(l))continue;s=!1,i=l|1&i}}return Io(i)||s}function Io(n){return 0==(1&n)}function s0(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Zh(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Kh(n,t,e=!1){for(let i=0;i<t.length;i++)if(qh(n,t[i],e))return!0;return!1}function Sg(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Ag(n,t){return n?":not("+t.trim()+")":t}function Rg(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Io(s)&&(t+=Ag(o,r),r=""),i=s,o=o||!Io(i);e++}return""!==r&&(t+=Ag(o,r)),t}function yt(n){return Co(()=>{const t=c0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$h.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Uo.Emulated,styles:n.styles||hn,_:null,schemas:n.schemas||null,tView:null,id:""};Qh(e);const i=n.dependencies;return e.directiveDefs=Zu(i,!1),e.pipeDefs=Zu(i,!0),e.id=function Hx(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function jx(n){return en(n)||lr(n)}function Ng(n){return null!==n}function Ke(n){return Co(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Yh(n,t){if(null==n)return Rs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function X(n){return Co(()=>{const t=c0(n);return Qh(t),t})}function Gi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[ea]||null}function lr(n){return n[wg]||null}function cr(n){return n[wc]||null}function Br(n,t){const e=n[r0]||null;if(!e&&!0===t)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return e}function c0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Rs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yh(n.inputs,t),outputs:Yh(n.outputs)}}function Qh(n){n.features?.forEach(t=>t(n))}function Zu(n,t){if(!n)return null;const e=t?cr:jx;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Ng)}const ni=0,Pe=1,Tt=2,ii=3,ls=4,Cl=5,Ir=6,Tc=7,pi=8,Ra=9,ka=10,It=11,Tl=12,u0=13,Ma=14,ki=15,Il=16,Ic=17,jo=18,Yu=19,Xh=20,Na=21,ta=22,xc=23,xl=24,Zt=25,Jh=1,d0=2,Ms=7,Dc=9,xr=11;function xo(n){return Array.isArray(n)&&"object"==typeof n[Jh]}function ur(n){return Array.isArray(n)&&!0===n[Jh]}function Fg(n){return 0!=(4&n.flags)}function Dl(n){return n.componentOffset>-1}function Lg(n){return 1==(1&n.flags)}function Ns(n){return!!n.template}function h0(n){return 0!=(512&n[Tt])}function Sc(n,t){return n.hasOwnProperty(ks)?n[ks]:null}let Mi=null,tf=!1;function bn(n){const t=Mi;return Mi=n,t}const y0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function v0(n){if(!ed(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Ju(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function b0(n){n.dirty=!0,function rf(n){if(void 0===n.liveConsumerNode)return;const t=tf;tf=!0;try{for(const e of n.liveConsumerNode)e.dirty||b0(e)}finally{tf=t}}(n),n.consumerMarkedDirty?.(n)}function sf(n){return n&&(n.nextProducerIndex=0),bn(n)}function jg(n,t){if(bn(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ed(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Al(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ju(n){Oa(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(v0(e),i!==e.version))return!0}return!1}function Hg(n){if(Oa(n),ed(n))for(let t=0;t<n.producerNode.length;t++)Al(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Al(n,t){if(function zg(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Oa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Al(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Oa(r),r.producerIndexOfThis[i]=t}}function ed(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Oa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Gx=null;const x0=()=>{},Xx=(()=>({...y0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:x0}))();class D0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yn(){return S0}function S0(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gg),Jx}function Jx(){const n=lf(this),t=n?.current;if(t){const e=n.previous;if(e===Rs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Gg(n,t,e,i){const r=this.declaredInputs[e],o=lf(n)||function e1(n,t){return n[A0]=t}(n,{previous:Rs,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new D0(l&&l.currentValue,t,a===Rs),n[i]=t}Yn.ngInherit=!0;const A0="__ngSimpleChanges__";function lf(n){return n[A0]||null}const Ho=function(n,t,e){},id="svg";function Hn(n){for(;Array.isArray(n);)n=n[ni];return n}function uf(n,t){return Hn(t[n])}function Li(n,t){return Hn(t[n.index])}function R0(n,t){return n.data[t]}function Rc(n,t){return n[t]}function Do(n,t){const e=t[n];return xo(e)?e:e[ni]}function Pa(n,t){return null==t?null:n[t]}function df(n){n[Ic]=0}function r1(n){1024&n[Tt]||(n[Tt]|=1024,M0(n,1))}function hf(n){1024&n[Tt]&&(n[Tt]&=-1025,M0(n,-1))}function M0(n,t){let e=n[ii];if(null===e)return;e[Cl]+=t;let i=e;for(e=e[ii];null!==e&&(1===t&&1===i[Cl]||-1===t&&0===i[Cl]);)e[Cl]+=t,i=e,e=e[ii]}const vt={lFrame:H0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pf(){return vt.bindingsEnabled}function Mc(){return null!==vt.skipHydrationRootTNode}function ge(){return vt.lFrame.lView}function cn(){return vt.lFrame.tView}function Ge(n){return vt.lFrame.contextLView=n,n[pi]}function He(n){return vt.lFrame.contextLView=null,n}function dr(){let n=F0();for(;null!==n&&64===n.type;)n=n.parent;return n}function F0(){return vt.lFrame.currentTNode}function Ps(n,t){const e=vt.lFrame;e.currentTNode=n,e.isParent=t}function od(){return vt.lFrame.isParent}function sd(){vt.lFrame.isParent=!1}function Ur(){const n=vt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Fs(){return vt.lFrame.bindingIndex}function kl(){return vt.lFrame.bindingIndex++}function na(n){const t=vt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function c1(n,t){const e=vt.lFrame;e.bindingIndex=e.bindingRootIndex=n,e_(t)}function e_(n){vt.lFrame.currentDirectiveIndex=n}function V0(){return vt.lFrame.currentQueryIndex}function t_(n){vt.lFrame.currentQueryIndex=n}function B0(n){const t=n[Pe];return 2===t.type?t.declTNode:1===t.type?n[Ir]:null}function U0(n,t,e){if(e&jt.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&jt.Host||(r=B0(o),null===r||(o=o[Ma],10&r.type))););if(null===r)return!1;t=r,n=o}const i=vt.lFrame=j0();return i.currentTNode=t,i.lView=n,!0}function Nc(n){const t=j0(),e=n[Pe];vt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function j0(){const n=vt.lFrame,t=null===n?null:n.child;return null===t?H0(n):t}function H0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function z0(){const n=vt.lFrame;return vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $0=z0;function n_(){const n=z0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jr(){return vt.lFrame.selectedIndex}function ia(n){vt.lFrame.selectedIndex=n}function mi(){const n=vt.lFrame;return R0(n.tView,n.selectedIndex)}function _f(){vt.lFrame.currentNamespace=id}let W0=!0;function yf(){return W0}function Fa(n){W0=n}function vf(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Oc(n,t,e){bf(n,t,3,e)}function Pc(n,t,e,i){(3&n[Tt])===e&&bf(n,t,e,i)}function o_(n,t){let e=n[Tt];(3&e)===t&&(e&=8191,e+=1,n[Tt]=e)}function bf(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Ic]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Ic]+=65536),(a<o||-1==o)&&(q0(n,e,t,l),n[Ic]=(4294901760&n[Ic])+l+2),l++}function G0(n,t){Ho(4,n,t);const e=bn(null);try{t.call(n)}finally{bn(e),Ho(5,n,t)}}function q0(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Tt]>>13<n[Ic]>>16&&(3&n[Tt])===t&&(n[Tt]+=8192,G0(a,o)):G0(a,o)}const Fc=-1;class Ml{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function s_(n){return n!==Fc}function cd(n){return 32767&n}function ud(n,t){let e=function v1(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ma],e--;return i}let Ef=!0;function Cf(n){const t=Ef;return Ef=n,t}const p=255,d=5;let h=0;const g={};function I(n,t){const e=J(n,t);if(-1!==e)return e;const i=t[Pe];i.firstCreatePass&&(n.injectorIndex=t.length,V(i.data,n),V(t,null),V(i.blueprint,null));const r=ye(n,t),o=n.injectorIndex;if(s_(r)){const s=cd(r),a=ud(r,t),l=a[Pe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function V(n,t){n.push(0,0,0,0,0,0,0,0,t)}function J(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ye(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=t2(r),null===i)return Fc;if(e++,r=r[Ma],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Fc}function ze(n,t,e){!function v(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(El)&&(i=e[El]),null==i&&(i=e[El]=h++);const r=i&p;t.data[n+(r>>d)]|=1<<r}(n,t,e)}function tn(n,t,e){if(e&jt.Optional||void 0!==n)return n;cg()}function Hr(n,t,e,i){if(e&jt.Optional&&void 0===i&&(i=null),!(e&(jt.Self|jt.Host))){const r=n[Ra],o=to(void 0);try{return r?r.get(t,i,e&jt.Optional):Vh(t,i,e&jt.Optional)}finally{to(o)}}return tn(i,0,e)}function ra(n,t,e,i=jt.Default,r){if(null!==n){if(2048&t[Tt]&&!(i&jt.Self)){const s=function _Y(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Tt]&&!(512&s[Tt]);){const a=dd(o,s,e,i|jt.Self,g);if(a!==g)return a;let l=o.parent;if(!l){const c=s[Xh];if(c){const u=c.get(e,g,i);if(u!==g)return u}l=t2(s),s=s[Ma]}o=l}return r}(n,t,e,i,g);if(s!==g)return s}const o=dd(n,t,e,i,g);if(o!==g)return o}return Hr(t,e,i,r)}function dd(n,t,e,i,r){const o=function Y0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(El)?n[El]:void 0;return"number"==typeof t?t>=0?t&p:b1:t}(e);if("function"==typeof o){if(!U0(t,n,i))return i&jt.Host?tn(r,0,i):Hr(t,e,i,r);try{let s;if(s=o(i),null!=s||i&jt.Optional)return s;cg()}finally{$0()}}else if("number"==typeof o){let s=null,a=J(n,t),l=Fc,c=i&jt.Host?t[ki][Ir]:null;for((-1===a||i&jt.SkipSelf)&&(l=-1===a?ye(n,t):t[a+8],l!==Fc&&a_(i,!1)?(s=t[Pe],a=cd(l),t=ud(l,t)):a=-1);-1!==a;){const u=t[Pe];if(Tf(o,a,u.data)){const f=Z0(a,t,e,s,i,c);if(f!==g)return f}l=t[a+8],l!==Fc&&a_(i,t[Pe].data[a+8]===c)&&Tf(o,a,t)?(s=u,a=cd(l),t=ud(l,t)):a=-1}}return r}function Z0(n,t,e,i,r,o){const s=t[Pe],a=s.data[n+8],u=Lc(a,s,e,null==i?Dl(a)&&Ef:i!=s&&0!=(3&a.type),r&jt.Host&&o===a);return null!==u?La(t,s,u,a):g}function Lc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,m=r?a+u:n.directiveEnd;for(let _=i?a:a+u;_<m;_++){const y=s[_];if(_<l&&e===y||_>=l&&y.type===e)return _}if(r){const _=s[l];if(_&&Ns(_)&&_.type===e)return l}return null}function La(n,t,e,i){let r=n[e];const o=t.data;if(function g1(n){return n instanceof Ml}(r)){const s=r;s.resolving&&function Wu(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ze(n)}(o[e]));const a=Cf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?to(s.injectImpl):null;U0(n,i,jt.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function m1(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=S0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&to(c),Cf(a),s.resolving=!1,$0()}}return r}function Tf(n,t,e){return!!(e[t+(n>>d)]&1<<n)}function a_(n,t){return!(n&jt.Self||n&jt.Host&&t)}class Dr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ra(this._tNode,this._lView,t,Hh(i),e)}}function b1(){return new Dr(dr(),ge())}function Mt(n){return Co(()=>{const t=n.prototype.constructor,e=t[ks]||c_(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[ks]||c_(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function c_(n){return Ee(n)?()=>{const t=c_(B(n));return t&&t()}:Sc(n)}function t2(n){const t=n[Pe],e=t.type;return 2===e?t.declTNode:1===e?n[Ir]:null}function Ls(n){return function ut(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Wh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(dr(),n)}const xf="__parameters__";function Sf(n,t,e){return Co(()=>{const i=function w1(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const f=l.hasOwnProperty(xf)?l[xf]:Object.defineProperty(l,xf,{value:[]})[xf];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Rf(n,t){n.forEach(e=>Array.isArray(e)?Rf(e,t):t(e))}function r2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Q0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function d_(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function cs(n,t,e){let i=kf(n,t);return i>=0?n[1|i]=e:(i=~i,function TY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function E1(n,t){const e=kf(n,t);if(e>=0)return n[1|e]}function kf(n,t){return function o2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Bs=zh(Sf("Optional"),8),h_=zh(Sf("SkipSelf"),4);function iw(n){return 128==(128&n.flags)}var Bc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Bc||{});const WY=/^>|^->|<!--|-->|--!>|<!-$/g,GY=/(<|>)/g,qY="\u200b$1\u200b";const D1=new Map;let KY=0;const A1="__ngContext__";function no(n,t){xo(t)?(n[A1]=t[Yu],function YY(n){D1.set(n[Yu],n)}(t)):n[A1]=t}let R1;function k1(n,t){return R1(n,t)}function m_(n){const t=n[ii];return ur(t)?t[ii]:t}function I2(n){return D2(n[Tl])}function x2(n){return D2(n[ls])}function D2(n){for(;null!==n&&!ur(n);)n=n[ls];return n}function Of(n,t,e,i,r){if(null!=i){let o,s=!1;ur(i)?o=i:xo(i)&&(s=!0,i=i[ni]);const a=Hn(i);0===n&&null!==e?null==r?k2(t,e,a):hd(t,e,a,r||null,!0):1===n&&null!==e?hd(t,e,a,r||null,!0):2===n?function uw(n,t,e){const i=lw(n,t);i&&function mQ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function yQ(n,t,e,i,r){const o=e[Ms];o!==Hn(e)&&Of(t,n,i,o,r);for(let a=xr;a<e.length;a++){const l=e[a];__(l[Pe],l,n,t,i,o)}}(t,n,o,e,r)}}function M1(n,t){return n.createComment(function _2(n){return n.replace(WY,t=>t.replace(GY,qY))}(t))}function sw(n,t,e){return n.createElement(t,e)}function A2(n,t){const e=n[Dc],i=e.indexOf(t);hf(t),e.splice(i,1)}function aw(n,t){if(n.length<=xr)return;const e=xr+t,i=n[e];if(i){const r=i[Il];null!==r&&r!==n&&A2(r,i),t>0&&(n[e-1][ls]=i[ls]);const o=Q0(n,xr+t);!function aQ(n,t){__(n,t,t[It],2,null,null),t[ni]=null,t[Ir]=null}(i[Pe],i);const s=o[jo];null!==s&&s.detachView(o[Pe]),i[ii]=null,i[ls]=null,i[Tt]&=-129}return i}function N1(n,t){if(!(256&t[Tt])){const e=t[It];t[xc]&&Hg(t[xc]),t[xl]&&Hg(t[xl]),e.destroyNode&&__(n,t,e,3,null,null),function uQ(n){let t=n[Tl];if(!t)return O1(n[Pe],n);for(;t;){let e=null;if(xo(t))e=t[Tl];else{const i=t[xr];i&&(e=i)}if(!e){for(;t&&!t[ls]&&t!==n;)xo(t)&&O1(t[Pe],t),t=t[ii];null===t&&(t=n),xo(t)&&O1(t[Pe],t),e=t&&t[ls]}t=e}}(t)}}function O1(n,t){if(!(256&t[Tt])){t[Tt]&=-129,t[Tt]|=256,function pQ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Ml)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Ho(4,a,l);try{l.call(a)}finally{Ho(5,a,l)}}else{Ho(4,r,o);try{o.call(r)}finally{Ho(5,r,o)}}}}}(n,t),function fQ(n,t){const e=n.cleanup,i=t[Tc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Tc]=null);const r=t[Na];if(null!==r){t[Na]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Pe].type&&t[It].destroy();const e=t[Il];if(null!==e&&ur(t[ii])){e!==t[ii]&&A2(e,t);const i=t[jo];null!==i&&i.detachView(n)}!function QY(n){D1.delete(n[Yu])}(t)}}function P1(n,t,e){return function R2(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ni];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Uo.None||o===Uo.Emulated)return null}return Li(i,e)}}(n,t.parent,e)}function hd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function k2(n,t,e){n.appendChild(t,e)}function M2(n,t,e,i,r){null!==i?hd(n,t,e,i,r):k2(n,t,e)}function lw(n,t){return n.parentNode(t)}function N2(n,t,e){return P2(n,t,e)}let F1,dw,U1,hw,P2=function O2(n,t,e){return 40&n.type?Li(n,e):null};function cw(n,t,e,i){const r=P1(n,i,t),o=t[It],a=N2(i.parent||t[Ir],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)M2(o,r,e[l],a,!1);else M2(o,r,e,a,!1);void 0!==F1&&F1(o,i,t,e,r)}function g_(n,t){if(null!==t){const e=t.type;if(3&e)return Li(t,n);if(4&e)return L1(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return g_(n,i);{const r=n[t.index];return ur(r)?L1(-1,r):Hn(r)}}if(32&e)return k1(t,n)()||Hn(n[t.index]);{const i=L2(n,t);return null!==i?Array.isArray(i)?i[0]:g_(m_(n[ki]),i):g_(n,t.next)}}return null}function L2(n,t){return null!==t?n[ki][Ir].projection[t.projection]:null}function L1(n,t){const e=xr+n+1;if(e<t.length){const i=t[e],r=i[Pe].firstChild;if(null!==r)return g_(i,r)}return t[Ms]}function V1(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&no(Hn(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)V1(n,t,e.child,i,r,o,!1),Of(t,n,r,a,o);else if(32&l){const c=k1(e,i);let u;for(;u=c();)Of(t,n,r,u,o);Of(t,n,r,a,o)}else 16&l?B2(n,t,i,e,r,o):Of(t,n,r,a,o);e=s?e.projectionNext:e.next}}function __(n,t,e,i,r,o){V1(e,i,n.firstChild,t,r,o,!1)}function B2(n,t,e,i,r,o){const s=e[ki],l=s[Ir].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Of(t,n,r,l[c],o);else{let c=l;const u=s[ii];iw(i)&&(c.flags|=128),V1(n,t,c,u,r,o,!0)}}function U2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function j2(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Cg(n,t,i),null!==r&&U2(n,t,r),null!==o&&function bQ(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Pf(n){return function B1(){if(void 0===dw&&(dw=null,Mn.trustedTypes))try{dw=Mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dw}()?.createHTML(n)||n}function $2(n){return function j1(){if(void 0===hw&&(hw=null,Mn.trustedTypes))try{hw=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hw}()?.createScriptURL(n)||n}class fd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class IQ extends fd{getTypeName(){return"HTML"}}class xQ extends fd{getTypeName(){return"Style"}}class DQ extends fd{getTypeName(){return"Script"}}class SQ extends fd{getTypeName(){return"URL"}}class AQ extends fd{getTypeName(){return"ResourceURL"}}function us(n){return n instanceof fd?n.changingThisBreaksApplicationSecurity:n}function Va(n,t){const e=function RQ(n){return n instanceof fd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ut})`)}return e===t}class FQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class LQ{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Pf(t),e}}const BQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fw(n){return(n=String(n)).match(BQ)?n:"unsafe:"+n}function Nl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function y_(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const G2=Nl("area,br,col,hr,img,wbr"),q2=Nl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K2=Nl("rp,rt"),H1=y_(G2,y_(q2,Nl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y_(K2,Nl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y_(K2,q2)),z1=Nl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z2=y_(z1,Nl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UQ=Nl("script,style,template");class jQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!H1.hasOwnProperty(e))return this.sanitizedSomething=!0,!UQ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Z2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;z1[a]&&(l=fw(l)),this.buf.push(" ",s,'="',Y2(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();H1.hasOwnProperty(e)&&!G2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Y2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const HQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zQ=/([^\#-~ |!])/g;function Y2(n){return n.replace(/&/g,"&amp;").replace(HQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(zQ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pw;function Q2(n,t){let e=null;try{pw=pw||function W2(n){const t=new LQ(n);return function VQ(){try{return!!(new window.DOMParser).parseFromString(Pf(""),"text/html")}catch{return!1}}()?new FQ(t):t}(n);let i=t?String(t):"";e=pw.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=pw.getInertBodyElement(i)}while(i!==o);return Pf((new jQ).sanitizeChildren($1(e)||e))}finally{if(e){const i=$1(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function $1(n){return"content"in n&&function $Q(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zr||{});function v_(n){const t=b_();return t?t.sanitize(zr.URL,n)||"":Va(n,"URL")?us(n):fw(Ze(n))}function X2(n){const t=b_();if(t)return $2(t.sanitize(zr.RESOURCE_URL,n)||"");if(Va(n,"ResourceURL"))return $2(us(n));throw new K(904,!1)}function b_(){const n=ge();return n&&n[ka].sanitizer}const w_=new ae("ENVIRONMENT_INITIALIZER"),eL=new ae("INJECTOR",-1),tL=new ae("INJECTOR_DEF_TYPES");class W1{get(t,e=bl){if(e===bl){const i=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw i.name="NullInjectorError",i}return e}}function QQ(...n){return{\u0275providers:nL(0,n),\u0275fromNgModule:!0}}function nL(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Rf(t,s=>{const a=s;mw(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&iL(r,o),e}function iL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];q1(r,o=>{t(o,i)})}}function mw(n,t,e,i){if(!(n=B(n)))return!1;let r=null,o=Gu(n);const s=!o&&en(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Gu(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)mw(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Rf(o.imports,u=>{mw(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&iL(c,t)}if(!a){const c=Sc(r)||(()=>new r);t({provide:r,useFactory:c,deps:hn},r),t({provide:tL,useValue:r,multi:!0},r),t({provide:w_,useValue:()=>P(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;q1(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function q1(n,t){for(let e of n)et(e)&&(e=e.\u0275providers),Array.isArray(e)?q1(e,t):t(e)}const XQ=Ne({provide:String,useValue:Ne});function K1(n){return null!==n&&"object"==typeof n&&XQ in n}function pd(n){return"function"==typeof n}const Z1=new ae("Set Injector scope."),gw={},eX={};let Y1;function _w(){return void 0===Y1&&(Y1=new W1),Y1}class So{}class Lf extends So{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X1(t,s=>this.processProvider(s)),this.records.set(eL,Vf(void 0,this)),r.has("environment")&&this.records.set(So,Vf(void 0,this));const o=this.records.get(Z1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tL.multi,hn,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Sa(this),i=to(void 0);try{return t()}finally{Sa(e),to(i)}}get(t,e=bl,i=jt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(To))return t[To](this);i=Hh(i);const o=Sa(this),s=to(void 0);try{if(!(i&jt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function oX(n){return"function"==typeof n||"object"==typeof n&&n instanceof ae}(t)&&Ph(t);l=c&&this.injectableDefInScope(c)?Vf(Q1(t),gw):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&jt.Self?_w():this.parent).get(t,e=i&jt.Optional&&e===bl?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Eo]=a[Eo]||[]).unshift(tt(t)),o)throw a;return function Js(n,t,e,i){const r=n[Eo];throw t[jh]&&r.unshift(t[jh]),n.message=function bc(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=tt(t);if(Array.isArray(t))r=t.map(tt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(yg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Eo]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{to(s),Sa(o)}}resolveInjectorInitializers(){const t=Sa(this),e=to(void 0);try{const r=this.get(w_.multi,hn,jt.Self);for(const o of r)o()}finally{Sa(t),to(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(tt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(t){let e=pd(t=B(t))?t:B(t&&t.provide);const i=function nX(n){return K1(n)?Vf(void 0,n.useValue):Vf(sL(n),gw)}(t);if(pd(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Vf(void 0,gw,!0),r.factory=()=>wl(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===gw&&(e.value=eX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function rX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=B(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Q1(n){const t=Ph(n),e=null!==t?t.factory:Sc(n);if(null!==e)return e;if(n instanceof ae)throw new K(204,!1);if(n instanceof Function)return function tX(n){const t=n.length;if(t>0)throw d_(t,"?"),new K(204,!1);const e=function _c(n){return n&&(n[yc]||n[Fh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new K(204,!1)}function sL(n,t,e){let i;if(pd(n)){const r=B(n);return Sc(r)||Q1(r)}if(K1(n))i=()=>B(n.useValue);else if(function oL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...wl(n.deps||[]));else if(function rL(n){return!(!n||!n.useExisting)}(n))i=()=>P(B(n.useExisting));else{const r=B(n&&(n.useClass||n.provide));if(!function iX(n){return!!n.deps}(n))return Sc(r)||Q1(r);i=()=>new r(...wl(n.deps))}return i}function Vf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function X1(n,t){for(const e of n)Array.isArray(e)?X1(e,t):e&&et(e)?X1(e.\u0275providers,t):t(e)}const E_=new ae("AppId",{providedIn:"root",factory:()=>sX}),sX="ng",aL=new ae("Platform Initializer"),ds=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oa=new ae("AnimationModuleType"),J1=new ae("CSP nonce",{providedIn:"root",factory:()=>function Ff(){if(void 0!==U1)return U1;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lL=(n,t,e)=>null;function aD(n,t,e=!1){return lL(n,t,e)}class gX{}class dL{}class yX{resolveComponentFactory(t){throw function _X(n){const t=Error(`No component factory found for ${tt(n)}.`);return t.ngComponent=n,t}(t)}}let I_=(()=>{class n{static#e=this.NULL=new yX}return n})();function vX(){return jf(dr(),ge())}function jf(n,t){return new st(Li(n,t))}let st=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=vX}return n})();function bX(n){return n instanceof st?n.nativeElement:n}class Hf{}let $o=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wX(){const n=ge(),e=Do(dr().index,n);return(xo(e)?e:n)[It]}()}return n})(),EX=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();class Uc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fL=new Uc("16.2.12"),uD={};function _L(n,t=null,e=null,i){const r=yL(n,t,e,i);return r.resolveInjectorInitializers(),r}function yL(n,t=null,e=null,i,r=new Set){const o=[e||hn,QQ(n)];return i=i||("object"==typeof n?void 0:tt(n)),new Lf(o,t||_w(),i||null,r)}let qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=bl;static#t=this.NULL=new W1;static create(e,i){if(Array.isArray(e))return _L({name:""},i,e,"");{const r=e.name??"";return _L({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>P(eL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function dD(n){return n.ngOriginalError}class Us{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&dD(t);for(;e&&dD(e);)e=dD(e);return e||null}}function hD(n){return t=>{setTimeout(n,void 0,t)}}const Fe=class RX extends ${constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=hD(o),r&&(r=hD(r)),s&&(s=hD(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof pt&&t.add(a),a}};function bL(...n){}class je{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kX(){const n="function"==typeof Mn.requestAnimationFrame;let t=Mn[n?"requestAnimationFrame":"setTimeout"],e=Mn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function OX(n){const t=()=>{!function NX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pD(n),n.isCheckStableRunning=!0,fD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function FX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return wL(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),EL(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return wL(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),EL(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pD(n),fD(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new K(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,MX,bL,bL);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const MX={};function fD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EL(n){n._nesting--,fD(n)}class PX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const CL=new ae("",{providedIn:"root",factory:TL});function TL(){const n=xe(je);let t=!0;return x(new ct(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ct(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{je.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(se()))}function Ol(n){return n instanceof Function?n():n}let mD=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function x_(n){for(;n;){n[Tt]|=64;const t=m_(n);if(h0(n)&&!t)return n;n=t}return null}const AL=new ae("",{providedIn:"root",factory:()=>!1});let Iw=null;function NL(n,t){return n[t]??FL()}function OL(n,t){const e=FL();e.producerNode?.length&&(n[t]=Iw,e.lView=n,Iw=PL())}const GX={...y0,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{x_(n.lView)},lView:null};function PL(){return Object.create(GX)}function FL(){return Iw??=PL(),Iw}const At={};function U(n){LL(cn(),ge(),jr()+n,!1)}function LL(n,t,e,i){if(!i)if(3==(3&t[Tt])){const o=n.preOrderCheckHooks;null!==o&&Oc(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Pc(t,o,0,e)}ia(e)}function T(n,t=jt.Default){const e=ge();return null===e?P(n,t):ra(dr(),e,B(n),t)}function Gf(){throw new Error("invalid")}function xw(n,t,e,i,r,o,s,a,l,c,u){const f=t.blueprint.slice();return f[ni]=r,f[Tt]=140|i,(null!==c||n&&2048&n[Tt])&&(f[Tt]|=2048),df(f),f[ii]=f[Ma]=n,f[pi]=e,f[ka]=s||n&&n[ka],f[It]=a||n&&n[It],f[Ra]=l||n&&n[Ra]||null,f[Ir]=o,f[Yu]=function ZY(){return KY++}(),f[ta]=u,f[Xh]=c,f[ki]=2==t.type?n[ki]:f,f}function qf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function gD(n,t,e,i,r){const o=F0(),s=od(),l=n.data[t]=function eJ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Mc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function L0(){return vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Rl(){const n=vt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ps(o,!0),o}function D_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function VL(n,t,e,i,r){const o=NL(t,xc),s=jr(),a=2&i;try{ia(-1),a&&t.length>Zt&&LL(n,t,Zt,!1),Ho(a?2:0,r);const c=a?o:null,u=sf(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{jg(c,u)}}finally{a&&null===t[xc]&&OL(t,xc),ia(s),Ho(a?3:1,r)}}function _D(n,t,e){if(Fg(t)){const i=bn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{bn(i)}}}function yD(n,t,e){pf()&&(function aJ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;Dl(e)&&function pJ(n,t,e){const i=Li(t,n),r=BL(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Dw(n,xw(n,r,null,s,i,t,null,n[ka].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||I(e,t),no(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=La(t,n,a,e);no(c,t),null!==s&&mJ(0,a-r,c,l,0,s),Ns(l)&&(Do(e.index,t)[pi]=La(t,n,a,e))}}(n,t,e,Li(e,t)),64==(64&e.flags)&&$L(n,t,e))}function vD(n,t,e=Li){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function BL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=bD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function bD(n,t,e,i,r,o,s,a,l,c,u){const f=Zt+i,m=f+r,_=function KX(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:At);return e}(f,m),y="function"==typeof c?c():c;return _[Pe]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}let UL=n=>null;function jL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?HL(e,t,r,o):i.hasOwnProperty(r)&&HL(e,t,i[r],o)}return e}function HL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function hs(n,t,e,i,r,o,s,a){const l=Li(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(ID(n,e,u,i,r),Dl(t)&&function iJ(n,t){const e=Do(t,n);16&e[Tt]||(e[Tt]|=64)}(e,t.index)):3&t.type&&(i=function nJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function wD(n,t,e,i){if(pf()){const r=null===i?null:{"":-1},o=function cJ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Kh(t,s.selectors,!1))if(i||(i=[]),Ns(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),ED(n,t,a.length)}else i.unshift(s),ED(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&zL(n,t,e,s,r,a),r&&function uJ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new K(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Ec(e.mergedAttrs,e.attrs)}function zL(n,t,e,i,r,o){for(let c=0;c<i.length;c++)ze(I(e,t),n,i[c].type);!function hJ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=D_(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Ec(e.mergedAttrs,u.hostAttrs),fJ(n,e,t,l,u),dJ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function tJ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],m=e?e.get(f):null,y=m?m.outputs:null;l=jL(f.inputs,u,l,m?m.inputs:null),c=jL(f.outputs,u,c,y);const b=null===l||null===s||Gh(t)?null:gJ(l,u,s);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function $L(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function u1(){return vt.lFrame.currentDirectiveIndex}();try{ia(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];e_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&lJ(l,c)}}finally{ia(-1),e_(s)}}function lJ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ED(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function dJ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ns(t)&&(e[""]=n)}}function fJ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Sc(r.type)),s=new Ml(o,Ns(r),T);n.blueprint[i]=s,e[i]=s,function oJ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function sJ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,D_(n,e,r.hostVars,At),r)}function Ba(n,t,e,i,r,o){const s=Li(n,t);!function CD(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ze(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[It],s,o,n.value,e,i,r)}function mJ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)WL(i,e,s[a++],s[a++],s[a++])}function WL(n,t,e,i,r){const o=bn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{bn(o)}}function gJ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function GL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function qL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];t_(e[i]),s.contentQueries(2,t[o],o)}}}function Dw(n,t){return n[Tl]?n[u0][ls]=t:n[Tl]=t,n[u0]=t,t}function TD(n,t,e){t_(0);const i=bn(null);try{t(n,e)}finally{bn(i)}}function KL(n){return n[Tc]||(n[Tc]=[])}function ZL(n){return n.cleanup||(n.cleanup=[])}function QL(n,t){const e=n[Ra],i=e?e.get(Us,null):null;i&&i.handleError(t)}function ID(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];WL(n.data[s],t[s],i,a,r)}}function Pl(n,t,e){const i=uf(t,n);!function S2(n,t,e){n.setValue(t,e)}(n[It],i,e)}function _J(n,t){const e=Do(t,n),i=e[Pe];!function yJ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ni];null!==r&&null===e[ta]&&(e[ta]=aD(r,e[Ra])),xD(i,e,e[pi])}function xD(n,t,e){Nc(t);try{const i=n.viewQuery;null!==i&&TD(1,i,e);const r=n.template;null!==r&&VL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qL(n,t),n.staticViewQueries&&TD(2,n.viewQuery,e);const o=n.components;null!==o&&function vJ(n,t){for(let e=0;e<t.length;e++)_J(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Tt]&=-5,n_()}}let XL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function Qx(n,t,e){const i=Object.create(Xx);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>b0(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Ju(i))return;i.hasRun=!0;const s=sf(i);try{i.cleanupFn(),i.cleanupFn=x0,i.fn(r)}finally{jg(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=tr(r,a):2==o&&(i=tr(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function S_(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(Hn(o)),ur(o)&&JL(o,i);const s=e.type;if(8&s)S_(n,t,e.child,i);else if(32&s){const a=k1(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=L2(t,e);if(Array.isArray(a))i.push(...a);else{const l=m_(t[ki]);S_(l[Pe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function JL(n,t){for(let e=xr;e<n.length;e++){const i=n[e],r=i[Pe].firstChild;null!==r&&S_(i[Pe],i,r,t)}n[Ms]!==n[ni]&&t.push(n[Ms])}function Aw(n,t,e,i=!0){const r=t[ka],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{eV(n,t,n.template,e)}catch(l){throw i&&QL(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function eV(n,t,e,i){const r=t[Tt];if(256!=(256&r)){t[ka].effectManager?.flush(),Nc(t);try{df(t),function Jg(n){return vt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&VL(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&Oc(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Pc(t,c,0,null),o_(t,0)}if(function EJ(n){for(let t=I2(n);null!==t;t=x2(t)){if(!t[d0])continue;const e=t[Dc];for(let i=0;i<e.length;i++){r1(e[i])}}}(t),tV(t,2),null!==n.contentQueries&&qL(n,t),s){const c=n.contentCheckHooks;null!==c&&Oc(t,c)}else{const c=n.contentHooks;null!==c&&Pc(t,c,1),o_(t,1)}!function qX(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=NL(t,xl);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)ia(~o);else{const s=o,a=e[++r],l=e[++r];c1(a,s),i.dirty=!1;const c=sf(i);try{l(2,t[s])}finally{jg(i,c)}}}}finally{null===t[xl]&&OL(t,xl),ia(-1)}}(n,t);const a=n.components;null!==a&&iV(t,a,0);const l=n.viewQuery;if(null!==l&&TD(2,l,i),s){const c=n.viewCheckHooks;null!==c&&Oc(t,c)}else{const c=n.viewHooks;null!==c&&Pc(t,c,2),o_(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Tt]&=-73,hf(t)}finally{n_()}}}function tV(n,t){for(let e=I2(n);null!==e;e=x2(e))for(let i=xr;i<e.length;i++)nV(e[i],t)}function CJ(n,t,e){nV(Do(t,n),e)}function nV(n,t){if(!function k0(n){return 128==(128&n[Tt])}(n))return;const e=n[Pe],i=n[Tt];if(80&i&&0===t||1024&i||2===t)eV(e,n,e.template,n[pi]);else if(n[Cl]>0){tV(n,1);const r=e.components;null!==r&&iV(n,r,1)}}function iV(n,t,e){for(let i=0;i<t.length;i++)CJ(n,t[i],e)}class A_{get rootNodes(){const t=this._lView,e=t[Pe];return S_(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pi]}set context(t){this._lView[pi]=t}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ii];if(ur(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(aw(t,i),Q0(e,i))}this._attachedToViewContainer=!1}N1(this._lView[Pe],this._lView)}onDestroy(t){!function ff(n,t){if(256==(256&n[Tt]))throw new K(911,!1);null===n[Na]&&(n[Na]=[]),n[Na].push(t)}(this._lView,t)}markForCheck(){x_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){Aw(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cQ(n,t){__(n,t,t[It],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=t}}class TJ extends A_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Aw(t[Pe],t,t[pi],!1)}checkNoChanges(){}get context(){return null}}class rV extends I_{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=en(t);return new R_(e,this.ngModule)}}function oV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class xJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Hh(i);const r=this.injector.get(t,uD,i);return r!==uD||e===uD?r:this.parentInjector.get(t,e,i)}}class R_ extends dL{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=oV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return oV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function l0(n){return n.map(Rg).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof So?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new xJ(t,o):t,a=s.get(Hf,null);if(null===a)throw new K(407,!1);const f={rendererFactory:a,sanitizer:s.get(EX,null),effectManager:s.get(XL,null),afterRenderEventManager:s.get(mD,null)},m=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=i?function ZX(n,t,e,i){const o=i.get(AL,!1)||e===Uo.ShadowDom,s=n.selectRootElement(t,o);return function YX(n){UL(n)}(s),s}(m,i,this.componentDef.encapsulation,s):sw(m,_,function IJ(n){const t=n.toLowerCase();return"svg"===t?id:"math"===t?"math":null}(_)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==y&&(A=aD(y,s,!0));const L=bD(0,null,null,1,0,null,null,null,null,null,null),W=xw(null,L,null,N,null,null,f,m,s,null,A);let ce,De;Nc(W);try{const Me=this.componentDef;let it,rn=null;Me.findHostDirectiveDefs?(it=[],rn=new Map,Me.findHostDirectiveDefs(Me,it,rn),it.push(Me)):it=[Me];const _n=function SJ(n,t){const e=n[Pe],i=Zt;return n[i]=t,qf(e,i,2,"#host",null)}(W,y),Xi=function AJ(n,t,e,i,r,o,s){const a=r[Pe];!function RJ(n,t,e,i){for(const r of n)t.mergedAttrs=Ec(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Sw(t,t.mergedAttrs,!0),null!==e&&j2(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=aD(t,r[Ra]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=xw(r,BL(e),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&ED(a,n,i.length-1),Dw(r,f),r[n.index]=f}(_n,y,Me,it,W,f,m);De=R0(L,Zt),y&&function MJ(n,t,e,i){if(i)Cg(n,e,["ng-version",fL.full]);else{const{attrs:r,classes:o}=function kg(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Io(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Cg(n,e,r),o&&o.length>0&&U2(n,e,o.join(" "))}}(m,Me,y,i),void 0!==e&&function NJ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(De,this.ngContentSelectors,e),ce=function kJ(n,t,e,i,r,o){const s=dr(),a=r[Pe],l=Li(s,r);zL(a,r,s,e,null,i);for(let u=0;u<e.length;u++)no(La(r,a,s.directiveStart+u,s),r);$L(a,r,s),l&&no(l,r);const c=La(r,a,s.directiveStart+s.componentOffset,s);if(n[pi]=r[pi]=c,null!==o)for(const u of o)u(c,t);return _D(a,s,n),c}(Xi,Me,it,rn,W,[OJ]),xD(L,W,null)}finally{n_()}return new DJ(this.componentType,ce,jf(De,W),W,De)}}class DJ extends gX{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new TJ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;ID(o[Pe],o,r,t,e),this.previousInputValues.set(t,e),x_(Do(this._tNode.index,o))}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OJ(){const n=dr();vf(ge()[Pe],n)}function Qe(n){let t=function sV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ns(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Rw(n.inputs),s.inputTransforms=Rw(n.inputTransforms),s.declaredInputs=Rw(n.declaredInputs),s.outputs=Rw(n.outputs);const a=r.hostBindings;a&&VJ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&FJ(n,l),c&&LJ(n,c),kn(n.inputs,r.inputs),kn(n.declaredInputs,r.declaredInputs),kn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),kn(s.inputTransforms,r.inputTransforms)),Ns(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function PJ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ec(r.hostAttrs,e=Ec(e,r.hostAttrs))}}(i)}function Rw(n){return n===Rs?{}:n===hn?[]:n}function FJ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function LJ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function VJ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function uV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function kw(n){return!!DD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function DD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ua(n,t,e){return n[t]=e}function io(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function md(n,t,e,i){const r=io(n,t,e);return io(n,t+1,i)||r}function Mw(n,t,e,i,r){const o=md(n,t,e,i);return io(n,t+2,r)||o}function Pt(n,t,e,i){const r=ge();return io(r,kl(),t)&&(cn(),Ba(mi(),r,n,t,e,i)),Pt}function Zf(n,t,e,i){return io(n,kl(),e)?t+Ze(e)+i:At}function le(n,t,e,i,r,o,s,a){const l=ge(),c=cn(),u=n+Zt,f=c.firstCreatePass?function lee(n,t,e,i,r,o,s,a,l){const c=t.consts,u=qf(t,n,4,s||null,Pa(c,a));wD(t,e,u,Pa(c,l)),vf(t,u);const f=u.tView=bD(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Ps(f,!1);const m=CV(c,l,f,n);yf()&&cw(c,l,m,f),no(m,l),Dw(l,l[u]=GL(m,l,m,f)),Lg(f)&&yD(c,l,f),null!=s&&vD(l,f,a)}let CV=function TV(n,t,e,i){return Fa(!0),t[It].createComment("")};function nr(n){return Rc(function Xg(){return vt.lFrame.contextLView}(),Zt+n)}function H(n,t,e){const i=ge();return io(i,kl(),t)&&hs(cn(),mi(),i,n,t,i[It],e,!1),H}function ND(n,t,e,i,r){const s=r?"class":"style";ID(n,e,t.inputs[s],s,i)}function R(n,t,e,i){const r=ge(),o=cn(),s=Zt+n,a=r[It],l=o.firstCreatePass?function hee(n,t,e,i,r,o){const s=t.consts,l=qf(t,n,2,i,Pa(s,r));return wD(t,e,l,Pa(s,o)),null!==l.attrs&&Sw(l,l.attrs,!1),null!==l.mergedAttrs&&Sw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=IV(o,r,l,a,t,n);r[s]=c;const u=Lg(l);return Ps(l,!0),j2(a,c,l),32!=(32&l.flags)&&yf()&&cw(o,r,c,l),0===function o1(){return vt.lFrame.elementDepthCount}()&&no(c,r),function Yg(){vt.lFrame.elementDepthCount++}(),u&&(yD(o,r,l),_D(o,l,r)),null!==i&&vD(r,l),R}function M(){let n=dr();od()?sd():(n=n.parent,Ps(n,!1));const t=n;(function N0(n){return vt.skipHydrationRootTNode===n})(t)&&function a1(){vt.skipHydrationRootTNode=null}(),function Qg(){vt.lFrame.elementDepthCount--}();const e=cn();return e.firstCreatePass&&(vf(e,n),Fg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function wf(n){return 0!=(8&n.flags)}(t)&&ND(e,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function K0(n){return 0!=(16&n.flags)}(t)&&ND(e,t,ge(),t.stylesWithoutHost,!1),M}function nt(n,t,e,i){return R(n,t,e,i),M(),nt}let IV=(n,t,e,i,r,o)=>(Fa(!0),sw(i,r,function r_(){return vt.lFrame.currentNamespace}()));function Wo(n,t,e){const i=ge(),r=cn(),o=n+Zt,s=r.firstCreatePass?function mee(n,t,e,i,r){const o=t.consts,s=Pa(o,i),a=qf(t,n,8,"ng-container",s);return null!==s&&Sw(a,s,!0),wD(t,e,a,Pa(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Ps(s,!0);const a=xV(r,i,s,n);return i[o]=a,yf()&&cw(r,i,a,s),no(a,i),Lg(s)&&(yD(r,i,s),_D(r,s,i)),null!=e&&vD(i,s),Wo}function Go(){let n=dr();const t=cn();return od()?sd():(n=n.parent,Ps(n,!1)),t.firstCreatePass&&(vf(t,n),Fg(n)&&t.queries.elementEnd(n)),Go}let xV=(n,t,e,i)=>(Fa(!0),M1(t[It],""));function sn(){return ge()}function F_(n){return!!n&&"function"==typeof n.then}function DV(n){return!!n&&"function"==typeof n.subscribe}function Te(n,t,e,i){const r=ge(),o=cn(),s=dr();return function AV(n,t,e,i,r,o,s){const a=Lg(i),c=n.firstCreatePass&&ZL(n),u=t[pi],f=KL(t);let m=!0;if(3&i.type||s){const b=Li(i,t),E=s?s(b):b,N=f.length,A=s?W=>s(Hn(W[i.index])):i.index;let L=null;if(!s&&a&&(L=function yee(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Tc],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,m=!1;else{o=kV(i,t,u,o,!1);const W=e.listen(E,r,o);f.push(o,W),c&&c.push(r,A,N,N+1)}}else o=kV(i,t,u,o,!1);const _=i.outputs;let y;if(m&&null!==_&&(y=_[r])){const b=y.length;if(b)for(let E=0;E<b;E+=2){const ce=t[y[E]][y[E+1]].subscribe(o),De=f.length;f.push(o,ce),c&&c.push(r,i.index,De,-(De+1))}}}(o,r,r[It],s,n,t,i),Te}function RV(n,t,e,i){try{return Ho(6,t,e),!1!==e(i)}catch(r){return QL(n,r),!1}finally{Ho(7,t,e)}}function kV(n,t,e,i,r){return function o(s){if(s===Function)return i;x_(n.componentOffset>-1?Do(n.index,t):t);let l=RV(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=RV(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function ie(n=1){return function d1(n){return(vt.lFrame.contextLView=function h1(n,t){for(;n>0;)t=t[Ma],n--;return t}(n,vt.lFrame.contextLView))[pi]}(n)}function vee(n,t){let e=null;const i=function a0(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Kh(n,o,!0):Sg(i,o))return r}else e=r}return e}function ro(n){const t=ge()[ki][Ir];if(!t.projection){const i=t.projection=d_(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?vee(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function fn(n,t=0,e){const i=ge(),r=cn(),o=qf(r,Zt+n,16,null,e||null);null===o.projection&&(o.projection=t),sd(),(!i[ta]||Mc())&&32!=(32&o.flags)&&function _Q(n,t,e){B2(t[It],0,t,e,P1(n,e,t),N2(e.parent||t[Ir],e,t))}(r,i,o)}function Fw(n,t,e){return Lw(n,"",t,"",e),Fw}function Lw(n,t,e,i,r){const o=ge(),s=Zf(o,t,e,i);return s!==At&&hs(cn(),mi(),o,n,s,o[It],r,!1),Lw}function Vw(n,t){return n<<17|t<<2}function jc(n){return n>>17&32767}function OD(n){return 2|n}function gd(n){return(131068&n)>>2}function PD(n,t){return-131069&n|t<<2}function FD(n){return 1|n}function UV(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?jc(o):gd(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];Iee(n[a],t)&&(l=!0,n[a+1]=i?FD(u):OD(u)),a=i?jc(u):gd(u)}l&&(n[e+1]=i?OD(o):FD(o))}function Iee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&kf(n,t)>=0}const fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jV(n){return n.substring(fr.key,fr.keyEnd)}function HV(n,t){const e=fr.textEnd;return e===t?-1:(t=fr.keyEnd=function Aee(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,fr.key=t,e),ip(n,t,e))}function ip(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function _d(n,t,e){return sa(n,t,e,!1),_d}function dt(n,t){return sa(n,t,null,!0),dt}function Hc(n){aa(Vee,za,n,!0)}function za(n,t){for(let e=function Dee(n){return function $V(n){fr.key=0,fr.keyEnd=0,fr.value=0,fr.valueEnd=0,fr.textEnd=n.length}(n),HV(n,ip(n,0,fr.textEnd))}(t);e>=0;e=HV(t,e))cs(n,jV(t),!0)}function sa(n,t,e,i){const r=ge(),o=cn(),s=na(2);o.firstUpdatePass&&KV(o,n,s,i),t!==At&&io(r,s,t)&&YV(o,o.data[jr()],r,r[It],n,r[s+1]=function Uee(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=tt(us(n)))),n}(t,e),i,s)}function aa(n,t,e,i){const r=cn(),o=na(2);r.firstUpdatePass&&KV(r,null,o,i);const s=ge();if(e!==At&&io(s,o,e)){const a=r.data[jr()];if(XV(a,i)&&!qV(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=tr(l,e||"")),ND(r,a,s,e,i)}else!function Bee(n,t,e,i,r,o,s,a){r===At&&(r=hn);let l=0,c=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const m=l<r.length?r[l+1]:void 0,_=c<o.length?o[c+1]:void 0;let b,y=null;u===f?(l+=2,c+=2,m!==_&&(y=f,b=_)):null===f||null!==u&&u<f?(l+=2,y=u):(c+=2,y=f,b=_),null!==y&&YV(n,t,e,i,y,b,s,a),u=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[It],s[o+1],s[o+1]=function Lee(n,t,e){if(null==e||""===e)return hn;const i=[],r=us(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function qV(n,t){return t>=n.expandoStartIndex}function KV(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[jr()],s=qV(n,e);XV(o,i)&&null===t&&!s&&(t=!1),t=function Nee(n,t,e,i){const r=function ad(n){const t=vt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=L_(e=LD(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=LD(r,n,t,e,i),null===o){let l=function Oee(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==gd(i))return n[jc(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=LD(null,n,t,l[1],i),l=L_(l,t.attrs,i),function Pee(n,t,e,i){n[jc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function Fee(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=L_(i,n[o].hostAttrs,e);return L_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Cee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=jc(s),l=gd(s);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||kf(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const m=jc(n[a+1]);n[i+1]=Vw(m,a),0!==m&&(n[m+1]=PD(n[m+1],i)),n[a+1]=function wee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Vw(a,0),0!==a&&(n[a+1]=PD(n[a+1],i)),a=i;else n[i+1]=Vw(l,0),0===a?a=i:n[l+1]=PD(n[l+1],i),l=i;c&&(n[i+1]=OD(n[i+1])),UV(n,u,i,!0),UV(n,u,i,!1),function Tee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&kf(o,t)>=0&&(e[i+1]=FD(e[i+1]))}(t,u,n,i,o),s=Vw(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function LD(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=L_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function L_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),cs(n,s,!!e||t[++o]))}return void 0===n?null:n}function Vee(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&cs(n,i,e)}function YV(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function Eee(n){return 1==(1&n)}(c)?QV(l,t,e,r,gd(c),s):void 0;Bw(u)||(Bw(o)||function bee(n){return 2==(2&n)}(c)&&(o=QV(l,null,e,r,a,s)),function vQ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Bc.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bc.Important),n.setStyle(e,i,r,o))}}(i,s,uf(jr(),e),r,o))}function QV(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let m=e[r+1];m===At&&(m=f?hn:void 0);let _=f?E1(m,i):u===i?m:void 0;if(c&&!Bw(_)&&(_=E1(l,i)),Bw(_)&&(a=_,s))return a;const y=n[r+1];r=s?jc(y):gd(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=E1(l,i))}return a}function Bw(n){return void 0!==n}function XV(n,t){return 0!=(n.flags&(t?8:16))}function oe(n,t=""){const e=ge(),i=cn(),r=n+Zt,o=i.firstCreatePass?qf(i,r,1,t,null):i.data[r],s=JV(i,e,o,t,n);e[r]=s,yf()&&cw(i,e,s,o),Ps(o,!1)}let JV=(n,t,e,i,r)=>(Fa(!0),function ow(n,t){return n.createText(t)}(t[It],i));function ri(n){return Vi("",n,""),ri}function Vi(n,t,e){const i=ge(),r=Zf(i,n,t,e);return r!==At&&Pl(i,jr(),r),Vi}function VD(n,t,e,i,r){const o=ge(),s=function Yf(n,t,e,i,r,o){const a=md(n,Fs(),e,r);return na(2),a?t+Ze(e)+i+Ze(r)+o:At}(o,n,t,e,i,r);return s!==At&&Pl(o,jr(),s),VD}function BD(n,t,e,i,r,o,s){const a=ge(),l=function Qf(n,t,e,i,r,o,s,a){const c=Mw(n,Fs(),e,r,s);return na(3),c?t+Ze(e)+i+Ze(r)+o+Ze(s)+a:At}(a,n,t,e,i,r,o,s);return l!==At&&Pl(a,jr(),l),BD}function $r(n,t,e){const i=ge();return io(i,kl(),t)&&hs(cn(),mi(),i,n,t,i[It],e,!0),$r}const yd=void 0;var ate=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ste(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let rp={};function Ao(n){const t=function lte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=yB(t);if(e)return e;const i=t.split("-")[0];if(e=yB(i),e)return e;if("en"===i)return ate;throw new K(701,!1)}function yB(n){return n in rp||(rp[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),rp[n]}var oi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(oi||{});const op="en-US";let vB=op;function HD(n,t,e,i,r){if(n=B(n),Array.isArray(n))for(let o=0;o<n.length;o++)HD(n[o],t,e,i,r);else{const o=cn(),s=ge(),a=dr();let l=pd(n)?n:B(n.provide);const c=sL(n),u=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(pd(n)||!n.multi){const _=new Ml(c,r,T),y=$D(l,t,r?u:u+m,f);-1===y?(ze(I(a,s),o,l),zD(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[y]=_,s[y]=_)}else{const _=$D(l,t,u+m,f),y=$D(l,t,u,u+m),E=y>=0&&e[y];if(r&&!E||!r&&!(_>=0&&e[_])){ze(I(a,s),o,l);const N=function one(n,t,e,i,r){const o=new Ml(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,$B(o,r,i&&!e),o}(r?rne:ine,e.length,r,i,c);!r&&E&&(e[y].providerFactory=N),zD(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),s.push(N)}else zD(o,n,_>-1?_:y,$B(e[r?y:_],c,!r&&i));!r&&i&&E&&e[y].componentProviders++}}}function zD(n,t,e,i){const r=pd(t),o=function JQ(n){return!!n.useClass}(t);if(r||o){const l=(o?B(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function $B(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function $D(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ine(n,t,e,i){return WD(this.multi,[])}function rne(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=La(e,e[Pe],this.providerFactory.index,i);o=a.slice(0,s),WD(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],WD(r,o);return o}function WD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function nne(n,t,e){const i=cn();if(i.firstCreatePass){const r=Ns(n);HD(e,i.data,i.blueprint,r,!0),HD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class vd{}class WB{}class GD extends vd{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rV(this);const r=Br(t);this._bootstrapComponents=Ol(r.bootstrap),this._r3Injector=yL(t,e,[{provide:vd,useValue:this},{provide:I_,useValue:this.componentFactoryResolver},...i],tt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qD extends WB{constructor(t){super(),this.moduleType=t}create(t){return new GD(this.moduleType,t,[])}}class GB extends vd{constructor(t){super(),this.componentFactoryResolver=new rV(this),this.instance=null;const e=new Lf([...t.providers,{provide:vd,useValue:this},{provide:I_,useValue:this.componentFactoryResolver}],t.parent||_w(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function KD(n,t,e=null){return new GB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let lne=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=nL(0,e.type),r=i.length>0?KD([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(P(So))})}return n})();function Ko(n){n.getStandaloneInjector=t=>t.get(lne).getOrCreateStandaloneInjector(n)}function $w(n,t,e){const i=Ur()+n,r=ge();return r[i]===At?Ua(r,i,e?t.call(e):t()):function M_(n,t){return n[t]}(r,i)}function Fl(n,t,e,i){return JB(ge(),Ur(),n,t,e,i)}function bd(n,t,e,i,r){return eU(ge(),Ur(),n,t,e,i,r)}function Ww(n,t,e,i,r,o){return function tU(n,t,e,i,r,o,s,a){const l=t+e;return Mw(n,l,r,o,s)?Ua(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):$_(n,l+3)}(ge(),Ur(),n,t,e,i,r,o)}function $_(n,t){const e=n[t];return e===At?void 0:e}function JB(n,t,e,i,r,o){const s=t+e;return io(n,s,r)?Ua(n,s+1,o?i.call(o,r):i(r)):$_(n,s+1)}function eU(n,t,e,i,r,o,s){const a=t+e;return md(n,a,r,o)?Ua(n,a+2,s?i.call(s,r,o):i(r,o)):$_(n,a+2)}function sp(n,t){const e=cn();let i;const r=n+Zt;e.firstCreatePass?(i=function Cne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Sc(i.type)),a=to(T);try{const l=Cf(!1),c=o();return Cf(l),function dee(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ge(),r,c),c}finally{to(a)}}function W_(n,t,e,i){const r=n+Zt,o=ge(),s=Rc(o,r);return G_(o,r)?eU(o,Ur(),t,s.transform,e,i,s):s.transform(e,i)}function G_(n,t){return n[Pe].data[t].pure}function Dne(){return this._results[Symbol.iterator]()}class q_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Fe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=q_.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Dne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Vs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function EY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ane(n,t,e,i=!0){const r=t[Pe];if(function dQ(n,t,e,i){const r=xr+i,o=e.length;i>0&&(e[r-1][ls]=t),i<o-xr?(t[ls]=e[r],r2(e,xr+i,t)):(e.push(t),t[ls]=null),t[ii]=e;const s=t[Il];null!==s&&e!==s&&function hQ(n,t){const e=n[Dc];t[ki]!==t[ii][ii][ki]&&(n[d0]=!0),null===e?n[Dc]=[t]:e.push(t)}(s,t);const a=t[jo];null!==a&&a.insertView(n),t[Tt]|=128}(r,t,n,e),i){const o=L1(e,n),s=t[It],a=lw(s,n[Ms]);null!==a&&function lQ(n,t,e,i,r,o){i[ni]=r,i[Ir]=t,__(n,i,e,1,r,o)}(r,n[Ir],s,t,a,o)}}let pn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Mne}return n})();const Rne=pn,kne=class extends Rne{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Sne(n,t,e,i){const r=t.tView,a=xw(n,r,e,4096&n[Tt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Il]=n[t.index];const c=n[jo];return null!==c&&(a[jo]=c.createEmbeddedView(r)),xD(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new A_(r)}};function Mne(){return Gw(dr(),ge())}function Gw(n,t){return 4&n.type?new kne(t,n,jf(n,t)):null}let ir=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Vne}return n})();function Vne(){return dU(dr(),ge())}const Bne=ir,cU=class extends Bne{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return jf(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ye(this._hostTNode,this._hostLView);if(s_(t)){const e=ud(t,this._hostLView),i=cd(t);return new Dr(e[Pe].data[i+8],e)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function u_(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const l=s?t:new R_(en(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const E=(s?c:this.parentInjector).get(So,null);E&&(o=E)}en(l.componentType??{});const _=l.create(c,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function n1(n){return ur(n[ii])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[ii],u=new cU(c,c[Ir],c[ii]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Ane(a,r,s,!i),t.attachToViewContainerRef(),r2(YD(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=aw(this._lContainer,e);i&&(Q0(YD(this._lContainer),e),N1(i[Pe],i))}detach(t){const e=this._adjustIndex(t,-1),i=aw(this._lContainer,e);return i&&null!=Q0(YD(this._lContainer),e)?new A_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function uU(n){return n[8]}function YD(n){return n[8]||(n[8]=[])}function dU(n,t){let e;const i=t[n.index];return ur(i)?e=i:(e=GL(i,t,null,n),t[n.index]=e,Dw(t,e)),hU(e,t,n,i),new cU(e,n,t)}let hU=function fU(n,t,e,i){if(n[Ms])return;let r;r=8&e.type?Hn(i):function Une(n,t){const e=n[It],i=e.createComment(""),r=Li(t,n);return hd(e,lw(e,r),i,function gQ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ms]=r};class QD{constructor(t){this.queryList=t,this.matches=null}clone(){return new QD(this.queryList)}setDirty(){this.queryList.setDirty()}}class XD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new XD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==yU(t,e).matches&&this.queries[e].setDirty()}}class pU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class JD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new JD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,zne(e,o)),this.matchTNodeWithReadOption(t,e,Lc(e,t,o,!1,!1))}else i===pn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Lc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===st||r===ir||r===pn&&4&e.type)this.addMatch(e.index,-2);else{const o=Lc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function zne(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Wne(n,t,e,i){return-1===e?function $ne(n,t){return 11&n.type?jf(n,t):4&n.type?Gw(n,t):null}(t,n):-2===e?function Gne(n,t,e){return e===st?jf(t,n):e===pn?Gw(t,n):e===ir?dU(t,n):void 0}(n,t,i):La(n,n[Pe],e,t)}function mU(n,t,e,i){const r=t[jo].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Wne(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function tS(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=mU(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let f=xr;f<u.length;f++){const m=u[f];m[Il]===m[ii]&&tS(m[Pe],m,c,i)}if(null!==u[Dc]){const f=u[Dc];for(let m=0;m<f.length;m++){const _=f[m];tS(_[Pe],_,c,i)}}}}}return i}function Be(n){const t=ge(),e=cn(),i=V0();t_(i+1);const r=yU(e,i);if(n.dirty&&function Kg(n){return 4==(4&n[Tt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?tS(e,t,i,[]):mU(e,t,r,i);n.reset(o,bX),n.notifyOnChanges()}return!0}return!1}function wn(n,t,e){const i=cn();i.firstCreatePass&&(_U(i,new pU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),gU(i,ge(),t)}function Ft(n,t,e,i){const r=cn();if(r.firstCreatePass){const o=dr();_U(r,new pU(t,e,i),o.index),function Kne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}gU(r,ge(),e)}function Ue(){return function qne(n,t){return n[jo].queries[t].queryList}(ge(),V0())}function gU(n,t,e){const i=new q_(4==(4&e));(function JX(n,t,e,i){const r=KL(t);r.push(e),n.firstCreatePass&&ZL(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[jo]&&(t[jo]=new XD),t[jo].queries.push(new QD(i))}function _U(n,t,e){null===n.queries&&(n.queries=new JD),n.queries.track(new eS(t,e))}function yU(n,t){return n.queries.getByIndex(t)}function Zo(n,t){return Gw(n,t)}const aS=new ae("Application Initializer");let lS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=xe(aS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(F_(o))e.push(o);else if(DV(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Hs=new ae("LocaleId",{providedIn:"root",factory:()=>xe(Hs,jt.Optional|jt.SkipSelf)||function mie(){return typeof $localize<"u"&&$localize.locale||op}()});let Zw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let FU=(()=>{class n{compileModuleSync(e){return new qD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Ol(Br(e).declarations).reduce((s,a)=>{const l=en(a);return l&&s.push(new R_(l)),s},[]);return new yie(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UU=new ae(""),Qw=new ae("");let fS,dS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fS||(function Uie(n){fS=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(P(je),P(hS),P(Qw))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),hS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return fS?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),zc=null;const jU=new ae("AllowMultipleToken"),pS=new ae("PlatformDestroyListeners"),mS=new ae("appBootstrapListener");class zU{constructor(t,e){this.name=t,this.token=e}}function WU(n,t,e=[]){const i=`Platform: ${t}`,r=new ae(i);return(o=[])=>{let s=gS();if(!s||s.injector.get(jU,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function zie(n){if(zc&&!zc.get(jU,!1))throw new K(400,!1);(function HU(){!function qx(n){Gx=n}(()=>{throw new K(600,!1)})})(),zc=n;const t=n.get(qU);(function $U(n){n.get(aL,null)?.forEach(e=>e())})(n)}(function GU(n=[],t){return qi.create({name:t,providers:[{provide:Z1,useValue:"platform"},{provide:pS,useValue:new Set([()=>zc=null])},...n]})}(a,i))}return function Wie(n){const t=gS();if(!t)throw new K(401,!1);return t}()}}function gS(){return zc?.get(qU)??null}let qU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Gie(n="zone.js",t){return"noop"===n?new PX:"zone.js"===n?new je(t):n}(i?.ngZone,function KU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function ane(n,t,e){return new GD(n,t,e)}(e.moduleType,this.injector,function JU(n){return[{provide:je,useFactory:n},{provide:w_,multi:!0,useFactory:()=>{const t=xe(Kie,{optional:!0});return()=>t.initialize()}},{provide:XU,useFactory:qie},{provide:CL,useFactory:TL}]}(()=>r)),s=o.injector.get(Us,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Xw(this._modules,o),a.unsubscribe()})}),function ZU(n,t,e){try{const i=e();return F_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(lS);return a.runInitializers(),a.donePromise.then(()=>(function bB(n){Tr(n,"Expected localeId to be defined"),"string"==typeof n&&(vB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Hs,op)||op),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=YU({},i);return function jie(n,t,e){const i=new qD(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(la);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new K(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(pS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(P(qi))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function YU(n,t){return Array.isArray(t)?t.reduce(YU,n):{...n,...t}}let la=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xe(XU),this.zoneIsStable=xe(CL),this.componentTypes=[],this.components=[],this.isStable=xe(Zw).hasPendingTasks.pipe(Ve(e=>e?k(!1):this.zoneIsStable),ht(),se()),this._injector=xe(So)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof dL;if(!this._injector.get(lS).done)throw!r&&function Cc(n){const t=en(n)||lr(n)||cr(n);return null!==t&&t.standalone}(e),new K(405,!1);let s;s=r?e:this._injector.get(I_).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Hie(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vd),c=s.create(qi.NULL,[],i||s.selector,a),u=c.location.nativeElement,f=c.injector.get(UU,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Xw(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Xw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(mS,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Xw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new K(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const XU=new ae("",{providedIn:"root",factory:()=>xe(Us).handleError.bind(void 0)});function qie(){const n=xe(je),t=xe(Us);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Kie=(()=>{class n{constructor(){this.zone=xe(je),this.applicationRef=xe(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let pr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Yie}return n})();function Yie(n){return function Qie(n,t,e){if(Dl(n)&&!e){const i=Do(n.index,t);return new A_(i,i)}return 47&n.type?new A_(t[ki],t):null}(dr(),ge(),16==(16&n))}class rj{constructor(){}supports(t){return kw(t)}create(t){return new ire(t)}}const nre=(n,t)=>t;class ire{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<sj(i,r,o)?e:i,a=sj(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){const _=m<o.length?o[m]:o[m]=0,y=_+m;u<=y&&y<c&&(o[m]=_+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!kw(t))throw new K(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function $J(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new rre(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new oj),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oj),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ore{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class oj{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new ore,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sj(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class aj{constructor(){}supports(t){return t instanceof Map||DD(t)}create(){return new sre}}class sre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||DD(t)))throw new K(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new are(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class are{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lj(){return new Ll([new rj])}let Ll=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:lj});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||lj()),deps:[[n,new h_,new Bs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new K(901,!1)}}return n})();function cj(){return new Y_([new aj])}let Y_=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:cj});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cj()),deps:[[n,new h_,new Bs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new K(901,!1)}}return n})();const ure=WU(null,"core",[]);let dre=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(P(la))};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();function cp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function ES(n,t){const e=en(n),i=t.elementInjector||_w();return new R_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let CS=null;function $c(){return CS}class Ire{}const wt=new ae("DocumentToken");let TS=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return xe(Dre)},providedIn:"platform"})}return n})();const xre=new ae("Location Initialized");let Dre=(()=>{class n extends TS{constructor(){super(),this._doc=xe(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $c().getBaseHref(this._doc)}onPopState(e){const i=$c().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$c().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function IS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function yj(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vl(n){return n&&"?"!==n[0]?"?"+n:n}let Ed=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return xe(bj)},providedIn:"root"})}return n})();const vj=new ae("appBaseHref");let bj=(()=>{class n extends Ed{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??xe(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return IS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(TS),P(vj,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sre=(()=>{class n extends Ed{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=IS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(TS),P(vj,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),nE=(()=>{class n{constructor(e){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function kre(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(yj(wj(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vl(i))}normalize(e){return n.stripTrailingSlash(function Rre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,wj(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Vl;static#t=this.joinWithSlash=IS;static#n=this.stripTrailingSlash=yj;static#i=this.\u0275fac=function(i){return new(i||n)(P(Ed))};static#r=this.\u0275prov=pe({token:n,factory:function(){return function Are(){return new nE(P(Ed))}()},providedIn:"root"})}return n})();function wj(n){return n.replace(/\/index.html$/,"")}var Sr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Sr||{}),En=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(En||{}),fs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(fs||{}),Ki=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ki||{});function rE(n,t){return $s(Ao(n)[oi.DateFormat],t)}function oE(n,t){return $s(Ao(n)[oi.TimeFormat],t)}function sE(n,t){return $s(Ao(n)[oi.DateTimeFormat],t)}function zs(n,t){const e=Ao(n),i=e[oi.NumberSymbols][t];if(typeof i>"u"){if(t===Ki.CurrencyDecimal)return e[oi.NumberSymbols][Ki.Decimal];if(t===Ki.CurrencyGroup)return e[oi.NumberSymbols][Ki.Group]}return i}function Tj(n){if(!n[oi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[oi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $s(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function SS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const zre=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Q_={},$re=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bl=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Bl||{}),In=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(In||{}),xn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(xn||{});function Ij(n,t,e,i){let r=function Jre(n){if(Sj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return aE(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(zre))return function eoe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!Sj(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ul(e,t)||t;let a,s=[];for(;t;){if(a=$re.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=Dj(i,l),r=function Xre(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Qre(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Dj(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const f=function Yre(n){if(RS[n])return RS[n];let t;switch(n){case"G":case"GG":case"GGG":t=si(xn.Eras,En.Abbreviated);break;case"GGGG":t=si(xn.Eras,En.Wide);break;case"GGGGG":t=si(xn.Eras,En.Narrow);break;case"y":t=rr(In.FullYear,1,0,!1,!0);break;case"yy":t=rr(In.FullYear,2,0,!0,!0);break;case"yyy":t=rr(In.FullYear,3,0,!1,!0);break;case"yyyy":t=rr(In.FullYear,4,0,!1,!0);break;case"Y":t=dE(1);break;case"YY":t=dE(2,!0);break;case"YYY":t=dE(3);break;case"YYYY":t=dE(4);break;case"M":case"L":t=rr(In.Month,1,1);break;case"MM":case"LL":t=rr(In.Month,2,1);break;case"MMM":t=si(xn.Months,En.Abbreviated);break;case"MMMM":t=si(xn.Months,En.Wide);break;case"MMMMM":t=si(xn.Months,En.Narrow);break;case"LLL":t=si(xn.Months,En.Abbreviated,Sr.Standalone);break;case"LLLL":t=si(xn.Months,En.Wide,Sr.Standalone);break;case"LLLLL":t=si(xn.Months,En.Narrow,Sr.Standalone);break;case"w":t=AS(1);break;case"ww":t=AS(2);break;case"W":t=AS(1,!0);break;case"d":t=rr(In.Date,1);break;case"dd":t=rr(In.Date,2);break;case"c":case"cc":t=rr(In.Day,1);break;case"ccc":t=si(xn.Days,En.Abbreviated,Sr.Standalone);break;case"cccc":t=si(xn.Days,En.Wide,Sr.Standalone);break;case"ccccc":t=si(xn.Days,En.Narrow,Sr.Standalone);break;case"cccccc":t=si(xn.Days,En.Short,Sr.Standalone);break;case"E":case"EE":case"EEE":t=si(xn.Days,En.Abbreviated);break;case"EEEE":t=si(xn.Days,En.Wide);break;case"EEEEE":t=si(xn.Days,En.Narrow);break;case"EEEEEE":t=si(xn.Days,En.Short);break;case"a":case"aa":case"aaa":t=si(xn.DayPeriods,En.Abbreviated);break;case"aaaa":t=si(xn.DayPeriods,En.Wide);break;case"aaaaa":t=si(xn.DayPeriods,En.Narrow);break;case"b":case"bb":case"bbb":t=si(xn.DayPeriods,En.Abbreviated,Sr.Standalone,!0);break;case"bbbb":t=si(xn.DayPeriods,En.Wide,Sr.Standalone,!0);break;case"bbbbb":t=si(xn.DayPeriods,En.Narrow,Sr.Standalone,!0);break;case"B":case"BB":case"BBB":t=si(xn.DayPeriods,En.Abbreviated,Sr.Format,!0);break;case"BBBB":t=si(xn.DayPeriods,En.Wide,Sr.Format,!0);break;case"BBBBB":t=si(xn.DayPeriods,En.Narrow,Sr.Format,!0);break;case"h":t=rr(In.Hours,1,-12);break;case"hh":t=rr(In.Hours,2,-12);break;case"H":t=rr(In.Hours,1);break;case"HH":t=rr(In.Hours,2);break;case"m":t=rr(In.Minutes,1);break;case"mm":t=rr(In.Minutes,2);break;case"s":t=rr(In.Seconds,1);break;case"ss":t=rr(In.Seconds,2);break;case"S":t=rr(In.FractionalSeconds,1);break;case"SS":t=rr(In.FractionalSeconds,2);break;case"SSS":t=rr(In.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=cE(Bl.Short);break;case"ZZZZZ":t=cE(Bl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=cE(Bl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=cE(Bl.Long);break;default:return null}return RS[n]=t,t}(u);c+=f?f(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function aE(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ul(n,t){const e=function Nre(n){return Ao(n)[oi.LocaleId]}(n);if(Q_[e]=Q_[e]||{},Q_[e][t])return Q_[e][t];let i="";switch(t){case"shortDate":i=rE(n,fs.Short);break;case"mediumDate":i=rE(n,fs.Medium);break;case"longDate":i=rE(n,fs.Long);break;case"fullDate":i=rE(n,fs.Full);break;case"shortTime":i=oE(n,fs.Short);break;case"mediumTime":i=oE(n,fs.Medium);break;case"longTime":i=oE(n,fs.Long);break;case"fullTime":i=oE(n,fs.Full);break;case"short":const r=Ul(n,"shortTime"),o=Ul(n,"shortDate");i=lE(sE(n,fs.Short),[r,o]);break;case"medium":const s=Ul(n,"mediumTime"),a=Ul(n,"mediumDate");i=lE(sE(n,fs.Medium),[s,a]);break;case"long":const l=Ul(n,"longTime"),c=Ul(n,"longDate");i=lE(sE(n,fs.Long),[l,c]);break;case"full":const u=Ul(n,"fullTime"),f=Ul(n,"fullDate");i=lE(sE(n,fs.Full),[u,f])}return i&&(Q_[e][t]=i),i}function lE(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ca(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function rr(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function Gre(n,t){switch(n){case In.FullYear:return t.getFullYear();case In.Month:return t.getMonth();case In.Date:return t.getDate();case In.Hours:return t.getHours();case In.Minutes:return t.getMinutes();case In.Seconds:return t.getSeconds();case In.FractionalSeconds:return t.getMilliseconds();case In.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===In.Hours)0===a&&-12===e&&(a=12);else if(n===In.FractionalSeconds)return function Wre(n,t){return ca(n,3).substring(0,t)}(a,t);const l=zs(s,Ki.MinusSign);return ca(a,t,l,i,r)}}function si(n,t,e=Sr.Format,i=!1){return function(r,o){return function qre(n,t,e,i,r,o){switch(e){case xn.Months:return function xS(n,t,e){const i=Ao(n),o=$s([i[oi.MonthsFormat],i[oi.MonthsStandalone]],t);return $s(o,e)}(t,r,i)[n.getMonth()];case xn.Days:return function Cj(n,t,e){const i=Ao(n),o=$s([i[oi.DaysFormat],i[oi.DaysStandalone]],t);return $s(o,e)}(t,r,i)[n.getDay()];case xn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function Vre(n){const t=Ao(n);return Tj(t),(t[oi.ExtraData][2]||[]).map(i=>"string"==typeof i?SS(i):[SS(i[0]),SS(i[1])])}(t),u=function Bre(n,t,e){const i=Ao(n);Tj(i);const o=$s([i[oi.ExtraData][0],i[oi.ExtraData][1]],t)||[];return $s(o,e)||[]}(t,r,i),f=c.findIndex(m=>{if(Array.isArray(m)){const[_,y]=m,b=s>=_.hours&&a>=_.minutes,E=s<y.hours||s===y.hours&&a<y.minutes;if(_.hours<y.hours){if(b&&E)return!0}else if(b||E)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return function Ore(n,t,e){const i=Ao(n),o=$s([i[oi.DayPeriodsFormat],i[oi.DayPeriodsStandalone]],t);return $s(o,e)}(t,r,i)[s<12?0:1];case xn.Eras:return function Pre(n,t){return $s(Ao(n)[oi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function cE(n){return function(t,e,i){const r=-1*i,o=zs(e,Ki.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bl.Short:return(r>=0?"+":"")+ca(s,2,o)+ca(Math.abs(r%60),2,o);case Bl.ShortGMT:return"GMT"+(r>=0?"+":"")+ca(s,1,o);case Bl.Long:return"GMT"+(r>=0?"+":"")+ca(s,2,o)+":"+ca(Math.abs(r%60),2,o);case Bl.Extended:return 0===i?"Z":(r>=0?"+":"")+ca(s,2,o)+":"+ca(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Kre=0,uE=4;function xj(n){return aE(n.getFullYear(),n.getMonth(),n.getDate()+(uE-n.getDay()))}function AS(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=xj(e),s=function Zre(n){const t=aE(n,Kre,1).getDay();return aE(n,0,1+(t<=uE?uE:uE+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ca(r,n,zs(i,Ki.MinusSign))}}function dE(n,t=!1){return function(e,i){return ca(xj(e).getFullYear(),n,zs(i,Ki.MinusSign),t)}}const RS={};function Dj(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Sj(n){return n instanceof Date&&!isNaN(n.valueOf())}function Mj(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const FS=/\s+/,Nj=[];let jl=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Nj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(FS):Nj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(FS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(FS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ll),T(Y_),T(st),T($o))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class foe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new foe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Pj(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Pj(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(Ll))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Pj(n,t){n.context.$implicit=t.item}let mr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new poe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fj("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fj("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class poe{constructor(){this.$implicit=null,this.ngIf=null}}function Fj(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(t)}'.`)}class LS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let J_=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),VS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new LS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(J_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Lj=(()=>{class n{constructor(e,i,r){r._addDefault(new LS(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(J_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Wc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yn]})}return n})();const Doe=new ae("DATE_PIPE_DEFAULT_TIMEZONE"),Soe=new ae("DATE_PIPE_DEFAULT_OPTIONS");let Bj=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Ij(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function ua(n,t){return new K(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(T(Hs,16),T(Doe,24),T(Soe,24))};static#t=this.\u0275pipe=Gi({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Uj=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"json",type:n,pure:!1,standalone:!0})}return n})(),dp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const Hj="browser";function fE(n){return"server"===n}let joe=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new Hoe(P(wt),window)})}return n})();class Hoe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zoe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zj{}class hse extends Ire{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zS extends hse{static makeCurrent(){!function Tre(n){CS||(CS=n)}(new zS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function fse(){return ty=ty||document.querySelector("base"),ty?ty.getAttribute("href"):null}();return null==e?null:function pse(n){gE=gE||document.createElement("a"),gE.setAttribute("href",n);const t=gE.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ty=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Mj(document.cookie,t)}}let gE,ty=null,gse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const $S=new ae("EventManagerPlugins");let Kj=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(P($S),P(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class Zj{constructor(t){this._doc=t}}const WS="ng-app-id";let Yj=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${WS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(WS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(WS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(E_),P(J1,8),P(ds))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const GS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qS=/%COMP%/g,bse=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xj(n,t){return t.map(e=>e.replace(qS,n))}let KS=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fE(a),this.defaultRenderer=new ZS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Uo.ShadowDom&&(i={...i,encapsulation:Uo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof eH?r.applyToHost(e):r instanceof YS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Uo.Emulated:o=new eH(l,c,i,this.appId,u,s,a,f);break;case Uo.ShadowDom:return new Tse(l,c,e,i,s,a,this.nonce,f);default:o=new YS(l,c,i,u,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kj),P(Yj),P(E_),P(bse),P(wt),P(ds),P(je),P(J1))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class ZS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(GS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Jj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Jj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new K(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=GS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=GS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Bc.DashCase|Bc.Important)?t.style.setProperty(e,i,r&Bc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Bc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=$c().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Jj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tse extends ZS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Xj(r.id,r.styles);for(const u of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class YS extends ZS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Xj(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eH extends YS{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function wse(n){return"_ngcontent-%COMP%".replace(qS,n)}(c),this.hostAttr=function Ese(n){return"_nghost-%COMP%".replace(qS,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Ise=(()=>{class n extends Zj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const tH=["alt","control","meta","shift"],xse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sse=(()=>{class n extends Zj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$c().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),tH.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=xse[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tH.forEach(s=>{s!==r&&(0,Dse[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const iH=[{provide:ds,useValue:Hj},{provide:aL,useValue:function Ase(){zS.makeCurrent()},multi:!0},{provide:wt,useFactory:function kse(){return function TQ(n){U1=n}(document),document},deps:[]}],Mse=WU(ure,"browser",iH),Nse=new ae(""),rH=[{provide:Qw,useClass:class mse{addToWindow(t){Mn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new K(5103,!1);return o},Mn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mn.getAllAngularRootElements=()=>t.getAllRootElements(),Mn.frameworkStabilizers||(Mn.frameworkStabilizers=[]),Mn.frameworkStabilizers.push(i=>{const r=Mn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?$c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:UU,useClass:dS,deps:[je,hS,Qw]},{provide:dS,useClass:dS,deps:[je,hS,Qw]}],oH=[{provide:Z1,useValue:"root"},{provide:Us,useFactory:function Rse(){return new Us},deps:[]},{provide:$S,useClass:Ise,multi:!0,deps:[wt,je,ds]},{provide:$S,useClass:Sse,multi:!0,deps:[wt]},KS,Yj,Kj,{provide:Hf,useExisting:KS},{provide:zj,useClass:gse,deps:[]},[]];let sH=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:E_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Nse,12))};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[...oH,...rH],imports:[dp,dre]})}return n})(),aH=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function Pse(){return new aH(P(wt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let XS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):P(uH),r},providedIn:"root"})}return n})(),uH=(()=>{class n extends XS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case zr.NONE:return i;case zr.HTML:return Va(i,"HTML")?us(i):Q2(this._doc,String(i)).toString();case zr.STYLE:return Va(i,"Style")?us(i):i;case zr.SCRIPT:if(Va(i,"Script"))return us(i);throw new K(5200,!1);case zr.URL:return Va(i,"URL")?us(i):fw(String(i));case zr.RESOURCE_URL:if(Va(i,"ResourceURL"))return us(i);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(e){return function kQ(n){return new IQ(n)}(e)}bypassSecurityTrustStyle(e){return function MQ(n){return new xQ(n)}(e)}bypassSecurityTrustScript(e){return function NQ(n){return new DQ(n)}(e)}bypassSecurityTrustUrl(e){return function OQ(n){return new SQ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function PQ(n){return new AQ(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function Bse(n){return new uH(n.get(wt))}(P(qi)),r},providedIn:"root"})}return n})();const{isArray:Use}=Array,{getPrototypeOf:jse,prototype:Hse,keys:zse}=Object;function hH(n){if(1===n.length){const t=n[0];if(Use(t))return{args:t,keys:null};if(function $se(n){return n&&"object"==typeof n&&jse(n)===Hse}(t)){const e=zse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Wse}=Array;function JS(n){return we(t=>function Gse(n,t){return Wse(t)?n(...t):n(t)}(n,t))}function fH(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function pH(...n){const t=vo(n),{args:e,keys:i}=hH(n),r=new ct(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let f=!1;be(e[u]).subscribe(Se(o,m=>{f||(f=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?fH(i,a):a),o.complete())}))}});return t?r.pipe(JS(t)):r}let mH=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(T($o),T(st))};static#t=this.\u0275dir=X({type:n})}return n})(),Cd=(()=>{class n extends mH{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,features:[Qe]})}return n})();const ps=new ae("NgValueAccessor"),qse={provide:ps,useExisting:q(()=>eA),multi:!0};let eA=(()=>{class n extends Cd{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Te("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[bt([qse]),Qe]})}return n})();const Kse={provide:ps,useExisting:q(()=>$a),multi:!0},Yse=new ae("CompositionEventMode");let $a=(()=>{class n extends mH{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zse(){const n=$c()?$c().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T($o),T(st),T(Yse,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bt([Kse]),Qe]})}return n})();function qc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function gH(n){return null!=n&&"number"==typeof n.length}const Ar=new ae("NgValidators"),Kc=new ae("NgAsyncValidators"),Qse=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ny{static min(t){return function _H(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function yH(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return vH(t)}static requiredTrue(t){return function bH(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return wH(t)}static minLength(t){return function EH(n){return t=>qc(t.value)||!gH(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function CH(n){return t=>gH(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function TH(n){if(!n)return _E;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(qc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return RH(t)}static composeAsync(t){return kH(t)}}function vH(n){return qc(n.value)?{required:!0}:null}function wH(n){return qc(n.value)||Qse.test(n.value)?null:{email:!0}}function _E(n){return null}function IH(n){return null!=n}function xH(n){return F_(n)?C(n):n}function DH(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function SH(n,t){return t.map(e=>e(n))}function AH(n){return n.map(t=>function Xse(n){return!n.validate}(t)?t:e=>t.validate(e))}function RH(n){if(!n)return null;const t=n.filter(IH);return 0==t.length?null:function(e){return DH(SH(e,t))}}function tA(n){return null!=n?RH(AH(n)):null}function kH(n){if(!n)return null;const t=n.filter(IH);return 0==t.length?null:function(e){return pH(SH(e,t).map(xH)).pipe(we(DH))}}function nA(n){return null!=n?kH(AH(n)):null}function MH(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function NH(n){return n._rawValidators}function OH(n){return n._rawAsyncValidators}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function yE(n,t){return Array.isArray(n)?n.includes(t):n===t}function PH(n,t){const e=iA(t);return iA(n).forEach(r=>{yE(e,r)||e.push(r)}),e}function FH(n,t){return iA(t).filter(e=>!yE(n,e))}class LH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ko extends LH{get formDirective(){return null}get path(){return null}}class Wa extends LH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VH{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hl=(()=>{class n extends VH{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Wa,2))};static#t=this.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&dt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Qe]})}return n})(),hp=(()=>{class n extends VH{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(ko,10))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&dt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Qe]})}return n})();const iy="VALID",bE="INVALID",fp="PENDING",ry="DISABLED";function sA(n){return(wE(n)?n.validators:n)||null}function aA(n,t){return(wE(t)?t.asyncValidators:n)||null}function wE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class HH{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===iy}get invalid(){return this.status===bE}get pending(){return this.status==fp}get disabled(){return this.status===ry}get enabled(){return this.status!==ry}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(PH(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PH(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FH(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FH(t,this._rawAsyncValidators))}hasValidator(t){return yE(this._rawValidators,t)}hasAsyncValidator(t){return yE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ry,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iy||this.status===fp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ry:iy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fp,this._hasOwnPendingAsyncValidator=!0;const e=xH(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ry:this.errors?bE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fp)?fp:this._anyControlsHaveStatus(bE)?bE:iy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function nae(n){return Array.isArray(n)?tA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function iae(n){return Array.isArray(n)?nA(n):n||null}(this._rawAsyncValidators)}}class EE extends HH{constructor(t,e,i){super(sA(e),aA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function jH(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new K(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function UH(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new K(1e3,"");if(!i[e])throw new K(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Td=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>oy}),oy="always";function CE(n,t){return[...t.path,n]}function sy(n,t,e=oy){lA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function sae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zH(n,t)})}(n,t),function lae(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function aae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zH(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function oae(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function TE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),xE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function lA(n,t){const e=NH(n);null!==t.validator?n.setValidators(MH(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=OH(n);null!==t.asyncValidator?n.setAsyncValidators(MH(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();IE(t._rawValidators,r),IE(t._rawAsyncValidators,r)}function xE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=NH(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=OH(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return IE(t._rawValidators,i),IE(t._rawAsyncValidators,i),e}function zH(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $H(n,t){lA(n,t)}function uA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function WH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===$a?e=o:function dae(n){return Object.getPrototypeOf(n.constructor)===Cd}(o)?i=o:r=o}),r||i||e||null}const fae={provide:ko,useExisting:q(()=>zl)},ay=(()=>Promise.resolve())();let zl=(()=>{class n extends ko{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new EE({},tA(e),nA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ay.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),sy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ay.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ay.then(()=>{const i=this._findContainer(e.path),r=new EE({});$H(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ay.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ay.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,WH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ar,10),T(Kc,10),T(Td,8))};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([fae]),Qe]})}return n})();function GH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function qH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zc=class extends HH{constructor(t=null,e,i){super(sA(e),aA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=qH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){qH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},gae={provide:Wa,useExisting:q(()=>$l)},YH=(()=>Promise.resolve())();let $l=(()=>{class n extends Wa{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zc,this._registered=!1,this.name="",this.update=new Fe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&cp(i);YH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?CE(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(T(ko,9),T(Ar,10),T(Kc,10),T(ps,10),T(pr,8),T(Td,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([gae]),Qe,Yn]})}return n})(),pp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const _ae={provide:ps,useExisting:q(()=>hA),multi:!0};let hA=(()=>{class n extends Cd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Te("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[bt([_ae]),Qe]})}return n})();const yae={provide:ps,useExisting:q(()=>DE),multi:!0};let QH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),vae=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:QH})}return n})(),DE=(()=>{class n extends Cd{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=xe(Td,{optional:!0})??oy}ngOnInit(){this._control=this._injector.get(Wa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(T($o),T(st),T(vae),T(qi))};static#t=this.\u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Te("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[bt([yae]),Qe]})}return n})();const fA=new ae("NgModelWithFormControlWarning"),Eae={provide:ko,useExisting:q(()=>mp)};let mp=(()=>{class n extends ko{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return sy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){TE(e.control||null,e,!1),function hae(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,WH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(TE(i||null,e),(n=>n instanceof Zc)(r)&&(sy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);$H(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function cae(n,t){return xE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lA(this.form,this),this._oldForm&&xE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ar,10),T(Kc,10),T(Td,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Eae]),Qe,Yn]})}return n})();const Iae={provide:Wa,useExisting:q(()=>gA)};let gA=(()=>{class n extends Wa{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,o)}ngOnChanges(e){this._added||this._setUpControl(),uA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return CE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(T(ko,13),T(Ar,10),T(Kc,10),T(ps,10),T(fA,8))};static#n=this.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([Iae]),Qe,Yn]})}return n})(),Id=(()=>{class n{constructor(){this._validator=_E}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_E,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,features:[Yn]})}return n})();const Oae={provide:Ar,useExisting:q(()=>ly),multi:!0};let ly=(()=>{class n extends Id{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=cp,this.createValidator=e=>vH}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},features:[bt([Oae]),Qe]})}return n})();const Fae={provide:Ar,useExisting:q(()=>SE),multi:!0};let SE=(()=>{class n extends Id{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=cp,this.createValidator=e=>wH}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[bt([Fae]),Qe]})}return n})(),u3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[QH]})}return n})(),jae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Td,useValue:e.callSetDisabledState??oy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[u3]})}return n})(),Hae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Td,useValue:e.callSetDisabledState??oy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[u3]})}return n})();function AE(...n){const t=as(n),e=vo(n),{args:i,keys:r}=hH(n);if(0===i.length)return C([],t);const o=new ct(function zae(n,t,e=Kn){return i=>{h3(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)h3(t,()=>{const c=C(n[l],t);let u=!1;c.subscribe(Se(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>fH(r,s):Kn));return e?o.pipe(JS(e)):o}function h3(n,t,e){n?ar(e,n,t):t()}const RE=re(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gp(...n){return function $ae(){return dn(1)}()(C(n,as(n)))}function bA(n){return new ct(t=>{be(n()).subscribe(t)})}function xd(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new ct(t?r=>t.schedule(i,0,r):i)}function wA(){return de((n,t)=>{let e=null;n._refCount++;const i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class EA extends ct{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pt;const e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pt.EMPTY)}return t}refCount(){return wA()(this)}}function Qn(n){return n<=0?()=>vn:de((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Yc(...n){const t=as(n);return de((e,i)=>{(t?gp(n,e,t):gp(n,e)).subscribe(i)})}function zn(n,t){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function kE(n){return de((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function f3(n=Wae){return de((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Wae(){return new RE}function Qc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,Qn(1),e?kE(t):f3(()=>new RE))}function _p(n,t){return S(t)?Kt(n,t,1):Kt(n,1)}function gi(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?de((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Se(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Kn}function Wl(n){return de((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Se(e,void 0,void 0,s=>{o=be(n(s,Wl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function yp(n,t){return de(function Gae(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Se(s,u=>{const f=c++;l=a?n(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function CA(n){return n<=0?()=>vn:de((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function p3(n){return we(()=>n)}function Dd(n){return de((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Et(n){return de((t,e)=>{be(n).subscribe(Se(e,()=>e.complete(),qe)),!e.closed&&t.subscribe(e)})}const Lt="primary",cy=Symbol("RouteTitle");class Kae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vp(n){return new Kae(n)}function Zae(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ga(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!m3(n[r],t[r]))return!1;return!0}function m3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function g3(n){return n.length>0?n[n.length-1]:null}function Xc(n){return function d3(n){return!!n&&(n instanceof ct||S(n.lift)&&S(n.subscribe))}(n)?n:F_(n)?C(Promise.resolve(n)):k(n)}const Qae={exact:function v3(n,t,e){if(!Sd(n.segments,t.segments)||!ME(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!v3(n.children[i],t.children[i],e))return!1;return!0},subset:b3},_3={exact:function Xae(n,t){return Ga(n,t)},subset:function Jae(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>m3(n[e],t[e]))},ignored:()=>!0};function y3(n,t,e){return Qae[e.paths](n.root,t.root,e.matrixParams)&&_3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function b3(n,t,e){return w3(n,t,t.segments,e)}function w3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Sd(r,e)||t.hasChildren()||!ME(r,e,i))}if(n.segments.length===e.length){if(!Sd(n.segments,e)||!ME(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!b3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Sd(n.segments,r)&&ME(n.segments,r,i)&&n.children[Lt])&&w3(n.children[Lt],t,o,i)}}function ME(n,t,e){return t.every((i,r)=>_3[e](n[r].parameters,i.parameters))}class bp{constructor(t=new Pn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vp(this.queryParams)),this._queryParamMap}toString(){return nle.serialize(this)}}class Pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return NE(this)}}class uy{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vp(this.parameters)),this._parameterMap}toString(){return T3(this)}}function Sd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let dy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new TA},providedIn:"root"})}return n})();class TA{parse(t){const e=new fle(t);return new bp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hy(t.root,!0)}`,i=function ole(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${OE(e)}=${OE(r)}`).join("&"):`${OE(e)}=${OE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ile(n){return encodeURI(n)}(t.fragment)}`:""}`}}const nle=new TA;function NE(n){return n.segments.map(t=>T3(t)).join("/")}function hy(n,t){if(!n.hasChildren())return NE(n);if(t){const e=n.children[Lt]?hy(n.children[Lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Lt&&i.push(`${r}:${hy(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function tle(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Lt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Lt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Lt?[hy(n.children[Lt],!1)]:[`${r}:${hy(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${NE(n)}/${e[0]}`:`${NE(n)}/(${e.join("//")})`}}function E3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function OE(n){return E3(n).replace(/%3B/gi,";")}function IA(n){return E3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function PE(n){return decodeURIComponent(n)}function C3(n){return PE(n.replace(/\+/g,"%20"))}function T3(n){return`${IA(n.path)}${function rle(n){return Object.keys(n).map(t=>`;${IA(t)}=${IA(n[t])}`).join("")}(n.parameters)}`}const sle=/^[^\/()?;#]+/;function xA(n){const t=n.match(sle);return t?t[0]:""}const ale=/^[^\/()?;=#]+/,cle=/^[^=?&#]+/,dle=/^[^&#]+/;class fle{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new Pn(t,e)),i}parseSegment(){const t=xA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(t),new uy(PE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function lle(n){const t=n.match(ale);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=xA(this.remaining);r&&(i=r,this.capture(i))}t[PE(e)]=PE(i)}parseQueryParam(t){const e=function ule(n){const t=n.match(cle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function hle(n){const t=n.match(dle);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=C3(e),o=C3(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new K(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Lt]:new Pn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new K(4011,!1)}}function I3(n){return n.segments.length>0?new Pn([],{[Lt]:n}):n}function x3(n){const t={};for(const i of Object.keys(n.children)){const o=x3(n.children[i]);if(i===Lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ple(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new Pn(n.segments.concat(t.segments),t.children)}return n}(new Pn(n.segments,t))}function Ad(n){return n instanceof bp}function D3(n){let t;const r=I3(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new Pn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function S3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return DA(r,r,r,e,i);const o=function gle(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new R3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new R3(e,t,i)}(t);if(o.toRoot())return DA(r,r,new Pn([],{}),e,i);const s=function _le(n,t,e){if(n.isAbsolute)return new LE(t,!0,0);if(!e)return new LE(t,!1,NaN);if(null===e.parent)return new LE(e,!0,0);const i=FE(n.commands[0])?0:1;return function yle(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new LE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?py(s.segmentGroup,s.index,o.commands):k3(s.segmentGroup,s.index,o.commands);return DA(r,s.segmentGroup,a,e,i)}function FE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fy(n){return"object"==typeof n&&null!=n&&n.outlets}function DA(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===t?e:A3(n,t,e);const a=I3(x3(s));return new bp(a,o,r)}function A3(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:A3(o,t,e)}),new Pn(n.segments,i)}class R3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&FE(i[0]))throw new K(4003,!1);const r=i.find(fy);if(r&&r!==g3(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class LE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function k3(n,t,e){if(n||(n=new Pn([],{})),0===n.segments.length&&n.hasChildren())return py(n,t,e);const i=function ble(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(fy(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!N3(l,c,s))return o;i+=2}else{if(!N3(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Pn(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new Pn(n.segments.slice(i.pathIndex),n.children),py(o,0,r)}return i.match&&0===r.length?new Pn(n.segments,{}):i.match&&!n.hasChildren()?SA(n,t,e):i.match?py(n,0,r):SA(n,t,e)}function py(n,t,e){if(0===e.length)return new Pn(n.segments,{});{const i=function vle(n){return fy(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Lt)&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const o=py(n.children[Lt],t,e);return new Pn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=k3(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Pn(n.segments,r)}}function SA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(fy(o)){const l=wle(o.outlets);return new Pn(i,l)}if(0===r&&FE(e[0])){i.push(new uy(n.segments[t].path,M3(e[0]))),r++;continue}const s=fy(o)?o.outlets[Lt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&FE(a)?(i.push(new uy(s,M3(a))),r+=2):(i.push(new uy(s,{})),r++)}return new Pn(i,{})}function wle(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=SA(new Pn([],{}),0,i))}),t}function M3(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function N3(n,t,e){return n==e.path&&Ga(t,e.parameters)}const my="imperative";class qa{constructor(t,e){this.id=t,this.url=e}}class VE extends qa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jc extends qa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gy extends qa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wp extends qa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class BE extends qa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O3 extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ele extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cle extends qa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tle extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ile extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xle{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dle{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sle{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ale{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rle{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kle{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P3{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AA{}class RA{constructor(t){this.url=t}}class Mle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _y,this.attachRef=null}}let _y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Mle,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class F3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=MA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return MA(t,this._root).map(e=>e.value)}}function kA(n,t){if(n===t.value)return t;for(const e of t.children){const i=kA(n,e);if(i)return i}return null}function MA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=MA(n,e);if(i.length)return i.unshift(t),i}return[]}class Gl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ep(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class L3 extends F3{constructor(t,e){super(t),this.snapshot=e,NA(this,t)}toString(){return this.snapshot.toString()}}function V3(n,t){const e=function Nle(n,t){const s=new UE([],{},{},"",{},Lt,t,null,{});return new U3("",new Gl(s,[]))}(0,t),i=new w([new uy("",{})]),r=new w({}),o=new w({}),s=new w({}),a=new w(""),l=new Ka(i,r,s,a,o,Lt,t,e.root);return l.snapshot=e.root,new L3(new Gl(l,[]),e)}class Ka{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(c=>c[cy]))??k(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>vp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>vp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function B3(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Ole(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class UE{get title(){return this.data?.[cy]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class U3 extends F3{constructor(t,e){super(e),this.url=t,NA(this,e)}toString(){return j3(this._root)}}function NA(n,t){t.value._routerState=n,t.children.forEach(e=>NA(n,e))}function j3(n){const t=n.children.length>0?` { ${n.children.map(j3).join(", ")} } `:"";return`${n.value}${t}`}function OA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ga(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ga(t.params,e.params)||n.paramsSubject.next(e.params),function Yae(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ga(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ga(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function PA(n,t){const e=Ga(n.params,t.params)&&function ele(n,t){return Sd(n,t)&&n.every((e,i)=>Ga(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||PA(n.parent,t.parent))}let jE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=xe(_y),this.location=xe(ir),this.changeDetector=xe(pr),this.environmentInjector=xe(So),this.inputBinder=xe(HE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ple(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}return n})();class Ple{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ka?this.route:t===_y?this.childContexts:this.parent.get(t,e)}}const HE=new ae("");let H3=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=AE([i.queryParams,i.params,i.data]).pipe(Ve(([o,s,a],l)=>(a={...o,...s,...a},0===l?k(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Cre(n){const t=en(n);if(!t)return null;const e=new R_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function yy(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Lle(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yy(n,i,r);return yy(n,i)})}(n,t,e);return new Gl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>yy(n,a)),s}}const i=function Vle(n){return new Ka(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>yy(n,o));return new Gl(i,r)}}const FA="ngNavigationCancelingError";function z3(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ad(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=$3(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function $3(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[FA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function W3(n){return n&&n[FA]}let G3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ko],decls:1,vars:0,template:function(i,r){1&i&&nt(0,"router-outlet")},dependencies:[jE],encapsulation:2})}return n})();function LA(n){const t=n.children&&n.children.map(LA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=G3),e}function da(n){return n.outlet||Lt}function vy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Gle{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),OA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ep(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ep(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ep(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ep(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new kle(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ale(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(OA(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OA(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=vy(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class q3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zE{constructor(t,e){this.component=t,this.route=e}}function qle(n,t,e){const i=n._root;return by(i,t?t._root:null,e,[i.value])}function Cp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Xb(n){return null!==Ph(n)}(n)?t.get(n):n:i}function by(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ep(t);return n.children.forEach(s=>{(function Zle(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Yle(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Sd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Sd(n.url,t.url)||!Ga(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PA(n,t)||!Ga(n.queryParams,t.queryParams);default:return!PA(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new q3(i)):(o.data=s.data,o._resolvedData=s._resolvedData),by(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new zE(a.outlet.component,s))}else s&&wy(t,a,r),r.canActivateChecks.push(new q3(i)),by(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wy(a,e.getContext(s),r)),r}function wy(n,t,e){const i=Ep(n),r=n.value;Object.entries(i).forEach(([o,s])=>{wy(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new zE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ey(n){return"function"==typeof n}function K3(n){return n instanceof RE||"EmptyError"===n?.name}const $E=Symbol("INITIAL_VALUE");function Tp(){return Ve(n=>AE(n.map(t=>t.pipe(Qn(1),Yc($E)))).pipe(we(t=>{for(const e of t)if(!0!==e){if(e===$E)return $E;if(!1===e||e instanceof bp)return e}return!0}),zn(t=>t!==$E),Qn(1)))}function Z3(n){return function go(...n){return _o(n)}(gi(t=>{if(Ad(t))throw z3(0,t)}),we(t=>!0===t))}class WE{constructor(t){this.segmentGroup=t||null}}class Y3{constructor(t){this.urlTree=t}}function Ip(n){return xd(new WE(n))}function Q3(n){return xd(new Y3(n))}class gce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new K(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return k(i);if(r.numberOfChildren>1||!r.children[Lt])return xd(new K(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new bp(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Pn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const VA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _ce(n,t,e,i,r){const o=BA(n,t,e);return o.matched?(i=function Ule(n,t){return n.providers&&!n._injector&&(n._injector=KD(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function fce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?k(r.map(s=>{const a=Cp(s,n);return Xc(function nce(n){return n&&Ey(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tp(),Z3()):k(!0)}(i,t,e).pipe(we(s=>!0===s?o:{...VA}))):k(o)}function BA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...VA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Zae)(e,n,t);if(!r)return{...VA};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function X3(n,t,e,i){return e.length>0&&function bce(n,t,e){return e.some(i=>GE(n,t,i)&&da(i)!==Lt)}(n,e,i)?{segmentGroup:new Pn(t,vce(i,new Pn(e,n.children))),slicedSegments:[]}:0===e.length&&function wce(n,t,e){return e.some(i=>GE(n,t,i))}(n,e,i)?{segmentGroup:new Pn(n.segments,yce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Pn(n.segments,n.children),slicedSegments:e}}function yce(n,t,e,i,r){const o={};for(const s of i)if(GE(n,e,s)&&!r[da(s)]){const a=new Pn([],{});o[da(s)]=a}return{...r,...o}}function vce(n,t){const e={};e[Lt]=t;for(const i of n)if(""===i.path&&da(i)!==Lt){const r=new Pn([],{});e[da(i)]=r}return e}function GE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Ice{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new gce(this.urlSerializer,this.urlTree)}noMatchError(t){return new K(4002,!1)}recognize(){const t=X3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe(Wl(e=>{if(e instanceof Y3)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof WE?this.noMatchError(e):e}),we(e=>{const i=new UE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new Gl(i,e),o=new U3("",r),s=function mle(n,t,e=null,i=null){return S3(D3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Lt).pipe(Wl(i=>{throw i instanceof WE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=B3(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return C(r).pipe(_p(o=>{const s=i.children[o],a=function $le(n,t){const e=n.filter(i=>da(i)===t);return e.push(...n.filter(i=>da(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),yp((o,s)=>(o.push(...s),o)),kE(null),function qae(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,CA(1),e?kE(t):f3(()=>new RE))}(),Kt(o=>{if(null===o)return Ip(i);const s=J3(o);return function xce(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),k(s)}))}processSegment(t,e,i,r,o,s){return C(e).pipe(_p(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Wl(l=>{if(l instanceof WE)return k(null);throw l}))),Qc(a=>!!a),Wl(a=>{if(K3(a))return function Cce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?k([]):Ip(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Ece(n,t,e,i){return!!(da(n)===i||i!==Lt&&GE(t,e,n))&&("**"===n.path||BA(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):Ip(r):Ip(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Q3(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new Pn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=BA(e,r,o);if(!a)return Ip(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Q3(f):this.applyRedirects.lineralizeSegments(r,f).pipe(Kt(m=>this.processSegment(t,i,e,m.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?g3(r).parameters:{};a=k({snapshot:new UE(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ez(i),da(i),i.component??i._loadedComponent??null,i,tz(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=_ce(e,i,r,t).pipe(we(({matched:l,consumedSegments:c,remainingSegments:u,parameters:f})=>l?{snapshot:new UE(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ez(i),da(i),i.component??i._loadedComponent??null,i,tz(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ve(l=>null===l?Ip(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ve(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:f,consumedSegments:m,remainingSegments:_}=l,{segmentGroup:y,slicedSegments:b}=X3(e,m,_,c);if(0===b.length&&y.hasChildren())return this.processChildren(u,c,y).pipe(we(N=>null===N?null:[new Gl(f,N)]));if(0===c.length&&0===b.length)return k([new Gl(f,[])]);const E=da(i)===o;return this.processSegment(u,c,y,b,E?Lt:o,!0).pipe(we(N=>[new Gl(f,N)]))}))))}getChildConfig(t,e,i){return e.children?k({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?k({routes:e._loadedRoutes,injector:e._loadedInjector}):function hce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?k(!0):k(r.map(s=>{const a=Cp(s,n);return Xc(function Xle(n){return n&&Ey(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tp(),Z3())}(t,e,i).pipe(Kt(r=>r?this.configLoader.loadChildren(t,e).pipe(gi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function mce(n){return xd($3(!1,3))}())):k({routes:[],injector:t})}}function Dce(n){const t=n.value.routeConfig;return t&&""===t.path}function J3(n){const t=[],e=new Set;for(const i of n){if(!Dce(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=J3(i.children);t.push(new Gl(i.value,r))}return t.filter(i=>!e.has(i))}function ez(n){return n.data||{}}function tz(n){return n.resolve||{}}function nz(n){return"string"==typeof n.title||null===n.title}function UA(n){return Ve(t=>{const e=n(t);return e?C(e).pipe(we(()=>t)):k(t)})}const xp=new ae("ROUTES");let jA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=xe(FU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return k(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Xc(e.loadComponent()).pipe(we(iz),gi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Dd(()=>{this.componentLoaders.delete(e)})),r=new EA(i,()=>new $).pipe(wA());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Oce(n,t,e,i){return Xc(n.loadChildren()).pipe(we(iz),Kt(r=>r instanceof WB||Array.isArray(r)?k(r):C(t.compileModuleAsync(r))),we(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(xp,[],{optional:!0,self:!0}).flat()),{routes:s.map(LA),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Dd(()=>{this.childrenLoaders.delete(i)})),s=new EA(o,()=>new $).pipe(wA());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iz(n){return function Pce(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=xe(jA),this.environmentInjector=xe(So),this.urlSerializer=xe(dy),this.rootContexts=xe(_y),this.inputBindingEnabled=null!==xe(HE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Dle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new xle(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new w({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:my,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zn(o=>0!==o.id),we(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ve(o=>{this.currentTransition=o;let s=!1,a=!1;return k(o).pipe(gi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new wp(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),vn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return k(l).pipe(Ve(m=>{const _=this.transitions?.getValue();return this.events.next(new VE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?vn:Promise.resolve(m)}),function Sce(n,t,e,i,r,o){return Kt(s=>function Tce(n,t,e,i,r,o,s="emptyOnly"){return new Ice(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(we(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),gi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new O3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:_,source:y,restoredState:b,extras:E}=l,N=new VE(m,this.urlSerializer.serialize(_),y,b);this.events.next(N);const A=V3(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:A,urlAfterRedirects:_,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},k(o)}{const m="";return this.events.next(new wp(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),vn}}),gi(l=>{const c=new Ele(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),we(l=>(this.currentTransition=o={...l,guards:qle(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function rce(n,t){return Kt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?k({...e,guardsResult:!0}):function oce(n,t,e,i){return C(n).pipe(Kt(r=>function dce(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?k(o.map(a=>{const l=vy(t)??r,c=Cp(a,l);return Xc(function tce(n){return n&&Ey(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Qc())})).pipe(Tp()):k(!0)}(r.component,r.route,e,t,i)),Qc(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function Qle(n){return"boolean"==typeof n}(a)?function sce(n,t,e,i){return C(t).pipe(_p(r=>gp(function lce(n,t){return null!==n&&t&&t(new Sle(n)),k(!0)}(r.route.parent,i),function ace(n,t){return null!==n&&t&&t(new Rle(n)),k(!0)}(r.route,i),function uce(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Kle(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>bA(()=>k(s.guards.map(l=>{const c=vy(s.node)??e,u=Cp(l,c);return Xc(function ece(n){return n&&Ey(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Qc())})).pipe(Tp())));return k(o).pipe(Tp())}(n,r.path,e),function cce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return k(!0);const r=i.map(o=>bA(()=>{const s=vy(t)??e,a=Cp(o,s);return Xc(function Jle(n){return n&&Ey(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Qc())}));return k(r).pipe(Tp())}(n,r.route,e))),Qc(r=>!0!==r,!0))}(i,o,n,t):k(a)),we(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),gi(l=>{if(o.guardsResult=l.guardsResult,Ad(l.guardsResult))throw z3(0,l.guardsResult);const c=new Cle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),zn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),UA(l=>{if(l.guards.canActivateChecks.length)return k(l).pipe(gi(c=>{const u=new Tle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ve(c=>{let u=!1;return k(c).pipe(function Ace(n,t){return Kt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return k(e);let o=0;return C(r).pipe(_p(s=>function Rce(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!nz(r)&&(o[cy]=r.title),function kce(n,t,e,i){const r=function Mce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return k({});const o={};return C(r).pipe(Kt(s=>function Nce(n,t,e,i){const r=vy(t)??i,o=Cp(n,r);return Xc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Qc(),gi(a=>{o[s]=a}))),CA(1),p3(o),Wl(s=>K3(s)?vn:xd(s)))}(o,n,t,i).pipe(we(s=>(n._resolvedData=s,n.data=B3(n,e).resolve,r&&nz(r)&&(n.data[cy]=r.title),null)))}(s.route,i,n,t)),gi(()=>o++),CA(1),Kt(s=>o===r.length?k(e):vn))})}(e.paramsInheritanceStrategy,this.environmentInjector),gi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),gi(c=>{const u=new Ile(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),UA(l=>{const c=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(gi(m=>{u.component=m}),we(()=>{})));for(const m of u.children)f.push(...c(m));return f};return AE(c(l.targetSnapshot.root)).pipe(kE(),Qn(1))}),UA(()=>this.afterPreactivation()),we(l=>{const c=function Fle(n,t,e){const i=yy(n,t._root,e?e._root:void 0);return new L3(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),gi(()=>{this.events.next(new AA)}),((n,t,e,i)=>we(r=>(new Gle(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),gi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Et(this.transitionAbortSubject.pipe(gi(l=>{throw l}))),Dd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Wl(l=>{if(a=!0,W3(l))this.events.next(new gy(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Ble(n){return W3(n)&&Ad(n.url)}(l)?this.events.next(new RA(l.url)):o.resolve(!1);else{this.events.next(new BE(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return vn}))}))}cancelNavigationTransition(e,i,r){const o=new gy(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rz(n){return n!==my}let oz=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[cy]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return xe(Fce)},providedIn:"root"})}return n})(),Fce=(()=>{class n extends oz{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(aH))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return xe(Bce)},providedIn:"root"})}return n})();class Vce{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Bce=(()=>{class n extends Vce{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KE=new ae("",{providedIn:"root",factory:()=>({})});let Uce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return xe(jce)},providedIn:"root"})}return n})(),jce=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cy=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Cy||{});function sz(n,t){n.events.pipe(zn(e=>e instanceof Jc||e instanceof gy||e instanceof BE||e instanceof wp),we(e=>e instanceof Jc||e instanceof wp?Cy.COMPLETE:e instanceof gy&&(0===e.code||1===e.code)?Cy.REDIRECTING:Cy.FAILED),zn(e=>e!==Cy.REDIRECTING),Qn(1)).subscribe(()=>{t()})}function Hce(n){throw n}function zce(n,t,e){return t.parse("/")}const $ce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=xe(PU),this.isNgZoneEnabled=!1,this._events=new $,this.options=xe(KE,{optional:!0})||{},this.pendingTasks=xe(Zw),this.errorHandler=this.options.errorHandler||Hce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=xe(Uce),this.routeReuseStrategy=xe(Lce),this.titleStrategy=xe(oz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=xe(xp,{optional:!0})?.flat()??[],this.navigationTransitions=xe(qE),this.urlSerializer=xe(dy),this.location=xe(nE),this.componentInputBindingEnabled=!!xe(HE,{optional:!0}),this.eventsSubscription=new pt,this.isNgZoneEnabled=xe(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=V3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(az(i)&&this._events.next(i));if(i instanceof VE)rz(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof wp)this.rawUrlTree=r.rawUrl;else if(i instanceof O3){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof AA)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof gy)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof RA){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rz(r.source)};this.scheduleNavigation(o,my,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof BE&&this.restoreHistory(r,!0),i instanceof Jc&&(this.navigated=!0),az(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),my,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(LA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=D3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return S3(f,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ad(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,my,null,i)}navigate(e,i={skipLocationChange:!1}){return function Gce(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new K(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...$ce}:!1===i?{...Wce}:i,Ad(e))return y3(this.currentUrlTree,e,r);const o=this.parseUrl(e);return y3(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});const u=this.pendingTasks.add();return sz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function az(n){return!(n instanceof AA||n instanceof RA)}let eu=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Jc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function J2(n,t,e){return function YQ(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?X2:v_}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(T(gr),T(Ka),Ls("tabindex"),T($o),T(st),T(Ed))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",cp],skipLocationChange:["skipLocationChange","skipLocationChange",cp],replaceUrl:["replaceUrl","replaceUrl",cp],routerLink:"routerLink"},standalone:!0,features:[uV,Yn]})}return n})(),lz=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Jc&&this.update()})}ngAfterContentInit(){k(this.links.changes,k(null)).pipe(dn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=C(e).pipe(dn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function qce(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(gr),T(st),T($o),T(pr),T(eu,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&Ft(o,eu,5),2&i){let s;Be(s=Ue())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yn]})}return n})();class cz{}let Kce=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zn(e=>e instanceof Jc),_p(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=KD(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return C(r).pipe(dn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):k(null);const o=r.pipe(Kt(s=>null===s?k(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?C([o,this.loader.loadComponent(i)]).pipe(dn()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(P(gr),P(FU),P(So),P(cz),P(jA))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HA=new ae("");let uz=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof VE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof wp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof P3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new P3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Gf()};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function ql(n,t){return{\u0275kind:n,\u0275providers:t}}function hz(){const n=xe(qi);return t=>{const e=n.get(la);if(t!==e.components[0])return;const i=n.get(gr),r=n.get(fz);1===n.get(zA)&&i.initialNavigation(),n.get(pz,null,jt.Optional)?.setUpPreloading(),n.get(HA,null,jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const fz=new ae("",{factory:()=>new $}),zA=new ae("",{providedIn:"root",factory:()=>1}),pz=new ae("");function Xce(n){return ql(0,[{provide:pz,useExisting:Kce},{provide:cz,useExisting:n}])}const mz=new ae("ROUTER_FORROOT_GUARD"),eue=[nE,{provide:dy,useClass:TA},gr,_y,{provide:Ka,useFactory:function dz(n){return n.routerState.root},deps:[gr]},jA,[]];function tue(){return new zU("Router",gr)}let gz=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[eue,[],{provide:xp,multi:!0,useValue:e},{provide:mz,useFactory:oue,deps:[[gr,new Bs,new h_]]},{provide:KE,useValue:i||{}},i?.useHash?{provide:Ed,useClass:Sre}:{provide:Ed,useClass:bj},{provide:HA,useFactory:()=>{const n=xe(joe),t=xe(je),e=xe(KE),i=xe(qE),r=xe(dy);return e.scrollOffset&&n.setOffset(e.scrollOffset),new uz(r,i,n,t,e)}},i?.preloadingStrategy?Xce(i.preloadingStrategy).\u0275providers:[],{provide:zU,multi:!0,useFactory:tue},i?.initialNavigation?sue(i):[],i?.bindToComponentInputs?ql(8,[H3,{provide:HE,useExisting:H3}]).\u0275providers:[],[{provide:_z,useFactory:hz},{provide:mS,multi:!0,useExisting:_z}]]}}static forChild(e){return{ngModule:n,providers:[{provide:xp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(mz,8))};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();function oue(n){return"guarded"}function sue(n){return["disabled"===n.initialNavigation?ql(3,[{provide:aS,multi:!0,useFactory:()=>{const t=xe(gr);return()=>{t.setUpLocationChangeListener()}}},{provide:zA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ql(2,[{provide:zA,useValue:0},{provide:aS,multi:!0,deps:[qi],useFactory:t=>{const e=t.get(xre,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(gr),o=t.get(fz);sz(r,()=>{i(!0)}),t.get(qE).afterPreactivation=()=>(i(!0),o.closed?k(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const _z=new ae(""),lue=["addListener","removeListener"],cue=["addEventListener","removeEventListener"],uue=["on","off"];function Rr(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return Rr(n,t,e).pipe(JS(i));const[r,o]=function fue(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?cue.map(s=>a=>n[s](t,a,e)):function due(n){return S(n.addListener)&&S(n.removeListener)}(n)?lue.map(yz(n,t)):function hue(n){return S(n.on)&&S(n.off)}(n)?uue.map(yz(n,t)):[];if(!r&&Jt(n))return Kt(s=>Rr(s,t,e))(be(n));if(!r)throw new TypeError("Invalid event target");return new ct(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function yz(n,t){return e=>i=>n[e](t,i)}class pue extends pt{constructor(t,e){super()}schedule(t,e=0){return this}}const ZE={setInterval(n,t,...e){const{delegate:i}=ZE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=ZE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class YE extends pue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return ZE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&ZE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Je(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const $A={now:()=>($A.delegate||Date).now(),delegate:void 0};class Ty{constructor(t,e=Ty.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ty.now=$A.now;class QE extends Ty{constructor(t,e=Ty.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Rd=new QE(YE),mue=Rd;function WA(n=0,t,e=mue){let i=-1;return null!=t&&(Zn(t)?e=t:i=t),new ct(r=>{let o=function gue(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:_ue}=Array;function vz(n){return 1===n.length&&_ue(n[0])?n[0]:n}function bz(...n){return 1===(n=vz(n)).length?be(n[0]):new ct(function yue(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(be(n[i]).subscribe(Se(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function GA(...n){const t=vo(n),e=vz(n);return e.length?new ct(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)be(e[s]).subscribe(Se(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):vn}function XE(...n){const t=vo(n);return de((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)be(n[l]).subscribe(Se(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Kn))&&(s=null))},qe));e.subscribe(Se(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}function wz(n,t){return t?e=>gp(t.pipe(Qn(1),function bue(){return de((n,t)=>{n.subscribe(Se(t,qe))})}()),e.pipe(wz(n))):Kt((e,i)=>be(n(e,i)).pipe(Qn(1),p3(e)))}function qA(n){return zn((t,e)=>n<=e)}var Vue={left:"right",right:"left",bottom:"top",top:"bottom"};function nC(n){return n.replace(/left|right|bottom|top/g,function(t){return Vue[t]})}function Za(n){return n.split("-")[0]}var Bue={start:"end",end:"start"};function Mz(n){return n.replace(/start|end/g,function(t){return Bue[t]})}var ms="top",ha="bottom",fa="right",gs="left",XA="auto",xy=[ms,ha,fa,gs],Sp="start",Dy="end",Nz="viewport",Sy="popper",Oz=xy.reduce(function(n,t){return n.concat([t+"-"+Sp,t+"-"+Dy])},[]),Pz=[].concat(xy,[XA]).reduce(function(n,t){return n.concat([t,t+"-"+Sp,t+"-"+Dy])},[]),Que=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function _s(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function kd(n){return n instanceof _s(n).Element||n instanceof Element}function Ws(n){return n instanceof _s(n).HTMLElement||n instanceof HTMLElement}function JA(n){return!(typeof ShadowRoot>"u")&&(n instanceof _s(n).ShadowRoot||n instanceof ShadowRoot)}function nu(n){return((kd(n)?n.ownerDocument:n.document)||window.document).documentElement}var Md=Math.max,iC=Math.min,Ap=Math.round;function eR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Fz(){return!/^((?!chrome|android).)*safari/i.test(eR())}function Rp(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&Ws(n)&&(r=n.offsetWidth>0&&Ap(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Ap(i.height)/n.offsetHeight||1);var a=(kd(n)?_s(n):window).visualViewport,l=!Fz()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:u,right:c+f,bottom:u+m,left:c,x:c,y:u}}function tR(n){var t=_s(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nR(n){return Rp(nu(n)).left+tR(n).scrollLeft}function Kl(n){return _s(n).getComputedStyle(n)}function Ya(n){return n?(n.nodeName||"").toLowerCase():null}function rC(n){return"html"===Ya(n)?n:n.assignedSlot||n.parentNode||(JA(n)?n.host:null)||nu(n)}function iR(n){var t=Kl(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Lz(n){return["html","body","#document"].indexOf(Ya(n))>=0?n.ownerDocument.body:Ws(n)&&iR(n)?n:Lz(rC(n))}function Ay(n,t){var e;void 0===t&&(t=[]);var i=Lz(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),o=_s(i),s=r?[o].concat(o.visualViewport||[],iR(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(Ay(rC(s)))}function ede(n){return["table","td","th"].indexOf(Ya(n))>=0}function Vz(n){return Ws(n)&&"fixed"!==Kl(n).position?n.offsetParent:null}function Ry(n){for(var t=_s(n),e=Vz(n);e&&ede(e)&&"static"===Kl(e).position;)e=Vz(e);return e&&("html"===Ya(e)||"body"===Ya(e)&&"static"===Kl(e).position)?t:e||function tde(n){var t=/firefox/i.test(eR());if(/Trident/i.test(eR())&&Ws(n)&&"fixed"===Kl(n).position)return null;var r=rC(n);for(JA(r)&&(r=r.host);Ws(r)&&["html","body"].indexOf(Ya(r))<0;){var o=Kl(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(n)||t}function Bz(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&JA(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Uz(n,t,e){return t===Nz?rR(function Xue(n,t){var e=_s(n),i=nu(n),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Fz();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+nR(n),y:l}}(n,e)):kd(t)?function nde(n,t){var e=Rp(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):rR(function Jue(n){var t,e=nu(n),i=tR(n),r=null==(t=n.ownerDocument)?void 0:t.body,o=Md(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Md(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+nR(n),l=-i.scrollTop;return"rtl"===Kl(r||e).direction&&(a+=Md(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(nu(n)))}function kp(n){return n.split("-")[1]}function oR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function jz(n){var l,t=n.reference,e=n.element,i=n.placement,r=i?Za(i):null,o=i?kp(i):null,s=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(r){case ms:l={x:s,y:t.y-e.height};break;case ha:l={x:s,y:t.y+t.height};break;case fa:l={x:t.x+t.width,y:a};break;case gs:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?oR(r):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Sp:l[c]=l[c]-(t[u]/2-e[u]/2);break;case Dy:l[c]=l[c]+(t[u]/2-e[u]/2)}}return l}function zz(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function $z(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function sR(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,o=t.strategy,s=void 0===o?n.strategy:o,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,u=void 0===c?Nz:c,f=t.elementContext,m=void 0===f?Sy:f,_=t.altBoundary,y=void 0!==_&&_,b=t.padding,E=void 0===b?0:b,N=zz("number"!=typeof E?E:$z(E,xy)),L=n.rects.popper,W=n.elements[y?m===Sy?"reference":Sy:m],ce=function rde(n,t,e,i){var r="clippingParents"===t?function ide(n){var t=Ay(rC(n)),i=["absolute","fixed"].indexOf(Kl(n).position)>=0&&Ws(n)?Ry(n):n;return kd(i)?t.filter(function(r){return kd(r)&&Bz(r,i)&&"body"!==Ya(r)}):[]}(n):[].concat(t),o=[].concat(r,[e]),a=o.reduce(function(l,c){var u=Uz(n,c,i);return l.top=Md(u.top,l.top),l.right=iC(u.right,l.right),l.bottom=iC(u.bottom,l.bottom),l.left=Md(u.left,l.left),l},Uz(n,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(kd(W)?W:W.contextElement||nu(n.elements.popper),l,u,s),De=Rp(n.elements.reference),Me=jz({reference:De,element:L,strategy:"absolute",placement:r}),it=rR(Object.assign({},L,Me)),rn=m===Sy?it:De,_n={top:ce.top-rn.top+N.top,bottom:rn.bottom-ce.bottom+N.bottom,left:ce.left-rn.left+N.left,right:rn.right-ce.right+N.right},Xi=n.modifiersData.offset;if(m===Sy&&Xi){var Jr=Xi[r];Object.keys(_n).forEach(function(Pi){var pl=[fa,ha].indexOf(Pi)>=0?1:-1,ml=[ms,ha].indexOf(Pi)>=0?"y":"x";_n[Pi]+=Jr[ml]*pl})}return _n}const lde={name:"flip",enabled:!0,phase:"main",fn:function ade(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,l=e.fallbackPlacements,c=e.padding,u=e.boundary,f=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,y=void 0===_||_,b=e.allowedAutoPlacements,E=t.options.placement,N=Za(E),L=l||(N!==E&&y?function sde(n){if(Za(n)===XA)return[];var t=nC(n);return[Mz(n),t,Mz(t)]}(E):[nC(E)]),W=[E].concat(L).reduce(function(On,Ia){return On.concat(Za(Ia)===XA?function ode(n,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?Pz:l,u=kp(t.placement),f=u?a?Oz:Oz.filter(function(y){return kp(y)===u}):xy,m=f.filter(function(y){return c.indexOf(y)>=0});0===m.length&&(m=f);var _=m.reduce(function(y,b){return y[b]=sR(n,{placement:b,boundary:r,rootBoundary:o,padding:s})[Za(b)],y},{});return Object.keys(_).sort(function(y,b){return _[y]-_[b]})}(t,{placement:Ia,boundary:u,rootBoundary:f,padding:c,flipVariations:y,allowedAutoPlacements:b}):Ia)},[]),ce=t.rects.reference,De=t.rects.popper,Me=new Map,it=!0,rn=W[0],_n=0;_n<W.length;_n++){var Xi=W[_n],Jr=Za(Xi),Pi=kp(Xi)===Sp,pl=[ms,ha].indexOf(Jr)>=0,ml=pl?"width":"height",Oe=sR(t,{placement:Xi,boundary:u,rootBoundary:f,altBoundary:m,padding:c}),Xe=pl?Pi?fa:gs:Pi?ha:ms;ce[ml]>De[ml]&&(Xe=nC(Xe));var ft=nC(Xe),Ht=[];if(o&&Ht.push(Oe[Jr]<=0),a&&Ht.push(Oe[Xe]<=0,Oe[ft]<=0),Ht.every(function(On){return On})){rn=Xi,it=!1;break}Me.set(Xi,Ht)}if(it)for(var os=function(Ia){var Mh=W.find(function(Ji){var Bo=Me.get(Ji);if(Bo)return Bo.slice(0,Ia).every(function(mo){return mo})});if(Mh)return rn=Mh,"break"},br=y?3:1;br>0&&"break"!==os(br);br--);t.placement!==rn&&(t.modifiersData[i]._skip=!0,t.placement=rn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ky(n,t,e){return Md(n,iC(t,e))}function aR(n){var t=Rp(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const hde={name:"preventOverflow",enabled:!0,phase:"main",fn:function dde(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,m=e.tether,_=void 0===m||m,y=e.tetherOffset,b=void 0===y?0:y,E=sR(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Za(t.placement),A=kp(t.placement),L=!A,W=oR(N),ce=function cde(n){return"x"===n?"y":"x"}(W),De=t.modifiersData.popperOffsets,Me=t.rects.reference,it=t.rects.popper,rn="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,_n="number"==typeof rn?{mainAxis:rn,altAxis:rn}:Object.assign({mainAxis:0,altAxis:0},rn),Xi=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Jr={x:0,y:0};if(De){if(o){var Pi,pl="y"===W?ms:gs,ml="y"===W?ha:fa,Oe="y"===W?"height":"width",Xe=De[W],ft=Xe+E[pl],Ht=Xe-E[ml],Fi=_?-it[Oe]/2:0,os=A===Sp?Me[Oe]:it[Oe],br=A===Sp?-it[Oe]:-Me[Oe],Ss=t.elements.arrow,On=_&&Ss?aR(Ss):{width:0,height:0},Ia=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Mh=Ia[pl],Ji=Ia[ml],Bo=ky(0,Me[Oe],On[Oe]),mo=L?Me[Oe]/2-Fi-Bo-Mh-_n.mainAxis:os-Bo-Mh-_n.mainAxis,ag=L?-Me[Oe]/2+Fi+Bo+Ji+_n.mainAxis:br+Bo+Ji+_n.mainAxis,Nh=t.elements.arrow&&Ry(t.elements.arrow),ONe=Nh?"y"===W?Nh.clientTop||0:Nh.clientLeft||0:0,iY=null!=(Pi=Xi?.[W])?Pi:0,FNe=Xe+ag-iY,rY=ky(_?iC(ft,Xe+mo-iY-ONe):ft,Xe,_?Md(Ht,FNe):Ht);De[W]=rY,Jr[W]=rY-Xe}if(a){var oY,Oh=De[ce],kx="y"===ce?"height":"width",sY=Oh+E["x"===W?ms:gs],aY=Oh-E["x"===W?ha:fa],DF=-1!==[ms,gs].indexOf(N),lY=null!=(oY=Xi?.[ce])?oY:0,cY=DF?sY:Oh-Me[kx]-it[kx]-lY+_n.altAxis,uY=DF?Oh+Me[kx]+it[kx]-lY-_n.altAxis:aY,dY=_&&DF?function ude(n,t,e){var i=ky(n,t,e);return i>e?e:i}(cY,Oh,uY):ky(_?cY:sY,Oh,_?uY:aY);De[ce]=dY,Jr[ce]=dY-Oh}t.modifiersData[i]=Jr}},requiresIfExists:["offset"]},gde={name:"arrow",enabled:!0,phase:"main",fn:function pde(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Za(e.placement),l=oR(a),u=[gs,fa].indexOf(a)>=0?"height":"width";if(o&&s){var f=function(t,e){return zz("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:$z(t,xy))}(r.padding,e),m=aR(o),_="y"===l?ms:gs,y="y"===l?ha:fa,b=e.rects.reference[u]+e.rects.reference[l]-s[l]-e.rects.popper[u],E=s[l]-e.rects.reference[l],N=Ry(o),A=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,De=A/2-m[u]/2+(b/2-E/2),Me=ky(f[_],De,A-m[u]-f[y]);e.modifiersData[i]=((t={})[l]=Me,t.centerOffset=Me-De,t)}},effect:function mde(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||Bz(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bde(n,t,e){void 0===e&&(e=!1);var i=Ws(t),r=Ws(t)&&function vde(n){var t=n.getBoundingClientRect(),e=Ap(t.width)/n.offsetWidth||1,i=Ap(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),o=nu(t),s=Rp(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Ya(t)||iR(o))&&(a=function yde(n){return n!==_s(n)&&Ws(n)?function _de(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):tR(n)}(t)),Ws(t)?((l=Rp(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=nR(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function wde(n){var t=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||r(o)}),i}function Cde(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var Wz={placement:"bottom",modifiers:[],strategy:"absolute"};function Gz(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Ide(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,o=void 0===r?Wz:r;return function(a,l,c){void 0===c&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wz,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:u,setOptions:function(N){var A="function"==typeof N?N(u.options):N;b(),u.options=Object.assign({},o,u.options,A),u.scrollParents={reference:kd(a)?Ay(a):a.contextElement?Ay(a.contextElement):[],popper:Ay(l)};var L=function Ede(n){var t=wde(n);return Que.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function Tde(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=L.filter(function(W){return W.enabled}),function y(){u.orderedModifiers.forEach(function(E){var A=E.options,W=E.effect;if("function"==typeof W){var ce=W({state:u,name:E.name,instance:_,options:void 0===A?{}:A});f.push(ce||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var N=u.elements,A=N.reference,L=N.popper;if(Gz(A,L)){u.rects={reference:bde(A,Ry(L),"fixed"===u.options.strategy),popper:aR(L)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(_n){return u.modifiersData[_n.name]=Object.assign({},_n.data)});for(var W=0;W<u.orderedModifiers.length;W++)if(!0!==u.reset){var ce=u.orderedModifiers[W],De=ce.fn,Me=ce.options;"function"==typeof De&&(u=De({state:u,options:void 0===Me?{}:Me,name:ce.name,instance:_})||u)}else u.reset=!1,W=-1}}},update:Cde(function(){return new Promise(function(E){_.forceUpdate(),E(u)})}),destroy:function(){b(),m=!0}};if(!Gz(a,l))return _;function b(){f.forEach(function(E){return E()}),f=[]}return _.setOptions(c).then(function(E){!m&&c.onFirstUpdate&&c.onFirstUpdate(E)}),_}}var oC={passive:!0};const Dde={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function xde(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=_s(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",e.update,oC)}),a&&l.addEventListener("resize",e.update,oC),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",e.update,oC)}),a&&l.removeEventListener("resize",e.update,oC)}},data:{}},Ade={name:"popperOffsets",enabled:!0,phase:"read",fn:function Sde(n){var t=n.state;t.modifiersData[n.name]=jz({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Rde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qz(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,f=n.isFixed,m=s.x,_=void 0===m?0:m,y=s.y,b=void 0===y?0:y,E="function"==typeof u?u({x:_,y:b}):{x:_,y:b};_=E.x,b=E.y;var N=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),L=gs,W=ms,ce=window;if(c){var De=Ry(e),Me="clientHeight",it="clientWidth";De===_s(e)&&"static"!==Kl(De=nu(e)).position&&"absolute"===a&&(Me="scrollHeight",it="scrollWidth"),(r===ms||(r===gs||r===fa)&&o===Dy)&&(W=ha,b-=(f&&De===ce&&ce.visualViewport?ce.visualViewport.height:De[Me])-i.height,b*=l?1:-1),r!==gs&&(r!==ms&&r!==ha||o!==Dy)||(L=fa,_-=(f&&De===ce&&ce.visualViewport?ce.visualViewport.width:De[it])-i.width,_*=l?1:-1)}var Pi,Xi=Object.assign({position:a},c&&Rde),Jr=!0===u?function kde(n,t){var i=n.y,r=t.devicePixelRatio||1;return{x:Ap(n.x*r)/r||0,y:Ap(i*r)/r||0}}({x:_,y:b},_s(e)):{x:_,y:b};return _=Jr.x,b=Jr.y,Object.assign({},Xi,l?((Pi={})[W]=A?"0":"",Pi[L]=N?"0":"",Pi.transform=(ce.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",Pi):((t={})[W]=A?b+"px":"",t[L]=N?_+"px":"",t.transform="",t))}const Nde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Mde(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,l=void 0===a||a,c={placement:Za(t.placement),variation:kp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,qz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,qz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Fde=[Dde,Ade,Nde,{name:"applyStyles",enabled:!0,phase:"write",fn:function Ode(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Ws(o)||!Ya(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function Pde(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!Ws(r)||!Ya(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}],Lde=Ide({defaultModifiers:Fde});const lR=["*"],Che=["dialog"];function sfe(n,t){if(1&n&&(R(0,"strong",3),oe(1),M()),2&n){const e=ie();U(1),ri(e.header)}}function afe(n,t){}function lfe(n,t){if(1&n){const e=sn();R(0,"div",4),le(1,afe,0,0,"ng-template",5),R(2,"button",6),Te("click",function(){return Ge(e),He(ie().hide())}),M()()}if(2&n){const e=ie(),i=nr(1);U(1),H("ngTemplateOutlet",e.contentHeaderTpl||i)}}function iu(n){return"string"==typeof n}function Nd(n){return null!=n}function Mp(n){return(n||document.body).getBoundingClientRect()}const Xz={animation:!0,transitionTimerDelayMs:5},_fe=()=>{},{transitionTimerDelayMs:yfe}=Xz,My=new Map,oo=(n,t,e,i)=>{let r=i.context||{};const o=My.get(t);if(o)switch(i.runningTransition){case"continue":return vn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),My.delete(t)}const s=e(t,i.animation,r)||_fe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),k(void 0).pipe(function mfe(n){return t=>new ct(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new $,l=new $,c=a.pipe(function vue(...n){return t=>gp(t,k(...n))}(!0));My.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function gfe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Rr(t,"transitionend").pipe(Et(c),zn(({target:_})=>_===t));bz(WA(u+yfe).pipe(Et(c)),f,l).pipe(Et(c)).subscribe(()=>{My.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},uR=(n,t,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:s}=n;function a(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return r||(r=function vfe(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,o),e.maxSize=r,n.style[o]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),Mp(n),s.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{a(),s.remove("collapsing"),n.style[o]=""};a()};let Np=(()=>{class n{constructor(){this.animation=Xz.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Efe=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Np))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=(()=>{class n{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Fe,this.shown=new Fe,this.hidden=new Fe,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return oo(this._zone,this._element.nativeElement,uR,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(Efe),T(je))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&dt("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),s$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),a$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),u$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();var Xn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Xn||{});const dC=(n,t)=>!!t&&t.some(e=>e.contains(n)),g$=(n,t)=>!t||null!=function pfe(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),qfe=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function bR(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>qfe?()=>setTimeout(()=>n(),100):n)(()=>{const c=Rr(t,"keydown").pipe(Et(r),zn(m=>m.which===Xn.Escape),gi(m=>m.preventDefault())),u=Rr(t,"mousedown").pipe(we(m=>{const _=m.target;return 2!==m.button&&!dC(_,s)&&("inside"===e?dC(_,o)&&g$(_,a):"outside"===e?!dC(_,o):g$(_,a)||!dC(_,o))}),Et(r)),f=Rr(t,"mouseup").pipe(XE(u),zn(([m,_])=>_),function wue(n,t=Rd){const e=WA(n,t);return wz(()=>e)}(0),Et(r));bz([c.pipe(we(m=>0)),f.pipe(we(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}const _$=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function y$(n){const t=Array.from(n.querySelectorAll(_$)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let Zfe=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yfe=/\s+/,Qfe=/  +/gi,Xfe={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},epe=/^left/,tpe=/^right/,npe=/^start/,ipe=/^end/;function b$({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(Yfe),o=i.findIndex(c=>"auto"===c);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(u=>-1!==u.search("^"+c))&&i.splice(o++,1,c)});const s=i.map(c=>function Jfe(n,t){const[e,i]=Xfe[n];return t&&i||e}(c,e.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){const u=new RegExp(t+"(-[a-z]+)*","gi"),f=c.elements.popper,m=c.placement;let _=f.className;_=_.replace(u,""),_+=` ${function rpe(n,t){let[e,i]=t.split("-");const r=e.replace(epe,"start").replace(tpe,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(npe,"top").replace(ipe,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}(t,m)}`,_=_.trim().replace(Qfe," "),f.className=_}},lde,hde,gde,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function w$(n){return n}new Date(1882,10,12),new Date(2174,10,25);let R$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),N$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();class Vd{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class _pe{constructor(t,e,i,r,o,s){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Qn(1),Kt(()=>oo(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?oo(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(gi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):k(void 0)}_getContentRef(t,e){if(t){if(t instanceof pn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Vd([i.rootNodes],i)}return new Vd([[this._renderer.createText(`${t}`)]])}return new Vd([])}}let ype=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{oo(this._zone,this._el.nativeElement,(e,i)=>{i&&Mp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Hc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),dt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ko],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class O${update(t){}close(t){}dismiss(t){}}const vpe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],bpe=["animation","backdropClass"];class wpe{_applyWindowOptions(t,e){vpe.forEach(i=>{Nd(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){bpe.forEach(i=>{Nd(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $,this._dismissed=new $,this._hidden=new $,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Zz(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():k(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),GA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var IR=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(IR||{});let Epe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new $,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Fe,this.shown=new $,this.hidden=new $}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=GA(oo(this._zone,e,()=>e.classList.remove("show"),i),oo(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};GA(oo(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Mp(o),o.classList.add("show")},e),oo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Rr(e,"keydown").pipe(Et(this._closed$),zn(r=>r.which===Xn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(IR.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Rr(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),gi(()=>i=!1),Ve(()=>Rr(e,"mouseup").pipe(Et(this._closed$),Qn(1))),zn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Rr(e,"click").pipe(Et(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(IR.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=y$(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(wt),T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&wn(Che,7),2&i){let o;Be(o=Ue())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Hc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),dt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ko],ngContentSelectors:lR,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(ro(),R(0,"div",0,1)(2,"div",2),fn(3),M()()),2&i&&Hc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Cpe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tpe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new $,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Fe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Rr(t,"focusin").pipe(Et(e),we(o=>o.target));Rr(t,"keydown").pipe(Et(e),zn(o=>o.which===Xn.Tab),XE(r)).subscribe(([o,s])=>{const[a,l]=y$(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Rr(t,"click").pipe(Et(e),XE(r),we(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:Nd(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new O$,l=(e=r.injector||e).get(So,null)||this._environmentInjector,c=this._getContentRef(e,l,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),m=new wpe(f,c,u,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(Qn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=ES(ype,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=ES(Epe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof pn?this._createFromTemplateRef(r,o):iu(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Vd([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Vd([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Vd([[i]])}_createFromComponent(e,i,r,o,s){const l=ES(r,{environmentInjector:i,elementInjector:qi.create({providers:[{provide:O$,useValue:o}],parent:e})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Vd([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(P(la),P(qi),P(So),P(wt),P(Cpe),P(Hf),P(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ipe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Np))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xpe=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(P(qi),P(Tpe),P(Ipe))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[xpe]})}return n})(),V$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),G$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const Ppe={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let q$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),K$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),Z$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),Y$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),Q$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const Hpe=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),Mp(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},zpe=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let $pe=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Np))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),Gpe=(()=>{class n{constructor(e,i,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new Fe,this.hidden=new Fe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=oo(this._zone,this._element.nativeElement,zpe,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=oo(this._zone,this._element.nativeElement,Hpe,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ls("aria-live"),T($pe),T(je),T(st))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(1&i&&Ft(o,Wpe,7,pn),2&i){let s;Be(s=Ue())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(Pt("aria-live",r.ariaLive),dt("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Yn,Ko],ngContentSelectors:lR,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(ro(),le(0,sfe,2,1,"ng-template",null,0,Zo),le(2,lfe,3,1,"ng-template",1),R(3,"div",2),fn(4),M()),2&i&&(U(2),H("ngIf",r.contentHeaderTpl||r.header))},dependencies:[mr,Wc],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),X$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),DR=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Np))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qpe=0,Kpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&($r("id",r.id),Hc("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),dt("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Ko],ngContentSelectors:lR,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(ro(),nt(0,"div",0),R(1,"div",1),fn(2),M())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Zpe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new Fe,this.hidden=new Fe,this._ngbTooltipWindowId="ngb-tooltip-"+qpe++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.popperOptions=s.popperOptions,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new _pe(Kpe,r,o,i,this._ngZone,u),this._positioning=function wR(){const n=xe(Zfe);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||w$)(b$(e,n));t=Lde(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||w$)(b$(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),bR(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Lpe(n,t,e,i,r,o=0,s=0){const a=function Fpe(n){const t=(n||"").trim();if(0===t.length)return[];const e=t.split(/\s+/).map(r=>r.split(":")).map(r=>Ppe[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(t);if(0===a.length)return()=>{};const l=new Set,c=[];let u;function f(_,y){n.addEventListener(_,y),c.push(()=>n.removeEventListener(_,y))}function m(_,y){clearTimeout(u),y>0?u=setTimeout(_,y):_()}for(const[_,y]of a)y?(f(_,()=>{l.add(_),m(()=>l.size>0&&i(),o)}),f(y,()=>{l.delete(_),m(()=>0===l.size&&r(),s)})):f(_,()=>e()?m(r,s):m(i,o));return()=>c.forEach(_=>_())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(iu(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T($o),T(qi),T(ir),T(DR),T(je),T(wt),T(pr),T(la))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Yn]})}return n})(),SR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();new ae("live announcer delay",{providedIn:"root",factory:function Ype(){return 100}});let J$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),e4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const Xpe=[s$,a$,u$,d$,R$,N$,P$,V$,e4,G$,q$,K$,Z$,Y$,Q$,X$,SR,J$];let Jpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Xpe,s$,a$,u$,d$,R$,N$,P$,V$,e4,G$,q$,K$,Z$,Y$,Q$,X$,SR,J$]})}return n})();var Ly=lt(562),D=lt(58),so=lt(534),ys=lt(879),ma=lt(537);(0,so.registerVersion)("firebase","10.6.0","app");const rme=new class ime extends QE{}(class nme extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Lp=new Uc("ANGULARFIRE2_VERSION");class yC{constructor(){return((n,t)=>{const e=t?[t]:(0,so.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(sme)}}const sme="app-check";function Vp(){}class n4{zone;delegate;constructor(t,e=rme){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class ame{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vp,{},Vp,Vp)),e.pipe(gi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new n4(Zone.current)),this.insideAngular=e.run(()=>new n4(Zone.current,Rd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(P(je))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Bd(n){return Bp().ngZone.run(()=>n())}function i4(n){return n.pipe(Ai(Bp().outsideAngular))}function Zi(n){return function cme(n){return function(e){return(e=e.lift(new ame(n.ngZone))).pipe(Cr(n.outsideAngular),Ai(n.insideAngular))}}(Bp())(n)}const ume=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Bd(()=>n.apply(void 0,i))},dme=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=Bd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vp,{},Vp,Vp))),i[o]=ume(i[o],e));const r=function lme(n){return Bp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ct){const o=Bp();return r.pipe(Cr(o.outsideAngular),Ai(o.insideAngular))}return Bd(()=>r)}return r instanceof ct?r.pipe(Zi):r instanceof Promise?Bd(()=>new Promise((o,s)=>r.then(a=>Bd(()=>o(a)),a=>Bd(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Bd(()=>r)},bme=dme(Ly.o,!0);class wC{}class EC{}class Gs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wme{encodeKey(t){return o4(t)}encodeValue(t){return o4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Cme=/%(\d[a-f0-9])/gi,Tme={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o4(n){return encodeURIComponent(n).replace(Cme,(t,e)=>Tme[e]??t)}function CC(n){return`${n}`}class ru{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wme,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Eme(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(CC):[CC(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ru({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(CC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(CC(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ime{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function s4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function a4(n){return typeof Blob<"u"&&n instanceof Blob}function l4(n){return typeof FormData<"u"&&n instanceof FormData}class Vy{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function xme(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Gs),this.context||(this.context=new Ime),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new ru,this.urlWithParams=e}serializeBody(){return null===this.body?null:s4(this.body)||a4(this.body)||l4(this.body)||function Dme(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l4(this.body)?null:a4(this.body)?this.body.type||null:s4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),c)),new Vy(e,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var Ud=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ud||{});class MR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class NR extends MR{constructor(t={}){super(t),this.type=Ud.ResponseHeader}clone(t={}){return new NR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Up extends MR{constructor(t={}){super(t),this.type=Ud.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Up({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class c4 extends MR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function OR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let By=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Vy)o=e;else{let l,c;l=r.headers instanceof Gs?r.headers:new Gs(r.headers),r.params&&(c=r.params instanceof ru?r.params:new ru({fromObject:r.params})),o=new Vy(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=k(o).pipe(_p(l=>this.handler.handle(l)));if(e instanceof Vy||"events"===r.observe)return s;const a=s.pipe(zn(l=>l instanceof Up));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(we(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ru).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,OR(r,i))}post(e,i,r={}){return this.request("POST",e,OR(r,i))}put(e,i,r={}){return this.request("PUT",e,OR(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(wC))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function h4(n,t){return t(n)}function Ame(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const PR=new ae(""),Uy=new ae(""),f4=new ae("");function kme(){let n=null;return(t,e)=>{null===n&&(n=(xe(PR,{optional:!0})??[]).reduceRight(Ame,h4));const i=xe(Zw),r=i.add();return n(t,e).pipe(Dd(()=>i.remove(r)))}}let p4=(()=>{class n extends wC{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=xe(Zw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Uy),...this.injector.get(f4,[])]));this.chain=r.reduceRight((o,s)=>function Rme(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),h4)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Dd(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(P(EC),P(So))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const Pme=/^\)\]\}',?\n/;let g4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new K(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?C(i.\u0275loadImpl()):k(null)).pipe(Ve(()=>new ct(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,E)=>s.setRequestHeader(b,E.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=s.statusText||"OK",E=new Gs(s.getAllResponseHeaders()),N=function Fme(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new NR({headers:E,status:s.status,statusText:b,url:N}),l},u=()=>{let{headers:b,status:E,statusText:N,url:A}=c(),L=null;204!==E&&(L=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=L?200:0);let W=E>=200&&E<300;if("json"===e.responseType&&"string"==typeof L){const ce=L;L=L.replace(Pme,"");try{L=""!==L?JSON.parse(L):null}catch(De){L=ce,W&&(W=!1,L={error:De,text:L})}}W?(o.next(new Up({body:L,headers:b,status:E,statusText:N,url:A||void 0})),o.complete()):o.error(new c4({error:L,headers:b,status:E,statusText:N,url:A||void 0}))},f=b=>{const{url:E}=c(),N=new c4({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(N)};let m=!1;const _=b=>{m||(o.next(c()),m=!0);let E={type:Ud.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),"text"===e.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},y=b=>{let E={type:Ud.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:Ud.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(P(zj))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const FR=new ae("XSRF_ENABLED"),_4=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),y4=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class v4{}let Bme=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(ds),P(_4))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function Ume(n,t){const e=n.url.toLowerCase();if(!xe(FR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=xe(v4).getToken(),r=xe(y4);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var ou=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ou||{});function jme(...n){const t=[By,g4,p4,{provide:wC,useExisting:p4},{provide:EC,useExisting:g4},{provide:Uy,useValue:Ume,multi:!0},{provide:FR,useValue:!0},{provide:v4,useClass:Bme}];for(const e of n)t.push(...e.\u0275providers);return function G1(n){return{\u0275providers:n}}(t)}const b4=new ae("LEGACY_INTERCEPTOR_FN");function Hme(){return function jd(n,t){return{\u0275kind:n,\u0275providers:t}}(ou.LegacyInterceptors,[{provide:b4,useFactory:kme},{provide:Uy,useExisting:b4,multi:!0}])}let zme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[jme(Hme())]})}return n})();lt(365);var vs=lt(106);vs.Z.registerVersion("firebase","10.6.0","app-compat");const Qme=["ngOnDestroy"];class w4{constructor(t){return t}}const jp=new ae("angularfire2.app.options"),Hp=new ae("angularfire2.app.name");function jy(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=vs.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>vs.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;ege("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new w4(s)}const ege=(n,...t)=>{},tge={provide:w4,useFactory:jy,deps:[jp,je,[new Bs,Hp]]};let nge=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:jp,useValue:e},{provide:Hp,useValue:i}]}}constructor(e){vs.Z.registerVersion("angularfire",Lp.full,"core"),vs.Z.registerVersion("angularfire",Lp.full,"app-compat"),vs.Z.registerVersion("angular",fL.full,e.toString())}static \u0275fac=function(i){return new(i||n)(P(ds))};static \u0275mod=Ke({type:n});static \u0275inj=Ye({providers:[tge]})}return n})();function IC(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function ige(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(E4("error",`${t} was already initialized on the ${e} Firebase App with different settings.${rge?" You may need to reload as Firebase is not HMR aware.":""}`),E4("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const rge=typeof module<"u"&&!!module.hot,E4=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class oge extends ${constructor(t=1/0,e=1/0,i=$A){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function LR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,se({connector:()=>new oge(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function C4(n,t){return S(t)?Ve(()=>n,t):Ve(()=>n)}const VR=new ae("angularfire2.auth.use-emulator"),BR=new ae("angularfire2.auth.settings"),UR=new ae("angularfire2.auth.tenant-id"),jR=new ae("angularfire2.auth.langugage-code"),HR=new ae("angularfire2.auth.use-device-language"),zR=new ae("angularfire.auth.persistence"),$R=(n,t,e,i,r,o,s,a)=>IC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let WR,Hy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,u,f,m,_){const y=new $,b=k(void 0).pipe(Ai(s.outsideAngular),Ve(()=>o.runOutsideAngular(()=>Promise.resolve().then(lt.bind(lt,365)))),we(()=>jy(e,o,i)),we(E=>$R(E,o,a,c,u,f,l,m)),LR({bufferSize:1,refCount:!1}));if(fE(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=k(null);else{b.pipe(Qc()).subscribe();const E=b.pipe(Ve(L=>L.getRedirectResult().then(W=>W,()=>null)),Zi,LR({bufferSize:1,refCount:!1})),N=b.pipe(Ve(L=>new ct(W=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(ce=>W.next(ce),ce=>W.error(ce),()=>W.complete()))})))),A=b.pipe(Ve(L=>new ct(W=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(ce=>W.next(ce),ce=>W.error(ce),()=>W.complete()))}))));this.authState=E.pipe(C4(N),Cr(s.outsideAngular),Ai(s.insideAngular)),this.user=E.pipe(C4(A),Cr(s.outsideAngular),Ai(s.insideAngular)),this.idToken=this.user.pipe(Ve(L=>L?C(L.getIdToken()):k(null))),this.idTokenResult=this.user.pipe(Ve(L=>L?C(L.getIdTokenResult()):k(null))),this.credential=x(E,y,this.authState.pipe(zn(L=>!L))).pipe(we(L=>L?.user?L:null),Cr(s.outsideAngular),Ai(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Qme.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{const f=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,f),f})})})}))(this,b,o,{spy:{apply:(E,N,A)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&A.then(L=>y.next(L))}}})}static \u0275fac=function(i){return new(i||n)(P(jp),P(Hp,8),P(ds),P(je),P(vC),P(VR,8),P(BR,8),P(UR,8),P(jR,8),P(HR,8),P(zR,8),P(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),age=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Lp.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ye({providers:[Hy]})}return n})(),Zl=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new w(!1),this.navDisappear=new w(!1),this.httpHeaders=new Gs,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),this.userLoggedInSubject=new w(this.user),r?.getIdToken().then(o=>{this.user.idToken=o,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(s=>{s?(this.user.claims=s,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin),this.getUsers().subscribe(a=>{this.usersSubject=new w(a),console.log(a)})):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getUsersSubject(){return this.usersSubject}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Gs).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return k([])}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new Ly.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new Ly.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new Ly.R(bme(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hy),P(By))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{WR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WR=!1}let zp,kr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Uoe(n){return n===Hj}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(P(ds))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function I4(){if(zp)return zp;if("object"!=typeof document||!document)return zp=new Set(T4),zp;let n=document.createElement("input");return zp=new Set(T4.filter(t=>(n.setAttribute("type",t),n.type===t))),zp}let zy,Hd,GR;function $p(n){return function lge(){if(null==zy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zy=!0}))}finally{zy=zy||!1}return zy}()?n:!!n.capture}function cge(){if(null==Hd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Hd=!1,Hd;if("scrollBehavior"in document.documentElement.style)Hd=!0;else{const n=Element.prototype.scrollTo;Hd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Hd}function su(n){return n.composedPath?n.composedPath()[0]:n.target}function qR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Wp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function XR(n,t=Rd){return de((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Se(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Fn(n){return null!=n&&"false"!=`${n}`}function DC(n,t=0){return function Ige(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function SC(n){return Array.isArray(n)?n:[n]}function or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function au(n){return n instanceof st?n.nativeElement:n}let xge=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[xge]})}return n})();const k4=new Set;let zd,Dge=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Age}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Sge(n,t){if(!k4.has(n))try{zd||(zd=document.createElement("style"),t&&(zd.nonce=t),zd.setAttribute("type","text/css"),document.head.appendChild(zd)),zd.sheet&&(zd.sheet.insertRule(`@media ${n} {body{ }}`,0),k4.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(kr),P(J1,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Age(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Rge=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return M4(SC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=AE(M4(SC(e)).map(s=>this._registerQuery(s).observable));return o=gp(o.pipe(Qn(1)),o.pipe(qA(1),XR(0))),o.pipe(we(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ct(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Yc(i),we(({matches:s})=>({query:e,matches:s})),Et(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(P(Dge),P(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M4(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function O4(n,t,e){const i=AC(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function JR(n,t,e){const r=AC(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function AC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const P4="cdk-describedby-message",RC="cdk-describedby-host";let ek=0,kge=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ek++,this._document=e,this._id=xe(E_)+"-"+ek++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=tk(i,r);"string"!=typeof i?(F4(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=tk(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${RC}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(RC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");F4(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(tk(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=AC(e,"aria-describedby").filter(r=>0!=r.indexOf(P4));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);O4(e,"aria-describedby",r.messageElement.id),e.setAttribute(RC,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,JR(e,"aria-describedby",r.messageElement.id),e.removeAttribute(RC)}_isElementDescribedByMessage(e,i){const r=AC(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(kr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tk(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function F4(n,t){n.id||(n.id=`${P4}-${t}-${ek++}`)}class Mge{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $,this._typeaheadSubscription=pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new $,this.change=new $,t instanceof q_&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gi(e=>this._pressedLetters.push(e)),XR(t),zn(()=>this._pressedLetters.length>0),we(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Wp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof q_?this._items.toArray():this._items}}class Nge extends Mge{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function V4(n){return 0===n.buttons||0===n.detail}function B4(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Bge=new ae("cdk-input-modality-detector-options"),Uge={ignoreKeys:[18,17,224,91,16]},Gp=$p({passive:!0,capture:!0});let jge=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=su(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V4(s)?"keyboard":"mouse"),this._mostRecentTarget=su(s))},this._onTouchstart=s=>{B4(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=su(s))},this._options={...Uge,...o},this.modalityDetected=this._modality.pipe(qA(1)),this.modalityChanged=this.modalityDetected.pipe(ht()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gp),r.addEventListener("mousedown",this._onMousedown,Gp),r.addEventListener("touchstart",this._onTouchstart,Gp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gp),document.removeEventListener("mousedown",this._onMousedown,Gp),document.removeEventListener("touchstart",this._onTouchstart,Gp))}static#e=this.\u0275fac=function(i){return new(i||n)(P(kr),P(je),P(wt),P(Bge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hge=new ae("liveAnnouncerElement",{providedIn:"root",factory:function zge(){return null}}),$ge=new ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Wge=0,Gge=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Wge++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hge,8),P(je),P(wt),P($ge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qge=new ae("cdk-focus-monitor-default-options"),kC=$p({passive:!0,capture:!0});let j4=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=a=>{for(let c=su(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=au(e);if(!this._platform.isBrowser||1!==r.nodeType)return k();const o=function dge(n){if(function uge(){if(null==GR){const n=typeof document<"u"?document.head:null;GR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return GR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new $,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=au(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=au(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=su(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(P(je),P(kr),P(jge),P(wt,8),P(qge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const H4="cdk-high-contrast-black-on-white",z4="cdk-high-contrast-white-on-black",nk="cdk-high-contrast-active";let $4=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=xe(Rge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(nk,H4,z4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(nk,H4):2===i&&e.add(nk,z4)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(kr),P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kge=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(P($4))};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[R4]})}return n})();const Zge=new ae("cdk-dir-doc",{providedIn:"root",factory:function Yge(){return xe(wt)}}),Qge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qp=(()=>{class n{constructor(e){this.value="ltr",this.change=new Fe,e&&(this.value=function Xge(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Qge.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Zge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const Jge=["text"];function e_e(n,t){if(1&n&&nt(0,"mat-pseudo-checkbox",6),2&n){const e=ie();H("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function t_e(n,t){1&n&&nt(0,"mat-pseudo-checkbox",7),2&n&&H("disabled",ie().disabled)}function n_e(n,t){if(1&n&&(R(0,"span",8),oe(1),M()),2&n){const e=ie();U(1),Vi("(",e.group.label,")")}}const i_e=[[["mat-icon"]],"*"],r_e=["mat-icon","*"],s_e=new ae("mat-sanity-checks",{providedIn:"root",factory:function o_e(){return!0}});let Ui=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!qR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(P($4),P(s_e,8),P(wt))};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[$y,$y]})}return n})();function ik(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}constructor(...t){super(...t),this._disabled=!1}}}function rk(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function ok(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function q4(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?DC(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function K4(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Z4=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class l_e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y4=$p({passive:!0,capture:!0});class c_e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=su(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Y4)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Y4)))}}const Q4={enterDuration:225,exitDuration:150},X4=$p({passive:!0,capture:!0}),J4=["mousedown","touchstart"],e5=["mouseup","mouseleave","touchend","touchcancel"];class MC{static#e=this._eventManager=new c_e;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=au(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Q4,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function d_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),_=f.transitionDuration,y="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new l_e(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let E=null;return!y&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(b),A=()=>this._destroyRipple(b);u.addEventListener("transitionend",N),u.addEventListener("transitioncancel",A),E={onTransitionEnd:N,onTransitionCancel:A}}),this._activeRipples.set(b,E),(y||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Q4,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=au(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,J4.forEach(i=>{MC._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{e5.forEach(e=>{this._triggerElement.addEventListener(e,this,X4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=V4(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!B4(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(J4.forEach(e=>MC._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&e5.forEach(e=>t.removeEventListener(e,this,X4)))}}const t5=new ae("mat-ripple-global-options");let NC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new MC(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je),T(kr),T(t5,8),T(oa,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),sk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,Ui]})}return n})(),h_e=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&dt("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),f_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui]})}return n})();const n5=new ae("MAT_OPTION_PARENT_COMPONENT"),i5=new ae("MatOptgroup");let p_e=0;class m_e{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let g_e=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Fn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+p_e++,this.onSelectionChange=new Fe,this._stateChanges=new $}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Wp(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new m_e(this,e))}static#e=this.\u0275fac=function(i){Gf()};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&wn(Jge,7),2&i){let o;Be(o=Ue())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),r5=(()=>{class n extends g_e{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(pr),T(n5,8),T(i5,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Te("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&($r("id",r.id),Pt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),dt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Qe],ngContentSelectors:r_e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(ro(i_e),le(0,e_e,1,2,"mat-pseudo-checkbox",0),fn(1),R(2,"span",1,2),fn(4,1),M(),le(5,t_e,1,1,"mat-pseudo-checkbox",3),le(6,n_e,2,1,"span",4),nt(7,"div",5)),2&i&&(H("ngIf",r.multiple),U(5),H("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),U(1),H("ngIf",r.group&&r.group._inert),U(1),H("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[NC,mr,h_e],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),o5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[sk,dp,Ui,f_e]})}return n})();const s5={capture:!0},a5=["focus","click","mouseenter","touchstart"],ak="mat-ripple-loader-uninitialized",lk="mat-ripple-loader-class-name",l5="mat-ripple-loader-centered",OC="mat-ripple-loader-disabled";let v_e=(()=>{class n{constructor(){this._document=xe(wt,{optional:!0}),this._animationMode=xe(oa,{optional:!0}),this._globalRippleOptions=xe(t5,{optional:!0}),this._platform=xe(kr),this._ngZone=xe(je),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${ak}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of a5)this._document?.addEventListener(e,this._onInteraction,s5)})}ngOnDestroy(){for(const e of a5)this._document?.removeEventListener(e,this._onInteraction,s5)}configureRipple(e,i){e.setAttribute(ak,""),(i.className||!e.hasAttribute(lk))&&e.setAttribute(lk,i.className||""),i.centered&&e.setAttribute(l5,""),i.disabled&&e.setAttribute(OC,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(OC,""):e.removeAttribute(OC)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(lk)),e.append(i);const r=new NC(new st(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(l5),r.disabled=e.hasAttribute(OC),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(ak),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const b_e=["mat-button",""],w_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],E_e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],C_e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],T_e=rk(ik(ok(class{constructor(n){this._elementRef=n}})));let I_e=(()=>{class n extends T_e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Fn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=xe(j4),this._rippleLoader=xe(v_e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of C_e)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Gf()};static#t=this.\u0275dir=X({type:n,features:[Qe]})}return n})(),lu=(()=>{class n extends I_e{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(kr),T(je),T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("disabled",r.disabled||null),dt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qe],attrs:b_e,ngContentSelectors:E_e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ro(w_e),nt(0,"span",0),fn(1),R(2,"span",1),fn(3,1),M(),fn(4,2),nt(5,"span",2)(6,"span",3)),2&i&&dt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),S_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,sk,Ui]})}return n})();const A_e=["*"];let PC;function Gy(n){return function R_e(){if(void 0===PC&&(PC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(PC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PC}()?.createHTML(n)||n}function c5(n){return Error(`Unable to find icon with the name "${n}"`)}function u5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $d{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let FC=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new $d(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(zr.HTML,r);if(!s)throw d5(r);const a=Gy(s);return this._addSvgIconConfig(e,i,new $d("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new $d(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(zr.HTML,i);if(!o)throw d5(i);const s=Gy(o);return this._addSvgIconSetConfig(e,new $d("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(zr.RESOURCE_URL,e);if(!i)throw u5(e);const r=this._cachedIconsByUrl.get(i);return r?k(LC(r)):this._loadSvgIconFromConfig(new $d(e,null)).pipe(gi(o=>this._cachedIconsByUrl.set(i,o)),we(o=>LC(o)))}getNamedSvgIcon(e,i=""){const r=h5(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):xd(c5(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?k(LC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(we(i=>LC(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?k(r):pH(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Wl(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(zr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),k(null)})))).pipe(we(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw c5(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gi(i=>e.svgText=i),we(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?k(null):this._fetchIcon(e).pipe(gi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Gy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Gy("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function k_e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(zr.RESOURCE_URL,i);if(!s)throw u5(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(we(c=>Gy(c)),Dd(()=>this._inProgressUrlFetches.delete(s)),se());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(h5(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return N_e(o)?new $d(o.url,null,o.options):new $d(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(By,8),P(XS),P(wt,8),P(Us))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LC(n){return n.cloneNode(!0)}function h5(n,t){return n+":"+t}function N_e(n){return!(!n.url||!n.options)}const O_e=rk(class{constructor(n){this._elementRef=n}}),P_e=new ae("MAT_ICON_DEFAULT_OPTIONS"),F_e=new ae("mat-icon-location",{providedIn:"root",factory:function L_e(){const n=xe(wt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),f5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],V_e=f5.map(n=>`[${n}]`).join(", "),B_e=/^url\(['"]?#(.*?)['"]?\)$/;let p5=(()=>{class n extends O_e{get inline(){return this._inline}set inline(e){this._inline=Fn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(V_e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)f5.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(B_e):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(FC),Ls("aria-hidden"),T(F_e),T(Us),T(P_e,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Pt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),dt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Qe],ngContentSelectors:A_e,decls:1,vars:0,template:function(i,r){1&i&&(ro(),fn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),U_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,Ui]})}return n})();function j_e(n,t){1&n&&(Wo(0),R(1,"div",1)(2,"div",2)(3,"ngb-toast",3)(4,"button",4)(5,"span",5)(6,"mat-icon"),oe(7,"restaurant"),M()(),R(8,"h3",6),oe(9,"Receptek"),M(),R(10,"span",5)(11,"mat-icon"),oe(12,"menu_book"),M()()()()(),R(13,"div",2)(14,"ngb-toast",7)(15,"button",8)(16,"span",5)(17,"mat-icon"),oe(18,"chat"),M()(),R(19,"h3",6),oe(20,"Chat"),M(),R(21,"span",5)(22,"mat-icon"),oe(23,"groups"),M()()()()(),R(24,"div",2)(25,"ngb-toast",9)(26,"button",10)(27,"span",5)(28,"mat-icon"),oe(29,"sunny"),M()(),R(30,"h3",6),oe(31,"Id\u0151j\xe1r\xe1s"),M(),R(32,"span",5),nt(33,"mat-icon"),M()()()(),R(34,"div",2)(35,"ngb-toast",11)(36,"button",12)(37,"span",5)(38,"mat-icon"),oe(39,"notes"),M()(),R(40,"h3",6),oe(41,"Jegyzetek"),M(),R(42,"span",5),nt(43,"mat-icon"),M()()()()(),Go()),2&n&&(U(3),H("autohide",!1),U(11),H("autohide",!1),U(11),H("autohide",!1),U(10),H("autohide",!1))}function H_e(n,t){1&n&&(Wo(0),R(1,"div",1)(2,"div",2)(3,"ngb-toast",13)(4,"button",14)(5,"span",5)(6,"mat-icon"),oe(7,"notes"),M()(),R(8,"h3",6),oe(9,"Regisztr\xe1ci\xf3"),M(),R(10,"span",5),nt(11,"mat-icon"),M()()()(),R(12,"div",2)(13,"ngb-toast",15)(14,"button",16)(15,"span",5)(16,"mat-icon"),oe(17,"notes"),M()(),R(18,"h3",6),oe(19,"Bejelentkez\xe9s"),M(),R(20,"span",5),nt(21,"mat-icon"),M()()()()(),Go()),2&n&&(U(3),H("autohide",!1),U(10),H("autohide",!1))}let z_e=(()=>{class n{constructor(e,i){this.ngbTConfig=e,this.auth=i,this.userLoggedIn={},e.placement="bottom",e.tooltipClass="tooltippp",e.animation=!0,e.closeDelay=2e3}ngOnInit(){this.auth.isLoggedIn().subscribe(e=>this.userLoggedIn=e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(DR),T(Zl))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget1","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget1","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button",1,"greenButton"],[1,"icons"],[1,"d-inline"],["header","Chatelj az ismer\u0151seiddel",1,"tooltipTarget2","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget2","ngbTooltip","Egy chat-app, ahol felh\u0151tlen a besz\xe9lget\xe9s!","routerLink","chat","mat-raised-button","","color","accent","type","button",1,"blueButton"],["header","Tekintsd meg a jelenlegi id\u0151j\xe1r\xe1st",1,"tooltipTarget3","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget3","ngbTooltip","Id\u0151j\xe1r\xe1sjelent\xe9s","routerLink","weather","mat-raised-button","","color","accent","type","button",1,"orangeButton"],["header","Jegyzetek \xedr\xe1sa",1,"tooltipTarget4","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget4","ngbTooltip","\xcdrd meg a saj\xe1t jegyzeteid","routerLink","notes","mat-raised-button","","color","accent","type","button",1,"yellowButton"],["header","Regisztr\xe1ci\xf3",1,"tooltipTarget5","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget5","ngbTooltip","Regisztr\xe1lj e-mail c\xedmmel, vagy l\xe9pj be egy gombnyom\xe1sra Google-fi\xf3kkal","routerLink","signup","mat-raised-button","","color","accent","type","button",1,"greenButton"],["header","Bejelentkez\xe9s",1,"tooltipTarget6","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget6","ngbTooltip","L\xe9pj be e-mail c\xedmeddel, vagy Google-fi\xf3koddal, vagy telefonsz\xe1moddal egyszer\u0171en  ","routerLink","login","mat-raised-button","","color","accent","type","button",1,"blueButton"]],template:function(i,r){1&i&&(le(0,j_e,44,4,"ng-container",0),le(1,H_e,22,2,"ng-container",0)),2&i&&(H("ngIf",r.userLoggedIn),U(1),H("ngIf",!r.userLoggedIn))},dependencies:[mr,eu,Gpe,Zpe,lu,p5],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}.greenButton{background-color:#2d752db3!important}.blueButton{background-color:#0f0fb4b3!important}.orangeButton{background-color:#c98913b3!important}\n"],encapsulation:2})}return n})();var ue=lt(861);const m5="@firebase/database";let ck="";function uk(n){ck=n}class W_e{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,D.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,D.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class G_e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,D.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new W_e(t)}}catch{}return new G_e},Wd=_5("localStorage"),dk=_5("sessionStorage"),Kp=new ys.Yd("@firebase/database"),y5=function(){let n=1;return function(){return n++}}(),v5=function(n){const t=(0,D.dS)(n),e=new D.gQ;e.update(t);const i=e.digest();return D.US.encodeByteArray(i)},qy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=qy.apply(null,i):t+="object"==typeof i?(0,D.Wl)(i):i,t+=" "}return t};let Gd=null,b5=!0;const w5=function(n,t){(0,D.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Kp.logLevel=ys.in.VERBOSE,Gd=Kp.log.bind(Kp),t&&dk.set("logging_enabled",!0)):"function"==typeof n?Gd=n:(Gd=null,dk.remove("logging_enabled"))},Mr=function(...n){if(!0===b5&&(b5=!1,null===Gd&&!0===dk.get("logging_enabled")&&w5(!0)),Gd){const t=qy.apply(null,n);Gd(t)}},Ky=function(n){return function(...t){Mr(n,...t)}},hk=function(...n){const t="FIREBASE INTERNAL ERROR: "+qy(...n);Kp.error(t)},Qa=function(...n){const t=`FIREBASE FATAL ERROR: ${qy(...n)}`;throw Kp.error(t),new Error(t)},ao=function(...n){const t="FIREBASE WARNING: "+qy(...n);Kp.warn(t)},VC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},cu="[MIN_NAME]",Yl="[MAX_NAME]",qd=function(n,t){if(n===t)return 0;if(n===cu||t===Yl)return-1;if(t===cu||n===Yl)return 1;{const e=T5(n),i=T5(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Z_e=function(n,t){return n===t?0:n<t?-1:1},Zy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(t))},fk=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,D.Wl)(t[i]),e+=":",e+=fk(n[t[i]]);return e+="}",e},E5=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Nr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const C5=function(n){(0,D.hu)(!VC(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let m=parseInt(u.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},J_e=new RegExp("^-?(0*)\\d{1,10}$"),T5=function(n){if(J_e.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Zp=function(n){try{n()}catch(t){setTimeout(()=>{throw ao("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Yy=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class iye{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ao(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rye{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Mr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ao(t)}}let Qy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const A5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M5="websocket",N5="long_polling";class mk{constructor(t,e,i,r,o=!1,s="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Wd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function O5(n,t,e){let i;if((0,D.hu)("string"==typeof t,"typeof type must == string"),(0,D.hu)("object"==typeof e,"typeof params must == object"),t===M5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==N5)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function oye(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Nr(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class sye{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,D.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,D.p$)(this.counters_)}}const gk={},_k={};function yk(n){const t=n.toString();return gk[t]||(gk[t]=new sye),gk[t]}class lye{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Zp(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class uu{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ky(t),this.stats_=yk(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),O5(e,N5,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new lye(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vk((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uu.forceAllow_=!0}static forceDisallow(){uu.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!uu.forceAllow_&&(uu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,D.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,D.h$)(e),r=E5(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,D.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class vk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=y5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=vk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Mr("frame writing exception"),a.stack&&Mr(a.stack),Mr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Mr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,D.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Mr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let UC=null;typeof MozWebSocket<"u"?UC=MozWebSocket:typeof WebSocket<"u"&&(UC=WebSocket);let Yp=(()=>{class n{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ky(this.connId),this.stats_=yk(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),O5(e,M5,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wd.set("previous_websocket_failure",!0);try{let r;if((0,D.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ck}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new UC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==UC&&!n.forceDisallow_}static previouslyFailed(){return Wd.isInMemoryStorage||!0===Wd.get("previous_websocket_failure")}markConnectionHealthy(){Wd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,D.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,D.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=E5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),j5=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uu,Yp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Yp&&Yp.isAvailable();let r=i&&!Yp.previouslyFailed();if(e.webSocketOnly&&(i||ao("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yp];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class K5{constructor(t,e,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ky("c:"+this.id+":"),this.transportManager_=new j5(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Zy("t",t),i=Zy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Zy("t",t),i=Zy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Zy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?hk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ao("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Yy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Z5{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Y5{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,D.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,D.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jC extends Y5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jC}getInitialEvent(t){return(0,D.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Cn(){return new Nn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function du(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Nn(n.pieces_,t)}function wk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Xy(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function J5(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Nn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Nn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Nn(e,0)}function Qt(n){return n.pieceNum_>=n.pieces_.length}function Mo(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return Mo(Jn(n),Jn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Rye(n,t){const e=Xy(n,0),i=Xy(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=qd(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function Ek(n,t){if(du(n)!==du(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function qs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(du(n)>du(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class kye{constructor(t,e){this.errorPrefix_=e,this.parts_=Xy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,D.ug)(this.parts_[i]);eW(this)}}function eW(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Kd(n))}function Kd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ck extends Y5{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ck}getInitialEvent(t){return(0,D.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Jy=1e3;let zC,Zd=(()=>{class n extends Z5{constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Ky("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ck.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,D.Wl)(s)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new D.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,D.r3)(e,"w")){const r=(0,D.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ao(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,D.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,D.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,D.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):hk("Unrecognized action received from server: "+(0,D.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ue.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};e.realtime_={close:u,sendRequest:function(_){(0,D.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const m=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,y]=yield Promise.all([e.authTokenProvider_.getToken(m),e.appCheckTokenProvider_.getToken(m)]);l?Mr("getToken() completed but was canceled"):(Mr("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=y&&y.token,c=new K5(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,b=>{ao(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),l||(e.repoInfo_.nodeAdmin&&ao(_),u())}}})()}interrupt(e){Mr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>fk(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Nn(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Mr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Mr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,D.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+ck.replace(/\./g,"-")]=1,(0,D.uI)()?e["framework.cordova"]=1:(0,D.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jC.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new nn(t,e)}}class HC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new nn(cu,t),r=new nn(cu,e);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class iW extends HC{static get __EMPTY_NODE(){return zC}static set __EMPTY_NODE(t){zC=t}compare(t,e){return qd(t.name,e.name)}isDefinedOn(t){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Yl,zC)}makePost(t,e){return(0,D.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new nn(t,zC)}toString(){return".key"}}const Xa=new iW;class $C{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ik,ga=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??es.EMPTY_NODE,this.right=s??es.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return es.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return es.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class es{constructor(t,e=es.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new es(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ga.BLACK,null,null))}remove(t){return new es(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ga.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $C(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $C(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $C(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $C(this.root_,null,this.comparator_,!0,t)}}function Bye(n,t){return qd(n.name,t.name)}function Tk(n,t){return qd(n,t)}es.EMPTY_NODE=new class Vye{copy(t,e,i,r,o){return this}insert(t,e,i){return new ga(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rW=function(n){return"number"==typeof n?"number:"+C5(n):"string:"+n},oW=function(n){if(n.isLeafNode()){const t=n.val();(0,D.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,D.r3)(t,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===Ik||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===Ik||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sW,aW,lW,Qp=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oW(this.priorityNode_)}static set __childrenNodeConstructor(e){sW=e}static get __childrenNodeConstructor(){return sW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Yt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,D.hu)(".priority"!==r||1===du(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rW(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?C5(this.value_):this.value_,this.lazyHash_=v5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,D.hu)(o>=0,"Unknown leaf type: "+i),(0,D.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ai=new class zye extends HC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?qd(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Yl,new Qp("[PRIORITY-POST]",lW))}makePost(t,e){const i=aW(t);return new nn(e,new Qp("[PRIORITY-POST]",i))}toString(){return".priority"}},$ye=Math.log(2);class Wye{constructor(t){this.count=parseInt(Math.log(t+1)/$ye,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const WC=function(n,t,e,i){n.sort(t);const r=function(l,c){const u=c-l;let f,m;if(0===u)return null;if(1===u)return f=n[l],m=e?e(f):f,new ga(m,f.node,ga.BLACK,null,null);{const _=parseInt(u/2,10)+l,y=r(l,_),b=r(_+1,c);return f=n[_],m=e?e(f):f,new ga(m,f.node,ga.BLACK,y,b)}},a=function(l){let c=null,u=null,f=n.length;const m=function(y,b){const E=f-y,N=f;f-=y;const A=r(E+1,N),L=n[E],W=e?e(L):L;_(new ga(W,L.node,b,null,A))},_=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const b=l.nextBitIsOne(),E=Math.pow(2,l.count-(y+1));b?m(E,ga.BLACK):(m(E,ga.BLACK),m(E,ga.RED))}return u}(new Wye(n.length));return new es(i||t,a)};let xk;const Xp={};class Ql{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,D.hu)(Xp&&ai,"ChildrenNode.ts has not been loaded"),xk=xk||new Ql({".priority":Xp},{".priority":ai}),xk}get(t){const e=(0,D.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof es?e:null}hasIndex(t){return(0,D.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,D.hu)(t!==Xa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(nn.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?WC(i,t.getCompare()):Xp;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new Ql(u,c)}addToIndexes(t,e){const i=(0,D.UI)(this.indexes_,(r,o)=>{const s=(0,D.DV)(this.indexSet_,o);if((0,D.hu)(s,"Missing index implementation for "+o),r===Xp){if(s.isDefinedOn(t.node)){const a=[],l=e.getIterator(nn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),WC(a,s.getCompare())}return Xp}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new nn(t.name,a))),l.insert(t,t.node)}});return new Ql(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,D.UI)(this.indexes_,r=>{if(r===Xp)return r;{const o=e.get(t.name);return o?r.remove(new nn(t.name,o)):r}});return new Ql(i,this.indexSet_)}}let ev,Nt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oW(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ev||(ev=new n(new es(Tk),null,Ql.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ev}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ev:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(Jn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,D.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new nn(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?ev:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=Yt(e);if(null===r)return i;{(0,D.hu)(".priority"!==Yt(e)||1===du(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(ai,(a,l)=>{i[a]=l.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+rW(this.getPriority().val())+":"),this.forEachChild(ai,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":v5(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new nn(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new nn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tv?-1:0}withIndex(e){if(e===Xa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Xa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ai),o=i.getIterator(ai);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Xa?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const tv=new class Gye extends Nt{constructor(){super(new es(Tk),Nt.EMPTY_NODE,Ql.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Nt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(cu,Nt.EMPTY_NODE)},MAX:{value:new nn(Yl,tv)}}),iW.__EMPTY_NODE=Nt.EMPTY_NODE,Qp.__childrenNodeConstructor=Nt,function Uye(n){Ik=n}(tv),function Hye(n){lW=n}(tv);const qye=!0;function Ni(n,t=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,D.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Qp(n,Ni(t));if(n instanceof Array||!qye){let e=Nt.EMPTY_NODE;return Nr(n,(i,r)=>{if((0,D.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ni(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ni(t))}{const e=[];let i=!1;if(Nr(n,(s,a)=>{if("."!==s.substring(0,1)){const l=Ni(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new nn(s,l)))}}),0===e.length)return Nt.EMPTY_NODE;const o=WC(e,Bye,s=>s.name,Tk);if(i){const s=WC(e,ai.getCompare());return new Nt(o,Ni(t),new Ql({".priority":s},{".priority":ai}))}return new Nt(o,Ni(t),Ql.Default)}}!function jye(n){aW=n}(Ni);class Dk extends HC{constructor(t){super(),this.indexPath_=t,(0,D.hu)(!Qt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?qd(t.name,e.name):o}makePost(t,e){const i=Ni(t),r=Nt.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(e,r)}maxPost(){const t=Nt.EMPTY_NODE.updateChild(this.indexPath_,tv);return new nn(Yl,t)}toString(){return Xy(this.indexPath_,0).join("/")}}const Sk=new class Kye extends HC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?qd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(t,e){const i=Ni(t);return new nn(e,i)}toString(){return".value"}};function cW(n){return{type:"value",snapshotNode:n}}function Jp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function nv(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function iv(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ak{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,D.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(nv(e,a)):(0,D.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Jp(e,i)):s.trackChildChange(iv(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ai,(r,o)=>{e.hasChild(r)||i.trackChildChange(nv(r,o))}),e.isLeafNode()||e.forEachChild(ai,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(iv(r,o,s))}else i.trackChildChange(Jp(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rv{constructor(t){this.indexedFilter_=new Ak(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rv.getStartPost_(t),this.endPost_=rv.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Nt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Nt.EMPTY_NODE);const o=this;return e.forEachChild(ai,(s,a)=>{o.matches(new nn(s,a))||(r=r.updateImmediateChild(s,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Yye{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new rv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Nt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Nt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(m,_)=>f(_,m)}else s=this.index_.getCompare();const a=t;(0,D.hu)(a.numChildren()===this.limit_,"");const l=new nn(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let m=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=m&&(m.name===e||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:s(m,l);if(u&&!i.isEmpty()&&_>=0)return o?.trackChildChange(iv(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(nv(e,f));const b=a.updateImmediateChild(e,Nt.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(Jp(m.name,m.node)),b.updateImmediateChild(m.name,m.node)):b}}return i.isEmpty()?t:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(nv(c.name,c.node)),o.trackChildChange(Jp(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,Nt.EMPTY_NODE)):t}}class GC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const t=new GC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Rk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function kk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function qC(n,t){const e=n.copy();return e.index_=t,e}function uW(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ai?e="$priority":n.index_===Sk?e="$value":n.index_===Xa?e="$key":((0,D.hu)(n.index_ instanceof Dk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,D.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function dW(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ai&&(t.i=n.index_.toString()),t}class KC extends Z5{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ky("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,D.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=KC.getListenId_(t,i),a={};this.listens_[s]=a;const l=uW(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(o,f,!1,i),(0,D.DV)(this.listens_,s)===a){let m;m=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(m,null)}})}unlisten(t,e){const i=KC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=uW(t._queryParams),i=t._path.toString(),r=new D.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,D.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,D.cI)(a.responseText)}catch{ao("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&ao("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class nve{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ZC(){return{value:null,children:new Map}}function em(n,t,e){if(Qt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,ZC()),em(n.children.get(i),t=Jn(t),e)}}function Mk(n,t){if(Qt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ai,(i,r)=>{em(n,new Nn(i),r)}),Mk(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Jn(t),n.children.has(e)&&Mk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Nk(n,t,e){null!==n.value?e(t,n.value):function ive(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Nk(r,new Nn(t.toString()+"/"+i),e)})}class rve{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Nr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class ave{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new rve(t);const i=1e4+2e4*Math.random();Yy(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Nr(t,(r,o)=>{o>0&&(0,D.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Yy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ja=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ja||{});function Fk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class YC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ja.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Nn(t));return new YC(Cn(),e,this.revert)}}return(0,D.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new YC(Jn(this.path),this.affectedTree,this.revert)}}class ov{constructor(t,e){this.source=t,this.path=e,this.type=Ja.LISTEN_COMPLETE}operationForChild(t){return Qt(this.path)?new ov(this.source,Cn()):new ov(this.source,Jn(this.path))}}class Yd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ja.OVERWRITE}operationForChild(t){return Qt(this.path)?new Yd(this.source,Cn(),this.snap.getImmediateChild(t)):new Yd(this.source,Jn(this.path),this.snap)}}class tm{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ja.MERGE}operationForChild(t){if(Qt(this.path)){const e=this.children.subtree(new Nn(t));return e.isEmpty()?null:e.value?new Yd(this.source,Cn(),e.value):new tm(this.source,Cn(),e)}return(0,D.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new tm(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class lve{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sv(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,l)=>function dve(n,t,e){if(null==t.childName||null==e.childName)throw(0,D.g5)("Should only compare child_ events.");const i=new nn(t.childName,t.snapshotNode),r=new nn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function uve(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function QC(n,t){return{eventCache:n,serverCache:t}}function av(n,t,e,i){return QC(new hu(t,e,i),n.serverCache)}function fW(n,t,e,i){return QC(n.eventCache,new hu(t,e,i))}function XC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Lk;class li{constructor(t,e=(()=>(Lk||(Lk=new es(Z_e)),Lk))()){this.value=t,this.children=e}static fromObject(t){let e=new li(null);return Nr(t,(i,r)=>{e=e.set(new Nn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Cn(),value:this.value};if(Qt(t))return null;{const i=Yt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(t),e);return null!=o?{path:Ii(new Nn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(Jn(t)):new li(null)}}set(t,e){if(Qt(t))return new li(e,this.children);{const i=Yt(t),o=(this.children.get(i)||new li(null)).set(Jn(t),e),s=this.children.insert(i,o);return new li(this.value,s)}}remove(t){if(Qt(t))return this.children.isEmpty()?new li(null):new li(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const r=i.remove(Jn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new li(null):new li(this.value,o)}return this}}get(t){if(Qt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(Jn(t)):null}}setTree(t,e){if(Qt(t))return e;{const i=Yt(t),o=(this.children.get(i)||new li(null)).setTree(Jn(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new li(this.value,s)}}fold(t){return this.fold_(Cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Qt(t))return null;{const o=Yt(t),s=this.children.get(o);return s?s.findOnPath_(Jn(t),Ii(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Cn(),e)}foreachOnPath_(t,e,i){if(Qt(t))return this;{this.value&&i(e,this.value);const r=Yt(t),o=this.children.get(r);return o?o.foreachOnPath_(Jn(t),Ii(e,r),i):new li(null)}}foreach(t){this.foreach_(Cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class _a{constructor(t){this.writeTree_=t}static empty(){return new _a(new li(null))}}function lv(n,t,e){if(Qt(t))return new _a(new li(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=Mo(r,t);return o=o.updateChild(s,e),new _a(n.writeTree_.set(r,o))}{const r=new li(e),o=n.writeTree_.setTree(t,r);return new _a(o)}}}function Vk(n,t,e){let i=n;return Nr(e,(r,o)=>{i=lv(i,Ii(t,r),o)}),i}function pW(n,t){if(Qt(t))return _a.empty();{const e=n.writeTree_.setTree(t,new li(null));return new _a(e)}}function Bk(n,t){return null!=Xd(n,t)}function Xd(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Mo(e.path,t)):null}function mW(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ai,(i,r)=>{t.push(new nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new nn(i,r.value))}),t}function fu(n,t){if(Qt(t))return n;{const e=Xd(n,t);return new _a(null!=e?new li(e):n.writeTree_.subtree(t))}}function Uk(n){return n.writeTree_.isEmpty()}function nm(n,t){return gW(Cn(),n.writeTree_,t)}function gW(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,D.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=gW(Ii(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function JC(n,t){return wW(t,n)}function _ve(n,t){if(n.snap)return qs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&qs(Ii(n.path,e),t))return!0;return!1}function vve(n){return n.visible}function _W(n,t,e){let i=_a.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)qs(e,s)?(a=Mo(e,s),i=lv(i,a,o.snap)):qs(s,e)&&(a=Mo(s,e),i=lv(i,Cn(),o.snap.getChild(a)));else{if(!o.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(qs(e,s))a=Mo(e,s),i=Vk(i,a,o.children);else if(qs(s,e))if(a=Mo(s,e),Qt(a))i=Vk(i,Cn(),o.children);else{const l=(0,D.DV)(o.children,Yt(a));if(l){const c=l.getChild(Jn(a));i=lv(i,Cn(),c)}}}}}return i}function yW(n,t,e,i,r){if(i||r){const o=fu(n.visibleWrites,t);return!r&&Uk(o)?e:r||null!=e||Bk(o,Cn())?nm(_W(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(qs(c.path,t)||qs(t,c.path))},t),e||Nt.EMPTY_NODE):null}{const o=Xd(n.visibleWrites,t);if(null!=o)return o;{const s=fu(n.visibleWrites,t);return Uk(s)?e:null!=e||Bk(s,Cn())?nm(s,e||Nt.EMPTY_NODE):null}}}function eT(n,t,e,i){return yW(n.writeTree,n.treePath,t,e,i)}function jk(n,t){return function bve(n,t,e){let i=Nt.EMPTY_NODE;const r=Xd(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ai,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=fu(n.visibleWrites,t);return e.forEachChild(ai,(s,a)=>{const l=nm(fu(o,new Nn(s)),a);i=i.updateImmediateChild(s,l)}),mW(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return mW(fu(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function vW(n,t,e,i){return function wve(n,t,e,i,r){(0,D.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ii(t,e);if(Bk(n.visibleWrites,o))return null;{const s=fu(n.visibleWrites,o);return Uk(s)?r.getChild(e):nm(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function tT(n,t){return function Cve(n,t){return Xd(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function Hk(n,t,e){return function Eve(n,t,e,i){const r=Ii(t,e),o=Xd(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?nm(fu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function bW(n,t){return wW(Ii(n.treePath,t),n.writeTree)}function wW(n,t){return{treePath:n,writeTree:t}}class Dve{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,D.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,iv(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,nv(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Jp(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,D.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,iv(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const EW=new class Sve{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class zk{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new hu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qd(this.viewCache_),o=function xve(n,t,e,i,r,o){return function Tve(n,t,e,i,r,o,s){let a;const l=fu(n.visibleWrites,t),c=Xd(l,Cn());if(null!=c)a=c;else{if(null==e)return[];a=nm(l,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let _=m.getNext();for(;_&&u.length<r;)0!==f(_,i)&&u.push(_),_=m.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function CW(n,t,e,i,r,o){const s=t.eventCache;if(null!=tT(i,e))return t;{let a,l;if(Qt(e))if((0,D.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Qd(t),f=jk(i,c instanceof Nt?c:Nt.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const c=eT(i,Qd(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=Yt(e);if(".priority"===c){(0,D.hu)(1===du(e),"Can't have a priority with additional path components");const u=s.getNode();l=t.serverCache.getNode();const f=vW(i,e,u,l);a=null!=f?n.filter.updatePriority(u,f):s.getNode()}else{const u=Jn(e);let f;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const m=vW(i,e,s.getNode(),l);f=null!=m?s.getNode().getImmediateChild(c).updateChild(u,m):s.getNode().getImmediateChild(c)}else f=Hk(i,c,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),c,f,u,r,o):s.getNode()}}return av(t,a,s.isFullyInitialized()||Qt(e),n.filter.filtersNodes())}}function nT(n,t,e,i,r,o,s,a){const l=t.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(Qt(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),_,null)}else{const _=Yt(e);if(!l.isCompleteForPath(e)&&du(e)>1)return t;const y=Jn(e),E=l.getNode().getImmediateChild(_).updateChild(y,i);c=".priority"===_?u.updatePriority(l.getNode(),E):u.updateChild(l.getNode(),_,E,y,EW,null)}const f=fW(t,c,l.isFullyInitialized()||Qt(e),u.filtersNodes());return CW(n,f,e,r,new zk(r,f,o),a)}function $k(n,t,e,i,r,o,s){const a=t.eventCache;let l,c;const u=new zk(r,t,o);if(Qt(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,s),l=av(t,c,!0,n.filter.filtersNodes());else{const f=Yt(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=av(t,c,a.isFullyInitialized(),a.isFiltered());else{const m=Jn(e),_=a.getNode().getImmediateChild(f);let y;if(Qt(m))y=i;else{const b=u.getCompleteChild(f);y=null!=b?".priority"===wk(m)&&b.getChild(J5(m)).isEmpty()?b:b.updateChild(m,i):Nt.EMPTY_NODE}l=_.equals(y)?t:av(t,n.filter.updateChild(a.getNode(),f,y,m,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function TW(n,t){return n.eventCache.isCompleteForChild(t)}function IW(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Wk(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Qt(e)?i:new li(null).setTree(e,i);const u=t.serverCache.getNode();return c.children.inorderTraversal((f,m)=>{if(u.hasChild(f)){const y=IW(0,t.serverCache.getNode().getImmediateChild(f),m);l=nT(n,l,new Nn(f),y,r,o,s,a)}}),c.children.inorderTraversal((f,m)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===m.value;if(!u.hasChild(f)&&!_){const b=IW(0,t.serverCache.getNode().getImmediateChild(f),m);l=nT(n,l,new Nn(f),b,r,o,s,a)}}),l}class Lve{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Ak(i.getIndex()),o=function Qye(n){return n.loadsAllData()?new Ak(n.getIndex()):n.hasLimit()?new Yye(n):new rv(n)}(i);this.processor_=function Ave(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,l=r.updateFullNode(Nt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Nt.EMPTY_NODE,a.getNode(),null),u=new hu(l,s.isFullyInitialized(),r.filtersNodes()),f=new hu(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=QC(f,u),this.eventGenerator_=new lve(this.query_)}get query(){return this.query_}}function Uve(n,t){const e=Qd(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Qt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function xW(n){return 0===n.eventRegistrations_.length}function DW(n,t,e){const i=[];if(e){(0,D.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function SW(n,t,e,i){t.type===Ja.MERGE&&null!==t.source.queryId&&((0,D.hu)(Qd(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(XC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function kve(n,t,e,i,r){const o=new Dve;let s,a;if(e.type===Ja.OVERWRITE){const c=e;c.source.fromUser?s=$k(n,t,c.path,c.snap,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Qt(c.path),s=nT(n,t,c.path,c.snap,i,r,a,o))}else if(e.type===Ja.MERGE){const c=e;c.source.fromUser?s=function Nve(n,t,e,i,r,o,s){let a=t;return i.foreach((l,c)=>{const u=Ii(e,l);TW(t,Yt(u))&&(a=$k(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Ii(e,l);TW(t,Yt(u))||(a=$k(n,a,u,c,r,o,s))}),a}(n,t,c.path,c.children,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Wk(n,t,c.path,c.children,i,r,a,o))}else if(e.type===Ja.ACK_USER_WRITE){const c=e;s=c.revert?function Fve(n,t,e,i,r,o){let s;if(null!=tT(i,e))return t;{const a=new zk(i,t,r),l=t.eventCache.getNode();let c;if(Qt(e)||".priority"===Yt(e)){let u;if(t.serverCache.isFullyInitialized())u=eT(i,Qd(t));else{const f=t.serverCache.getNode();(0,D.hu)(f instanceof Nt,"serverChildren would be complete if leaf node"),u=jk(i,f)}c=n.filter.updateFullNode(l,u,o)}else{const u=Yt(e);let f=Hk(i,u,t.serverCache);null==f&&t.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),c=null!=f?n.filter.updateChild(l,u,f,Jn(e),a,o):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,Nt.EMPTY_NODE,Jn(e),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=eT(i,Qd(t)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=tT(i,Cn()),av(t,c,s,n.filter.filtersNodes())}}(n,t,c.path,i,r,o):function Ove(n,t,e,i,r,o,s){if(null!=tT(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Qt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return nT(n,t,e,l.getNode().getChild(e),r,o,a,s);if(Qt(e)){let c=new li(null);return l.getNode().forEachChild(Xa,(u,f)=>{c=c.set(new Nn(u),f)}),Wk(n,t,e,c,r,o,a,s)}return t}{let c=new li(null);return i.foreach((u,f)=>{const m=Ii(e,u);l.isCompleteForPath(m)&&(c=c.set(u,l.getNode().getChild(m)))}),Wk(n,t,e,c,r,o,a,s)}}(n,t,c.path,c.affectedTree,i,r,o)}else{if(e.type!==Ja.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+e.type);s=function Pve(n,t,e,i,r){const o=t.serverCache;return CW(n,fW(t,o.getNode(),o.isFullyInitialized()||Qt(e),o.isFiltered()),e,i,EW,r)}(n,t,e.path,i,o)}const l=o.getChanges();return function Mve(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=XC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(cW(XC(t)))}}(t,s,l),{viewCache:s,changes:l}}(n.processor_,r,t,e,i);return function Rve(n,t){(0,D.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,D.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,AW(n,o.changes,o.viewCache.eventCache.getNode(),null)}function AW(n,t,e,i){return function cve(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Zye(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),sv(n,r,"child_removed",t,i,e),sv(n,r,"child_added",t,i,e),sv(n,r,"child_moved",o,i,e),sv(n,r,"child_changed",t,i,e),sv(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let iT,oT;class RW{constructor(){this.views=new Map}}function Gk(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,D.hu)(null!=o,"SyncTree gave us an op for an invalid query."),SW(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(SW(s,t,e,i));return o}}function kW(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=eT(e,r?i:null),l=!1;a?l=!0:i instanceof Nt?(a=jk(e,i),l=!1):(a=Nt.EMPTY_NODE,l=!1);const c=QC(new hu(a,l,!1),new hu(i,r,!1));return new Lve(t,c)}return s}function MW(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function pu(n,t){let e=null;for(const i of n.views.values())e=e||Uve(i,t);return e}function NW(n,t){return t._queryParams.loadsAllData()?rT(n):n.views.get(t._queryIdentifier)}function OW(n,t){return null!=NW(n,t)}function mu(n){return null!=rT(n)}function rT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Yve=1;class PW{constructor(t){this.listenProvider_=t,this.syncPointTree_=new li(null),this.pendingWriteTree_=function Ive(){return{visibleWrites:_a.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qk(n,t,e,i,r){return function fve(n,t,e,i,r){(0,D.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=lv(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?im(n,new Yd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function gu(n,t,e=!1){const i=function mve(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function gve(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,D.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&_ve(a,i.path)?r=!1:qs(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function yve(n){n.visibleWrites=_W(n.allWrites,vve,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=pW(n.visibleWrites,i.path):Nr(i.children,l=>{n.visibleWrites=pW(n.visibleWrites,Ii(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let o=new li(null);return null!=i.snap?o=o.set(Cn(),!0):Nr(i.children,s=>{o=o.set(new Nn(s),!0)}),im(n,new YC(i.path,o,e))}return[]}function cv(n,t,e){return im(n,new Yd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function sT(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||OW(s,t))){const l=function qve(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=mu(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(DW(c,e,i)),xW(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(DW(l,e,i)),xW(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!mu(n)&&o.push(new(function $ve(){return(0,D.hu)(iT,"Reference.ts has not been loaded"),iT}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function Wve(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=-1!==c.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(m,_)=>mu(_));if(u&&!f){const m=n.syncPointTree_.subtree(o);if(!m.isEmpty()){const _=function ibe(n){return n.fold((t,e,i)=>{if(e&&mu(e))return[rT(e)];{let r=[];return e&&(r=MW(e)),Nr(i,(o,s)=>{r=r.concat(s)}),r}})}(m);for(let y=0;y<_.length;++y){const b=_[y],E=b.query,N=BW(n,b);n.listenProvider_.startListening(dv(E),uv(n,E),N.hashFn,N.onComplete)}}}!f&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(dv(t),null):c.forEach(m=>{const _=n.queryToTagMap.get(lT(m));n.listenProvider_.stopListening(dv(m),_)}))}!function rbe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=lT(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function FW(n,t,e,i){const r=Zk(n,i);if(null!=r){const o=Yk(r),s=o.path,a=o.queryId,l=Mo(s,t);return Qk(n,s,new Yd(Fk(a),l,e))}return[]}function Kk(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const y=Mo(m,r);o=o||pu(_,y),s=s||mu(_)});let l,a=n.syncPointTree_.get(r);a?(s=s||mu(a),o=o||pu(a,Cn())):(a=new RW,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=Nt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,y)=>{const b=pu(y,Cn());b&&(o=o.updateImmediateChild(_,b))}));const c=OW(a,t);if(!c&&!t._queryParams.loadsAllData()){const m=lT(t);(0,D.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function obe(){return Yve++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function Gve(n,t,e,i,r,o){const s=kW(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function jve(n,t){n.eventRegistrations_.push(t)}(s,e),function Hve(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ai,(o,s)=>{i.push(Jp(o,s))}),e.isFullyInitialized()&&i.push(cW(e.getNode())),AW(n,i,e.getNode(),t)}(s,e)}(a,t,e,JC(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const m=NW(a,t);f=f.concat(function sbe(n,t,e){const i=t._path,r=uv(n,t),o=BW(n,e),s=n.listenProvider_.startListening(dv(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,D.hu)(!mu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!Qt(c)&&u&&mu(u))return[rT(u).query];{let m=[];return u&&(m=m.concat(MW(u).map(_=>_.query))),Nr(f,(_,y)=>{m=m.concat(y)}),m}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(dv(u),uv(n,u))}}return s}(n,t,m))}return f}function aT(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const c=pu(a,Mo(s,t));if(c)return c});return yW(r,t,o,e,!0)}function im(n,t){return LW(t,n.syncPointTree_,null,JC(n.pendingWriteTree_,Cn()))}function LW(n,t,e,i){if(Qt(n.path))return VW(n,t,e,i);{const r=t.get(Cn());null==e&&null!=r&&(e=pu(r,Cn()));let o=[];const s=Yt(n.path),a=n.operationForChild(s),l=t.children.get(s);if(l&&a){const c=e?e.getImmediateChild(s):null,u=bW(i,s);o=o.concat(LW(a,l,c,u))}return r&&(o=o.concat(Gk(r,n,i,e))),o}}function VW(n,t,e,i){const r=t.get(Cn());null==e&&null!=r&&(e=pu(r,Cn()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=e?e.getImmediateChild(s):null,c=bW(i,s),u=n.operationForChild(s);u&&(o=o.concat(VW(u,a,l,c)))}),r&&(o=o.concat(Gk(r,n,i,e))),o}function BW(n,t){const e=t.query,i=uv(n,e);return{hashFn:()=>(function Vve(n){return n.viewCache_.serverCache.getNode()}(t)||Nt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function ebe(n,t,e){const i=Zk(n,e);if(i){const r=Yk(i),o=r.path,s=r.queryId,a=Mo(o,t);return Qk(n,o,new ov(Fk(s),a))}return[]}(n,e._path,i):function Jve(n,t){return im(n,new ov({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function X_e(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return sT(n,e,null,o)}}}}function uv(n,t){const e=lT(t);return n.queryToTagMap.get(e)}function lT(n){return n._path.toString()+"$"+n._queryIdentifier}function Zk(n,t){return n.tagToQueryMap.get(t)}function Yk(n){const t=n.indexOf("$");return(0,D.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Nn(n.substr(0,t))}}function Qk(n,t,e){const i=n.syncPointTree_.get(t);return(0,D.hu)(i,"Missing sync point for query tag that we're tracking"),Gk(i,e,JC(n.pendingWriteTree_,t),null)}function dv(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Zve(){return(0,D.hu)(oT,"Reference.ts has not been loaded"),oT}())(n._repo,n._path):n}class Xk{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Xk(e)}node(){return this.node_}}class Jk{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new Jk(this.syncTree_,e)}node(){return aT(this.syncTree_,this.path_)}}const abe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},UW=function(n,t,e){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?lbe(n[".sv"],t,e):"object"==typeof n[".sv"]?cbe(n[".sv"],t):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},lbe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},cbe=function(n,t,e){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,D.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,D.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},jW=function(n,t,e,i){return tM(t,new Jk(e,n),i)},eM=function(n,t,e){return tM(n,new Xk(t),e)};function tM(n,t,e){const i=n.getPriority().val(),r=UW(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=UW(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Qp(a,Ni(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Qp(r))),s.forEachChild(ai,(a,l)=>{const c=tM(l,t.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class nM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function cT(n,t){let e=t instanceof Nn?t:new Nn(t),i=n,r=Yt(e);for(;null!==r;){const o=(0,D.DV)(i.node.children,r)||{children:{},childCount:0};i=new nM(r,i,o),e=Jn(e),r=Yt(e)}return i}function Jd(n){return n.node.value}function iM(n,t){n.node.value=t,rM(n)}function HW(n){return n.node.childCount>0}function uT(n,t){Nr(n.node.children,(e,i)=>{t(new nM(e,n,i))})}function zW(n,t,e,i){e&&!i&&t(n),uT(n,r=>{zW(r,t,!0,i)}),e&&i&&t(n)}function hv(n){return new Nn(null===n.parent?n.name:hv(n.parent)+"/"+n.name)}function rM(n){null!==n.parent&&function hbe(n,t,e){const i=function ube(n){return void 0===Jd(n)&&!HW(n)}(e),r=(0,D.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,rM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,rM(n))}(n.parent,n.name,n)}const fbe=/[\[\].#$\/\u0000-\u001F\u007F]/,pbe=/[\[\].#$\u0000-\u001F\u007F]/,oM=10485760,dT=function(n){return"string"==typeof n&&0!==n.length&&!fbe.test(n)},$W=function(n){return"string"==typeof n&&0!==n.length&&!pbe.test(n)},fv=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!VC(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},el=function(n,t,e,i){i&&void 0===t||pv((0,D.gK)(n,"value"),t,e)},pv=function(n,t,e){const i=e instanceof Nn?new kye(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Kd(i));if("function"==typeof t)throw new Error(n+"contains a function "+Kd(i)+" with contents = "+t.toString());if(VC(t))throw new Error(n+"contains "+t.toString()+" "+Kd(i));if("string"==typeof t&&t.length>oM/3&&(0,D.ug)(t)>oM)throw new Error(n+"contains a string greater than "+oM+" utf8 bytes "+Kd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Nr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!dT(s)))throw new Error(n+" contains an invalid key ("+s+") "+Kd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mye(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,D.ug)(t),eW(n)})(i,s),pv(n,a,i),function Nye(n){const t=n.parts_.pop();n.byteLength_-=(0,D.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Kd(i)+" in addition to actual children.")}},WW=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,D.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Nr(t,(s,a)=>{const l=new Nn(s);if(pv(r,a,Ii(e,l)),".priority"===wk(l)&&!fv(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Xy(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!dT(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Rye);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&qs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},sM=function(n,t,e){if(!e||void 0!==t){if(VC(t))throw new Error((0,D.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fv(t))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mv=function(n,t,e,i){if(!(i&&void 0===e||dT(e)))throw new Error((0,D.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gv=function(n,t,e,i){if(!(i&&void 0===e||$W(e)))throw new Error((0,D.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_be=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gv(n,t,e,i)},Ks=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},GW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!dT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$W(n)}(e))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ybe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!Ek(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function qW(n,t,e){hT(n,e),KW(n,i=>Ek(i,t))}function bs(n,t,e){hT(n,e),KW(n,i=>qs(i,t)||qs(t,i))}function KW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(vbe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function vbe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Gd&&Mr("event: "+e.toString()),Zp(i)}}}const ZW="repo_interrupt",bbe=25;class wbe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ybe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ZC(),this.transactionQueueTree_=new nM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YW(n){const e=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _v(n){return abe({timestamp:YW(n)})}function QW(n,t,e,i,r){n.dataUpdateCount++;const o=new Nn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const l=(0,D.UI)(e,c=>Ni(c));s=function tbe(n,t,e,i){const r=Zk(n,i);if(r){const o=Yk(r),s=o.path,a=o.queryId,l=Mo(s,t),c=li.fromObject(e);return Qk(n,s,new tm(Fk(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=Ni(e);s=FW(n.serverSyncTree_,o,l,r)}else if(i){const l=(0,D.UI)(e,c=>Ni(c));s=function Xve(n,t,e){const i=li.fromObject(e);return im(n,new tm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,l)}else{const l=Ni(e);s=cv(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=om(n,o)),bs(n.eventQueue_,a,s)}function XW(n,t){aM(n,"connected",t),!1===t&&function xbe(n){rm(n,"onDisconnectEvents");const t=_v(n),e=ZC();Nk(n.onDisconnect_,Cn(),(r,o)=>{const s=jW(r,o,n.serverSyncTree_,t);em(e,r,s)});let i=[];Nk(e,Cn(),(r,o)=>{i=i.concat(cv(n.serverSyncTree_,r,o));const s=dM(n,r);om(n,s)}),n.onDisconnect_=ZC(),bs(n.eventQueue_,Cn(),i)}(n)}function aM(n,t,e){const i=new Nn("/.info/"+t),r=Ni(e);n.infoData_.updateSnapshot(i,r);const o=cv(n.infoSyncTree_,i,r);bs(n.eventQueue_,i,o)}function fT(n){return n.nextWriteId_++}function lM(n,t,e,i,r){rm(n,"set",{path:t.toString(),value:e,priority:i});const o=_v(n),s=Ni(e,i),a=aT(n.serverSyncTree_,t),l=eM(s,a,o),c=fT(n),u=qk(n.serverSyncTree_,t,l,c,!0);hT(n.eventQueue_,u),n.server_.put(t.toString(),s.val(!0),(m,_)=>{const y="ok"===m;y||ao("set at "+t+" failed: "+m);const b=gu(n.serverSyncTree_,c,!y);bs(n.eventQueue_,t,b),_u(0,r,m,_)});const f=dM(n,t);om(n,f),bs(n.eventQueue_,f,[])}function Dbe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Mk(n.onDisconnect_,t),_u(0,e,i,r)})}function JW(n,t,e,i){const r=Ni(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&em(n.onDisconnect_,t,r),_u(0,i,o,s)})}function cM(n,t,e){let i;i=".info"===Yt(t._path)?sT(n.infoSyncTree_,t,e):sT(n.serverSyncTree_,t,e),qW(n.eventQueue_,t._path,i)}function e8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZW)}function rm(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Mr(e,...t)}function _u(n,t,e,i){t&&Zp(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function uM(n,t,e){return aT(n.serverSyncTree_,t,e)||Nt.EMPTY_NODE}function pT(n,t=n.transactionQueueTree_){if(t||mT(n,t),Jd(t)){const e=n8(n,t);(0,D.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Nbe(n,t,e){const i=e.map(c=>c.currentWriteId),r=uM(n,t,i);let o=r;const s=r.hash();for(let c=0;c<e.length;c++){const u=e[c];(0,D.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Mo(t,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;n.server_.put(l.toString(),a,c=>{rm(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const f=[];for(let m=0;m<e.length;m++)e[m].status=2,u=u.concat(gu(n.serverSyncTree_,e[m].currentWriteId)),e[m].onComplete&&f.push(()=>e[m].onComplete(null,!0,e[m].currentOutputSnapshotResolved)),e[m].unwatcher();mT(n,cT(n.transactionQueueTree_,t)),pT(n,n.transactionQueueTree_),bs(n.eventQueue_,t,u);for(let m=0;m<f.length;m++)Zp(f[m])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{ao("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}om(n,t)}},s)}(n,hv(t),e)}else HW(t)&&uT(t,e=>{pT(n,e)})}function om(n,t){const e=t8(n,t),i=hv(e);return function Obe(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Mo(e,l.path);let f,u=!1;if((0,D.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,f=l.abortReason,r=r.concat(gu(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=bbe)u=!0,f="maxretry",r=r.concat(gu(n.serverSyncTree_,l.currentWriteId,!0));else{const m=uM(n,l.path,s);l.currentInputSnapshot=m;const _=t[a].update(m.val());if(void 0!==_){pv("transaction failed: Data returned ",_,l.path);let y=Ni(_);"object"==typeof _&&null!=_&&(0,D.r3)(_,".priority")||(y=y.updatePriority(m.getPriority()));const E=l.currentWriteId,N=_v(n),A=eM(y,m,N);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=A,l.currentWriteId=fT(n),s.splice(s.indexOf(E),1),r=r.concat(qk(n.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(gu(n.serverSyncTree_,E,!0))}else u=!0,f="nodata",r=r.concat(gu(n.serverSyncTree_,l.currentWriteId,!0))}bs(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}mT(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Zp(i[a]);pT(n,n.transactionQueueTree_)}(n,n8(n,e),i),i}function t8(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===Jd(i);)i=cT(i,e),e=Yt(t=Jn(t));return i}function n8(n,t){const e=[];return i8(n,t,e),e.sort((i,r)=>i.order-r.order),e}function i8(n,t,e){const i=Jd(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);uT(t,r=>{i8(n,r,e)})}function mT(n,t){const e=Jd(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,iM(t,e.length>0?e:void 0)}uT(t,i=>{mT(n,i)})}function dM(n,t){const e=hv(t8(n,t)),i=cT(n.transactionQueueTree_,t);return function dbe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{hM(n,r)}),hM(n,i),zW(i,r=>{hM(n,r)}),e}function hM(n,t){const e=Jd(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,D.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,D.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(gu(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?iM(t,void 0):e.length=o+1,bs(n.eventQueue_,hv(t),r);for(let s=0;s<i.length;s++)Zp(i[s])}}const fM=function(n,t){const e=Lbe(n),i=e.namespace;return"firebase.com"===e.domain&&Qa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Qa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ao("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new mk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Nn(e.pathString)}},Lbe=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(u,f)),u<f&&(r=function Pbe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(u,f)));const m=function Fbe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ao(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const _=t.slice(0,c);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),e=t.substring(y+1),o=i}"ns"in m&&(o=m.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},r8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Vbe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=r8.charAt(e%64),e=Math.floor(e/64);(0,D.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=r8.charAt(t[r]);return(0,D.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class o8{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class s8{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class a8{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new D.BH;return Dbe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ks("OnDisconnect.remove",this._path);const t=new D.BH;return JW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ks("OnDisconnect.set",this._path),el("OnDisconnect.set",t,this._path,!1);const e=new D.BH;return JW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ks("OnDisconnect.setWithPriority",this._path),el("OnDisconnect.setWithPriority",t,this._path,!1),sM("OnDisconnect.setWithPriority",e,!1);const i=new D.BH;return function Sbe(n,t,e,i,r){const o=Ni(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&em(n.onDisconnect_,t,o),_u(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ks("OnDisconnect.update",this._path),WW("OnDisconnect.update",t,this._path,!1);const e=new D.BH;return function Abe(n,t,e,i){if((0,D.xb)(e))return Mr("onDisconnect().update() called with empty data.  Don't do anything."),void _u(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Nr(e,(s,a)=>{const l=Ni(a);em(n.onDisconnect_,Ii(t,s),l)}),_u(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ts{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Qt(this._path)?null:wk(this._path)}get ref(){return new Zs(this._repo,this._path)}get _queryIdentifier(){const t=dW(this._queryParams),e=fk(t);return"{}"===e?"default":e}get _queryObject(){return dW(this._queryParams)}isEqual(t){if(!((t=(0,D.m9)(t))instanceof ts))return!1;const e=this._repo===t._repo,i=Ek(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Aye(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function gT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xa){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==cu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Yl)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ai){if(null!=t&&!fv(t)||null!=e&&!fv(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof Dk||n.getIndex()===Sk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _T(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zs extends ts{constructor(t,e){super(t,e,new GC,!1)}get parent(){const t=J5(this._path);return null===t?null:new Zs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class eh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Nn(t),i=th(this.ref,t);return new eh(this._node.getChild(e),i,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new eh(r,th(this.ref,i),ai)))}hasChild(t){const e=new Nn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function l8(n,t){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==t?th(n._root,t):n._root}function c8(n,t){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const e=fM(t,n._repo.repoInfo_.nodeAdmin);GW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Qa("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),l8(n,e.path.toString())}function th(n,t){return null===Yt((n=(0,D.m9)(n))._path)?_be("child","path",t,!1):gv("child","path",t,!1),new Zs(n._repo,Ii(n._path,t))}function mM(n,t){n=(0,D.m9)(n),Ks("set",n._path),el("set",t,n._path,!1);const e=new D.BH;return lM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zbe(n,t){WW("update",t,n._path,!1);const e=new D.BH;return function Ibe(n,t,e,i){rm(n,"update",{path:t.toString(),value:e});let r=!0;const o=_v(n),s={};if(Nr(e,(a,l)=>{r=!1,s[a]=jW(Ii(t,a),Ni(l),n.serverSyncTree_,o)}),r)Mr("update() called with empty data.  Don't do anything."),_u(0,i,"ok",void 0);else{const a=fT(n),l=function Qve(n,t,e,i){!function pve(n,t,e,i){(0,D.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Vk(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=li.fromObject(e);return im(n,new tm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);hT(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,u)=>{const f="ok"===c;f||ao("update at "+t+" failed: "+c);const m=gu(n.serverSyncTree_,a,!f),_=m.length>0?om(n,t):t;bs(n.eventQueue_,_,m),_u(0,i,c,u)}),Nr(e,c=>{const u=dM(n,Ii(t,c));om(n,u)}),bs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function $be(n){n=(0,D.m9)(n);const t=new pM(()=>{}),e=new yv(t);return function Tbe(n,t,e){const i=function nbe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,u)=>{const f=Mo(c,e);i=i||pu(u,f)});let r=n.syncPointTree_.get(e);r?i=i||pu(r,Cn()):(r=new RW,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new hu(i,!0,!1):null;return function Bve(n){return XC(n.viewCache_)}(kW(r,t,JC(n.pendingWriteTree_,t._path),o?s.getNode():Nt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Ni(r).withIndex(t._queryParams.getIndex());let s;if(Kk(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=cv(n.serverSyncTree_,t._path,o);else{const a=uv(n.serverSyncTree_,t);s=FW(n.serverSyncTree_,t._path,o,a)}return bs(n.eventQueue_,t._path,s),sT(n.serverSyncTree_,t,e,null,!0),o},r=>(rm(n,"get for query "+(0,D.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new eh(i,new Zs(n._repo,n._path),n._queryParams.getIndex()))}class yv{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new o8("value",this,new eh(t.snapshotNode,new Zs(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new s8(this,t,e):null}matches(t){return t instanceof yv&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new s8(this,t,e):null}createEvent(t,e){(0,D.hu)(null!=t.childName,"Child events should have a childName.");const i=th(new Zs(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new o8(t.type,this,new eh(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof yT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function vv(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=e,c=(u,f)=>{cM(n._repo,n,a),l(u,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const s=new pM(e,o||void 0),a="value"===t?new yv(s):new yT(t,s);return function Rbe(n,t,e){let i;i=".info"===Yt(t._path)?Kk(n.infoSyncTree_,t,e):Kk(n.serverSyncTree_,t,e),qW(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>cM(n._repo,n,a)}function gM(n,t,e,i){return vv(n,"value",t,e,i)}function u8(n,t,e,i){return vv(n,"child_added",t,e,i)}function d8(n,t,e,i){return vv(n,"child_changed",t,e,i)}function h8(n,t,e,i){return vv(n,"child_moved",t,e,i)}function f8(n,t,e,i){return vv(n,"child_removed",t,e,i)}function p8(n,t,e){let i=null;const r=e?new pM(e):null;"value"===t?i=new yv(r):t&&(i=new yT(t,r)),cM(n._repo,n,i)}class ya{}class m8 extends ya{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("endAt",this._value,t._path,!0);const e=kk(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Gbe extends ya{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("endBefore",this._value,t._path,!1);const e=function tve(n,t,e){let i;return i=kk(n,t,n.index_===Xa||e?e:cu),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class g8 extends ya{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("startAt",this._value,t._path,!0);const e=Rk(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Zbe extends ya{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){el("startAfter",this._value,t._path,!1);const e=function eve(n,t,e){let i;return i=Rk(n,t,n.index_===Xa||e?e:Yl),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Qbe extends ya{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ts(t._repo,t._path,function Xye(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Jbe extends ya{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ts(t._repo,t._path,function Jye(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class t0e extends ya{constructor(t){super(),this._path=t}_apply(t){gT(t,"orderByChild");const e=new Nn(this._path);if(Qt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Dk(e),r=qC(t._queryParams,i);return yu(r),new ts(t._repo,t._path,r,!0)}}class i0e extends ya{_apply(t){gT(t,"orderByKey");const e=qC(t._queryParams,Xa);return yu(e),new ts(t._repo,t._path,e,!0)}}class o0e extends ya{_apply(t){gT(t,"orderByPriority");const e=qC(t._queryParams,ai);return yu(e),new ts(t._repo,t._path,e,!0)}}class a0e extends ya{_apply(t){gT(t,"orderByValue");const e=qC(t._queryParams,Sk);return yu(e),new ts(t._repo,t._path,e,!0)}}class c0e extends ya{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(el("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new m8(this._value,this._key)._apply(new g8(this._value,this._key)._apply(t))}}function va(n,...t){let e=(0,D.m9)(n);for(const i of t)e=i._apply(e);return e}(function zve(n){(0,D.hu)(!iT,"__referenceConstructor has already been defined"),iT=n})(Zs),function Kve(n){(0,D.hu)(!oT,"__referenceConstructor has already been defined"),oT=n}(Zs);const _M={};function yM(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Qa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=fM(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=fM(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new Qy(Qy.OWNER):new rye(n.name,n.options,t);GW("Invalid Firebase Database URL",s),Qt(s.path)||Qa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function p0e(n,t,e,i){let r=_M[t.name];r||(r={},_M[t.name]=r);let o=r[n.toURLString()];return o&&Qa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wbe(n,false,e,i),r[n.toURLString()]=o,o}(a,n,u,new iye(n.name,e));return new g0e(f,n)}class g0e{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ebe(n,t,e){if(n.stats_=yk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new KC(n.repoInfo_,(i,r,o,s)=>{QW(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XW(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Zd(n.repoInfo_,t,(i,r,o,s)=>{QW(n,i,r,o,s)},i=>{XW(n,i)},i=>{!function Cbe(n,t){Nr(t,(e,i)=>{aM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function aye(n,t){const e=n.toString();return _k[e]||(_k[e]=t()),_k[e]}(n.repoInfo_,()=>new ave(n.stats_,n.server_)),n.infoData_=new nve,n.infoSyncTree_=new PW({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=cv(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),aM(n,"connected",!1),n.serverSyncTree_=new PW({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);bs(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zs(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function f0e(n,t){const e=_M[t];(!e||e[n.key]!==n)&&Qa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),e8(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Qa("Cannot call "+t+" on a deleted database.")}}function y8(){j5.IS_TRANSPORT_INITIALIZED&&ao("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _0e(){y8(),uu.forceDisallow()}function y0e(){y8(),Yp.forceDisallow(),uu.forceAllow()}function w0e(n,t){w5(n,t)}const C0e={".sv":"timestamp"};class x0e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Zd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Zd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function E0e(n){uk(so.SDK_VERSION),(0,so._registerComponent)(new ma.wA("database",(t,{instanceIdentifier:e})=>yM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(m5,"1.0.1",n),(0,so.registerVersion)(m5,"1.0.1","esm2017")}();const R0e=new ys.Yd("@firebase/database-compat"),b8=function(n){R0e.warn("FIREBASE WARNING: "+n)};class N0e{constructor(t){this._delegate=t}cancel(t){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,b8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class O0e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),gv("DataSnapshot.child","path",t,!1),new vu(this._database,this._delegate.child(t))}hasChild(t){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gv("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new vu(this._database,e)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new ws(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class qr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",e,!1);const s=qr.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{e.call(s.context,new vu(this.database,c),u)};a.userCallback=e,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return gM(this._delegate,a,l),e;case"child_added":return u8(this._delegate,a,l),e;case"child_removed":return f8(this._delegate,a,l),e;case"child_changed":return d8(this._delegate,a,l),e;case"child_moved":return h8(this._delegate,a,l),e;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,D.Wj)("Query.off","callback",e,!0),(0,D.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,p8(this._delegate,t,r)}else p8(this._delegate,t)}get(){return $be(this._delegate).then(t=>new vu(this.database,t))}once(t,e,i,r){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",e,!0);const o=qr.getCancelAndContextArgs_("Query.once",i,r),s=new D.BH,a=(c,u)=>{const f=new vu(this.database,c);e&&e.call(o.context,f,u),s.resolve(f)};a.userCallback=e,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":gM(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":u8(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":f8(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":d8(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":h8(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new qr(this.database,va(this._delegate,function Xbe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qbe(n)}(t)))}limitToLast(t){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new qr(this.database,va(this._delegate,function e0e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jbe(n)}(t)))}orderByChild(t){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new qr(this.database,va(this._delegate,function n0e(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gv("orderByChild","path",n,!1),new t0e(n)}(t)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new qr(this.database,va(this._delegate,function r0e(){return new i0e}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new qr(this.database,va(this._delegate,function s0e(){return new o0e}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new qr(this.database,va(this._delegate,function l0e(){return new a0e}()))}startAt(t=null,e){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new qr(this.database,va(this._delegate,function Kbe(n=null,t){return mv("startAt","key",t,!0),new g8(n,t)}(t,e)))}startAfter(t=null,e){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new qr(this.database,va(this._delegate,function Ybe(n,t){return mv("startAfter","key",t,!0),new Zbe(n,t)}(t,e)))}endAt(t=null,e){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new qr(this.database,va(this._delegate,function Wbe(n,t){return mv("endAt","key",t,!0),new m8(n,t)}(t,e)))}endBefore(t=null,e){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new qr(this.database,va(this._delegate,function qbe(n,t){return mv("endBefore","key",t,!0),new Gbe(n,t)}(t,e)))}equalTo(t,e){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new qr(this.database,va(this._delegate,function u0e(n,t){return mv("equalTo","key",t,!0),new c0e(n,t)}(t,e)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,D.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,D.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,D.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ws(this.database,new Zs(this._delegate._repo,this._delegate._path))}}class ws extends qr{constructor(t,e){super(t,new ts(e._repo,e._path,new GC,!1)),this.database=t,this._delegate=e}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ws(this.database,th(this._delegate,t))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ws(this.database,t):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new ws(this.database,this._delegate.root)}set(t,e){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",e,!0);const i=mM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,b8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",e,!0);const i=zbe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Hbe(n,t,e){if(Ks("setWithPriority",n._path),el("setWithPriority",t,n._path,!1),sM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new D.BH;return lM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",t,!0);const e=function Ube(n){return Ks("remove",n._path),mM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,D.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function D0e(n,t,e){var i;if(n=(0,D.m9)(n),Ks("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new D.BH,a=gM(n,()=>{});return function Mbe(n,t,e,i,r,o){rm(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:y5(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=uM(n,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{pv("transaction failed: Data returned ",l,s.path),s.status=0;const c=cT(n.transactionQueueTree_,t),u=Jd(c)||[];let f;u.push(s),iM(c,u),"object"==typeof l&&null!==l&&(0,D.r3)(l,".priority")?(f=(0,D.DV)(l,".priority"),(0,D.hu)(fv(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(aT(n.serverSyncTree_,t)||Nt.EMPTY_NODE).getPriority().val();const m=_v(n),_=Ni(l,f),y=eM(_,a,m);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=fT(n);const b=qk(n.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);bs(n.eventQueue_,t,b),pT(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,u)=>{let f=null;l?o.reject(l):(f=new eh(u,new Zs(n._repo,n._path),ai),o.resolve(new x0e(c,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new O0e(o.committed,new vu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",e,!0);const i=function jbe(n,t){n=(0,D.m9)(n),Ks("setPriority",n._path),sM("setPriority",t,!1);const e=new D.BH;return lM(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",e,!0);const i=function Bbe(n,t){n=(0,D.m9)(n),Ks("push",n._path),el("push",t,n._path,!0);const e=YW(n._repo),i=Vbe(e),r=th(n,i),o=th(n,i);let s;return s=null!=t?mM(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new ws(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ws(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ks("Reference.onDisconnect",this._delegate._path),new N0e(new a8(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_0e,forceLongPolling:y0e}}useEmulator(t,e,i={}){!function v8(n,t,e,i={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Qa("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Qa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qy(Qy.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,D.Sg)(i.mockUserToken,n.app.options.projectId);o=new Qy(s)}!function h0e(n,t,e,i){n.repoInfo_=new mk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,D.Dv)("database.ref",0,1,arguments.length),t instanceof ws){const e=c8(this._delegate,t.toString());return new ws(this,e)}{const e=l8(this._delegate,t);return new ws(this,e)}}refFromURL(t){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const i=c8(this._delegate,t);return new ws(this,i)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function v0e(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),e8(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function b0e(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function kbe(n){n.persistentConnection_&&n.persistentConnection_.resume(ZW)}(n._repo)}(this._delegate)}}bv.ServerValue={TIMESTAMP:function T0e(){return C0e}(),increment:n=>function I0e(n){return{".sv":{increment:n}}}(n)};var F0e=Object.freeze({__proto__:null,initStandalone:function P0e({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){uk(e);const a=new ma.H0("database-standalone"),l=new ma.zt("auth-internal",a);let c;return l.setComponent(new ma.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new ma.zt("app-check-internal",a),c.setComponent(new ma.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new bv(yM(n,l,c,t,s),n),namespace:o}}});const L0e=bv.ServerValue;function wv(n,t,e="on",i=Rd){return new ct(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(we(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),se())}function w8(n){return null==n}function E8(n){return"function"==typeof n.set}function C8(n,t){return E8(t)?t:n.ref(t)}function T8(n,t){if(function B0e(n){return"string"==typeof n}(n))return t.stringCase();if(E8(n))return t.firebaseCase();if(function U0e(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function I8(n){return(w8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function x8(n,t,e){return x(...(t=I8(t)).map(r=>wv(n,r,"on",e)))}function D8(n,t){return function(i,r){return T8(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function $0e(n){return function(e){return e?T8(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function S8(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function q0e(n,t){const{payload:e,prevKey:i,key:r}=t,o=S8(n,r),s=function G0e(n,t){if(w8(t))return 0;{const e=S8(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function A8(n,t,e){return function W0e(n,t,e){return wv(n,"value","once",e).pipe(Ve(i=>{const r=[k(i)];return t.forEach(o=>r.push(wv(n,o,"on",e))),x(...r).pipe(yp(q0e,[]))}),ht())}(n,t=I8(t),e)}function R8(n,t){return function(){return wv(n,"value","on",t)}}!function V0e(n){n.INTERNAL.registerComponent(new ma.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new bv(r,i)},"PUBLIC").setServiceProps({Reference:ws,Query:qr,Database:bv,DataSnapshot:vu,enableLogging:w0e,INTERNAL:F0e,ServerValue:L0e}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(vs.Z);const Y0e=new ae("angularfire2.realtimeDatabaseURL"),Q0e=new ae("angularfire2.database.use-emulator");let k8=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,l,c,u,f,m,_,y,b,E){this.schedulers=a;const N=l,A=jy(e,s,i);c&&$R(A,s,u,m,_,y,f,b),this.database=IC(`${A.name}.database.${r}`,"AngularFireDatabase",A.name,()=>{const L=s.runOutsideAngular(()=>A.database(r||void 0));return N&&L.useEmulator(...N),L},[N])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>C8(this.database,e));let o=r;return i&&(o=i(r)),function K0e(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:D8(i,"update"),set:D8(i,"set"),push:r=>i.push(r),remove:$0e(i),snapshotChanges:r=>A8(n,r,e).pipe(Zi),stateChanges:r=>x8(n,r,e).pipe(Zi),auditTrail:r=>function j0e(n,t,e){return function z0e(n,t,e){return function H0e(n,t){return wv(n,"value","on",t).pipe(we(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(XE(t),we(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function $_e(n){return de((t,e)=>{let i=!1,r=0;t.subscribe(Se(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),we(r=>r.actions))}(n,x8(n,t).pipe(yp((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Zi),valueChanges:(r,o)=>A8(n,r,e).pipe(we(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),Zi)}}(o,this)}object(e){return function Z0e(n,t){return{query:n,snapshotChanges:()=>R8(n,t.schedulers.outsideAngular)().pipe(Zi),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>R8(n,t.schedulers.outsideAngular)().pipe(Zi,we(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>C8(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(P(jp),P(Hp,8),P(Y0e,8),P(ds),P(je),P(vC),P(Q0e,8),P(Hy,8),P(VR,8),P(BR,8),P(UR,8),P(jR,8),P(HR,8),P(zR,8),P(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),X0e=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Lp.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ye({providers:[k8]})}return n})();const M8="firebasestorage.googleapis.com",N8="storageBucket";class Oi extends D.ZR{constructor(t,e,i=0){super(vM(t),`Firebase Storage: ${e} (${vM(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var xi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(xi||{});function vM(n){return"storage/"+n}function bM(){return new Oi(xi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function O8(){return new Oi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P8(){return new Oi(xi.CANCELED,"User canceled the upload/download.")}function F8(){return new Oi(xi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sm(n){return new Oi(xi.INVALID_ARGUMENT,n)}function L8(){return new Oi(xi.APP_DELETED,"The Firebase app was deleted.")}function V8(n){return new Oi(xi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ev(n,t){return new Oi(xi.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Cv(n){throw new Oi(xi.INTERNAL_ERROR,"Internal error: "+n)}class lo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=lo.makeFromUrl(t,e)}catch{return new lo(t,"")}if(""===i.path)return i;throw function lwe(n){return new Oi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(W){W.path_=decodeURIComponent(W.path)}const f=e.replace(/[.]/g,"\\."),L=[{regex:a,indices:{bucket:1,path:3},postModify:function o(W){"/"===W.path.charAt(W.path.length-1)&&(W.path_=W.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===M8?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let W=0;W<L.length;W++){const ce=L[W],De=ce.regex.exec(t);if(De){let it=De[ce.indices.path];it||(it=""),i=new lo(De[ce.indices.bucket],it),ce.postModify(i);break}}if(null==i)throw function awe(n){return new Oi(xi.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class fwe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vT(n){return"string"==typeof n||n instanceof String}function B8(n){return wM()&&n instanceof Blob}function wM(){return typeof Blob<"u"&&!(0,D.UG)()}function EM(n,t,e,i){if(i<t)throw sm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw sm(`Invalid value for '${n}'. Expected ${e} or less.`)}function Xl(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function U8(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var am=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(am||{});function j8(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class vwe{constructor(t,e,i,r,o,s,a,l,c,u,f,m=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,y)=>{this.resolve_=_,this.reject_=y,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function gwe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=bM();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?L8():P8():O8())};this.canceled_?e(0,new bT(!1,null,!0)):this.backoffId_=function pwe(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...E){c||(c=!0,t.apply(null,E))}function f(E){r=setTimeout(()=>{r=null,n(_,l())},E)}function m(){o&&clearTimeout(o)}function _(E,...N){if(c)return void m();if(E)return m(),void u.call(null,E,...N);if(l()||s)return m(),void u.call(null,E,...N);let L;i<64&&(i*=2),1===a?(a=2,L=0):L=1e3*(i+Math.random()),f(L)}let y=!1;function b(E){y||(y=!0,m(),!c&&(null!==r?(E||(a=2),clearTimeout(r),f(0)):E||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},e),b}((i,r)=>{if(r)return void i(!1,new bT(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===am.NO_ERROR,l=o.getStatus();if(!a||j8(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===am.ABORT;return void i(!1,new bT(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new bT(c,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mwe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function xwe(...n){const t=function Iwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(wM())return new Blob(n);throw new Oi(xi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CM{constructor(t,e){this.data=t,this.contentType=e||null}}function TM(n,t){switch(n){case Es.RAW:return new CM(H8(t));case Es.BASE64:case Es.BASE64URL:return new CM(z8(n,t));case Es.DATA_URL:return new CM(function Rwe(n){const t=new $8(n);return t.base64?z8(Es.BASE64,t.rest):function Awe(n){let t;try{t=decodeURIComponent(n)}catch{throw Ev(Es.DATA_URL,"Malformed data URL.")}return H8(t)}(t.rest)}(t),function kwe(n){return new $8(n).contentType}(t))}throw bM()}function H8(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function z8(n,t){switch(n){case Es.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Ev(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Es.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Ev(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Swe(n){if(typeof atob>"u")throw function hwe(n){return new Oi(xi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Ev(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class $8{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ev(Es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Mwe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class tl{constructor(t,e){let i=0,r="";B8(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(B8(this.data_)){const r=function Dwe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new tl(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new tl(i,!0)}}static getBlob(...t){if(wM()){const e=t.map(i=>i instanceof tl?i.data_:i);return new tl(xwe.apply(null,e))}{const e=t.map(s=>vT(s)?TM(Es.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new tl(r,!0)}}uploadData(){return this.data_}}function IM(n){let t;try{t=JSON.parse(n)}catch{return null}return function ywe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function W8(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Pwe(n,t){return t}class No{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Pwe}}let wT=null;function Tv(){if(wT)return wT;const n=[];n.push(new No("bucket")),n.push(new No("generation")),n.push(new No("metageneration")),n.push(new No("name","fullPath",!0));const e=new No("name");e.xform=function t(o,s){return function Fwe(n){return!vT(n)||n.length<2?n:W8(n)}(s)},n.push(e);const r=new No("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new No("timeCreated")),n.push(new No("updated")),n.push(new No("md5Hash",null,!0)),n.push(new No("cacheControl",null,!0)),n.push(new No("contentDisposition",null,!0)),n.push(new No("contentEncoding",null,!0)),n.push(new No("contentLanguage",null,!0)),n.push(new No("contentType",null,!0)),n.push(new No("metadata","customMetadata",!0)),wT=n,wT}function G8(n,t,e){const i=IM(t);return null===i?null:function Vwe(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function Lwe(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new lo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function xM(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const q8="prefixes",K8="items";class nl{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function il(n){if(!n)throw bM()}function ET(n,t){return function e(i,r){const o=G8(n,r,t);return il(null!==o),o}}function lm(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function owe(){return new Oi(xi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rwe(){return new Oi(xi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function iwe(n){return new Oi(xi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function swe(n){return new Oi(xi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Iv(n){const t=lm(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function nwe(n){return new Oi(xi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function Z8(n,t,e){const r=Xl(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new nl(r,"GET",ET(n,e),s);return a.errorHandler=Iv(t),a}function $we(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const a=Xl(t.bucketOnlyServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,u=new nl(a,"GET",function Hwe(n,t){return function e(i,r){const o=function jwe(n,t,e){const i=IM(e);return null===i?null:function Uwe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[q8])for(const r of e[q8]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new lo(t,o));i.prefixes.push(s)}if(e[K8])for(const r of e[K8]){const o=n._makeStorageReference(new lo(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return il(null!==o),o}}(n,t.bucket),c);return u.urlParams=o,u.errorHandler=lm(t),u}function Q8(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Kwe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class CT{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function DM(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{il(!1)}return il(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Xwe={STATE_CHANGED:"state_changed"},Oo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SM(n){switch(n){case"running":case"pausing":case"canceling":return Oo.RUNNING;case"paused":return Oo.PAUSED;case"success":return Oo.SUCCESS;case"canceled":return Oo.CANCELED;default:return Oo.ERROR}}class Jwe{constructor(t,e,i){if(function _we(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function cm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let eG=null;class eEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=am.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=am.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=am.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Cv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class tEe extends eEe{initXhr(){this.xhr_.responseType="text"}}function ba(){return eG?eG():new tEe}class tG{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Tv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(xi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(j8(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=O8()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(xi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Zwe(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=Q8(t,i,r),a={name:s.fullPath},l=Xl(o,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=xM(s,e),y=new nl(l,"POST",function _(b){let E;DM(b);try{E=b.getResponseHeader("X-Goog-Upload-URL")}catch{il(!1)}return il(vT(E)),E},n.maxUploadRetryTime);return y.urlParams=a,y.headers=u,y.body=f,y.errorHandler=lm(t),y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ba,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Ywe(n,t,e,i){const l=new nl(e,"POST",function o(c){const u=DM(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{il(!1)}f||il(!1);const m=Number(f);return il(!isNaN(m)),new CT(m,i.size(),"final"===u)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=lm(t),l}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,ba,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new CT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function Qwe(n,t,e,i,r,o,s,a){const l=new CT(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function uwe(){return new Oi(xi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const f=l.current;let _="";_=0===u?"finalize":c===u?"upload, finalize":"upload";const y={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${l.current}`},b=i.slice(f,f+u);if(null===b)throw F8();const L=new nl(e,"POST",function E(W,ce){const De=DM(W,["active","final"]),Me=l.current+u,it=i.size();let rn;return rn="final"===De?ET(t,o)(W,ce):null,new CT(Me,it,"final"===De,rn)},t.maxUploadRetryTime);return L.headers=y,L.body=b.uploadData(),L.progressCallback=a||null,L.errorHandler=lm(n),L}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,ba,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Z8(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ba,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function X8(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let L="";for(let W=0;W<2;W++)L+=Math.random().toString().slice(2);return L}();s["Content-Type"]="multipart/related; boundary="+l;const c=Q8(t,i,r),u=xM(c,e),_=tl.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===_)throw F8();const y={name:c.fullPath},b=Xl(o,n.host,n._protocol),N=n.maxUploadRetryTime,A=new nl(b,"POST",ET(n,e),N);return A.urlParams=y,A.headers=s,A.body=_.uploadData(),A.errorHandler=lm(t),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ba,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=P8(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=SM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Jwe(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(SM(this._state)){case Oo.SUCCESS:cm(this._resolve.bind(null,this.snapshot))();break;case Oo.CANCELED:case Oo.ERROR:cm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(SM(this._state)){case Oo.RUNNING:case Oo.PAUSED:t.next&&cm(t.next.bind(t,this.snapshot))();break;case Oo.SUCCESS:t.complete&&cm(t.complete.bind(t))();break;default:t.error&&cm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class nh{constructor(t,e){this._service=t,this._location=e instanceof lo?e:lo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new nh(t,e)}get root(){const t=new lo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W8(this._location.path)}get storage(){return this._service}get parent(){const t=function Nwe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new lo(this._location.bucket,t);return new nh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw V8(t)}}function iG(n,t,e){return AM.apply(this,arguments)}function AM(){return(AM=(0,ue.Z)(function*(n,t,e){const r=yield rG(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield iG(n,t,r.nextPageToken))})).apply(this,arguments)}function rG(n,t){null!=t&&"number"==typeof t.maxResults&&EM("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=$we(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,ba)}function fEe(n){n._throwIfRoot("getDownloadURL");const t=function Wwe(n,t,e){const r=Xl(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new nl(r,"GET",function zwe(n,t){return function e(i,r){const o=G8(n,r,t);return il(null!==o),function Bwe(n,t,e,i){const r=IM(t);if(null===r||!vT(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const f=n.fullPath;return Xl("/b/"+s(n.bucket)+"/o/"+s(f),e,i)+U8({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return a.errorHandler=Iv(t),a}(n.storage,n._location,Tv());return n.storage.makeRequestWithTokens(t,ba).then(e=>{if(null===e)throw function dwe(){return new Oi(xi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function oG(n,t){const e=function Owe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new lo(n._location.bucket,e);return new nh(n.storage,i)}function sG(n,t){if(n instanceof RM){const e=n;if(null==e._bucket)throw function cwe(){return new Oi(xi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N8+"' property when initializing the app?")}();const i=new nh(e,e._bucket);return null!=t?sG(i,t):i}return void 0!==t?oG(n,t):n}function _Ee(n,t){if(t&&function mEe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof RM)return function gEe(n,t){return new nh(n,t)}(n,t);throw sm("To use ref(service, url), the first argument must be a Storage instance.")}return sG(n,t)}function aG(n,t){const e=t?.[N8];return null==e?null:lo.makeFromBucketSpec(e,n)}class RM{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=M8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lo.makeFromBucketSpec(r,this._host):aG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?lo.makeFromBucketSpec(this._url,t):aG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){EM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){EM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ue.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ue.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new nh(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new fwe(L8());{const s=function Twe(n,t,e,i,r,o,s=!0){const a=U8(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Ewe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function bwe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function wwe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,o),function Cwe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,i),new vwe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,ue.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const lG="@firebase/storage";function dG(n,t){return _Ee(n=(0,D.m9)(n),t)}function DEe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new RM(e,i,r,t,so.SDK_VERSION)}!function SEe(){(0,so._registerComponent)(new ma.wA("storage",DEe,"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(lG,"0.11.2",""),(0,so.registerVersion)(lG,"0.11.2","esm2017")}();class TT{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fG{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TT(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new TT(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new TT(s,this,this._ref)):{next:e.next?s=>e.next(new TT(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class pG{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Jl(t,this._service))}get items(){return this._delegate.items.map(t=>new Jl(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jl{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function xEe(n,t){return oG(n,t)}(this._delegate,t);return new Jl(e,this.storage)}get root(){return new Jl(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Jl(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new fG(function vEe(n,t,e){return function lEe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new tG(n,new tl(t),e)}(n=(0,D.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Es.RAW,i){this._throwIfRoot("putString");const r=TM(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new fG(new tG(this._delegate,new tl(r.data,!0),o),this)}listAll(){return function CEe(n){return function uEe(n){const t={prefixes:[],items:[]};return iG(n,t).then(()=>t)}(n=(0,D.m9)(n))}(this._delegate).then(t=>new pG(t,this.storage))}list(t){return function EEe(n,t){return rG(n=(0,D.m9)(n),t)}(this._delegate,t||void 0).then(e=>new pG(e,this.storage))}getMetadata(){return function bEe(n){return function dEe(n){n._throwIfRoot("getMetadata");const t=Z8(n.storage,n._location,Tv());return n.storage.makeRequestWithTokens(t,ba)}(n=(0,D.m9)(n))}(this._delegate)}updateMetadata(t){return function wEe(n,t){return function hEe(n,t){n._throwIfRoot("updateMetadata");const e=function Gwe(n,t,e,i){const o=Xl(t.fullServerUrl(),n.host,n._protocol),a=xM(e,i),c=n.maxOperationRetryTime,u=new nl(o,"PATCH",ET(n,i),c);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Iv(t),u}(n.storage,n._location,t,Tv());return n.storage.makeRequestWithTokens(e,ba)}(n=(0,D.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function TEe(n){return fEe(n=(0,D.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function IEe(n){return function pEe(n){n._throwIfRoot("deleteObject");const t=function qwe(n,t){const i=Xl(t.fullServerUrl(),n.host,n._protocol),a=new nl(i,"DELETE",function s(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Iv(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,ba)}(n=(0,D.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw V8(t)}}class mG{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(gG(t))throw sm("ref() expected a child path but got a URL, use refFromURL instead.");return new Jl(dG(this._delegate,t),this)}refFromURL(t){if(!gG(t))throw sm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lo.makeFromUrl(t,this._delegate.host)}catch{throw sm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jl(dG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function hG(n,t,e,i={}){!function yEe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,D.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function gG(n){return/^[A-Za-z]+:\/\//.test(n)}function MEe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new mG(e,i)}function _G(n){const t=function OEe(n){return new ct(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(XR(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(we(e=>e.bytesTransferred/e.totalBytes*100))}}function IT(n){return{getDownloadURL:()=>k(void 0).pipe(i4,Ve(()=>n.getDownloadURL()),Zi),getMetadata:()=>k(void 0).pipe(i4,Ve(()=>n.getMetadata()),Zi),delete:()=>C(n.delete()),child:t=>IT(n.child(t)),updateMetadata:t=>C(n.updateMetadata(t)),put:(t,e)=>_G(n.put(t,e)),putString:(t,e,i)=>_G(n.putString(t,e,i)),list:t=>C(n.list(t)),listAll:()=>C(n.listAll())}}!function NEe(n){const t={TaskState:Oo,TaskEvent:Xwe,StringFormat:Es,Storage:mG,Reference:Jl};n.INTERNAL.registerComponent(new ma.wA("storage-compat",MEe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(vs.Z);const PEe=new ae("angularfire2.storageBucket"),FEe=new ae("angularfire2.storage.maxUploadRetryTime"),LEe=new ae("angularfire2.storage.maxOperationRetryTime"),VEe=new ae("angularfire2.storage.use-emulator");let yG=(()=>{class n{storage;constructor(e,i,r,o,s,a,l,c,u,f){const m=jy(e,s,i);this.storage=IC(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{const _=s.runOutsideAngular(()=>m.storage(r||void 0)),y=u;return y&&_.useEmulator(...y),l&&_.setMaxUploadRetryTime(l),c&&_.setMaxOperationRetryTime(c),_},[l,c])}ref(e){return IT(this.storage.ref(e))}refFromURL(e){return IT(this.storage.refFromURL(e))}upload(e,i,r){return IT(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(P(jp),P(Hp,8),P(PEe,8),P(ds),P(je),P(vC),P(FEe,8),P(LEe,8),P(VEe,8),P(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),BEe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ye({})}return n})(),UEe=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Lp.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ye({providers:[yG],imports:[BEe]})}return n})(),ec=(()=>{class n{constructor(e,i,r,o){this.realTimeDatabase=e,this.fireStorage=i,this.http=r,this.authService=o,this.profilePicUrlSubject=new $,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.userProfileSubject=new $,this.refNotes=e.list("/notes"),this.refRecipeList=e.list("/recipes"),this.refChats=e.list("/chats"),this.refUsers=e.list("/users")}ngOnInit(){}getUserProfiles(){return this.refUsers.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addUserData(e){this.refUsers.push(e)}updateUserData(e,i){this.refUsers.update(i,e)}addProfilePicture(e){const i="profilePictures/"+e.name,r=this.fireStorage.ref(i),o=this.fireStorage.upload(i,e);return o.snapshotChanges().pipe(Dd(()=>r.getDownloadURL().subscribe(s=>{this.profilePicUrlSubject.next(s)}))).subscribe(),o.percentageChanges()}addMessage(e){this.refChats.push(e)}updateMessage(e,i){this.refChats.update(e,i)}deleteMessage(e){return this.refChats.remove(e.key)}deleteMessages(){this.refChats.remove()}getMessages(){return this.refChats.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getNotes(){return this.refNotes.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))),Wl(e=>xd(e)))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(e,i){this.refNotes.update(e,i)}getRecipe(e){return this.refRecipeList.snapshotChanges().pipe(we(i=>i.map(r=>({key:e,Recipe:r.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addRecipe(e){this.refRecipeList.push(e)}updateRecipe(e,i){this.refRecipeList.update(e,i)}deleteRecipe(e){this.refRecipeList.remove(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(k8),P(yG),P(By),P(Zl))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jEe=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"filter",type:n,pure:!0})}return n})();function HEe(n,t){if(1&n){const e=sn();R(0,"div",10)(1,"button",14),Te("click",function(){return Ge(e),He(ie(2).deleteAllNotes())}),oe(2,"Osszes jegyzet torlese"),M()()}}function zEe(n,t){1&n&&nt(0,"div",10)}function $Ee(n,t){1&n&&nt(0,"span",15)}const WEe=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function GEe(n,t){if(1&n){const e=sn();R(0,"div",8),le(1,HEe,3,0,"div",9),R(2,"div",10)(3,"label",11),oe(4,"Keres\xe9s"),M()(),le(5,zEe,1,0,"div",9),R(6,"div",10)(7,"input",12),Te("keyup",function(){return Ge(e),He(ie().inputClass=!1)})("keypress",function(){return Ge(e),He(ie().inputClass=!0)})("ngModelChange",function(r){return Ge(e),He(ie().searchWord=r)}),M(),le(8,$Ee,1,0,"span",13),M()()}if(2&n){const e=ie();U(1),H("ngIf",e.isSuperAdmin),U(4),H("ngIf",e.isSuperAdmin),U(2),H("ngClass",Ww(5,WEe,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),U(1),H("ngIf",e.searchWord)}}function qEe(n,t){1&n&&nt(0,"span",24)}function KEe(n,t){1&n&&nt(0,"span",25)}const ZEe=function(n,t){return{"btn-success":n,"btn-warning":t}};function YEe(n,t){if(1&n){const e=sn();R(0,"form",16)(1,"label",17),oe(2,"C\xedm"),M(),R(3,"input",18),Te("ngModelChange",function(r){return Ge(e),He(ie().title=r)}),M(),R(4,"label",19),oe(5,"Tennival\xf3"),M(),R(6,"textarea",20),Te("ngModelChange",function(r){return Ge(e),He(ie().body=r)}),M(),R(7,"button",21),Te("click",function(){return Ge(e),He(ie().createUpdateControl())}),le(8,qEe,1,0,"span",22),le(9,KEe,1,0,"span",23),oe(10),M()()}if(2&n){const e=ie();U(3),H("ngModel",e.title),U(3),H("ngModel",e.body),U(1),H("ngClass",bd(6,ZEe,e.key,!e.key)),U(1),H("ngIf",!e.key),U(1),H("ngIf",e.key),U(1),Vi(" ",e.buttonText,"")}}const QEe=function(n){return{warning:n}};function XEe(n,t){if(1&n&&(R(0,"div",26)(1,"b"),oe(2),M()()),2&n){const e=ie();H("ngClass",Fl(2,QEe,1==e.isLoading)),U(2),ri(e.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function JEe(n,t){if(1&n){const e=sn();R(0,"div",28)(1,"b"),oe(2," Hiba tortent az adatok lekeresekor: "),M(),oe(3),R(4,"button",29),Te("click",function(){return Ge(e),He(ie(2).onHandleError())}),oe(5,"Rendben"),M()()}if(2&n){const e=ie(2);U(3),Vi(" ",e.errorm," ")}}function eCe(n,t){1&n&&le(0,JEe,6,1,"div",27),2&n&&H("ngIf",ie().errorm)}function tCe(n,t){if(1&n){const e=sn();R(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),oe(4),M(),R(5,"p",36),oe(6),M()(),R(7,"div",37),oe(8),sp(9,"date"),M(),R(10,"div",38)(11,"div",39)(12,"span",40),Te("click",function(){const o=Ge(e).$implicit;return He(ie(2).putDataToInput(o))}),M()(),R(13,"div",41)(14,"span",42),Te("click",function(){const o=Ge(e).$implicit;return He(ie(2).deleteNote(o))}),M()()()()()}if(2&n){const e=t.$implicit;U(4),ri(e.title),U(2),ri(e.body),U(2),VD(" ",0===e.counter?"Letrehozva: ":"Modositva: "," ",W_(9,4,e.timeStamp,"medium")," ")}}function nCe(n,t){if(1&n&&(R(0,"div",30),le(1,tCe,15,7,"div",31),sp(2,"filter"),M()),2&n){const e=ie();U(1),H("ngForOf",W_(2,1,e.notes,e.searchWord))}}const iCe=function(n,t){return{fg:n,"text-warning":t}};let rCe=(()=>{class n{constructor(e,i){this.baseService=e,this.authService=i,this.isOpen=!1,this.isSuperAdmin=!1,this.subscription=new pt,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:e=>{this.isLoading=!1,this.notes=e,this.subscription=this.authService.isSuperAdmin.subscribe(i=>this.isSuperAdmin=i),console.log(this.subscription)},error:e=>{this.errorm=e.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(e),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(e=>{this.notes=[]})}updateNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,e),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}ngOnDestroy(){this.subscription.unsubscribe(),console.log(this.subscription)}static#e=this.\u0275fac=function(i){return new(i||n)(T(ec),T(Zl))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search d-flex justify-content-center text-center align-items-center row",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","d-flex","justify-content-center","text-center","align-items-center","row"],["class","col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){if(1&i&&(R(0,"div",0),le(1,GEe,9,9,"div",1),R(2,"button",2),Te("click",function(){return r.isOpen=!r.isOpen}),nt(3,"span",3),M(),le(4,YEe,11,9,"form",4),M(),le(5,XEe,3,4,"div",5),le(6,eCe,1,1,"ng-template",null,6,Zo),le(8,nCe,3,4,"div",7)),2&i){const o=nr(7);U(1),H("ngIf",!r.isOpen),U(2),H("ngClass",bd(6,iCe,r.isOpen,!r.isOpen)),U(1),H("ngIf",r.isOpen),U(1),H("ngIf",r.notes.length<1&&!r.errorm&&!r.clearError)("ngIfElse",o),U(3),H("ngIf",!r.isUpdating&&r.notes.length>=1)}},dependencies:[jl,Qo,mr,pp,$a,Hl,hp,$l,zl,Bj,jEe],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return n})();class oCe{constructor(t){this._box=t,this._destroyed=new $,this._resizeSubject=new $,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ct(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(zn(e=>e.some(i=>i.target===t)),LR({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let sCe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=xe(je)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new oCe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class vG{}class aCe{}const tc="*";function xT(n,t){return{type:7,name:n,definitions:t,options:{}}}function xv(n,t=null){return{type:4,styles:t,timings:n}}function bG(n,t=null){return{type:2,steps:n,options:t}}function nc(n){return{type:6,styles:n,offset:null}}function DT(n,t,e){return{type:0,name:n,styles:t,options:e}}function um(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function lCe(n=null){return{type:9,options:n}}function cCe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class Dv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wG{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const uCe=["notch"],dCe=["matFormFieldNotchedOutline",""],hCe=["*"],fCe=["textField"],pCe=["iconPrefixContainer"],mCe=["textPrefixContainer"];function gCe(n,t){1&n&&nt(0,"span",19)}function _Ce(n,t){if(1&n&&(R(0,"label",17),fn(1,1),le(2,gCe,1,0,"span",18),M()),2&n){const e=ie(2);H("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Pt("for",e._control.id),U(2),H("ngIf",!e.hideRequiredMarker&&e._control.required)}}function yCe(n,t){1&n&&le(0,_Ce,3,5,"label",16),2&n&&H("ngIf",ie()._hasFloatingLabel())}function vCe(n,t){1&n&&nt(0,"div",20)}function bCe(n,t){}function wCe(n,t){1&n&&le(0,bCe,0,0,"ng-template",22),2&n&&(ie(2),H("ngTemplateOutlet",nr(1)))}function ECe(n,t){if(1&n&&(R(0,"div",21),le(1,wCe,1,1,"ng-template",9),M()),2&n){const e=ie();H("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),U(1),H("ngIf",!e._forceDisplayInfixLabel())}}function CCe(n,t){1&n&&(R(0,"div",23,24),fn(2,2),M())}function TCe(n,t){1&n&&(R(0,"div",25,26),fn(2,3),M())}function ICe(n,t){}function xCe(n,t){1&n&&le(0,ICe,0,0,"ng-template",22),2&n&&(ie(),H("ngTemplateOutlet",nr(1)))}function DCe(n,t){1&n&&(R(0,"div",27),fn(1,4),M())}function SCe(n,t){1&n&&(R(0,"div",28),fn(1,5),M())}function ACe(n,t){1&n&&nt(0,"div",29)}function RCe(n,t){1&n&&(R(0,"div",30),fn(1,6),M()),2&n&&H("@transitionMessages",ie()._subscriptAnimationState)}function kCe(n,t){if(1&n&&(R(0,"mat-hint",34),oe(1),M()),2&n){const e=ie(2);H("id",e._hintLabelId),U(1),ri(e.hintLabel)}}function MCe(n,t){if(1&n&&(R(0,"div",31),le(1,kCe,2,2,"mat-hint",32),fn(2,7),nt(3,"div",33),fn(4,8),M()),2&n){const e=ie();H("@transitionMessages",e._subscriptAnimationState),U(1),H("ngIf",e.hintLabel)}}const NCe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OCe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let bu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-label"]]})}return n})();const PCe=new ae("MatError");let FCe=0,EG=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+FCe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&($r("id",r.id),Pt("align",null),dt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const LCe=new ae("MatPrefix"),CG=new ae("MatSuffix");let VCe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[bt([{provide:CG,useExisting:n}])]})}return n})();const TG=new ae("FloatingLabelParent");let IG=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=xe(sCe),this._ngZone=xe(je),this._parent=xe(TG),this._resizeSubscription=new pt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function BCe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st))};static#t=this.\u0275dir=X({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const xG="mdc-line-ripple--active",ST="mdc-line-ripple--deactivating";let DG=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(ST);"opacity"===r.propertyName&&s&&o.remove(xG,ST)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ST),e.add(xG)}deactivate(){this._elementRef.nativeElement.classList.add(ST)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275dir=X({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),SG=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&wn(uCe,5),2&i){let o;Be(o=Ue())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:dCe,ngContentSelectors:hCe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(ro(),nt(0,"div",0),R(1,"div",1,2),fn(3),M(),nt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const UCe={transitionMessages:xT("transitionMessages",[DT("enter",nc({opacity:1,transform:"translateY(0%)"})),um("void => enter",[nc({opacity:0,transform:"translateY(-5px)"}),xv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n})}return n})();const NM=new ae("MatFormField"),jCe=new ae("MAT_FORM_FIELD_DEFAULT_OPTIONS");let AG=0,dm=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+AG++,this._hintLabelId="mat-mdc-hint-"+AG++,this._subscriptAnimationState="",this._destroyed=new $,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),x(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(pr),T(je),T(qp),T(kr),T(jCe,8),T(oa,8),T(wt))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,bu,5),Ft(o,bu,7),Ft(o,MM,5),Ft(o,LCe,5),Ft(o,CG,5),Ft(o,PCe,5),Ft(o,EG,5)),2&i){let s;Be(s=Ue())&&(r._labelChildNonStatic=s.first),Be(s=Ue())&&(r._labelChildStatic=s.first),Be(s=Ue())&&(r._formFieldControl=s.first),Be(s=Ue())&&(r._prefixChildren=s),Be(s=Ue())&&(r._suffixChildren=s),Be(s=Ue())&&(r._errorChildren=s),Be(s=Ue())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(wn(fCe,5),wn(pCe,5),wn(mCe,5),wn(IG,5),wn(SG,5),wn(DG,5)),2&i){let o;Be(o=Ue())&&(r._textField=o.first),Be(o=Ue())&&(r._iconPrefixContainer=o.first),Be(o=Ue())&&(r._textPrefixContainer=o.first),Be(o=Ue())&&(r._floatingLabel=o.first),Be(o=Ue())&&(r._notchedOutline=o.first),Be(o=Ue())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&dt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[bt([{provide:NM,useExisting:n},{provide:TG,useExisting:n}])],ngContentSelectors:OCe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(ro(NCe),le(0,yCe,1,1,"ng-template",null,0,Zo),R(2,"div",1,2),Te("click",function(s){return r._control.onContainerClick(s)}),le(4,vCe,1,0,"div",3),R(5,"div",4),le(6,ECe,2,2,"div",5),le(7,CCe,3,0,"div",6),le(8,TCe,3,0,"div",7),R(9,"div",8),le(10,xCe,1,1,"ng-template",9),fn(11),M(),le(12,DCe,2,0,"div",10),le(13,SCe,2,0,"div",11),M(),le(14,ACe,1,0,"div",12),M(),R(15,"div",13),le(16,RCe,2,1,"div",14),le(17,MCe,5,2,"div",15),M()),2&i&&(U(2),dt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),U(2),H("ngIf",!r._hasOutline()&&!r._control.disabled),U(2),H("ngIf",r._hasOutline()),U(1),H("ngIf",r._hasIconPrefix),U(1),H("ngIf",r._hasTextPrefix),U(2),H("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),U(2),H("ngIf",r._hasTextSuffix),U(1),H("ngIf",r._hasIconSuffix),U(1),H("ngIf",!r._hasOutline()),U(1),dt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),H("ngSwitch",r._getDisplayedMessages()),U(1),H("ngSwitchCase","error"),U(1),H("ngSwitchCase","hint"))},dependencies:[mr,Wc,J_,VS,EG,IG,SG,DG],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[UCe.transitionMessages]},changeDetection:0})}return n})(),AT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,dp,R4,Ui]})}return n})();const MG=$p({passive:!0});let $Ce=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return vn;const i=au(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new $,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,MG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,MG)}}),o}stopMonitoring(e){const i=au(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(kr),P(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const GCe=new ae("MAT_INPUT_VALUE_ACCESSOR"),qCe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let KCe=0;const ZCe=K4(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new $}});let hm=(()=>{class n extends ZCe{get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ny.required)??!1}set required(e){this._required=Fn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&I4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fn(e)}constructor(e,i,r,o,s,a,l,c,u,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+KCe++,this.focused=!1,this.stateChanges=new $,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(y=>I4().has(y)),this._iOSKeyupListener=y=>{const b=y.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,_=m.nodeName.toLowerCase();this._inputValueAccessor=l||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){qCe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(kr),T(Wa,10),T(zl,8),T(mp,8),T(Z4),T(GCe,10),T($Ce),T(je),T(NM,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Te("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&($r("id",r.id)("disabled",r.disabled)("required",r.required),Pt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),dt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[bt([{provide:MM,useExisting:n}]),Qe,Yn]})}return n})(),YCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,AT,AT,WCe,Ui]})}return n})();const Sv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Sv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new pt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Sv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Sv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class XCe extends QE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class QCe extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Sv.cancelAnimationFrame(e),t._scheduled=void 0)}});let OM,eTe=1;const RT={};function NG(n){return n in RT&&(delete RT[n],!0)}const tTe={setImmediate(n){const t=eTe++;return RT[t]=!0,OM||(OM=Promise.resolve()),OM.then(()=>NG(t)&&n()),t},clearImmediate(n){NG(n)}},{setImmediate:nTe,clearImmediate:iTe}=tTe,kT={setImmediate(...n){const{delegate:t}=kT;return(t?.setImmediate||nTe)(...n)},clearImmediate(n){const{delegate:t}=kT;return(t?.clearImmediate||iTe)(n)},delegate:void 0};new class oTe extends QE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class rTe extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(kT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function OG(n,t=Rd){return function aTe(n){return de((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Se(e,c=>{i=!0,r=c,o||be(n(c)).subscribe(o=Se(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>WA(n,t))}let PG=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ct(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(OG(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):k()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=au(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(P(je),P(kr),P(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(OG(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(P(kr),P(je),P(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),PM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[$y,NT,$y,NT]})}return n})();class FM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class FG extends FM{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class LG extends FM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class dTe extends FM{constructor(t){super(),this.element=t instanceof st?t.nativeElement:t}}class hTe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof FG?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof LG?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof dTe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fTe extends hTe{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let pTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})();const VG=cge();class mTe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=or(-this._previousScrollPosition.left),t.style.top=or(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),VG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class gTe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(zn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BG{enable(){}disable(){}attach(){}}function LM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function UG(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class _Te{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();LM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yTe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new BG,this.close=s=>new gTe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new mTe(this._viewportRuler,this._document),this.reposition=s=>new _Te(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(P(PG),P(MT),P(je),P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jG{constructor(t){if(this.scrollStrategy=new BG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class vTe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let HG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bTe=(()=>{class n extends HG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(je,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wTe=(()=>{class n extends HG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=su(o)},this._clickListener=o=>{const s=su(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(kr),P(je,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zG=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||qR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),qR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(kr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ETe{constructor(t,e,i,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=pt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=or(this._config.width),t.height=or(this._config.height),t.minWidth=or(this._config.minWidth),t.minHeight=or(this._config.minHeight),t.maxWidth=or(this._config.maxWidth),t.maxHeight=or(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=SC(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Et(x(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $G="cdk-overlay-connected-position-bounding-box",CTe=/([A-Za-z%]+)$/;class TTe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add($G),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ih(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($G),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=GG(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let m=0-a,_=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,m,_),E=y*b;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=WG(this._overlayRef.getConfig().minHeight),a=WG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=GG(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vTe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,f,m;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),y=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),y=this._lastBoundingBoxSize.width;u=2*_,f=t.x-_,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-y/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=or(i.height),r.top=or(i.top),r.bottom=or(i.bottom),r.width=or(i.width),r.left=or(i.left),r.right=or(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=or(o)),s&&(r.maxWidth=or(s))}this._lastBoundingBoxSize=i,ih(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ih(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ih(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ih(i,this._getExactOverlayY(e,t,u)),ih(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=or(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=or(s.maxWidth):o&&(i.maxWidth="")),ih(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=or(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=or(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UG(t,i),isOriginOutsideView:LM(t,i),isOverlayClipped:UG(e,i),isOverlayOutsideView:LM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&SC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof st)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ih(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(CTe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function GG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qG="cdk-global-overlay-wrapper";class ITe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let _="",y="",b="";l?b="flex-start":"center"===u?(b="center",m?y=f:_=f):m?"left"===u||"end"===u?(b="flex-end",_=f):("right"===u||"start"===u)&&(b="flex-start",y=f):"left"===u||"start"===u?(b="flex-start",_=f):("right"===u||"end"===u)&&(b="flex-end",y=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":y,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xTe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new ITe}flexibleConnectedTo(e){return new TTe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(MT),P(wt),P(kr),P(zG))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DTe=0,fm=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,f,m,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new jG(e);return s.direction=s.direction||this._directionality.value,new ETe(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+DTe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(la)),new fTe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(P(yTe),P(zG),P(I_),P(xTe),P(bTe),P(qi),P(je),P(wt),P(qp),P(nE),P(wTe),P(oa,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const STe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],KG=new ae("cdk-connected-overlay-scroll-strategy");let VM=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(T(st))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),ZG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Fn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Fn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Fn(e)}get push(){return this._push}set push(e){this._push=Fn(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=pt.EMPTY,this._attachSubscription=pt.EMPTY,this._detachSubscription=pt.EMPTY,this._positionSubscription=pt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Fe,this.positionChange=new Fe,this.attach=new Fe,this.detach=new Fe,this.overlayKeydown=new Fe,this.overlayOutsideClick=new Fe,this._templatePortal=new LG(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=STe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Wp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new jG({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof VM?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function uTe(n,t=!1){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(fm),T(pn),T(ir),T(KG),T(qp,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Yn]})}return n})();const RTe={provide:KG,deps:[fm],useFactory:function ATe(n){return()=>n.scrollStrategies.reposition()}};let YG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[fm,RTe],imports:[$y,pTe,PM,PM]})}return n})();const kTe=["tooltip"],QG=new ae("mat-tooltip-scroll-strategy"),OTe={provide:QG,deps:[fm],useFactory:function NTe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},FTe=new ae("mat-tooltip-default-options",{providedIn:"root",factory:function PTe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),XG="tooltip-panel",JG=$p({passive:!0});let HTe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Fn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=DC(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=DC(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,c,u,f,m,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new $,this._scrollStrategy=u,this._document=_,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),f.change.pipe(Et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,JG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new FG(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof st)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Et(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${XG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Et(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Wp(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qn(1),Et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${XG}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,JG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Gf()};static#t=this.\u0275dir=X({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),e6=(()=>{class n extends HTe{constructor(e,i,r,o,s,a,l,c,u,f,m,_){super(e,i,r,o,s,a,l,c,u,f,m,_),this._tooltipComponent=$Te,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(T(fm),T(st),T(PG),T(ir),T(je),T(kr),T(kge),T(j4),T(QG),T(qp,8),T(FTe,8),T(wt))};static#t=this.\u0275dir=X({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Qe]})}return n})(),zTe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new $,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(T(pr),T(oa,8))};static#t=this.\u0275dir=X({type:n})}return n})(),$Te=(()=>{class n extends zTe{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(T(pr),T(st),T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&wn(kTe,7),2&i){let o;Be(o=Ue())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Te("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&_d("zoom",r.isVisible()?1:null)},features:[Qe],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(R(0,"div",0,1),Te("animationend",function(s){return r._handleAnimationEnd(s)}),R(2,"div",2),oe(3),M()()),2&i&&(dt("mdc-tooltip--multiline",r._isMultiline),H("ngClass",r.tooltipClass),U(3),ri(r.message))},dependencies:[jl],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),WTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[OTe],imports:[Kge,dp,YG,Ui,Ui,NT]})}return n})();const GTe=["f"];function qTe(n,t){1&n&&(R(0,"span"),oe(1,"Kerlek adj meg egy ervenyes e-mail cimet"),M())}function KTe(n,t){if(1&n){const e=sn();R(0,"div")(1,"label")(2,"input",16),Te("ngModelChange",function(r){return Ge(e),He(ie().genderr=r)}),M(),oe(3),M()()}if(2&n){const e=t.$implicit,i=ie();U(2),H("ngModel",i.genderr)("value",e),U(1),Vi(" ",e," ")}}let ZTe=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.router.navigate(["login"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zl),T(gr),T(ec))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-signup"]],viewQuery:function(i,r){if(1&i&&wn(GTe,5),2&i){let o;Be(o=Ue())&&(r.signupForm=o.first)}},decls:24,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[1,"text-center","mt-0","container-2"],[4,"ngIf"],["mat-raised-button","","type","button",1,"mb-3",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],[1,"container-0","container-1"],["routerLink","/login","matTooltipPosition","left","matTooltip","Gyorsabb bel\xe9p\xe9s regisztr\xe1ci\xf3 n\xe9lk\xfcl"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"]],template:function(i,r){if(1&i&&(R(0,"div",0)(1,"h2",1),oe(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),M()(),R(3,"form",2,3),Te("ngSubmit",function(){return r.createUserWithEmAndPa()}),R(5,"mat-form-field")(6,"mat-label",4),oe(7,"Email"),M(),R(8,"input",5,6),Te("ngModelChange",function(s){return r.email=s}),M()(),R(10,"div",7),le(11,qTe,2,0,"span",8),R(12,"button",9),Te("click",function(){return r.emailSuggestion()}),oe(13,"Mutass egy peldat a megfelelo formatumu email cimre!"),M()(),R(14,"mat-form-field")(15,"mat-label",10),oe(16,"Jelsz\xf3"),M(),R(17,"input",11),Te("ngModelChange",function(s){return r.password=s}),M()(),le(18,KTe,4,3,"div",12),R(19,"button",13),oe(20,"Regisztr\xe1ci\xf3"),M()(),R(21,"div",14)(22,"h2",15),oe(23,"Vagy l\xe9pj be Google fi\xf3kkal, vagy telefonsz\xe1mmal"),M()()),2&i){const o=nr(4),s=nr(9);U(8),H("ngModel",r.email),U(3),H("ngIf",!s.valid&&s.touched),U(6),H("ngModel",r.password),U(1),H("ngForOf",r.genders),U(1),H("disabled",!o.valid)}},dependencies:[Qo,mr,eu,pp,$a,DE,Hl,hp,ly,SE,$l,zl,dm,bu,lu,hm,e6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.container-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px!important;height:-moz-fit-content;height:fit-content;background-color:#0a7e0ab3;border-radius:10px}.container-2[_ngcontent-%COMP%], .container-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function YTe(n,t){1&n&&(R(0,"div",3)(1,"h2",4),oe(2," Bejelentkez\xe9s Email c\xedmmel "),M()())}function QTe(n,t){if(1&n){const e=sn();R(0,"form",5),Te("ngSubmit",function(){return Ge(e),He(ie().loginWithEmAndPa())}),R(1,"mat-form-field")(2,"mat-label",6),oe(3,"Email"),M(),R(4,"input",7),Te("ngModelChange",function(r){return Ge(e),He(ie().email=r)}),M()(),R(5,"mat-form-field")(6,"mat-label",8),oe(7,"Jelsz\xf3"),M(),R(8,"input",9),Te("ngModelChange",function(r){return Ge(e),He(ie().password=r)}),M()(),R(9,"button",10),oe(10,"Bejelentkez\xe9s"),M(),R(11,"h4",11),oe(12," Vagy bejelentkez\xe9s egyszer\u0171en "),R(13,"a",12),Te("click",function(){Ge(e);const r=ie();return r.facebookOrGoogle=!0,He(r.booleanFunction())}),nt(14,"i",13),M(),R(15,"a",14),Te("click",function(){Ge(e);const r=ie();return r.facebookOrGoogle=!1,He(r.booleanFunction())}),nt(16,"i",15),M(),R(17,"button",16),Te("click",function(){Ge(e);const r=ie();return r.booleanFunction(),He(r.isPhone=!r.isPhone)}),nt(18,"span",17),M()()()}if(2&n){const e=ie();U(4),H("ngModel",e.email),U(4),H("ngModel",e.password)}}function XTe(n,t){if(1&n){const e=sn();R(0,"div",19)(1,"button",20),Te("click",function(){return Ge(e),He(ie(2).loginWithGoogle())}),nt(2,"i",21),oe(3," Bejelentkez\xe9s "),M()()}if(2&n){const e=ie(2);U(1),H("disabled",!e.facebookOrGoogle)}}function JTe(n,t){if(1&n){const e=sn();R(0,"div",19)(1,"button",22),Te("click",function(){return Ge(e),He(ie(2).loginWithFacebook())}),nt(2,"i",23),oe(3," Bejelentkez\xe9s "),M()()}if(2&n){const e=ie(2);U(1),H("disabled",e.facebookOrGoogle)}}function eIe(n,t){if(1&n&&(Wo(0),le(1,XTe,4,1,"div",18),le(2,JTe,4,1,"div",18),Go()),2&n){const e=ie();U(1),H("ngIf",e.emailOrGoogle),U(1),H("ngIf",e.emailOrGoogle)}}function tIe(n,t){if(1&n){const e=sn();Wo(0),nt(1,"div",24),R(2,"div",25)(3,"div",26)(4,"input",27),Te("ngModelChange",function(r){return Ge(e),He(ie().phoneNumber=r)}),M(),R(5,"label",28),oe(6,"+36"),M()(),R(7,"div",29),nt(8,"span",30),M(),R(9,"div",31)(10,"button",32),Te("click",function(){return Ge(e),He(ie().startLoginWithPhoneNumber())}),nt(11,"i",33),oe(12," Bejelentkez\xe9s "),M()()(),Go()}if(2&n){const e=ie();U(2),H("ngClass",e.isPhone?"d-flex":"d-none"),U(2),H("ngModel",e.phoneNumber)}}function nIe(n,t){if(1&n){const e=sn();Wo(0),R(1,"div",34)(2,"input",35),Te("ngModelChange",function(r){return Ge(e),He(ie().verificationCode=r)}),M(),R(3,"label",36),oe(4,"Meger\u0151s\xedt\u0151 k\xf3d"),M()(),R(5,"div",37)(6,"button",38),Te("click",function(){return Ge(e),He(ie().verifyPhoneNumberAndLogin())}),oe(7," K\xf3d meger\u0151s\xedt\xe9se "),M()(),Go()}if(2&n){const e=ie();U(2),H("ngModel",e.verificationCode)}}let iIe=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1,this.userProfiles=[]}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(o=>o.uid===e.uid);if(console.log(r),this.base.userProfileSubject.next(r),0===r.length){r.push(e);for(let o=0;o<1;o++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("ciklus lefutott")}else console.log("van m\xe1r ilyen user");0!=r.length&&console.log("siker",r.length),this.router.navigate(["profile/"+e.uid])})})}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>{this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(o=>o.uid===e.uid);if(console.log(r),0===r.length){r.push(e);for(let o=0;o<1;o++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("felhaszn\xe1l\xf3 hozz\xe1adva")}else console.log("van m\xe1r ilyen user");this.router.navigate(void 0===r[0].birthDate||""===r[0].birthDate?["profile/"+e.uid]:[""])})})})}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate([""]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber("+36"+this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=Ly.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>this.router.navigate([""]))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zl),T(gr),T(ec))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],[1,"bi","bi-facebook","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["color","primary","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-facebook"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(le(0,YTe,3,0,"div",0),le(1,QTe,19,2,"form",1),le(2,eIe,3,2,"ng-container",2),le(3,tIe,13,2,"ng-container",2),le(4,nIe,8,1,"ng-container",2)),2&i&&(H("ngIf",!r.emailOrGoogle),U(1),H("ngIf",!r.emailOrGoogle),U(1),H("ngIf",r.emailOrGoogle&&!r.isPhone),U(1),H("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),U(1),H("ngIf",r.verificationId))},dependencies:[jl,mr,pp,$a,Hl,hp,$l,zl,dm,bu,lu,hm,e6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:30%;width:40%}"]})}return n})();const rIe=["saveChanges"];function oIe(n,t){if(1&n&&(R(0,"div",3)(1,"b"),oe(2),M()()),2&n){const e=t.$implicit;U(2),ri(e)}}function sIe(n,t){if(1&n){const e=sn();R(0,"div",9)(1,"div",3),oe(2),M(),R(3,"div",3),nt(4,"img",10),M(),R(5,"div",3),oe(6),M(),R(7,"div",3)(8,"div",11)(9,"input",12),Te("change",function(){const o=Ge(e).$implicit;return He(ie(2).changeClaims(o))})("ngModelChange",function(r){return He(Ge(e).$implicit.claims.superAdmin=r)}),M(),R(10,"label",13),oe(11,"Super Admin"),M()(),R(12,"div",11)(13,"input",12),Te("change",function(){const o=Ge(e).$implicit;return He(ie(2).changeClaims(o))})("ngModelChange",function(r){return He(Ge(e).$implicit.claims.admin=r)}),M(),R(14,"label",13),oe(15,"Admin"),M()(),R(16,"div",11)(17,"input",12),Te("change",function(){const o=Ge(e).$implicit;return He(ie(2).changeClaims(o))})("ngModelChange",function(r){return He(Ge(e).$implicit.claims.basic=r)}),M(),R(18,"label",13),oe(19,"Alap jogosults\xe1g"),M()()()()}if(2&n){const e=t.$implicit;U(2),ri(e.displayName),U(2),Fw("src",e.profilePicture,v_),U(2),ri(e.email),U(3),H("ngModel",e.claims.superAdmin),U(4),H("ngModel",e.claims.admin),U(4),H("ngModel",e.claims.basic)}}function aIe(n,t){if(1&n){const e=sn();Wo(0),le(1,sIe,20,6,"div",4),R(2,"div",5)(3,"div",6)(4,"button",7,8),Te("click",function(){return Ge(e),He(ie().save())}),oe(6,"Modositasok mentese"),M()()(),Go()}if(2&n){const e=ie();U(1),H("ngForOf",e.users)}}let lIe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(e=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zl),T(gr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&wn(rIe,5),2&i){let o;Be(o=Ue())&&(r.saveChanges=o.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(R(0,"div",0),le(1,oIe,3,1,"div",1),M(),le(2,aIe,7,1,"ng-container",2)),2&i&&(U(1),H("ngForOf",r.columns),U(1),H("ngIf",r.users))},dependencies:[Qo,mr,eA,Hl,$l]})}return n})();const cIe=["*"],uIe=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],dIe=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],hIe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fIe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],pIe=new ae("MAT_CARD_CONFIG");let OT=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(T(pIe,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&dt("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:cIe,decls:1,vars:0,template:function(i,r){1&i&&(ro(),fn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),PT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),t6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:dIe,decls:4,vars:0,template:function(i,r){1&i&&(ro(uIe),R(0,"div"),fn(1),M(),fn(2,1),fn(3,2))},encapsulation:2,changeDetection:0})}return n})(),FT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),BM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),n6=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),LT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:fIe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(ro(hIe),fn(0),R(1,"div",0),fn(2,1),M(),fn(3,2))},encapsulation:2,changeDetection:0})}return n})(),UM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),i6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})(),gIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,dp,Ui]})}return n})();function _Ie(n,t){if(1&n&&(Wo(0),R(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),oe(5),M()(),R(6,"mat-card-content")(7,"p"),oe(8),M()()()(),Go()),2&n){const e=ie();U(5),ri(e.weather.location),U(3),ri(e.weather.forecast)}}let yIe=(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(T(ec))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(R(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),oe(3,"Hely neve"),M(),R(4,"input",2),Te("ngModelChange",function(s){return r.location=s}),M()(),R(5,"button",3),Te("click",function(){return r.getWeather(r.location)}),oe(6,"Keres\xe9s"),M()(),le(7,_Ie,9,2,"ng-container",4)),2&i&&(U(4),H("ngModel",r.location),U(3),H("ngIf",r.weather.location))},dependencies:[mr,$a,Hl,$l,dm,bu,OT,FT,LT,PT,lu,hm]})}return n})(),vIe=(()=>{class n{transform(e,i){return e.sort((r,o)=>r[i]>o[i]?1:-1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"sort",type:n,pure:!0})}return n})(),bIe=(()=>{class n{transform(e,i){return e.length>i?e.substr(0,i)+"...":e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"shorten",type:n,pure:!0})}return n})();const wIe=function(n){return{active:n}};function EIe(n,t){if(1&n){const e=sn();R(0,"div",6)(1,"ul",7)(2,"li",8),Te("click",function(){const o=Ge(e).$implicit;return He(ie().recipeDetail(o.key))}),oe(3),sp(4,"shorten"),M()()()}if(2&n){const e=t.$implicit,i=ie();U(2),H("ngClass",Fl(5,wIe,e.key===i.key)),U(1),Vi(" ",W_(4,2,e.name,15)," ")}}let CIe=(()=>{class n{constructor(e,i,r){this.baseService=e,this.router=i,this.route=r,this.recipeEdit=!1,this.key="",this.recipes=[]}ngOnInit(){this.baseService.getRecipes().subscribe(e=>{this.recipes=e})}recipeDetail(e){this.key=e,this.router.navigate(["detail"],{relativeTo:this.route,queryParams:{key:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(T(ec),T(gr),T(Ka))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipes"]],decls:10,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"text-center","col-12","col-md-4","col-lg-4","col-xl-4"],["routerLink","create","type","button",1,"btn","btn-secondary","mt-3"],[1,"mt-3","mb-0","border-top","border-success","border-5"],["class","mt-0 text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-8","col-lg-8","col-xl-8"],[1,"mt-0","text-center"],[1,"list-group","text-center","mt-0"],[1,"list-group-item","list-group-item-light","mb-1",2,"cursor","pointer",3,"ngClass","click"]],template:function(i,r){1&i&&(R(0,"div",0)(1,"div",1)(2,"button",2),oe(3," Uj recept hozzaadasa "),M(),R(4,"h2",3),oe(5,"Receptek"),M(),le(6,EIe,5,7,"div",4),sp(7,"sort"),M(),R(8,"div",5),nt(9,"router-outlet"),M()()),2&i&&(U(6),H("ngForOf",W_(7,1,r.recipes,"name")))},dependencies:[jl,Qo,jE,eu,vIe,bIe],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.active[_ngcontent-%COMP%]{background-color:#7e037eb3;border:2px solid purple}.border-success[_ngcontent-%COMP%]{border-color:#0d6a0d80!important}"]})}return n})();class TIe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new $,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const IIe=["trigger"],xIe=["panel"];function DIe(n,t){if(1&n&&(R(0,"span",10),oe(1),M()),2&n){const e=ie();U(1),ri(e.placeholder)}}function SIe(n,t){if(1&n&&(R(0,"span",14),oe(1),M()),2&n){const e=ie(2);U(1),ri(e.triggerValue)}}function AIe(n,t){1&n&&fn(0,0,["*ngSwitchCase","true"])}function RIe(n,t){1&n&&(R(0,"span",11),le(1,SIe,2,1,"span",12),le(2,AIe,1,0,"ng-content",13),M()),2&n&&(H("ngSwitch",!!ie().customTrigger),U(2),H("ngSwitchCase",!0))}function kIe(n,t){if(1&n){const e=sn();_f(),function i_(){!function p1(){vt.lFrame.currentNamespace=null}()}(),R(0,"div",15,16),Te("@transformPanel.done",function(r){return Ge(e),He(ie()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ge(e),He(ie()._handleKeydown(r))}),fn(2,1),M()}if(2&n){const e=ie();(function sB(n,t,e){aa(cs,za,Zf(ge(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),H("ngClass",e.panelClass)("@transformPanel","showing"),Pt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const MIe=[[["mat-select-trigger"]],"*"],NIe=["mat-select-trigger","*"],OIe={transformPanelWrap:xT("transformPanelWrap",[um("* => void",cCe("@transformPanel",[lCe()],{optional:!0}))]),transformPanel:xT("transformPanel",[DT("void",nc({opacity:0,transform:"scale(1, 0.8)"})),um("void => showing",xv("120ms cubic-bezier(0, 0, 0.2, 1)",nc({opacity:1,transform:"scale(1, 1)"}))),um("* => void",xv("100ms linear",nc({opacity:0})))])};let s6=0;const a6=new ae("mat-select-scroll-strategy"),FIe=new ae("MAT_SELECT_CONFIG"),LIe={provide:a6,deps:[fm],useFactory:function PIe(n){return()=>n.scrollStrategies.reposition()}},VIe=new ae("MatSelectTrigger");class BIe{constructor(t,e){this.source=t,this.value=e}}const UIe=ok(q4(ik(K4(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new $}}))));let jIe=(()=>{class n extends UIe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ny.required)??!1}set required(e){this._required=Fn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Fn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Fn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=DC(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,l,c,u,f,m,_,y,b){super(s,o,l,c,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=y,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(E,N)=>E===N,this._uid="mat-select-"+s6++,this._triggerAriaLabelledBy=null,this._destroy=new $,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s6++,this._panelDoneAnimatingStream=new $,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=bA(()=>{const E=this.options;return E?E.changes.pipe(Yc(E),Ve(()=>x(...E.map(N=>N.onSelectionChange)))):this._ngZone.onStable.pipe(Qn(1),Ve(()=>this.optionSelectionChanges))}),this.openedChange=new Fe,this._openedStream=this.openedChange.pipe(zn(E=>E),we(()=>{})),this._closedStream=this.openedChange.pipe(zn(E=>!E),we(()=>{})),this.selectionChange=new Fe,this.valueChange=new Fe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new TIe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ht(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yc(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&JR(this._trackedModal,"aria-owns",i),O4(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(JR(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Wp(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Wp(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Nge(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=x(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),x(...this.options.map(i=>i._stateChanges)).pipe(Et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(T(MT),T(pr),T(je),T(Z4),T(st),T(qp,8),T(zl,8),T(mp,8),T(NM,8),T(Wa,10),Ls("tabindex"),T(a6),T(Gge),T(FIe,8))};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&(wn(IIe,5),wn(xIe,5),wn(ZG,5)),2&i){let o;Be(o=Ue())&&(r.trigger=o.first),Be(o=Ue())&&(r.panel=o.first),Be(o=Ue())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Qe,Yn]})}return n})(),HIe=(()=>{class n extends jIe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function __e(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function y_e(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new BIe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof VM?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Fn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,VIe,5),Ft(o,r5,5),Ft(o,i5,5)),2&i){let s;Be(s=Ue())&&(r.customTrigger=s.first),Be(s=Ue())&&(r.options=s),Be(s=Ue())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Te("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Pt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),dt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[bt([{provide:MM,useExisting:n},{provide:n5,useExisting:n}]),Qe],ngContentSelectors:NIe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(ro(MIe),R(0,"div",0,1),Te("click",function(){return r.toggle()}),R(3,"div",2),le(4,DIe,2,1,"span",3),le(5,RIe,3,2,"span",4),M(),R(6,"div",5)(7,"div",6),_f(),R(8,"svg",7),nt(9,"path",8),M()()()(),le(10,kIe,3,9,"ng-template",9),Te("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=nr(1);U(3),H("ngSwitch",r.empty),Pt("id",r._valueId),U(1),H("ngSwitchCase",!0),U(1),H("ngSwitchCase",!1),U(5),H("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[jl,J_,VS,Lj,ZG,VM],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[OIe.transformPanel]},changeDetection:0})}return n})(),zIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:[LIe],imports:[dp,YG,o5,Ui,NT,AT,o5,Ui]})}return n})();const $Ie=["f"];function WIe(n,t){1&n&&(R(0,"span"),oe(1,"Kerem adjon meg egy recept nevet!"),M())}function GIe(n,t){1&n&&(R(0,"mat-form-field",16),nt(1,"mat-label"),R(2,"span",17),oe(3,"Kerem adjon meg valos adatokat!"),M(),nt(4,"input",18),M())}let l6=(()=>{class n{constructor(e,i,r){this.baseService=e,this.route=i,this.router=r,this.key="",this.defaultDifficulty="Kozepes",this.submitButtonValue="Recept hozzaadasa",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.recipeForm=new EE({name:new Zc(null,ny.required),ingredients:new Zc(null,[ny.required,ny.minLength(5)]),howToMake:new Zc(null),timeToMake:new Zc(null),portion:new Zc(null),difficulty:new Zc("kozepes")}),this.route.queryParams.subscribe(e=>{e.key&&(this.submitButtonValue="Recept modositasa"),console.log(e),this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&this.recipeForm.patchValue(r)})})}onSubmit(){this.recipe=this.recipeForm.value,"Recept hozzaadasa"===this.submitButtonValue?this.baseService.addRecipe(this.recipe):this.baseService.updateRecipe(this.key,this.recipe),this.router.navigate(["recipes"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(ec),T(Ka),T(gr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-edit"]],viewQuery:function(i,r){if(1&i&&wn($Ie,5),2&i){let o;Be(o=Ue())&&(r.formData=o.first)}},decls:44,vars:5,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],["f","ngForm"],["matSuffix",""],["formControlName","name","matInput","","type","text"],[4,"ngIf"],["formControlName","ingredients","matInput","","rows","5"],["formControlName","howToMake","matInput","","rows","5"],["formControlName","timeToMake","matInput","","type","number"],["formControlName","portion","matInput","","type","number"],[1,"select-container"],["formControlName","difficulty","id","difficulty"],["ngClass","green","value","konnyu"],["ngClass","yellow","value","kozepes"],["ngClass","red","value","nehez"],["class","text-center border border-danger",4,"ngIf"],["mat-button","","type","submit",3,"disabled"],[1,"text-center","border","border-danger"],[1,"text-danger"],["matInput","","disabled",""]],template:function(i,r){if(1&i&&(R(0,"form",0,1),Te("ngSubmit",function(){return r.onSubmit()}),R(2,"mat-form-field")(3,"mat-label"),oe(4,"Recept neve"),M(),R(5,"mat-icon",2),oe(6,"menu_book"),M(),nt(7,"input",3),le(8,WIe,2,0,"span",4),M(),R(9,"mat-form-field")(10,"mat-label"),oe(11,"Hozz\xe1val\xf3k"),M(),nt(12,"textarea",5),M(),R(13,"mat-form-field")(14,"mat-label"),oe(15,"Elk\xe9szit\xe9s"),M(),nt(16,"textarea",6),M(),R(17,"mat-form-field")(18,"mat-label"),oe(19,"Elk\xe9szit\xe9si id\u0151"),M(),R(20,"mat-icon",2),oe(21,"schedule"),M(),nt(22,"input",7),M(),R(23,"mat-form-field")(24,"mat-label"),oe(25,"Adag"),M(),R(26,"mat-icon",2),oe(27,"restaurant"),M(),nt(28,"input",8),M(),R(29,"mat-form-field",9)(30,"mat-icon",2),oe(31,"sentiment_very_satisfied"),M(),R(32,"mat-label"),oe(33,"Nehezseg"),M(),R(34,"mat-select",10)(35,"mat-option",11),oe(36,"Konnyu"),M(),R(37,"mat-option",12),oe(38,"Kozepes"),M(),R(39,"mat-option",13),oe(40,"Nehez"),M()()(),le(41,GIe,5,0,"mat-form-field",14),R(42,"button",15),oe(43),M()()),2&i){const o=nr(1);let s;H("formGroup",r.recipeForm),U(8),H("ngIf",!(null!=(s=r.recipeForm.get("name"))&&s.valid)&&(null==(s=r.recipeForm.get("name"))?null:s.touched)),U(33),H("ngIf",!r.recipeForm.valid&&r.recipeForm.touched),U(1),H("disabled",!o.valid),U(1),ri(r.submitButtonValue)}},dependencies:[jl,mr,pp,$a,hA,Hl,hp,mp,gA,dm,bu,VCe,lu,p5,hm,HIe,r5],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px;border-style:solid;border-color:#fe1717df;border-top:0;border-right:0;border-left:0}form[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{margin-top:10px;background-color:#791679b3;color:#fff!important}button[_ngcontent-%COMP%]:hover{background-color:#791679}.example-panel-red.mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}.select-container[_ngcontent-%COMP%]{border-top:2px solid rgba(119,255,0,.5)!important;border-radius:5px}.red[_ngcontent-%COMP%]{background-color:#f60b0b80}.green[_ngcontent-%COMP%]{background:rgba(3,141,3,.5)}.yellow[_ngcontent-%COMP%]{background:rgba(246,246,6,.5)}.red[_ngcontent-%COMP%]:hover{background:rgba(167,16,16,.8)!important}.green[_ngcontent-%COMP%]:hover{background:rgba(3,81,3,.8)!important}.yellow[_ngcontent-%COMP%]:hover{background:rgba(157,157,15,.8)!important}"]})}return n})();const qIe=function(n){return{key:n}};let KIe=(()=>{class n{constructor(e,i,r){this.route=e,this.baseService=i,this.router=r,this.key="",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&(this.recipe=r)})})}deleteRecipe(){this.baseService.deleteRecipe(this.key),this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ka),T(ec),T(gr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-detail"]],decls:22,vars:9,consts:[[1,"mt-3"],[1,"recipe-making-container"],[1,"card-content"],[1,"justify-content-end"],["routerLink","/recipes/edit","mat-raised-button","","color","accent","type","button",1,"me-2",3,"queryParams"],["mat-raised-button","","type","button",1,"deleteButton",3,"click"]],template:function(i,r){1&i&&(R(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),oe(3),M()(),R(4,"div",1)(5,"mat-card-content")(6,"mat-card-subtitle"),oe(7,"Elkeszites: "),M(),oe(8),M(),R(9,"mat-card-content",2)(10,"mat-card-subtitle"),oe(11,"Hozz\xe1val\xf3k: "),M(),oe(12),M()(),R(13,"mat-card-footer")(14,"mat-card-content")(15,"mat-card-subtitle"),oe(16),M()()(),R(17,"mat-card-actions",3)(18,"button",4),oe(19,"Modositas"),M(),R(20,"button",5),Te("click",function(){return r.deleteRecipe()}),oe(21,"Torles"),M()()()),2&i&&(U(3),Vi(" ",r.recipe.name,""),U(5),Vi(" ",r.recipe.howToMake," "),U(4),Vi(" ",r.recipe.ingredients," "),U(4),BD("Adag: ",r.recipe.portion," Nehezseg: ",r.recipe.difficulty," Elkeszitesi ido: ",r.recipe.timeToMake," perc"),U(2),H("queryParams",Fl(7,qIe,r.recipe.key)))},dependencies:[eu,OT,n6,FT,UM,LT,BM,PT,lu],styles:[".recipe-making-container[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{padding-top:16px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#e33!important;border:2px solid rgb(142,19,19)}"]})}return n})();class c6{constructor(t="",e="",i="",r="",o="",s=""){this.id=t,this.uid=e,this.displayName=i,this.email=r,this.message=o,this.date=s}}class ZIe extends c6{constructor(t,e,i,r,o,s,a,l){super(t,e,r,i,o,s),this.claims=a,this.profilePicture=l}}function YIe(n,t){if(1&n){const e=sn();R(0,"button",18),Te("click",function(){Ge(e);const r=ie(2).$implicit;return He(ie(2).updateMessage(r))}),oe(1,"M\xf3dos\xedt\xe1s"),M()}}function QIe(n,t){if(1&n){const e=sn();R(0,"span",19),Te("click",function(){Ge(e);const r=ie(2).$implicit;return He(ie(2).deleteMessage(r))}),M()}}function XIe(n,t){if(1&n&&(Wo(0),R(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),oe(4),nt(5,"img",12),le(6,YIe,2,0,"button",13),le(7,QIe,1,0,"span",14),M()()(),R(8,"div",15)(9,"mat-card-content")(10,"b"),oe(11),M()(),R(12,"mat-card-content",16),nt(13,"mat-card-subtitle"),M()(),R(14,"mat-card-footer")(15,"mat-card-content"),nt(16,"hr"),R(17,"mat-card-subtitle",17),oe(18),M(),R(19,"mat-card-subtitle",17),oe(20),M()()(),Go()),2&n){const e=ie().$implicit,i=ie().$implicit,r=ie();U(4),Vi(" ",e.displayName," "),U(1),H("src",e.profilePicture,v_),U(1),H("ngIf",r.user.userId===e.uid),U(1),H("ngIf",r.user.userId===e.uid),U(4),ri(e.message),U(6),H("ngClass",i.uid===r.user.userId?"grey":"right"),U(1),ri(e.email),U(1),H("ngClass",i.uid===r.user.userId?"grey":"right"),U(1),ri(e.date)}}function JIe(n,t){if(1&n&&(R(0,"mat-card",10),le(1,XIe,21,9,"ng-container",11),M()),2&n){const e=t.$implicit,i=ie().$implicit,r=ie();H("ngClass",i.uid===r.user.userId?"left messagesCard":"right"),U(1),H("ngIf",e.uid===i.uid)}}function exe(n,t){if(1&n&&(R(0,"div",8),le(1,JIe,2,2,"mat-card",9),M()),2&n){const e=t.$implicit,i=ie();H("ngClass",e.uid===i.user.userId?"justify-content-start":"justify-content-end"),U(1),H("ngForOf",i.messages)}}let txe=(()=>{class n{constructor(e,i){this.auth=e,this.base=i,this.users=[],this.isSAdmin=!1,this.message=new c6,this.messages=[],this.userObject=new ZIe,this.userProfiles=[],this.userProfile=[],this.user={messageId:"",userId:"",displayName:"",email:""}}ngOnInit(){setTimeout(()=>{this.base.getMessages().subscribe(e=>{if(0===this.messages.length)for(let i of e)i.uid===this.user.userId&&(this.user.messageId=i.uid),i.id=i.key,i.id=i.uid,console.log(this.userObject),this.messages=e,console.log(this.messages),this.base.updateMessage(i.key,i)}),this.userLoggedInSubscription=this.auth.userLoggedInSubject.subscribe(e=>{this.user.userId=e.uid,this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i,this.userProfile=i.filter(r=>r.uid===this.user.userId),this.user.displayName=this.userProfile[0].displayName,this.user.email=this.userProfile[0].email,e.displayName||(this.user.displayName="N\xe9vtelen felhaszn\xe1l\xf3"),e.email||(this.user.email="Nincs regisztr\xe1lt e-mail c\xedm")})}),this.usersSubscription=this.auth.getUsersSubject().subscribe(e=>{this.users=e,this.users.forEach(i=>{""===i.displayName&&(i.displayName="N\xe9vtelen felhaszn\xe1l\xf3"),""===i.email&&(i.email="Nincs regisztr\xe1lt e-mail c\xedm")})})},2e3),this.isSuperAdminSubscription=this.auth.isSuperAdmin.subscribe(e=>this.isSAdmin=e)}addMessage(){this.message.uid||(this.message.uid=this.user.userId),this.message.date=(new Date).toLocaleDateString(),this.message.displayName=this.userProfile[0].displayName,this.message.email=this.userProfile[0].email,this.message.profilePicture=this.userProfile[0].profilePicture,this.base.addMessage(this.message),this.base.getMessages().subscribe(e=>this.messages=e)}deleteMessage(e){this.base.deleteMessage(e).then(i=>this.base.getMessages().subscribe(r=>this.messages=r))}deleteMessages(){this.base.deleteMessages()}updateMessage(e){this.message.displayName=this.userProfile[0].displayName,this.base.updateMessage(e.key,this.message)}ngOnDestroy(){this.userLoggedInSubscription&&this.userLoggedInSubscription.unsubscribe(),this.isSuperAdminSubscription&&this.isSuperAdminSubscription.unsubscribe(),this.usersSubscription&&this.usersSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zl),T(ec))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-chat"]],decls:16,vars:3,consts:[[1,"text-center"],[1,"d-grid","justify-content-center"],[1,"card","mb-5"],[1,"mat"],["matInput","","rows","5",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","",1,"me-2","mt-2",3,"click"],["mat-raised-button","",1,"mt-2","deleteButton",3,"disabled","click"],["class","d-grid mb-2 mainDiv",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-grid","mb-2","mainDiv",3,"ngClass"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],[4,"ngIf"],["mat-card-sm-image","","alt","Profilk\xe9p",1,"ms-2",2,"border-radius","10px",3,"src"],["class","updateButton ms-2 mt-2","type","button","mat-button","","color","accent",3,"click",4,"ngIf"],["class","ms-2 mt-2 bi bi-trash3-fill h3 text-danger rounded",3,"click",4,"ngIf"],[1,"recipe-making-container"],[1,"card-content"],[3,"ngClass"],["type","button","mat-button","","color","accent",1,"updateButton","ms-2","mt-2",3,"click"],[1,"ms-2","mt-2","bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){1&i&&(R(0,"h1",0),oe(1,"Flame Chat"),M(),R(2,"div",1)(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title")(6,"mat-form-field",3)(7,"mat-label"),oe(8,"\xdczenet \xedr\xe1sa"),M(),R(9,"textarea",4),Te("ngModelChange",function(s){return r.message.message=s}),M()()()(),R(10,"mat-card-content",0)(11,"button",5),Te("click",function(){return r.addMessage()}),oe(12," \xdczenet k\xfcld\xe9se "),M(),R(13,"button",6),Te("click",function(){return r.deleteMessages()}),oe(14," \xdczenetek t\xf6rl\xe9se "),M()()()(),le(15,exe,2,2,"div",7)),2&i&&(U(9),H("ngModel",r.message.message),U(4),H("disabled",!r.isSAdmin),U(2),H("ngForOf",r.users))},dependencies:[jl,Qo,mr,$a,Hl,$l,dm,bu,OT,FT,UM,LT,i6,BM,PT,t6,lu,hm],styles:[".card[_ngcontent-%COMP%]{width:50vw}.mat[_ngcontent-%COMP%]{width:40vw}.left[_ngcontent-%COMP%]{background-color:#17178f80;color:#fff}.right[_ngcontent-%COMP%]{margin-bottom:5px}.grey[_ngcontent-%COMP%]{color:#201f1f}.messagesCard[_ngcontent-%COMP%]{margin-bottom:10px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important;color:#f5f5f5!important}.matHeader[_ngcontent-%COMP%]{width:max-content!important}.delCont[_ngcontent-%COMP%]{margin-left:100px;padding-left:20px}.updateButton[_ngcontent-%COMP%]{background-color:#06065cb3}"]})}return n})();const nxe=["f"];function ixe(n,t){if(1&n){const e=sn();R(0,"div")(1,"label")(2,"input",20),Te("ngModelChange",function(r){return Ge(e),He(ie().$implicit.gender=r)}),M(),oe(3),M()()}if(2&n){const e=t.$implicit,i=ie().$implicit;U(2),H("ngModel",i.gender)("value",e),U(1),Vi(" ",e," ")}}function rxe(n,t){if(1&n){const e=sn();R(0,"form",3,4),Te("ngSubmit",function(){return Ge(e),He(ie().saveProfile())}),R(2,"mat-form-field")(3,"mat-label",5),oe(4,"Email"),M(),R(5,"input",6,7),Te("ngModelChange",function(r){return He(Ge(e).$implicit.email=r)}),M()(),R(7,"mat-form-field")(8,"mat-label",8),oe(9,"Felhaszn\xe1l\xf3n\xe9v"),M(),R(10,"input",9),Te("ngModelChange",function(r){return He(Ge(e).$implicit.displayName=r)}),M()(),R(11,"mat-form-field")(12,"mat-label",10),oe(13,"Sz\xfclet\xe9si id\u0151"),M(),R(14,"input",11),Te("ngModelChange",function(r){return He(Ge(e).$implicit.birthDate=r)}),M()(),le(15,ixe,4,3,"div",12),R(16,"div",13)(17,"label",14),oe(18,"Profilk\xe9p:"),M(),R(19,"input",15),Te("change",function(r){return Ge(e),He(ie().selectFile(r))})("ngModelChange",function(r){return Ge(e),He(ie().profilePhoto=r)}),M(),R(20,"button",16),Te("click",function(){const o=Ge(e).$implicit,s=ie();return He(o.profilePicture?s.changeProfilePic():s.addProfilePic())}),oe(21),M()(),R(22,"div",17),nt(23,"img",18),M(),R(24,"button",19),oe(25," Adatok ment\xe9se "),M()()}if(2&n){const e=t.$implicit,i=nr(1),r=ie();U(5),H("ngModel",e.email),U(5),H("ngModel",e.displayName),U(4),H("ngModel",e.birthDate),U(1),H("ngForOf",r.genders),U(4),H("ngModel",r.profilePhoto)("required",!e.profilePicture),U(2),Vi(" ","Profilk\xe9p Felt\xf6lt\xe9se"," "),U(2),H("src",e.profilePicture,v_)("alt",e.profilePicture),U(1),H("disabled",!i.valid)}}const oxe=[{path:"",component:z_e},{path:"notes",component:rCe},{path:"signup",component:ZTe},{path:"login",component:iIe},{path:"users",component:lIe},{path:"weather",component:yIe},{path:"chat",component:txe},{path:"profile/:uid",component:(()=>{class n{ngOnDestroy(){this.profilePicSub.unsubscribe()}constructor(e,i,r,o){this.router=e,this.auth=i,this.base=r,this.route=o,this.users=[],this.genders=["F\xe9rfi","N\u0151"],this.userProfile=[]}ngOnInit(){this.profilePicSub=this.base.profilePicUrlSubject.subscribe(e=>{console.log(e),this.profilePhotoUrl=e})}ngAfterViewInit(){setTimeout(()=>{this.router.params.subscribe(e=>{console.log(e.uid),this.auth.getUsers().subscribe(i=>{const r=i.filter(o=>o.uid===e.uid);this.users=r,console.log(r)}),this.base.getUserProfiles().subscribe(i=>{const r=i.filter(o=>o.uid===e.uid);this.userProfile=r})})},5e3)}selectFile(e){this.profilePhoto=e.target.files[0]}saveProfile(){this.auth.isLoggedIn().subscribe(e=>{console.log(e),this.base.getUserProfiles().subscribe(i=>{let r=i.filter(a=>a.uid===e?.uid),o=r[0].key;console.log(r);let s=this.form.value;s.uid=e?.uid,s.profilePicture=""==this.userProfile[0].profilePicture||null==this.userProfile[0].profilePicture?this.profilePhotoUrl:r[0].profilePicture,this.base.updateUserData(s,o)}),this.route.navigate([""])})}addProfilePic(){this.base.addProfilePicture(this.profilePhoto)}changeProfilePic(){this.userProfile[0].profilePicture="",this.base.addProfilePicture(this.profilePhoto)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ka),T(Zl),T(ec),T(gr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-user-profile"]],viewQuery:function(i,r){if(1&i&&wn(nxe,5),2&i){let o;Be(o=Ue())&&(r.form=o.first)}},decls:5,vars:4,consts:[[1,"row"],[1,"col"],["class","d-grid",3,"ngSubmit",4,"ngFor","ngForOf"],[1,"d-grid",3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],["for","displayName"],["matInput","","type","text","name","displayName","required","",3,"ngModel","ngModelChange"],["for","birthDate"],["matInput","","type","date","name","birthDate","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"input-group","mt-2"],["id","profilePicture","for","profilePicture",1,"form-label"],["id","profilePicture","type","file","name","profilePicture",1,"form-control",3,"ngModel","required","change","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"profilePicContainer"],[3,"src","alt"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"]],template:function(i,r){1&i&&(oe(0),sp(1,"json"),R(2,"div",0)(3,"div",1),le(4,rxe,26,10,"form",2),M()()),2&i&&(Vi("",function rU(n,t,e){const i=n+Zt,r=ge(),o=Rc(r,i);return G_(r,i)?JB(r,Ur(),t,o.transform,e,o):o.transform(e)}(1,2,r.userProfile)," "),U(4),H("ngForOf",r.userProfile))},dependencies:[Qo,pp,$a,DE,Hl,hp,ly,SE,$l,zl,dm,bu,lu,hm,Uj],styles:[".profilePicContainer[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;text-align:center;width:100vw;height:25vh}.profilePicContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25vh;width:25vw;border-radius:50%}"]})}return n})()},{path:"recipes",component:CIe,children:[{path:"create",component:l6},{path:"detail",component:KIe},{path:"edit",component:l6}]},{path:"**",redirectTo:""}];let sxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[gz.forRoot(oxe),gz]})}return n})();function HM(){return de((n,t)=>{let e,i=!1;n.subscribe(Se(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Le,axe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wa={},zM=zM||{},St=axe||self;function VT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Rv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var $M="closure_uid_"+(1e9*Math.random()>>>0),cxe=0;function uxe(n,t,e){return n.call.apply(n.bind,arguments)}function dxe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function co(n,t,e){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uxe:dxe).apply(null,arguments)}function BT(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Or(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(i,s)}}function wu(){this.s=this.s,this.o=this.o}wu.prototype.s=!1,wu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lxe(n){Object.prototype.hasOwnProperty.call(n,$M)&&n[$M]||(n[$M]=++cxe)}(this)},wu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u6=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function WM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function d6(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(VT(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function uo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}uo.prototype.h=function(){this.defaultPrevented=!0};var fxe=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",()=>{},t),St.removeEventListener("test",()=>{},t)}catch{}return n}();function kv(n){return/^[\s\xa0]*$/.test(n)}function UT(){var n=St.navigator;return n&&(n=n.userAgent)?n:""}function rl(n){return-1!=UT().indexOf(n)}function GM(n){return GM[" "](n),n}GM[" "]=function(){};var KM,n,mxe=rl("Opera"),pm=rl("Trident")||rl("MSIE"),h6=rl("Edge"),qM=h6||pm,f6=rl("Gecko")&&!(-1!=UT().toLowerCase().indexOf("webkit")&&!rl("Edge"))&&!(rl("Trident")||rl("MSIE"))&&!rl("Edge"),gxe=-1!=UT().toLowerCase().indexOf("webkit")&&!rl("Edge");function p6(){var n=St.document;return n?n.documentMode:void 0}e:{var ZM="",YM=(n=UT(),f6?/rv:([^\);]+)(\)|;)/.exec(n):h6?/Edge\/([\d\.]+)/.exec(n):pm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gxe?/WebKit\/(\S+)/.exec(n):mxe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YM&&(ZM=YM?YM[1]:""),pm){var QM=p6();if(null!=QM&&QM>parseFloat(ZM)){KM=String(QM);break e}}KM=ZM}var _xe=St.document&&pm&&(p6()||parseInt(KM,10))||void 0;function Mv(n,t){if(uo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(f6){e:{try{GM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yxe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mv.$.h.call(this)}}Or(Mv,uo);var yxe={2:"touch",3:"pen",4:"mouse"};Mv.prototype.h=function(){Mv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nv="closure_listenable_"+(1e6*Math.random()|0),vxe=0;function bxe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++vxe,this.fa=this.ia=!1}function jT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function g6(n){const t={};for(const e in n)t[e]=n[e];return t}const _6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y6(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<_6.length;o++)e=_6[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function HT(n){this.src=n,this.g={},this.h=0}function eN(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=u6(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(jT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function tN(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}HT.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=tN(n,t,i,r);return-1<s?(t=n[s],e||(t.ia=!1)):((t=new bxe(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var nN="closure_lm_"+(1e6*Math.random()|0),iN={};function v6(n,t,e,i,r){if(i&&i.once)return w6(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)v6(n,t[o],e,i,r);return null}return e=aN(e),n&&n[Nv]?n.O(t,e,Rv(i)?!!i.capture:!!i,r):b6(n,t,e,!1,i,r)}function b6(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=Rv(r)?!!r.capture:!!r,a=oN(n);if(a||(n[nN]=a=new HT(n)),(e=a.add(t,e,i,s,o)).proxy)return e;if(i=function Exe(){const t=Cxe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)fxe||(r=s),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(C6(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function w6(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)w6(n,t[o],e,i,r);return null}return e=aN(e),n&&n[Nv]?n.P(t,e,Rv(i)?!!i.capture:!!i,r):b6(n,t,e,!0,i,r)}function E6(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)E6(n,t[o],e,i,r);else i=Rv(i)?!!i.capture:!!i,e=aN(e),n&&n[Nv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=tN(o=n.g[t],e,i,r))&&(jT(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=oN(n))&&(t=n.g[t.toString()],n=-1,t&&(n=tN(t,e,i,r)),(e=-1<n?t[n]:null)&&rN(e))}function rN(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Nv])eN(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(C6(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=oN(t))?(eN(e,n),0==e.h&&(e.src=null,t[nN]=null)):jT(n)}}}function C6(n){return n in iN?iN[n]:iN[n]="on"+n}function Cxe(n,t){if(n.fa)n=!0;else{t=new Mv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&rN(n),n=e.call(i,t)}return n}function oN(n){return(n=n[nN])instanceof HT?n:null}var sN="__closure_events_fn_"+(1e9*Math.random()>>>0);function aN(n){return"function"==typeof n?n:(n[sN]||(n[sN]=function(t){return n.handleEvent(t)}),n[sN])}function Pr(){wu.call(this),this.i=new HT(this),this.S=this,this.J=null}function Kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new uo(t,n);else if(t instanceof uo)t.target=t.target||n;else{var r=t;y6(t=new uo(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=zT(s,i,!0,t)&&r}if(r=zT(s=t.g=n,i,!0,t)&&r,r=zT(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=zT(s=t.g=e[o],i,!1,t)&&r}function zT(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,l=s.la||s.src;s.ia&&eN(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Or(Pr,wu),Pr.prototype[Nv]=!0,Pr.prototype.removeEventListener=function(n,t,e,i){E6(this,n,t,e,i)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)jT(e[i]);delete n.g[t],n.h--}}this.J=null},Pr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Pr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var lN=St.JSON.stringify;function Ixe(){var n=cN;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var T6=new class Txe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Dxe,n=>n.reset());class Dxe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Sxe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Axe(n){St.setTimeout(()=>{throw n},0)}let Ov,Pv=!1,cN=new class xxe{constructor(){this.h=this.g=null}add(t,e){const i=T6.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},I6=()=>{const n=St.Promise.resolve(void 0);Ov=()=>{n.then(Rxe)}};var Rxe=()=>{for(var n;n=Ixe();){try{n.h.call(n.g)}catch(e){Axe(e)}var t=T6;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Pv=!1};function $T(n,t){Pr.call(this),this.h=n||1,this.g=t||St,this.j=co(this.qb,this),this.l=Date.now()}function uN(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dN(n,t,e){if("function"==typeof n)e&&(n=co(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=co(n.handleEvent,n)}return 2147483647<Number(t)?-1:St.setTimeout(n,t||0)}function x6(n){n.g=dN(()=>{n.g=null,n.i&&(n.i=!1,x6(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Or($T,Pr),(Le=$T.prototype).ga=!1,Le.T=null,Le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(uN(this),this.start()))}},Le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.N=function(){$T.$.N.call(this),uN(this),delete this.g};class kxe extends wu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:x6(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fv(n){wu.call(this),this.h=n,this.g={}}Or(Fv,wu);var D6=[];function S6(n,t,e,i){Array.isArray(e)||(e&&(D6[0]=e.toString()),e=D6);for(var r=0;r<e.length;r++){var o=v6(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function A6(n){JM(n.g,function(t,e){this.g.hasOwnProperty(e)&&rN(t)},n),n.g={}}function WT(){this.g=!0}function mm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Pxe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return lN(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Fv.prototype.N=function(){Fv.$.N.call(this),A6(this)},Fv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},WT.prototype.Ea=function(){this.g=!1},WT.prototype.info=function(){};var rh={},R6=null;function GT(){return R6=R6||new Pr}function k6(n){uo.call(this,rh.Ta,n)}function Lv(n){const t=GT();Kr(t,new k6(t))}function M6(n,t){uo.call(this,rh.STAT_EVENT,n),this.stat=t}function Po(n){const t=GT();Kr(t,new M6(t,n))}function N6(n,t){uo.call(this,rh.Ua,n),this.size=t}function Vv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},t)}rh.Ta="serverreachability",Or(k6,uo),rh.STAT_EVENT="statevent",Or(M6,uo),rh.Ua="timingevent",Or(N6,uo);var qT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},O6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hN(){}function F6(){}hN.prototype.h=null;var mN,Bv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fN(){uo.call(this,"d")}function pN(){uo.call(this,"c")}function KT(){}function Uv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Fv(this),this.P=Fxe,this.V=new $T(n=qM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new L6}function L6(){this.i=null,this.g="",this.h=!1}Or(fN,uo),Or(pN,uo),Or(KT,hN),KT.prototype.g=function(){return new XMLHttpRequest},KT.prototype.i=function(){return{}},mN=new KT;var Fxe=45e3,gN={},ZT={};function _N(n,t,e){n.L=1,n.v=JT(ic(t)),n.s=e,n.S=!0,V6(n,null)}function V6(n,t){n.G=Date.now(),jv(n),n.A=ic(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),K6(e.i,"t",i),n.C=0,e=n.l.J,n.h=new L6,n.g=yq(n.l,e?t:null,!n.s),0<n.O&&(n.M=new kxe(co(n.Pa,n,n.g),n.O)),S6(n.U,n.g,"readystatechange",n.nb),t=n.I?g6(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Lv(),function Mxe(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&"type"==f[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function B6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function U6(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=Lxe(n,e),r==ZT){4==t&&(n.o=4,Po(14),i=!1),mm(n.j,n.m,null,"[Incomplete Response]");break}if(r==gN){n.o=4,Po(15),mm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}mm(n.j,n.m,r,null),yN(n,r)}B6(n)&&r!=ZT&&r!=gN&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Po(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),IN(t),t.M=!0,Po(11))):(mm(n.j,n.m,e,"[Invalid Chunked Response]"),oh(n),Hv(n))}function Lxe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?ZT:(e=Number(t.substring(e,i)),isNaN(e)?gN:(i+=1)+e>t.length?ZT:(t=t.slice(i,i+e),n.C=i+e,t))}function jv(n){n.Y=Date.now()+n.P,j6(n,n.P)}function j6(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vv(co(n.lb,n),t)}function YT(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function Hv(n){0==n.l.H||n.J||pq(n.l,n)}function oh(n){YT(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,uN(n.V),A6(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function yN(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||vN(e.i,n)))if(!n.K&&vN(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;oI(e),iI(e)}TN(e),Po(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Vv(co(e.ib,e),6e3));if(1>=Q6(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else ah(e,11)}else if((n.K||e.g==n)&&oI(e),!kv(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const f=c[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(e.L=i=1.5*m,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const y=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(bN(o,o.h),o.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,_i(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=n;if((i=e).wa=_q(i,i.J?i.pa:null,i.Y),s.K){X6(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(YT(a),jv(a)),i.g=s}else hq(i);0<e.j.length&&rI(e)}else"stop"!=c[0]&&"close"!=c[0]||ah(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ah(e,7):CN(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Lv()}catch{}}function H6(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(VT(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Bxe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(VT(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Vxe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(VT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Le=Uv.prototype).setTimeout=function(n){this.P=n},Le.nb=function(n){n=n.target;const t=this.M;t&&3==ol(n)?t.l():this.Pa(n)},Le.Pa=function(n){try{if(n==this.g)e:{const u=ol(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||qM||this.g&&(this.h.h||this.g.ja()||sq(this.g)))){this.J||4!=u||7==t||Lv(),YT(this);var e=this.g.da();this.ca=e;t:if(B6(this)){var i=sq(this.g);n="";var r=i.length,o=4==ol(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oh(this),Hv(this);var s="";break t}this.h.i=new St.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function Nxe(n,t,e,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kv(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,Po(12),oh(this),Hv(this);break e}mm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yN(this,e)}this.S?(U6(this,u,s),qM&&this.i&&3==u&&(S6(this.U,this.V,"tick",this.mb),this.V.start())):(mm(this.j,this.m,s,null),yN(this,s)),4==u&&oh(this),this.i&&!this.J&&(4==u?pq(this.l,this):(this.i=!1,jv(this)))}else(function i1e(n){const t={};n=(n.g&&2<=ol(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(kv(n[i]))continue;var e=Sxe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function wxe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,Po(12)):(this.o=0,Po(13)),oh(this),Hv(this)}}}catch{}},Le.mb=function(){if(this.g){var n=ol(this.g),t=this.g.ja();this.C<t.length&&(YT(this),U6(this,n,t),this.i&&4!=n&&jv(this))}},Le.cancel=function(){this.J=!0,oh(this)},Le.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Oxe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Lv(),Po(17)),oh(this),this.o=2,Hv(this)):j6(this,this.Y-n)};var z6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof sh){this.h=n.h,QT(this,n.j),this.s=n.s,this.g=n.g,XT(this,n.m),this.l=n.l;var t=n.i,e=new Wv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),$6(this,e),this.o=n.o}else n&&(t=String(n).match(z6))?(this.h=!1,QT(this,t[1]||"",!0),this.s=zv(t[2]||""),this.g=zv(t[3]||"",!0),XT(this,t[4]),this.l=zv(t[5]||"",!0),$6(this,t[6]||"",!0),this.o=zv(t[7]||"")):(this.h=!1,this.i=new Wv(null,this.h))}function ic(n){return new sh(n)}function QT(n,t,e){n.j=e?zv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function XT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function $6(n,t,e){t instanceof Wv?(n.i=t,function Gxe(n,t){t&&!n.j&&(Eu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(G6(this,i),K6(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=$v(t,$xe)),n.i=new Wv(t,n.h))}function _i(n,t,e){n.i.set(t,e)}function JT(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $v(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,jxe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jxe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sh.prototype.toString=function(){var n=[],t=this.j;t&&n.push($v(t,W6,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push($v(t,W6,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push($v(e,"/"==e.charAt(0)?zxe:Hxe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",$v(e,Wxe)),n.join("")};var W6=/[#\/\?@]/g,Hxe=/[#\?:]/g,zxe=/[#\?]/g,$xe=/[#\?@]/g,Wxe=/#/g;function Wv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Eu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Uxe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function G6(n,t){Eu(n),t=gm(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function q6(n,t){return Eu(n),t=gm(n,t),n.g.has(t)}function K6(n,t,e){G6(n,t),0<e.length&&(n.i=null,n.g.set(gm(n,t),WM(e)),n.h+=e.length)}function gm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Z6(n){this.l=n||Kxe,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Le=Wv.prototype).add=function(n,t){Eu(this),this.i=null,n=gm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Le.forEach=function(n,t){Eu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Le.ta=function(){Eu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Le.Z=function(n){Eu(this);let t=[];if("string"==typeof n)q6(this,n)&&(t=t.concat(this.g.get(gm(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Le.set=function(n,t){return Eu(this),this.i=null,q6(this,n=gm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Le.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Kxe=10;function Y6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Q6(n){return n.h?1:n.g?n.g.size:0}function vN(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function bN(n,t){n.g?n.g.add(t):n.h=t}function X6(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function J6(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return WM(n.i)}Z6.prototype.cancel=function(){if(this.i=J6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Zxe=class{stringify(n){return St.JSON.stringify(n,void 0)}parse(n){return St.JSON.parse(n,void 0)}};function Yxe(){this.g=new Zxe}function Qxe(n,t,e){const i=e||"";try{H6(n,function(r,o){let s=r;Rv(r)&&(s=lN(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function eI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Gv(n){this.l=n.ec||null,this.j=n.ob||!1}function tI(n,t){Pr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=wN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Or(Gv,hN),Gv.prototype.g=function(){return new tI(this.l,this.j)},Gv.prototype.i=function(n){return function(){return n}}({}),Or(tI,Pr);var wN=0;function eq(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kv(n)}function Kv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Le=tI.prototype).open=function(n,t){if(this.readyState!=wN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Kv(this)},Le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qv(this)),this.readyState=wN},Le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kv(this)),this.g&&(this.readyState=3,Kv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eq(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?qv(this):Kv(this),3==this.readyState&&eq(this)}},Le.Za=function(n){this.g&&(this.response=this.responseText=n,qv(this))},Le.Ya=function(n){this.g&&(this.response=n,qv(this))},Le.ka=function(){this.g&&qv(this)},Le.setRequestHeader=function(n,t){this.v.append(n,t)},Le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(tI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jxe=St.JSON.parse;function ji(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tq,this.L=this.M=!1}Or(ji,Pr);var tq="",e1e=/^https?$/i,t1e=["POST","PUT"];function nq(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,iq(n),nI(n)}function iq(n){n.F||(n.F=!0,Kr(n,"complete"),Kr(n,"error"))}function rq(n){if(n.h&&typeof zM<"u"&&(!n.C[1]||4!=ol(n)||2!=n.da()))if(n.v&&4==ol(n))dN(n.La,0,n);else if(Kr(n,"readystatechange"),4==ol(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===s){var r=String(n.I).match(z6)[1]||null;!r&&St.self&&St.self.location&&(r=St.self.location.protocol.slice(0,-1)),i=!e1e.test(r?r.toLowerCase():"")}e=i}if(e)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var o=2<ol(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",iq(n)}}finally{nI(n)}}}function nI(n,t){if(n.g){oq(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Kr(n,"ready");try{e.onreadystatechange=i}catch{}}}function oq(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function ol(n){return n.g?n.g.readyState:0}function sq(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case tq:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aq(n){let t="";return JM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function EN(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=aq(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):_i(n,t,e))}function Zv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lq(n){this.Ga=0,this.j=[],this.l=new WT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zv("baseRetryDelayMs",5e3,n),this.hb=Zv("retryDelaySeedMs",1e4,n),this.eb=Zv("forwardChannelMaxRetries",2,n),this.xa=Zv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Z6(n&&n.concurrentRequestLimit),this.Ja=new Yxe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CN(n){if(cq(n),3==n.H){var t=n.W++,e=ic(n.I);if(_i(e,"SID",n.K),_i(e,"RID",t),_i(e,"TYPE","terminate"),Yv(n,e),(t=new Uv(n,n.l,t)).L=2,t.v=JT(ic(e)),e=!1,St.navigator&&St.navigator.sendBeacon)try{e=St.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&St.Image&&((new Image).src=t.v,e=!0),e||(t.g=yq(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jv(t)}gq(n)}function iI(n){n.g&&(IN(n),n.g.cancel(),n.g=null)}function cq(n){iI(n),n.u&&(St.clearTimeout(n.u),n.u=null),oI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function rI(n){if(!Y6(n.i)&&!n.m){n.m=!0;var t=n.Na;Ov||I6(),Pv||(Ov(),Pv=!0),cN.add(t,n),n.C=0}}function uq(n,t){var e;e=t?t.m:n.W++;const i=ic(n.I);_i(i,"SID",n.K),_i(i,"RID",e),_i(i,"AID",n.V),Yv(n,i),n.o&&n.s&&EN(i,n.o,n.s),e=new Uv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=dq(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bN(n.i,e),_N(e,i,t)}function Yv(n,t){n.na&&JM(n.na,function(e,i){_i(t,i,e)}),n.h&&H6({},function(e,i){_i(t,i,e)})}function dq(n,t,e){e=Math.min(n.j.length,e);var i=n.h?co(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{Qxe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function hq(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Ov||I6(),Pv||(Ov(),Pv=!0),cN.add(t,n),n.A=0}}function TN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Vv(co(n.Ma,n),mq(n,n.A)),n.A++,0))}function IN(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function fq(n){n.g=new Uv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=ic(n.wa);_i(t,"RID","rpc"),_i(t,"SID",n.K),_i(t,"AID",n.V),_i(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&_i(t,"TO",n.qa),_i(t,"TYPE","xmlhttp"),Yv(n,t),n.o&&n.s&&EN(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=JT(ic(t)),e.s=null,e.S=!0,V6(e,n)}function oI(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function pq(n,t){var e=null;if(n.g==t){oI(n),IN(n),n.g=null;var i=2}else{if(!vN(n.i,t))return;e=t.F,X6(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Kr(i=GT(),new N6(i,e)),rI(n)}else hq(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function r1e(n,t){return!(Q6(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Vv(co(n.Na,n,t),mq(n,n.C)),n.C++,0)))}(n,t)||2==i&&TN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:ah(n,5);break;case 4:ah(n,10);break;case 3:ah(n,6);break;default:ah(n,2)}}function mq(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function ah(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=co(n.pb,n);e||(e=new sh("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||QT(e,"https"),JT(e)),function Xxe(n,t){const e=new WT;if(St.Image){const i=new Image;i.onload=BT(eI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=BT(eI,e,i,"TestLoadImage: error",!1,t),i.onabort=BT(eI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=BT(eI,e,i,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Po(2);n.H=0,n.h&&n.h.za(t),gq(n),cq(n)}function gq(n){if(n.H=0,n.ma=[],n.h){const t=J6(n.i);(0!=t.length||0!=n.j.length)&&(d6(n.ma,t),d6(n.ma,n.j),n.i.i.length=0,WM(n.j),n.j.length=0),n.h.ya()}}function _q(n,t,e){var i=e instanceof sh?ic(e):new sh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),XT(i,i.m);else{var r=St.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new sh(null);i&&QT(o,i),t&&(o.g=t),r&&XT(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&_i(i,e,t),_i(i,"VER",n.ra),Yv(n,i),i}function yq(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ji(e&&n.Ha&&!n.va?new Gv({ob:!0}):n.va)).Oa(n.J),t}function vq(){}function sI(){if(pm&&!(10<=Number(_xe)))throw Error("Environmental error: no available transport.")}function Cs(n,t){Pr.call(this),this.g=new lq(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!kv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kv(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new _m(this)}function bq(n){fN.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function wq(){pN.call(this),this.status=1}function _m(n){this.g=n}function Ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xN(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],s=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ln(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Le=ji.prototype).Oa=function(n){this.M=n},Le.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mN.g(),this.C=function P6(n){return n.h||(n.h=n.i())}(this.u?this.u:mN),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void nq(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=St.FormData&&n instanceof St.FormData,!(0<=u6(t1e,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oq(this),0<this.B&&((this.L=function n1e(n){return pm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=dN(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){nq(this,o)}},Le.ua=function(){typeof zM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),nI(this))},Le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nI(this,!0)),ji.$.N.call(this)},Le.La=function(){this.s||(this.G||this.v||this.l?rq(this):this.kb())},Le.kb=function(){rq(this)},Le.isActive=function(){return!!this.g},Le.da=function(){try{return 2<ol(this)?this.g.status:-1}catch{return-1}},Le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Le.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Jxe(t)}},Le.Ia=function(){return this.m},Le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=lq.prototype).ra=8,Le.H=1,Le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Uv(this,this.l,n);let o=this.s;if(this.U&&(o?(o=g6(o),y6(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dq(this,r,t),_i(e=ic(this.I),"RID",n),_i(e,"CVER",22),this.F&&_i(e,"X-HTTP-Session-Id",this.F),Yv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(aq(o)))+"&"+t:this.o&&EN(e,this.o,o)),bN(this.i,r),this.bb&&_i(e,"TYPE","init"),this.P?(_i(e,"$req",t),_i(e,"SID","null"),r.aa=!0,_N(r,e,null)):_N(r,e,t),this.H=2}}else 3==this.H&&(n?uq(this,n):0==this.j.length||Y6(this.i)||uq(this))},Le.Ma=function(){if(this.u=null,fq(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vv(co(this.jb,this),n)}},Le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Po(10),iI(this),fq(this))},Le.ib=function(){null!=this.v&&(this.v=null,iI(this),TN(this),Po(19))},Le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Po(2)):(this.l.info("Failed to ping google.com"),Po(1))},Le.isActive=function(){return!!this.h&&this.h.isActive(this)},(Le=vq.prototype).Ba=function(){},Le.Aa=function(){},Le.za=function(){},Le.ya=function(){},Le.isActive=function(){return!0},Le.Va=function(){},sI.prototype.g=function(n,t){return new Cs(n,t)},Or(Cs,Pr),Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Po(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=_q(n,null,n.Y),rI(n)},Cs.prototype.close=function(){CN(this.g)},Cs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=lN(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&rI(t)},Cs.prototype.N=function(){this.g.h=null,delete this.j,CN(this.g),delete this.g,Cs.$.N.call(this)},Or(bq,fN),Or(wq,pN),Or(_m,vq),_m.prototype.Ba=function(){Kr(this.g,"a")},_m.prototype.Aa=function(n){Kr(this.g,new bq(n))},_m.prototype.za=function(n){Kr(this.g,new wq)},_m.prototype.ya=function(){Kr(this.g,"b")},Or(Ea,function o1e(){this.blockSize=-1}),Ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ea.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)xN(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){xN(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){xN(this,i),r=0;break}}this.h=r,this.i+=t},Ea.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var s1e={};function DN(n){return-128<=n&&128>n?function pxe(n,t){var e=s1e;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ln([0|t],0>t?-1:0)}):new Ln([0|n],0>n?-1:0)}function sl(n){if(isNaN(n)||!isFinite(n))return ym;if(0>n)return Zr(sl(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=SN;return new Ln(t,0)}var SN=4294967296,ym=DN(0),AN=DN(1),Cq=DN(16777216);function rc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ys(n){return-1==n.h}function Zr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ln(e,~n.h).add(AN)}function aI(n,t){return n.add(Zr(t))}function lI(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Qv(n,t){this.g=n,this.h=t}function cI(n,t){if(rc(t))throw Error("division by zero");if(rc(n))return new Qv(ym,ym);if(Ys(n))return t=cI(Zr(n),t),new Qv(Zr(t.g),Zr(t.h));if(Ys(t))return t=cI(n,Zr(t)),new Qv(Zr(t.g),t.h);if(30<n.g.length){if(Ys(n)||Ys(t))throw Error("slowDivide_ only works with positive integers.");for(var e=AN,i=t;0>=i.X(n);)e=Tq(e),i=Tq(i);var r=vm(e,1),o=vm(i,1);for(i=vm(i,2),e=vm(e,2);!rc(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(e),o=s),i=vm(i,1),e=vm(e,1)}return t=aI(n,r.R(t)),new Qv(r,t)}for(r=ym;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),s=(o=sl(e)).R(t);Ys(s)||0<s.X(n);)s=(o=sl(e-=i)).R(t);rc(o)&&(o=AN),r=r.add(o),n=aI(n,s)}return new Qv(r,n)}function Tq(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ln(e,n.h)}function vm(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Ln(r,n.h)}(Le=Ln.prototype).ea=function(){if(Ys(this))return-Zr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:SN+i)*t,t*=SN}return n},Le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(rc(this))return"0";if(Ys(this))return"-"+Zr(this).toString(n);for(var t=sl(Math.pow(n,6)),e=this,i="";;){var r=cI(e,t).g,o=((0<(e=aI(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(rc(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Le.X=function(n){return Ys(n=aI(this,n))?-1:rc(n)?0:1},Le.abs=function(){return Ys(this)?Zr(this):this},Le.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new Ln(e,-2147483648&e[e.length-1]?-1:0)},Le.R=function(n){if(rc(this)||rc(n))return ym;if(Ys(this))return Ys(n)?Zr(this).R(Zr(n)):Zr(Zr(this).R(n));if(Ys(n))return Zr(this.R(Zr(n)));if(0>this.X(Cq)&&0>n.X(Cq))return sl(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=s*l,lI(e,2*i+2*r),e[2*i+2*r+1]+=o*l,lI(e,2*i+2*r+1),e[2*i+2*r+1]+=s*a,lI(e,2*i+2*r+1),e[2*i+2*r+2]+=o*a,lI(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ln(e,0)},Le.gb=function(n){return cI(this,n).h},Le.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ln(e,this.h&n.h)},Le.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ln(e,this.h|n.h)},Le.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ln(e,this.h^n.h)},sI.prototype.createWebChannel=sI.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,qT.NO_ERROR=0,qT.TIMEOUT=8,qT.HTTP_ERROR=6,O6.COMPLETE="complete",F6.EventType=Bv,Bv.OPEN="a",Bv.CLOSE="b",Bv.ERROR="c",Bv.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,Ea.prototype.digest=Ea.prototype.l,Ea.prototype.reset=Ea.prototype.reset,Ea.prototype.update=Ea.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=sl,Ln.fromString=function Eq(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Zr(Eq(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=sl(Math.pow(t,8)),i=ym,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),t);8>o?(o=sl(Math.pow(t,o)),i=i.R(o).add(sl(s))):i=(i=i.R(e)).add(sl(s))}return i};var a1e=wa.createWebChannelTransport=function(){return new sI},l1e=wa.getStatEventTarget=function(){return GT()},RN=wa.ErrorCode=qT,c1e=wa.EventType=O6,u1e=wa.Event=rh,Iq=wa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},d1e=wa.FetchXmlHttpFactory=Gv,uI=wa.WebChannel=F6,h1e=wa.XhrIo=ji,f1e=wa.Md5=Ea,bm=wa.Integer=Ln;const xq="@firebase/firestore";class Fr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let wm="10.5.2";const Cu=new ys.Yd("@firebase/firestore");function Em(){return Cu.logLevel}function Ie(n,...t){if(Cu.logLevel<=ys.in.DEBUG){const e=t.map(kN);Cu.debug(`Firestore (${wm}): ${n}`,...e)}}function Yi(n,...t){if(Cu.logLevel<=ys.in.ERROR){const e=t.map(kN);Cu.error(`Firestore (${wm}): ${n}`,...e)}}function ns(n,...t){if(Cu.logLevel<=ys.in.WARN){const e=t.map(kN);Cu.warn(`Firestore (${wm}): ${n}`,...e)}}function kN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function We(n="Unexpected state"){const t=`FIRESTORE (${wm}) INTERNAL ASSERTION FAILED: `+n;throw Yi(t),new Error(t)}function ot(n,t){n||We()}function Re(n,t){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends D.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Dq{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fr.UNAUTHENTICATED))}shutdown(){}}class _1e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class y1e{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,ue.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot("string"==typeof i.accessToken),new Dq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ot(null===t||"string"==typeof t),new Fr(t)}}class v1e{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b1e{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new v1e(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sq{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w1e{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ot("string"==typeof e.token),this.R=e.token,new Sq(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E1e(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Aq{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=E1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Dt(n,t){return n<t?-1:n>t?1:0}function Cm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Rq(n){return n+"\0"}class Di{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Di.fromMillis(Date.now())}static fromDate(t){return Di.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Di(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class at{constructor(t){this.timestamp=t}static fromTimestamp(t){return new at(t)}static min(){return new at(new Di(0,0))}static max(){return new at(new Di(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xv{constructor(t,e,i){void 0===e?e=0:e>t.length&&We(),void 0===i?i=t.length-e:i>t.length-e&&We(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Xv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class mn extends Xv{construct(t,e,i){return new mn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new mn(e)}static emptyPath(){return new mn([])}}const C1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Xv{construct(t,e,i){return new yi(t,e,i)}static isValidIdentifier(t){return C1e.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(e)}static emptyPath(){return new yi([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(mn.fromString(t))}static fromName(t){return new ke(mn.fromString(t).popFirst(5))}static empty(){return new ke(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new mn(t.slice()))}}class Tm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function MN(n){return n.fields.find(t=>2===t.kind)}function lh(n){return n.fields.filter(t=>2!==t.kind)}Tm.UNKNOWN_ID=-1;class ch{constructor(t,e){this.fieldPath=t,this.kind=e}}class Im{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Im(0,Ts.min())}}function kq(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=at.fromTimestamp(1e9===i?new Di(e+1,0):new Di(e,i));return new Ts(r,ke.empty(),t)}function Mq(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ts(at.min(),ke.empty(),-1)}static max(){return new Ts(at.max(),ke.empty(),-1)}}function NN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ke.comparator(n.documentKey,t.documentKey),0!==e?e:Dt(n.largestBatchId,t.largestBatchId))}const Nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tu(n){return ON.apply(this,arguments)}function ON(){return ON=(0,ue.Z)(function*(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Nq)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}),ON.apply(this,arguments)}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.reject(e)}static resolve(t){return new Z((e,i)=>{e(t)})}static reject(t){return new Z((e,i)=>{i(t)})}static waitFor(t){return new Z((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=Z.resolve(!1);for(const i of t)e=e.next(r=>r?Z.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Z((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new Z((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class dI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Jv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=PN(i.target.error);this.V.reject(new Jv(t,r))}}static open(t,e,i,r){try{return new dI(e,t.transaction(r,i))}catch(o){throw new Jv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new D1e(e)}}class Ca{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Ca.S((0,D.z$)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ie("SimpleDb","Removing database:",t),uh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,D.hl)())return!1;if(Ca.C())return!0;const t=(0,D.z$)(),e=Ca.S(t),i=0<e&&e<10,r=Ca.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,ue.Z)(function*(){return e.db||(Ie("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Jv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new _e(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Jv(t,a))},o.onupgradeneeded=s=>{Ie("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ue.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const l=dI.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),Z.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(Ie("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),o.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class x1e{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return uh(this.k.delete())}}class Jv extends _e{constructor(t,e){super(te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Iu(n){return"IndexedDbTransactionError"===n.name}class D1e{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ie("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),uh(i)}add(t){return Ie("SimpleDb","ADD",this.store.name,t,t),uh(this.store.add(t))}get(t){return uh(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ie("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ie("SimpleDb","DELETE",this.store.name,t),uh(this.store.delete(t))}count(){return Ie("SimpleDb","COUNT",this.store.name),uh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Z((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Z((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(t,e){Ie("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Z((i,r)=>{e.onerror=o=>{const s=PN(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(t,e){const i=[];return new Z((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new x1e(a),c=e(a.primaryKey,a.value,l);if(c instanceof Z){const u=c.catch(f=>(l.done(),Z.reject(f)));i.push(u)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>Z.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function uh(n){return new Z((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=PN(i.target.error);e(r)}})}let Pq=!1;function PN(n){const t=Ca.S((0,D.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pq||(Pq=!0,setTimeout(()=>{throw i},0)),i}}return n}class S1e{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Ie("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ue.Z)(function*(){e.task=null;try{Ie("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){Iu(i)?Ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tu(i)}yield e.ee(6e4)}))}}class A1e{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,ue.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,o=!0;return Z.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ie("IndexBackiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(Ie("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=Mq(o);NN(s,i)>0&&(i=s)}),new Ts(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Is=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function eb(n){return null==n}function tb(n){return 0===n&&1/n==-1/0}function Fq(n){return"number"==typeof n&&Number.isInteger(n)&&!tb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ho(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Lq(t)),t=R1e(n.get(e),t);return Lq(t)}function R1e(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function Lq(n){return n+"\x01\x01"}function al(n){const t=n.length;if(ot(t>=2),2===t)return ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&We(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:We()}o=s+2}return new mn(i)}const Vq=["userId","batchId"];function hI(n,t){return[n,ho(t)]}function Bq(n,t,e){return[n,ho(t),e]}const k1e={},M1e=["prefixPath","collectionGroup","readTime","documentId"],N1e=["prefixPath","collectionGroup","documentId"],O1e=["collectionGroup","readTime","prefixPath","documentId"],P1e=["canonicalId","targetId"],F1e=["targetId","path"],L1e=["path","targetId"],V1e=["collectionId","parent"],B1e=["indexId","uid"],U1e=["uid","sequenceNumber"],j1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H1e=["indexId","uid","orderedDocumentKey"],z1e=["userId","collectionPath","documentId"],$1e=["userId","collectionPath","largestBatchId"],W1e=["userId","collectionGroup","largestBatchId"],Uq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G1e=[...Uq,"documentOverlays"],jq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hq=jq,q1e=[...Hq,"indexConfiguration","indexState","indexEntries"];class FN extends Oq{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Lr(n,t){const e=Re(n);return Ca.M(e.ae,t)}function zq(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function $q(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ci{constructor(t,e){this.comparator=t,this.root=e||Yr.EMPTY}insert(t,e){return new ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(t){return new ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fI(this.root,t,this.comparator,!1)}getReverseIterator(){return new fI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fI(this.root,t,this.comparator,!0)}}class fI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Yr.RED,this.left=r??Yr.EMPTY,this.right=o??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Yr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const t=this.left.check();if(t!==this.right.check())throw We();return t+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Yr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(t){this.comparator=t,this.data=new ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Wq(this.data.getIterator())}getIteratorFrom(t){return new Wq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $n)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $n(this.comparator);return e.data=t,e}}class Wq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xm(n){return n.hasNext()?n.getNext():void 0}class is{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new is([])}unionWith(t){let e=new $n(yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new is(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Gq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gq("Invalid base64 string: "+o):o}}(t);return new vr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Z1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Du(n){if(ot(!!n),"string"==typeof n){let t=0;const e=Z1e.exec(n);if(ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oc(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function pI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function mI(n){const t=n.mapValue.fields.__previous_value__;return pI(t)?mI(t):t}function nb(n){const t=Du(n.mapValue.fields.__local_write_time__.timestampValue);return new Di(t.seconds,t.nanos)}class Y1e{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Su{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Su&&t.projectId===this.projectId&&t.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gI={nullValue:"NULL_VALUE"};function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pI(n)?4:Yq(n)?9007199254740991:10:We()}function ll(n,t){if(n===t)return!0;const e=Ru(n);if(e!==Ru(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nb(n).isEqual(nb(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Du(r.timestampValue),a=Du(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,oc(n.bytesValue).isEqual(oc(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Hi(r.geoPointValue.latitude)===Hi(o.geoPointValue.latitude)&&Hi(r.geoPointValue.longitude)===Hi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Hi(r.integerValue)===Hi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Hi(r.doubleValue),a=Hi(o.doubleValue);return s===a?tb(s)===tb(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Cm(n.arrayValue.values||[],t.arrayValue.values||[],ll);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(zq(s)!==zq(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ll(s[l],a[l])))return!1;return!0}(n,t);default:return We()}var o}function ib(n,t){return void 0!==(n.values||[]).find(e=>ll(e,t))}function ku(n,t){if(n===t)return 0;const e=Ru(n),i=Ru(t);if(e!==i)return Dt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Hi(o.integerValue||o.doubleValue),l=Hi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return qq(n.timestampValue,t.timestampValue);case 4:return qq(nb(n),nb(t));case 5:return Dt(n.stringValue,t.stringValue);case 6:return function(o,s){const a=oc(o),l=oc(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Dt(a[c],l[c]);if(0!==u)return u}return Dt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Dt(Hi(o.latitude),Hi(s.latitude));return 0!==a?a:Dt(Hi(o.longitude),Hi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ku(a[c],l[c]);if(u)return u}return Dt(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Au.mapValue&&s===Au.mapValue)return 0;if(o===Au.mapValue)return 1;if(s===Au.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const m=Dt(l[f],u[f]);if(0!==m)return m;const _=ku(a[l[f]],c[u[f]]);if(0!==_)return _}return Dt(l.length,u.length)}(n.mapValue,t.mapValue);default:throw We()}}function qq(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Dt(n,t);const e=Du(n),i=Du(t),r=Dt(e.seconds,i.seconds);return 0!==r?r:Dt(e.nanos,i.nanos)}function Dm(n){return LN(n)}function LN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Du(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oc(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=LN(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${LN(e.fields[s])}`;return r+"}"}(n.mapValue):We()}function dh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function VN(n){return!!n&&"integerValue"in n}function rb(n){return!!n&&"arrayValue"in n}function Kq(n){return!!n&&"nullValue"in n}function Zq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yI(n){return!!n&&"mapValue"in n}function ob(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return xu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ob(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ob(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Yq(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Q1e(n){return"nullValue"in n?gI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dh(Su.empty(),ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:We()}function X1e(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dh(Su.empty(),ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Au:We()}function Qq(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Xq(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Qr{constructor(t){this.value=t}static empty(){return new Qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ob(e)}setAll(t){let e=yi.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=ob(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());yI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ll(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){xu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Qr(ob(this.value))}}function Jq(n){const t=[];return xu(n.fields,(e,i)=>{const r=new yi([e]);if(yI(i)){const o=Jq(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new is(t)}class vi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new vi(t,0,at.min(),at.min(),at.min(),Qr.empty(),0)}static newFoundDocument(t,e,i,r){return new vi(t,1,e,at.min(),i,r,0)}static newNoDocument(t,e){return new vi(t,2,e,at.min(),at.min(),Qr.empty(),0)}static newUnknownDocument(t,e){return new vi(t,3,e,at.min(),at.min(),Qr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(at.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(t,e){this.position=t,this.inclusive=e}}function e9(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ke.comparator(ke.fromName(s.referenceValue),e.key):ku(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function t9(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ll(n.position[e],t.position[e]))return!1;return!0}class sb{constructor(t,e="asc"){this.field=t,this.dir=e}}function J1e(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class n9{}class un extends n9{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new eDe(t,e,i):"array-contains"===e?new iDe(t,i):"in"===e?new l9(t,i):"not-in"===e?new rDe(t,i):"array-contains-any"===e?new oDe(t,i):new un(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new tDe(t,i):new nDe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ku(e,this.value)):null!==e&&Ru(this.value)===Ru(e)&&this.matchesComparison(ku(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends n9{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Vn(t,e)}matches(t){return Sm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sm(n){return"and"===n.op}function BN(n){return"or"===n.op}function UN(n){return i9(n)&&Sm(n)}function i9(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function jN(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Dm(n.value);if(UN(n))return n.filters.map(t=>jN(t)).join(",");{const t=n.filters.map(e=>jN(e)).join(",");return`${n.op}(${t})`}}function r9(n,t){return n instanceof un?(i=n,(r=t)instanceof un&&i.op===r.op&&i.field.isEqual(r.field)&&ll(i.value,r.value)):n instanceof Vn?function(i,r){return r instanceof Vn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&r9(s,r.filters[a]),!0)}(n,t):void We();var i,r}function o9(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function s9(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${Dm(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(s9).join(" ,")+"}"}(n):"Filter";var e}class eDe extends un{constructor(t,e,i){super(t,e,i),this.key=ke.fromName(i.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class tDe extends un{constructor(t,e){super(t,"in",e),this.keys=a9(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class nDe extends un{constructor(t,e){super(t,"not-in",e),this.keys=a9(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function a9(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ke.fromName(i.referenceValue))}class iDe extends un{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return rb(e)&&ib(e.arrayValue,this.value)}}class l9 extends un{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ib(this.value.arrayValue,e)}}class rDe extends un{constructor(t,e){super(t,"not-in",e)}matches(t){if(ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ib(this.value.arrayValue,e)}}class oDe extends un{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!rb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ib(this.value.arrayValue,i))}}class sDe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function HN(n,t=null,e=[],i=[],r=null,o=null,s=null){return new sDe(n,t,e,i,r,o,s)}function hh(n){const t=Re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>jN(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),eb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Dm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Dm(i)).join(",")),t.ce=e}return t.ce}function ab(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!J1e(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!r9(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!t9(n.startAt,t.startAt)&&t9(n.endAt,t.endAt)}function vI(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bI(n,t){return n.filters.filter(e=>e instanceof un&&e.field.isEqual(t))}function c9(n,t,e){let i=gI,r=!0;for(const o of bI(n,t)){let s=gI,a=!0;switch(o.op){case"<":case"<=":s=Q1e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=gI}Qq({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];Qq({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function u9(n,t,e){let i=Au,r=!0;for(const o of bI(n,t)){let s=Au,a=!0;switch(o.op){case">=":case">":s=X1e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Au}Xq({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];Xq({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class sc{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function d9(n,t,e,i,r,o,s,a){return new sc(n,t,e,i,r,o,s,a)}function Am(n){return new sc(n)}function h9(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zN(n){return null!==n.collectionGroup}function Rm(n){const t=Re(n);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $n(yi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new sb(o,i))}),e.has(yi.keyField().canonicalString())||t.le.push(new sb(yi.keyField(),i))}return t.le}function Fo(n){const t=Re(n);return t.he||(t.he=function f9(n,t){if("F"===n.limitType)return HN(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new sb(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Mu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mu(n.startAt.position,n.startAt.inclusive):null;return HN(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Rm(n))),t.he}function $N(n,t){const e=n.filters.concat([t]);return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wI(n,t,e){return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function lb(n,t){return ab(Fo(n),Fo(t))&&n.limitType===t.limitType}function p9(n){return`${hh(Fo(n))}|lt:${n.limitType}`}function km(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>s9(r)).join(", ")}]`),eb(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Dm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Dm(r)).join(",")),`Target(${i})`}(Fo(n))}; limitType=${n.limitType})`}function cb(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ke.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Rm(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=e9(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Rm(i),r)||i.endAt&&!function(s,a,l){const c=e9(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Rm(i),r)));var i,r}function m9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g9(n){return(t,e)=>{let i=!1;for(const r of Rm(n)){const o=aDe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function aDe(n,t,e){const i=n.field.isKeyField()?ke.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?ku(l,c):We()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We()}}class ac{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){xu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return $q(this.inner)}size(){return this.innerSize}}const lDe=new ci(ke.comparator);function rs(){return lDe}const _9=new ci(ke.comparator);function ub(...n){let t=_9;for(const e of n)t=t.insert(e.key,e);return t}function y9(n){let t=_9;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function cl(){return db()}function v9(){return db()}function db(){return new ac(n=>n.toString(),(n,t)=>n.isEqual(t))}const cDe=new ci(ke.comparator),uDe=new $n(ke.comparator);function Vt(...n){let t=uDe;for(const e of n)t=t.add(e);return t}const dDe=new $n(Dt);function WN(){return dDe}function b9(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tb(t)?"-0":t}}function w9(n){return{integerValue:""+n}}function E9(n,t){return Fq(t)?w9(t):b9(n,t)}class EI{constructor(){this._=void 0}}function hDe(n,t,e){return n instanceof Mm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&pI(o)&&(o=mI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof fh?T9(n,t):n instanceof ph?I9(n,t):function(r,o){const s=C9(r,o),a=x9(s)+x9(r.Ie);return VN(s)&&VN(r.Ie)?w9(a):b9(r.serializer,a)}(n,t)}function fDe(n,t,e){return n instanceof fh?T9(n,t):n instanceof ph?I9(n,t):e}function C9(n,t){return n instanceof Nm?VN(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Mm extends EI{}class fh extends EI{constructor(t){super(),this.elements=t}}function T9(n,t){const e=D9(t);for(const i of n.elements)e.some(r=>ll(r,i))||e.push(i);return{arrayValue:{values:e}}}class ph extends EI{constructor(t){super(),this.elements=t}}function I9(n,t){let e=D9(t);for(const i of n.elements)e=e.filter(r=>!ll(r,i));return{arrayValue:{values:e}}}class Nm extends EI{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function x9(n){return Hi(n.integerValue||n.doubleValue)}function D9(n){return rb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hb{constructor(t,e){this.field=t,this.transform=e}}class mDe{constructor(t,e){this.version=t,this.transformResults=e}}class Si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function CI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class TI{}function S9(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Pm(n.key,Si.none()):new Om(n.key,n.data,Si.none());{const e=n.data,i=Qr.empty();let r=new $n(yi.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new lc(n.key,i,new is(r.toArray()),Si.none())}}function gDe(n,t,e){n instanceof Om?function(r,o,s){const a=r.value.clone(),l=k9(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof lc?function(r,o,s){if(!CI(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=k9(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(R9(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function fb(n,t,e,i){return n instanceof Om?function(o,s,a,l){if(!CI(o.precondition,s))return a;const c=o.value.clone(),u=M9(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof lc?function(o,s,a,l){if(!CI(o.precondition,s))return a;const c=M9(o.fieldTransforms,l,s),u=s.data;return u.setAll(R9(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,CI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function _De(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=C9(i.transform,r||null);null!=o&&(null===e&&(e=Qr.empty()),e.set(i.field,o))}return e||null}function A9(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Cm(i,r,(o,s)=>function pDe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof fh&&r instanceof fh||i instanceof ph&&r instanceof ph?Cm(i.elements,r.elements,ll):i instanceof Nm&&r instanceof Nm?ll(i.Ie,r.Ie):i instanceof Mm&&r instanceof Mm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Om extends TI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lc extends TI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function R9(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function k9(n,t,e){const i=new Map;ot(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,fDe(s,a,e[r]))}return i}function M9(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,hDe(o,s,t))}return i}class Pm extends TI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GN extends TI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&gDe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=v9();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=S9(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(at.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Cm(this.mutations,t.mutations,(e,i)=>A9(e,i))&&Cm(this.baseMutations,t.baseMutations,(e,i)=>A9(e,i))}}class KN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ot(t.mutations.length===i.length);let r=cDe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new KN(t,e,i,r)}}class ZN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vDe{constructor(t,e){this.count=t,this.unchangedNames=e}}var sr,gn;function N9(n){switch(n){default:return We();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function O9(n){if(void 0===n)return Yi("GRPC error has no .code"),te.UNKNOWN;switch(n){case sr.OK:return te.OK;case sr.CANCELLED:return te.CANCELLED;case sr.UNKNOWN:return te.UNKNOWN;case sr.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case sr.INTERNAL:return te.INTERNAL;case sr.UNAVAILABLE:return te.UNAVAILABLE;case sr.UNAUTHENTICATED:return te.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case sr.NOT_FOUND:return te.NOT_FOUND;case sr.ALREADY_EXISTS:return te.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return te.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case sr.ABORTED:return te.ABORTED;case sr.OUT_OF_RANGE:return te.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return te.UNIMPLEMENTED;case sr.DATA_LOSS:return te.DATA_LOSS;default:return We()}}(gn=sr||(sr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";function P9(){return new TextEncoder}const bDe=new bm([4294967295,4294967295],0);function F9(n){const t=P9().encode(n),e=new f1e;return e.update(t),new Uint8Array(e.digest())}function L9(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new bm([e,i],0),new bm([r,o],0)]}class YN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pb(`Invalid padding: ${e}`);if(i<0)throw new pb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new pb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new pb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=bm.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(bm.fromNumber(i)));return 1===r.compare(bDe)&&(r=new bm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=F9(t),[i,r]=L9(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new YN(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=F9(t),[i,r]=L9(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,gb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new mb(at.min(),r,new ci(Dt),rs(),Vt())}}class gb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new gb(i,e,Vt(),Vt(),Vt())}}class xI{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class V9{constructor(t,e){this.targetId=t,this.fe=e}}class B9{constructor(t,e,i=vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class U9{constructor(){this.ge=0,this.pe=H9(),this.ye=vr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Vt(),e=Vt(),i=Vt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:We()}}),new gb(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=H9()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class wDe{constructor(t){this.Le=t,this.ke=new Map,this.qe=rs(),this.Qe=j9(),this.Ke=new ci(Dt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:We()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(vI(o))if(0===i){const s=new ke(o.path);this.We(e,s,vi.newNoDocument(s,at.min()))}else ot(1===i);else{const s=this.Ze(e);if(s!==i){const a=this.Xe(t),l=a?this.et(a,t,s):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=oc(i).toUint8Array()}catch(l){if(l instanceof Gq)return ns("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new YN(s,r,o)}catch(l){return ns(l instanceof pb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&vI(a.target)){const l=new ke(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,vi.newNoDocument(l,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let i=Vt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new mb(t,e,this.Ke,this.qe,i);return this.qe=rs(),this.Qe=j9(),this.Ke=new ci(Dt),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new U9,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new $n(Dt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ie("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new U9),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function j9(){return new ci(ke.comparator)}function H9(){return new ci(ke.comparator)}const EDe={asc:"ASCENDING",desc:"DESCENDING"},CDe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TDe={and:"AND",or:"OR"};class IDe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function QN(n,t){return n.useProto3Json||eb(t)?t:{value:t}}function Fm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z9(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function xDe(n,t){return Fm(n,t.toTimestamp())}function Qi(n){return ot(!!n),at.fromTimestamp(function(e){const i=Du(e);return new Di(i.seconds,i.nanos)}(n))}function XN(n,t){return(i=n,new mn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function $9(n){const t=mn.fromString(n);return ot(J9(t)),t}function _b(n,t){return XN(n.databaseId,t.path)}function ul(n,t){const e=$9(t);if(e.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(G9(e))}function JN(n,t){return XN(n.databaseId,t)}function W9(n){const t=$9(n);return 4===t.length?mn.emptyPath():G9(t)}function yb(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G9(n){return ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function q9(n,t,e){return{name:_b(n,t),fields:e.value.mapValue.fields}}function K9(n,t,e){const i=ul(n,t.name),r=Qi(t.updateTime),o=t.createTime?Qi(t.createTime):at.min(),s=new Qr({mapValue:{fields:t.fields}}),a=vi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function vb(n,t){let e;if(t instanceof Om)e={update:q9(n,t.key,t.value)};else if(t instanceof Pm)e={delete:_b(n,t.key)};else if(t instanceof lc)e={update:q9(n,t.key,t.data),updateMask:ODe(t.fieldMask)};else{if(!(t instanceof GN))return We();e={verify:_b(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ph)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nm)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw We()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:xDe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),e;var o}function eO(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Si.updateTime(Qi(o.updateTime)):void 0!==o.exists?Si.exists(o.exists):Si.none():Si.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(ot("REQUEST_TIME"===a.setToServerValue),l=new Mm):"appendMissingElements"in a?l=new fh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new ph(a.removeAllFromArray.values||[]):"increment"in a?l=new Nm(s,a.increment):We();const c=yi.fromServerFormat(a.fieldPath);return new hb(c,l)}(n,r)):[];var o;if(t.update){const r=ul(n,t.update.name),o=new Qr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new is((t.updateMask.fieldPaths||[]).map(u=>yi.fromServerFormat(u)));return new lc(r,o,s,e,i)}return new Om(r,o,e,i)}if(t.delete){const r=ul(n,t.delete);return new Pm(r,e)}if(t.verify){const r=ul(n,t.verify);return new GN(r,e)}return We()}function Z9(n,t){return{documents:[JN(n,t.path)]}}function tO(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=JN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return X9(Vn.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Nu((f=c).field),direction:kDe(f.dir)};var f})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=QN(n,t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function Y9(n){let t=W9(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ot(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(f){const m=Q9(f);return m instanceof Vn&&UN(m)?m.getFilters():[m]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(m=>{return new sb(Lm((y=m).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;e.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,eb(m)?null:m}(e.limit));let l=null;var f;e.startAt&&(l=new Mu((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new Mu(f.values||[],!f.before)}(e.endAt)),d9(t,r,s,o,a,"F",l,c)}function Q9(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Lm(e.unaryFilter.field);return un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Lm(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lm(e.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Lm(e.unaryFilter.field);return un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):void 0!==n.fieldFilter?un.create(Lm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(i=>Q9(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return We()}}(e.compositeFilter.op))}(n):We();var e}function kDe(n){return EDe[n]}function MDe(n){return CDe[n]}function NDe(n){return TDe[n]}function Nu(n){return{fieldPath:n.canonicalString()}}function Lm(n){return yi.fromServerFormat(n.fieldPath)}function X9(n){return n instanceof un?function(e){if("=="===e.op){if(Zq(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NAN"}};if(Kq(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zq(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NAN"}};if(Kq(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(e.field),op:MDe(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const i=e.getFilters().map(r=>X9(r));return 1===i.length?i[0]:{compositeFilter:{op:NDe(e.op),filters:i}}}(n):We()}function ODe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function J9(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class cc{constructor(t,e,i,r,o=at.min(),s=at.min(),a=vr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new cc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class e7{constructor(t){this.ut=t}}function t7(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:DI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:_b(o=n.ut,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Fm(o,s.version.toTimestamp()),createTime:Fm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:mh(t.version)};else{if(!t.isUnknownDocument())return We();i.unknownDocument={path:e.path.toArray(),version:mh(t.version)}}var o,s;return i}function DI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function mh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gh(n){const t=new Di(n.seconds,n.nanoseconds);return at.fromTimestamp(t)}function _h(n,t){const e=(t.baseMutations||[]).map(o=>eO(n.ut,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>eO(n.ut,o)),r=Di.fromMillis(t.localWriteTimeMs);return new qN(t.batchId,r,e,i)}function bb(n){const t=gh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?gh(n.lastLimboFreeSnapshotVersion):at.min();let i;return i=void 0!==n.query.documents?(ot(1===(o=n.query).documents.length),Fo(Am(W9(o.documents[0])))):function(o){return Fo(Y9(o))}(n.query),new cc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,vr.fromBase64String(n.resumeToken));var o}function n7(n,t){const e=mh(t.snapshotVersion),i=mh(t.lastLimboFreeSnapshotVersion);let r;r=vI(t.target)?Z9(n.ut,t.target):tO(n.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hh(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nO(n){const t=Y9({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wI(t,t.limit,"L"):t}function iO(n,t){return new ZN(t.largestBatchId,eO(n.ut,t.overlayMutation))}function i7(n,t){const e=t.path.lastSegment();return[n,ho(t.path.popLast()),e]}function r7(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:mh(i.readTime),documentKey:ho(i.documentKey.path),largestBatchId:i.largestBatchId}}class FDe{getBundleMetadata(t,e){return o7(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:gh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return o7(t).put({bundleId:(r=e).id,createTime:mh(Qi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return s7(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:nO(o.bundledQuery),readTime:gh(o.readTime)};var o})}saveNamedQuery(t,e){return s7(t).put({name:(r=e).name,readTime:mh(Qi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function o7(n){return Lr(n,"bundles")}function s7(n){return Lr(n,"namedQueries")}class SI{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new SI(t,e.uid||"")}getOverlay(t,e){return wb(t).get(i7(this.userId,e)).next(i=>i?iO(this.serializer,i):null)}getOverlays(t,e){const i=cl();return Z.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new ZN(e,s);r.push(this.lt(t,a))}),Z.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(ho(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(wb(t).H("collectionPathOverlayIndex",a))}),Z.waitFor(o)}getOverlaysForCollection(t,e,i){const r=cl(),o=ho(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return wb(t).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=iO(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=cl();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return wb(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const f=iO(this.serializer,c);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}lt(t,e){return wb(t).put(function(r,o,s){const[a,l,c]=i7(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:vb(r.ut,s.mutation)}}(this.serializer,this.userId,e))}}function wb(n){return Lr(n,"documentOverlays")}class yh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Hi(t.integerValue));else if("doubleValue"in t){const i=Hi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),tb(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(oc(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?Yq(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):We()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),ke.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function LDe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function a7(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=LDe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}yh.St=new yh;class VDe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=a7(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=a7(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class BDe{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class UDe{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Eb{constructor(){this.Wt=new VDe,this.Gt=new BDe(this.Wt),this.zt=new UDe(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class vh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new vh(this.indexId,this.documentKey,this.arrayValue,i)}}function Ou(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=l7(n.arrayValue,t.arrayValue),0!==e?e:(e=l7(n.directionalValue,t.directionalValue),0!==e?e:ke.comparator(n.documentKey,t.documentKey)))}function l7(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class c7{constructor(t){this.Jt=new $n((e,i)=>yi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(ot(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=MN(t);if(void 0!==e&&!this.tn(e))return!1;const i=lh(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let t=new $n(yi.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new ch(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new ch(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new ch(i.field,"asc"===i.dir?0:1)));return new Tm(Tm.UNKNOWN_ID,this.collectionId,e,Im.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function u7(n){var t,e;if(ot(n instanceof un||n instanceof Vn),n instanceof un){if(n instanceof l9){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>un.create(n.field,"==",o)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>u7(r));return Vn.create(i,n.op)}function jDe(n){if(0===n.getFilters().length)return[];const t=sO(u7(n));return ot(d7(t)),rO(t)||oO(t)?[t]:t.getFilters()}function rO(n){return n instanceof un}function oO(n){return n instanceof Vn&&UN(n)}function d7(n){return rO(n)||oO(n)||function(e){if(e instanceof Vn&&BN(e)){for(const i of e.getFilters())if(!rO(i)&&!oO(i))return!1;return!0}return!1}(n)}function sO(n){if(ot(n instanceof un||n instanceof Vn),n instanceof un)return n;if(1===n.filters.length)return sO(n.filters[0]);const t=n.filters.map(i=>sO(i));let e=Vn.create(t,n.op);return e=AI(e),d7(e)?e:(ot(e instanceof Vn),ot(Sm(e)),ot(e.filters.length>1),e.filters.reduce((i,r)=>aO(i,r)))}function aO(n,t){let e;return ot(n instanceof un||n instanceof Vn),ot(t instanceof un||t instanceof Vn),e=n instanceof un?t instanceof un?Vn.create([n,t],"and"):h7(n,t):t instanceof un?h7(t,n):function(r,o){if(ot(r.filters.length>0&&o.filters.length>0),Sm(r)&&Sm(o))return o9(r,o.getFilters());const s=BN(r)?r:o,a=BN(r)?o:r,l=s.filters.map(c=>aO(c,a));return Vn.create(l,"or")}(n,t),AI(e)}function h7(n,t){if(Sm(t))return o9(t,n.getFilters());{const e=t.filters.map(i=>aO(n,i));return Vn.create(e,"or")}}function AI(n){if(ot(n instanceof un||n instanceof Vn),n instanceof un)return n;const t=n.getFilters();if(1===t.length)return AI(t[0]);if(i9(n))return n;const e=t.map(r=>AI(r)),i=[];return e.forEach(r=>{r instanceof un?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class HDe{constructor(){this.on=new lO}addToCollectionParentIndex(t,e){return this.on.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(Ts.min())}updateCollectionGroup(t,e,i){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class lO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $n(mn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $n(mn.comparator)).toArray()}}const RI=new Uint8Array(0);class zDe{constructor(t,e){this.user=t,this.databaseId=e,this._n=new lO,this.an=new ac(i=>hh(i),(i,r)=>ab(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const o={collectionId:i,parent:ho(r)};return f7(t).put(o)}return Z.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Rq(e),""],!1,!0);return f7(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(al(s.parent))}return i})}addFieldIndex(t,e){const i=Cb(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=Bm(t);return o.next(a=>{s.put(r7(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Cb(t),r=Bm(t),o=Vm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Cb(t),i=Vm(t),r=Bm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Z.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new c7(i).sn();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=Vm(t);let r=!0;const o=new Map;return Z.forEach(this.un(e),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Vt();const a=[];return Z.forEach(o,(l,c)=>{var L;Ie("IndexedDbIndexManager",`Using index ${L=l,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`} to execute ${hh(e)}`);const u=function(L,W){const ce=MN(W);if(void 0===ce)return null;for(const De of bI(L,ce.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(c,l),f=function(L,W){const ce=new Map;for(const De of lh(W))for(const Me of bI(L,De.fieldPath))switch(Me.op){case"==":case"in":ce.set(De.fieldPath.canonicalString(),Me.value);break;case"not-in":case"!=":return ce.set(De.fieldPath.canonicalString(),Me.value),Array.from(ce.values())}return null}(c,l),m=function(L,W){const ce=[];let De=!0;for(const Me of lh(W)){const it=0===Me.kind?c9(L,Me.fieldPath,L.startAt):u9(L,Me.fieldPath,L.startAt);ce.push(it.value),De&&(De=it.inclusive)}return new Mu(ce,De)}(c,l),_=function(L,W){const ce=[];let De=!0;for(const Me of lh(W)){const it=0===Me.kind?u9(L,Me.fieldPath,L.endAt):c9(L,Me.fieldPath,L.endAt);ce.push(it.value),De&&(De=it.inclusive)}return new Mu(ce,De)}(c,l),y=this.ln(l,c,m),b=this.ln(l,c,_),E=this.hn(l,c,f),N=this.Pn(l.indexId,u,y,m.inclusive,b,_.inclusive,E);return Z.forEach(N,A=>i.j(A,e.limit).next(L=>{L.forEach(W=>{const ce=ke.fromSegments(W.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return Z.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:jDe(Vn.create(t.filters,"and")).map(i=>HN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),u=[];for(let f=0;f<l;++f){const m=e?this.In(e[f/c]):RI,_=this.Tn(t,m,i[f%c],r),y=this.En(t,m,o[f%c],s),b=a.map(E=>this.Tn(t,m,E,!0));u.push(...this.createRange(_,y,b))}return u}Tn(t,e,i,r){const o=new vh(t,ke.empty(),e,i);return r?o:o.Ht()}En(t,e,i,r){const o=new vh(t,ke.empty(),e,i);return r?o.Ht():o}cn(t,e){const i=new c7(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.un(e);return Z.forEach(r,o=>this.cn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new $n(yi.comparator),u=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?u=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Eb;for(const r of lh(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);yh.St.ht(o,s)}return i.Ut()}In(t){const e=new Eb;return yh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Eb;return yh.St.ht(dh(this.databaseId,e),i.jt(function(o){const s=lh(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Eb);let o=0;for(const s of lh(t)){const a=i[o++];for(const l of r)if(this.Rn(e,s.fieldPath)&&rb(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);yh.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Eb;l.seed(a.Ut()),yh.St.ht(s,l.jt(e.kind)),o.push(l)}return o}Rn(t,e){return!!t.filters.find(i=>i instanceof un&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Cb(t),r=Bm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const s=[];return Z.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,f){const m=f?new Im(f.sequenceNumber,new Ts(gh(f.readTime),new ke(al(f.documentKey)),f.largestBatchId)):Im.empty(),_=u.fields.map(([y,b])=>new ch(yi.fromServerFormat(y),b));return new Tm(u.indexId,u.collectionGroup,_,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Dt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Cb(t),o=Bm(t);return this.fn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>Z.forEach(a,l=>o.put(r7(l.indexId,this.user,s,i)))))}updateIndexEntries(t,e){const i=new Map;return Z.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?Z.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),Z.forEach(a,l=>this.gn(t,r,l).next(c=>{const u=this.pn(o,l);return c.isEqual(u)?Z.resolve():this.yn(t,o,l,c,u)}))))})}wn(t,e,i,r){return Vm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Vm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Vm(t);let o=new $n(Ou);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(s,a)=>{o=o.add(new vh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,e){let i=new $n(Ou);const r=this.dn(e,t);if(null==r)return i;const o=MN(e);if(null!=o){const s=t.data.field(o.fieldPath);if(rb(s))for(const a of s.arrayValue.values||[])i=i.add(new vh(e.indexId,t.key,this.In(a),r))}else i=i.add(new vh(e.indexId,t.key,RI,r));return i}yn(t,e,i,r,o){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,u,f,m){const _=l.getIterator(),y=c.getIterator();let b=xm(_),E=xm(y);for(;b||E;){let N=!1,A=!1;if(b&&E){const L=u(b,E);L<0?A=!0:L>0&&(N=!0)}else null!=b?A=!0:N=!0;N?(f(E),E=xm(y)):A?(m(b),b=xm(_)):(b=xm(_),E=xm(y))}}(r,o,Ou,a=>{s.push(this.wn(t,e,i,a))},a=>{s.push(this.Sn(t,e,i,a))}),Z.waitFor(s)}fn(t){let e=1;return Bm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Ou(s,a)).filter((s,a,l)=>!a||0!==Ou(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=Ou(s,t),l=Ou(s,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,RI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,RI,[]]))}return o}bn(t,e){return Ou(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(p7)}getMinOffset(t,e){return Z.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||We())).next(p7)}}function f7(n){return Lr(n,"collectionParents")}function Vm(n){return Lr(n,"indexEntries")}function Cb(n){return Lr(n,"indexConfiguration")}function Bm(n){return Lr(n,"indexState")}function p7(n){ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;NN(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ts(t.readTime,t.documentKey,e)}const m7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new fo(t,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g7(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(l.next(()=>{ot(1===a)}));const c=[];for(const u of e.mutations){const f=Bq(t,u.key.path,e.batchId);o.push(r.delete(f)),c.push(u.key)}return Z.waitFor(o).next(()=>c)}function kI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw We();t=n.noDocument}return JSON.stringify(t).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class MI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){ot(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new MI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pu(t).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Um(t),s=Pu(t);return s.add({}).next(a=>{ot("number"==typeof a);const l=new qN(a,e,i,r),c=function(_,y,b){const E=b.baseMutations.map(A=>vb(_.ut,A)),N=b.mutations.map(A=>vb(_.ut,A));return{userId:y,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:N}}(this.serializer,this.userId,l),u=[];let f=new $n((m,_)=>Dt(m.canonicalString(),_.canonicalString()));for(const m of r){const _=Bq(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(c)),u.push(o.put(_,k1e))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),Z.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return Pu(t).get(e).next(i=>i?(ot(i.userId===this.userId),_h(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Z.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Pu(t).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ot(a.batchId>=i),o=_h(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Pu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pu(t).W("userMutationsIndex",e).next(i=>i.map(r=>_h(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Um(t).Y({range:r},(s,a,l)=>{const[c,u,f]=s,m=al(u);if(c===this.userId&&e.path.isEqual(m))return Pu(t).get(f).next(_=>{if(!_)throw We();ot(_.userId===this.userId),o.push(_h(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);const r=[];return e.forEach(o=>{const s=hI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Um(t).Y({range:a},(c,u,f)=>{const[m,_,y]=c,b=al(_);m===this.userId&&o.path.isEqual(b)?i=i.add(y):f.done()});r.push(l)}),Z.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=hI(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new $n(Dt);return Um(t).Y({range:s},(l,c,u)=>{const[f,m,_]=l,y=al(m);f===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(_)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Pu(t).get(o).next(s=>{if(null===s)throw We();ot(s.userId===this.userId),i.push(_h(this.serializer,s))}))}),Z.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return g7(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Z.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Z.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Um(t).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=al(o[1]);r.push(l)}else a.done()}).next(()=>{ot(0===r.length)})})}containsKey(t,e){return _7(t,this.userId,e)}Mn(t){return y7(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _7(n,t,e){const i=hI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Um(n).Y({range:o,J:!0},(a,l,c)=>{const[u,f,m]=a;u===t&&f===r&&(s=!0),c.done()}).next(()=>s)}function Pu(n){return Lr(n,"mutations")}function Um(n){return Lr(n,"documentMutations")}function y7(n){return Lr(n,"mutationQueues")}class bh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new bh(0)}static Nn(){return new bh(-1)}}class $De{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new bh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>at.fromTimestamp(new Di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>jm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(ot(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return jm(t).Y((s,a)=>{const l=bb(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>Z.waitFor(o)).next(()=>r)}forEachTarget(t,e){return jm(t).Y((i,r)=>{const o=bb(r);e(o)})}Bn(t){return v7(t).get("targetGlobalKey").next(e=>(ot(null!==e),e))}Ln(t,e){return v7(t).put("targetGlobalKey",e)}kn(t,e){return jm(t).put(n7(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=hh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return jm(t).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=bb(a);ab(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Fu(t);return e.forEach(s=>{const a=ho(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),Z.waitFor(r)}removeMatchingKeys(t,e,i){const r=Fu(t);return Z.forEach(e,o=>{const s=ho(o.path);return Z.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Fu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fu(t);let o=Vt();return r.Y({range:i,J:!0},(s,a,l)=>{const c=al(s[1]),u=new ke(c);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=ho(e.path),r=IDBKeyRange.bound([i],[Rq(i)],!1,!0);let o=0;return Fu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(t,e){return jm(t).get(e).next(i=>i?bb(i):null)}}function jm(n){return Lr(n,"targets")}function v7(n){return Lr(n,"targetGlobal")}function Fu(n){return Lr(n,"targetDocuments")}function b7([n,t],[e,i]){const r=Dt(n,e);return 0===r?Dt(t,i):r}class WDe{constructor(t){this.Qn=t,this.buffer=new $n(b7),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();b7(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class w7{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ue.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Iu(i)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tu(i)}yield e.Gn(3e5)}))}}class GDe{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Z.resolve(Is._e);const i=new WDe(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(m7)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m7):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Em()<=ys.in.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class qDe{constructor(t,e){this.db=t,this.garbageCollector=function E7(n,t){return new GDe(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return NI(t,i)}removeReference(t,e,i){return NI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return NI(t,e)}Xn(t,e){return function(r,o){let s=!1;return y7(r).Z(a=>_7(r,a,o).next(l=>(l&&(s=!0),Z.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(t,(s,a)=>{if(a<=e){const l=this.Xn(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,at.min()),Fu(t).delete([0,ho(s.path)])))});r.push(l)}}).next(()=>Z.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return NI(t,e)}Zn(t,e){const i=Fu(t);let r,o=Is._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==Is._e&&e(new ke(al(r)),o),o=c,r=l):o=Is._e}).next(()=>{o!==Is._e&&e(new ke(al(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function NI(n,t){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ho(t.path),sequenceNumber:r}));var r}class C7{constructor(){this.changes=new ac(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class KDe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return wh(t).put(i)}removeEntry(t,e,i){return wh(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],DI(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=vi.newInvalidDocument(e);return wh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(e))},(r,o)=>{i=this.tr(e,o)}).next(()=>i)}nr(t,e){let i={size:0,document:vi.newInvalidDocument(e)};return wh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(e))},(r,o)=>{i={document:this.tr(e,o),size:kI(o)}}).next(()=>i)}getEntries(t,e){let i=rs();return this.rr(t,e,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(t,e){let i=rs(),r=new ci(ke.comparator);return this.rr(t,e,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,kI(s))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Z.resolve();let r=new $n(D7);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Tb(r.first()),Tb(r.last())),s=r.getIterator();let a=s.getNext();return wh(t).Y({index:"documentKeyIndex",range:o},(l,c,u)=>{const f=ke.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&D7(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.U(Tb(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),DI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wh(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let u=rs();for(const f of c){const m=this.tr(ke.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(cb(e,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=rs();const s=x7(e,i),a=x7(e,Ts.max());return wh(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const f=this.tr(ke.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new ZDe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return I7(t).get("remoteDocumentGlobalKey").next(e=>(ot(!!e),e))}er(t,e){return I7(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function PDe(n,t){let e;if(t.document)e=K9(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ke.fromSegments(t.noDocument.path),r=gh(t.noDocument.readTime);e=vi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return We();{const i=ke.fromSegments(t.unknownDocument.path),r=gh(t.unknownDocument.version);e=vi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Di(r[0],r[1]);return at.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(at.min()))return i}return vi.newInvalidDocument(t)}}function T7(n){return new KDe(n)}class ZDe extends C7{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new ac(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new $n((o,s)=>Dt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(e.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=t7(this._r.serializer,s);r=r.add(o.path.popLast());const c=kI(l);i+=c-a.size,e.push(this._r.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=t7(this._r.serializer,s.convertToNoDocument(at.min()));e.push(this._r.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),e.push(this._r.updateMetadata(t,i)),Z.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function I7(n){return Lr(n,"remoteDocumentGlobal")}function wh(n){return Lr(n,"remoteDocumentsV14")}function Tb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function x7(n,t){const e=t.documentKey.path.toArray();return[n,DI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function D7(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Dt(e[o],i[o]),r)return r;return r=Dt(e.length,i.length),r||(r=Dt(e[e.length-2],i[i.length-2]),r||Dt(e[e.length-1],i[i.length-1]))}class YDe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class S7{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&fb(i.mutation,r,is.empty(),Di.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=cl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=ub();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=cl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=rs();const s=db(),a=db();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof lc)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),fb(u.mutation,c,u.mutation.getFieldMask(),Di.now())):s.set(c.key,is.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new YDe(u,null!==(f=s.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=db();let r=new ci((s,a)=>s-a),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||is.empty();u=a.applyToLocalView(c,u),i.set(l,u);const f=(r.get(a.batchId)||Vt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=v9();u.forEach(m=>{if(!o.has(m)){const _=S9(e.get(m),i.get(m));null!==_&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return Z.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ke.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Z.resolve(cl());let a=-1,l=o;return s.next(c=>Z.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(t,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Vt())).next(u=>({batchId:a,changes:y9(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next(i=>{let r=ub();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=ub();return this.indexManager.getCollectionParents(t,o).next(a=>Z.forEach(a,l=>{const c=(f=e,m=l.child(o),new sc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,vi.newInvalidDocument(u)))});let a=ub();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&fb(u.mutation,c,is.empty(),Di.now()),cb(e,c)&&(a=a.insert(l,c))}),a})}}class QDe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Z.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Qi(r.createTime)}),Z.resolve();var r}getNamedQuery(t,e){return Z.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:nO(r.bundledQuery),readTime:Qi(r.readTime)}),Z.resolve();var r}}class XDe{constructor(){this.overlays=new ci(ke.comparator),this.lr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=cl();return Z.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.lt(t,e,o)}),Z.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),Z.resolve()}getOverlaysForCollection(t,e,i){const r=cl(),o=e.length+1,s=new ke(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Z.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ci((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=cl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=cl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return Z.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ZN(e,i));let o=this.lr.get(e);void 0===o&&(o=Vt(),this.lr.set(e,o)),this.lr.set(e,o.add(i.key))}}class cO{constructor(){this.hr=new $n(Vr.Pr),this.Ir=new $n(Vr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Vr(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Vr(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new ke(new mn([])),i=new Vr(e,t),r=new Vr(e,t+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new ke(new mn([])),i=new Vr(e,t),r=new Vr(e,t+1);let o=Vt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Vr(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Vr{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return ke.comparator(t.key,e.key)||Dt(t.gr,e.gr)}static Tr(t,e){return Dt(t.gr,e.gr)||ke.comparator(t.key,e.key)}}class JDe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new $n(Vr.Pr)}checkEmpty(t){return Z.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.pr;this.pr++;const s=new qN(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Vr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(t,e){return Z.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),o=r<0?0:r;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vr(e,0),r=new Vr(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);return e.forEach(r=>{const o=new Vr(r,0),s=new Vr(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),Z.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ke.isDocumentKey(o)||(o=o.child(""));const s=new Vr(new ke(o),0);let a=new $n(Dt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),Z.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ot(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Z.forEach(e.mutations,r=>{const o=new Vr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Vr(e,0),r=this.yr.firstAfterOrEqual(i);return Z.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Z.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class eSe{constructor(t){this.Cr=t,this.docs=new ci(ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Z.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(e))}getEntries(t,e){let i=rs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():vi.newInvalidDocument(r))}),Z.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=rs();const s=e.path,a=new ke(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||NN(Mq(u),i)<=0||(r.has(u.key)||cb(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(t,e,i,r){We()}vr(t,e){return Z.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new tSe(this)}getSize(t){return Z.resolve(this.size)}}class tSe extends C7{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Z.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class nSe{constructor(t){this.persistence=t,this.Fr=new ac(e=>hh(e),ab),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cO,this.targetCount=0,this.Nr=bh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Z.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new bh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.kn(e),Z.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Z.waitFor(o).next(()=>r)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Z.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Z.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Z.resolve(i)}containsKey(t,e){return Z.resolve(this.Or.containsKey(e))}}class uO{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Is(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new nSe(this),this.indexManager=new HDe,this.remoteDocumentCache=new eSe(i=>this.referenceDelegate.Qr(i)),this.serializer=new e7(e),this.Kr=new QDe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new XDe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new JDe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ie("MemoryPersistence","Starting transaction:",t);const r=new iSe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,e){return Z.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class iSe extends Oq{constructor(t){super(),this.currentSequenceNumber=t}}class OI{constructor(t){this.persistence=t,this.Gr=new cO,this.zr=null}static jr(t){return new OI(t)}get Hr(){if(this.zr)return this.zr;throw We()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Z.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Hr,i=>{const r=ke.fromPath(i);return this.Jr(t,r).next(o=>{o||e.removeEntry(r,at.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Z.or([()=>Z.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class rSe{constructor(t){this.serializer=t}N(t,e,i,r){const o=new dI("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vq,{unique:!0}),l.createObjectStore("documentMutations"),A7(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=Z.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),A7(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:at.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vq,{unique:!0});const f=c.store("mutations"),m=u.map(_=>f.put(_));return Z.waitFor(m)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:z1e});c.createIndex("collectionPathOverlayIndex",$1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",W1e,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:M1e});c.createIndex("documentKeyIndex",N1e),c.createIndex("collectionGroupIndex",O1e)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:B1e}).createIndex("sequenceNumberIndex",U1e,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:j1e}).createIndex("documentKeyIndex",H1e,{unique:!1})}(t))),s}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=kI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Z.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>Z.forEach(a,l=>{ot(l.userId===o.userId);const c=_h(this.serializer,l);return g7(t,o.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new mn(s),c=[0,ho(l)];o.push(e.get(c).next(u=>u?Z.resolve():e.put({targetId:0,path:ho(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Z.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:V1e});const i=e.store("collectionParents"),r=new lO,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:ho(l)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new mn(s);return o(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const u=al(a);return o(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const o=bb(r),s=n7(this.serializer,o);return e.put(s)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(f=s,f.document?new ke(mn.fromString(f.document.name).popFirst(5)):f.noDocument?ke.fromSegments(f.noDocument.path):f.unknownDocument?ke.fromSegments(f.unknownDocument.path):We()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>Z.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=T7(this.serializer),o=new uO(OI.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Vt();_h(this.serializer,l).keys().forEach(f=>u=u.add(f)),a.set(l.userId,u)}),Z.forEach(a,(l,c)=>{const u=new Fr(c),f=SI.ct(this.serializer,u),m=o.getIndexManager(u),_=MI.ct(u,this.serializer,m,o.referenceDelegate);return new S7(r,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new FN(e,Is._e),l).next()})})}}function A7(n){n.createObjectStore("targetDocuments",{keyPath:F1e}).createIndex("documentTargetsIndex",L1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P1e,{unique:!0}),n.createObjectStore("targetGlobal")}const dO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hO{constructor(t,e,i,r,o,s,a,l,c,u,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!hO.D())throw new _e(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qDe(this,r),this.Ii=e+"main",this.serializer=new e7(l),this.Ti=new Ca(this.Ii,this.ai,new rSe(this.serializer)),this.qr=new $De(this.referenceDelegate,this.serializer),this.remoteDocumentCache=T7(this.serializer),this.Kr=new FDe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,dO);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new Is(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,ue.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,ue.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,ue.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>FI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(Iu(t))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Ib(t).get("owner").next(e=>Z.resolve(this.wi(e)))}Si(t){return FI(t).delete(this.clientId)}bi(){var t=this;return(0,ue.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Lr(i,"clientMetadata");return r.W().next(o=>{const s=t.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return Z.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Z.resolve(!0):Ib(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,dO);return!1}}return!(!this.networkEnabled||!this.inForeground)||FI(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ie("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ue.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new FN(e,Is._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>FI(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return MI.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new zDe(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return SI.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ie("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ai)?q1e:14===l?Hq:13===l?jq:12===l?G1e:11===l?Uq:void We();var l;let s;return this.Ti.runTransaction(t,r,o,a=>(s=new FN(a,this.Lr?this.Lr.next():Is._e),"readwrite-primary"===e?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _e(te.FAILED_PRECONDITION,Nq);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(t){return Ib(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _e(te.FAILED_PRECONDITION,dO)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ib(t).put("owner",e)}static D(){return Ca.D()}pi(t){const e=Ib(t);return e.get("owner").next(i=>this.wi(i)?(Ie("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Z.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,D.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return Ie("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Yi("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ib(n){return Lr(n,"owner")}function FI(n){return Lr(n,"clientMetadata")}function fO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pO(t,e.fromCache,i,r)}}class oSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class R7{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.zi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new oSe;return this.Hi(t,e,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,e,s,a.size)})}).next(()=>o.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Em()<=ys.in.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",km(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Z.resolve()):(Em()<=ys.in.DEBUG&&Ie("QueryEngine","Query:",km(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Em()<=ys.in.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",km(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fo(e))):Z.resolve())}zi(t,e){if(h9(e))return Z.resolve(null);let i=Fo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=wI(e,null,"F"),i=Fo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Vt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,s,l.readTime)?this.zi(t,wI(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return h9(e)||r.isEqual(at.min())?Z.resolve(null):this.Gi.getDocuments(t,i).next(o=>{const s=this.Yi(e,o);return this.Zi(e,s,i,r)?Z.resolve(null):(Em()<=ys.in.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),km(e)),this.Xi(t,s,e,kq(r,-1)).next(a=>a))})}Yi(t,e){let i=new $n(g9(t));return e.forEach((r,o)=>{cb(t,o)&&(i=i.add(o))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,e,i){return Em()<=ys.in.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",km(e)),this.Gi.getDocumentsMatchingQuery(t,e,Ts.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class sSe{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ci(Dt),this.ns=new ac(o=>hh(o),ab),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S7(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function k7(n,t,e,i){return new sSe(n,t,e,i)}function M7(n,t){return mO.apply(this,arguments)}function mO(){return mO=(0,ue.Z)(function*(n,t){const e=Re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Vt();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),mO.apply(this,arguments)}function N7(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function O7(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=rs();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(at.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function cSe(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Hm(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(o=>o?(r=o,Z.resolve(r)):e.qr.allocateTargetId(i).next(s=>(r=new cc(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function zm(n,t,e){return gO.apply(this,arguments)}function gO(){return gO=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=i.ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Iu(s))throw s;Ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),gO.apply(this,arguments)}function LI(n,t,e){const i=Re(n);let r=at.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Re(l),m=f.ns.get(u);return void 0!==m?Z.resolve(f.ts.get(m)):f.qr.getTargetData(c,u)}(i,s,Fo(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,t,e?r:at.min(),e?o:Vt())).next(a=>(L7(i,m9(t),a),{documents:a,ls:o})))}function P7(n,t){const e=Re(n),i=Re(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i._t(o,t).next(s=>s?s.target:null))}function F7(n,t){const e=Re(n),i=e.rs.get(t)||at.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,kq(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(L7(e,t,r),r))}function L7(n,t,e){let i=n.rs.get(t)||at.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(t,i)}function _O(){return _O=(0,ue.Z)(function*(n,t,e,i){const r=Re(n);let o=Vt(),s=rs();for(const c of e){const u=t.hs(c.metadata.name);c.document&&(o=o.add(u));const f=t.Ps(c);f.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(u,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield Hm(r,(u=i,Fo(Am(mn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>O7(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}),_O.apply(this,arguments)}function dSe(n,t){return yO.apply(this,arguments)}function yO(){return yO=(0,ue.Z)(function*(n,t,e=Vt()){const i=yield Hm(n,Fo(nO(t.bundledQuery))),r=Re(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Qi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,t);const a=i.withResumeToken(vr.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,t))})}),yO.apply(this,arguments)}function V7(n,t){return`firestore_clients_${n}_${t}`}function B7(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vO(n,t){return`firestore_targets_${n}_${t}`}class VI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new _e(r.error.code,r.error.message))),s?new VI(t,e,r.state,o):(Yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new _e(i.error.code,i.error.message))),o?new xb(t,i.state,r):(Yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class BI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=WN();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=Fq(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new BI(t,o):(Yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bO{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bO(e.clientId,e.onlineState):(Yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wO{constructor(){this.activeTargetIds=WN()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EO{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ci(Dt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=V7(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new wO),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ue.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const o=t.getItem(V7(t.persistenceKey,r));if(o){const s=BI.Ts(r,o);s&&(t.gs=t.gs.insert(s.clientId,s))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vO(this.persistenceKey,t));if(i){const r=xb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vO(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ie("SharedClientState","READ",t,e),e}setItem(t,e){Ie("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ie("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ie("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ue.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(s){let a=Is._e;if(null!=s)try{const l=JSON.parse(s);ot("number"==typeof l),a=l}catch(l){Yi("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Is._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Js(o)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new VI(this.currentUser,t,e,i),o=B7(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Bs(t){const e=B7(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=vO(this.persistenceKey,t),o=new xb(t,e,i);this.setItem(r,o.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return BI.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return VI.Ts(new Fr(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return xb.Ts(r,e)}Ms(t){return bO.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,ue.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=WN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class U7{constructor(){this.eo=new wO,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new wO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hSe{ro(t){}shutdown(){}}class j7{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let UI=null;function CO(){return null===UI?UI=268435456+Math.round(2147483648*Math.random()):UI++,"0x"+UI.toString(16)}const fSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pSe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const po="WebChannelConnection";class mSe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(e,i,r,o,s){const a=CO(),l=this.So(e,i);Ie("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(e,l,c,r).then(u=>(Ie("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw ns("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,o,s,a){return this.wo(e,i,r,o,s)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}So(e,i){return`${this.mo}/v1/${i}:${fSe[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const o=CO();return new Promise((s,a)=>{const l=new h1e;l.setWithCredentials(!0),l.listenOnce(c1e.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case RN.NO_ERROR:const u=l.getResponseJson();Ie(po,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case RN.TIMEOUT:Ie(po,`RPC '${t}' ${o} timed out`),a(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case RN.HTTP_ERROR:const f=l.getStatus();if(Ie(po,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const y=function(E){const N=E.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN}(_.status);a(new _e(y,_.message))}else a(new _e(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new _e(te.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ie(po,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);Ie(po,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=CO(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=a1e(),a=l1e(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new d1e({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=o.join("");Ie(po,`Creating RPC '${t}' stream ${r}: ${u}`,l);const f=s.createWebChannel(u,l);let m=!1,_=!1;const y=new pSe({co:E=>{_?Ie(po,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(m||(Ie(po,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),Ie(po,`RPC '${t}' stream ${r} sending:`,E),f.send(E))},lo:()=>f.close()}),b=(E,N,A)=>{E.listen(N,L=>{try{A(L)}catch(W){setTimeout(()=>{throw W},0)}})};return b(f,uI.EventType.OPEN,()=>{_||Ie(po,`RPC '${t}' stream ${r} transport opened.`)}),b(f,uI.EventType.CLOSE,()=>{_||(_=!0,Ie(po,`RPC '${t}' stream ${r} transport closed`),y.Ro())}),b(f,uI.EventType.ERROR,E=>{_||(_=!0,ns(po,`RPC '${t}' stream ${r} transport errored:`,E),y.Ro(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,uI.EventType.MESSAGE,E=>{var N;if(!_){const A=E.data[0];ot(!!A);const W=A.error||(null===(N=A[0])||void 0===N?void 0:N.error);if(W){Ie(po,`RPC '${t}' stream ${r} received error:`,W);const ce=W.status;let De=function(rn){const _n=sr[rn];if(void 0!==_n)return O9(_n)}(ce),Me=W.message;void 0===De&&(De=te.INTERNAL,Me="Unknown error status: "+ce+" with message "+W.message),_=!0,y.Ro(new _e(De,Me)),f.close()}else Ie(po,`RPC '${t}' stream ${r} received:`,A),y.Vo(A)}}),b(a,u1e.STAT_EVENT,E=>{E.stat===Iq.PROXY?Ie(po,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===Iq.NOPROXY&&Ie(po,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function H7(){return typeof window<"u"?window:null}function jI(){return typeof document<"u"?document:null}function Db(n){return new IDe(n,!0)}class TO{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&Ie("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class z7{constructor(t,e,i,r,o,s,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new TO(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,ue.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,ue.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,ue.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===te.RESOURCE_EXHAUSTED?(Yi(e.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new _e(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,ue.Z)(function*(){t.state=0,t.start()}))}o_(t){return Ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gSe extends z7{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function SDe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:We(),r=t.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(ot(void 0===u||"string"==typeof u),vr.fromBase64String(u||"")):(ot(void 0===u||u instanceof Uint8Array),vr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const u=void 0===c.code?te.UNKNOWN:O9(c.code);return new _e(u,c.message||"")}(s);e=new B9(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=ul(n,i.document.name),o=Qi(i.document.updateTime),s=i.document.createTime?Qi(i.document.createTime):at.min(),a=new Qr({mapValue:{fields:i.document.fields}}),l=vi.newFoundDocument(r,o,s,a);e=new xI(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=ul(n,i.document),o=i.readTime?Qi(i.readTime):at.min(),s=vi.newNoDocument(r,o);e=new xI([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=ul(n,i.document);e=new xI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return We();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new vDe(r,o);e=new V9(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return at.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?at.min():s.readTime?Qi(s.readTime):at.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=yb(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=vI(l)?{documents:Z9(o,l)}:{query:tO(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=z9(o,s.resumeToken);const c=QN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(at.min())>0){a.readTime=Fm(o,s.snapshotVersion.toTimestamp());const c=QN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function RDe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=yb(this.serializer),e.removeTarget=t,this.e_(e)}}class _Se extends z7{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function ADe(n,t){return n&&n.length>0?(ot(void 0!==t),n.map(e=>function(r,o){let s=Qi(r.updateTime?r.updateTime:o);return s.isEqual(at.min())&&(s=Qi(o)),new mDe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.I_(i,e)}return ot(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=yb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vb(this.serializer,i))};this.e_(e)}}class ySe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new _e(te.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,e,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(te.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class bSe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yi(e),this.f_=!1):Ie("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class wSe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,ue.Z)(function*(){var l;Lu(s)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ue.Z)(function*(u){const f=Re(u);f.C_.add(4),yield $m(f),f.M_.set("Unknown"),f.C_.delete(4),yield Sb(f)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new bSe(i,r)}}function Sb(n){return xO.apply(this,arguments)}function xO(){return xO=(0,ue.Z)(function*(n){if(Lu(n))for(const t of n.v_)yield t(!0)}),xO.apply(this,arguments)}function $m(n){return DO.apply(this,arguments)}function DO(){return DO=(0,ue.Z)(function*(n){for(const t of n.v_)yield t(!1)}),DO.apply(this,arguments)}function HI(n,t){const e=Re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),RO(e)?AO(e):Gm(e).Ho()&&SO(e,t))}function Ab(n,t){const e=Re(n),i=Gm(e);e.D_.delete(t),i.Ho()&&$7(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Lu(e)&&e.M_.set("Unknown"))}function SO(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Gm(n).u_(t)}function $7(n,t){n.x_.Oe(t),Gm(n).c_(t)}function AO(n){n.x_=new wDe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Gm(n).start(),n.M_.g_()}function RO(n){return Lu(n)&&!Gm(n).jo()&&n.D_.size>0}function Lu(n){return 0===Re(n).C_.size}function W7(n){n.x_=void 0}function ESe(n){return kO.apply(this,arguments)}function kO(){return kO=(0,ue.Z)(function*(n){n.D_.forEach((t,e)=>{SO(n,t)})}),kO.apply(this,arguments)}function CSe(n,t){return MO.apply(this,arguments)}function MO(){return MO=(0,ue.Z)(function*(n,t){W7(n),RO(n)?(n.M_.w_(t),AO(n)):n.M_.set("Unknown")}),MO.apply(this,arguments)}function TSe(n,t,e){return NO.apply(this,arguments)}function NO(){return NO=(0,ue.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof B9&&2===t.state&&t.cause)try{yield(i=(0,ue.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zI(n,i)}else if(t instanceof xI?n.x_.$e(t):t instanceof V9?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(at.min()))try{const i=yield N7(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(vr.EMPTY_BYTE_STRING,u.snapshotVersion)),$7(o,l);const f=new cc(u.target,l,c,u.sequenceNumber);SO(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ie("RemoteStore","Failed to raise snapshot:",i),yield zI(n,i)}var i}),NO.apply(this,arguments)}function zI(n,t,e){return OO.apply(this,arguments)}function OO(){return OO=(0,ue.Z)(function*(n,t,e){if(!Iu(t))throw t;n.C_.add(1),yield $m(n),n.M_.set("Offline"),e||(e=()=>N7(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Sb(n)}))}),OO.apply(this,arguments)}function G7(n,t){return t().catch(e=>zI(n,e,t))}function Wm(n){return PO.apply(this,arguments)}function PO(){return PO=(0,ue.Z)(function*(n){const t=Re(n),e=Vu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;ISe(t);)try{const r=yield cSe(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,xSe(t,r)}catch(r){yield zI(t,r)}q7(t)&&K7(t)}),PO.apply(this,arguments)}function ISe(n){return Lu(n)&&n.b_.length<10}function xSe(n,t){n.b_.push(t);const e=Vu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function q7(n){return Lu(n)&&!Vu(n).jo()&&n.b_.length>0}function K7(n){Vu(n).start()}function DSe(n){return FO.apply(this,arguments)}function FO(){return FO=(0,ue.Z)(function*(n){Vu(n).E_()}),FO.apply(this,arguments)}function SSe(n){return LO.apply(this,arguments)}function LO(){return LO=(0,ue.Z)(function*(n){const t=Vu(n);for(const e of n.b_)t.P_(e.mutations)}),LO.apply(this,arguments)}function ASe(n,t,e){return VO.apply(this,arguments)}function VO(){return VO=(0,ue.Z)(function*(n,t,e){const i=n.b_.shift(),r=KN.from(i,t,e);yield G7(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wm(n)}),VO.apply(this,arguments)}function RSe(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,ue.Z)(function*(n,t){var e;t&&Vu(n).h_&&(yield(e=(0,ue.Z)(function*(r,o){if(N9(a=o.code)&&a!==te.ABORTED){const s=r.b_.shift();Vu(r).Yo(),yield G7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Wm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),q7(n)&&K7(n)}),BO.apply(this,arguments)}function Z7(n,t){return UO.apply(this,arguments)}function UO(){return UO=(0,ue.Z)(function*(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const i=Lu(e);e.C_.add(3),yield $m(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Sb(e)}),UO.apply(this,arguments)}function jO(n,t){return HO.apply(this,arguments)}function HO(){return HO=(0,ue.Z)(function*(n,t){const e=Re(n);t?(e.C_.delete(2),yield Sb(e)):t||(e.C_.add(2),yield $m(e),e.M_.set("Unknown"))}),HO.apply(this,arguments)}function Gm(n){return n.O_||(n.O_=function(e,i,r){const o=Re(e);return o.A_(),new gSe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:ESe.bind(null,n),Io:CSe.bind(null,n),a_:TSe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.O_.Yo(),RO(n)?AO(n):n.M_.set("Unknown")):(yield n.O_.stop(),W7(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Vu(n){return n.N_||(n.N_=function(e,i,r){const o=Re(e);return o.A_(),new _Se(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:DSe.bind(null,n),Io:RSe.bind(null,n),T_:SSe.bind(null,n),I_:ASe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.N_.Yo(),yield Wm(n)):(yield n.N_.stop(),n.b_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class zO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new zO(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(n,t){if(Yi("AsyncQueue",`${t}: ${n}`),Iu(n))return new _e(te.UNAVAILABLE,`${t}: ${n}`);throw n}class Km{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ke.comparator(e.key,i.key):(e,i)=>ke.comparator(e.key,i.key),this.keyedMap=ub(),this.sortedSet=new ci(this.comparator)}static emptySet(t){return new Km(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Km)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Km;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Y7{constructor(){this.B_=new ci(ke.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):We():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Zm{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Zm(t,e,Km.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class kSe{constructor(){this.k_=void 0,this.listeners=[]}}class MSe{constructor(){this.queries=new ac(t=>p9(t),lb),this.onlineState="Unknown",this.q_=new Set}}function $O(n,t){return WO.apply(this,arguments)}function WO(){return WO=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new kSe),r)try{o.k_=yield e.onListen(i)}catch(s){const a=qm(s,`Initialization of query '${km(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,o),o.listeners.push(t),t.Q_(e.onlineState),o.k_&&t.K_(o.k_)&&KO(e)}),WO.apply(this,arguments)}function GO(n,t){return qO.apply(this,arguments)}function qO(){return qO=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),qO.apply(this,arguments)}function NSe(n,t){const e=Re(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&KO(e)}function OSe(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function KO(n){n.q_.forEach(t=>{t.next()})}class ZO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Zm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Zm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class PSe{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class Q7{constructor(t){this.serializer=t}hs(t){return ul(this.serializer,t)}Ps(t){return t.metadata.exists?K9(this.serializer,t.document,!1):vi.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return Qi(t)}}class FSe{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=X7(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=mn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new Q7(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Vt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,ue.Z)(function*(){const e=yield function uSe(n,t,e,i){return _O.apply(this,arguments)}(t.localStore,new Q7(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield dSe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function X7(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class J7{constructor(t){this.key=t}}class eK{constructor(t){this.key=t}}class tK{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vt(),this.mutatedKeys=Vt(),this._a=g9(t),this.aa=new Km(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new Y7,r=e?e.aa:this.aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,f)=>{const m=r.get(u),_=cb(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;m&&_?m.data.isEqual(_.data)?y!==b&&(i.track({type:3,doc:_}),E=!0):this.ha(m,_)||(i.track({type:2,doc:_}),E=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),E=!0):m&&!_&&(i.track({type:1,doc:m}),E=!0,(l||c)&&(a=!0)),E&&(_?(s=s.add(_),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,u)=>function(m,_){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return y(m)-y(_)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const s=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Zm(this.query,t.aa,r,o,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new Y7,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Vt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new eK(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new J7(i))}),e}da(t){this.ia=t.ls,this.oa=Vt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Zm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class LSe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class VSe{constructor(t){this.key=t,this.Ra=!1}}class BSe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ac(a=>p9(a),lb),this.fa=new Map,this.ga=new Set,this.pa=new ci(ke.comparator),this.ya=new Map,this.wa=new cO,this.Sa={},this.ba=new Map,this.Da=bh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function USe(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,ue.Z)(function*(n,t){const e=vP(n);let i,r;const o=e.ma.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Hm(e.localStore,Fo(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield QO(e,t,i,"current"===a,s.resumeToken),e.isPrimaryClient&&HI(e.remoteStore,s)}return r}),YO.apply(this,arguments)}function QO(n,t,e,i,r){return XO.apply(this,arguments)}function XO(){return XO=(0,ue.Z)(function*(n,t,e,i,r){n.va=(f,m,_)=>{return(y=(0,ue.Z)(function*(E,N,A,L){let W=N.view.ca(A);W.Zi&&(W=yield LI(E.localStore,N.query,!1).then(({documents:Me})=>N.view.ca(Me,W)));const ce=L&&L.targetChanges.get(N.targetId),De=N.view.applyChanges(W,E.isPrimaryClient,ce);return lP(E,N.targetId,De.Ta),De.snapshot}),function b(E,N,A,L){return y.apply(this,arguments)})(n,f,m,_);var y};const o=yield LI(n.localStore,t,!0),s=new tK(t,o.ls),a=s.ca(o.documents),l=gb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);lP(n,e,c.Ta);const u=new LSe(t,e,s);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),XO.apply(this,arguments)}function jSe(n,t){return JO.apply(this,arguments)}function JO(){return JO=(0,ue.Z)(function*(n,t){const e=Re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(o=>!lb(o,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Ab(e.remoteStore,i.targetId),Ym(e,i.targetId)}).catch(Tu))):(Ym(e,i.targetId),yield zm(e.localStore,i.targetId,!0))}),JO.apply(this,arguments)}function eP(){return eP=(0,ue.Z)(function*(n,t,e){const i=bP(n);try{const r=yield function(s,a){const l=Re(s),c=Di.now(),u=a.reduce((_,y)=>_.add(y.key),Vt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let y=rs(),b=Vt();return l.ss.getEntries(_,u).next(E=>{y=E,y.forEach((N,A)=>{A.isValidDocument()||(b=b.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,y)).next(E=>{f=E;const N=[];for(const A of a){const L=_De(A,f.get(A.key).overlayedDocument);null!=L&&N.push(new lc(A.key,L,Jq(L.value.mapValue),Si.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,N,a)}).next(E=>{m=E;const N=E.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(_,E.batchId,N)})}).then(()=>({batchId:m.batchId,changes:y9(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ci(Dt)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,e),yield uc(i,r.changes),yield Wm(i.remoteStore)}catch(r){const o=qm(r,"Failed to persist write");e.reject(o)}}),eP.apply(this,arguments)}function nK(n,t){return tP.apply(this,arguments)}function tP(){return tP=(0,ue.Z)(function*(n,t){const e=Re(n);try{const i=yield function lSe(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,f)=>{const m=r.get(f);if(!m)return;a.push(e.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>e.qr.addMatchingKeys(o,u.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);var b,E,N;null!==t.targetMismatches.get(f)?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,i)),r=r.insert(f,_),E=_,N=u,(0===(b=m).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(o,_))});let l=rs(),c=Vt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(O7(o,s,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(at.min())){const u=e.qr.getLastRemoteSnapshotVersion(o).next(f=>e.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.ts=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.ya.get(o);s&&(ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ot(s.Ra):r.removedDocuments.size>0&&(ot(s.Ra),s.Ra=!1))}),yield uc(e,i,t)}catch(i){yield Tu(i)}}),tP.apply(this,arguments)}function iK(n,t,e){const i=Re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Re(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&KO(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function zSe(n,t,e){return nP.apply(this,arguments)}function nP(){return nP=(0,ue.Z)(function*(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),o=r&&r.key;if(o){let s=new ci(ke.comparator);s=s.insert(o,vi.newNoDocument(o,at.min()));const a=Vt().add(o),l=new mb(at.min(),new Map,new ci(Dt),s,a);yield nK(i,l),i.pa=i.pa.remove(o),i.ya.delete(t),cP(i)}else yield zm(i.localStore,t,!1).then(()=>Ym(i,t,e)).catch(Tu)}),nP.apply(this,arguments)}function $Se(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.batch.batchId;try{const r=yield function aSe(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,m=f.keys();let _=Z.resolve();return m.forEach(y=>{_=_.next(()=>u.getEntry(l,y)).next(b=>{const E=c.docVersions.get(y);ot(null!==E),b.version.compareTo(E)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Vt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);aP(e,i,null),sP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield uc(e,r)}catch(r){yield Tu(r)}}),iP.apply(this,arguments)}function WSe(n,t,e){return rP.apply(this,arguments)}function rP(){return rP=(0,ue.Z)(function*(n,t,e){const i=Re(n);try{const r=yield function(s,a){const l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ot(null!==f),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);aP(i,t,e),sP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield uc(i,r)}catch(r){yield Tu(r)}}),rP.apply(this,arguments)}function oP(){return oP=(0,ue.Z)(function*(n,t){const e=Re(n);Lu(e.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=qm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),oP.apply(this,arguments)}function sP(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function aP(n,t,e){const i=Re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Ym(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||rK(n,i)})}function rK(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Ab(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),cP(n))}function lP(n,t,e){for(const i of e)i instanceof J7?(n.wa.addReference(i.key,t),qSe(n,i)):i instanceof eK?(Ie("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||rK(n,i.key)):We()}function qSe(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(Ie("SyncEngine","New document in limbo: "+e),n.ga.add(i),cP(n))}function cP(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new ke(mn.fromString(t)),i=n.Da.next();n.ya.set(i,new VSe(e)),n.pa=n.pa.insert(e,i),HI(n.remoteStore,new cc(Fo(Am(e.path)),i,"TargetPurposeLimboResolution",Is._e))}}function uc(n,t,e){return uP.apply(this,arguments)}function uP(){return uP=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=pO.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,ue.Z)(function*(c,u){const f=Re(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Z.forEach(u,_=>Z.forEach(_.ki,y=>f.persistence.referenceDelegate.addReference(m,_.targetId,y)).next(()=>Z.forEach(_.qi,y=>f.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))}catch(m){if(!Iu(m))throw m;Ie("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const y=f.ts.get(_),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);f.ts=f.ts.insert(_,E)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,o))}),uP.apply(this,arguments)}function KSe(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,ue.Z)(function*(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){Ie("SyncEngine","User change. New user:",t.toKey());const i=yield M7(e.localStore,t);e.currentUser=t,(o=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new _e(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield uc(e,i._s)}var o}),dP.apply(this,arguments)}function ZSe(n,t){const e=Re(n),i=e.ya.get(t);if(i&&i.Ra)return Vt().add(i.key);{let r=Vt();const o=e.fa.get(t);if(!o)return r;for(const s of o){const a=e.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function YSe(n,t){return hP.apply(this,arguments)}function hP(){return hP=(0,ue.Z)(function*(n,t){const e=Re(n),i=yield LI(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&lP(e,t.targetId,r.Ta),r}),hP.apply(this,arguments)}function QSe(n,t){return fP.apply(this,arguments)}function fP(){return fP=(0,ue.Z)(function*(n,t){const e=Re(n);return F7(e.localStore,t).then(i=>uc(e,i))}),fP.apply(this,arguments)}function XSe(n,t,e,i){return pP.apply(this,arguments)}function pP(){return pP=(0,ue.Z)(function*(n,t,e,i){const r=Re(n),o=yield function(a,l){const c=Re(a),u=Re(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):Z.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield Wm(r.remoteStore):"acknowledged"===e||"rejected"===e?(aP(r,t,i||null),sP(r,t),l=t,Re(Re(r.localStore).mutationQueue).Fn(l)):We(),yield uc(r,o)):Ie("SyncEngine","Cannot apply mutation batch with id: "+t)}),pP.apply(this,arguments)}function mP(){return mP=(0,ue.Z)(function*(n,t){const e=Re(n);if(vP(e),bP(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield oK(e,i.toArray());e.Ca=!0,yield jO(e.remoteStore,!0);for(const o of r)HI(e.remoteStore,o)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Ym(e,s),zm(e.localStore,s,!0))),Ab(e.remoteStore,s)}),yield r,yield oK(e,i),function(s){const a=Re(s);a.ya.forEach((l,c)=>{Ab(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new ci(ke.comparator)}(e),e.Ca=!1,yield jO(e.remoteStore,!1)}}),mP.apply(this,arguments)}function oK(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=[],o=[];for(const s of t){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield Hm(i.localStore,Fo(l[0]));for(const c of l){const u=i.ma.get(c),f=yield YSe(i,u);f.snapshot&&o.push(f.snapshot)}}else{const c=yield P7(i.localStore,s);a=yield Hm(i.localStore,c),yield QO(i,sK(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),gP.apply(this,arguments)}function sK(n){return d9(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eAe(n){return e=Re(n).localStore,Re(Re(e).persistence).Bi();var e}function tAe(n,t,e,i){return _P.apply(this,arguments)}function _P(){return _P=(0,ue.Z)(function*(n,t,e,i){const r=Re(n);if(r.Ca)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield F7(r.localStore,m9(o[0])),a=mb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,vr.EMPTY_BYTE_STRING);yield uc(r,s,a);break}case"rejected":yield zm(r.localStore,t,!0),Ym(r,t,i);break;default:We()}}),_P.apply(this,arguments)}function nAe(n,t,e){return yP.apply(this,arguments)}function yP(){return yP=(0,ue.Z)(function*(n,t,e){const i=vP(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){Ie("SyncEngine","Adding an already active target "+r);continue}const o=yield P7(i.localStore,r),s=yield Hm(i.localStore,o);yield QO(i,sK(o),s.targetId,!1,s.resumeToken),HI(i.remoteStore,s)}for(const r of e)i.fa.has(r)&&(yield zm(i.localStore,r,!1).then(()=>{Ab(i.remoteStore,r),Ym(i,r)}).catch(Tu))}}),yP.apply(this,arguments)}function vP(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nK.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZSe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zSe.bind(null,t),t.Va.a_=NSe.bind(null,t.eventManager),t.Va.Fa=OSe.bind(null,t.eventManager),t}function bP(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$Se.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WSe.bind(null,t),t}class Rb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ue.Z)(function*(){e.serializer=Db(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return k7(this.persistence,new R7,t.initialUser,this.serializer)}createPersistence(t){return new uO(OI.jr,this.serializer)}createSharedClientState(t){return new U7}terminate(){var t=this;return(0,ue.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wP extends Rb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield bP(i.xa.syncEngine),yield Wm(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return k7(this.persistence,new R7,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new w7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new A1e(e,this.persistence);return new S1e(t.asyncQueue,i)}createPersistence(t){const e=fO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new hO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,H7(),jI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new U7}}class aK extends wP{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof EO&&(i.sharedClientState.syncEngine={Ys:XSe.bind(null,r),Zs:tAe.bind(null,r),Xs:nAe.bind(null,r),Bi:eAe.bind(null,r),Js:QSe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,ue.Z)(function*(s){yield function JSe(n,t){return mP.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=H7();if(!EO.D(e))throw new _e(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new EO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Qm{initialize(t,e){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>iK(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=KSe.bind(null,i.syncEngine),yield jO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new MSe}createDatastore(t){const e=Db(t.databaseInfo.databaseId),i=new mSe(t.databaseInfo);return new ySe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>iK(this.syncEngine,e,0),a=j7.D()?new j7:new hSe,new wSe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,l,c,u){const f=new BSe(r,o,s,a,l,c);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ue.Z)(function*(i){const r=Re(i);Ie("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield $m(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function lK(n,t=10240){let e=0;return{read:()=>(0,ue.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $I{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class oAe{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new yr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,ue.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,ue.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,ue.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const o=yield t.Ka(r);return new PSe(JSON.parse(o),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,ue.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,ue.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,ue.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class sAe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new _e(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ue.Z)(function*(s,a){const l=Re(s),c=yb(l.serializer)+"/documents",u={documents:a.map(y=>_b(l.serializer,y))},f=yield l.Co("BatchGetDocuments",c,u,a.length),m=new Map;f.forEach(y=>{const b=function DDe(n,t){return"found"in t?function(i,r){ot(!!r.found);const o=ul(i,r.found.name),s=Qi(r.found.updateTime),a=r.found.createTime?Qi(r.found.createTime):at.min(),l=new Qr({mapValue:{fields:r.found.fields}});return vi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){ot(!!r.missing),ot(!!r.readTime);const o=ul(i,r.missing),s=Qi(r.readTime);return vi.newNoDocument(o,s)}(n,t):We()}(l.serializer,y);m.set(b.key.toString(),b)});const _=[];return a.forEach(y=>{const b=m.get(y.toString());ot(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Pm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ke.fromPath(r);t.mutations.push(new GN(o,t.precondition(o)))}),yield(i=(0,ue.Z)(function*(o,s){const a=Re(o),l=yb(a.serializer)+"/documents",c={writes:s.map(u=>vb(a.serializer,u))};yield a.wo("Commit",l,c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw We();e=at.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new _e(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(at.min())?Si.exists(!1):Si.updateTime(e):Si.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(at.min()))throw new _e(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Si.updateTime(e)}return Si.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class aAe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new TO(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,ue.Z)(function*(){const e=new sAe(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ja(o)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!eb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!N9(e)}return!1}}class lAe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Fr.UNAUTHENTICATED,this.clientId=Aq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,ue.Z)(function*(a){Ie("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(Ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,ue.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=qm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function WI(n,t){return EP.apply(this,arguments)}function EP(){return EP=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ue.Z)(function*(o){i.isEqual(o)||(yield M7(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),EP.apply(this,arguments)}function CP(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield IP(n);Ie("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Z7(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Z7(t.remoteStore,o)),n._onlineComponents=t}),TP.apply(this,arguments)}function cK(n){return"FirebaseError"===n.name?n.code===te.FAILED_PRECONDITION||n.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function IP(n){return xP.apply(this,arguments)}function xP(){return xP=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WI(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!cK(e))throw e;ns("Error using user provided cache. Falling back to memory cache: "+e),yield WI(n,new Rb)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield WI(n,new Rb);return n._offlineComponents}),xP.apply(this,arguments)}function GI(n){return DP.apply(this,arguments)}function DP(){return DP=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield CP(n,n._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield CP(n,new Qm))),n._onlineComponents}),DP.apply(this,arguments)}function uK(n){return IP(n).then(t=>t.persistence)}function Xm(n){return IP(n).then(t=>t.localStore)}function dK(n){return GI(n).then(t=>t.remoteStore)}function SP(n){return GI(n).then(t=>t.syncEngine)}function Jm(n){return AP.apply(this,arguments)}function AP(){return AP=(0,ue.Z)(function*(n){const t=yield GI(n),e=t.eventManager;return e.onListen=USe.bind(null,t.syncEngine),e.onUnlisten=jSe.bind(null,t.syncEngine),e}),AP.apply(this,arguments)}function fK(n,t,e={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(o,s,a,l,c){const u=new $I({next:m=>{s.enqueueAndForget(()=>GO(o,f));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&l&&"server"===l.source?c.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new ZO(Am(a.path),u,{includeMetadataChanges:!0,J_:!0});return $O(o,f)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}function pK(n,t,e={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(o,s,a,l,c){const u=new $I({next:m=>{s.enqueueAndForget(()=>GO(o,f)),m.fromCache&&"server"===l.source?c.reject(new _e(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new ZO(a,u,{includeMetadataChanges:!0,J_:!0});return $O(o,f)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}function mK(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const gK=new Map;function RP(n,t,e){if(!e)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _K(n,t,e,i){if(!0===t&&!0===i)throw new _e(te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function yK(n){if(!ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vK(n){if(ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":We()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qI(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function bK(n,t){if(t<=0)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class wK{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_K("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mK(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wK(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new g1e;switch(i.type){case"firstParty":return new b1e(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=gK.get(e);i&&(Ie("ComponentProvider","Removing Datastore"),gK.delete(e),i.terminate())}(this),Promise.resolve()}}class Xr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xr(this.firestore,t,this._query)}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class dl extends Xr{constructor(t,e,i){super(t,e,Am(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new ke(t))}withConverter(t){return new dl(this.firestore,t,this._path)}}function CK(n,t,...e){if(n=(0,D.m9)(n),RP("collection","path",t),n instanceof kb){const i=mn.fromString(t,...e);return vK(i),new dl(n,null,i)}{if(!(n instanceof bi||n instanceof dl))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(t,...e));return vK(i),new dl(n.firestore,null,i)}}function KI(n,t,...e){if(n=(0,D.m9)(n),1===arguments.length&&(t=Aq.newId()),RP("doc","path",t),n instanceof kb){const i=mn.fromString(t,...e);return yK(i),new bi(n,null,new ke(i))}{if(!(n instanceof bi||n instanceof dl))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(t,...e));return yK(i),new bi(n.firestore,n instanceof dl?n.converter:null,new ke(i))}}function TK(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),(n instanceof bi||n instanceof dl)&&(t instanceof bi||t instanceof dl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function kP(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),n instanceof Xr&&t instanceof Xr&&n.firestore===t.firestore&&lb(n._query,t._query)&&n.converter===t.converter}class bAe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new TO(this,"async_queue_retry"),this.iu=()=>{const e=jI();e&&Ie("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=jI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=jI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new yr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,ue.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Iu(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=zO.createAndSchedule(this,t,e,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&We()}verifyOperationInProgress(){}uu(){var t=this;return(0,ue.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function MP(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class wAe{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ui extends kb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new bAe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IK(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||IK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IK(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Y1e(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mK(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new lAe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function xK(n,t,e){const i=new yr;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield WI(n,e),yield CP(n,t),i.resolve()}catch(r){const o=r;if(!cK(o))throw o;ns("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function DK(n){if(n._initialized||n._terminated)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hl(vr.fromBase64String(t))}catch(e){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hl(vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class ZI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}const MAe=/^__.*__$/;class NAe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new lc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Om(t,this.data,e,this.fieldTransforms)}}class SK{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new lc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function AK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class YI{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new YI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return JI(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(AK(this.Iu)&&MAe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class OAe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Db(t)}pu(t,e,i,r=!1){return new YI({Iu:t,methodName:e,gu:i,path:yi.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(n){const t=n._freezeSettings(),e=Db(n._databaseId);return new OAe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function QI(n,t,e,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,t,e,r);FP("Data must be an object, but it was:",s,i);const a=MK(i,s);let l,c;if(o.merge)l=new is(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const m=Ob(t,f,e);if(!s.contains(m))throw new _e(te.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OK(u,m)||u.push(m)}l=new is(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new NAe(new Qr(a),l,c)}class Nb extends Eh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nb}}function RK(n,t,e){return new YI({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class NP extends Eh{_toFieldTransform(t){return new hb(t.path,new Mm)}isEqual(t){return t instanceof NP}}class PAe extends Eh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=RK(this,t,!0),i=this.yu.map(o=>Th(o,e)),r=new fh(i);return new hb(t.path,r)}isEqual(t){return this===t}}class FAe extends Eh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=RK(this,t,!0),i=this.yu.map(o=>Th(o,e)),r=new ph(i);return new hb(t.path,r)}isEqual(t){return this===t}}class LAe extends Eh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new Nm(t.serializer,E9(t.serializer,this.wu));return new hb(t.path,e)}isEqual(t){return this===t}}function OP(n,t,e,i){const r=n.pu(1,t,e);FP("Data must be an object, but it was:",r,i);const o=[],s=Qr.empty();xu(i,(l,c)=>{const u=XI(t,l,e);c=(0,D.m9)(c);const f=r.Ru(u);if(c instanceof Nb)o.push(u);else{const m=Th(c,f);null!=m&&(o.push(u),s.set(u,m))}});const a=new is(o);return new SK(s,a,r.fieldTransforms)}function PP(n,t,e,i,r,o){const s=n.pu(1,t,e),a=[Ob(t,i,e)],l=[r];if(o.length%2!=0)throw new _e(te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Ob(t,o[m])),l.push(o[m+1]);const c=[],u=Qr.empty();for(let m=a.length-1;m>=0;--m)if(!OK(c,a[m])){const _=a[m];let y=l[m];y=(0,D.m9)(y);const b=s.Ru(_);if(y instanceof Nb)c.push(_);else{const E=Th(y,b);null!=E&&(c.push(_),u.set(_,E))}}const f=new is(c);return new SK(u,f,s.fieldTransforms)}function kK(n,t,e,i=!1){return Th(e,n.pu(i?4:3,t))}function Th(n,t){if(NK(n=(0,D.m9)(n)))return FP("Unsupported field value:",t,n),MK(n,t);if(n instanceof Eh)return function(i,r){if(!AK(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Th(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,D.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return E9(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Di.fromDate(i);return{timestampValue:Fm(r.serializer,o)}}if(i instanceof Di){const o=new Di(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fm(r.serializer,o)}}if(i instanceof ZI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hl)return{bytesValue:z9(r.serializer,i._byteString)};if(i instanceof bi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XN(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${qI(i)}`)}(n,t)}function MK(n,t){const e={};return $q(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xu(n,(i,r)=>{const o=Th(r,t.Eu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function NK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Di||n instanceof ZI||n instanceof hl||n instanceof bi||n instanceof Eh)}function FP(n,t,e){if(!NK(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=qI(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Ob(n,t,e){if((t=(0,D.m9)(t))instanceof dc)return t._internalPath;if("string"==typeof t)return XI(n,t);throw JI("Field path arguments must be of type string or ",n,!1,void 0,e)}const VAe=new RegExp("[~\\*/\\[\\]]");function XI(n,t,e){if(t.search(VAe)>=0)throw JI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dc(...t.split("."))._internalPath}catch{throw JI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function JI(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new _e(te.INVALID_ARGUMENT,a+n+l)}function OK(n,t){return n.some(e=>e.isEqual(t))}class Pb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new BAe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ex("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class BAe extends Pb{data(){return super.data()}}function ex(n,t){return"string"==typeof t?XI(n,t):t instanceof dc?t._internalPath:t._delegate._internalPath}function PK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LP{}class Fb extends LP{}function Bu(n,t,...e){let i=[];t instanceof LP&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof eg).length,a=o.filter(l=>l instanceof Lb).length;if(s>1||s>0&&a>0)throw new _e(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Lb extends Fb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Lb(t,e,i)}_apply(t){const e=this._parse(t);return BK(t._query,e),new Xr(t.firestore,t.converter,$N(t._query,e))}_parse(t){const e=Ch(t.firestore);return function(o,s,a,l,c,u,f){let m;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){VK(f,u);const _=[];for(const y of f)_.push(LK(l,o,y));m={arrayValue:{values:_}}}else m=LK(l,o,f)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||VK(f,u),m=kK(a,"where",f,"in"===u||"not-in"===u);return un.create(c,u,m)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class eg extends LP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new eg(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)BK(s,l),s=$N(s,l)}(t._query,e),new Xr(t.firestore,t.converter,$N(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VP extends Fb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new VP(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sb(o,s)}(t._query,this._field,this._direction);return new Xr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new sc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class tx extends Fb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new tx(t,e,i)}_apply(t){return new Xr(t.firestore,t.converter,wI(t._query,this._limit,this._limitType))}}class nx extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nx(t,e,i)}_apply(t){const e=FK(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new sc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class ix extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ix(t,e,i)}_apply(t){const e=FK(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new sc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function FK(n,t,e,i){if(e[0]=(0,D.m9)(e[0]),e[0]instanceof Pb)return function(o,s,a,l,c){if(!l)throw new _e(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Rm(o))if(f.field.isKeyField())u.push(dh(s,l.key));else{const m=l.data.field(f.field);if(pI(m))throw new _e(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const _=f.field.canonicalString();throw new _e(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}u.push(m)}return new Mu(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ch(n.firestore);return function(s,a,l,c,u,f){const m=s.explicitOrderBy;if(u.length>m.length)throw new _e(te.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let y=0;y<u.length;y++){const b=u[y];if(m[y].field.isKeyField()){if("string"!=typeof b)throw new _e(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!zN(s)&&-1!==b.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);const E=s.path.child(mn.fromString(b));if(!ke.isDocumentKey(E))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const N=new ke(E);_.push(dh(a,N))}else{const E=kK(l,c,b);_.push(E)}}return new Mu(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function LK(n,t,e){if("string"==typeof(e=(0,D.m9)(e))){if(""===e)throw new _e(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(t)&&-1!==e.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(mn.fromString(e));if(!ke.isDocumentKey(i))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dh(n,new ke(i))}if(e instanceof bi)return dh(n,e._key);throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qI(e)}.`)}function VK(n,t){if(!Array.isArray(n)||0===n.length)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BK(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new _e(te.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BP{convertValue(t,e="none"){switch(Ru(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw We()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return xu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new ZI(Hi(t.latitude),Hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=mI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(nb(t));default:return null}}convertTimestamp(t){const e=Du(t);return new Di(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=mn.fromString(t);ot(J9(i));const r=new Su(i.get(1),i.get(3)),o=new ke(i.popFirst(5));return r.isEqual(e)||Yi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function rx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class KAe extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class Ih{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hc extends Pb{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ex("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Vb extends hc{data(t={}){return super.data(t)}}class Uu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ih(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vb(this._firestore,this._userDataWriter,i.key,i,new Ih(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _e(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ih(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ih(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:YAe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function YAe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function jK(n,t){return n instanceof hc&&t instanceof hc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Uu&&t instanceof Uu&&n._firestore===t._firestore&&kP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ju extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function HK(n,t,e){n=an(n,bi);const i=an(n.firestore,ui),r=rx(n.converter,t,e);return tg(i,[QI(Ch(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Si.none())])}function zK(n,t,e,...i){n=an(n,bi);const r=an(n.firestore,ui),o=Ch(r);let s;return s="string"==typeof(t=(0,D.m9)(t))||t instanceof dc?PP(o,"updateDoc",n._key,t,e,i):OP(o,"updateDoc",n._key,t),tg(r,[s.toMutation(n._key,Si.exists(!0))])}function $K(n,...t){var e,i,r;n=(0,D.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||MP(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(MP(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,u;if(n instanceof bi)c=an(n.firestore,ui),u=Am(n._key.path),l={next:f=>{t[s]&&t[s](UP(c,n,f))},error:t[s+1],complete:t[s+2]};else{const f=an(n,Xr);c=an(f.firestore,ui),u=f._query;const m=new ju(c);l={next:_=>{t[s]&&t[s](new Uu(c,m,f,_))},error:t[s+1],complete:t[s+2]},PK(n._query)}return function(m,_,y,b){const E=new $I(b),N=new ZO(_,E,y);return m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return $O(yield Jm(m),N)})),()=>{E.Na(),m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return GO(yield Jm(m),N)}))}}(zi(c),u,a,l)}function tg(n,t){return function(i,r){const o=new yr;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function HSe(n,t,e){return eP.apply(this,arguments)}(yield SP(i),r,o)})),o.promise}(zi(n),t)}function UP(n,t,e){const i=e.docs.get(t._key),r=new ju(n);return new hc(n,r,t._key,i,new Ih(e.hasPendingWrites,e.fromCache),t.converter)}const pRe={maxAttempts:5};class WK{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ch(t)}set(t,e,i){this._verifyNotCommitted();const r=Hu(t,this._firestore),o=rx(r.converter,e,i),s=QI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Si.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Hu(t,this._firestore);let s;return s="string"==typeof(e=(0,D.m9)(e))||e instanceof dc?PP(this._dataReader,"WriteBatch.update",o._key,e,i,r):OP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Si.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Hu(t,this._firestore);return this._mutations=this._mutations.concat(new Pm(e._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(n,t){if((n=(0,D.m9)(n)).firestore!==t)throw new _e(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mRe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ch(e)}get(e){const i=Hu(e,this._firestore),r=new KAe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return We();const s=o[0];if(s.isFoundDocument())return new Pb(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Pb(this._firestore,r,i._key,null,i.converter);throw We()})}set(e,i,r){const o=Hu(e,this._firestore),s=rx(o.converter,i,r),a=QI(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Hu(e,this._firestore);let a;return a="string"==typeof(i=(0,D.m9)(i))||i instanceof dc?PP(this._dataReader,"Transaction.update",s._key,i,r,o):OP(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Hu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Hu(t,this._firestore),i=new ju(this._firestore);return super.get(t).then(r=>new hc(this._firestore,i,e._key,r._document,new Ih(!1,!1),e.converter))}}function HP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function ZK(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function YK(){if(!function K1e(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){wm=so.SDK_VERSION,(0,so._registerComponent)(new ma.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ui(new y1e(i.getProvider("auth-internal")),new w1e(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(xq,"4.3.2",t),(0,so.registerVersion)(xq,"4.3.2","esm2017")}();class Bb{constructor(t){this._delegate=t}static fromBase64String(t){return YK(),new Bb(hl.fromBase64String(t))}static fromUint8Array(t){return ZK(),new Bb(hl.fromUint8Array(t))}toBase64(){return YK(),this._delegate.toBase64()}toUint8Array(){return ZK(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zP(n){return function IRe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class xRe{enableIndexedDbPersistence(t,e){return function CAe(n,t){DK(n=an(n,ui));const e=zi(n);if(e._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Qm;return xK(e,r,new wP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function TAe(n){DK(n=an(n,ui));const t=zi(n);if(t._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Qm;return xK(t,i,new aK(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function IAe(n){if(n._initialized&&!n._terminated)throw new _e(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(e=(0,ue.Z)(function*(r){if(!Ca.D())return Promise.resolve();const o=r+"main";yield Ca.delete(o)}),function i(r){return e.apply(this,arguments)})(fO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class QK{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Su||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ns("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function EK(n,t,e,i={}){var r;const o=(n=an(n,kb))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Fr.MOCK_USER;else{a=(0,D.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fr(c)}n._authCredentials=new _1e(new Dq(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function DAe(n){return function cAe(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield uK(n),e=yield dK(n);return t.setNetworkEnabled(!0),function(r){const o=Re(r);return o.C_.delete(0),Sb(o)}(e)}))}(zi(n=an(n,ui)))}(this._delegate)}disableNetwork(){return function SAe(n){return function uAe(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield uK(n),e=yield dK(n);return t.setNetworkEnabled(!1),(i=(0,ue.Z)(function*(o){const s=Re(o);s.C_.add(0),yield $m(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(zi(n=an(n,ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,_K("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xAe(n){return function(e){const i=new yr;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function GSe(n,t){return oP.apply(this,arguments)}(yield SP(e),i)})),i.promise}(zi(n=an(n,ui)))}(this._delegate)}onSnapshotsInSync(t){return function oRe(n,t){return function fAe(n,t){const e=new $I(t);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield Jm(n),o=e,Re(r).q_.add(o),void o.next();var r,o})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield Jm(n),o=e,void Re(r).q_.delete(o);var r,o}))}}(zi(n=an(n,ui)),MP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ng(this,CK(this._delegate,t))}catch(e){throw Lo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Qs(this,KI(this._delegate,t))}catch(e){throw Lo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Vo(this,function vAe(n,t){if(n=an(n,kb),RP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(i=t,new sc(mn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Lo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function gRe(n,t,e){n=an(n,ui);const i=Object.assign(Object.assign({},pRe),e);return function(o){if(o.maxAttempts<1)throw new _e(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new yr;return o.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const c=yield function hK(n){return GI(n).then(t=>t.datastore)}(o);new aAe(o.asyncQueue,c,a,s,l).run()})),l.promise}(zi(n),r=>t(new mRe(n,r)),i)}(this._delegate,e=>t(new XK(this,e)))}batch(){return zi(this._delegate),new JK(new WK(this._delegate,t=>tg(this._delegate,t)))}loadBundle(t){return function AAe(n,t){const e=zi(n=an(n,ui)),i=new wAe;return function pAe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?P9().encode(s):s,u=function(u,f){if(u instanceof Uint8Array)return lK(u,f);if(u instanceof ArrayBuffer)return lK(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new oAe(u,a);var u}(e,Db(t));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function iAe(n,t,e){const i=Re(n);var r;(r=(0,ue.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(y,b){const E=Re(y),N=Qi(b.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",A=>E.Kr.getBundleMetadata(A,b.id)).then(A=>!!A&&A.createTime.compareTo(N)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(y=c).totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}),Promise.resolve(new Set);l._updateProgress(X7(c));const u=new FSe(c,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield u.ea(f);_&&l._updateProgress(_),f=yield a.Ma()}const m=yield u.complete();return yield uc(s,m.ra,void 0),yield function(y,b){const E=Re(y);return E.persistence.runTransaction("Save bundle","readwrite",N=>E.Kr.saveBundleMetadata(N,b))}(s.localStore,c),l._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return ns("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var y}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function RAe(n,t){return function mAe(n,t){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(i,r){const o=Re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Xm(n),t)}))}(zi(n=an(n,ui)),t).then(e=>e?new Xr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Vo(this,e):null)}}class sx extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bb(new hl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Qs.forKey(e,this.firestore,null)}}class XK{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sx(t)}get(t){const e=Dh(t);return this._delegate.get(e).then(i=>new Ub(this._firestore,new hc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Dh(t);return i?(HP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Dh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Dh(t);return this._delegate.delete(e),this}}class JK{constructor(t){this._delegate=t}set(t,e,i){const r=Dh(t);return i?(HP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Dh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Dh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class xh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Vb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=xh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new xh(t,new sx(t),e),r.set(e,o)),o}}xh.INSTANCES=new WeakMap;class Qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qs(e,new bi(e._delegate,i,new ke(t)))}static forKey(t,e,i){return new Qs(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new ng(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ng(this.firestore,CK(this._delegate,t))}catch(e){throw Lo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,D.m9)(t))instanceof bi&&TK(this._delegate,t)}set(t,e){e=HP("DocumentReference.set",e);try{return e?HK(this._delegate,t,e):HK(this._delegate,t)}catch(i){throw Lo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?zK(this._delegate,t):zK(this._delegate,t,e,...i)}catch(r){throw Lo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function iRe(n){return tg(an(n.firestore,ui),[new Pm(n._key,Si.none())])}(this._delegate)}onSnapshot(...t){const e=eZ(t),i=tZ(t,r=>new Ub(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return $K(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function XAe(n){n=an(n,bi);const t=an(n.firestore,ui),e=zi(t),i=new ju(t);return function dAe(n,t){const e=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(o,s,a){try{const l=yield function(u,f){const m=Re(u);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,f))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new _e(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=qm(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hc(t,i,n._key,r,new Ih(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function JAe(n){n=an(n,bi);const t=an(n.firestore,ui);return fK(zi(t),n._key,{source:"server"}).then(e=>UP(t,n,e))}(this._delegate):function QAe(n){n=an(n,bi);const t=an(n.firestore,ui);return fK(zi(t),n._key).then(e=>UP(t,n,e))}(this._delegate),e.then(i=>new Ub(this.firestore,new hc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Qs(this.firestore,this._delegate.withConverter(t?xh.getInstance(this.firestore,t):null))}}function Lo(n,t,e){return n.message=n.message.replace(t,e),n}function eZ(n){for(const t of n)if("object"==typeof t&&!zP(t))return t;return{}}function tZ(n,t){var e,i;let r;return r=zP(n[0])?n[0]:zP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ub{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Qs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return jK(this._delegate,t._delegate)}}class jb extends Ub{data(t){const e=this._delegate.data(t);return this._delegate._converter||function m1e(n,t){n||We()}(void 0!==e),e}}class Vo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sx(t)}where(t,e,i){try{return new Vo(this.firestore,Bu(this._delegate,function UAe(n,t,e){const i=t,r=ex("where",n);return Lb._create(r,i,e)}(t,e,i)))}catch(r){throw Lo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Vo(this.firestore,Bu(this._delegate,function jAe(n,t="asc"){const e=t,i=ex("orderBy",n);return VP._create(i,e)}(t,e)))}catch(i){throw Lo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Vo(this.firestore,Bu(this._delegate,function HAe(n){return bK("limit",n),tx._create("limit",n,"F")}(t)))}catch(e){throw Lo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Vo(this.firestore,Bu(this._delegate,function zAe(n){return bK("limitToLast",n),tx._create("limitToLast",n,"L")}(t)))}catch(e){throw Lo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Vo(this.firestore,Bu(this._delegate,function $Ae(...n){return nx._create("startAt",n,!0)}(...t)))}catch(e){throw Lo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Vo(this.firestore,Bu(this._delegate,function WAe(...n){return nx._create("startAfter",n,!1)}(...t)))}catch(e){throw Lo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Vo(this.firestore,Bu(this._delegate,function GAe(...n){return ix._create("endBefore",n,!1)}(...t)))}catch(e){throw Lo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Vo(this.firestore,Bu(this._delegate,function qAe(...n){return ix._create("endAt",n,!0)}(...t)))}catch(e){throw Lo(e,"endAt()","Query.endAt()")}}isEqual(t){return kP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function tRe(n){n=an(n,Xr);const t=an(n.firestore,ui),e=zi(t),i=new ju(t);return function hAe(n,t){const e=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(o,s,a){try{const l=yield LI(o,s,!0),c=new tK(s,l.ls),u=c.ca(l.documents),f=c.applyChanges(u,!1);a.resolve(f.snapshot)}catch(l){const c=qm(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Uu(t,i,n,r))}(this._delegate):"server"===t?.source?function nRe(n){n=an(n,Xr);const t=an(n.firestore,ui),e=zi(t),i=new ju(t);return pK(e,n._query,{source:"server"}).then(r=>new Uu(t,i,n,r))}(this._delegate):function eRe(n){n=an(n,Xr);const t=an(n.firestore,ui),e=zi(t),i=new ju(t);return PK(n._query),pK(e,n._query).then(r=>new Uu(t,i,n,r))}(this._delegate),e.then(i=>new $P(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=eZ(t),i=tZ(t,r=>new $P(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return $K(this._delegate,e,i)}withConverter(t){return new Vo(this.firestore,this._delegate.withConverter(t?xh.getInstance(this.firestore,t):null))}}class SRe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $P{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new jb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new SRe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new jb(this._firestore,i))})}isEqual(t){return jK(this._delegate,t._delegate)}}class ng extends Vo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qs(this.firestore,t):null}doc(t){try{return new Qs(this.firestore,void 0===t?KI(this._delegate):KI(this._delegate,t))}catch(e){throw Lo(e,"doc()","CollectionReference.doc()")}}add(t){return function rRe(n,t){const e=an(n.firestore,ui),i=KI(n),r=rx(n.converter,t);return tg(e,[QI(Ch(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Si.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Qs(this.firestore,e))}isEqual(t){return TK(this._delegate,t._delegate)}withConverter(t){return new ng(this.firestore,this._delegate.withConverter(t?xh.getInstance(this.firestore,t):null))}}function Dh(n){return an(n,bi)}class WP{constructor(...t){this._delegate=new dc(...t)}static documentId(){return new WP(yi.keyField().canonicalString())}isEqual(t){return(t=(0,D.m9)(t))instanceof dc&&this._delegate._internalPath.isEqual(t._internalPath)}}class Sh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function yRe(){return new NP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Sh(t)}static delete(){const t=function _Re(){return new Nb("deleteField")}();return t._methodName="FieldValue.delete",new Sh(t)}static arrayUnion(...t){const e=function vRe(...n){return new PAe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Sh(e)}static arrayRemove(...t){const e=function bRe(...n){return new FAe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Sh(e)}static increment(t){const e=function wRe(n){return new LAe("increment",n)}(t);return e._methodName="FieldValue.increment",new Sh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ARe={Firestore:QK,GeoPoint:ZI,Timestamp:Di,Blob:Bb,Transaction:XK,WriteBatch:JK,DocumentReference:Qs,DocumentSnapshot:Ub,Query:Vo,QueryDocumentSnapshot:jb,QuerySnapshot:$P,CollectionReference:ng,FieldPath:WP,FieldValue:Sh,setLogLevel:function DRe(n){!function p1e(n){Cu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function nZ(n,t){return function MRe(n,t=Rd){return new ct(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function GP(n,t){return nZ(n,t).pipe(we(e=>({payload:e,type:"query"})))}!function kRe(n){(function RRe(n,t){n.INTERNAL.registerComponent(new ma.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},ARe)))})(n,(t,e)=>new QK(t,e,new xRe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(vs.Z);class iZ{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=cZ(i,e);return new sZ(r,o,this.afs)}snapshotChanges(){return function NRe(n,t){return nZ(n,t).pipe(Yc(void 0),HM(),we(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(t={}){return this.snapshotChanges().pipe(we(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return C(this.ref.get(t)).pipe(Zi)}}function ax(n,t){return GP(n,t).pipe(Yc(void 0),HM(),we(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function rZ(n,t,e){return ax(n,e).pipe(yp((i,r)=>function ORe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function PRe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return qP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return qP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ht(),we(i=>i.map(r=>({type:r.type,payload:r}))))}function qP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function oZ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class sZ{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=ax(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(we(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Yc(void 0),HM(),zn(([i,r])=>r.length>0||!i),we(([,i])=>i),Zi)}auditTrail(t){return this.stateChanges(t).pipe(yp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=oZ(t);return rZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(t={}){return GP(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),Zi)}get(t){return C(this.query.get(t)).pipe(Zi)}add(t){return this.ref.add(t)}doc(t){return new iZ(this.ref.doc(t),this.afs)}}class FRe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ax(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.filter(i=>t.indexOf(i.type)>-1)),zn(e=>e.length>0),Zi):ax(this.query,this.afs.schedulers.outsideAngular).pipe(Zi)}auditTrail(t){return this.stateChanges(t).pipe(yp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=oZ(t);return rZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(t={}){return GP(this.query,this.afs.schedulers.outsideAngular).pipe(we(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Zi)}get(t){return C(this.query.get(t)).pipe(Zi)}}const aZ=new ae("angularfire2.enableFirestorePersistence"),lZ=new ae("angularfire2.firestore.persistenceSettings"),LRe=new ae("angularfire2.firestore.settings"),VRe=new ae("angularfire2.firestore.use-emulator");function cZ(n,t=(e=>e)){return{query:t(n),ref:n}}let BRe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,u,f,m,_,y,b,E,N,A){this.schedulers=l;const L=jy(e,a,i),W=u;f&&$R(L,a,m,y,b,E,_,N),[this.firestore,this.persistenceEnabled$]=IC(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const ce=a.runOutsideAngular(()=>L.firestore());if(o&&ce.settings(o),W&&ce.useEmulator(...W),r&&!fE(s)){const De=()=>{try{return C(ce.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Me){return typeof console<"u"&&console.warn(Me),k(!1)}};return[ce,a.runOutsideAngular(De)]}return[ce,k(!1)]},[o,W,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=cZ(r,i),a=this.schedulers.ngZone.run(()=>o);return new sZ(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new FRe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new iZ(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(P(jp),P(Hp,8),P(aZ,8),P(LRe,8),P(ds),P(je),P(vC),P(lZ,8),P(VRe,8),P(Hy,8),P(VR,8),P(BR,8),P(UR,8),P(jR,8),P(HR,8),P(zR,8),P(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),URe=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Lp.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:aZ,useValue:!0},{provide:lZ,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ye({providers:[BRe]})}return n})();const jRe_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};let hZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({})}return n})(),eke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,sk,hZ,Ui,hZ]})}return n})(),pke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[PM]})}return n})(),Cke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({imports:[Ui,pke,Ui]})}return n})();function Ike(n,t){if(1&n){const e=sn();R(0,"a",16),Te("click",function(){return Ge(e),He(ie(2).navDisappear())}),R(1,"span"),oe(2,"Felhaszn\xe1l\xf3k"),M()()}}function xke(n,t){if(1&n){const e=sn();R(0,"li",13),Te("click",function(){Ge(e);const r=ie(2);return He(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",17),oe(2,"Id\u0151j\xe1r\xe1s"),M()()}}function Dke(n,t){if(1&n){const e=sn();R(0,"li",13),Te("click",function(){Ge(e);const r=ie(2);return He(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",18),oe(2,"Chat"),M()()}}const Ske=function(){return["recipes"]};function Ake(n,t){if(1&n){const e=sn();R(0,"li",13),Te("click",function(){Ge(e);const r=ie(2);return He(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",19),oe(2,"Receptek"),M()()}2&n&&(U(1),H("routerLink",$w(1,Ske)))}function Rke(n,t){if(1&n){const e=sn();R(0,"li",13),Te("click",function(){Ge(e);const r=ie(2);return He(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",20),oe(2,"Jegyzetek"),M()()}}function kke(n,t){if(1&n){const e=sn();R(0,"li",13),Te("click",function(){Ge(e);const r=ie(2);return He(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",21),Te("click",function(){return Ge(e),He(ie(2).signOut())}),oe(2,"Kijelentkez\xe9s "),M()()}}const Mke=function(n){return{"mt-3":n}},CZ=function(){return{exact:!0}};function Nke(n,t){if(1&n){const e=sn();Wo(0),R(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),Te("click",function(){Ge(e);const r=ie();return He(r.isMenuClicked=!r.isMenuClicked)}),R(5,"span"),oe(6,"Menu "),M(),nt(7,"span",4),M()(),R(8,"div",5)(9,"ul",6)(10,"li",7),Te("click",function(){Ge(e);const r=ie();return He(r.isMenuClicked=!r.isMenuClicked)}),R(11,"a",8),nt(12,"span",9),oe(13," Kezd\u0151lap"),M()(),R(14,"li",10),le(15,Ike,3,0,"a",11),M(),le(16,xke,3,0,"li",12),le(17,Dke,3,0,"li",12),le(18,Ake,3,2,"li",12),le(19,Rke,3,0,"li",12),R(20,"li",13),Te("click",function(){Ge(e);const r=ie();return He(r.isMenuClicked=!r.isMenuClicked)}),R(21,"a",14),oe(22," Regisztr\xe1ci\xf3 "),M()(),R(23,"li",13),Te("click",function(){Ge(e);const r=ie();return He(r.isMenuClicked=!r.isMenuClicked)}),R(24,"a",15),oe(25,"Bejelentkez\xe9s"),M()(),le(26,kke,3,0,"li",12),M()()()(),Go()}if(2&n){const e=ie();U(8),H("ngbCollapse",!e.isMenuClicked),U(1),H("ngClass",Fl(10,Mke,e.isMenuClicked)),U(2),H("routerLinkActiveOptions",$w(12,CZ)),U(4),H("ngIf",e.isSuperAdmin),U(1),H("ngIf",e.isLoggedIn),U(1),H("ngIf",e.isLoggedIn),U(1),H("ngIf",e.isLoggedIn),U(1),H("ngIf",e.isLoggedIn),U(5),H("routerLinkActiveOptions",$w(13,CZ)),U(2),H("ngIf",e.isLoggedIn)}}let Oke=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{1==e?.emailVerified||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>{this.isNavDisappeared=e})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zl))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center",3,"click"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","chat",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&le(0,Nke,27,14,"ng-container",0),2&i&&H("ngIf",!r.isNavDisappeared)},dependencies:[jl,mr,eu,lz,fR],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),Pke=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(i,r){1&i&&(nt(0,"app-nav"),R(1,"div",0),nt(2,"img",1),M(),R(3,"div",2),nt(4,"router-outlet"),M())},dependencies:[jE,Oke],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return n})();function TZ(n){return new K(3e3,!1)}function zu(n){switch(n.length){case 0:return new Dv;case 1:return n[0];default:return new wG(n)}}function IZ(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((m,_)=>{let y=_,b=m;if("offset"!==_)switch(y=n.normalizePropertyName(y,r),b){case"!":b=e.get(_);break;case tc:b=i.get(_);break;default:b=n.normalizeStyleValue(_,y,b,r)}f.set(y,b)}),u||o.push(f),a=f,s=c}),r.length)throw function rMe(n){return new K(3502,!1)}();return o}function rF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&oF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&oF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&oF(e,"destroy",n)))}}function oF(n,t,e){const o=sF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function sF(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function xs(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function xZ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const gMe=(()=>typeof document>"u"?null:document.documentElement)();function aF(n){const t=n.parentNode||n.host||null;return t===gMe?null:t}let Ah=null,DZ=!1;function SZ(n,t){for(;t;){if(t===n)return!0;t=aF(t)}return!1}function AZ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let RZ=(()=>{class n{validateStyleProperty(e){return function yMe(n){Ah||(Ah=function vMe(){return typeof document<"u"?document.body:null}()||{},DZ=!!Ah.style&&"WebkitAppearance"in Ah.style);let t=!0;return Ah.style&&!function _Me(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ah.style,!t&&DZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ah.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return SZ(e,i)}getParentElement(e){return aF(e)}query(e,i,r){return AZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Dv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),lF=(()=>{class n{static#e=this.NOOP=new RZ}return n})();const bMe=1e3,cF="ng-enter",_x="ng-leave",yx="ng-trigger",vx=".ng-trigger",MZ="ng-animating",uF=".ng-animating";function mc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dF(parseFloat(t[1]),t[2])}function dF(n,t){return"s"===t?n*bMe:n}function bx(n,t,e){return n.hasOwnProperty("duration")?n:function EMe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(TZ()),{duration:0,delay:0,easing:""};r=dF(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=dF(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Fke(){return new K(3100,!1)}()),a=!0),o<0&&(t.push(function Lke(){return new K(3101,!1)}()),a=!0),a&&t.splice(l,0,TZ())}return{duration:r,delay:o,easing:s}}(n,t,e)}function $b(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function NZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $u(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function fl(n,t,e){t.forEach((i,r)=>{const o=fF(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Rh(n,t){t.forEach((e,i)=>{const r=fF(i);n.style[r]=""})}function Wb(n){return Array.isArray(n)?1==n.length?n[0]:bG(n):n}const hF=new RegExp("{{\\s*(.+?)\\s*}}","g");function PZ(n){let t=[];if("string"==typeof n){let e;for(;e=hF.exec(n);)t.push(e[1]);hF.lastIndex=0}return t}function Gb(n,t,e){const i=n.toString(),r=i.replace(hF,(o,s)=>{let a=t[s];return null==a&&(e.push(function Bke(n){return new K(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function wx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const IMe=/-+([a-z0-9])/g;function fF(n){return n.replace(IMe,(...t)=>t[1].toUpperCase())}function Ds(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Uke(n){return new K(3004,!1)}()}}function FZ(n,t){return window.getComputedStyle(n)[t]}const Ex="*";function SMe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AMe(n,t,e){if(":"==n[0]){const l=function RMe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function eMe(n){return new K(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Jke(n){return new K(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(LZ(r,s));"<"==o[0]&&!(r==Ex&&s==Ex)&&t.push(LZ(s,r))}(i,e,t)):e.push(n),e}const Cx=new Set(["true","1"]),Tx=new Set(["false","0"]);function LZ(n,t){const e=Cx.has(n)||Tx.has(n),i=Cx.has(t)||Tx.has(t);return(r,o)=>{let s=n==Ex||n==r,a=t==Ex||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Cx.has(n):Tx.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Cx.has(t):Tx.has(t)),s&&a}}const kMe=new RegExp("s*:selfs*,?","g");function pF(n,t,e,i){return new MMe(n).build(t,e,i)}class MMe{constructor(t){this._driver=t}build(t,e,i){const r=new PMe(e);return this._resetContextStyleTimingState(r),Ds(this,Wb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Hke(){return new K(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function zke(){return new K(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{PZ(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(wx(o.values()),e.errors.push(function $ke(n,t){return new K(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ds(this,Wb(t.animation),e);return{type:1,matchers:SMe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:kh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ds(this,i,e)),options:kh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Ds(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:kh(t.options)}}visitAnimate(t,e){const i=function LMe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mF(bx(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=bx(e,t);return mF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:nc({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=nc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===tc?i.push(a):e.errors.push(new K(3002,!1)):i.push(NZ(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function Gke(n,t,e,i,r){return new K(3010,!1)}()),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function TMe(n,t,e){const i=t.params||{},r=PZ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Vke(n){return new K(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function qke(){return new K(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(N=>{const A=this._makeStyleAst(N,e);let L=null!=A.offset?A.offset:function FMe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(A.styles),W=0;return null!=L&&(o++,W=A.offset=L),l=l||W<0||W>1,a=a||W<c,c=W,s.push(W),A});l&&e.errors.push(function Kke(){return new K(3012,!1)}()),a&&e.errors.push(function Zke(){return new K(3200,!1)}());const f=t.steps.length;let m=0;o>0&&o<f?e.errors.push(function Yke(){return new K(3202,!1)}()):0==o&&(m=1/(f-1));const _=f-1,y=e.currentTime,b=e.currentAnimateTimings,E=b.duration;return u.forEach((N,A)=>{const L=m>0?A==_?1:m*A:s[A],W=L*E;e.currentTime=y+b.delay+W,b.duration=W,this._validateStyleAst(N,e),N.offset=L,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:Ds(this,Wb(t.animation),e),options:kh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function NMe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(kMe,"")),n=n.replace(/@\*/g,vx).replace(/@\w+/g,e=>vx+"-"+e.slice(1)).replace(/:animating/g,uF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,xs(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ds(this,Wb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:kh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Qke(){return new K(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:bx(t.timings,e.errors,!0);return{type:12,animation:Ds(this,Wb(t.animation),e),timings:i,options:null}}}class PMe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kh(n){return n?(n=$b(n)).params&&(n.params=function OMe(n){return n?$b(n):null}(n.params)):n={},n}function mF(n,t,e){return{duration:n,delay:t,easing:e}}function gF(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Ix{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UMe=new RegExp(":enter","g"),HMe=new RegExp(":leave","g");function _F(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new zMe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class zMe{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Ix;const f=new yF(t,e,c,r,o,u,[]);f.options=l;const m=l.delay?mc(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,l),Ds(this,i,f);const _=f.timelines.filter(y=>y.containsAnimation());if(_.length&&a.size){let y;for(let b=_.length-1;b>=0;b--){const E=_[b];if(E.element===e){y=E;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,f.errors,l)}return _.length?_.map(y=>y.buildKeyframes()):[gF(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:mc(Gb(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?mc(i.duration):null,a=null!=i.delay?mc(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ds(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xx);const s=mc(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ds(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?mc(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ds(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return bx(e.params?Gb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?mc(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xx);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),Ds(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;Ds(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const xx={};class yF{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Dx(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=mc(i.duration)),null!=i.delay&&(r.delay=mc(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Gb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new yF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new $Me(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(UMe,"."+this._enterClassName)).replace(HMe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function Xke(n){return new K(3014,!1)}()),a}}class Dx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Dx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||tc),this._currentKeyframe.set(e,tc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function WMe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,tc)}else $u(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Gb(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??tc),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=$u(a,new Map,this._backFill);c.forEach((u,f)=>{"!"===u?t.add(f):u===tc&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?wx(t.values()):[],s=e.size?wx(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return gF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class $Me extends Dx{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=$u(t[0]);l.set("offset",0),o.push(l);const c=$u(t[0]);c.set("offset",UZ(a)),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let m=$u(t[f]);const _=m.get("offset");m.set("offset",UZ((e+_*i)/s)),o.push(m)}i=s,e=0,r="",t=o}return gF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function UZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vF{}const GMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qMe extends vF{normalizePropertyName(t,e){return fF(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(GMe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function jke(n,t){return new K(3005,!1)}())}return s+o}}function jZ(n,t,e,i,r,o,s,a,l,c,u,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:m}}const bF={};class HZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function KMe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const f=[],m=this.ast.options&&this.ast.options.params||bF,y=this.buildStyles(i,a&&a.params||bF,f),b=l&&l.params||bF,E=this.buildStyles(r,b,f),N=new Set,A=new Map,L=new Map,W="void"===r,ce={params:ZMe(b,m),delay:this.ast.options?.delay},De=u?[]:_F(t,e,this.ast.animation,o,s,y,E,ce,c,f);let Me=0;if(De.forEach(rn=>{Me=Math.max(rn.duration+rn.delay,Me)}),f.length)return jZ(e,this._triggerName,i,r,W,y,E,[],[],A,L,Me,f);De.forEach(rn=>{const _n=rn.element,Xi=xs(A,_n,new Set);rn.preStyleProps.forEach(Pi=>Xi.add(Pi));const Jr=xs(L,_n,new Set);rn.postStyleProps.forEach(Pi=>Jr.add(Pi)),_n!==e&&N.add(_n)});const it=wx(N.values());return jZ(e,this._triggerName,i,r,W,y,E,De,it,A,L,Me)}}function ZMe(n,t){const e=$b(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class YMe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=$b(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gb(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class XMe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new YMe(r.style,r.options&&r.options.params||{},i))}),zZ(this.states,"true","1"),zZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new HZ(t,r,this.states))}),this.fallbackTransition=function JMe(n,t,e){return new HZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function zZ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const eNe=new Ix;class tNe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=pF(this._driver,e,i,[]);if(i.length)throw function oMe(n){return new K(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=IZ(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=_F(this._driver,e,o,cF,_x,new Map,new Map,i,eNe,r),s.forEach(u=>{const f=xs(a,u.element,new Map);u.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function sMe(){return new K(3300,!1)}()),s=[]),r.length)throw function aMe(n){return new K(3504,!1)}();a.forEach((u,f)=>{u.forEach((m,_)=>{u.set(_,this._driver.computeStyle(f,_,tc))})});const c=zu(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function lMe(n){return new K(3301,!1)}();return e}listen(t,e,i,r){const o=sF(e,"","","");return rF(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $Z="ng-animate-queued",wF="ng-animate-disabled",sNe=[],WZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aNe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class EF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dNe(n){return n??null}(i?t.value:t),i){const o=$b(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const qb="void",CF=new EF(qb);class lNe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function cMe(n,t){return new K(3302,!1)}();if(null==i||0==i.length)throw function uMe(n){return new K(3303,!1)}();if(!function hNe(n){return"start"==n||"done"==n}(i))throw function dMe(n,t){return new K(3400,!1)}();const o=xs(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=xs(this._engine.statesByElement,t,new Map);return a.has(e)||(Xs(t,yx),Xs(t,yx+"-"+e),a.set(e,CF)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function hMe(n){return new K(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new TF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Xs(t,yx),Xs(t,yx+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new EF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=CF),c.value!==qb&&l.value===c.value){if(!function mNe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const b=[],E=o.matchStyles(l.value,l.params,b),N=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Rh(t,E),fl(t,N)})}return}const m=xs(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!_){if(!r)return;_=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(Xs(t,$Z),s.onStart(()=>{sg(t,$Z)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const E=this._engine.playersByElement.get(t);if(E){let N=E.indexOf(s);N>=0&&E.splice(N,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,vx,!0);i.forEach(r=>{if(r[Ta])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,qb,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&zu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||CF,u=new EF(qb),f=new TF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ta];(!o||o===WZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Xs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=sF(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,rF(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class cNe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lNe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Sx(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Sx(e))return;const o=e[Ta];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xs(t,wF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),sg(t,wF))}removeNode(t,e,i){if(Sx(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ta]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Sx(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,vx,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ta];if(e&&e.setForRemoval){if(t[Ta]=WZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?zu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function fMe(n){return new K(3402,!1)}()}_flushAnimations(t,e){const i=new Ix,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Oe=>{u.add(Oe);const Xe=this.driver.query(Oe,".ng-animate-queued",!0);for(let ft=0;ft<Xe.length;ft++)u.add(Xe[ft])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=KZ(m,this.collectedEnterElements),y=new Map;let b=0;_.forEach((Oe,Xe)=>{const ft=cF+b++;y.set(Xe,ft),Oe.forEach(Ht=>Xs(Ht,ft))});const E=[],N=new Set,A=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const Xe=this.collectedLeaveElements[Oe],ft=Xe[Ta];ft&&ft.setForRemoval&&(E.push(Xe),N.add(Xe),ft.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(Ht=>N.add(Ht)):A.add(Xe))}const L=new Map,W=KZ(m,Array.from(N));W.forEach((Oe,Xe)=>{const ft=_x+b++;L.set(Xe,ft),Oe.forEach(Ht=>Xs(Ht,ft))}),t.push(()=>{_.forEach((Oe,Xe)=>{const ft=y.get(Xe);Oe.forEach(Ht=>sg(Ht,ft))}),W.forEach((Oe,Xe)=>{const ft=L.get(Xe);Oe.forEach(Ht=>sg(Ht,ft))}),E.forEach(Oe=>{this.processLeaveNode(Oe)})});const ce=[],De=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(e).forEach(ft=>{const Ht=ft.player,Fi=ft.element;if(ce.push(Ht),this.collectedEnterElements.length){const Ji=Fi[Ta];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(ft.triggerName)){const Bo=Ji.previousTriggersValues.get(ft.triggerName),mo=this.statesByElement.get(ft.element);if(mo&&mo.has(ft.triggerName)){const ag=mo.get(ft.triggerName);ag.value=Bo,mo.set(ft.triggerName,ag)}}return void Ht.destroy()}}const os=!f||!this.driver.containsElement(f,Fi),br=L.get(Fi),Ss=y.get(Fi),On=this._buildInstruction(ft,i,Ss,br,os);if(On.errors&&On.errors.length)return void De.push(On);if(os)return Ht.onStart(()=>Rh(Fi,On.fromStyles)),Ht.onDestroy(()=>fl(Fi,On.toStyles)),void r.push(Ht);if(ft.isFallbackTransition)return Ht.onStart(()=>Rh(Fi,On.fromStyles)),Ht.onDestroy(()=>fl(Fi,On.toStyles)),void r.push(Ht);const Ia=[];On.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||Ia.push(Ji)}),On.timelines=Ia,i.append(Fi,On.timelines),s.push({instruction:On,player:Ht,element:Fi}),On.queriedElements.forEach(Ji=>xs(a,Ji,[]).push(Ht)),On.preStyleProps.forEach((Ji,Bo)=>{if(Ji.size){let mo=l.get(Bo);mo||l.set(Bo,mo=new Set),Ji.forEach((ag,Nh)=>mo.add(Nh))}}),On.postStyleProps.forEach((Ji,Bo)=>{let mo=c.get(Bo);mo||c.set(Bo,mo=new Set),Ji.forEach((ag,Nh)=>mo.add(Nh))})});if(De.length){const Oe=[];De.forEach(Xe=>{Oe.push(function pMe(n,t){return new K(3505,!1)}())}),ce.forEach(Xe=>Xe.destroy()),this.reportError(Oe)}const Me=new Map,it=new Map;s.forEach(Oe=>{const Xe=Oe.element;i.has(Xe)&&(it.set(Xe,Xe),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,Me))}),r.forEach(Oe=>{const Xe=Oe.element;this._getPreviousPlayers(Xe,!1,Oe.namespaceId,Oe.triggerName,null).forEach(Ht=>{xs(Me,Xe,[]).push(Ht),Ht.destroy()})});const rn=E.filter(Oe=>YZ(Oe,l,c)),_n=new Map;qZ(_n,this.driver,A,c,tc).forEach(Oe=>{YZ(Oe,l,c)&&rn.push(Oe)});const Jr=new Map;_.forEach((Oe,Xe)=>{qZ(Jr,this.driver,new Set(Oe),l,"!")}),rn.forEach(Oe=>{const Xe=_n.get(Oe),ft=Jr.get(Oe);_n.set(Oe,new Map([...Xe?.entries()??[],...ft?.entries()??[]]))});const Pi=[],pl=[],ml={};s.forEach(Oe=>{const{element:Xe,player:ft,instruction:Ht}=Oe;if(i.has(Xe)){if(u.has(Xe))return ft.onDestroy(()=>fl(Xe,Ht.toStyles)),ft.disabled=!0,ft.overrideTotalTime(Ht.totalTime),void r.push(ft);let Fi=ml;if(it.size>1){let br=Xe;const Ss=[];for(;br=br.parentNode;){const On=it.get(br);if(On){Fi=On;break}Ss.push(br)}Ss.forEach(On=>it.set(On,Fi))}const os=this._buildAnimation(ft.namespaceId,Ht,Me,o,Jr,_n);if(ft.setRealPlayer(os),Fi===ml)Pi.push(ft);else{const br=this.playersByElement.get(Fi);br&&br.length&&(ft.parentPlayer=zu(br)),r.push(ft)}}else Rh(Xe,Ht.fromStyles),ft.onDestroy(()=>fl(Xe,Ht.toStyles)),pl.push(ft),u.has(Xe)&&r.push(ft)}),pl.forEach(Oe=>{const Xe=o.get(Oe.element);if(Xe&&Xe.length){const ft=zu(Xe);Oe.setRealPlayer(ft)}}),r.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<E.length;Oe++){const Xe=E[Oe],ft=Xe[Ta];if(sg(Xe,_x),ft&&ft.hasAnimation)continue;let Ht=[];if(a.size){let os=a.get(Xe);os&&os.length&&Ht.push(...os);let br=this.driver.query(Xe,uF,!0);for(let Ss=0;Ss<br.length;Ss++){let On=a.get(br[Ss]);On&&On.length&&Ht.push(...On)}}const Fi=Ht.filter(os=>!os.destroyed);Fi.length?fNe(this,Xe,Fi):this.processLeaveNode(Xe)}return E.length=0,Pi.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const Xe=this.players.indexOf(Oe);this.players.splice(Xe,1)}),Oe.play()}),Pi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==qb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=xs(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(_=>{const y=_.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),_.destroy(),f.push(_)})}Rh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,m=e.timelines.map(y=>{const b=y.element;u.add(b);const E=b[Ta];if(E&&E.removedBeforeQueried)return new Dv(y.duration,y.delay);const N=b!==l,A=function pNe(n){const t=[];return ZZ(n,t),t}((i.get(b)||sNe).map(Me=>Me.getRealPlayer())).filter(Me=>!!Me.element&&Me.element===b),L=o.get(b),W=s.get(b),ce=IZ(this._normalizer,y.keyframes,L,W),De=this._buildPlayer(y,ce,A);if(y.subTimeline&&r&&f.add(b),N){const Me=new TF(t,a,b);Me.setRealPlayer(De),c.push(Me)}return De});c.forEach(y=>{xs(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function uNe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Xs(y,MZ));const _=zu(m);return _.onDestroy(()=>{u.forEach(y=>sg(y,MZ)),fl(l,e.toStyles)}),f.forEach(y=>{xs(r,y,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Dv(t.duration,t.delay)}}class TF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Dv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>rF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sx(n){return n&&1===n.nodeType}function GZ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function qZ(n,t,e,i,r){const o=[];e.forEach(l=>o.push(GZ(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(f=>{const m=t.computeStyle(c,f,r);u.set(f,m),(!m||0==m.length)&&(c[Ta]=aNe,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>GZ(l,o[a++])),s}function KZ(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Xs(n,t){n.classList?.add(t)}function sg(n,t){n.classList?.remove(t)}function fNe(n,t,e){zu(e).onDone(()=>n.processLeaveNode(t))}function ZZ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wG?ZZ(i.players,t):t.push(i)}}function YZ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Ax{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cNe(t,e,i),this._timelineEngine=new tNe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=pF(this._driver,o,l,[]);if(l.length)throw function iMe(n,t){return new K(3404,!1)}();a=function QMe(n,t,e){return new XMe(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=xZ(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=xZ(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let _Ne=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fl(this._element,this._initialStyles),this._endStyles&&(fl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rh(this._element,this._endStyles),this._endStyles=null),fl(this._element,this._initialStyles),this._state=3)}}return n})();function IF(n){let t=null;return n.forEach((e,i)=>{(function yNe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class QZ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:FZ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vNe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return SZ(t,e)}getParentElement(t){return aF(t)}query(t,e,i){return AZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(_=>_ instanceof QZ);(function xMe(n,t){return 0===n||0===t})(i,r)&&u.forEach(_=>{_.currentSnapshot.forEach((y,b)=>c.set(b,y))});let f=function CMe(n){return n.length?n[0]instanceof Map?n:n.map(t=>NZ(t)):[]}(e).map(_=>$u(_));f=function DMe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,FZ(n,a)))}}return t}(t,f,c);const m=function gNe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=IF(t[0]),t.length>1&&(i=IF(t[t.length-1]))):t instanceof Map&&(e=IF(t)),e||i?new _Ne(n,e,i):null}(t,f);return new QZ(t,f,l,m)}}let bNe=(()=>{class n extends vG{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Uo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bG(e):e;return XZ(this._renderer,null,i,"register",[r]),new wNe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hf),P(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class wNe extends aCe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ENe(this._id,t,e||{},this._renderer)}}class ENe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return XZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function XZ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const JZ="@.disabled";let CNe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new eY("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new TNe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hf),P(Ax),P(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class eY{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==JZ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class TNe extends eY{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==JZ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function INe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function xNe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let DNe=(()=>{class n extends Ax{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wt),P(lF),P(vF),P(la))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const tY=[{provide:vG,useClass:bNe},{provide:vF,useFactory:function SNe(){return new qMe}},{provide:Ax,useClass:DNe},{provide:Hf,useFactory:function ANe(n,t,e){return new CNe(n,t,e)},deps:[KS,Ax,je]}],xF=[{provide:lF,useFactory:()=>new vNe},{provide:oa,useValue:"BrowserAnimations"},...tY],nY=[{provide:lF,useClass:RZ},{provide:oa,useValue:"NoopAnimations"},...tY];let RNe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?nY:xF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n});static#n=this.\u0275inj=Ye({providers:xF,imports:[sH]})}return n})();class kNe{intercept(t,e){const i=t.clone({headers:t.headers.append("Auth","xyz")});return e.handle(i)}}class MNe{intercept(t,e){return console.log("Kimeno keres"),console.log(t.url),console.log(t.headers),e.handle(t).pipe(gi(i=>{i.type===Ud.Response&&(console.log("Bejovo valasz"),console.log(i.body))}))}}let NNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ke({type:n,bootstrap:[Pke]});static#n=this.\u0275inj=Ye({providers:[{provide:PR,useClass:kNe,multi:!0},{provide:PR,useClass:MNe,multi:!0},DR],imports:[sH,sxe,Jpe,jae,Hae,zme,nge.initializeApp(jRe_firebaseConfig),X0e,age,URe,UEe,RNe,AT,gIe,S_e,U_e,eke,YCe,WTe,zIe,Cke,SR]})}return n})();Mse().bootstrapModule(NNe).catch(n=>console.error(n))},614:()=>{const eo=":";const yn=function(G,...j){if(yn.translate){const fe=yn.translate(G,j);G=fe[0],j=fe[1]}let ee=hi(G[0],G.raw[0]);for(let fe=1;fe<G.length;fe++)ee+=j[fe-1]+hi(G[fe],G.raw[fe]);return ee},Un=":";function hi(G,j){return j.charAt(0)===Un?G.substring(function ne(G,j){for(let ee=1,fe=1;ee<G.length;ee++,fe++)if("\\"===j[fe])fe++;else if(G[ee]===eo)return ee;throw new Error(`Unterminated $localize metadata block in "${j}".`)}(G,j)+1):G}globalThis.$localize=yn},106:(eo,wi,lt)=>{lt.d(wi,{Z:()=>Gn});var S=lt(58),re=lt(537),z=lt(534),Je=lt(879);class pt{constructor(gt,_t){this._delegate=gt,this.firebase=_t,(0,z._addComponent)(gt,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=gt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this._delegate.automaticDataCollectionEnabled=gt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(gt=>{this._delegate.checkDestroyed(),gt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(gt,_t=z._DEFAULT_ENTRY_NAME){var Ei;this._delegate.checkDestroyed();const qn=this._delegate.container.getProvider(gt);return!qn.isInitialized()&&"EXPLICIT"===(null===(Ei=qn.getComponent())||void 0===Ei?void 0:Ei.instantiationMode)&&qn.initialize(),qn.getImmediate({identifier:_t})}_removeServiceInstance(gt,_t=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(gt).clearInstance(_t)}_addComponent(gt){(0,z._addComponent)(this._delegate,gt)}_addOrOverwriteComponent(gt){(0,z._addOrOverwriteComponent)(this._delegate,gt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const di=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Xt(){const zt=function Dn(zt){const gt={},_t={__esModule:!0,initializeApp:function Rt(xt,ve={}){const Gt=z.initializeApp(xt,ve);if((0,S.r3)(gt,Gt.name))return gt[Gt.name];const Sn=new zt(Gt,_t);return gt[Gt.name]=Sn,Sn},app:qn,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function wr(xt){const ve=xt.name,Gt=ve.replace("-compat","");if(z._registerComponent(xt)&&"PUBLIC"===xt.type){const Sn=(ei=qn())=>{if("function"!=typeof ei[Gt])throw di.create("invalid-app-argument",{appName:ve});return ei[Gt]()};void 0!==xt.serviceProps&&(0,S.ZB)(Sn,xt.serviceProps),_t[Gt]=Sn,zt.prototype[Gt]=function(...ei){return this._getService.bind(this,ve).apply(this,xt.multipleInstances?ei:[])}}return"PUBLIC"===xt.type?_t[Gt]:null},removeApp:function Ei(xt){delete gt[xt]},useAsService:function Ci(xt,ve){return"serverAuth"===ve?null:ve},modularAPIs:z}};function qn(xt){if(!(0,S.r3)(gt,xt=xt||z._DEFAULT_ENTRY_NAME))throw di.create("no-app",{appName:xt});return gt[xt]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function $t(){return Object.keys(gt).map(xt=>gt[xt])}}),qn.App=zt,_t}(pt);return zt.INTERNAL=Object.assign(Object.assign({},zt.INTERNAL),{createFirebaseNamespace:Xt,extendNamespace:function gt(_t){(0,S.ZB)(zt,_t)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),zt}(),Ce=new Je.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const zt=self.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gn=he;!function on(zt){(0,z.registerVersion)("@firebase/app-compat","0.2.23",zt)}()},534:(eo,wi,lt)=>{lt.r(wi),lt.d(wi,{FirebaseError:()=>Je.ZR,SDK_VERSION:()=>ss,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>er,_addOrOverwriteComponent:()=>ar,_apps:()=>ti,_clearComponents:()=>vn,_components:()=>$i,_getProvider:()=>Kt,_registerComponent:()=>Tn,_removeServiceInstance:()=>dn,deleteApp:()=>Ai,getApp:()=>as,getApps:()=>Wi,initializeApp:()=>vo,onLog:()=>gc,registerVersion:()=>bo,setLogLevel:()=>xa});var S=lt(861),re=lt(537),z=lt(879),Je=lt(58);const pt=(q,B)=>B.some(Ee=>q instanceof Ee);let Wn,di;const he=new WeakMap,Ce=new WeakMap,qe=new WeakMap,Ct=new WeakMap,on=new WeakMap;let gt={get(q,B,Ee){if(q instanceof IDBTransaction){if("done"===B)return Ce.get(q);if("objectStoreNames"===B)return q.objectStoreNames||qe.get(q);if("store"===B)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return Rt(q[B])},set:(q,B,Ee)=>(q[B]=Ee,!0),has:(q,B)=>q instanceof IDBTransaction&&("done"===B||"store"===B)||B in q};function qn(q){return"function"==typeof q?function Ei(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xt(){return di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...B){return q.apply($t(this),B),Rt(he.get(this))}:function(...B){return Rt(q.apply($t(this),B))}:function(B,...Ee){const et=q.call($t(this),B,...Ee);return qe.set(et,B.sort?B.sort():[B]),Rt(et)}}(q):(q instanceof IDBTransaction&&function zt(q){if(Ce.has(q))return;const B=new Promise((Ee,et)=>{const Ot=()=>{q.removeEventListener("complete",Ut),q.removeEventListener("error",K),q.removeEventListener("abort",K)},Ut=()=>{Ee(),Ot()},K=()=>{et(q.error||new DOMException("AbortError","AbortError")),Ot()};q.addEventListener("complete",Ut),q.addEventListener("error",K),q.addEventListener("abort",K)});Ce.set(q,B)}(q),pt(q,function Dn(){return Wn||(Wn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,gt):q)}function Rt(q){if(q instanceof IDBRequest)return function Gn(q){const B=new Promise((Ee,et)=>{const Ot=()=>{q.removeEventListener("success",Ut),q.removeEventListener("error",K)},Ut=()=>{Ee(Rt(q.result)),Ot()},K=()=>{et(q.error),Ot()};q.addEventListener("success",Ut),q.addEventListener("error",K)});return B.then(Ee=>{Ee instanceof IDBCursor&&he.set(Ee,q)}).catch(()=>{}),on.set(B,q),B}(q);if(Ct.has(q))return Ct.get(q);const B=qn(q);return B!==q&&(Ct.set(q,B),on.set(B,q)),B}const $t=q=>on.get(q),xt=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Gt=new Map;function Sn(q,B){if(!(q instanceof IDBDatabase)||B in q||"string"!=typeof B)return;if(Gt.get(B))return Gt.get(B);const Ee=B.replace(/FromIndex$/,""),et=B!==Ee,Ot=ve.includes(Ee);if(!(Ee in(et?IDBIndex:IDBObjectStore).prototype)||!Ot&&!xt.includes(Ee))return;const Ut=function(){var K=(0,S.Z)(function*(Ri,...Ze){const Wt=this.transaction(Ri,Ot?"readwrite":"readonly");let Wu=Wt.store;return et&&(Wu=Wu.index(Ze.shift())),(yield Promise.all([Wu[Ee](...Ze),Ot&&Wt.done]))[0]});return function(Ze){return K.apply(this,arguments)}}();return Gt.set(B,Ut),Ut}!function _t(q){gt=q(gt)}(q=>({...q,get:(B,Ee,et)=>Sn(B,Ee)||q.get(B,Ee,et),has:(B,Ee)=>!!Sn(B,Ee)||q.has(B,Ee)}));class ei{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Kn(q){const B=q.getComponent();return"VERSION"===B?.type}(Ee)){const et=Ee.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ee=>Ee).join(" ")}}const go="@firebase/app",ct=new z.Yd("@firebase/app"),Bt="[DEFAULT]",Rn={[go]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,$i=new Map;function er(q,B){try{q.container.addComponent(B)}catch(Ee){ct.debug(`Component ${B.name} failed to register with FirebaseApp ${q.name}`,Ee)}}function ar(q,B){q.container.addOrOverwriteComponent(B)}function Tn(q){const B=q.name;if($i.has(B))return ct.debug(`There were multiple attempts to register component ${B}.`),!1;$i.set(B,q);for(const Ee of ti.values())er(Ee,q);return!0}function Kt(q,B){const Ee=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),q.container.getProvider(B)}function dn(q,B,Ee=Bt){Kt(q,B).clearInstance(Ee)}function vn(){$i.clear()}const jn=new Je.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(B,Ee,et){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const ss="10.6.0";function vo(q,B={}){let Ee=q;"object"!=typeof B&&(B={name:B});const et=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},B),Ot=et.name;if("string"!=typeof Ot||!Ot)throw jn.create("bad-app-name",{appName:String(Ot)});if(Ee||(Ee=(0,Je.aH)()),!Ee)throw jn.create("no-options");const Ut=ti.get(Ot);if(Ut){if((0,Je.vZ)(Ee,Ut.options)&&(0,Je.vZ)(et,Ut.config))return Ut;throw jn.create("duplicate-app",{appName:Ot})}const K=new re.H0(Ot);for(const Ze of $i.values())K.addComponent(Ze);const Ri=new Zn(Ee,et,K);return ti.set(Ot,Ri),Ri}function as(q=Bt){const B=ti.get(q);if(!B&&q===Bt&&(0,Je.aH)())return vo();if(!B)throw jn.create("no-app",{appName:q});return B}function Wi(){return Array.from(ti.values())}function Ai(q){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,S.Z)(function*(q){const B=q.name;ti.has(B)&&(ti.delete(B),yield Promise.all(q.container.getProviders().map(Ee=>Ee.delete())),q.isDeleted=!0)})).apply(this,arguments)}function bo(q,B,Ee){var et;let Ot=null!==(et=Rn[q])&&void 0!==et?et:q;Ee&&(Ot+=`-${Ee}`);const Ut=Ot.match(/\s|\//),K=B.match(/\s|\//);if(Ut||K){const Ri=[`Unable to register library "${Ot}" with version "${B}":`];return Ut&&Ri.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Ut&&K&&Ri.push("and"),K&&Ri.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void ct.warn(Ri.join(" "))}Tn(new re.wA(`${Ot}-version`,()=>({library:Ot,version:B}),"VERSION"))}function gc(q,B){if(null!==q&&"function"!=typeof q)throw jn.create("invalid-log-argument");(0,z.Am)(q,B)}function xa(q){(0,z.Ub)(q)}const _l="firebase-heartbeat-database",As=1,F="firebase-heartbeat-store";let O=null;function C(){return O||(O=function wr(q,B,{blocked:Ee,upgrade:et,blocking:Ot,terminated:Ut}={}){const K=indexedDB.open(q,B),Ri=Rt(K);return et&&K.addEventListener("upgradeneeded",Ze=>{et(Rt(K.result),Ze.oldVersion,Ze.newVersion,Rt(K.transaction),Ze)}),Ee&&K.addEventListener("blocked",Ze=>Ee(Ze.oldVersion,Ze.newVersion,Ze)),Ri.then(Ze=>{Ut&&Ze.addEventListener("close",()=>Ut()),Ot&&Ze.addEventListener("versionchange",Wt=>Ot(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Ri}(_l,As,{upgrade:(q,B)=>{0===B&&q.createObjectStore(F)}}).catch(q=>{throw jn.create("idb-open",{originalErrorMessage:q.message})})),O}function w(){return(w=(0,S.Z)(function*(q){try{return yield(yield C()).transaction(F).objectStore(F).get($e(q))}catch(B){if(B instanceof Je.ZR)ct.warn(B.message);else{const Ee=jn.create("idb-get",{originalErrorMessage:B?.message});ct.warn(Ee.message)}}})).apply(this,arguments)}function k(q,B){return se.apply(this,arguments)}function se(){return(se=(0,S.Z)(function*(q,B){try{const et=(yield C()).transaction(F,"readwrite");yield et.objectStore(F).put(B,$e(q)),yield et.done}catch(Ee){if(Ee instanceof Je.ZR)ct.warn(Ee.message);else{const et=jn.create("idb-set",{originalErrorMessage:Ee?.message});ct.warn(et.message)}}})).apply(this,arguments)}function $e(q){return`${q.name}!${q.options.appId}`}class ln{constructor(B){this.container=B,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new tt(Ee),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var B=this;return(0,S.Z)(function*(){var Ee;const Ot=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Ne();if(null==(null===(Ee=B._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!B._heartbeatsCache.heartbeats.some(K=>K.date===Ut))return B._heartbeatsCache.heartbeats.push({date:Ut,agent:Ot}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(K=>{const Ri=new Date(K.date).valueOf();return Date.now()-Ri<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,S.Z)(function*(){var Ee;if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null==(null===(Ee=B._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)||0===B._heartbeatsCache.heartbeats.length)return"";const et=Ne(),{heartbeatsToSend:Ot,unsentEntries:Ut}=function kn(q,B=1024){const Ee=[];let et=q.slice();for(const Ot of q){const Ut=Ee.find(K=>K.agent===Ot.agent);if(Ut){if(Ut.dates.push(Ot.date),tr(Ee)>B){Ut.dates.pop();break}}else if(Ee.push({agent:Ot.agent,dates:[Ot.date]}),tr(Ee)>B){Ee.pop();break}et=et.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:et}}(B._heartbeatsCache.heartbeats),K=(0,Je.L)(JSON.stringify({version:2,heartbeats:Ot}));return B._heartbeatsCache.lastSentHeartbeatDate=et,Ut.length>0?(B._heartbeatsCache.heartbeats=Ut,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),K})()}}function Ne(){return(new Date).toISOString().substring(0,10)}class tt{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Je.hl)()&&(0,Je.eu)().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,S.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function x(q){return w.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var Ee=this;return(0,S.Z)(function*(){var et;if(yield Ee._canUseIndexedDBPromise){const Ut=yield Ee.read();return k(Ee.app,{lastSentHeartbeatDate:null!==(et=B.lastSentHeartbeatDate)&&void 0!==et?et:Ut.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var Ee=this;return(0,S.Z)(function*(){var et;if(yield Ee._canUseIndexedDBPromise){const Ut=yield Ee.read();return k(Ee.app,{lastSentHeartbeatDate:null!==(et=B.lastSentHeartbeatDate)&&void 0!==et?et:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...B.heartbeats]})}})()}}function tr(q){return(0,Je.L)(JSON.stringify({version:2,heartbeats:q})).length}!function yl(q){Tn(new re.wA("platform-logger",B=>new ei(B),"PRIVATE")),Tn(new re.wA("heartbeat",B=>new ln(B),"PRIVATE")),bo(go,"0.9.23",q),bo(go,"0.9.23","esm2017"),bo("fire-js","")}("")},537:(eo,wi,lt)=>{lt.d(wi,{H0:()=>Dn,wA:()=>z,zt:()=>pt});var S=lt(861),re=lt(58);class z{constructor(he,Ce,qe){this.name=he,this.instanceFactory=Ce,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Je="[DEFAULT]";class pt{constructor(he,Ce){this.name=he,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const Ce=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(Ce)){const qe=new re.BH;if(this.instancesDeferred.set(Ce,qe),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:Ce});Ct&&qe.resolve(Ct)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(he){var Ce;const qe=this.normalizeInstanceIdentifier(he?.identifier),Ct=null!==(Ce=he?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(on){if(Ct)return null;throw on}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function di(Xt){return"EAGER"===Xt.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Je})}catch{}for(const[Ce,qe]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(Ce);try{const on=this.getOrInitializeService({instanceIdentifier:Ct});qe.resolve(on)}catch{}}}}clearInstance(he=Je){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,S.Z)(function*(){const Ce=Array.from(he.instances.values());yield Promise.all([...Ce.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...Ce.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Je){return this.instances.has(he)}getOptions(he=Je){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:Ce={}}=he,qe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:qe,options:Ce});for(const[on,Gn]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(on)&&Gn.resolve(Ct);return Ct}onInit(he,Ce){var qe;const Ct=this.normalizeInstanceIdentifier(Ce),on=null!==(qe=this.onInitCallbacks.get(Ct))&&void 0!==qe?qe:new Set;on.add(he),this.onInitCallbacks.set(Ct,on);const Gn=this.instances.get(Ct);return Gn&&he(Gn,Ct),()=>{on.delete(he)}}invokeOnInitCallbacks(he,Ce){const qe=this.onInitCallbacks.get(Ce);if(qe)for(const Ct of qe)try{Ct(he,Ce)}catch{}}getOrInitializeService({instanceIdentifier:he,options:Ce={}}){let qe=this.instances.get(he);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Xt=he,Xt===Je?void 0:Xt),options:Ce}),this.instances.set(he,qe),this.instancesOptions.set(he,Ce),this.invokeOnInitCallbacks(qe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,qe)}catch{}var Xt;return qe||null}normalizeInstanceIdentifier(he=Je){return this.component?this.component.multipleInstances?he:Je:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dn{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const Ce=this.getProvider(he.name);if(Ce.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);Ce.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const Ce=new pt(he,this);return this.providers.set(he,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},879:(eo,wi,lt)=>{lt.d(wi,{Am:()=>Xt,Ub:()=>Dn,Yd:()=>di,in:()=>re});const S=[];var re=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(re||{});const z={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Je=re.INFO,pt={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Wn=(he,Ce,...qe)=>{if(Ce<he.logLevel)return;const Ct=(new Date).toISOString(),on=pt[Ce];if(!on)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[on](`[${Ct}]  ${he.name}:`,...qe)};class di{constructor(Ce){this.name=Ce,this._logLevel=Je,this._logHandler=Wn,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in re))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?z[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...Ce),this._logHandler(this,re.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...Ce),this._logHandler(this,re.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,re.INFO,...Ce),this._logHandler(this,re.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,re.WARN,...Ce),this._logHandler(this,re.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...Ce),this._logHandler(this,re.ERROR,...Ce)}}function Dn(he){S.forEach(Ce=>{Ce.setLogLevel(he)})}function Xt(he,Ce){for(const qe of S){let Ct=null;Ce&&Ce.level&&(Ct=z[Ce.level]),qe.userLogHandler=null===he?null:(on,Gn,...zt)=>{const gt=zt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Gn>=(Ct??on.logLevel)&&he({level:re[Gn].toLowerCase(),message:gt,args:zt,type:on.name})}}}},365:(eo,wi,lt)=>{lt.r(wi);var S=lt(861),re=lt(106),z=lt(562),Je=lt(58),di=(lt(534),lt(879),lt(537));function Dn(){return window}function Ce(){return Ce=(0,S.Z)(function*(C,x,w){var k;const{BuildInfo:se}=Dn();(0,z.au)(x.sessionId,"AuthEvent did not contain a session ID");const $e=yield function _t(C){return Ei.apply(this,arguments)}(x.sessionId),Ve={};return(0,z.av)()?Ve.ibi=se.packageName:(0,z.aw)()?Ve.apn=se.packageName:(0,z.ax)(C,"operation-not-supported-in-this-environment"),se.displayName&&(Ve.appDisplayName=se.displayName),Ve.sessionId=$e,(0,z.ay)(C,w,x.type,void 0,null!==(k=x.eventId)&&void 0!==k?k:void 0,Ve)}),Ce.apply(this,arguments)}function Ct(){return(Ct=(0,S.Z)(function*(C){const{BuildInfo:x}=Dn(),w={};(0,z.av)()?w.iosBundleId=x.packageName:(0,z.aw)()?w.androidPackageName=x.packageName:(0,z.ax)(C,"operation-not-supported-in-this-environment"),yield(0,z.az)(C,w)})).apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(C,x,w){const{cordova:k}=Dn();let se=()=>{};try{yield new Promise(($e,Ve)=>{let ht=null;function ln(){var tt;$e();const tr=null===(tt=k.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof tr&&tr(),"function"==typeof w?.close&&w.close()}function Ne(){ht||(ht=window.setTimeout(()=>{Ve((0,z.aB)(C,"redirect-cancelled-by-user"))},2e3))}function kn(){"visible"===document?.visibilityState&&Ne()}x.addPassiveListener(ln),document.addEventListener("resume",Ne,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",kn,!1),se=()=>{x.removePassiveListener(ln),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",kn,!1),ht&&window.clearTimeout(ht)}})}finally{se()}})).apply(this,arguments)}function Ei(){return(Ei=(0,S.Z)(function*(C){const x=function qn(C){if((0,z.au)(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const x=new ArrayBuffer(C.length),w=new Uint8Array(x);for(let k=0;k<C.length;k++)w[k]=C.charCodeAt(k);return w}(C),w=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(w)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $t extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(x)),super.onEvent(x)}initialized(){var x=this;return(0,S.Z)(function*(){yield x.initPromise})()}}function xt(C){return ve.apply(this,arguments)}function ve(){return(ve=(0,S.Z)(function*(C){const x=yield ei()._get(Kn(C));return x&&(yield ei()._remove(Kn(C))),x})).apply(this,arguments)}function Sn(){const C=[];for(let w=0;w<20;w++){const k=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(k))}return C.join("")}function ei(){return(0,z.aE)(z.b)}function Kn(C){return(0,z.aF)("authEvent",C.config.apiKey,C.name)}function ct(C){if(!C?.includes("?"))return{};const[x,...w]=C.split("?");return(0,Je.zd)(w.join("?"))}const Q=class yo{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){const k=x._key();let se=w.eventManagers.get(k);return se||(se=new $t(x),w.eventManagers.set(k,se),w.attachCallbackListeners(x,se)),se})()}_openPopup(x){(0,z.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,w,k,se){var $e=this;return(0,S.Z)(function*(){!function gt(C){var x,w,k,se,$e,Ve,ht,ln,Ne,kn;const tt=Dn();(0,z.aC)("function"==typeof(null===(x=tt?.universalLinks)||void 0===x?void 0:x.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(w=tt?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===($e=null===(se=null===(k=tt?.cordova)||void 0===k?void 0:k.plugins)||void 0===se?void 0:se.browsertab)||void 0===$e?void 0:$e.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(ln=null===(ht=null===(Ve=tt?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===ln?void 0:ln.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(kn=null===(Ne=tt?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===kn?void 0:kn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ve=yield $e._initialize(x);yield Ve.initialized(),Ve.resetRedirect(),(0,z.aI)(),yield $e._originValidation(x);const ht=function wr(C,x,w=null){return{type:x,eventId:w,urlResponse:null,sessionId:Sn(),postBody:null,tenantId:C.tenantId,error:(0,z.aB)(C,"no-auth-event")}}(x,k,se);yield function Ci(C,x){return ei()._set(Kn(C),x)}(x,ht);const ln=yield function he(C,x,w){return Ce.apply(this,arguments)}(x,ht,w),Ne=yield function on(C){const{cordova:x}=Dn();return new Promise(w=>{x.plugins.browsertab.isAvailable(k=>{let se=null;k?x.plugins.browsertab.openUrl(C):se=x.InAppBrowser.open(C,(0,z.aA)()?"_blank":"_system","location=yes"),w(se)})})}(ln);return function Gn(C,x,w){return zt.apply(this,arguments)}(x,Ve,Ne)})()}_isIframeWebStorageSupported(x,w){throw new Error("Method not implemented.")}_originValidation(x){const w=x._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function qe(C){return Ct.apply(this,arguments)}(x)),this.originValidationPromises[w]}attachCallbackListeners(x,w){const{universalLinks:k,handleOpenURL:se,BuildInfo:$e}=Dn(),Ve=setTimeout((0,S.Z)(function*(){yield xt(x),w.onEvent(ne())}),500),ht=function(){var kn=(0,S.Z)(function*(tt){clearTimeout(Ve);const tr=yield xt(x);let yl=null;tr&&tt?.url&&(yl=function Gt(C,x){var w,k;const se=function _o(C){const x=ct(C),w=x.link?decodeURIComponent(x.link):void 0,k=ct(w).link,se=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return ct(se).link||se||k||w||C}(x);if(se.includes("/__/auth/callback")){const $e=ct(se),Ve=$e.firebaseError?function go(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent($e.firebaseError)):null,ht=null===(k=null===(w=Ve?.code)||void 0===w?void 0:w.split("auth/"))||void 0===k?void 0:k[1],ln=ht?(0,z.aB)(ht):null;return ln?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:ln,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:se,postBody:null}}return null}(tr,tt.url)),w.onEvent(yl||ne())});return function(tr){return kn.apply(this,arguments)}}();typeof k<"u"&&"function"==typeof k.subscribe&&k.subscribe(null,ht);const ln=se,Ne=`${$e.packageName.toLowerCase()}://`;Dn().handleOpenURL=function(){var kn=(0,S.Z)(function*(tt){if(tt.toLowerCase().startsWith(Ne)&&ht({url:tt}),"function"==typeof ln)try{ln(tt)}catch(tr){console.error(tr)}});return function(tt){return kn.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function Se(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function we(C=(0,Je.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const C=self.localStorage,x=z.aN();if(C)return C.setItem(x,"1"),C.removeItem(x),!function yn(C=(0,Je.z$)()){return function Jt(){return(0,Je.w1)()&&11===document?.documentMode}()||function Bn(C=(0,Je.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,Je.hl)()}catch{return hi()&&(0,Je.hl)()}return!1}function hi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function G(){return(function kt(){return"http:"===Se()||"https:"===Se()}()||(0,Je.ru)()||we())&&!function rt(){return(0,Je.b$)()||(0,Je.UG)()}()&&Un()&&!hi()}function j(){return we()&&typeof document<"u"}function fe(){return(fe=(0,S.Z)(function*(){return!!j()&&new Promise(C=>{const x=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),C(!0)})})})).apply(this,arguments)}const be={LOCAL:"local",NONE:"none",SESSION:"session"},An=z.aC,qt="persistence";function Rn(C){return ti.apply(this,arguments)}function ti(){return(ti=(0,S.Z)(function*(C){yield C._initializationPromise;const x=er(),w=z.aF(qt,C.config.apiKey,C.name);x&&x.setItem(w,C._getPersistence())})).apply(this,arguments)}function er(){var C;try{return(null===(C=function Ae(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const ar=z.aC;class Tn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(Q),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,w,k,se){var $e=this;return(0,S.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(x,w,k,se)})()}_openRedirect(x,w,k,se){var $e=this;return(0,S.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(x,w,k,se)})()}_isIframeWebStorageSupported(x,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,w)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return j()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ar(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,S.Z)(function*(){if(x.underlyingResolver)return;const w=yield function ee(){return fe.apply(this,arguments)}();x.underlyingResolver=w?x.cordovaResolver:x.browserResolver})()}}function Kt(C){return C.unwrap()}function vn(C){return jn(C)}function jn(C){const{_tokenResponse:x}=C instanceof Je.ZR?C.customData:C;if(!x)return null;if(!(C instanceof Je.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return z.P.credentialFromResult(C);const w=x.providerId;if(!w||w===z.p.PASSWORD)return null;let k;switch(w){case z.p.GOOGLE:k=z.X;break;case z.p.FACEBOOK:k=z.W;break;case z.p.GITHUB:k=z.Y;break;case z.p.TWITTER:k=z.$;break;default:const{oauthIdToken:se,oauthAccessToken:$e,oauthTokenSecret:Ve,pendingToken:ht,nonce:ln}=x;return $e||Ve||se||ht?ht?w.startsWith("saml.")?z.aQ._create(w,ht):z.N._fromParams({providerId:w,signInMethod:w,pendingToken:ht,idToken:se,accessToken:$e}):new z.Z(w).credential({idToken:se,accessToken:$e,rawNonce:ln}):null}return C instanceof Je.ZR?k.credentialFromError(C):k.credentialFromResult(C)}function Zn(C,x){return x.catch(w=>{throw w instanceof Je.ZR&&function gl(C,x){var w;const k=null===(w=x.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new as(C,z.as(C,x));else if(k){const se=jn(x),$e=x;se&&($e.credential=se,$e.tenantId=k.tenantId||void 0,$e.email=k.email||void 0,$e.phoneNumber=k.phoneNumber||void 0)}}(C,w),w}).then(w=>{const se=w.user;return{operationType:w.operationType,credential:vn(w),additionalUserInfo:z.aq(w),user:Wi.getOrCreate(se)}})}function ss(C,x){return vo.apply(this,arguments)}function vo(){return(vo=(0,S.Z)(function*(C,x){const w=yield x;return{verificationId:w.verificationId,confirm:k=>Zn(C,w.confirm(k))}})).apply(this,arguments)}class as{constructor(x,w){this.resolver=w,this.auth=function dn(C){return C.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Zn(Kt(this.auth),this.resolver.resolveSignIn(x))}}class Wi{constructor(x){this._delegate=x,this.multiFactor=z.at(x)}static getOrCreate(x){return Wi.USER_MAP.has(x)||Wi.USER_MAP.set(x,new Wi(x)),Wi.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.a2(w._delegate,x))})()}linkWithPhoneNumber(x,w){var k=this;return(0,S.Z)(function*(){return ss(k.auth,z.l(k._delegate,x,w))})()}linkWithPopup(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.d(w._delegate,x,Tn))})()}linkWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield Rn(z.aJ(w.auth)),z.g(w._delegate,x,Tn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.a3(w._delegate,x))})()}reauthenticateWithPhoneNumber(x,w){return ss(this.auth,z.r(this._delegate,x,w))}reauthenticateWithPopup(x){return Zn(this.auth,z.e(this._delegate,x,Tn))}reauthenticateWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield Rn(z.aJ(w.auth)),z.h(w._delegate,x,Tn)})()}sendEmailVerification(x){return z.ag(this._delegate,x)}unlink(x){var w=this;return(0,S.Z)(function*(){return yield z.ap(w._delegate,x),w})()}updateEmail(x){return z.al(this._delegate,x)}updatePassword(x){return z.am(this._delegate,x)}updatePhoneNumber(x){return z.u(this._delegate,x)}updateProfile(x){return z.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,w){return z.ah(this._delegate,x,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const Ai=z.aC;let Cr=(()=>{class C{constructor(w,k){if(this.app=w,k.isInitialized())return this._delegate=k.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=w.options;Ai(se,"invalid-api-key",{appName:w.name}),Ai(se,"invalid-api-key",{appName:w.name});const $e=typeof window<"u"?Tn:void 0;this._delegate=k.initialize({options:{persistence:gc(se,w.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,k){z.K(this._delegate,w,k)}applyActionCode(w){return z.a7(this._delegate,w)}checkActionCode(w){return z.a8(this._delegate,w)}confirmPasswordReset(w,k){return z.a6(this._delegate,w,k)}createUserWithEmailAndPassword(w,k){var se=this;return(0,S.Z)(function*(){return Zn(se._delegate,z.aa(se._delegate,w,k))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return z.af(this._delegate,w)}isSignInWithEmailLink(w){return z.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,S.Z)(function*(){Ai(G(),w._delegate,"operation-not-supported-in-this-environment");const k=yield z.j(w._delegate,Tn);return k?Zn(w._delegate,Promise.resolve(k)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function $(C,x){(0,z.aJ)(C)._logFramework(x)}(this._delegate,w)}onAuthStateChanged(w,k,se){const{next:$e,error:Ve,complete:ht}=bo(w,k,se);return this._delegate.onAuthStateChanged($e,Ve,ht)}onIdTokenChanged(w,k,se){const{next:$e,error:Ve,complete:ht}=bo(w,k,se);return this._delegate.onIdTokenChanged($e,Ve,ht)}sendSignInLinkToEmail(w,k){return z.ac(this._delegate,w,k)}sendPasswordResetEmail(w,k){return z.a5(this._delegate,w,k||void 0)}setPersistence(w){var k=this;return(0,S.Z)(function*(){let se;switch(function Bt(C,x){An(Object.values(be).includes(x),C,"invalid-persistence-type"),(0,Je.b$)()?An(x!==be.SESSION,C,"unsupported-persistence-type"):(0,Je.UG)()?An(x===be.NONE,C,"unsupported-persistence-type"):hi()?An(x===be.NONE||x===be.LOCAL&&(0,Je.hl)(),C,"unsupported-persistence-type"):An(x===be.NONE||Un(),C,"unsupported-persistence-type")}(k._delegate,w),w){case be.SESSION:se=z.a;break;case be.LOCAL:se=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case be.NONE:se=z.U;break;default:return z.ax("argument-error",{appName:k._delegate.name})}return k._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Zn(this._delegate,z.a0(this._delegate))}signInWithCredential(w){return Zn(this._delegate,z.a1(this._delegate,w))}signInWithCustomToken(w){return Zn(this._delegate,z.a4(this._delegate,w))}signInWithEmailAndPassword(w,k){return Zn(this._delegate,z.ab(this._delegate,w,k))}signInWithEmailLink(w,k){return Zn(this._delegate,z.ae(this._delegate,w,k))}signInWithPhoneNumber(w,k){return ss(this._delegate,z.s(this._delegate,w,k))}signInWithPopup(w){var k=this;return(0,S.Z)(function*(){return Ai(G(),k._delegate,"operation-not-supported-in-this-environment"),Zn(k._delegate,z.c(k._delegate,w,Tn))})()}signInWithRedirect(w){var k=this;return(0,S.Z)(function*(){return Ai(G(),k._delegate,"operation-not-supported-in-this-environment"),yield Rn(k._delegate),z.f(k._delegate,w,Tn)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return z.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=be,C})();function bo(C,x,w){let k=C;"function"!=typeof C&&({next:k,error:x,complete:w}=C);const se=k;return{next:Ve=>se(Ve&&Wi.getOrCreate(Ve)),error:x,complete:w}}function gc(C,x){const w=function $i(C,x){const w=er();if(!w)return[];const k=z.aF(qt,C,x);switch(w.getItem(k)){case be.NONE:return[z.U];case be.LOCAL:return[z.i,z.a];case be.SESSION:return[z.a];default:return[]}}(C,x);if(typeof self<"u"&&!w.includes(z.i)&&w.push(z.i),typeof window<"u")for(const k of[z.b,z.a])w.includes(k)||w.push(k);return w.includes(z.U)||w.push(z.U),w}class xa{constructor(){this.providerId="phone",this._delegate=new z.P(Kt(re.Z.auth()))}static credential(x,w){return z.P.credential(x,w)}verifyPhoneNumber(x,w){return this._delegate.verifyPhoneNumber(x,w)}unwrap(){return this._delegate}}xa.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,xa.PROVIDER_ID=z.P.PROVIDER_ID;const _l=z.aC;class As{constructor(x,w,k=re.Z.app()){var se;_l(null===(se=k.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:k.name}),this._delegate=new z.R(k.auth(),x,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function O(C){C.INTERNAL.registerComponent(new di.wA("auth-compat",x=>{const w=x.getProvider("app-compat").getImmediate(),k=x.getProvider("auth");return new Cr(w,k)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:xa,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:As,TwitterAuthProvider:z.$,Auth:Cr,AuthCredential:z.L,Error:Je.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.9")}(re.Z)},861:(eo,wi,lt)=>{function S(z,Je,pt,Wn,di,Dn,Xt){try{var he=z[Dn](Xt),Ce=he.value}catch(qe){return void pt(qe)}he.done?Je(Ce):Promise.resolve(Ce).then(Wn,di)}function re(z){return function(){var Je=this,pt=arguments;return new Promise(function(Wn,di){var Dn=z.apply(Je,pt);function Xt(Ce){S(Dn,Wn,di,Xt,he,"next",Ce)}function he(Ce){S(Dn,Wn,di,Xt,he,"throw",Ce)}Xt(void 0)})}}lt.d(wi,{Z:()=>re})},582:(eo,wi,lt)=>{function Je(Q,ne){var $={};for(var Y in Q)Object.prototype.hasOwnProperty.call(Q,Y)&&ne.indexOf(Y)<0&&($[Y]=Q[Y]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Y=Object.getOwnPropertySymbols(Q);me<Y.length;me++)ne.indexOf(Y[me])<0&&Object.prototype.propertyIsEnumerable.call(Q,Y[me])&&($[Y[me]]=Q[Y[me]])}return $}function qe(Q,ne,$,Y){return new($||($=Promise))(function(de,Se){function kt(Jt){try{rt(Y.next(Jt))}catch(Bn){Se(Bn)}}function we(Jt){try{rt(Y.throw(Jt))}catch(Bn){Se(Bn)}}function rt(Jt){Jt.done?de(Jt.value):function me(de){return de instanceof $?de:new $(function(Se){Se(de)})}(Jt.value).then(kt,we)}rt((Y=Y.apply(Q,ne||[])).next())})}function Rt(Q){return this instanceof Rt?(this.v=Q,this):new Rt(Q)}function $t(Q,ne,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Y=$.apply(Q,ne||[]),de=[];return me={},Se("next"),Se("throw"),Se("return"),me[Symbol.asyncIterator]=function(){return this},me;function Se(yn){Y[yn]&&(me[yn]=function(Un){return new Promise(function(hi,G){de.push([yn,Un,hi,G])>1||kt(yn,Un)})})}function kt(yn,Un){try{!function we(yn){yn.value instanceof Rt?Promise.resolve(yn.value.v).then(rt,Jt):Bn(de[0][2],yn)}(Y[yn](Un))}catch(hi){Bn(de[0][3],hi)}}function rt(yn){kt("next",yn)}function Jt(yn){kt("throw",yn)}function Bn(yn,Un){yn(Un),de.shift(),de.length&&kt(de[0][0],de[0][1])}}function Ci(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function zt(Q){var ne="function"==typeof Symbol&&Symbol.iterator,$=ne&&Q[ne],Y=0;if($)return $.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Y>=Q.length&&(Q=void 0),{value:Q&&Q[Y++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),$={},Y("next"),Y("throw"),Y("return"),$[Symbol.asyncIterator]=function(){return this},$);function Y(de){$[de]=Q[de]&&function(Se){return new Promise(function(kt,we){!function me(de,Se,kt,we){Promise.resolve(we).then(function(rt){de({value:rt,done:kt})},Se)}(kt,we,(Se=Q[de](Se)).done,Se.value)})}}}lt.d(wi,{FC:()=>$t,KL:()=>Ci,_T:()=>Je,mG:()=>qe,qq:()=>Rt}),"function"==typeof SuppressedError&&SuppressedError}},eo=>{var wi=S=>eo(eo.s=S);wi(614),wi(415)}]);