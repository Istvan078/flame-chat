"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(Gr,pi,et)=>{et.d(pi,{$:()=>Xy,A:()=>we,G:()=>Jt,K:()=>uT,L:()=>zl,N:()=>co,P:()=>Rh,R:()=>Eb,U:()=>Ve,V:()=>xm,W:()=>hh,X:()=>Ao,Y:()=>gs,Z:()=>uo,_:()=>Kl,a:()=>bs,a0:()=>Am,a1:()=>_h,a2:()=>Om,a3:()=>nb,a4:()=>mT,a5:()=>er,a6:()=>Yl,a7:()=>ib,a8:()=>_u,a9:()=>gT,aA:()=>At,aB:()=>Vt,aC:()=>ve,aD:()=>Es,aE:()=>ie,aF:()=>ot,aG:()=>Su,aH:()=>Db,aI:()=>oc,aJ:()=>si,aN:()=>Ci,aQ:()=>Hs,aa:()=>Pe,ab:()=>Yn,ac:()=>qo,ad:()=>gr,ae:()=>Ql,af:()=>_t,ag:()=>rb,ah:()=>Ei,ak:()=>vu,al:()=>ya,am:()=>$s,ap:()=>Jy,aq:()=>bu,as:()=>OP,at:()=>UP,au:()=>Cn,av:()=>We,aw:()=>H,ax:()=>xt,ay:()=>ac,az:()=>Nb,b:()=>vT,c:()=>wa,d:()=>xb,e:()=>NT,f:()=>kT,g:()=>ir,h:()=>rn,i:()=>Dh,j:()=>ws,k:()=>$b,l:()=>ST,m:()=>$T,o:()=>QP,p:()=>En,r:()=>AT,s:()=>Cb,u:()=>Vn});var D=et(861),ee=et(58),U=et(534),Ge=et(879),bt=et(582),Un=et(537);const En={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Jt=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},jn=function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new Ge.Yd("@firebase/auth");function Hn(p,...d){ut.logLevel<=Ge.in.ERROR&&ut.error(`Auth (${U.SDK_VERSION}): ${p}`,...d)}function xt(p,...d){throw vt(p,...d)}function Vt(p,...d){return vt(p,...d)}function hr(p,d,h){const m=Object.assign(Object.assign({},jn()),{[d]:h});return new ee.LL("auth","Firebase",m).create(d,{appName:p.name})}function gi(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&xt(p,"argument-error"),hr(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(p,...d){if("string"!=typeof p){const h=d[0],m=[...d.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(h,...m)}return Lt.create(p,...d)}function ve(p,d,...h){if(!p)throw vt(d,...h)}function Ut(p){const d="INTERNAL ASSERTION FAILED: "+p;throw Hn(d),new Error(d)}function Cn(p,d){p||Ut(d)}function qn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function $n(){return"http:"===io()||"https:"===io()}function io(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class fr{constructor(d,h){this.shortDelay=d,this.longDelay=h,Cn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function ro(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($n()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oo(p,d){Cn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class K{static initialize(d,h,m){this.fetchImpl=d,h&&(this.headersImpl=h),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=new fr(3e4,6e4);function q(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function he(p,d,h,m){return se.apply(this,arguments)}function se(){return(se=(0,D.Z)(function*(p,d,h,m,v={}){return Se(p,v,(0,D.Z)(function*(){let C={},F={};m&&("GET"===d?F=m:C={body:JSON.stringify(m)});const Y=(0,ee.xO)(Object.assign({key:p.config.apiKey},F)).slice(1),_e=yield p._getAdditionalHeaders();return _e["Content-Type"]="application/json",p.languageCode&&(_e["X-Firebase-Locale"]=p.languageCode),K.fetch()(Wt(p,p.config.apiHost,h,Y),Object.assign({method:d,headers:_e,referrerPolicy:"no-referrer"},C))}))})).apply(this,arguments)}function Se(p,d,h){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,D.Z)(function*(p,d,h){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},J),d);try{const v=new fn(p),C=yield Promise.race([h(),v.promise]);v.clearNetworkTimeout();const F=yield C.json();if("needConfirmation"in F)throw Fn(p,"account-exists-with-different-credential",F);if(C.ok&&!("errorMessage"in F))return F;{const Y=C.ok?F.errorMessage:F.error.message,[_e,Be]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_e)throw Fn(p,"credential-already-in-use",F);if("EMAIL_EXISTS"===_e)throw Fn(p,"email-already-in-use",F);if("USER_DISABLED"===_e)throw Fn(p,"user-disabled",F);const nt=m[_e]||_e.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw hr(p,nt,Be);xt(p,nt)}}catch(v){if(v instanceof ee.ZR)throw v;xt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function Ie(p,d,h,m){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,D.Z)(function*(p,d,h,m,v={}){const C=yield he(p,d,h,m,v);return"mfaPendingCredential"in C&&xt(p,"multi-factor-auth-required",{_serverResponse:C}),C})).apply(this,arguments)}function Wt(p,d,h,m){const v=`${d}${h}?${m}`;return p.config.emulator?oo(p.config,v):`${p.config.apiScheme}://${v}`}function On(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,m)=>{this.timer=setTimeout(()=>m(Vt(this.auth,"network-request-failed")),$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(p,d,h){const m={appName:p.name};h.email&&(m.email=h.email),h.phoneNumber&&(m.phoneNumber=h.phoneNumber);const v=Vt(p,d,m);return v.customData._tokenResponse=h,v}function oi(p){return void 0!==p&&void 0!==p.getResponse}function j(p){return void 0!==p&&void 0!==p.enterprise}class B{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return On(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function ue(){return(ue=(0,D.Z)(function*(p){return(yield he(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(p,d){return ye.apply(this,arguments)}function ye(){return(ye=(0,D.Z)(function*(p,d){return he(p,"GET","/v2/recaptchaConfig",q(p,d))})).apply(this,arguments)}function jt(){return(jt=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Tn(){return(Tn=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Li(){return(Li=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function zi(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function qt(){return(qt=(0,D.Z)(function*(p,d=!1){const h=(0,ee.m9)(p),m=yield h.getIdToken(d),v=pn(m);ve(v&&v.exp&&v.auth_time&&v.iat,h.auth,"internal-error");const C="object"==typeof v.firebase?v.firebase:void 0,F=C?.sign_in_provider;return{claims:v,token:m,authTime:zi(an(v.auth_time)),issuedAtTime:zi(an(v.iat)),expirationTime:zi(an(v.exp)),signInProvider:F||null,signInSecondFactor:C?.sign_in_second_factor||null}})).apply(this,arguments)}function an(p){return 1e3*Number(p)}function pn(p){const[d,h,m]=p.split(".");if(void 0===d||void 0===h||void 0===m)return Hn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,ee.tV)(h);return v?JSON.parse(v):(Hn("Failed to decode base64 JWT payload"),null)}catch(v){return Hn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function Ln(p,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,D.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(m){throw m instanceof ee.ZR&&function Go({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class so{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const v=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const m=this.getInterval(d);this.timerId=setTimeout((0,D.Z)(function*(){yield h.iteration()}),m)}iteration(){var d=this;return(0,D.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class Wo{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(p){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,D.Z)(function*(p){var d;const h=p.auth,m=yield p.getIdToken(),v=yield Ln(p,function Kn(p,d){return Li.apply(this,arguments)}(h,{idToken:m}));ve(v?.users.length,h,"internal-error");const C=v.users[0];p._notifyReloadListener(C);const F=null!==(d=C.providerUserInfo)&&void 0!==d&&d.length?function ha(p){return p.map(d=>{var{providerId:h}=d,m=(0,bt._T)(d,["providerId"]);return{providerId:h,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(C.providerUserInfo):[],Y=function $l(p,d){return[...p.filter(m=>!d.some(v=>v.providerId===m.providerId)),...d]}(p.providerData,F),nt=!!p.isAnonymous&&!(p.email&&C.passwordHash||Y?.length),Zt={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:Y,metadata:new Wo(C.createdAt,C.lastLoginAt),isAnonymous:nt};Object.assign(p,Zt)}),Ai.apply(this,arguments)}function ao(){return(ao=(0,D.Z)(function*(p){const d=(0,ee.m9)(p);yield Vi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ms(){return(ms=(0,D.Z)(function*(p,d){const h=yield Se(p,{},(0,D.Z)(function*(){const m=(0,ee.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:v,apiKey:C}=p.config,F=Wt(p,v,"/v1/token",`key=${C}`),Y=yield p._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",K.fetch()(F,{method:"POST",headers:Y,body:m})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,D.Z)(function*(p,d){return he(p,"POST","/v2/accounts:revokeToken",q(p,d))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ve(d.idToken,"internal-error"),ve(typeof d.idToken<"u","internal-error"),ve(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Xa(p){const d=pn(p);return ve(d,"internal-error"),ve(typeof d.exp<"u","internal-error"),ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var m=this;return(0,D.Z)(function*(){return ve(!m.accessToken||m.refreshToken,d,"user-token-expired"),h||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(d,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var m=this;return(0,D.Z)(function*(){const{accessToken:v,refreshToken:C,expiresIn:F}=yield function Ja(p,d){return ms.apply(this,arguments)}(d,h);m.updateTokensAndExpiration(v,C,Number(F))})()}updateTokensAndExpiration(d,h,m){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(d,h){const{refreshToken:m,accessToken:v,expirationTime:C}=h,F=new E;return m&&(ve("string"==typeof m,"internal-error",{appName:d}),F.refreshToken=m),v&&(ve("string"==typeof v,"internal-error",{appName:d}),F.accessToken=v),C&&(ve("number"==typeof C,"internal-error",{appName:d}),F.expirationTime=C),F}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return Ut("not implemented")}}function I(p,d){ve("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class w{constructor(d){var{uid:h,auth:m,stsTokenManager:v}=d,C=(0,bt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new so(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=m,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=C.displayName||null,this.email=C.email||null,this.emailVerified=C.emailVerified||!1,this.phoneNumber=C.phoneNumber||null,this.photoURL=C.photoURL||null,this.isAnonymous=C.isAnonymous||!1,this.tenantId=C.tenantId||null,this.providerData=C.providerData?[...C.providerData]:[],this.metadata=new Wo(C.createdAt||void 0,C.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,D.Z)(function*(){const m=yield Ln(h,h.stsTokenManager.getToken(h.auth,d));return ve(m,h.auth,"internal-error"),h.accessToken!==m&&(h.accessToken=m,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),m})()}getIdTokenResult(d){return function vn(p){return qt.apply(this,arguments)}(this,d)}reload(){return function pr(p){return ao.apply(this,arguments)}(this)}_assign(d){this!==d&&(ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new w(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var m=this;return(0,D.Z)(function*(){let v=!1;d.idToken&&d.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(d),v=!0),h&&(yield Vi(m)),yield m.auth._persistUserIfCurrent(m),v&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var d=this;return(0,D.Z)(function*(){const h=yield d.getIdToken();return yield Ln(d,function In(p,d){return jt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var m,v,C,F,Y,_e,Be,nt;const Zt=null!==(m=h.displayName)&&void 0!==m?m:void 0,kr=null!==(v=h.email)&&void 0!==v?v:void 0,Ws=null!==(C=h.phoneNumber)&&void 0!==C?C:void 0,ku=null!==(F=h.photoURL)&&void 0!==F?F:void 0,Gb=null!==(Y=h.tenantId)&&void 0!==Y?Y:void 0,uc=null!==(_e=h._redirectEventId)&&void 0!==_e?_e:void 0,Ca=null!==(Be=h.createdAt)&&void 0!==Be?Be:void 0,Wb=null!==(nt=h.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:$h,emailVerified:hg,isAnonymous:dc,providerData:fg,stsTokenManager:vr}=h;ve($h&&vr,d,"internal-error");const qT=E.fromJSON(this.name,vr);ve("string"==typeof $h,d,"internal-error"),I(Zt,d.name),I(kr,d.name),ve("boolean"==typeof hg,d,"internal-error"),ve("boolean"==typeof dc,d,"internal-error"),I(Ws,d.name),I(ku,d.name),I(Gb,d.name),I(uc,d.name),I(Ca,d.name),I(Wb,d.name);const Qn=new w({uid:$h,auth:d,email:kr,emailVerified:hg,displayName:Zt,isAnonymous:dc,photoURL:ku,phoneNumber:Ws,tenantId:Gb,stsTokenManager:qT,createdAt:Ca,lastLoginAt:Wb});return fg&&Array.isArray(fg)&&(Qn.providerData=fg.map(pg=>Object.assign({},pg))),uc&&(Qn._redirectEventId=uc),Qn}static _fromIdTokenResponse(d,h,m=!1){return(0,D.Z)(function*(){const v=new E;v.updateFromServerResponse(h);const C=new w({uid:h.localId,auth:d,stsTokenManager:v,isAnonymous:m});return yield Vi(C),C})()}}const N=new Map;function ie(p){Cn(p instanceof Function,"Expected a class definition");let d=N.get(p);return d?(Cn(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,N.set(p,d),d)}const Ve=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(h,m){var v=this;return(0,D.Z)(function*(){v.storage[h]=m})()}_get(h){var m=this;return(0,D.Z)(function*(){const v=m.storage[h];return void 0===v?null:v})()}_remove(h){var m=this;return(0,D.Z)(function*(){delete m.storage[h]})()}_addListener(h,m){}_removeListener(h,m){}}return p.type="NONE",p})();function ot(p,d,h){return`firebase:${p}:${d}:${h}`}class nn{constructor(d,h,m){this.persistence=d,this.auth=h,this.userKey=m;const{config:v,name:C}=this.auth;this.fullUserKey=ot(this.userKey,v.apiKey,C),this.fullPersistenceKey=ot("persistence",v.apiKey,C),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,D.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?w._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,D.Z)(function*(){if(h.persistence===d)return;const m=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,m?h.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,m="authUser"){return(0,D.Z)(function*(){if(!h.length)return new nn(ie(Ve),d,m);const v=(yield Promise.all(h.map(function(){var Be=(0,D.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let C=v[0]||ie(Ve);const F=ot(m,d.config.apiKey,d.name);let Y=null;for(const Be of h)try{const nt=yield Be._get(F);if(nt){const Zt=w._fromJSON(d,nt);Be!==C&&(Y=Zt),C=Be;break}}catch{}const _e=v.filter(Be=>Be._shouldAllowMigration);return C._shouldAllowMigration&&_e.length?(C=_e[0],Y&&(yield C._set(F,Y.toJSON())),yield Promise.all(h.map(function(){var Be=(0,D.Z)(function*(nt){if(nt!==C)try{yield nt._remove(F)}catch{}});return function(nt){return Be.apply(this,arguments)}}())),new nn(C,d,m)):new nn(C,d,m)})()}}function Me(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(el(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(xn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(L(d))return"Blackberry";if(be(d))return"Webos";if(Ke(d))return"Safari";if((d.includes("chrome/")||Gi(d))&&!d.includes("edge/"))return"Chrome";if(H(d))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function xn(p=(0,ee.z$)()){return/firefox\//i.test(p)}function Ke(p=(0,ee.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Gi(p=(0,ee.z$)()){return/crios\//i.test(p)}function el(p=(0,ee.z$)()){return/iemobile/i.test(p)}function H(p=(0,ee.z$)()){return/android/i.test(p)}function L(p=(0,ee.z$)()){return/blackberry/i.test(p)}function be(p=(0,ee.z$)()){return/webos/i.test(p)}function We(p=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function At(p=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function wi(p=(0,ee.z$)()){return We(p)||H(p)||be(p)||L(p)||/windows phone/i.test(p)||el(p)}function Bt(p,d=[]){let h;switch(p){case"Browser":h=Me((0,ee.z$)());break;case"Worker":h=`${Me((0,ee.z$)())}-${p}`;break;default:h=p}const m=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${U.SDK_VERSION}/${m}`}class fu{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const m=C=>new Promise((F,Y)=>{try{F(d(C))}catch(_e){Y(_e)}});m.onAbort=h,this.queue.push(m);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,D.Z)(function*(){if(h.auth.currentUser===d)return;const m=[];try{for(const v of h.queue)yield v(d),v.onAbort&&m.push(v.onAbort)}catch(v){m.reverse();for(const C of m)try{C()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function pm(){return(pm=(0,D.Z)(function*(p,d={}){return he(p,"GET","/v2/passwordPolicy",q(p,d))})).apply(this,arguments)}class lo{constructor(d){var h,m,v,C;const F=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=F.minPasswordLength)&&void 0!==h?h:6,F.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=F.maxPasswordLength),void 0!==F.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=F.containsLowercaseCharacter),void 0!==F.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=F.containsUppercaseCharacter),void 0!==F.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=F.containsNumericCharacter),void 0!==F.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=F.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(m=d.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(C=d.forceUpgradeOnSignin)&&void 0!==C&&C,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,m,v,C,F,Y;const _e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,_e),this.validatePasswordCharacterOptions(d,_e),_e.isValid&&(_e.isValid=null===(h=_e.meetsMinPasswordLength)||void 0===h||h),_e.isValid&&(_e.isValid=null===(m=_e.meetsMaxPasswordLength)||void 0===m||m),_e.isValid&&(_e.isValid=null===(v=_e.containsLowercaseLetter)||void 0===v||v),_e.isValid&&(_e.isValid=null===(C=_e.containsUppercaseLetter)||void 0===C||C),_e.isValid&&(_e.isValid=null===(F=_e.containsNumericCharacter)||void 0===F||F),_e.isValid&&(_e.isValid=null===(Y=_e.containsNonAlphanumericCharacter)||void 0===Y||Y),_e}validatePasswordLengthOptions(d,h){const m=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;m&&(h.meetsMinPasswordLength=d.length>=m),v&&(h.meetsMaxPasswordLength=d.length<=v)}validatePasswordCharacterOptions(d,h){let m;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let v=0;v<d.length;v++)m=d.charAt(v),this.updatePasswordCharacterOptionsStatuses(h,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(d,h,m,v,C){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=C))}}class xP{constructor(d,h,m,v){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new fu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,h){var m=this;return h&&(this._popupRedirectResolver=ie(h)),this._initializationPromise=this.queue((0,D.Z)(function*(){var v,C;if(!m._deleted&&(m.persistenceManager=yield nn.create(m,d),!m._deleted)){if(null!==(v=m._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(h),m.lastNotifiedUid=(null===(C=m.currentUser)||void 0===C?void 0:C.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,D.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,D.Z)(function*(){var m;const v=yield h.assertedPersistence.getCurrentUser();let C=v,F=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const Y=null===(m=h.redirectUser)||void 0===m?void 0:m._redirectEventId,_e=C?._redirectEventId,Be=yield h.tryRedirectSignIn(d);(!Y||Y===_e)&&Be?.user&&(C=Be.user,F=!0)}if(!C)return h.directlySetCurrentUser(null);if(!C._redirectEventId){if(F)try{yield h.beforeStateQueue.runMiddleware(C)}catch(Y){C=v,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(Y))}return C?h.reloadAndSetCurrentUserOrClear(C):h.directlySetCurrentUser(null)}return ve(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===C._redirectEventId?h.directlySetCurrentUser(C):h.reloadAndSetCurrentUserOrClear(C)})()}tryRedirectSignIn(d){var h=this;return(0,D.Z)(function*(){let m=null;try{m=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,D.Z)(function*(){try{yield Vi(d)}catch(m){if("auth/network-request-failed"!==m?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function it(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,D.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,D.Z)(function*(){const m=d?(0,ee.m9)(d):null;return m&&ve(m.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(m&&m._clone(h))})()}_updateCurrentUser(d,h=!1){var m=this;return(0,D.Z)(function*(){if(!m._deleted)return d&&ve(m.tenantId===d.tenantId,m,"tenant-id-mismatch"),h||(yield m.beforeStateQueue.runMiddleware(d)),m.queue((0,D.Z)(function*(){yield m.directlySetCurrentUser(d),m.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,D.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,D.Z)(function*(){yield h.assertedPersistence.setPersistence(ie(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,D.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const m=h._getPasswordPolicyInternal();return m.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,D.Z)(function*(){const h=yield function TP(p){return pm.apply(this,arguments)}(d),m=new lo(h);null===d.tenantId?d._projectPasswordPolicy=m:d._tenantPasswordPolicies[d.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ee.LL("auth","Firebase",d())}onAuthStateChanged(d,h,m){return this.registerStateListener(this.authStateSubscription,d,h,m)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,m){return this.registerStateListener(this.idTokenSubscription,d,h,m)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const m=this.onAuthStateChanged(()=>{m(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,D.Z)(function*(){if(h.currentUser){const m=yield h.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:m};null!=h.tenantId&&(v.tenantId=h.tenantId),yield function P(p,d){return M.apply(this,arguments)}(h,v)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var m=this;return(0,D.Z)(function*(){const v=yield m.getOrInitRedirectPersistenceManager(h);return null===d?v.removeCurrentUser():v.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,D.Z)(function*(){if(!h.redirectPersistenceManager){const m=d&&ie(d)||h._popupRedirectResolver;ve(m,h,"argument-error"),h.redirectPersistenceManager=yield nn.create(h,[ie(m._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,D.Z)(function*(){var m,v;return h._isInitialized&&(yield h.queue((0,D.Z)(function*(){}))),(null===(m=h._currentUser)||void 0===m?void 0:m._redirectEventId)===d?h._currentUser:(null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,D.Z)(function*(){if(d===h.currentUser)return h.queue((0,D.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,m,v){if(this._deleted)return()=>{};const C="function"==typeof h?h:h.next.bind(h);let F=!1;const Y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(Y,this,"internal-error"),Y.then(()=>{F||C(this.currentUser)}),"function"==typeof h){const _e=d.addObserver(h,m,v);return()=>{F=!0,_e()}}{const _e=d.addObserver(h);return()=>{F=!0,_e()}}}directlySetCurrentUser(d){var h=this;return(0,D.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,D.Z)(function*(){var h;const m={"X-Client-Version":d.clientVersion};d.app.options.appId&&(m["X-Firebase-gmpid"]=d.app.options.appId);const v=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();v&&(m["X-Firebase-Client"]=v);const C=yield d._getAppCheckToken();return C&&(m["X-Firebase-AppCheck"]=C),m})()}_getAppCheckToken(){var d=this;return(0,D.Z)(function*(){var h;const m=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return m?.error&&function mi(p,...d){ut.logLevel<=Ge.in.WARN&&ut.warn(`Auth (${U.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function si(p){return(0,ee.m9)(p)}class sT{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ee.ne)(h=>this.observer=h)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $y(p){return new Promise((d,h)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=d,m.onerror=v=>{const C=Vt("internal-error");C.customData=v,h(C)},m.type="text/javascript",m.charset="UTF-8",function tl(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(m)})}function aT(p){return`__${p}${Math.floor(1e6*Math.random())}`}class cT{constructor(d){this.type="recaptcha-enterprise",this.auth=si(d)}verify(d="verify",h=!1){var m=this;return(0,D.Z)(function*(){function C(){return C=(0,D.Z)(function*(Y){if(!h){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var _e=(0,D.Z)(function*(Be,nt){Ae(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zt=>{if(void 0!==Zt.recaptchaKey){const kr=new B(Zt);return null==Y.tenantId?Y._agentRecaptchaConfig=kr:Y._tenantRecaptchaConfigs[Y.tenantId]=kr,Be(kr.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Zt=>{nt(Zt)})});return function(Be,nt){return _e.apply(this,arguments)}}())}),C.apply(this,arguments)}function F(Y,_e,Be){const nt=window.grecaptcha;j(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(Y,{action:d}).then(Zt=>{_e(Zt)}).catch(()=>{_e("NO_RECAPTCHA")})}):Be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,_e)=>{(function v(Y){return C.apply(this,arguments)})(m.auth).then(Be=>{if(!h&&j(window.grecaptcha))F(Be,Y,_e);else{if(typeof window>"u")return void _e(new Error("RecaptchaVerifier is only supported in browser"));$y("https://www.google.com/recaptcha/enterprise.js?render="+Be).then(()=>{F(Be,Y,_e)}).catch(nt=>{_e(nt)})}}).catch(Be=>{_e(Be)})})})()}}function zy(p,d,h){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,D.Z)(function*(p,d,h,m=!1){const v=new cT(p);let C;try{C=yield v.verify(h)}catch{C=yield v.verify(h,!0)}const F=Object.assign({},d);return Object.assign(F,m?{captchaResp:C}:{captchaResponse:C}),Object.assign(F,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(F,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),F})).apply(this,arguments)}function mr(p,d,h,m){return lt.apply(this,arguments)}function lt(){return lt=(0,D.Z)(function*(p,d,h,m){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const C=yield zy(p,d,h,"getOobCode"===h);return m(p,C)}return m(p,d).catch(function(){var C=(0,D.Z)(function*(F){if("auth/missing-recaptcha-token"===F.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Y=yield zy(p,d,h,"getOobCode"===h);return m(p,Y)}return Promise.reject(F)});return function(F){return C.apply(this,arguments)}}())}),lt.apply(this,arguments)}function uT(p,d,h){const m=si(p);ve(m._canInitEmulator,m,"emulator-config-failed"),ve(/^https?:\/\//.test(d),m,"invalid-emulator-scheme");const v=!!h?.disableWarnings,C=tt(d),{host:F,port:Y}=function ih(p){const d=tt(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const m=h[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(m);if(v){const C=v[1];return{host:C,port:qy(m.substr(C.length+1))}}{const[C,F]=m.split(":");return{host:C,port:qy(F)}}}(d);m.config.emulator={url:`${C}//${F}${null===Y?"":`:${Y}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:F,port:Y,protocol:C.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Ky(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function tt(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function qy(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class zl{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Ut("not implemented")}_getIdTokenResponse(d){return Ut("not implemented")}_linkToIdToken(d,h){return Ut("not implemented")}_getReauthenticationResolver(d){return Ut("not implemented")}}function pu(p,d){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:resetPassword",q(p,d))})).apply(this,arguments)}function rh(){return(rh=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function dT(p,d){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function oh(){return(oh=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:update",q(p,d))})).apply(this,arguments)}function Wr(p,d){return sh.apply(this,arguments)}function sh(){return(sh=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPassword",q(p,d))})).apply(this,arguments)}function vm(p,d){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:sendOobCode",q(p,d))})).apply(this,arguments)}function Zy(){return(Zy=(0,D.Z)(function*(p,d){return vm(p,d)})).apply(this,arguments)}function de(p,d){return mu.apply(this,arguments)}function mu(){return(mu=(0,D.Z)(function*(p,d){return vm(p,d)})).apply(this,arguments)}function ym(p,d){return ah.apply(this,arguments)}function ah(){return(ah=(0,D.Z)(function*(p,d){return vm(p,d)})).apply(this,arguments)}function wm(){return(wm=(0,D.Z)(function*(p,d){return vm(p,d)})).apply(this,arguments)}function Yy(){return(Yy=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",q(p,d))})).apply(this,arguments)}function Qy(){return(Qy=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",q(p,d))})).apply(this,arguments)}class lh extends zl{constructor(d,h,m,v=null){super("password",m),this._email=d,this._password=h,this._tenantId=v}static _fromEmailAndPassword(d,h){return new lh(d,h,"password")}static _fromEmailAndCode(d,h,m=null){return new lh(d,h,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,D.Z)(function*(){switch(h.signInMethod){case"password":return mr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wr);case"emailLink":return function Em(p,d){return Yy.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:xt(d,"internal-error")}})()}_linkToIdToken(d,h){var m=this;return(0,D.Z)(function*(){switch(m.signInMethod){case"password":return mr(d,{idToken:h,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dT);case"emailLink":return function MP(p,d){return Qy.apply(this,arguments)}(d,{idToken:h,email:m._email,oobCode:m._password});default:xt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function fa(p,d){return nl.apply(this,arguments)}function nl(){return(nl=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithIdp",q(p,d))})).apply(this,arguments)}class co extends zl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new co(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):xt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:m,signInMethod:v}=h,C=(0,bt._T)(h,["providerId","signInMethod"]);if(!m||!v)return null;const F=new co(m,v);return F.idToken=C.idToken||void 0,F.accessToken=C.accessToken||void 0,F.secret=C.secret,F.nonce=C.nonce,F.pendingToken=C.pendingToken||null,F}_getIdTokenResponse(d){return fa(d,this.buildRequest())}_linkToIdToken(d,h){const m=this.buildRequest();return m.idToken=h,fa(d,m)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,fa(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,ee.xO)(h)}return d}}function Im(){return(Im=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:sendVerificationCode",q(p,d))})).apply(this,arguments)}function ch(){return(ch=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",q(p,d))})).apply(this,arguments)}function Tm(){return(Tm=(0,D.Z)(function*(p,d){const h=yield Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",q(p,d));if(h.temporaryProof)throw Fn(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const pa={USER_NOT_FOUND:"user-not-found"};function O(){return(O=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",q(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),pa)})).apply(this,arguments)}class ma extends zl{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new ma({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new ma({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function fT(p,d){return ch.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function Wl(p,d){return Tm.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function pT(p,d){return O.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:m,verificationCode:v}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:m,code:v}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:m,phoneNumber:v,temporaryProof:C}=d;return m||h||v||C?new ma({verificationId:h,verificationCode:m,phoneNumber:v,temporaryProof:C}):null}}class il{constructor(d){var h,m,v,C,F,Y;const _e=(0,ee.zd)((0,ee.pd)(d)),Be=null!==(h=_e.apiKey)&&void 0!==h?h:null,nt=null!==(m=_e.oobCode)&&void 0!==m?m:null,Zt=function Ce(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=_e.mode)&&void 0!==v?v:null);ve(Be&&nt&&Zt,"argument-error"),this.apiKey=Be,this.operation=Zt,this.code=nt,this.continueUrl=null!==(C=_e.continueUrl)&&void 0!==C?C:null,this.languageCode=null!==(F=_e.languageCode)&&void 0!==F?F:null,this.tenantId=null!==(Y=_e.tenantId)&&void 0!==Y?Y:null}static parseLink(d){const h=function uh(p){const d=(0,ee.zd)((0,ee.pd)(p)).link,h=d?(0,ee.zd)((0,ee.pd)(d)).deep_link_id:null,m=(0,ee.zd)((0,ee.pd)(p)).deep_link_id;return(m?(0,ee.zd)((0,ee.pd)(m)).link:null)||m||h||d||p}(d);try{return new il(h)}catch{return null}}}let xm=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,m){return lh._fromEmailAndPassword(h,m)}static credentialWithLink(h,m){const v=il.parseLink(m);return ve(v,"argument-error"),lh._fromEmailAndCode(h,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class js{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ql extends js{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class uo extends ql{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ve("providerId"in h&&"signInMethod"in h,"argument-error"),co._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ve(d.idToken||d.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return uo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return uo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:v,pendingToken:C,nonce:F,providerId:Y}=d;if(!m&&!v&&!h&&!C||!Y)return null;try{return new uo(Y)._credential({idToken:h,accessToken:m,nonce:F,pendingToken:C})}catch{return null}}}let hh=(()=>{class p extends ql{constructor(){super("facebook.com")}static credential(h){return co._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Ao=(()=>{class p extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(h,m){return co._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:v}=h;if(!m&&!v)return null;try{return p.credential(m,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),gs=(()=>{class p extends ql{constructor(){super("github.com")}static credential(h){return co._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Hs extends zl{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return fa(d,this.buildRequest())}_linkToIdToken(d,h){const m=this.buildRequest();return m.idToken=h,fa(d,m)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,fa(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:m,signInMethod:v,pendingToken:C}=h;return m&&v&&C&&m===v?new Hs(m,C):null}static _create(d,h){return new Hs(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kl extends js{constructor(d){ve(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Kl.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Kl.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Hs.fromJSON(d);return ve(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:m}=d;if(!h||!m)return null;try{return Hs._create(m,h)}catch{return null}}}let Xy=(()=>{class p extends ql{constructor(){super("twitter.com")}static credential(h,m){return co._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:m,oauthTokenSecret:v}=h;if(!m||!v)return null;try{return p.credential(m,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function _s(p,d){return rl.apply(this,arguments)}function rl(){return(rl=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signUp",q(p,d))})).apply(this,arguments)}class ho{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,m,v=!1){return(0,D.Z)(function*(){const C=yield w._fromIdTokenResponse(d,m,v),F=Sm(m);return new ho({user:C,providerId:F,_tokenResponse:m,operationType:h})})()}static _forOperation(d,h,m){return(0,D.Z)(function*(){yield d._updateTokensIfNecessary(m,!0);const v=Sm(m);return new ho({user:d,providerId:v,_tokenResponse:m,operationType:h})})()}}function Sm(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Am(p){return fh.apply(this,arguments)}function fh(){return(fh=(0,D.Z)(function*(p){var d;const h=si(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new ho({user:h.currentUser,providerId:null,operationType:"signIn"});const m=yield _s(h,{returnSecureToken:!0}),v=yield ho._fromIdTokenResponse(h,"signIn",m,!0);return yield h._updateCurrentUser(v.user),v})).apply(this,arguments)}class gu extends ee.ZR{constructor(d,h,m,v){var C;super(h.code,h.message),this.operationType=m,this.user=v,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:d.name,tenantId:null!==(C=d.tenantId)&&void 0!==C?C:void 0,_serverResponse:h.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(d,h,m,v){return new gu(d,h,m,v)}}function Zl(p,d,h,m){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(C=>{throw"auth/multi-factor-auth-required"===C.code?gu._fromErrorAndOperation(p,C,d,m):C})}function Rm(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function Jy(p,d){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,D.Z)(function*(p,d){const h=(0,ee.m9)(p);yield mh(!0,h,d);const{providerUserInfo:m}=yield function kt(p,d){return Tn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),v=Rm(m||[]);return h.providerData=h.providerData.filter(C=>v.has(C.providerId)),v.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Nm.apply(this,arguments)}function ph(p,d){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,D.Z)(function*(p,d,h=!1){const m=yield Ln(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return ho._forOperation(p,"link",m)})).apply(this,arguments)}function mh(p,d,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,D.Z)(function*(p,d,h){yield Vi(d);const v=!1===p?"provider-already-linked":"no-such-provider";ve(Rm(d.providerData).has(h)===p,d.auth,v)})).apply(this,arguments)}function eb(p,d){return gh.apply(this,arguments)}function gh(){return(gh=(0,D.Z)(function*(p,d,h=!1){const{auth:m}=p,v="reauthenticate";try{const C=yield Ln(p,Zl(m,v,d,p),h);ve(C.idToken,m,"internal-error");const F=pn(C.idToken);ve(F,m,"internal-error");const{sub:Y}=F;return ve(p.uid===Y,m,"user-mismatch"),ho._forOperation(p,v,C)}catch(C){throw"auth/user-not-found"===C?.code&&xt(m,"user-mismatch"),C}})).apply(this,arguments)}function tb(p,d){return km.apply(this,arguments)}function km(){return(km=(0,D.Z)(function*(p,d,h=!1){const m="signIn",v=yield Zl(p,m,d),C=yield ho._fromIdTokenResponse(p,m,v);return h||(yield p._updateCurrentUser(C.user)),C})).apply(this,arguments)}function _h(p,d){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,D.Z)(function*(p,d){return tb(si(p),d)})).apply(this,arguments)}function Om(p,d){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,D.Z)(function*(p,d){const h=(0,ee.m9)(p);return yield mh(!1,h,d.providerId),ph(h,d)})).apply(this,arguments)}function nb(p,d){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,D.Z)(function*(p,d){return eb((0,ee.m9)(p),d)})).apply(this,arguments)}function Vm(){return(Vm=(0,D.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithCustomToken",q(p,d))})).apply(this,arguments)}function mT(p,d){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,D.Z)(function*(p,d){const h=si(p),m=yield function Sn(p,d){return Vm.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),v=yield ho._fromIdTokenResponse(h,"signIn",m);return yield h._updateCurrentUser(v.user),v}),Bm.apply(this,arguments)}class Xe{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Um._fromServerResponse(d,h):"totpInfo"in h?vh._fromServerResponse(d,h):xt(d,"internal-error")}}class Um extends Xe{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Um(h)}}class vh extends Xe{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new vh(h)}}function me(p,d,h){var m;ve((null===(m=h.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),ve(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ve(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ve(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Ji(p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,D.Z)(function*(p){const d=si(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function er(p,d,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,D.Z)(function*(p,d,h){const m=si(p),v={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&me(m,v,h),yield mr(m,v,"getOobCode",de)})).apply(this,arguments)}function Yl(p,d,h){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,D.Z)(function*(p,d,h){yield pu((0,ee.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var m=(0,D.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Ji(p),v});return function(v){return m.apply(this,arguments)}}())}),Rr.apply(this,arguments)}function ib(p,d){return yh.apply(this,arguments)}function yh(){return yh=(0,D.Z)(function*(p,d){yield function _m(p,d){return oh.apply(this,arguments)}((0,ee.m9)(p),{oobCode:d})}),yh.apply(this,arguments)}function _u(p,d){return jm.apply(this,arguments)}function jm(){return(jm=(0,D.Z)(function*(p,d){const h=(0,ee.m9)(p),m=yield pu(h,{oobCode:d}),v=m.requestType;switch(ve(v,h,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(m.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(m.mfaInfo,h,"internal-error");default:ve(m.email,h,"internal-error")}let C=null;return m.mfaInfo&&(C=Xe._fromServerResponse(si(h),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:C},operation:v}})).apply(this,arguments)}function gT(p,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,D.Z)(function*(p,d){const{data:h}=yield _u((0,ee.m9)(p),d);return h.email})).apply(this,arguments)}function Pe(p,d,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,D.Z)(function*(p,d,h){const m=si(p),F=yield mr(m,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_s).catch(_e=>{throw"auth/password-does-not-meet-requirements"===_e.code&&Ji(p),_e}),Y=yield ho._fromIdTokenResponse(m,"signIn",F);return yield m._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function Yn(p,d,h){return _h((0,ee.m9)(p),xm.credential(d,h)).catch(function(){var m=(0,D.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Ji(p),v});return function(v){return m.apply(this,arguments)}}())}function qo(p,d,h){return ol.apply(this,arguments)}function ol(){return(ol=(0,D.Z)(function*(p,d,h){const m=si(p),v={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function C(F,Y){ve(Y.handleCodeInApp,m,"argument-error"),Y&&me(m,F,Y)})(v,h),yield mr(m,v,"getOobCode",ym)})).apply(this,arguments)}function gr(p,d){const h=il.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function Ql(p,d,h){return ai.apply(this,arguments)}function ai(){return(ai=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p),v=xm.credentialWithLink(d,h||qn());return ve(v._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),_h(m,v)})).apply(this,arguments)}function _a(){return(_a=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:createAuthUri",q(p,d))})).apply(this,arguments)}function _t(p,d){return sl.apply(this,arguments)}function sl(){return sl=(0,D.Z)(function*(p,d){const m={identifier:d,continueUri:$n()?qn():"http://localhost"},{signinMethods:v}=yield function ga(p,d){return _a.apply(this,arguments)}((0,ee.m9)(p),m);return v||[]}),sl.apply(this,arguments)}function rb(p,d){return va.apply(this,arguments)}function va(){return va=(0,D.Z)(function*(p,d){const h=(0,ee.m9)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&me(h.auth,v,d);const{email:C}=yield function NP(p,d){return Zy.apply(this,arguments)}(h.auth,v);C!==p.email&&(yield p.reload())}),va.apply(this,arguments)}function Ei(p,d,h){return al.apply(this,arguments)}function al(){return al=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p),C={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&me(m.auth,C,h);const{email:F}=yield function bm(p,d){return wm.apply(this,arguments)}(m.auth,C);F!==p.email&&(yield p.reload())}),al.apply(this,arguments)}function Ro(){return(Ro=(0,D.Z)(function*(p,d){return he(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function vu(p,d){return bh.apply(this,arguments)}function bh(){return bh=(0,D.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const m=(0,ee.m9)(p),C={idToken:yield m.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},F=yield Ln(m,function Xl(p,d){return Ro.apply(this,arguments)}(m.auth,C));m.displayName=F.displayName||null,m.photoURL=F.photoUrl||null;const Y=m.providerData.find(({providerId:_e})=>"password"===_e);Y&&(Y.displayName=m.displayName,Y.photoURL=m.photoURL),yield m._updateTokensIfNecessary(F)}),bh.apply(this,arguments)}function ya(p,d){return Jl((0,ee.m9)(p),d,null)}function $s(p,d){return Jl((0,ee.m9)(p),null,d)}function Jl(p,d,h){return ll.apply(this,arguments)}function ll(){return ll=(0,D.Z)(function*(p,d,h){const{auth:m}=p,C={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(C.email=d),h&&(C.password=h);const F=yield Ln(p,function gm(p,d){return rh.apply(this,arguments)}(m,C));yield p._updateTokensIfNecessary(F,!0)}),ll.apply(this,arguments)}class yu{constructor(d,h,m={}){this.isNewUser=d,this.providerId=h,this.profile=m}}class wh extends yu{constructor(d,h,m,v){super(d,h,m),this.username=v}}class ob extends yu{constructor(d,h){super(d,"facebook.com",h)}}class vs extends wh{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Eh extends yu{constructor(d,h){super(d,"google.com",h)}}class ec extends wh{constructor(d,h,m){super(d,"twitter.com",h,m)}}function bu(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Ht(p){var d,h;if(!p)return null;const{providerId:m}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},C=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const F=null===(h=null===(d=pn(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(F)return new yu(C,"anonymous"!==F&&"custom"!==F?F:null)}if(!m)return null;switch(m){case"facebook.com":return new ob(C,v);case"github.com":return new vs(C,v);case"google.com":return new Eh(C,v);case"twitter.com":return new ec(C,v,p.screenName||null);case"custom":case"anonymous":return new yu(C,null);default:return new yu(C,m,v)}}(h)}class ul{constructor(d,h,m){this.type=d,this.credential=h,this.user=m}static _fromIdtoken(d,h){return new ul("enroll",d,h)}static _fromMfaPendingCredential(d){return new ul("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,m;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ul._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(m=d.multiFactorSession)&&void 0!==m&&m.idToken)return ul._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ab{constructor(d,h,m){this.session=d,this.hints=h,this.signInResolver=m}static _fromError(d,h){const m=si(d),v=h.customData._serverResponse,C=(v.mfaInfo||[]).map(Y=>Xe._fromServerResponse(m,Y));ve(v.mfaPendingCredential,m,"internal-error");const F=ul._fromMfaPendingCredential(v.mfaPendingCredential);return new ab(F,C,function(){var Y=(0,D.Z)(function*(_e){const Be=yield _e._process(m,F);delete v.mfaInfo,delete v.mfaPendingCredential;const nt=Object.assign(Object.assign({},v),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(h.operationType){case"signIn":const Zt=yield ho._fromIdTokenResponse(m,h.operationType,nt);return yield m._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return ve(h.user,m,"internal-error"),ho._forOperation(h.user,h.operationType,nt);default:xt(m,"internal-error")}});return function(_e){return Y.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,D.Z)(function*(){return h.signInResolver(d)})()}}function OP(p,d){var h;const m=(0,ee.m9)(p),v=d;return ve(d.customData.operationType,m,"argument-error"),ve(null===(h=v.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,m,"argument-error"),ab._fromError(m,v)}class lb{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(m=>Xe._fromServerResponse(d.auth,m)))})}static _fromUser(d){return new lb(d)}getSession(){var d=this;return(0,D.Z)(function*(){return ul._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var m=this;return(0,D.Z)(function*(){const v=d,C=yield m.getSession(),F=yield Ln(m.user,v._process(m.user.auth,C,h));return yield m.user._updateTokensIfNecessary(F),m.user.reload()})()}unenroll(d){var h=this;return(0,D.Z)(function*(){const m="string"==typeof d?d:d.uid,v=yield h.user.getIdToken();try{const C=yield Ln(h.user,function BP(p,d){return he(p,"POST","/v2/accounts/mfaEnrollment:withdraw",q(p,d))}(h.user.auth,{idToken:v,mfaEnrollmentId:m}));h.enrolledFactors=h.enrolledFactors.filter(({uid:F})=>F!==m),yield h.user._updateTokensIfNecessary(C),yield h.user.reload()}catch(C){throw C}})()}}const cb=new WeakMap;function UP(p){const d=(0,ee.m9)(p);return cb.has(d)||cb.set(d,lb._fromUser(d)),cb.get(d)}const Gm="__sak";class _T{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const vT=(()=>{class p extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,m)=>this.onStorageEvent(h,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ub(){const p=(0,ee.z$)();return Ke(p)||We(p)}()&&function $e(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const m of Object.keys(this.listeners)){const v=this.storage.getItem(m),C=this.localCache[m];v!==C&&h(m,C,v)}}onStorageEvent(h,m=!1){if(!h.key)return void this.forAllChangedKeys((Y,_e,Be)=>{this.notifyListeners(Y,Be)});const v=h.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(v);if(h.newValue!==Y)null!==h.newValue?this.storage.setItem(v,h.newValue):this.storage.removeItem(v);else if(this.localCache[v]===h.newValue&&!m)return}const C=()=>{const Y=this.storage.getItem(v);!m&&this.localCache[v]===Y||this.notifyListeners(v,Y)},F=this.storage.getItem(v);!function z(){return(0,ee.w1)()&&10===document.documentMode}()||F===h.newValue||h.newValue===h.oldValue?C():setTimeout(C,10)}notifyListeners(h,m){this.localCache[h]=m;const v=this.listeners[h];if(v)for(const C of Array.from(v))C(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,m,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:m,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,m){var v=()=>super._set,C=this;return(0,D.Z)(function*(){yield v().call(C,h,m),C.localCache[h]=JSON.stringify(m)})()}_get(h){var m=()=>super._get,v=this;return(0,D.Z)(function*(){const C=yield m().call(v,h);return v.localCache[h]=JSON.stringify(C),C})()}_remove(h){var m=()=>super._remove,v=this;return(0,D.Z)(function*(){yield m().call(v,h),delete v.localCache[h]})()}}return p.type="LOCAL",p})(),bs=(()=>{class p extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,m){}_removeListener(h,m){}}return p.type="SESSION",p})();let $P=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const m=this.receivers.find(C=>C.isListeningto(h));if(m)return m;const v=new p(h);return this.receivers.push(v),v}isListeningto(h){return this.eventTarget===h}handleEvent(h){var m=this;return(0,D.Z)(function*(){const v=h,{eventId:C,eventType:F,data:Y}=v.data,_e=m.handlersMap[F];if(!_e?.size)return;v.ports[0].postMessage({status:"ack",eventId:C,eventType:F});const Be=Array.from(_e).map(function(){var Zt=(0,D.Z)(function*(kr){return kr(v.origin,Y)});return function(kr){return Zt.apply(this,arguments)}}()),nt=yield function HP(p){return Promise.all(p.map(function(){var d=(0,D.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(m){return{fulfilled:!1,reason:m}}});return function(h){return d.apply(this,arguments)}}()))}(Be);v.ports[0].postMessage({status:"done",eventId:C,eventType:F,response:nt})})()}_subscribe(h,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(m)}_unsubscribe(h,m){this.handlersMap[h]&&m&&this.handlersMap[h].delete(m),(!m||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ci(p="",d=10){let h="";for(let m=0;m<d;m++)h+=Math.floor(10*Math.random());return p+h}class Ch{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,m=50){var v=this;return(0,D.Z)(function*(){const C=typeof MessageChannel<"u"?new MessageChannel:null;if(!C)throw new Error("connection_unavailable");let F,Y;return new Promise((_e,Be)=>{const nt=Ci("",20);C.port1.start();const Zt=setTimeout(()=>{Be(new Error("unsupported_event"))},m);Y={messageChannel:C,onMessage(kr){const Ws=kr;if(Ws.data.eventId===nt)switch(Ws.data.status){case"ack":clearTimeout(Zt),F=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(F),_e(Ws.data.response);break;default:clearTimeout(Zt),clearTimeout(F),Be(new Error("invalid_response"))}}},v.handlers.add(Y),C.port1.addEventListener("message",Y.onMessage),v.target.postMessage({eventType:d,eventId:nt,data:h},[C.port2])}).finally(()=>{Y&&v.removeMessageHandler(Y)})})()}}function mn(){return window}function Ih(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function Th(){return(Th=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xh="firebaseLocalStorageDb",wu="firebaseLocalStorage",Km="fbase_key";class nc{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function dl(p,d){return p.transaction([wu],d?"readwrite":"readonly").objectStore(wu)}function ba(){const p=indexedDB.open(xh,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(wu,{keyPath:Km})}catch(v){h(v)}}),p.addEventListener("success",(0,D.Z)(function*(){const m=p.result;m.objectStoreNames.contains(wu)?d(m):(m.close(),yield function Eu(){const p=indexedDB.deleteDatabase(xh);return new nc(p).toPromise()}(),d(yield ba()))}))})}function Zm(p,d,h){return mb.apply(this,arguments)}function mb(){return(mb=(0,D.Z)(function*(p,d,h){const m=dl(p,!0).put({[Km]:d,value:h});return new nc(m).toPromise()})).apply(this,arguments)}function gb(){return(gb=(0,D.Z)(function*(p,d){const h=dl(p,!1).get(d),m=yield new nc(h).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function _b(p,d){const h=dl(p,!0).delete(d);return new nc(h).toPromise()}const Dh=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,D.Z)(function*(){return h.db||(h.db=yield ba()),h.db})()}_withRetries(h){var m=this;return(0,D.Z)(function*(){let v=0;for(;;)try{const C=yield m._openDb();return yield h(C)}catch(C){if(v++>3)throw C;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,D.Z)(function*(){return Ih()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,D.Z)(function*(){h.receiver=$P._getInstance(function pb(){return Ih()?self:null}()),h.receiver._subscribe("keyChanged",function(){var m=(0,D.Z)(function*(v,C){return{keyProcessed:(yield h._poll()).includes(C.key)}});return function(v,C){return m.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var m=(0,D.Z)(function*(v,C){return["keyChanged"]});return function(v,C){return m.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,D.Z)(function*(){var m,v;if(h.activeServiceWorker=yield function fb(){return Th.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ch(h.activeServiceWorker);const C=yield h.sender._send("ping",{},800);C&&null!==(m=C[0])&&void 0!==m&&m.fulfilled&&null!==(v=C[0])&&void 0!==v&&v.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var m=this;return(0,D.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function Wm(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:h},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const h=yield ba();return yield Zm(h,Gm,"1"),yield _b(h,Gm),!0}catch{}return!1})()}_withPendingWrite(h){var m=this;return(0,D.Z)(function*(){m.pendingWrites++;try{yield h()}finally{m.pendingWrites--}})()}_set(h,m){var v=this;return(0,D.Z)(function*(){return v._withPendingWrite((0,D.Z)(function*(){return yield v._withRetries(C=>Zm(C,h,m)),v.localCache[h]=m,v.notifyServiceWorker(h)}))})()}_get(h){var m=this;return(0,D.Z)(function*(){const v=yield m._withRetries(C=>function zP(p,d){return gb.apply(this,arguments)}(C,h));return m.localCache[h]=v,v})()}_remove(h){var m=this;return(0,D.Z)(function*(){return m._withPendingWrite((0,D.Z)(function*(){return yield m._withRetries(v=>_b(v,h)),delete m.localCache[h],m.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,D.Z)(function*(){const m=yield h._withRetries(F=>{const Y=dl(F,!1).getAll();return new nc(Y).toPromise()});if(!m)return[];if(0!==h.pendingWrites)return[];const v=[],C=new Set;for(const{fbase_key:F,value:Y}of m)C.add(F),JSON.stringify(h.localCache[F])!==JSON.stringify(Y)&&(h.notifyListeners(F,Y),v.push(F));for(const F of Object.keys(h.localCache))h.localCache[F]&&!C.has(F)&&(h.notifyListeners(F,null),v.push(F));return v})()}notifyListeners(h,m){this.localCache[h]=m;const v=this.listeners[h];if(v)for(const C of Array.from(v))C(m)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Cu=1e12;class vb{constructor(d){this.auth=d,this.counter=Cu,this._widgets=new Map}render(d,h){const m=this.counter;return this._widgets.set(m,new CT(d,this.auth.name,h||{})),this.counter++,m}reset(d){var h;const m=d||Cu;null===(h=this._widgets.get(m))||void 0===h||h.delete(),this._widgets.delete(m)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Cu))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,D.Z)(function*(){var m;return null===(m=h._widgets.get(d||Cu))||void 0===m||m.execute(),""})()}}class CT{constructor(d,h,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof d?document.getElementById(d):d;ve(v,"argument-error",{appName:h}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function IT(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qm=aT("rcb"),yb=new fr(3e4,6e4);class bb{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=mn().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ve(function xT(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&oi(mn().grecaptcha)?Promise.resolve(mn().grecaptcha):new Promise((m,v)=>{const C=mn().setTimeout(()=>{v(Vt(d,"network-request-failed"))},yb.get());mn()[Qm]=()=>{mn().clearTimeout(C),delete mn()[Qm];const Y=mn().grecaptcha;if(!Y||!oi(Y))return void v(Vt(d,"internal-error"));const _e=Y.render;Y.render=(Be,nt)=>{const Zt=_e(Be,nt);return this.counter++,Zt},this.hostLanguage=h,m(Y)},$y(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:Qm,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(C),v(Vt(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=mn().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class KP{load(d){return(0,D.Z)(function*(){return new vb(d)})()}clearedOneInstance(){}}const wb="recaptcha",Wi={theme:"light",type:"image"};class Eb{constructor(d,h,m=Object.assign({},Wi)){this.parameters=m,this.type=wb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=si(d),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof h?document.getElementById(h):h;ve(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KP:new bb,this.validateStartingState()}verify(){var d=this;return(0,D.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),m=d.getAssertedRecaptcha();return m.getResponse(h)||new Promise(C=>{const F=Y=>{Y&&(d.tokenChangeListeners.delete(F),C(Y))};d.tokenChangeListeners.add(F),d.isInvisible&&m.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(m=>m(h)),"function"==typeof d)d(h);else if("string"==typeof d){const m=mn()[d];"function"==typeof m&&m(h)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,D.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const m=document.createElement("div");h.appendChild(m),h=m}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,D.Z)(function*(){ve($n()&&!Ih(),d.auth,"internal-error"),yield function DT(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function Q(p){return ue.apply(this,arguments)}(d.auth);ve(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xm{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=ma._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function Cb(p,d,h){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,D.Z)(function*(p,d,h){const m=si(p),v=yield Tu(m,d,(0,ee.m9)(h));return new Xm(v,C=>_h(m,C))})).apply(this,arguments)}function ST(p,d,h){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p);yield mh(!1,m,"phone");const v=yield Tu(m.auth,d,(0,ee.m9)(h));return new Xm(v,C=>Om(m,C))})).apply(this,arguments)}function AT(p,d,h){return No.apply(this,arguments)}function No(){return(No=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p),v=yield Tu(m.auth,d,(0,ee.m9)(h));return new Xm(v,C=>nb(m,C))})).apply(this,arguments)}function Tu(p,d,h){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,D.Z)(function*(p,d,h){var m;const v=yield h.verify();try{let C;if(ve("string"==typeof v,p,"argument-error"),ve(h.type===wb,p,"argument-error"),C="string"==typeof d?{phoneNumber:d}:d,"session"in C){const F=C.session;if("phoneNumber"in C)return ve("enroll"===F.type,p,"internal-error"),(yield function FP(p,d){return he(p,"POST","/v2/accounts/mfaEnrollment:start",q(p,d))}(p,{idToken:F.credential,phoneEnrollmentInfo:{phoneNumber:C.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ve("signin"===F.type,p,"internal-error");const Y=(null===(m=C.multiFactorHint)||void 0===m?void 0:m.uid)||C.multiFactorUid;return ve(Y,p,"missing-multi-factor-info"),(yield function wT(p,d){return he(p,"POST","/v2/accounts/mfaSignIn:start",q(p,d))}(p,{mfaPendingCredential:F.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:F}=yield function hT(p,d){return Im.apply(this,arguments)}(p,{phoneNumber:C.phoneNumber,recaptchaToken:v});return F}}finally{h._reset()}}),Ah.apply(this,arguments)}function Vn(p,d){return xu.apply(this,arguments)}function xu(){return(xu=(0,D.Z)(function*(p,d){yield ph((0,ee.m9)(p),d)})).apply(this,arguments)}let Rh=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=si(h)}verifyPhoneNumber(h,m){return Tu(this.auth,h,(0,ee.m9)(m))}static credential(h,m){return ma._fromVerification(h,m)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:m,temporaryProof:v}=h;return m&&v?ma._fromTokenResponse(m,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Ri(p,d){return d?ie(d):(ve(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Jm extends zl{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return fa(d,this._buildIdpRequest())}_linkToIdToken(d,h){return fa(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return fa(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function Ib(p){return tb(p.auth,new Jm(p),p.bypassAuthState)}function ic(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),eb(h,new Jm(p),p.bypassAuthState)}function mo(p){return eg.apply(this,arguments)}function eg(){return(eg=(0,D.Z)(function*(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),ph(h,new Jm(p),p.bypassAuthState)})).apply(this,arguments)}class Tb{constructor(d,h,m,v,C=!1){this.auth=d,this.resolver=m,this.user=v,this.bypassAuthState=C,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,D.Z)(function*(m,v){d.pendingPromise={resolve:m,reject:v};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(C){d.reject(C)}});return function(m,v){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,D.Z)(function*(){const{urlResponse:m,sessionId:v,postBody:C,tenantId:F,error:Y,type:_e}=d;if(Y)return void h.reject(Y);const Be={auth:h.auth,requestUri:m,sessionId:v,tenantId:F||void 0,postBody:C||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(_e)(Be))}catch(nt){h.reject(nt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ib;case"linkViaPopup":case"linkViaRedirect":return mo;case"reauthViaPopup":case"reauthViaRedirect":return ic;default:xt(this.auth,"internal-error")}}resolve(d){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RT=new fr(2e3,1e4);function wa(p,d,h){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,D.Z)(function*(p,d,h){const m=si(p);gi(p,d,js);const v=Ri(m,h);return new tg(m,"signInViaPopup",d,v).executeNotNull()})).apply(this,arguments)}function NT(p,d,h){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p);gi(m.auth,d,js);const v=Ri(m.auth,h);return new tg(m.auth,"reauthViaPopup",d,v,m).executeNotNull()})).apply(this,arguments)}function xb(p,d,h){return kh.apply(this,arguments)}function kh(){return(kh=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p);gi(m.auth,d,js);const v=Ri(m.auth,h);return new tg(m.auth,"linkViaPopup",d,v,m).executeNotNull()})).apply(this,arguments)}let tg=(()=>{class p extends Tb{constructor(h,m,v,C,F){super(h,m,C,F),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,D.Z)(function*(){const m=yield h.execute();return ve(m,h.auth,"internal-error"),m})()}onExecution(){var h=this;return(0,D.Z)(function*(){Cn(1===h.filter.length,"Popup operations only handle one event");const m=Ci();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],m),h.authWindow.associatedEvent=m,h.resolver._originValidation(h.auth).catch(v=>{h.reject(v)}),h.resolver._isIframeWebStorageSupported(h.auth,v=>{v||h.reject(Vt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var m,v;this.pollId=null!==(v=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,RT.get())};h()}}return p.currentPopupAction=null,p})();const dt="pendingRedirect",rc=new Map;class ZP extends Tb{constructor(d,h,m=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,m),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,D.Z)(function*(){let m=rc.get(h.auth._key());if(!m){try{const C=(yield function MT(p,d){return ng.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;m=()=>Promise.resolve(C)}catch(v){m=()=>Promise.reject(v)}rc.set(h.auth._key(),m)}return h.bypassAuthState||rc.set(h.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,m=this;return(0,D.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(m,d);if("unknown"!==d.type){if(d.eventId){const v=yield m.auth._redirectUserForId(d.eventId);if(v)return m.user=v,h().call(m,d);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function ng(){return(ng=(0,D.Z)(function*(p,d){const h=Ab(d),m=Sb(p);if(!(yield m._isAvailable()))return!1;const v="true"===(yield m._get(h));return yield m._remove(h),v})).apply(this,arguments)}function ig(p,d){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,D.Z)(function*(p,d){return Sb(p)._set(Ab(d),"true")})).apply(this,arguments)}function oc(){rc.clear()}function Db(p,d){rc.set(p._key(),d)}function Sb(p){return ie(p._redirectPersistence)}function Ab(p){return ot(dt,p.config.apiKey,p.name)}function kT(p,d,h){return function PT(p,d,h){return pe.apply(this,arguments)}(p,d,h)}function pe(){return(pe=(0,D.Z)(function*(p,d,h){const m=si(p);gi(p,d,js),yield m._initializationPromise;const v=Ri(m,h);return yield ig(v,m),v._openRedirect(m,d,"signInViaRedirect")})).apply(this,arguments)}function rn(p,d,h){return function Rt(p,d,h){return It.apply(this,arguments)}(p,d,h)}function It(){return(It=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p);gi(m.auth,d,js),yield m.auth._initializationPromise;const v=Ri(m.auth,h);yield ig(v,m.auth);const C=yield OT(m);return v._openRedirect(m.auth,d,"reauthViaRedirect",C)})).apply(this,arguments)}function ir(p,d,h){return function Rb(p,d,h){return hl.apply(this,arguments)}(p,d,h)}function hl(){return(hl=(0,D.Z)(function*(p,d,h){const m=(0,ee.m9)(p);gi(m.auth,d,js),yield m.auth._initializationPromise;const v=Ri(m.auth,h);yield mh(!1,m,d.providerId),yield ig(v,m.auth);const C=yield OT(m);return v._openRedirect(m.auth,d,"linkViaRedirect",C)})).apply(this,arguments)}function ws(p,d){return Du.apply(this,arguments)}function Du(){return(Du=(0,D.Z)(function*(p,d){return yield si(p)._initializationPromise,Su(p,d,!1)})).apply(this,arguments)}function Su(p,d){return rg.apply(this,arguments)}function rg(){return(rg=(0,D.Z)(function*(p,d,h=!1){const m=si(p),v=Ri(m,d),F=yield new ZP(m,v,h).execute();return F&&!h&&(delete F.user._redirectEventId,yield m._persistUserIfCurrent(F.user),yield m._setRedirectUser(null,d)),F})).apply(this,arguments)}function OT(p){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,D.Z)(function*(p){const d=Ci(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class Es{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(d,m)&&(h=!0,this.sendToConsumer(d,m),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function zs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fl(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var m;if(d.error&&!fl(d)){const v=(null===(m=d.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";h.onError(Vt(this.auth,v))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const m=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&m}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(og(d))}saveEventToCache(d){this.cachedEventUids.add(og(d)),this.lastProcessedEventTime=Date.now()}}function og(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function fl({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function Nb(p){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,D.Z)(function*(p,d={}){return he(p,"GET","/v1/projects",d)})).apply(this,arguments)}const FT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LT=/^https?/;function Au(){return(Au=(0,D.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield Nb(p);for(const h of d)try{if(Mb(h))return}catch{}xt(p,"unauthorized-domain")})).apply(this,arguments)}function Mb(p){const d=qn(),{protocol:h,hostname:m}=new URL(d);if(p.startsWith("chrome-extension://")){const F=new URL(p);return""===F.hostname&&""===m?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&F.hostname===m}if(!LT.test(h))return!1;if(FT.test(p))return m===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(m)}const ag=new fr(3e4,6e4);function kb(){const p=mn().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let sc=null;const Fb=new fr(5e3,15e3),Lb="__/auth/iframe",Vb="emulator/auth/iframe",lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BT(p){const d=p.config;ve(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?oo(d,Vb):`https://${p.config.authDomain}/${Lb}`,m={apiKey:d.apiKey,appName:p.name,v:U.SDK_VERSION},v=VT.get(p.config.apiHost);v&&(m.eid=v);const C=p._getFrameworks();return C.length&&(m.fw=C.join(",")),`${h}?${(0,ee.xO)(m).slice(1)}`}function Gs(){return Gs=(0,D.Z)(function*(p){const d=yield function Ob(p){return sc=sc||function Pb(p){return new Promise((d,h)=>{var m,v,C;function F(){kb(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{kb(),h(Vt(p,"network-request-failed"))},timeout:ag.get()})}if(null!==(v=null===(m=mn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==v&&v.Iframe)d(gapi.iframes.getContext());else{if(null===(C=mn().gapi)||void 0===C||!C.load){const Y=aT("iframefcb");return mn()[Y]=()=>{gapi.load?F():h(Vt(p,"network-request-failed"))},$y(`https://apis.google.com/js/api.js?onload=${Y}`).catch(_e=>h(_e))}F()}}).catch(d=>{throw sc=null,d})}(p),sc}(p),h=mn().gapi;return ve(h,p,"internal-error"),d.open({where:document.body,url:BT(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lg,dontclear:!0},m=>new Promise(function(){var v=(0,D.Z)(function*(C,F){yield m.restyle({setHideOnLeave:!1});const Y=Vt(p,"network-request-failed"),_e=mn().setTimeout(()=>{F(Y)},Fb.get());function Be(){mn().clearTimeout(_e),C(m)}m.ping(Be).then(Be,()=>{F(Y)})});return function(C,F){return v.apply(this,arguments)}}()))}),Gs.apply(this,arguments)}const li={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cg{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ea="__/auth/handler",HT="emulator/auth/handler",Vh=encodeURIComponent("fac");function ac(p,d,h,m,v,C){return lc.apply(this,arguments)}function lc(){return(lc=(0,D.Z)(function*(p,d,h,m,v,C){ve(p.config.authDomain,p,"auth-domain-config-required"),ve(p.config.apiKey,p,"invalid-api-key");const F={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:m,v:U.SDK_VERSION,eventId:v};if(d instanceof js){d.setDefaultLanguage(p.languageCode),F.providerId=d.providerId||"",(0,ee.xb)(d.getCustomParameters())||(F.customParameters=JSON.stringify(d.getCustomParameters()));for(const[nt,Zt]of Object.entries(C||{}))F[nt]=Zt}if(d instanceof ql){const nt=d.getScopes().filter(Zt=>""!==Zt);nt.length>0&&(F.scopes=nt.join(","))}p.tenantId&&(F.tid=p.tenantId);const Y=F;for(const nt of Object.keys(Y))void 0===Y[nt]&&delete Y[nt];const _e=yield p._getAppCheckToken(),Be=_e?`#${Vh}=${encodeURIComponent(_e)}`:"";return`${function ug({config:p}){return p.emulator?oo(p,HT):`https://${p.authDomain}/${Ea}`}(p)}?${(0,ee.xO)(Y).slice(1)}${Be}`})).apply(this,arguments)}const Bh="webStorageSupport",$b=class Hb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=Su,this._overrideRedirectResult=Db}_openPopup(d,h,m,v){var C=this;return(0,D.Z)(function*(){var F;Cn(null===(F=C.eventManagers[d._key()])||void 0===F?void 0:F.manager,"_initialize() not called before _openPopup()");const Y=yield ac(d,h,m,qn(),v);return function jb(p,d,h,m=500,v=600){const C=Math.max((window.screen.availHeight-v)/2,0).toString(),F=Math.max((window.screen.availWidth-m)/2,0).toString();let Y="";const _e=Object.assign(Object.assign({},li),{width:m.toString(),height:v.toString(),top:C,left:F}),Be=(0,ee.z$)().toLowerCase();h&&(Y=Gi(Be)?"_blank":h),xn(Be)&&(d=d||"http://localhost",_e.scrollbars="yes");const nt=Object.entries(_e).reduce((kr,[Ws,ku])=>`${kr}${Ws}=${ku},`,"");if(function Pt(p=(0,ee.z$)()){var d;return We(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Be)&&"_self"!==Y)return function Lh(p,d){const h=document.createElement("a");h.href=p,h.target=d;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(m)}(d||"",Y),new cg(null);const Zt=window.open(d||"",Y,nt);ve(Zt,p,"popup-blocked");try{Zt.focus()}catch{}return new cg(Zt)}(d,Y,Ci())})()}_openRedirect(d,h,m,v){var C=this;return(0,D.Z)(function*(){return yield C._originValidation(d),function hb(p){mn().location.href=p}(yield ac(d,h,m,qn(),v)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:v,promise:C}=this.eventManagers[h];return v?Promise.resolve(v):(Cn(C,"If manager is not set, promise should be"),C)}const m=this.initAndGetManager(d);return this.eventManagers[h]={promise:m},m.catch(()=>{delete this.eventManagers[h]}),m}initAndGetManager(d){var h=this;return(0,D.Z)(function*(){const m=yield function Mr(p){return Gs.apply(this,arguments)}(d),v=new Es(d);return m.register("authEvent",C=>(ve(C?.authEvent,d,"invalid-auth-event"),{status:v.onEvent(C.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:v},h.iframes[d._key()]=m,v})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Bh,{type:Bh},v=>{var C;const F=null===(C=v?.[0])||void 0===C?void 0:C[Bh];void 0!==F&&h(!!F),xt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function sg(p){return Au.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return wi()||Ke()||We()}};class cc{constructor(d){this.factorId=d}_process(d,h,m){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,m);case"signin":return this._finalizeSignIn(d,h.credential);default:return Ut("unexpected MultiFactorSessionType")}}}class pl extends cc{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new pl(d)}_finalizeEnroll(d,h,m){return function LP(p,d){return he(p,"POST","/v2/accounts/mfaEnrollment:finalize",q(p,d))}(d,{idToken:h,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function Ym(p,d){return he(p,"POST","/v2/accounts/mfaSignIn:finalize",q(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $T=(()=>{class p{constructor(){}static assertion(h){return pl._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var zb="@firebase/auth";class YP{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,D.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(m=>{d(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mu=(0,ee.Pz)("authIdTokenMaxAge")||300;let jh=null;const Hh=p=>function(){var d=(0,D.Z)(function*(h){const m=h&&(yield h.getIdTokenResult()),v=m&&((new Date).getTime()-Date.parse(m.issuedAtTime))/1e3;if(v&&v>Mu)return;const C=m?.token;jh!==C&&(jh=C,yield fetch(p,{method:C?"POST":"DELETE",headers:C?{Authorization:`Bearer ${C}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function QP(p=(0,U.getApp)()){const d=(0,U._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function RP(p,d){const h=(0,U._getProvider)(p,"auth");if(h.isInitialized()){const v=h.getImmediate(),C=h.getOptions();if((0,ee.vZ)(C,d??{}))return v;xt(v,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:$b,persistence:[Dh,vT,bs]}),m=(0,ee.Pz)("authTokenSyncURL");if(m){const C=Hh(m);(function cl(p,d,h){(0,ee.m9)(p).beforeAuthStateChanged(d,h)})(h,C,()=>C(h.currentUser)),function Hm(p,d,h,m){(0,ee.m9)(p).onIdTokenChanged(d,h,m)}(h,F=>C(F))}const v=(0,ee.q4)("auth");return v&&uT(h,`http://${v}`),h}!function Nu(p){(0,U._registerComponent)(new Un.wA("auth",(d,{options:h})=>{const m=d.getProvider("app").getImmediate(),v=d.getProvider("heartbeat"),C=d.getProvider("app-check-internal"),{apiKey:F,authDomain:Y}=m.options;ve(F&&!F.includes(":"),"invalid-api-key",{appName:m.name});const _e={apiKey:F,authDomain:Y,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(p)},Be=new xP(m,v,C,_e);return function fe(p,d){const h=d?.persistence||[],m=(Array.isArray(h)?h:[h]).map(ie);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(m,d?.popupRedirectResolver)}(Be,h),Be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,m)=>{d.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Un.wA("auth-internal",d=>{const h=si(d.getProvider("auth").getImmediate());return new YP(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(zb,"1.4.0",function dg(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,U.registerVersion)(zb,"1.4.0","esm2017")}("Browser")},58:(Gr,pi,et)=>{et.d(pi,{BH:()=>hr,DV:()=>B,Dv:()=>an,G6:()=>oo,GJ:()=>oi,L:()=>Gt,LL:()=>se,Pz:()=>Vt,Sg:()=>gi,UG:()=>Ut,UI:()=>ue,US:()=>Un,Wj:()=>Ln,Wl:()=>Ze,Yr:()=>fr,ZB:()=>He,ZR:()=>he,aH:()=>xt,b$:()=>$n,cI:()=>Ie,dS:()=>Go,eu:()=>J,g5:()=>U,gK:()=>pn,gQ:()=>Kn,h$:()=>En,hl:()=>K,hu:()=>ee,jU:()=>Cn,lb:()=>zn,m9:()=>ms,ne:()=>Li,p$:()=>we,pd:()=>Tn,q4:()=>mi,r3:()=>j,ru:()=>qn,tV:()=>ce,uI:()=>ve,ug:()=>so,vZ:()=>Ae,w1:()=>ro,w9:()=>Fn,xO:()=>jt,xb:()=>Q,z$:()=>vt,zd:()=>kt});const D={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ee=function(P,M){if(!P)throw U(M)},U=function(P){return new Error("Firebase Database ("+D.SDK_VERSION+") INTERNAL ASSERT FAILED: "+P)},Ge=function(P){const M=[];let E=0;for(let I=0;I<P.length;I++){let w=P.charCodeAt(I);w<128?M[E++]=w:w<2048?(M[E++]=w>>6|192,M[E++]=63&w|128):55296==(64512&w)&&I+1<P.length&&56320==(64512&P.charCodeAt(I+1))?(w=65536+((1023&w)<<10)+(1023&P.charCodeAt(++I)),M[E++]=w>>18|240,M[E++]=w>>12&63|128,M[E++]=w>>6&63|128,M[E++]=63&w|128):(M[E++]=w>>12|224,M[E++]=w>>6&63|128,M[E++]=63&w|128)}return M},Un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,M){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let w=0;w<P.length;w+=3){const N=P[w],ie=w+1<P.length,Ue=ie?P[w+1]:0,Ve=w+2<P.length,ot=Ve?P[w+2]:0;let xn=(15&Ue)<<2|ot>>6,Ke=63&ot;Ve||(Ke=64,ie||(xn=64)),I.push(E[N>>2],E[(3&N)<<4|Ue>>4],E[xn],E[Ke])}return I.join("")},encodeString(P,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(P):this.encodeByteArray(Ge(P),M)},decodeString(P,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(P):function(P){const M=[];let E=0,I=0;for(;E<P.length;){const w=P[E++];if(w<128)M[I++]=String.fromCharCode(w);else if(w>191&&w<224){const N=P[E++];M[I++]=String.fromCharCode((31&w)<<6|63&N)}else if(w>239&&w<365){const Ve=((7&w)<<18|(63&P[E++])<<12|(63&P[E++])<<6|63&P[E++])-65536;M[I++]=String.fromCharCode(55296+(Ve>>10)),M[I++]=String.fromCharCode(56320+(1023&Ve))}else{const N=P[E++],ie=P[E++];M[I++]=String.fromCharCode((15&w)<<12|(63&N)<<6|63&ie)}}return M.join("")}(this.decodeStringToByteArray(P,M))},decodeStringToByteArray(P,M){this.init_();const E=M?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let w=0;w<P.length;){const N=E[P.charAt(w++)],Ue=w<P.length?E[P.charAt(w)]:0;++w;const ot=w<P.length?E[P.charAt(w)]:64;++w;const Me=w<P.length?E[P.charAt(w)]:64;if(++w,null==N||null==Ue||null==ot||null==Me)throw new ri;I.push(N<<2|Ue>>4),64!==ot&&(I.push(Ue<<4&240|ot>>2),64!==Me&&I.push(ot<<6&192|Me))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class ri extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const En=function(P){const M=Ge(P);return Un.encodeByteArray(M,!0)},Gt=function(P){return En(P).replace(/\./g,"")},ce=function(P){try{return Un.decodeString(P,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function we(P){return He(void 0,P)}function He(P,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return M}for(const E in M)!M.hasOwnProperty(E)||!mt(E)||(P[E]=He(P[E],M[E]));return P}function mt(P){return"__proto__"!==P}const ut=()=>{try{return function Jt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=P&&ce(P[1]);return M&&JSON.parse(M)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},mi=P=>{var M,E;return null===(E=null===(M=ut())||void 0===M?void 0:M.emulatorHosts)||void 0===E?void 0:E[P]},xt=()=>{var P;return null===(P=ut())||void 0===P?void 0:P.config},Vt=P=>{var M;return null===(M=ut())||void 0===M?void 0:M[`_${P}`]};class hr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,E)=>{this.resolve=M,this.reject=E})}wrapCallback(M){return(E,I)=>{E?this.reject(E):this.resolve(I),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(E):M(E,I))}}}function gi(P,M){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=M||"demo-project",w=P.iat||0,N=P.sub||P.user_id;if(!N)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:w,exp:w+3600,auth_time:w,sub:N,user_id:N,firebase:{sign_in_provider:"custom",identities:{}}},P);return[Gt(JSON.stringify({alg:"none",type:"JWT"})),Gt(JSON.stringify(ie)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Ut(){var P;const M=null===(P=ut())||void 0===P?void 0:P.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Cn(){return"object"==typeof self&&self.self===self}function qn(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function $n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ro(){const P=vt();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function fr(){return!0===D.NODE_CLIENT||!0===D.NODE_ADMIN}function oo(){return!Ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((P,M)=>{try{let E=!0;const I="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(I);w.onsuccess=()=>{w.result.close(),E||self.indexedDB.deleteDatabase(I),P(!0)},w.onupgradeneeded=()=>{E=!1},w.onerror=()=>{var N;M((null===(N=w.error)||void 0===N?void 0:N.message)||"")}}catch(E){M(E)}})}class he extends Error{constructor(M,E,I){super(E),this.code=M,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(M,E,I){this.service=M,this.serviceName=E,this.errors=I}create(M,...E){const I=E[0]||{},w=`${this.service}/${M}`,N=this.errors[M],ie=N?function Se(P,M){return P.replace(Dt,(E,I)=>{const w=M[I];return null!=w?String(w):`<${I}?>`})}(N,I):"Error";return new he(w,`${this.serviceName}: ${ie} (${w}).`,I)}}const Dt=/\{\$([^}]+)}/g;function Ie(P){return JSON.parse(P)}function Ze(P){return JSON.stringify(P)}const Wt=function(P){let M={},E={},I={},w="";try{const N=P.split(".");M=Ie(ce(N[0])||""),E=Ie(ce(N[1])||""),w=N[2],I=E.d||{},delete E.d}catch{}return{header:M,claims:E,data:I,signature:w}},Fn=function(P){const E=Wt(P).claims;return!!E&&"object"==typeof E&&E.hasOwnProperty("iat")},oi=function(P){const M=Wt(P).claims;return"object"==typeof M&&!0===M.admin};function j(P,M){return Object.prototype.hasOwnProperty.call(P,M)}function B(P,M){if(Object.prototype.hasOwnProperty.call(P,M))return P[M]}function Q(P){for(const M in P)if(Object.prototype.hasOwnProperty.call(P,M))return!1;return!0}function ue(P,M,E){const I={};for(const w in P)Object.prototype.hasOwnProperty.call(P,w)&&(I[w]=M.call(E,P[w],w,P));return I}function Ae(P,M){if(P===M)return!0;const E=Object.keys(P),I=Object.keys(M);for(const w of E){if(!I.includes(w))return!1;const N=P[w],ie=M[w];if(ye(N)&&ye(ie)){if(!Ae(N,ie))return!1}else if(N!==ie)return!1}for(const w of I)if(!E.includes(w))return!1;return!0}function ye(P){return null!==P&&"object"==typeof P}function jt(P){const M=[];for(const[E,I]of Object.entries(P))Array.isArray(I)?I.forEach(w=>{M.push(encodeURIComponent(E)+"="+encodeURIComponent(w))}):M.push(encodeURIComponent(E)+"="+encodeURIComponent(I));return M.length?"&"+M.join("&"):""}function kt(P){const M={};return P.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[w,N]=I.split("=");M[decodeURIComponent(w)]=decodeURIComponent(N)}}),M}function Tn(P){const M=P.indexOf("?");if(!M)return"";const E=P.indexOf("#",M);return P.substring(M,E>0?E:void 0)}class Kn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let M=1;M<this.blockSize;++M)this.pad_[M]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(M,E){E||(E=0);const I=this.W_;if("string"==typeof M)for(let Me=0;Me<16;Me++)I[Me]=M.charCodeAt(E)<<24|M.charCodeAt(E+1)<<16|M.charCodeAt(E+2)<<8|M.charCodeAt(E+3),E+=4;else for(let Me=0;Me<16;Me++)I[Me]=M[E]<<24|M[E+1]<<16|M[E+2]<<8|M[E+3],E+=4;for(let Me=16;Me<80;Me++){const xn=I[Me-3]^I[Me-8]^I[Me-14]^I[Me-16];I[Me]=4294967295&(xn<<1|xn>>>31)}let ot,nn,w=this.chain_[0],N=this.chain_[1],ie=this.chain_[2],Ue=this.chain_[3],Ve=this.chain_[4];for(let Me=0;Me<80;Me++){Me<40?Me<20?(ot=Ue^N&(ie^Ue),nn=1518500249):(ot=N^ie^Ue,nn=1859775393):Me<60?(ot=N&ie|Ue&(N|ie),nn=2400959708):(ot=N^ie^Ue,nn=3395469782);const xn=(w<<5|w>>>27)+ot+Ve+nn+I[Me]&4294967295;Ve=Ue,Ue=ie,ie=4294967295&(N<<30|N>>>2),N=w,w=xn}this.chain_[0]=this.chain_[0]+w&4294967295,this.chain_[1]=this.chain_[1]+N&4294967295,this.chain_[2]=this.chain_[2]+ie&4294967295,this.chain_[3]=this.chain_[3]+Ue&4294967295,this.chain_[4]=this.chain_[4]+Ve&4294967295}update(M,E){if(null==M)return;void 0===E&&(E=M.length);const I=E-this.blockSize;let w=0;const N=this.buf_;let ie=this.inbuf_;for(;w<E;){if(0===ie)for(;w<=I;)this.compress_(M,w),w+=this.blockSize;if("string"==typeof M){for(;w<E;)if(N[ie]=M.charCodeAt(w),++ie,++w,ie===this.blockSize){this.compress_(N),ie=0;break}}else for(;w<E;)if(N[ie]=M[w],++ie,++w,ie===this.blockSize){this.compress_(N),ie=0;break}}this.inbuf_=ie,this.total_+=E}digest(){const M=[];let E=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let w=this.blockSize-1;w>=56;w--)this.buf_[w]=255&E,E/=256;this.compress_(this.buf_);let I=0;for(let w=0;w<5;w++)for(let N=24;N>=0;N-=8)M[I]=this.chain_[w]>>N&255,++I;return M}}function Li(P,M){const E=new zi(P,M);return E.subscribe.bind(E)}class zi{constructor(M,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{M(this)}).catch(I=>{this.error(I)})}next(M){this.forEachObserver(E=>{E.next(M)})}error(M){this.forEachObserver(E=>{E.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,E,I){let w;if(void 0===M&&void 0===E&&void 0===I)throw new Error("Missing Observer.");w=function vn(P,M){if("object"!=typeof P||null===P)return!1;for(const E of M)if(E in P&&"function"==typeof P[E])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:E,complete:I},void 0===w.next&&(w.next=qt),void 0===w.error&&(w.error=qt),void 0===w.complete&&(w.complete=qt);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),N}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,M)}sendOne(M,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{E(this.observers[M])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qt(){}const an=function(P,M,E,I){let w;if(I<M?w="at least "+M:I>E&&(w=0===E?"none":"no more than "+E),w)throw new Error(P+" failed: Was called with "+I+(1===I?" argument.":" arguments.")+" Expects "+w+".")};function pn(P,M){return`${P} failed: ${M} argument `}function Ln(P,M,E,I){if((!I||E)&&"function"!=typeof E)throw new Error(pn(P,M)+"must be a valid function.")}function zn(P,M,E,I){if((!I||E)&&("object"!=typeof E||null===E))throw new Error(pn(P,M)+"must be a valid context object.")}const Go=function(P){const M=[];let E=0;for(let I=0;I<P.length;I++){let w=P.charCodeAt(I);if(w>=55296&&w<=56319){const N=w-55296;I++,ee(I<P.length,"Surrogate pair missing trail surrogate."),w=65536+(N<<10)+(P.charCodeAt(I)-56320)}w<128?M[E++]=w:w<2048?(M[E++]=w>>6|192,M[E++]=63&w|128):w<65536?(M[E++]=w>>12|224,M[E++]=w>>6&63|128,M[E++]=63&w|128):(M[E++]=w>>18|240,M[E++]=w>>12&63|128,M[E++]=w>>6&63|128,M[E++]=63&w|128)}return M},so=function(P){let M=0;for(let E=0;E<P.length;E++){const I=P.charCodeAt(E);I<128?M++:I<2048?M+=2:I>=55296&&I<=56319?(M+=4,E++):M+=3}return M};function ms(P){return P&&P._delegate?P._delegate:P}},682:(Gr,pi,et)=>{function D(n){return"function"==typeof n}function ee(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const U=ee(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ge(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class bt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(D(i))try{i()}catch(o){t=o instanceof U?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{En(o)}catch(s){t=t??[],s instanceof U?t=[...t,...s.errors]:t.push(s)}}if(t)throw new U(t)}}add(t){var e;if(t&&t!==this)if(this.closed)En(t);else{if(t instanceof bt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ge(e,t)}remove(t){const{_finalizers:e}=this;e&&Ge(e,t),t instanceof bt&&t._removeParent(this)}}bt.EMPTY=(()=>{const n=new bt;return n.closed=!0,n})();const Un=bt.EMPTY;function ri(n){return n instanceof bt||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function En(n){D(n)?n():n.unsubscribe()}const Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(n,t,...e){const{delegate:i}=ce;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ce;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function we(n){ce.setTimeout(()=>{const{onUnhandledError:t}=Gt;if(!t)throw n;t(n)})}function He(){}const mt=Lt("C",void 0,void 0);function Lt(n,t,e){return{kind:n,value:t,error:e}}let ct=null;function ut(n){if(Gt.useDeprecatedSynchronousErrorHandling){const t=!ct;if(t&&(ct={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ct;if(ct=null,e)throw i}}else n()}class Hn extends bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ri(t)&&t.add(this)):this.destination=Cn}static create(t,e,i){return new gi(t,e,i)}next(t){this.isStopped?Ut(function jn(n){return Lt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ut(function Jt(n){return Lt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ut(mt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xt=Function.prototype.bind;function Vt(n,t){return xt.call(n,t)}class hr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){vt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){vt(i)}else vt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){vt(e)}}}class gi extends Hn{constructor(t,e,i){let r;if(super(),D(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Vt(t.next,o),error:t.error&&Vt(t.error,o),complete:t.complete&&Vt(t.complete,o)}):r=t}this.destination=new hr(r)}}function vt(n){Gt.useDeprecatedSynchronousErrorHandling?function mi(n){Gt.useDeprecatedSynchronousErrorHandling&&ct&&(ct.errorThrown=!0,ct.error=n)}(n):we(n)}function Ut(n,t){const{onStoppedNotification:e}=Gt;e&&ce.setTimeout(()=>e(n,t))}const Cn={closed:!0,next:He,error:function ve(n){throw n},complete:He},qn="function"==typeof Symbol&&Symbol.observable||"@@observable";function $n(n){return n}function ro(n){return 0===n.length?$n:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let it=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function K(n){return n&&n instanceof Hn||function oo(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&ri(n)}(e)?e:new gi(e,i,r);return ut(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=fr(i))((r,o)=>{const s=new gi({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[qn](){return this}pipe(...e){return ro(e)(this)}toPromise(e){return new(e=fr(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function fr(n){var t;return null!==(t=n??Gt.Promise)&&void 0!==t?t:Promise}const J=ee(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new q(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new J}next(e){ut(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ut(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ut(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Un:(this.currentObservers=null,o.push(e),new bt(()=>{this.currentObservers=null,Ge(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return n.create=(t,e)=>new q(t,e),n})();class q extends ${constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Un}}function he(n){return D(n?.lift)}function se(n){return t=>{if(he(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new Dt(n,t,e,i,r)}class Dt extends Hn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(n,t){return se((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var Ze=et(582);const Wt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function On(n){return D(n?.then)}function fn(n){return D(n[qn])}function Fn(n){return Symbol.asyncIterator&&D(n?.[Symbol.asyncIterator])}function oi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const B=function j(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Q(n){return D(n?.[B])}function ue(n){return(0,Ze.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ze.qq)(e.read());if(r)return yield(0,Ze.qq)(void 0);yield yield(0,Ze.qq)(i)}}finally{e.releaseLock()}})}function Ae(n){return D(n?.getReader)}function ye(n){if(n instanceof it)return n;if(null!=n){if(fn(n))return function In(n){return new it(t=>{const e=n[qn]();if(D(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Wt(n))return function jt(n){return new it(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(On(n))return function kt(n){return new it(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,we)})}(n);if(Fn(n))return Kn(n);if(Q(n))return function Tn(n){return new it(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ae(n))return function Li(n){return Kn(ue(n))}(n)}throw oi(n)}function Kn(n){return new it(t=>{(function zi(n,t){var e,i,r,o;return(0,Ze.mG)(this,void 0,void 0,function*(){try{for(e=(0,Ze.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Xi(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function qt(n,t,e=1/0){return D(t)?qt((i,r)=>Ie((o,s)=>t(i,o,r,s))(ye(n(i,r))),e):("number"==typeof t&&(e=t),se((i,r)=>function vn(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,f=!1;const g=()=>{f&&!l.length&&!c&&t.complete()},_=b=>c<i?y(b):l.push(b),y=b=>{o&&t.next(b),c++;let T=!1;ye(e(b,u++)).subscribe(Se(t,k=>{r?.(k),o?_(k):t.next(k)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){const k=l.shift();s?Xi(t,s,()=>y(k)):y(k)}g()}catch(k){t.error(k)}}))};return n.subscribe(Se(t,_,()=>{f=!0,g()})),()=>{a?.()}}(i,r,n,e)))}function an(n=1/0){return qt($n,n)}const pn=new it(n=>n.complete());function zn(n){return n&&D(n.schedule)}function Go(n){return n[n.length-1]}function so(n){return D(Go(n))?n.pop():void 0}function Wo(n){return zn(Go(n))?n.pop():void 0}function Ai(n,t=0){return se((e,i)=>{e.subscribe(Se(i,r=>Xi(i,n,()=>i.next(r),t),()=>Xi(i,n,()=>i.complete(),t),r=>Xi(i,n,()=>i.error(r),t)))})}function pr(n,t=0){return se((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ms(n,t){if(!n)throw new Error("Iterable cannot be null");return new it(e=>{Xi(e,t,()=>{const i=n[Symbol.asyncIterator]();Xi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function E(n,t){return t?function M(n,t){if(null!=n){if(fn(n))return function ao(n,t){return ye(n).pipe(pr(t),Ai(t))}(n,t);if(Wt(n))return function ha(n,t){return new it(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(On(n))return function $l(n,t){return ye(n).pipe(pr(t),Ai(t))}(n,t);if(Fn(n))return ms(n,t);if(Q(n))return function Ja(n,t){return new it(e=>{let i;return Xi(e,t,()=>{i=n[B](),Xi(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>D(i?.return)&&i.return()})}(n,t);if(Ae(n))return function P(n,t){return ms(ue(n),t)}(n,t)}throw oi(n)}(n,t):ye(n)}function I(...n){const t=Wo(n),e=function Vi(n,t){return"number"==typeof Go(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ye(i[0]):an(e)(E(i,t)):pn}class w extends ${constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function N(...n){return E(n,Wo(n))}function ie(n={}){const{connector:t=(()=>new $),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,f=!1;const g=()=>{a?.unsubscribe(),a=void 0},_=()=>{g(),s=l=void 0,u=f=!1},y=()=>{const b=s;_(),b?.unsubscribe()};return se((b,T)=>{c++,!f&&!u&&g();const k=l=l??t();T.add(()=>{c--,0===c&&!f&&!u&&(a=Ue(y,r))}),k.subscribe(T),!s&&c>0&&(s=new gi({next:S=>k.next(S),error:S=>{f=!0,g(),a=Ue(_,e,S),k.error(S)},complete:()=>{u=!0,g(),a=Ue(_,i),k.complete()}}),ye(b).subscribe(s))})(o)}}function Ue(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new gi({next:()=>{i.unsubscribe(),n()}});return ye(t(...e)).subscribe(i)}function Ve(n,t){return se((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Se(i,l=>{r?.unsubscribe();let c=0;const u=o++;ye(n(l,u)).subscribe(r=Se(i,f=>i.next(t?t(l,f,u,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ot(n,t=$n){return n=n??nn,se((e,i)=>{let r,o=!0;e.subscribe(Se(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function nn(n,t){return n===t}function Me(n){for(let t in n)if(n[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function xn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Gi(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const el=Me({__forward_ref__:Me});function H(n){return n.__forward_ref__=H,n.toString=function(){return Ke(this())},n}function L(n){return be(n)?n():n}function be(n){return"function"==typeof n&&n.hasOwnProperty(el)&&n.__forward_ref__===H}function We(n){return n&&!!n.\u0275providers}const Pt="https://g.co/ng/security#xss";class z extends Error{constructor(t,e){super(function wi(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function $e(n){return"string"==typeof n?n:null==n?"":String(n)}function mm(n,t){throw new z(-201,!1)}function mr(n,t){null==n&&function lt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ih(n){return Ky(n,Gl)||Ky(n,rh)}function Ky(n,t){return n.hasOwnProperty(t)?n[t]:null}function pu(n){return n&&(n.hasOwnProperty(gm)||n.hasOwnProperty(dT))?n[gm]:null}const Gl=Me({\u0275prov:Me}),gm=Me({\u0275inj:Me}),rh=Me({ngInjectableDef:Me}),dT=Me({ngInjectorDef:Me});var Ot=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ot||{});let _m;function Wr(n){const t=_m;return _m=n,t}function sh(n,t,e){const i=ih(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ot.Optional?null:void 0!==t?t:void mm(Ke(n))}const Dn=globalThis;class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nl={},Cm="__NG_DI_FLAG__",co="ngTempTokenPath",Im=/\n/gm,ch="__source";let Wl;function pa(n){const t=Wl;return Wl=n,t}function pT(n,t=Ot.Default){if(void 0===Wl)throw new z(-203,!1);return null===Wl?sh(n,void 0,t):Wl.get(n,t&Ot.Optional?null:void 0,t)}function O(n,t=Ot.Default){return(function oh(){return _m}()||pT)(L(n),t)}function Ce(n,t=Ot.Default){return O(n,uh(t))}function uh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function il(n){const t=[];for(let e=0;e<n.length;e++){const i=L(n[e]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,o=Ot.Default;for(let s=0;s<i.length;s++){const a=i[s],l=xm(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(O(r,o))}else t.push(O(i))}return t}function dh(n,t){return n[Cm]=t,n.prototype[Cm]=t,n}function xm(n){return n[Cm]}function uo(n){return{toString:n}.toString()}var hh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hh||{}),Ao=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ao||{});const gs={},ln=[],Hs=Me({\u0275cmp:Me}),Dm=Me({\u0275dir:Me}),Kl=Me({\u0275pipe:Me}),Xy=Me({\u0275mod:Me}),_s=Me({\u0275fac:Me}),rl=Me({__NG_ELEMENT_ID__:Me}),ho=Me({__NG_ENV_ID__:Me});function Sm(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Am(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];gu(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function fh(n){return 3===n||4===n||6===n}function gu(n){return 64===n.charCodeAt(0)}function Zl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Rm(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Rm(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Jy="ng-template";function Nm(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Sm(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function ph(n){return 4===n.type&&n.value!==Jy}function Mm(n,t,e){return t===(4!==n.type||e?n.value:Jy)}function mh(n,t,e){let i=4;const r=n.attrs||[],o=function km(n){for(let t=0;t<n.length;t++)if(fh(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Mm(n,l,e)||""===l&&1===t.length){if(fo(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!Nm(n.attrs,c,e)){if(fo(i))return!1;s=!0}continue}const f=eb(8&i?"class":l,r,ph(n),e);if(-1===f){if(fo(i))return!1;s=!0;continue}if(""!==c){let g;g=f>o?"":r[f+1].toLowerCase();const _=8&i?g:null;if(_&&-1!==Sm(_,c,0)||2&i&&c!==g){if(fo(i))return!1;s=!0}}}}else{if(!s&&!fo(i)&&!fo(l))return!1;if(s&&fo(l))continue;s=!1,i=l|1&i}}return fo(i)||s}function fo(n){return 0==(1&n)}function eb(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function _h(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function gh(n,t,e=!1){for(let i=0;i<t.length;i++)if(mh(n,t[i],e))return!0;return!1}function Pm(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Om(n,t){return n?":not("+t.trim()+")":t}function Fm(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!fo(s)&&(t+=Om(o,r),r=""),i=s,o=o||!fo(i);e++}return""!==r&&(t+=Om(o,r)),t}function Sn(n){return uo(()=>{const t=ib(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ao.Emulated,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null,id:""};yh(e);const i=n.dependencies;return e.directiveDefs=_u(i,!1),e.pipeDefs=_u(i,!0),e.id=function gT(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function mT(n){return Kt(n)||er(n)}function Bm(n){return null!==n}function Xe(n){return uo(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vh(n,t){if(null==n)return gs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function me(n){return uo(()=>{const t=ib(n);return yh(t),t})}function Ji(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[Hs]||null}function er(n){return n[Dm]||null}function tr(n){return n[Kl]||null}function Rr(n,t){const e=n[Xy]||null;if(!e&&!0===t)throw new Error(`Type ${Ke(n)} does not have '\u0275mod' property.`);return e}function ib(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||gs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vh(n.inputs,t),outputs:vh(n.outputs)}}function yh(n){n.features?.forEach(t=>t(n))}function _u(n,t){if(!n)return null;const e=t?tr:mT;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Bm)}const Zn=0,Pe=1,gt=2,Yn=3,qo=4,ol=5,gr=6,Ql=7,ai=8,ga=9,_a=10,_t=11,sl=12,rb=13,va=14,Ei=15,al=16,Xl=17,Ro=18,vu=19,bh=20,ya=21,$s=22,Jl=23,ll=24,Ht=25,wh=1,ob=2,vs=7,ec=9,_r=11;function po(n){return Array.isArray(n)&&"object"==typeof n[wh]}function nr(n){return Array.isArray(n)&&!0===n[wh]}function Hm(n){return 0!=(4&n.flags)}function cl(n){return n.componentOffset>-1}function $m(n){return 1==(1&n.flags)}function ys(n){return!!n.template}function sb(n){return 0!=(512&n[gt])}function tc(n,t){return n.hasOwnProperty(_s)?n[_s]:null}let Ci=null,Ch=!1;function mn(n){const t=Ci;return Ci=n,t}const hb={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fb(n){if(!Eu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!wu(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function pb(n){n.dirty=!0,function Th(n){if(void 0===n.liveConsumerNode)return;const t=Ch;Ch=!0;try{for(const e of n.liveConsumerNode)e.dirty||pb(e)}finally{Ch=t}}(n),n.consumerMarkedDirty?.(n)}function xh(n){return n&&(n.nextProducerIndex=0),mn(n)}function qm(n,t){if(mn(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Eu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)dl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function wu(n){ba(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(fb(e),i!==e.version))return!0}return!1}function Km(n){if(ba(n),Eu(n))for(let t=0;t<n.producerNode.length;t++)dl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function dl(n,t){if(function Zm(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ba(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)dl(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];ba(r),r.producerIndexOfThis[i]=t}}function Eu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ba(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let bT=null;const bb=()=>{},xT=(()=>({...hb,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:bb}))();class wb{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Wi(){return Eb}function Eb(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xm),DT}function DT(){const n=Sh(this),t=n?.current;if(t){const e=n.previous;if(e===gs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Xm(n,t,e,i){const r=this.declaredInputs[e],o=Sh(n)||function ST(n,t){return n[Cb]=t}(n,{previous:gs,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new wb(l&&l.currentValue,t,a===gs),n[i]=t}Wi.ngInherit=!0;const Cb="__ngSimpleChanges__";function Sh(n){return n[Cb]||null}const No=function(n,t,e){};function Vn(n){for(;Array.isArray(n);)n=n[Zn];return n}function Rh(n,t){return Vn(t[n])}function Ri(n,t){return Vn(t[n.index])}function Ib(n,t){return n.data[t]}function ic(n,t){return n[t]}function mo(n,t){const e=t[n];return po(e)?e:e[Zn]}function wa(n,t){return null==t?null:n[t]}function Nh(n){n[Xl]=0}function NT(n){1024&n[gt]||(n[gt]|=1024,xb(n,1))}function Mh(n){1024&n[gt]&&(n[gt]&=-1025,xb(n,-1))}function xb(n,t){let e=n[Yn];if(null===e)return;e[ol]+=t;let i=e;for(e=e[Yn];null!==e&&(1===t&&1===i[ol]||-1===t&&0===i[ol]);)e[ol]+=t,i=e,e=e[Yn]}const dt={lFrame:Fb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ph(){return dt.bindingsEnabled}function oc(){return null!==dt.skipHydrationRootTNode}function pe(){return dt.lFrame.lView}function rn(){return dt.lFrame.tView}function Rt(n){return dt.lFrame.contextLView=n,n[ai]}function It(n){return dt.lFrame.contextLView=null,n}function ir(){let n=Rb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Rb(){return dt.lFrame.currentTNode}function ws(n,t){const e=dt.lFrame;e.currentTNode=n,e.isParent=t}function Du(){return dt.lFrame.isParent}function Su(){dt.lFrame.isParent=!1}function Nr(){const n=dt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function fl(){return dt.lFrame.bindingIndex++}function zs(n){const t=dt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function FT(n,t){const e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=n,sg(t)}function sg(n){dt.lFrame.currentDirectiveIndex=n}function Mb(){return dt.lFrame.currentQueryIndex}function ag(n){dt.lFrame.currentQueryIndex=n}function kb(n){const t=n[Pe];return 2===t.type?t.declTNode:1===t.type?n[gr]:null}function Pb(n,t,e){if(e&Ot.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Ot.Host||(r=kb(o),null===r||(o=o[va],10&r.type))););if(null===r)return!1;t=r,n=o}const i=dt.lFrame=Ob();return i.currentTNode=t,i.lView=n,!0}function sc(n){const t=Ob(),e=n[Pe];dt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ob(){const n=dt.lFrame,t=null===n?null:n.child;return null===t?Fb(n):t}function Fb(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Lb(){const n=dt.lFrame;return dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Vb=Lb;function lg(){const n=Lb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mr(){return dt.lFrame.selectedIndex}function Gs(n){dt.lFrame.selectedIndex=n}function li(){const n=dt.lFrame;return Ib(n.tView,n.selectedIndex)}let jb=!0;function Lh(){return jb}function Ea(n){jb=n}function Vh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function ac(n,t,e){Bh(n,t,3,e)}function lc(n,t,e,i){(3&n[gt])===e&&Bh(n,t,e,i)}function ug(n,t){let e=n[gt];(3&e)===t&&(e&=8191,e+=1,n[gt]=e)}function Bh(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Xl]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Xl]+=65536),(a<o||-1==o)&&($b(n,e,t,l),n[Xl]=(4294901760&n[Xl])+l+2),l++}function Hb(n,t){No(4,n,t);const e=mn(null);try{t.call(n)}finally{mn(e),No(5,n,t)}}function $b(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[gt]>>13<n[Xl]>>16&&(3&n[gt])===t&&(n[gt]+=8192,Hb(a,o)):Hb(a,o)}const cc=-1;class pl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function dg(n){return n!==cc}function Nu(n){return 32767&n}function Mu(n,t){let e=function WT(n){return n>>16}(n),i=t;for(;e>0;)i=i[va],e--;return i}let jh=!0;function Hh(n){const t=jh;return jh=n,t}const p=255,d=5;let h=0;const m={};function C(n,t){const e=Y(n,t);if(-1!==e)return e;const i=t[Pe];i.firstCreatePass&&(n.injectorIndex=t.length,F(i.data,n),F(t,null),F(i.blueprint,null));const r=_e(n,t),o=n.injectorIndex;if(dg(r)){const s=Nu(r),a=Mu(r,t),l=a[Pe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function F(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Y(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function _e(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=XP(r),null===i)return cc;if(e++,r=r[va],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return cc}function Be(n,t,e){!function v(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(rl)&&(i=e[rl]),null==i&&(i=e[rl]=h++);const r=i&p;t.data[n+(r>>d)]|=1<<r}(n,t,e)}function Zt(n,t,e){if(e&Ot.Optional||void 0!==n)return n;mm()}function kr(n,t,e,i){if(e&Ot.Optional&&void 0===i&&(i=null),!(e&(Ot.Self|Ot.Host))){const r=n[ga],o=Wr(void 0);try{return r?r.get(t,i,e&Ot.Optional):sh(t,i,e&Ot.Optional)}finally{Wr(o)}}return Zt(i,0,e)}function Ws(n,t,e,i=Ot.Default,r){if(null!==n){if(2048&t[gt]&&!(i&Ot.Self)){const s=function m7(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[gt]&&!(512&s[gt]);){const a=ku(o,s,e,i|Ot.Self,m);if(a!==m)return a;let l=o.parent;if(!l){const c=s[bh];if(c){const u=c.get(e,m,i);if(u!==m)return u}l=XP(s),s=s[va]}o=l}return r}(n,t,e,i,m);if(s!==m)return s}const o=ku(n,t,e,i,m);if(o!==m)return o}return kr(t,e,i,r)}function ku(n,t,e,i,r){const o=function Wb(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(rl)?n[rl]:void 0;return"number"==typeof t?t>=0?t&p:qT:t}(e);if("function"==typeof o){if(!Pb(t,n,i))return i&Ot.Host?Zt(r,0,i):kr(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Ot.Optional)return s;mm()}finally{Vb()}}else if("number"==typeof o){let s=null,a=Y(n,t),l=cc,c=i&Ot.Host?t[Ei][gr]:null;for((-1===a||i&Ot.SkipSelf)&&(l=-1===a?_e(n,t):t[a+8],l!==cc&&hg(i,!1)?(s=t[Pe],a=Nu(l),t=Mu(l,t)):a=-1);-1!==a;){const u=t[Pe];if($h(o,a,u.data)){const f=Gb(a,t,e,s,i,c);if(f!==m)return f}l=t[a+8],l!==cc&&hg(i,t[Pe].data[a+8]===c)&&$h(o,a,t)?(s=u,a=Nu(l),t=Mu(l,t)):a=-1}}return r}function Gb(n,t,e,i,r,o){const s=t[Pe],a=s.data[n+8],u=uc(a,s,e,null==i?cl(a)&&jh:i!=s&&0!=(3&a.type),r&Ot.Host&&o===a);return null!==u?Ca(t,s,u,a):m}function uc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,g=r?a+u:n.directiveEnd;for(let _=i?a:a+u;_<g;_++){const y=s[_];if(_<l&&e===y||_>=l&&y.type===e)return _}if(r){const _=s[l];if(_&&ys(_)&&_.type===e)return l}return null}function Ca(n,t,e,i){let r=n[e];const o=t.data;if(function $T(n){return n instanceof pl}(r)){const s=r;s.resolving&&function fu(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Bt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():$e(n)}(o[e]));const a=Hh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Wr(s.injectImpl):null;Pb(n,i,Ot.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function HT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Eb(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&Wr(c),Hh(a),s.resolving=!1,Vb()}}return r}function $h(n,t,e){return!!(e[t+(n>>d)]&1<<n)}function hg(n,t){return!(n&Ot.Self||n&Ot.Host&&t)}class vr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Ws(this._tNode,this._lView,t,uh(i),e)}}function qT(){return new vr(ir(),pe())}function Qn(n){return uo(()=>{const t=n.prototype.constructor,e=t[_s]||pg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[_s]||pg(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function pg(n){return be(n)?()=>{const t=pg(L(n));return t&&t()}:tc(n)}function XP(n){const t=n[Pe],e=t.type;return 2===e?t.declTNode:1===e?n[gr]:null}const Gh="__parameters__";function qh(n,t,e){return uo(()=>{const i=function KT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const f=l.hasOwnProperty(Gh)?l[Gh]:Object.defineProperty(l,Gh,{value:[]})[Gh];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Zh(n,t){n.forEach(e=>Array.isArray(e)?Zh(e,t):t(e))}function eO(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function qb(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function gg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ko(n,t,e){let i=Yh(n,t);return i>=0?n[1|i]=e:(i=~i,function E7(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ZT(n,t){const e=Yh(n,t);if(e>=0)return n[1|e]}function Yh(n,t){return function tO(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Is=dh(qh("Optional"),8),_g=dh(qh("SkipSelf"),4);function Jb(n){return 128==(128&n.flags)}var fc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fc||{});const $7=/^>|^->|<!--|-->|--!>|<!-$/g,z7=/(<|>)/g,G7="\u200b$1\u200b";const ex=new Map;let W7=0;const nx="__ngContext__";function qr(n,t){po(t)?(n[nx]=t[vu],function K7(n){ex.set(n[vu],n)}(t)):n[nx]=t}let ix;function rx(n,t){return ix(n,t)}function bg(n){const t=n[Yn];return nr(t)?t[Yn]:t}function wO(n){return CO(n[sl])}function EO(n){return CO(n[qo])}function CO(n){for(;null!==n&&!nr(n);)n=n[qo];return n}function Jh(n,t,e,i,r){if(null!=i){let o,s=!1;nr(i)?o=i:po(i)&&(s=!0,i=i[Zn]);const a=Vn(i);0===n&&null!==e?null==r?DO(t,e,a):Pu(t,e,a,r||null,!0):1===n&&null!==e?Pu(t,e,a,r||null,!0):2===n?function a0(n,t,e){const i=o0(n,t);i&&function fK(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function gK(n,t,e,i,r){const o=e[vs];o!==Vn(e)&&Jh(t,n,i,o,r);for(let a=_r;a<e.length;a++){const l=e[a];Eg(l[Pe],l,n,t,i,o)}}(t,n,o,e,r)}}function ox(n,t){return n.createComment(function fO(n){return n.replace($7,t=>t.replace(z7,G7))}(t))}function n0(n,t,e){return n.createElement(t,e)}function TO(n,t){const e=n[ec],i=e.indexOf(t);Mh(t),e.splice(i,1)}function r0(n,t){if(n.length<=_r)return;const e=_r+t,i=n[e];if(i){const r=i[al];null!==r&&r!==n&&TO(r,i),t>0&&(n[e-1][qo]=i[qo]);const o=qb(n,_r+t);!function oK(n,t){Eg(n,t,t[_t],2,null,null),t[Zn]=null,t[gr]=null}(i[Pe],i);const s=o[Ro];null!==s&&s.detachView(o[Pe]),i[Yn]=null,i[qo]=null,i[gt]&=-129}return i}function sx(n,t){if(!(256&t[gt])){const e=t[_t];t[Jl]&&Km(t[Jl]),t[ll]&&Km(t[ll]),e.destroyNode&&Eg(n,t,e,3,null,null),function lK(n){let t=n[sl];if(!t)return ax(n[Pe],n);for(;t;){let e=null;if(po(t))e=t[sl];else{const i=t[_r];i&&(e=i)}if(!e){for(;t&&!t[qo]&&t!==n;)po(t)&&ax(t[Pe],t),t=t[Yn];null===t&&(t=n),po(t)&&ax(t[Pe],t),e=t&&t[qo]}t=e}}(t)}}function ax(n,t){if(!(256&t[gt])){t[gt]&=-129,t[gt]|=256,function hK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof pl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];No(4,a,l);try{l.call(a)}finally{No(5,a,l)}}else{No(4,r,o);try{o.call(r)}finally{No(5,r,o)}}}}}(n,t),function dK(n,t){const e=n.cleanup,i=t[Ql];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Ql]=null);const r=t[ya];if(null!==r){t[ya]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Pe].type&&t[_t].destroy();const e=t[al];if(null!==e&&nr(t[Yn])){e!==t[Yn]&&TO(e,t);const i=t[Ro];null!==i&&i.detachView(n)}!function Z7(n){ex.delete(n[vu])}(t)}}function lx(n,t,e){return function xO(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Zn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ao.None||o===Ao.Emulated)return null}return Ri(i,e)}}(n,t.parent,e)}function Pu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function DO(n,t,e){n.appendChild(t,e)}function SO(n,t,e,i,r){null!==i?Pu(n,t,e,i,r):DO(n,t,e)}function o0(n,t){return n.parentNode(t)}function AO(n,t,e){return NO(n,t,e)}let cx,fx,c0,NO=function RO(n,t,e){return 40&n.type?Ri(n,e):null};function s0(n,t,e,i){const r=lx(n,i,t),o=t[_t],a=AO(i.parent||t[gr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)SO(o,r,e[l],a,!1);else SO(o,r,e,a,!1);void 0!==cx&&cx(o,i,t,e,r)}function wg(n,t){if(null!==t){const e=t.type;if(3&e)return Ri(t,n);if(4&e)return ux(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return wg(n,i);{const r=n[t.index];return nr(r)?ux(-1,r):Vn(r)}}if(32&e)return rx(t,n)()||Vn(n[t.index]);{const i=kO(n,t);return null!==i?Array.isArray(i)?i[0]:wg(bg(n[Ei]),i):wg(n,t.next)}}return null}function kO(n,t){return null!==t?n[Ei][gr].projection[t.projection]:null}function ux(n,t){const e=_r+n+1;if(e<t.length){const i=t[e],r=i[Pe].firstChild;if(null!==r)return wg(i,r)}return t[vs]}function dx(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&qr(Vn(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)dx(n,t,e.child,i,r,o,!1),Jh(t,n,r,a,o);else if(32&l){const c=rx(e,i);let u;for(;u=c();)Jh(t,n,r,u,o);Jh(t,n,r,a,o)}else 16&l?OO(n,t,i,e,r,o):Jh(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Eg(n,t,e,i,r,o){dx(e,i,n.firstChild,t,r,o,!1)}function OO(n,t,e,i,r,o){const s=e[Ei],l=s[gr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Jh(t,n,r,l[c],o);else{let c=l;const u=s[Yn];Jb(i)&&(c.flags|=128),dx(n,t,c,u,r,o,!0)}}function FO(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function LO(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Am(n,t,i),null!==r&&FO(n,t,r),null!==o&&function vK(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function UO(n){return function px(){if(void 0===c0&&(c0=null,Dn.trustedTypes))try{c0=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return c0}()?.createScriptURL(n)||n}class Ou{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pt})`}}function Zo(n){return n instanceof Ou?n.changingThisBreaksApplicationSecurity:n}function Ia(n,t){const e=function SK(n){return n instanceof Ou&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Pt})`)}return e===t}const LK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Pr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pr||{});function vx(n){const t=Ig();return t?t.sanitize(Pr.URL,n)||"":Ia(n,"URL")?Zo(n):function u0(n){return(n=String(n)).match(LK)?n:"unsafe:"+n}($e(n))}function KO(n){const t=Ig();if(t)return UO(t.sanitize(Pr.RESOURCE_URL,n)||"");if(Ia(n,"ResourceURL"))return UO(Zo(n));throw new z(904,!1)}function Ig(){const n=pe();return n&&n[_a].sanitizer}const Tg=new de("ENVIRONMENT_INITIALIZER"),YO=new de("INJECTOR",-1),QO=new de("INJECTOR_DEF_TYPES");class yx{get(t,e=nl){if(e===nl){const i=new Error(`NullInjectorError: No provider for ${Ke(t)}!`);throw i.name="NullInjectorError",i}return e}}function ZK(...n){return{\u0275providers:XO(0,n),\u0275fromNgModule:!0}}function XO(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Zh(t,s=>{const a=s;h0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&JO(r,o),e}function JO(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];wx(r,o=>{t(o,i)})}}function h0(n,t,e,i){if(!(n=L(n)))return!1;let r=null,o=pu(n);const s=!o&&Kt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=pu(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)h0(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Zh(o.imports,u=>{h0(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&JO(c,t)}if(!a){const c=tc(r)||(()=>new r);t({provide:r,useFactory:c,deps:ln},r),t({provide:QO,useValue:r,multi:!0},r),t({provide:Tg,useValue:()=>O(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;wx(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function wx(n,t){for(let e of n)We(e)&&(e=e.\u0275providers),Array.isArray(e)?wx(e,t):t(e)}const YK=Me({provide:String,useValue:Me});function Ex(n){return null!==n&&"object"==typeof n&&YK in n}function Fu(n){return"function"==typeof n}const Cx=new de("Set Injector scope."),f0={},XK={};let Ix;function p0(){return void 0===Ix&&(Ix=new yx),Ix}class go{}class nf extends go{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xx(t,s=>this.processProvider(s)),this.records.set(YO,rf(void 0,this)),r.has("environment")&&this.records.set(go,rf(void 0,this));const o=this.records.get(Cx);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QO.multi,ln,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=pa(this),i=Wr(void 0);try{return t()}finally{pa(e),Wr(i)}}get(t,e=nl,i=Ot.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ho))return t[ho](this);i=uh(i);const o=pa(this),s=Wr(void 0);try{if(!(i&Ot.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function iZ(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&ih(t);l=c&&this.injectableDefInScope(c)?rf(Tx(t),f0):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ot.Self?p0():this.parent).get(t,e=i&Ot.Optional&&e===nl?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[co]=a[co]||[]).unshift(Ke(t)),o)throw a;return function js(n,t,e,i){const r=n[co];throw t[ch]&&r.unshift(t[ch]),n.message=function ql(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ke(t);if(Array.isArray(t))r=t.map(Ke).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Im,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[co]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Wr(s),pa(o)}}resolveInjectorInitializers(){const t=pa(this),e=Wr(void 0);try{const r=this.get(Tg.multi,ln,Ot.Self);for(const o of r)o()}finally{pa(t),Wr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Ke(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){let e=Fu(t=L(t))?t:L(t&&t.provide);const i=function eZ(n){return Ex(n)?rf(void 0,n.useValue):rf(nF(n),f0)}(t);if(Fu(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=rf(void 0,f0,!0),r.factory=()=>il(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===f0&&(e.value=XK,e.value=e.factory()),"object"==typeof e.value&&e.value&&function nZ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=L(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Tx(n){const t=ih(n),e=null!==t?t.factory:tc(n);if(null!==e)return e;if(n instanceof de)throw new z(204,!1);if(n instanceof Function)return function JK(n){const t=n.length;if(t>0)throw gg(t,"?"),new z(204,!1);const e=function zl(n){return n&&(n[Gl]||n[rh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new z(204,!1)}function nF(n,t,e){let i;if(Fu(n)){const r=L(n);return tc(r)||Tx(r)}if(Ex(n))i=()=>L(n.useValue);else if(function tF(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...il(n.deps||[]));else if(function eF(n){return!(!n||!n.useExisting)}(n))i=()=>O(L(n.useExisting));else{const r=L(n&&(n.useClass||n.provide));if(!function tZ(n){return!!n.deps}(n))return tc(r)||Tx(r);i=()=>new r(...il(n.deps))}return i}function rf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function xx(n,t){for(const e of n)Array.isArray(e)?xx(e,t):e&&We(e)?xx(e.\u0275providers,t):t(e)}const xg=new de("AppId",{providedIn:"root",factory:()=>rZ}),rZ="ng",iF=new de("Platform Initializer"),Ts=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ta=new de("AnimationModuleType"),Dx=new de("CSP nonce",{providedIn:"root",factory:()=>function tf(){if(void 0!==fx)return fx;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rF=(n,t,e)=>null;function Ox(n,t,e=!1){return rF(n,t,e)}class pZ{}class aF{}class gZ{resolveComponentFactory(t){throw function mZ(n){const t=Error(`No component factory found for ${Ke(n)}.`);return t.ngComponent=n,t}(t)}}let Ag=(()=>{class n{static#e=this.NULL=new gZ}return n})();function _Z(){return lf(ir(),pe())}function lf(n,t){return new wt(Ri(n,t))}let wt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=_Z}return n})();function vZ(n){return n instanceof wt?n.nativeElement:n}class cf{}let Yo=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yZ(){const n=pe(),e=mo(ir().index,n);return(po(e)?e:n)[_t]}()}return n})(),bZ=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>null})}return n})();class pc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cF=new pc("16.2.12"),Vx={};function fF(n,t=null,e=null,i){const r=pF(n,t,e,i);return r.resolveInjectorInitializers(),r}function pF(n,t=null,e=null,i,r=new Set){const o=[e||ln,ZK(n)];return i=i||("object"==typeof n?void 0:Ke(n)),new nf(o,t||p0(),i||null,r)}let qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=nl;static#t=this.NULL=new yx;static create(e,i){if(Array.isArray(e))return fF({name:""},i,e,"");{const r=e.name??"";return fF({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=fe({token:n,providedIn:"any",factory:()=>O(YO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Bx(n){return n.ngOriginalError}class qs{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Bx(t);for(;e&&Bx(e);)e=Bx(e);return e||null}}function Ux(n){return t=>{setTimeout(n,void 0,t)}}const Ye=class SZ extends ${constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Ux(o),r&&(r=Ux(r)),s&&(s=Ux(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof bt&&t.add(a),a}};function gF(...n){}class qe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function AZ(){const n="function"==typeof Dn.requestAnimationFrame;let t=Dn[n?"requestAnimationFrame":"setTimeout"],e=Dn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function MZ(n){const t=()=>{!function NZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hx(n),n.isCheckStableRunning=!0,jx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function PZ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return _F(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),vF(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return _F(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),vF(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Hx(n),jx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new z(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,RZ,gF,gF);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const RZ={};function jx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _F(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vF(n){n._nesting--,jx(n)}class kZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const yF=new de("",{providedIn:"root",factory:bF});function bF(){const n=Ce(qe);let t=!0;return I(new it(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new it(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{qe.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ie()))}function gl(n){return n instanceof Function?n():n}let $x=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Rg(n){for(;n;){n[gt]|=64;const t=bg(n);if(sb(n)&&!t)return n;n=t}return null}const TF=new de("",{providedIn:"root",factory:()=>!1});let E0=null;function AF(n,t){return n[t]??MF()}function RF(n,t){const e=MF();e.producerNode?.length&&(n[t]=E0,e.lView=n,E0=NF())}const zZ={...hb,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Rg(n.lView)},lView:null};function NF(){return Object.create(zZ)}function MF(){return E0??=NF(),E0}const Tt={};function oe(n){kF(rn(),pe(),Mr()+n,!1)}function kF(n,t,e,i){if(!i)if(3==(3&t[gt])){const o=n.preOrderCheckHooks;null!==o&&ac(t,o,e)}else{const o=n.preOrderHooks;null!==o&&lc(t,o,0,e)}Gs(e)}function R(n,t=Ot.Default){const e=pe();return null===e?O(n,t):Ws(ir(),e,L(n),t)}function Ng(){throw new Error("invalid")}function C0(n,t,e,i,r,o,s,a,l,c,u){const f=t.blueprint.slice();return f[Zn]=r,f[gt]=140|i,(null!==c||n&&2048&n[gt])&&(f[gt]|=2048),Nh(f),f[Yn]=f[va]=n,f[ai]=e,f[_a]=s||n&&n[_a],f[_t]=a||n&&n[_t],f[ga]=l||n&&n[ga]||null,f[gr]=o,f[vu]=function q7(){return W7++}(),f[$s]=u,f[bh]=c,f[Ei]=2==t.type?n[Ei]:f,f}function ff(n,t,e,i,r){let o=n.data[t];if(null===o)o=function zx(n,t,e,i,r){const o=Rb(),s=Du(),l=n.data[t]=function XZ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return oc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function Nb(){return dt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function hl(){const n=dt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ws(o,!0),o}function Mg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function PF(n,t,e,i,r){const o=AF(t,Jl),s=Mr(),a=2&i;try{Gs(-1),a&&t.length>Ht&&kF(n,t,Ht,!1),No(a?2:0,r);const c=a?o:null,u=xh(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{qm(c,u)}}finally{a&&null===t[Jl]&&RF(t,Jl),Gs(s),No(a?3:1,r)}}function Gx(n,t,e){if(Hm(t)){const i=mn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{mn(i)}}}function Wx(n,t,e){Ph()&&(function oY(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;cl(e)&&function hY(n,t,e){const i=Ri(t,n),r=OF(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=I0(n,C0(n,r,null,s,i,t,null,n[_a].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||C(e,t),qr(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Ca(t,n,a,e);qr(c,t),null!==s&&fY(0,a-r,c,l,0,s),ys(l)&&(mo(e.index,t)[ai]=Ca(t,n,a,e))}}(n,t,e,Ri(e,t)),64==(64&e.flags)&&UF(n,t,e))}function qx(n,t,e=Ri){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function OF(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Kx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Kx(n,t,e,i,r,o,s,a,l,c,u){const f=Ht+i,g=f+r,_=function WZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Tt);return e}(f,g),y="function"==typeof c?c():c;return _[Pe]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}let FF=n=>null;function LF(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?VF(e,t,r,o):i.hasOwnProperty(r)&&VF(e,t,i[r],o)}return e}function VF(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Qo(n,t,e,i,r,o,s,a){const l=Ri(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(Jx(n,e,u,i,r),cl(t)&&function tY(n,t){const e=mo(t,n);16&e[gt]||(e[gt]|=64)}(e,t.index)):3&t.type&&(i=function eY(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function Zx(n,t,e,i){if(Ph()){const r=null===i?null:{"":-1},o=function aY(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(gh(t,s.selectors,!1))if(i||(i=[]),ys(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Yx(n,t,a.length)}else i.unshift(s),Yx(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&BF(n,t,e,s,r,a),r&&function lY(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new z(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Zl(e.mergedAttrs,e.attrs)}function BF(n,t,e,i,r,o){for(let c=0;c<i.length;c++)Be(C(e,t),n,i[c].type);!function uY(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Mg(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Zl(e.mergedAttrs,u.hostAttrs),dY(n,e,t,l,u),cY(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function JZ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],g=e?e.get(f):null,y=g?g.outputs:null;l=LF(f.inputs,u,l,g?g.inputs:null),c=LF(f.outputs,u,c,y);const b=null===l||null===s||ph(t)?null:pY(l,u,s);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function UF(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function LT(){return dt.lFrame.currentDirectiveIndex}();try{Gs(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];sg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&sY(l,c)}}finally{Gs(-1),sg(s)}}function sY(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Yx(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function cY(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ys(t)&&(e[""]=n)}}function dY(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=tc(r.type)),s=new pl(o,ys(r),R);n.blueprint[i]=s,e[i]=s,function iY(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function rY(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,Mg(n,e,r.hostVars,Tt),r)}function xa(n,t,e,i,r,o){const s=Ri(n,t);!function Qx(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?$e(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[_t],s,o,n.value,e,i,r)}function fY(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)jF(i,e,s[a++],s[a++],s[a++])}function jF(n,t,e,i,r){const o=mn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{mn(o)}}function pY(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function HF(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function $F(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];ag(e[i]),s.contentQueries(2,t[o],o)}}}function I0(n,t){return n[sl]?n[rb][qo]=t:n[sl]=t,n[rb]=t,t}function Xx(n,t,e){ag(0);const i=mn(null);try{t(n,e)}finally{mn(i)}}function zF(n){return n[Ql]||(n[Ql]=[])}function GF(n){return n.cleanup||(n.cleanup=[])}function qF(n,t){const e=n[ga],i=e?e.get(qs,null):null;i&&i.handleError(t)}function Jx(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];jF(n.data[s],t[s],i,a,r)}}function mY(n,t){const e=mo(t,n),i=e[Pe];!function gY(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Zn];null!==r&&null===e[$s]&&(e[$s]=Ox(r,e[ga])),eD(i,e,e[ai])}function eD(n,t,e){sc(t);try{const i=n.viewQuery;null!==i&&Xx(1,i,e);const r=n.template;null!==r&&PF(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$F(n,t),n.staticViewQueries&&Xx(2,n.viewQuery,e);const o=n.components;null!==o&&function _Y(n,t){for(let e=0;e<t.length;e++)mY(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[gt]&=-5,lg()}}let KF=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function TT(n,t,e){const i=Object.create(xT);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>pb(i),run:()=>{if(i.dirty=!1,i.hasRun&&!wu(i))return;i.hasRun=!0;const s=xh(i);try{i.cleanupFn(),i.cleanupFn=bb,i.fn(r)}finally{qm(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function T0(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Gi(r,a):2==o&&(i=Gi(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function kg(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(Vn(o)),nr(o)&&ZF(o,i);const s=e.type;if(8&s)kg(n,t,e.child,i);else if(32&s){const a=rx(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=kO(t,e);if(Array.isArray(a))i.push(...a);else{const l=bg(t[Ei]);kg(l[Pe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function ZF(n,t){for(let e=_r;e<n.length;e++){const i=n[e],r=i[Pe].firstChild;null!==r&&kg(i[Pe],i,r,t)}n[vs]!==n[Zn]&&t.push(n[vs])}function x0(n,t,e,i=!0){const r=t[_a],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{YF(n,t,n.template,e)}catch(l){throw i&&qF(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function YF(n,t,e,i){const r=t[gt];if(256!=(256&r)){t[_a].effectManager?.flush(),sc(t);try{Nh(t),function og(n){return dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&PF(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&ac(t,c,null)}else{const c=n.preOrderHooks;null!==c&&lc(t,c,0,null),ug(t,0)}if(function bY(n){for(let t=wO(n);null!==t;t=EO(t)){if(!t[ob])continue;const e=t[ec];for(let i=0;i<e.length;i++){NT(e[i])}}}(t),QF(t,2),null!==n.contentQueries&&$F(n,t),s){const c=n.contentCheckHooks;null!==c&&ac(t,c)}else{const c=n.contentHooks;null!==c&&lc(t,c,1),ug(t,1)}!function GZ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=AF(t,ll);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Gs(~o);else{const s=o,a=e[++r],l=e[++r];FT(a,s),i.dirty=!1;const c=xh(i);try{l(2,t[s])}finally{qm(i,c)}}}}finally{null===t[ll]&&RF(t,ll),Gs(-1)}}(n,t);const a=n.components;null!==a&&JF(t,a,0);const l=n.viewQuery;if(null!==l&&Xx(2,l,i),s){const c=n.viewCheckHooks;null!==c&&ac(t,c)}else{const c=n.viewHooks;null!==c&&lc(t,c,2),ug(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[gt]&=-73,Mh(t)}finally{lg()}}}function QF(n,t){for(let e=wO(n);null!==e;e=EO(e))for(let i=_r;i<e.length;i++)XF(e[i],t)}function wY(n,t,e){XF(mo(t,n),e)}function XF(n,t){if(!function Tb(n){return 128==(128&n[gt])}(n))return;const e=n[Pe],i=n[gt];if(80&i&&0===t||1024&i||2===t)YF(e,n,e.template,n[ai]);else if(n[ol]>0){QF(n,1);const r=e.components;null!==r&&JF(n,r,1)}}function JF(n,t,e){for(let i=0;i<t.length;i++)wY(n,t[i],e)}class Pg{get rootNodes(){const t=this._lView,e=t[Pe];return kg(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(t){this._lView[ai]=t}get destroyed(){return 256==(256&this._lView[gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Yn];if(nr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(r0(t,i),qb(e,i))}this._attachedToViewContainer=!1}sx(this._lView[Pe],this._lView)}onDestroy(t){!function kh(n,t){if(256==(256&n[gt]))throw new z(911,!1);null===n[ya]&&(n[ya]=[]),n[ya].push(t)}(this._lView,t)}markForCheck(){Rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[gt]&=-129}reattach(){this._lView[gt]|=128}detectChanges(){x0(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aK(n,t){Eg(n,t,t[_t],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t}}class EY extends Pg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;x0(t[Pe],t,t[ai],!1)}checkNoChanges(){}get context(){return null}}class eL extends Ag{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kt(t);return new Og(e,this.ngModule)}}function tL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class IY{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=uh(i);const r=this.injector.get(t,Vx,i);return r!==Vx||e===Vx?r:this.parentInjector.get(t,e,i)}}class Og extends aF{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=tL(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return tL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function nb(n){return n.map(Fm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof go?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new IY(t,o):t,a=s.get(cf,null);if(null===a)throw new z(407,!1);const f={rendererFactory:a,sanitizer:s.get(bZ,null),effectManager:s.get(KF,null),afterRenderEventManager:s.get($x,null)},g=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=i?function qZ(n,t,e,i){const o=i.get(TF,!1)||e===Ao.ShadowDom,s=n.selectRootElement(t,o);return function KZ(n){FF(n)}(s),s}(g,i,this.componentDef.encapsulation,s):n0(g,_,function CY(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_)),k=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==y&&(S=Ox(y,s,!0));const V=Kx(0,null,null,1,0,null,null,null,null,null,null),W=C0(null,V,null,k,null,null,f,g,s,null,S);let ae,xe;sc(W);try{const Fe=this.componentDef;let rt,dn=null;Fe.findHostDirectiveDefs?(rt=[],dn=new Map,Fe.findHostDirectiveDefs(Fe,rt,dn),rt.push(Fe)):rt=[Fe];const hn=function xY(n,t){const e=n[Pe],i=Ht;return n[i]=t,ff(e,i,2,"#host",null)}(W,y),Hi=function DY(n,t,e,i,r,o,s){const a=r[Pe];!function SY(n,t,e,i){for(const r of n)t.mergedAttrs=Zl(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(T0(t,t.mergedAttrs,!0),null!==e&&LO(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=Ox(t,r[ga]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=C0(r,OF(e),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Yx(a,n,i.length-1),I0(r,f),r[n.index]=f}(hn,y,Fe,rt,W,f,g);xe=Ib(V,Ht),y&&function RY(n,t,e,i){if(i)Am(n,e,["ng-version",cF.full]);else{const{attrs:r,classes:o}=function Lm(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!fo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Am(n,e,r),o&&o.length>0&&FO(n,e,o.join(" "))}}(g,Fe,y,i),void 0!==e&&function NY(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(xe,this.ngContentSelectors,e),ae=function AY(n,t,e,i,r,o){const s=ir(),a=r[Pe],l=Ri(s,r);BF(a,r,s,e,null,i);for(let u=0;u<e.length;u++)qr(Ca(r,a,s.directiveStart+u,s),r);UF(a,r,s),l&&qr(l,r);const c=Ca(r,a,s.directiveStart+s.componentOffset,s);if(n[ai]=r[ai]=c,null!==o)for(const u of o)u(c,t);return Gx(a,s,n),c}(Hi,Fe,rt,dn,W,[MY]),eD(V,W,null)}finally{lg()}return new TY(this.componentType,ae,lf(xe,W),W,xe)}}class TY extends pZ{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new EY(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;Jx(o[Pe],o,r,t,e),this.previousInputValues.set(t,e),Rg(mo(this._tNode.index,o))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function MY(){const n=ir();Vh(pe()[Pe],n)}function Yt(n){let t=function nL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ys(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=D0(n.inputs),s.inputTransforms=D0(n.inputTransforms),s.declaredInputs=D0(n.declaredInputs),s.outputs=D0(n.outputs);const a=r.hostBindings;a&&FY(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&PY(n,l),c&&OY(n,c),xn(n.inputs,r.inputs),xn(n.declaredInputs,r.declaredInputs),xn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),xn(s.inputTransforms,r.inputTransforms)),ys(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Yt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function kY(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Zl(r.hostAttrs,e=Zl(e,r.hostAttrs))}}(i)}function D0(n){return n===gs?{}:n===ln?[]:n}function PY(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function OY(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function FY(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function sL(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function S0(n){return!!tD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Da(n,t,e){return n[t]=e}function Kr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Lu(n,t,e,i){const r=Kr(n,t,e);return Kr(n,t+1,i)||r}function on(n,t,e,i){const r=pe();return Kr(r,fl(),t)&&(rn(),xa(li(),r,n,t,e,i)),on}function mf(n,t,e,i){return Kr(n,fl(),e)?t+$e(e)+i:Tt}function Te(n,t,e,i,r,o,s,a){const l=pe(),c=rn(),u=n+Ht,f=c.firstCreatePass?function sQ(n,t,e,i,r,o,s,a,l){const c=t.consts,u=ff(t,n,4,s||null,wa(c,a));Zx(t,e,u,wa(c,l)),Vh(t,u);const f=u.tView=Kx(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];ws(f,!1);const g=yL(c,l,f,n);Lh()&&s0(c,l,g,f),qr(g,l),I0(l,l[u]=HF(g,l,g,f)),$m(f)&&Wx(c,l,f),null!=s&&qx(l,f,a)}let yL=function bL(n,t,e,i){return Ea(!0),t[_t].createComment("")};function Xo(n){return ic(function rg(){return dt.lFrame.contextLView}(),Ht+n)}function re(n,t,e){const i=pe();return Kr(i,fl(),t)&&Qo(rn(),li(),i,n,t,i[_t],e,!1),re}function aD(n,t,e,i,r){const s=r?"class":"style";Jx(n,e,t.inputs[s],s,i)}function te(n,t,e,i){const r=pe(),o=rn(),s=Ht+n,a=r[_t],l=o.firstCreatePass?function uQ(n,t,e,i,r,o){const s=t.consts,l=ff(t,n,2,i,wa(s,r));return Zx(t,e,l,wa(s,o)),null!==l.attrs&&T0(l,l.attrs,!1),null!==l.mergedAttrs&&T0(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=wL(o,r,l,a,t,n);r[s]=c;const u=$m(l);return ws(l,!0),LO(a,c,l),32!=(32&l.flags)&&Lh()&&s0(o,r,c,l),0===function MT(){return dt.lFrame.elementDepthCount}()&&qr(c,r),function ng(){dt.lFrame.elementDepthCount++}(),u&&(Wx(o,r,l),Gx(o,l,r)),null!==i&&qx(r,l),te}function ne(){let n=ir();Du()?Su():(n=n.parent,ws(n,!1));const t=n;(function Db(n){return dt.skipHydrationRootTNode===n})(t)&&function PT(){dt.skipHydrationRootTNode=null}(),function ig(){dt.lFrame.elementDepthCount--}();const e=rn();return e.firstCreatePass&&(Vh(e,n),Hm(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Uh(n){return 0!=(8&n.flags)}(t)&&aD(e,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function zb(n){return 0!=(16&n.flags)}(t)&&aD(e,t,pe(),t.stylesWithoutHost,!1),ne}function Qt(n,t,e,i){return te(n,t,e,i),ne(),Qt}let wL=(n,t,e,i,r,o)=>(Ea(!0),n0(i,r,function cg(){return dt.lFrame.currentNamespace}()));function vl(n,t,e){const i=pe(),r=rn(),o=n+Ht,s=r.firstCreatePass?function fQ(n,t,e,i,r){const o=t.consts,s=wa(o,i),a=ff(t,n,8,"ng-container",s);return null!==s&&T0(a,s,!0),Zx(t,e,a,wa(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];ws(s,!0);const a=CL(r,i,s,n);return i[o]=a,Lh()&&s0(r,i,a,s),qr(a,i),$m(s)&&(Wx(r,i,s),Gx(r,s,i)),null!=e&&qx(i,s),vl}function yl(){let n=ir();const t=rn();return Du()?Su():(n=n.parent,ws(n,!1)),t.firstCreatePass&&(Vh(t,n),Hm(n)&&t.queries.elementEnd(n)),yl}let CL=(n,t,e,i)=>(Ea(!0),ox(t[_t],""));function Ni(){return pe()}function jg(n){return!!n&&"function"==typeof n.then}function IL(n){return!!n&&"function"==typeof n.subscribe}function Le(n,t,e,i){const r=pe(),o=rn(),s=ir();return function xL(n,t,e,i,r,o,s){const a=$m(i),c=n.firstCreatePass&&GF(n),u=t[ai],f=zF(t);let g=!0;if(3&i.type||s){const b=Ri(i,t),T=s?s(b):b,k=f.length,S=s?W=>s(Vn(W[i.index])):i.index;let V=null;if(!s&&a&&(V=function gQ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Ql],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1;else{o=SL(i,t,u,o,!1);const W=e.listen(T,r,o);f.push(o,W),c&&c.push(r,S,k,k+1)}}else o=SL(i,t,u,o,!1);const _=i.outputs;let y;if(g&&null!==_&&(y=_[r])){const b=y.length;if(b)for(let T=0;T<b;T+=2){const ae=t[y[T]][y[T+1]].subscribe(o),xe=f.length;f.push(o,ae),c&&c.push(r,i.index,xe,-(xe+1))}}}(o,r,r[_t],s,n,t,i),Le}function DL(n,t,e,i){try{return No(6,t,e),!1!==e(i)}catch(r){return qF(n,r),!1}finally{No(7,t,e)}}function SL(n,t,e,i,r){return function o(s){if(s===Function)return i;Rg(n.componentOffset>-1?mo(n.index,t):t);let l=DL(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=DL(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function De(n=1){return function VT(n){return(dt.lFrame.contextLView=function BT(n,t){for(;n>0;)t=t[va],n--;return t}(n,dt.lFrame.contextLView))[ai]}(n)}function _Q(n,t){let e=null;const i=function tb(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?gh(n,o,!0):Pm(i,o))return r}else e=r}return e}function bl(n){const t=pe()[Ei][gr];if(!t.projection){const i=t.projection=gg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?_Q(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Ii(n,t=0,e){const i=pe(),r=rn(),o=ff(r,Ht+n,16,null,e||null);null===o.projection&&(o.projection=t),Su(),(!i[$s]||oc())&&32!=(32&o.flags)&&function mK(n,t,e){OO(t[_t],0,t,e,lx(n,e,t),AO(e.parent||t[gr],e,t))}(r,i,o)}function k0(n,t,e){return P0(n,"",t,"",e),k0}function P0(n,t,e,i,r){const o=pe(),s=mf(o,t,e,i);return s!==Tt&&Qo(rn(),li(),o,n,s,o[_t],r,!1),P0}function O0(n,t){return n<<17|t<<2}function mc(n){return n>>17&32767}function lD(n){return 2|n}function Vu(n){return(131068&n)>>2}function cD(n,t){return-131069&n|t<<2}function uD(n){return 1|n}function LL(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?mc(o):Vu(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];CQ(n[a],t)&&(l=!0,n[a+1]=i?uD(u):lD(u)),a=i?mc(u):Vu(u)}l&&(n[e+1]=i?lD(o):uD(o))}function CQ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Yh(n,t)>=0}const or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VL(n){return n.substring(or.key,or.keyEnd)}function BL(n,t){const e=or.textEnd;return e===t?-1:(t=or.keyEnd=function DQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,or.key=t,e),Cf(n,t,e))}function Cf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function dD(n,t,e){return Ks(n,t,e,!1),dD}function ht(n,t){return Ks(n,t,null,!0),ht}function Bu(n){!function Zs(n,t,e,i){const r=rn(),o=zs(2);r.firstUpdatePass&&GL(r,null,o,i);const s=pe();if(e!==Tt&&Kr(s,o,e)){const a=r.data[Mr()];if(ZL(a,i)&&!zL(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Gi(l,e||"")),aD(r,a,s,e,i)}else!function LQ(n,t,e,i,r,o,s,a){r===Tt&&(r=ln);let l=0,c=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const g=l<r.length?r[l+1]:void 0,_=c<o.length?o[c+1]:void 0;let b,y=null;u===f?(l+=2,c+=2,g!==_&&(y=f,b=_)):null===f||null!==u&&u<f?(l+=2,y=u):(c+=2,y=f,b=_),null!==y&&qL(n,t,e,i,y,b,s,a),u=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[_t],s[o+1],s[o+1]=function OQ(n,t,e){if(null==e||""===e)return ln;const i=[],r=Zo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(FQ,Aa,n,!0)}function Aa(n,t){for(let e=function TQ(n){return function jL(n){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=n.length}(n),BL(n,Cf(n,0,or.textEnd))}(t);e>=0;e=BL(t,e))Ko(n,VL(t),!0)}function Ks(n,t,e,i){const r=pe(),o=rn(),s=zs(2);o.firstUpdatePass&&GL(o,n,s,i),t!==Tt&&Kr(r,s,t)&&qL(o,o.data[Mr()],r,r[_t],n,r[s+1]=function VQ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ke(Zo(n)))),n}(t,e),i,s)}function zL(n,t){return t>=n.expandoStartIndex}function GL(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Mr()],s=zL(n,e);ZL(o,i)&&null===t&&!s&&(t=!1),t=function NQ(n,t,e,i){const r=function Au(n){const t=dt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Hg(e=hD(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=hD(r,n,t,e,i),null===o){let l=function MQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Vu(i))return n[mc(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=hD(null,n,t,l[1],i),l=Hg(l,t.attrs,i),function kQ(n,t,e,i){n[mc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function PQ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Hg(i,n[o].hostAttrs,e);return Hg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function wQ(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=mc(s),l=Vu(s);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Yh(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const g=mc(n[a+1]);n[i+1]=O0(g,a),0!==g&&(n[g+1]=cD(n[g+1],i)),n[a+1]=function yQ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=O0(a,0),0!==a&&(n[a+1]=cD(n[a+1],i)),a=i;else n[i+1]=O0(l,0),0===a?a=i:n[l+1]=cD(n[l+1],i),l=i;c&&(n[i+1]=lD(n[i+1])),LL(n,u,i,!0),LL(n,u,i,!1),function EQ(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Yh(o,t)>=0&&(e[i+1]=uD(e[i+1]))}(t,u,n,i,o),s=O0(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function hD(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Hg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Hg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ko(n,s,!!e||t[++o]))}return void 0===n?null:n}function FQ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Ko(n,i,e)}function qL(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function bQ(n){return 1==(1&n)}(c)?KL(l,t,e,r,Vu(c),s):void 0;F0(u)||(F0(o)||function vQ(n){return 2==(2&n)}(c)&&(o=KL(l,null,e,r,a,s)),function _K(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:fc.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=fc.Important),n.setStyle(e,i,r,o))}}(i,s,Rh(Mr(),e),r,o))}function KL(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let g=e[r+1];g===Tt&&(g=f?ln:void 0);let _=f?ZT(g,i):u===i?g:void 0;if(c&&!F0(_)&&(_=ZT(l,i)),F0(_)&&(a=_,s))return a;const y=n[r+1];r=s?mc(y):Vu(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=ZT(l,i))}return a}function F0(n){return void 0!==n}function ZL(n,t){return 0!=(n.flags&(t?8:16))}function st(n,t=""){const e=pe(),i=rn(),r=n+Ht,o=i.firstCreatePass?ff(i,r,1,t,null):i.data[r],s=YL(i,e,o,t,n);e[r]=s,Lh()&&s0(i,e,s,o),ws(o,!1)}let YL=(n,t,e,i,r)=>(Ea(!0),function t0(n,t){return n.createText(t)}(t[_t],i));function yr(n){return gc("",n,""),yr}function gc(n,t,e){const i=pe(),r=mf(i,n,t,e);return r!==Tt&&function _l(n,t,e){const i=Rh(t,n);!function IO(n,t,e){n.setValue(t,e)}(n[_t],i,e)}(i,Mr(),r),gc}function _o(n,t,e){const i=pe();return Kr(i,fl(),t)&&Qo(rn(),li(),i,n,t,i[_t],e,!0),_o}const Tf="en-US";let v2=Tf;function mD(n,t,e,i,r){if(n=L(n),Array.isArray(n))for(let o=0;o<n.length;o++)mD(n[o],t,e,i,r);else{const o=rn(),s=pe(),a=ir();let l=Fu(n)?n:L(n.provide);const c=nF(n),u=1048575&a.providerIndexes,f=a.directiveStart,g=a.providerIndexes>>20;if(Fu(n)||!n.multi){const _=new pl(c,r,R),y=_D(l,t,r?u:u+g,f);-1===y?(Be(C(a,s),o,l),gD(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[y]=_,s[y]=_)}else{const _=_D(l,t,u+g,f),y=_D(l,t,u,u+g),T=y>=0&&e[y];if(r&&!T||!r&&!(_>=0&&e[_])){Be(C(a,s),o,l);const k=function rJ(n,t,e,i,r){const o=new pl(n,e,R);return o.multi=[],o.index=t,o.componentProviders=0,$2(o,r,i&&!e),o}(r?iJ:nJ,e.length,r,i,c);!r&&T&&(e[y].providerFactory=k),gD(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(k),s.push(k)}else gD(o,n,_>-1?_:y,$2(e[r?y:_],c,!r&&i));!r&&i&&T&&e[y].componentProviders++}}}function gD(n,t,e,i){const r=Fu(t),o=function QK(n){return!!n.useClass}(t);if(r||o){const l=(o?L(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function $2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function _D(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function nJ(n,t,e,i){return vD(this.multi,[])}function iJ(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ca(e,e[Pe],this.providerFactory.index,i);o=a.slice(0,s),vD(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],vD(r,o);return o}function vD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function yn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function tJ(n,t,e){const i=rn();if(i.firstCreatePass){const r=ys(n);mD(e,i.data,i.blueprint,r,!0),mD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class ju{}class z2{}class yD extends ju{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eL(this);const r=Rr(t);this._bootstrapComponents=gl(r.bootstrap),this._r3Injector=pF(t,e,[{provide:ju,useValue:this},{provide:Ag,useValue:this.componentFactoryResolver},...i],Ke(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bD extends z2{constructor(t){super(),this.moduleType=t}create(t){return new yD(this.moduleType,t,[])}}class G2 extends ju{constructor(t){super(),this.componentFactoryResolver=new eL(this),this.instance=null;const e=new nf([...t.providers,{provide:ju,useValue:this},{provide:Ag,useValue:this.componentFactoryResolver}],t.parent||p0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function wD(n,t,e=null){return new G2({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let aJ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=XO(0,e.type),r=i.length>0?wD([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fe({token:n,providedIn:"environment",factory:()=>new n(O(go))})}return n})();function Ds(n){n.getStandaloneInjector=t=>t.get(aJ).getOrCreateStandaloneInjector(n)}function CD(n,t,e){const i=Nr()+n,r=pe();return r[i]===Tt?Da(r,i,e?t.call(e):t()):function Lg(n,t){return n[t]}(r,i)}function Hu(n,t,e,i,r){return J2(pe(),Nr(),n,t,e,i,r)}function j0(n,t,e,i,r,o){return function eV(n,t,e,i,r,o,s,a){const l=t+e;return function A0(n,t,e,i,r){const o=Lu(n,t,e,i);return Kr(n,t+2,r)||o}(n,l,r,o,s)?Da(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Yg(n,l+3)}(pe(),Nr(),n,t,e,i,r,o)}function Yg(n,t){const e=n[t];return e===Tt?void 0:e}function J2(n,t,e,i,r,o,s){const a=t+e;return Lu(n,a,r,o)?Da(n,a+2,s?i.call(s,r,o):i(r,o)):Yg(n,a+2)}function ID(n,t){const e=rn();let i;const r=n+Ht;e.firstCreatePass?(i=function EJ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=tc(i.type)),a=Wr(R);try{const l=Hh(!1),c=o();return Hh(l),function cQ(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,pe(),r,c),c}finally{Wr(a)}}function iV(n,t,e){const i=n+Ht,r=pe(),o=ic(r,i);return Qg(r,i)?function X2(n,t,e,i,r,o){const s=t+e;return Kr(n,s,r)?Da(n,s+1,o?i.call(o,r):i(r)):Yg(n,s+1)}(r,Nr(),t,o.transform,e,o):o.transform(e)}function Qg(n,t){return n[Pe].data[t].pure}function xJ(){return this._results[Symbol.iterator]()}class TD{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ye)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=TD.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=xJ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Cs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function b7(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function SJ(n,t,e,i=!0){const r=t[Pe];if(function cK(n,t,e,i){const r=_r+i,o=e.length;i>0&&(e[r-1][qo]=t),i<o-_r?(t[qo]=e[r],eO(e,_r+i,t)):(e.push(t),t[qo]=null),t[Yn]=e;const s=t[al];null!==s&&e!==s&&function uK(n,t){const e=n[ec];t[Ei]!==t[Yn][Yn][Ei]&&(n[ob]=!0),null===e?n[ec]=[t]:e.push(t)}(s,t);const a=t[Ro];null!==a&&a.insertView(n),t[gt]|=128}(r,t,n,e),i){const o=ux(e,n),s=t[_t],a=o0(s,n[vs]);null!==a&&function sK(n,t,e,i,r,o){i[Zn]=r,i[gr]=t,Eg(n,i,e,1,r,o)}(r,n[gr],s,t,a,o)}}let Ti=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=NJ}return n})();const AJ=Ti,RJ=class extends AJ{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function DJ(n,t,e,i){const r=t.tView,a=C0(n,r,e,4096&n[gt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[al]=n[t.index];const c=n[Ro];return null!==c&&(a[Ro]=c.createEmbeddedView(r)),eD(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Pg(r)}};function NJ(){return H0(ir(),pe())}function H0(n,t){return 4&n.type?new RJ(t,n,lf(n,t)):null}let Jo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=LJ}return n})();function LJ(){return dV(ir(),pe())}const VJ=Jo,cV=class extends VJ{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return lf(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const t=_e(this._hostTNode,this._hostLView);if(dg(t)){const e=Mu(t,this._hostLView),i=Nu(t);return new vr(e[Pe].data[i+8],e)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uV(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function mg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const l=s?t:new Og(Kt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const T=(s?c:this.parentInjector).get(go,null);T&&(o=T)}Kt(l.componentType??{});const _=l.create(c,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function RT(n){return nr(n[Yn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Yn],u=new cV(c,c[gr],c[Yn]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return SJ(a,r,s,!i),t.attachToViewContainerRef(),eO(xD(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uV(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=r0(this._lContainer,e);i&&(qb(xD(this._lContainer),e),sx(i[Pe],i))}detach(t){const e=this._adjustIndex(t,-1),i=r0(this._lContainer,e);return i&&null!=qb(xD(this._lContainer),e)?new Pg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function uV(n){return n[8]}function xD(n){return n[8]||(n[8]=[])}function dV(n,t){let e;const i=t[n.index];return nr(i)?e=i:(e=HF(i,t,null,n),t[n.index]=e,I0(t,e)),hV(e,t,n,i),new cV(e,n,t)}let hV=function fV(n,t,e,i){if(n[vs])return;let r;r=8&e.type?Vn(i):function BJ(n,t){const e=n[_t],i=e.createComment(""),r=Ri(t,n);return Pu(e,o0(e,r),i,function pK(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[vs]=r};class DD{constructor(t){this.queryList=t,this.matches=null}clone(){return new DD(this.queryList)}setDirty(){this.queryList.setDirty()}}class SD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new SD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vV(t,e).matches&&this.queries[e].setDirty()}}class pV{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class AD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new AD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class RD{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new RD(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,HJ(e,o)),this.matchTNodeWithReadOption(t,e,uc(e,t,o,!1,!1))}else i===Ti?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,uc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===wt||r===Jo||r===Ti&&4&e.type)this.addMatch(e.index,-2);else{const o=uc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function HJ(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function zJ(n,t,e,i){return-1===e?function $J(n,t){return 11&n.type?lf(n,t):4&n.type?H0(n,t):null}(t,n):-2===e?function GJ(n,t,e){return e===wt?lf(t,n):e===Ti?H0(t,n):e===Jo?dV(t,n):void 0}(n,t,i):Ca(n,n[Pe],e,t)}function mV(n,t,e,i){const r=t[Ro].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:zJ(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function ND(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=mV(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let f=_r;f<u.length;f++){const g=u[f];g[al]===g[Yn]&&ND(g[Pe],g,c,i)}if(null!==u[ec]){const f=u[ec];for(let g=0;g<f.length;g++){const _=f[g];ND(_[Pe],_,c,i)}}}}}return i}function ft(n){const t=pe(),e=rn(),i=Mb();ag(i+1);const r=vV(e,i);if(n.dirty&&function eg(n){return 4==(4&n[gt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?ND(e,t,i,[]):mV(e,t,r,i);n.reset(o,vZ),n.notifyOnChanges()}return!0}return!1}function sr(n,t,e){const i=rn();i.firstCreatePass&&(_V(i,new pV(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),gV(i,pe(),t)}function An(n,t,e,i){const r=rn();if(r.firstCreatePass){const o=ir();_V(r,new pV(t,e,i),o.index),function qJ(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}gV(r,pe(),e)}function pt(){return function WJ(n,t){return n[Ro].queries[t].queryList}(pe(),Mb())}function gV(n,t,e){const i=new TD(4==(4&e));(function QZ(n,t,e,i){const r=zF(t);r.push(e),n.firstCreatePass&&GF(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ro]&&(t[Ro]=new SD),t[Ro].queries.push(new DD(i))}function _V(n,t,e){null===n.queries&&(n.queries=new AD),n.queries.track(new RD(t,e))}function vV(n,t){return n.queries.getByIndex(t)}function Ss(n,t){return H0(n,t)}const LD=new de("Application Initializer");let VD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ce(LD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(jg(o))e.push(o);else if(IL(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OV=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const As=new de("LocaleId",{providedIn:"root",factory:()=>Ce(As,Ot.Optional|Ot.SkipSelf)||function pee(){return typeof $localize<"u"&&$localize.locale||Tf}()});let G0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _ee{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let FV=(()=>{class n{compileModuleSync(e){return new bD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=gl(Rr(e).declarations).reduce((s,a)=>{const l=Kt(a);return l&&s.push(new Og(l)),s},[]);return new _ee(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UV=new de(""),q0=new de("");let $D,jD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$D||(function Bee(n){$D=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(qe),O(HD),O(q0))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),HD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return $D?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),_c=null;const jV=new de("AllowMultipleToken"),zD=new de("PlatformDestroyListeners"),GD=new de("appBootstrapListener");class $V{constructor(t,e){this.name=t,this.token=e}}function GV(n,t,e=[]){const i=`Platform: ${t}`,r=new de(i);return(o=[])=>{let s=WD();if(!s||s.injector.get(jV,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function Hee(n){if(_c&&!_c.get(jV,!1))throw new z(400,!1);(function HV(){!function wT(n){bT=n}(()=>{throw new z(600,!1)})})(),_c=n;const t=n.get(qV);(function zV(n){n.get(iF,null)?.forEach(e=>e())})(n)}(function WV(n=[],t){return qi.create({name:t,providers:[{provide:Cx,useValue:"platform"},{provide:zD,useValue:new Set([()=>_c=null])},...n]})}(a,i))}return function zee(n){const t=WD();if(!t)throw new z(401,!1);return t}()}}function WD(){return _c?.get(qV)??null}let qV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Gee(n="zone.js",t){return"noop"===n?new kZ:"zone.js"===n?new qe(t):n}(i?.ngZone,function KV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function sJ(n,t,e){return new yD(n,t,e)}(e.moduleType,this.injector,function JV(n){return[{provide:qe,useFactory:n},{provide:Tg,multi:!0,useFactory:()=>{const t=Ce(qee,{optional:!0});return()=>t.initialize()}},{provide:XV,useFactory:Wee},{provide:yF,useFactory:bF}]}(()=>r)),s=o.injector.get(qs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{K0(this._modules,o),a.unsubscribe()})}),function ZV(n,t,e){try{const i=e();return jg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(VD);return a.runInitializers(),a.donePromise.then(()=>(function y2(n){mr(n,"Expected localeId to be defined"),"string"==typeof n&&(v2=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(As,Tf)||Tf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=YV({},i);return function Uee(n,t,e){const i=new bD(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ra);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new z(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(zD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(qi))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function YV(n,t){return Array.isArray(t)?t.reduce(YV,n):{...n,...t}}let Ra=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ce(XV),this.zoneIsStable=Ce(yF),this.componentTypes=[],this.components=[],this.isStable=Ce(G0).hasPendingTasks.pipe(Ve(e=>e?N(!1):this.zoneIsStable),ot(),ie()),this._injector=Ce(go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof aF;if(!this._injector.get(VD).done)throw!r&&function Yl(n){const t=Kt(n)||er(n)||tr(n);return null!==t&&t.standalone}(e),new z(405,!1);let s;s=r?e:this._injector.get(Ag).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function jee(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ju),c=s.create(qi.NULL,[],i||s.selector,a),u=c.location.nativeElement,f=c.injector.get(UV,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),K0(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;K0(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(GD,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>K0(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new z(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const XV=new de("",{providedIn:"root",factory:()=>Ce(qs).handleError.bind(void 0)});function Wee(){const n=Ce(qe),t=Ce(qs);return e=>n.runOutsideAngular(()=>t.handleError(e))}let qee=(()=>{class n{constructor(){this.zone=Ce(qe),this.applicationRef=Ce(Ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let bo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Zee}return n})();function Zee(n){return function Yee(n,t,e){if(cl(n)&&!e){const i=mo(n.index,t);return new Pg(i,i)}return 47&n.type?new Pg(t[Ei],t):null}(ir(),pe(),16==(16&n))}class rB{constructor(){}supports(t){return S0(t)}create(t){return new nte(t)}}const tte=(n,t)=>t;class nte{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tte}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<sB(i,r,o)?e:i,a=sB(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let g=0;g<c;g++){const _=g<o.length?o[g]:o[g]=0,y=_+g;u<=y&&y<c&&(o[g]=_+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!S0(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function HY(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new ite(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new oB),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oB),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ite{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rte{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class oB{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new rte,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sB(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class aB{constructor(){}supports(t){return t instanceof Map||tD(t)}create(){return new ote}}class ote{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tD(t)))throw new z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new ste(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class ste{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lB(){return new Q0([new rB])}let Q0=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:lB});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||lB()),deps:[[n,new _g,new Is]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new z(901,!1)}}return n})();function cB(){return new e_([new aB])}let e_=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:cB});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cB()),deps:[[n,new _g,new Is]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new z(901,!1)}}return n})();const cte=GV(null,"core",[]);let ute=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ra))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();function Sf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function XD(n,t){const e=Kt(n),i=t.elementInjector||p0();return new Og(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let JD=null;function vc(){return JD}class Ite{}const Et=new de("DocumentToken");let e1=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return Ce(xte)},providedIn:"platform"})}return n})();const Tte=new de("Location Initialized");let xte=(()=>{class n extends e1{constructor(){super(),this._doc=Ce(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vc().getBaseHref(this._doc)}onPopState(e){const i=vc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=vc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function t1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function vB(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function wl(n){return n&&"?"!==n[0]?"?"+n:n}let zu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return Ce(bB)},providedIn:"root"})}return n})();const yB=new de("appBaseHref");let bB=(()=>{class n extends zu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ce(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return t1(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+wl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+wl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+wl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(e1),O(yB,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dte=(()=>{class n extends zu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=t1(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+wl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+wl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(e1),O(yB,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),J0=(()=>{class n{constructor(e){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Rte(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(vB(wB(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+wl(i))}normalize(e){return n.stripTrailingSlash(function Ate(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,wB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=wl;static#t=this.joinWithSlash=t1;static#n=this.stripTrailingSlash=vB;static#i=this.\u0275fac=function(i){return new(i||n)(O(zu))};static#r=this.\u0275prov=fe({token:n,factory:function(){return function Ste(){return new J0(O(zu))}()},providedIn:"root"})}return n})();function wB(n){return n.replace(/\/index.html$/,"")}function MB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const f1=/\s+/,kB=[];let uw=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=kB,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(f1):kB}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(f1):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(f1).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Q0),R(e_),R(wt),R(Yo))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class hne{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Na=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new hne(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),OB(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{OB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(Jo),R(Ti),R(Q0))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function OB(n,t){n.context.$implicit=t.item}let ts=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new fne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){FB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){FB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(R(Jo),R(Ti))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class fne{constructor(){this.$implicit=null,this.ngIf=null}}function FB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ke(t)}'.`)}class p1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dw=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),LB=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new p1(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(R(Jo),R(Ti),R(dw,9))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Gu=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Jo))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wi]})}return n})();let BB=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw function Qs(n,t){return new z(2100,!1)}();return e.toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Ji({name:"uppercase",type:n,pure:!0,standalone:!0})}return n})(),hw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();const jB="browser";function fw(n){return"server"===n}let Hne=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new $ne(O(Et),window)})}return n})();class $ne{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zne(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class HB{}class fie extends Ite{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y1 extends fie{static makeCurrent(){!function Cte(n){JD||(JD=n)}(new y1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function pie(){return r_=r_||document.querySelector("base"),r_?r_.getAttribute("href"):null}();return null==e?null:function mie(n){gw=gw||document.createElement("a"),gw.setAttribute("href",n);const t=gw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){r_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return MB(document.cookie,t)}}let gw,r_=null,_ie=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const b1=new de("EventManagerPlugins");let qB=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(b1),O(qe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class KB{constructor(t){this._doc=t}}const w1="ng-app-id";let ZB=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fw(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${w1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(w1),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(w1,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(xg),O(Dx,8),O(Ts))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const E1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},C1=/%COMP%/g,wie=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function QB(n,t){return t.map(e=>e.replace(C1,n))}let I1=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fw(a),this.defaultRenderer=new T1(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ao.ShadowDom&&(i={...i,encapsulation:Ao.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof JB?r.applyToHost(e):r instanceof x1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ao.Emulated:o=new JB(l,c,i,this.appId,u,s,a,f);break;case Ao.ShadowDom:return new Tie(l,c,e,i,s,a,this.nonce,f);default:o=new x1(l,c,i,u,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(qB),O(ZB),O(xg),O(wie),O(Et),O(Ts),O(qe),O(Dx))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class T1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(E1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(XB(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(XB(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new z(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=E1[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=E1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fc.DashCase|fc.Important)?t.style.setProperty(e,i,r&fc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=vc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function XB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tie extends T1{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=QB(r.id,r.styles);for(const u of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class x1 extends T1{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?QB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JB extends x1{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function Eie(n){return"_ngcontent-%COMP%".replace(C1,n)}(c),this.hostAttr=function Cie(n){return"_nghost-%COMP%".replace(C1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let xie=(()=>{class n extends KB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const eU=["alt","control","meta","shift"],Die={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aie=(()=>{class n extends KB{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),eU.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=Die[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),eU.forEach(s=>{s!==r&&(0,Sie[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const nU=[{provide:Ts,useValue:jB},{provide:iF,useValue:function Rie(){y1.makeCurrent()},multi:!0},{provide:Et,useFactory:function Mie(){return function EK(n){fx=n}(document),document},deps:[]}],kie=GV(cte,"browser",nU),Pie=new de(""),iU=[{provide:q0,useClass:class gie{addToWindow(t){Dn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new z(5103,!1);return o},Dn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dn.getAllAngularRootElements=()=>t.getAllRootElements(),Dn.frameworkStabilizers||(Dn.frameworkStabilizers=[]),Dn.frameworkStabilizers.push(i=>{const r=Dn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?vc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:UV,useClass:jD,deps:[qe,HD,q0]},{provide:jD,useClass:jD,deps:[qe,HD,q0]}],rU=[{provide:Cx,useValue:"root"},{provide:qs,useFactory:function Nie(){return new qs},deps:[]},{provide:b1,useClass:xie,multi:!0,deps:[Et,qe,Ts]},{provide:b1,useClass:Aie,multi:!0,deps:[Et]},I1,ZB,qB,{provide:cf,useExisting:I1},{provide:HB,useClass:_ie,deps:[]},[]];let oU=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:xg,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Pie,12))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[...rU,...iU],imports:[hw,ute]})}return n})(),sU=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et))};static#t=this.\u0275prov=fe({token:n,factory:function(i){let r=null;return r=i?new i:function Fie(){return new sU(O(Et))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:jie}=Array,{getPrototypeOf:Hie,prototype:$ie,keys:zie}=Object;function dU(n){if(1===n.length){const t=n[0];if(jie(t))return{args:t,keys:null};if(function Gie(n){return n&&"object"==typeof n&&Hie(n)===$ie}(t)){const e=zie(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Wie}=Array;function A1(n){return Ie(t=>function qie(n,t){return Wie(t)?n(...t):n(t)}(n,t))}function hU(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}let pU=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Yo),R(wt))};static#t=this.\u0275dir=me({type:n})}return n})(),Wu=(()=>{class n extends pU{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Qn(n)))(r||n)}}();static#t=this.\u0275dir=me({type:n,features:[Yt]})}return n})();const ns=new de("NgValueAccessor"),Kie={provide:ns,useExisting:H(()=>R1),multi:!0};let R1=(()=>{class n extends Wu{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Qn(n)))(r||n)}}();static#t=this.\u0275dir=me({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Le("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[yn([Kie]),Yt]})}return n})();const Zie={provide:ns,useExisting:H(()=>qu),multi:!0},Qie=new de("CompositionEventMode");let qu=(()=>{class n extends pU{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yie(){const n=vc()?vc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Yo),R(wt),R(Qie,8))};static#t=this.\u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Le("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[yn([Zie]),Yt]})}return n})();function bc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mU(n){return null!=n&&"number"==typeof n.length}const wr=new de("NgValidators"),wc=new de("NgAsyncValidators"),Xie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jie{static min(t){return function gU(n){return t=>{if(bc(t.value)||bc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _U(n){return t=>{if(bc(t.value)||bc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function vU(n){return bc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function yU(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bU(n){return bc(n.value)||Xie.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wU(n){return t=>bc(t.value)||!mU(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function EU(n){return t=>mU(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function CU(n){if(!n)return _w;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(bc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return AU(t)}static composeAsync(t){return RU(t)}}function _w(n){return null}function IU(n){return null!=n}function TU(n){return jg(n)?E(n):n}function xU(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function DU(n,t){return t.map(e=>e(n))}function SU(n){return n.map(t=>function ere(n){return!n.validate}(t)?t:e=>t.validate(e))}function AU(n){if(!n)return null;const t=n.filter(IU);return 0==t.length?null:function(e){return xU(DU(e,t))}}function N1(n){return null!=n?AU(SU(n)):null}function RU(n){if(!n)return null;const t=n.filter(IU);return 0==t.length?null:function(e){return function fU(...n){const t=so(n),{args:e,keys:i}=dU(n),r=new it(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let f=!1;ye(e[u]).subscribe(Se(o,g=>{f||(f=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?hU(i,a):a),o.complete())}))}});return t?r.pipe(A1(t)):r}(DU(e,t).map(TU)).pipe(Ie(xU))}}function M1(n){return null!=n?RU(SU(n)):null}function NU(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function MU(n){return n._rawValidators}function kU(n){return n._rawAsyncValidators}function k1(n){return n?Array.isArray(n)?n:[n]:[]}function vw(n,t){return Array.isArray(n)?n.includes(t):n===t}function PU(n,t){const e=k1(t);return k1(n).forEach(r=>{vw(e,r)||e.push(r)}),e}function OU(n,t){return k1(t).filter(e=>!vw(n,e))}class FU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=N1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=M1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class wo extends FU{get formDirective(){return null}get path(){return null}}class Il extends FU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LU{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rf=(()=>{class n extends LU{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Il,2))};static#t=this.\u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Yt]})}return n})(),yw=(()=>{class n extends LU{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wo,10))};static#t=this.\u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Yt]})}return n})();const o_="VALID",ww="INVALID",Nf="PENDING",s_="DISABLED";function F1(n){return(Ew(n)?n.validators:n)||null}function L1(n,t){return(Ew(t)?t.asyncValidators:n)||null}function Ew(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class jU{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===o_}get invalid(){return this.status===ww}get pending(){return this.status==Nf}get disabled(){return this.status===s_}get enabled(){return this.status!==s_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(PU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OU(t,this._rawAsyncValidators))}hasValidator(t){return vw(this._rawValidators,t)}hasAsyncValidator(t){return vw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Nf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=s_,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=o_,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===o_||this.status===Nf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?s_:o_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Nf,this._hasOwnPendingAsyncValidator=!0;const e=TU(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?s_:this.errors?ww:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nf)?Nf:this._anyControlsHaveStatus(ww)?ww:o_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ew(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function rre(n){return Array.isArray(n)?N1(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ore(n){return Array.isArray(n)?M1(n):n||null}(this._rawAsyncValidators)}}class V1 extends jU{constructor(t,e,i){super(F1(e),L1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function UU(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new z(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function BU(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new z(1e3,"");if(!i[e])throw new z(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Mf=new de("CallSetDisabledState",{providedIn:"root",factory:()=>Cw}),Cw="always";function a_(n,t,e=Cw){B1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function lre(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HU(n,t)})}(n,t),function ure(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function cre(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HU(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function are(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tw(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Dw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function B1(n,t){const e=MU(n);null!==t.validator?n.setValidators(NU(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=kU(n);null!==t.asyncValidator?n.setAsyncValidators(NU(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();xw(t._rawValidators,r),xw(t._rawAsyncValidators,r)}function Dw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=MU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=kU(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return xw(t._rawValidators,i),xw(t._rawAsyncValidators,i),e}function HU(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $U(n,t){B1(n,t)}function zU(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const mre={provide:wo,useExisting:H(()=>Ku)},l_=(()=>Promise.resolve())();let Ku=(()=>{class n extends wo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new V1({},N1(e),M1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){l_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),a_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){l_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){l_.then(()=>{const i=this._findContainer(e.path),r=new V1({});$U(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){l_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){l_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,zU(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(R(wr,10),R(wc,10),R(Mf,8))};static#t=this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Le("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([mre]),Yt]})}return n})();function GU(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function WU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qU=class extends jU{constructor(t=null,e,i){super(F1(e),L1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ew(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=WU(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GU(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GU(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){WU(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},vre={provide:Il,useExisting:H(()=>Zu)},YU=(()=>Promise.resolve())();let Zu=(()=>{class n extends Il{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new qU,this._registered=!1,this.name="",this.update=new Ye,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function H1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===qu?e=o:function fre(n){return Object.getPrototypeOf(n.constructor)===Wu}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function j1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){a_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YU.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Sf(i);YU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Iw(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(R(wo,9),R(wr,10),R(wc,10),R(ns,10),R(bo,8),R(Mf,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([vre]),Yt,Wi]})}return n})(),Sw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),XU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();const Ire={provide:wo,useExisting:H(()=>Aw)};let Aw=(()=>{class n extends wo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return a_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Tw(e.control||null,e,!1),function pre(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,zU(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Tw(i||null,e),(n=>n instanceof qU)(r)&&(a_(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);$U(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function dre(n,t){return Dw(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B1(this.form,this),this._oldForm&&Dw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(R(wr,10),R(wc,10),R(Mf,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Le("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([Ire]),Yt,Wi]})}return n})(),Hre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[XU]})}return n})(),zre=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Mf,useValue:e.callSetDisabledState??Cw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Hre]})}return n})();function Rw(...n){const t=Wo(n),e=so(n),{args:i,keys:r}=dU(n);if(0===i.length)return E([],t);const o=new it(function Wre(n,t,e=$n){return i=>{mj(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)mj(t,()=>{const c=E(n[l],t);let u=!1;c.subscribe(Se(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>hU(r,s):$n));return e?o.pipe(A1(e)):o}function mj(n,t,e){n?Xi(e,n,t):t()}const Nw=ee(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kf(...n){return function qre(){return an(1)}()(E(n,Wo(n)))}function gj(n){return new it(t=>{ye(n()).subscribe(t)})}function Pf(n,t){const e=D(n)?n:()=>n,i=r=>r.error(e());return new it(t?r=>t.schedule(i,0,r):i)}function Z1(){return se((n,t)=>{let e=null;n._refCount++;const i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class _j extends it{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,he(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bt;const e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bt.EMPTY)}return t}refCount(){return Z1()(this)}}function Zi(n){return n<=0?()=>pn:se((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Of(...n){const t=Wo(n);return se((e,i)=>{(t?kf(n,e,t):kf(n,e)).subscribe(i)})}function ci(n,t){return se((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Mw(n){return se((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vj(n=Kre){return se((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Kre(){return new Nw}function Ec(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ci((r,o)=>n(r,o,i)):$n,Zi(1),e?Mw(t):vj(()=>new Nw))}function Ff(n,t){return D(t)?qt(n,t,1):qt(n,1)}function ki(n,t,e){const i=D(n)||t||e?{next:n,error:t,complete:e}:n;return i?se((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Se(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):$n}function Cc(n){return se((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Se(e,void 0,void 0,s=>{o=ye(n(s,Cc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Lf(n,t){return se(function Zre(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Se(s,u=>{const f=c++;l=a?n(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function Y1(n){return n<=0?()=>pn:se((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Vf(n){return se((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function en(n){return se((t,e)=>{ye(n).subscribe(Se(e,()=>e.complete(),He)),!e.closed&&t.subscribe(e)})}const Nt="primary",c_=Symbol("RouteTitle");class Qre{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bf(n){return new Qre(n)}function Xre(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ma(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!bj(n[r],t[r]))return!1;return!0}function bj(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function wj(n){return n.length>0?n[n.length-1]:null}function Ic(n){return function Gre(n){return!!n&&(n instanceof it||D(n.lift)&&D(n.subscribe))}(n)?n:jg(n)?E(Promise.resolve(n)):N(n)}const eoe={exact:function Ij(n,t,e){if(!Qu(n.segments,t.segments)||!kw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ij(n.children[i],t.children[i],e))return!1;return!0},subset:Tj},Ej={exact:function toe(n,t){return Ma(n,t)},subset:function noe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>bj(n[e],t[e]))},ignored:()=>!0};function Cj(n,t,e){return eoe[e.paths](n.root,t.root,e.matrixParams)&&Ej[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Tj(n,t,e){return xj(n,t,t.segments,e)}function xj(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Qu(r,e)||t.hasChildren()||!kw(r,e,i))}if(n.segments.length===e.length){if(!Qu(n.segments,e)||!kw(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Tj(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Qu(n.segments,r)&&kw(n.segments,r,i)&&n.children[Nt])&&xj(n.children[Nt],t,o,i)}}function kw(n,t,e){return t.every((i,r)=>Ej[e](n[r].parameters,i.parameters))}class Uf{constructor(t=new Mn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bf(this.queryParams)),this._queryParamMap}toString(){return ooe.serialize(this)}}class Mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pw(this)}}class u_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bf(this.parameters)),this._parameterMap}toString(){return Aj(this)}}function Qu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let d_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return new Q1},providedIn:"root"})}return n})();class Q1{parse(t){const e=new goe(t);return new Uf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${h_(t.root,!0)}`,i=function loe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ow(e)}=${Ow(r)}`).join("&"):`${Ow(e)}=${Ow(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function soe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ooe=new Q1;function Pw(n){return n.segments.map(t=>Aj(t)).join("/")}function h_(n,t){if(!n.hasChildren())return Pw(n);if(t){const e=n.children[Nt]?h_(n.children[Nt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Nt&&i.push(`${r}:${h_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function roe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Nt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Nt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Nt?[h_(n.children[Nt],!1)]:[`${r}:${h_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Pw(n)}/${e[0]}`:`${Pw(n)}/(${e.join("//")})`}}function Dj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ow(n){return Dj(n).replace(/%3B/gi,";")}function X1(n){return Dj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fw(n){return decodeURIComponent(n)}function Sj(n){return Fw(n.replace(/\+/g,"%20"))}function Aj(n){return`${X1(n.path)}${function aoe(n){return Object.keys(n).map(t=>`;${X1(t)}=${X1(n[t])}`).join("")}(n.parameters)}`}const coe=/^[^\/()?;#]+/;function J1(n){const t=n.match(coe);return t?t[0]:""}const uoe=/^[^\/()?;=#]+/,hoe=/^[^=?&#]+/,poe=/^[^&#]+/;class goe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Nt]=new Mn(t,e)),i}parseSegment(){const t=J1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(t),new u_(Fw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function doe(n){const t=n.match(uoe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=J1(this.remaining);r&&(i=r,this.capture(i))}t[Fw(e)]=Fw(i)}parseQueryParam(t){const e=function foe(n){const t=n.match(hoe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function moe(n){const t=n.match(poe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Sj(e),o=Sj(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=J1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Nt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Nt]:new Mn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new z(4011,!1)}}function Rj(n){return n.segments.length>0?new Mn([],{[Nt]:n}):n}function Nj(n){const t={};for(const i of Object.keys(n.children)){const o=Nj(n.children[i]);if(i===Nt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function _oe(n){if(1===n.numberOfChildren&&n.children[Nt]){const t=n.children[Nt];return new Mn(n.segments.concat(t.segments),t.children)}return n}(new Mn(n.segments,t))}function Xu(n){return n instanceof Uf}function Mj(n){let t;const r=Rj(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new Mn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function kj(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return eS(r,r,r,e,i);const o=function yoe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Oj(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Oj(e,t,i)}(t);if(o.toRoot())return eS(r,r,new Mn([],{}),e,i);const s=function boe(n,t,e){if(n.isAbsolute)return new Vw(t,!0,0);if(!e)return new Vw(t,!1,NaN);if(null===e.parent)return new Vw(e,!0,0);const i=Lw(n.commands[0])?0:1;return function woe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Vw(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?p_(s.segmentGroup,s.index,o.commands):Fj(s.segmentGroup,s.index,o.commands);return eS(r,s.segmentGroup,a,e,i)}function Lw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function f_(n){return"object"==typeof n&&null!=n&&n.outlets}function eS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===t?e:Pj(n,t,e);const a=Rj(Nj(s));return new Uf(a,o,r)}function Pj(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:Pj(o,t,e)}),new Mn(n.segments,i)}class Oj{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Lw(i[0]))throw new z(4003,!1);const r=i.find(f_);if(r&&r!==wj(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vw{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Fj(n,t,e){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return p_(n,t,e);const i=function Coe(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(f_(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Vj(l,c,s))return o;i+=2}else{if(!Vj(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Mn(n.segments.slice(0,i.pathIndex),{});return o.children[Nt]=new Mn(n.segments.slice(i.pathIndex),n.children),p_(o,0,r)}return i.match&&0===r.length?new Mn(n.segments,{}):i.match&&!n.hasChildren()?tS(n,t,e):i.match?p_(n,0,r):tS(n,t,e)}function p_(n,t,e){if(0===e.length)return new Mn(n.segments,{});{const i=function Eoe(n){return f_(n[0])?n[0].outlets:{[Nt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Nt)&&n.children[Nt]&&1===n.numberOfChildren&&0===n.children[Nt].segments.length){const o=p_(n.children[Nt],t,e);return new Mn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Fj(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Mn(n.segments,r)}}function tS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(f_(o)){const l=Ioe(o.outlets);return new Mn(i,l)}if(0===r&&Lw(e[0])){i.push(new u_(n.segments[t].path,Lj(e[0]))),r++;continue}const s=f_(o)?o.outlets[Nt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Lw(a)?(i.push(new u_(s,Lj(a))),r+=2):(i.push(new u_(s,{})),r++)}return new Mn(i,{})}function Ioe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=tS(new Mn([],{}),0,i))}),t}function Lj(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Vj(n,t,e){return n==e.path&&Ma(t,e.parameters)}const m_="imperative";class ka{constructor(t,e){this.id=t,this.url=e}}class Bw extends ka{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tc extends ka{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class g_ extends ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jf extends ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Uw extends ka{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bj extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Toe extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xoe extends ka{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Doe extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Soe extends ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aoe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Roe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Noe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Moe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class koe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Poe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uj{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nS{}class iS{constructor(t){this.url=t}}class Ooe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new __,this.attachRef=null}}let __=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ooe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jj{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=rS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=oS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return oS(t,this._root).map(e=>e.value)}}function rS(n,t){if(n===t.value)return t;for(const e of t.children){const i=rS(n,e);if(i)return i}return null}function oS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=oS(n,e);if(i.length)return i.unshift(t),i}return[]}class Tl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Hj extends jj{constructor(t,e){super(t),this.snapshot=e,sS(this,t)}toString(){return this.snapshot.toString()}}function $j(n,t){const e=function Foe(n,t){const s=new jw([],{},{},"",{},Nt,t,null,{});return new Gj("",new Tl(s,[]))}(0,t),i=new w([new u_("",{})]),r=new w({}),o=new w({}),s=new w({}),a=new w(""),l=new $f(i,r,s,a,o,Nt,t,e.root);return l.snapshot=e.root,new Hj(new Tl(l,[]),e)}class $f{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[c_]))??N(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>Bf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>Bf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zj(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Loe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class jw{get title(){return this.data?.[c_]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gj extends jj{constructor(t,e){super(e),this.url=t,sS(this,e)}toString(){return Wj(this._root)}}function sS(n,t){t.value._routerState=n,t.children.forEach(e=>sS(n,e))}function Wj(n){const t=n.children.length>0?` { ${n.children.map(Wj).join(", ")} } `:"";return`${n.value}${t}`}function aS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ma(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ma(t.params,e.params)||n.paramsSubject.next(e.params),function Jre(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ma(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ma(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lS(n,t){const e=Ma(n.params,t.params)&&function ioe(n,t){return Qu(n,t)&&n.every((e,i)=>Ma(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||lS(n.parent,t.parent))}let cS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=Ce(__),this.location=Ce(Jo),this.changeDetector=Ce(bo),this.environmentInjector=Ce(go),this.inputBinder=Ce(Hw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Voe(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wi]})}return n})();class Voe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===$f?this.route:t===__?this.childContexts:this.parent.get(t,e)}}const Hw=new de("");let qj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Rw([i.queryParams,i.params,i.data]).pipe(Ve(([o,s,a],l)=>(a={...o,...s,...a},0===l?N(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Ete(n){const t=Kt(n);if(!t)return null;const e=new Og(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function v_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Uoe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return v_(n,i,r);return v_(n,i)})}(n,t,e);return new Tl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>v_(n,a)),s}}const i=function joe(n){return new $f(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>v_(n,o));return new Tl(i,r)}}const uS="ngNavigationCancelingError";function Kj(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Xu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Zj(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Zj(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[uS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Yj(n){return n&&n[uS]}let Qj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ds],decls:1,vars:0,template:function(i,r){1&i&&Qt(0,"router-outlet")},dependencies:[cS],encapsulation:2})}return n})();function dS(n){const t=n.children&&n.children.map(dS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Nt&&(e.component=Qj),e}function Xs(n){return n.outlet||Nt}function y_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Zoe{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),aS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Hf(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hf(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Hf(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Poe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Moe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(aS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),aS(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=y_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Xj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $w{constructor(t,e){this.component=t,this.route=e}}function Yoe(n,t,e){const i=n._root;return b_(i,t?t._root:null,e,[i.value])}function zf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function qy(n){return null!==ih(n)}(n)?t.get(n):n:i}function b_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hf(t);return n.children.forEach(s=>{(function Xoe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Joe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Qu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Qu(n.url,t.url)||!Ma(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lS(n,t)||!Ma(n.queryParams,t.queryParams);default:return!lS(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Xj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),b_(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new $w(a.outlet.component,s))}else s&&w_(t,a,r),r.canActivateChecks.push(new Xj(i)),b_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>w_(a,e.getContext(s),r)),r}function w_(n,t,e){const i=Hf(n),r=n.value;Object.entries(i).forEach(([o,s])=>{w_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new $w(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function E_(n){return"function"==typeof n}function Jj(n){return n instanceof Nw||"EmptyError"===n?.name}const zw=Symbol("INITIAL_VALUE");function Gf(){return Ve(n=>Rw(n.map(t=>t.pipe(Zi(1),Of(zw)))).pipe(Ie(t=>{for(const e of t)if(!0!==e){if(e===zw)return zw;if(!1===e||e instanceof Uf)return e}return!0}),ci(t=>t!==zw),Zi(1)))}function eH(n){return function io(...n){return ro(n)}(ki(t=>{if(Xu(t))throw Kj(0,t)}),Ie(t=>!0===t))}class Gw{constructor(t){this.segmentGroup=t||null}}class tH{constructor(t){this.urlTree=t}}function Wf(n){return Pf(new Gw(n))}function nH(n){return Pf(new tH(n))}class yse{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new z(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return N(i);if(r.numberOfChildren>1||!r.children[Nt])return Pf(new z(4e3,!1));r=r.children[Nt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Uf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Mn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const hS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bse(n,t,e,i,r){const o=fS(n,t,e);return o.matched?(i=function $oe(n,t){return n.providers&&!n._injector&&(n._injector=wD(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function gse(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?N(r.map(s=>{const a=zf(s,n);return Ic(function ose(n){return n&&E_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Gf(),eH()):N(!0)}(i,t,e).pipe(Ie(s=>!0===s?o:{...hS}))):N(o)}function fS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...hS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Xre)(e,n,t);if(!r)return{...hS};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function iH(n,t,e,i){return e.length>0&&function Cse(n,t,e){return e.some(i=>Ww(n,t,i)&&Xs(i)!==Nt)}(n,e,i)?{segmentGroup:new Mn(t,Ese(i,new Mn(e,n.children))),slicedSegments:[]}:0===e.length&&function Ise(n,t,e){return e.some(i=>Ww(n,t,i))}(n,e,i)?{segmentGroup:new Mn(n.segments,wse(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Mn(n.segments,n.children),slicedSegments:e}}function wse(n,t,e,i,r){const o={};for(const s of i)if(Ww(n,e,s)&&!r[Xs(s)]){const a=new Mn([],{});o[Xs(s)]=a}return{...r,...o}}function Ese(n,t){const e={};e[Nt]=t;for(const i of n)if(""===i.path&&Xs(i)!==Nt){const r=new Mn([],{});e[Xs(i)]=r}return e}function Ww(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Sse{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yse(this.urlSerializer,this.urlTree)}noMatchError(t){return new z(4002,!1)}recognize(){const t=iH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Nt).pipe(Cc(e=>{if(e instanceof tH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Gw?this.noMatchError(e):e}),Ie(e=>{const i=new jw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,{}),r=new Tl(i,e),o=new Gj("",r),s=function voe(n,t,e=null,i=null){return kj(Mj(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Nt).pipe(Cc(i=>{throw i instanceof Gw?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=zj(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return E(r).pipe(Ff(o=>{const s=i.children[o],a=function qoe(n,t){const e=n.filter(i=>Xs(i)===t);return e.push(...n.filter(i=>Xs(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Lf((o,s)=>(o.push(...s),o)),Mw(null),function Yre(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ci((r,o)=>n(r,o,i)):$n,Y1(1),e?Mw(t):vj(()=>new Nw))}(),qt(o=>{if(null===o)return Wf(i);const s=rH(o);return function Ase(n){n.sort((t,e)=>t.value.outlet===Nt?-1:e.value.outlet===Nt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),N(s)}))}processSegment(t,e,i,r,o,s){return E(e).pipe(Ff(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Cc(l=>{if(l instanceof Gw)return N(null);throw l}))),Ec(a=>!!a),Cc(a=>{if(Jj(a))return function xse(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?N([]):Wf(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Tse(n,t,e,i){return!!(Xs(n)===i||i!==Nt&&Ww(t,e,n))&&("**"===n.path||fS(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):Wf(r):Wf(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?nH(o):this.applyRedirects.lineralizeSegments(i,o).pipe(qt(s=>{const a=new Mn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=fS(e,r,o);if(!a)return Wf(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?nH(f):this.applyRedirects.lineralizeSegments(r,f).pipe(qt(g=>this.processSegment(t,i,e,g.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?wj(r).parameters:{};a=N({snapshot:new jw(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oH(i),Xs(i),i.component??i._loadedComponent??null,i,sH(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=bse(e,i,r,t).pipe(Ie(({matched:l,consumedSegments:c,remainingSegments:u,parameters:f})=>l?{snapshot:new jw(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oH(i),Xs(i),i.component??i._loadedComponent??null,i,sH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ve(l=>null===l?Wf(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ve(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:f,consumedSegments:g,remainingSegments:_}=l,{segmentGroup:y,slicedSegments:b}=iH(e,g,_,c);if(0===b.length&&y.hasChildren())return this.processChildren(u,c,y).pipe(Ie(k=>null===k?null:[new Tl(f,k)]));if(0===c.length&&0===b.length)return N([new Tl(f,[])]);const T=Xs(i)===o;return this.processSegment(u,c,y,b,T?Nt:o,!0).pipe(Ie(k=>[new Tl(f,k)]))}))))}getChildConfig(t,e,i){return e.children?N({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?N({routes:e._loadedRoutes,injector:e._loadedInjector}):function mse(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?N(!0):N(r.map(s=>{const a=zf(s,n);return Ic(function tse(n){return n&&E_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Gf(),eH())}(t,e,i).pipe(qt(r=>r?this.configLoader.loadChildren(t,e).pipe(ki(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function vse(n){return Pf(Zj(!1,3))}())):N({routes:[],injector:t})}}function Rse(n){const t=n.value.routeConfig;return t&&""===t.path}function rH(n){const t=[],e=new Set;for(const i of n){if(!Rse(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rH(i.children);t.push(new Tl(i.value,r))}return t.filter(i=>!e.has(i))}function oH(n){return n.data||{}}function sH(n){return n.resolve||{}}function Mse(n,t){return qt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return N(e);let o=0;return E(r).pipe(Ff(s=>function kse(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!aH(r)&&(o[c_]=r.title),function Pse(n,t,e,i){const r=function Ose(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return N({});const o={};return E(r).pipe(qt(s=>function Fse(n,t,e,i){const r=y_(t)??i,o=zf(n,r);return Ic(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Ec(),ki(a=>{o[s]=a}))),Y1(1),function yj(n){return Ie(()=>n)}(o),Cc(s=>Jj(s)?pn:Pf(s)))}(o,n,t,i).pipe(Ie(s=>(n._resolvedData=s,n.data=zj(n,e).resolve,r&&aH(r)&&(n.data[c_]=r.title),null)))}(s.route,i,n,t)),ki(()=>o++),Y1(1),qt(s=>o===r.length?N(e):pn))})}function aH(n){return"string"==typeof n.title||null===n.title}function pS(n){return Ve(t=>{const e=n(t);return e?E(e).pipe(Ie(()=>t)):N(t)})}const qf=new de("ROUTES");let mS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ce(FV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return N(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ic(e.loadComponent()).pipe(Ie(lH),ki(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Vf(()=>{this.componentLoaders.delete(e)})),r=new _j(i,()=>new $).pipe(Z1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Lse(n,t,e,i){return Ic(n.loadChildren()).pipe(Ie(lH),qt(r=>r instanceof z2||Array.isArray(r)?N(r):E(t.compileModuleAsync(r))),Ie(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(qf,[],{optional:!0,self:!0}).flat()),{routes:s.map(dS),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Vf(()=>{this.childrenLoaders.delete(i)})),s=new _j(o,()=>new $).pipe(Z1());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lH(n){return function Vse(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=Ce(mS),this.environmentInjector=Ce(go),this.urlSerializer=Ce(d_),this.rootContexts=Ce(__),this.inputBindingEnabled=null!==Ce(Hw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Roe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Aoe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new w({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:m_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ci(o=>0!==o.id),Ie(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ve(o=>{this.currentTransition=o;let s=!1,a=!1;return N(o).pipe(ki(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const g="";return this.events.next(new jf(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),pn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(Ve(g=>{const _=this.transitions?.getValue();return this.events.next(new Bw(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?pn:Promise.resolve(g)}),function Nse(n,t,e,i,r,o){return qt(s=>function Dse(n,t,e,i,r,o,s="emptyOnly"){return new Sse(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(Ie(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ki(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new Bj(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:_,source:y,restoredState:b,extras:T}=l,k=new Bw(g,this.urlSerializer.serialize(_),y,b);this.events.next(k);const S=$j(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:S,urlAfterRedirects:_,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},N(o)}{const g="";return this.events.next(new jf(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),pn}}),ki(l=>{const c=new Toe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ie(l=>(this.currentTransition=o={...l,guards:Yoe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function ase(n,t){return qt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?N({...e,guardsResult:!0}):function lse(n,t,e,i){return E(n).pipe(qt(r=>function pse(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?N(o.map(a=>{const l=y_(t)??r,c=zf(a,l);return Ic(function rse(n){return n&&E_(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Ec())})).pipe(Gf()):N(!0)}(r.component,r.route,e,t,i)),Ec(r=>!0!==r,!0))}(s,i,r,n).pipe(qt(a=>a&&function ese(n){return"boolean"==typeof n}(a)?function cse(n,t,e,i){return E(t).pipe(Ff(r=>kf(function dse(n,t){return null!==n&&t&&t(new Noe(n)),N(!0)}(r.route.parent,i),function use(n,t){return null!==n&&t&&t(new koe(n)),N(!0)}(r.route,i),function fse(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Qoe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>gj(()=>N(s.guards.map(l=>{const c=y_(s.node)??e,u=zf(l,c);return Ic(function ise(n){return n&&E_(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Ec())})).pipe(Gf())));return N(o).pipe(Gf())}(n,r.path,e),function hse(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return N(!0);const r=i.map(o=>gj(()=>{const s=y_(t)??e,a=zf(o,s);return Ic(function nse(n){return n&&E_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Ec())}));return N(r).pipe(Gf())}(n,r.route,e))),Ec(r=>!0!==r,!0))}(i,o,n,t):N(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ki(l=>{if(o.guardsResult=l.guardsResult,Xu(l.guardsResult))throw Kj(0,l.guardsResult);const c=new xoe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ci(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),pS(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(ki(c=>{const u=new Doe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ve(c=>{let u=!1;return N(c).pipe(Mse(e.paramsInheritanceStrategy,this.environmentInjector),ki({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),ki(c=>{const u=new Soe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),pS(l=>{const c=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(ki(g=>{u.component=g}),Ie(()=>{})));for(const g of u.children)f.push(...c(g));return f};return Rw(c(l.targetSnapshot.root)).pipe(Mw(),Zi(1))}),pS(()=>this.afterPreactivation()),Ie(l=>{const c=function Boe(n,t,e){const i=v_(n,t._root,e?e._root:void 0);return new Hj(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),ki(()=>{this.events.next(new nS)}),((n,t,e,i)=>Ie(r=>(new Zoe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Zi(1),ki({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),en(this.transitionAbortSubject.pipe(ki(l=>{throw l}))),Vf(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Cc(l=>{if(a=!0,Yj(l))this.events.next(new g_(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Hoe(n){return Yj(n)&&Xu(n.url)}(l)?this.events.next(new iS(l.url)):o.resolve(!1);else{this.events.next(new Uw(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return pn}))}))}cancelNavigationTransition(e,i,r){const o=new g_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cH(n){return n!==m_}let uH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Nt);return i}getResolvedTitleForRoute(e){return e.data[c_]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return Ce(Bse)},providedIn:"root"})}return n})(),Bse=(()=>{class n extends uH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(sU))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Use=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return Ce(Hse)},providedIn:"root"})}return n})();class jse{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Hse=(()=>{class n extends jse{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Qn(n)))(r||n)}}();static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kw=new de("",{providedIn:"root",factory:()=>({})});let $se=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return Ce(zse)},providedIn:"root"})}return n})(),zse=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var C_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(C_||{});function dH(n,t){n.events.pipe(ci(e=>e instanceof Tc||e instanceof g_||e instanceof Uw||e instanceof jf),Ie(e=>e instanceof Tc||e instanceof jf?C_.COMPLETE:e instanceof g_&&(0===e.code||1===e.code)?C_.REDIRECTING:C_.FAILED),ci(e=>e!==C_.REDIRECTING),Zi(1)).subscribe(()=>{t()})}function Gse(n){throw n}function Wse(n,t,e){return t.parse("/")}const qse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ce(OV),this.isNgZoneEnabled=!1,this._events=new $,this.options=Ce(Kw,{optional:!0})||{},this.pendingTasks=Ce(G0),this.errorHandler=this.options.errorHandler||Gse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ce($se),this.routeReuseStrategy=Ce(Use),this.titleStrategy=Ce(uH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ce(qf,{optional:!0})?.flat()??[],this.navigationTransitions=Ce(qw),this.urlSerializer=Ce(d_),this.location=Ce(J0),this.componentInputBindingEnabled=!!Ce(Hw,{optional:!0}),this.eventsSubscription=new bt,this.isNgZoneEnabled=Ce(qe)instanceof qe&&qe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$j(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(hH(i)&&this._events.next(i));if(i instanceof Bw)cH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof jf)this.rawUrlTree=r.rawUrl;else if(i instanceof Bj){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof nS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof g_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof iS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cH(r.source)};this.scheduleNavigation(o,m_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Uw&&this.restoreHistory(r,!0),i instanceof Tc&&(this.navigated=!0),hH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),m_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(dS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=Mj(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return kj(f,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,m_,null,i)}navigate(e,i={skipLocationChange:!1}){return function Zse(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new z(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...qse}:!1===i?{...Kse}:i,Xu(e))return Cj(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Cj(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,g)=>{a=f,l=g});const u=this.pendingTasks.add();return dH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hH(n){return!(n instanceof nS||n instanceof iS)}let Zw=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Tc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function ZO(n,t,e){return function KK(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?KO:vx}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Eo),R($f),function hc(n){return function nt(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(fh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ir(),n)}("tabindex"),R(Yo),R(wt),R(zu))};static#t=this.\u0275dir=me({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Le("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&on("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Sf],skipLocationChange:["skipLocationChange","skipLocationChange",Sf],replaceUrl:["replaceUrl","replaceUrl",Sf],routerLink:"routerLink"},standalone:!0,features:[sL,Wi]})}return n})(),fH=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Tc&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(an()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=E(e).pipe(an()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Yse(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(Eo),R(wt),R(Yo),R(bo),R(Zw,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&An(o,Zw,5),2&i){let s;ft(s=pt())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Wi]})}return n})();class pH{}let Qse=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ci(e=>e instanceof Tc),Ff(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=wD(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return E(r).pipe(an())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):N(null);const o=r.pipe(qt(s=>null===s?N(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?E([o,this.loader.loadComponent(i)]).pipe(an()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Eo),O(FV),O(go),O(pH),O(mS))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gS=new de("");let mH=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Bw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Tc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jf&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Uj&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Uj(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Ng()};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function xl(n,t){return{\u0275kind:n,\u0275providers:t}}function _H(){const n=Ce(qi);return t=>{const e=n.get(Ra);if(t!==e.components[0])return;const i=n.get(Eo),r=n.get(vH);1===n.get(_S)&&i.initialNavigation(),n.get(yH,null,Ot.Optional)?.setUpPreloading(),n.get(gS,null,Ot.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const vH=new de("",{factory:()=>new $}),_S=new de("",{providedIn:"root",factory:()=>1}),yH=new de("");function tae(n){return xl(0,[{provide:yH,useExisting:Qse},{provide:pH,useExisting:n}])}const bH=new de("ROUTER_FORROOT_GUARD"),iae=[J0,{provide:d_,useClass:Q1},Eo,__,{provide:$f,useFactory:function gH(n){return n.routerState.root},deps:[Eo]},mS,[]];function rae(){return new $V("Router",Eo)}let wH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[iae,[],{provide:qf,multi:!0,useValue:e},{provide:bH,useFactory:lae,deps:[[Eo,new Is,new _g]]},{provide:Kw,useValue:i||{}},i?.useHash?{provide:zu,useClass:Dte}:{provide:zu,useClass:bB},{provide:gS,useFactory:()=>{const n=Ce(Hne),t=Ce(qe),e=Ce(Kw),i=Ce(qw),r=Ce(d_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new mH(r,i,n,t,e)}},i?.preloadingStrategy?tae(i.preloadingStrategy).\u0275providers:[],{provide:$V,multi:!0,useFactory:rae},i?.initialNavigation?cae(i):[],i?.bindToComponentInputs?xl(8,[qj,{provide:Hw,useExisting:qj}]).\u0275providers:[],[{provide:EH,useFactory:_H},{provide:GD,multi:!0,useExisting:EH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:qf,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(bH,8))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();function lae(n){return"guarded"}function cae(n){return["disabled"===n.initialNavigation?xl(3,[{provide:LD,multi:!0,useFactory:()=>{const t=Ce(Eo);return()=>{t.setUpLocationChangeListener()}}},{provide:_S,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xl(2,[{provide:_S,useValue:0},{provide:LD,multi:!0,deps:[qi],useFactory:t=>{const e=t.get(Tte,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Eo),o=t.get(vH);dH(r,()=>{i(!0)}),t.get(qw).afterPreactivation=()=>(i(!0),o.closed?N(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const EH=new de("");let dae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(i,r){}})}return n})();var Ms=et(534);(0,Ms.registerVersion)("firebase","10.6.0","app");class pae extends bt{constructor(t,e){super()}schedule(t,e=0){return this}}const Yw={setInterval(n,t,...e){const{delegate:i}=Yw;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Yw;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Qw extends pae{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return Yw.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Yw.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ge(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const vS={now:()=>(vS.delegate||Date).now(),delegate:void 0};class I_{constructor(t,e=I_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}I_.now=vS.now;class Xw extends I_{constructor(t,e=I_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const _ae=new class gae extends Xw{}(class mae extends Qw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Ju=new Xw(Qw),vae=Ju,T_=new pc("ANGULARFIRE2_VERSION");class yS{constructor(){return((n,t)=>{const e=t?[t]:(0,Ms.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(bae)}}const bae="app-check";function Kf(){}class IH{zone;delegate;constructor(t,e=_ae){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class wae{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf)),e.pipe(ki({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bS=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new IH(Zone.current)),this.insideAngular=e.run(()=>new IH(Zone.current,Ju)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(qe))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ed(n){return Zf().ngZone.run(()=>n())}function ar(n){return function Cae(n){return function(e){return(e=e.lift(new wae(n.ngZone))).pipe(pr(n.outsideAngular),Ai(n.insideAngular))}}(Zf())(n)}const Iae=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),ed(()=>n.apply(void 0,i))},Tae=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=ed(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf))),i[o]=Iae(i[o],e));const r=function Eae(n){return Zf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof it){const o=Zf();return r.pipe(pr(o.outsideAngular),Ai(o.insideAngular))}return ed(()=>r)}return r instanceof it?r.pipe(ar):r instanceof Promise?ed(()=>new Promise((o,s)=>r.then(a=>ed(()=>o(a)),a=>ed(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:ed(()=>r)};var Js=et(106);Js.Z.registerVersion("firebase","10.6.0","app-compat");const Sae=["ngOnDestroy"];class TH{constructor(t){return t}}const x_=new de("angularfire2.app.options"),D_=new de("angularfire2.app.name");function Jw(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Js.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Js.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Nae("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new TH(s)}const Nae=(n,...t)=>{},Mae={provide:TH,useFactory:Jw,deps:[x_,qe,[new Is,D_]]};let kae=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:x_,useValue:e},{provide:D_,useValue:i}]}}constructor(e){Js.Z.registerVersion("angularfire",T_.full,"core"),Js.Z.registerVersion("angularfire",T_.full,"app-compat"),Js.Z.registerVersion("angular",cF.full,e.toString())}static \u0275fac=function(i){return new(i||n)(O(Ts))};static \u0275mod=Xe({type:n});static \u0275inj=tt({providers:[Mae]})}return n})();function wS(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Pae(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(xH("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Oae?" You may need to reload as Firebase is not HMR aware.":""}`),xH("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Oae=typeof module<"u"&&!!module.hot,xH=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],et(365);class Fae extends ${constructor(t=1/0,e=1/0,i=vS){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function ES(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,ie({connector:()=>new Fae(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function DH(n,t){return D(t)?Ve(()=>n,t):Ve(()=>n)}const CS=new de("angularfire2.auth.use-emulator"),IS=new de("angularfire2.auth.settings"),TS=new de("angularfire2.auth.tenant-id"),xS=new de("angularfire2.auth.langugage-code"),DS=new de("angularfire2.auth.use-device-language"),SS=new de("angularfire.auth.persistence"),AS=(n,t,e,i,r,o,s,a)=>wS(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let S_=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,u,f,g,_){const y=new $,b=N(void 0).pipe(Ai(s.outsideAngular),Ve(()=>o.runOutsideAngular(()=>Promise.resolve().then(et.bind(et,365)))),Ie(()=>Jw(e,o,i)),Ie(T=>AS(T,o,a,c,u,f,l,g)),ES({bufferSize:1,refCount:!1}));if(fw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=N(null);else{b.pipe(Ec()).subscribe();const T=b.pipe(Ve(V=>V.getRedirectResult().then(W=>W,()=>null)),ar,ES({bufferSize:1,refCount:!1})),k=b.pipe(Ve(V=>new it(W=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(ae=>W.next(ae),ae=>W.error(ae),()=>W.complete()))})))),S=b.pipe(Ve(V=>new it(W=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(ae=>W.next(ae),ae=>W.error(ae),()=>W.complete()))}))));this.authState=T.pipe(DH(k),pr(s.outsideAngular),Ai(s.insideAngular)),this.user=T.pipe(DH(S),pr(s.outsideAngular),Ai(s.insideAngular)),this.idToken=this.user.pipe(Ve(V=>V?E(V.getIdToken()):N(null))),this.idTokenResult=this.user.pipe(Ve(V=>V?E(V.getIdTokenResult()):N(null))),this.credential=I(T,y,this.authState.pipe(ci(V=>!V))).pipe(Ie(V=>V?.user?V:null),pr(s.outsideAngular),Ai(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Sae.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{const f=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,f),f})})})}))(this,b,o,{spy:{apply:(T,k,S)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&S.then(V=>y.next(V))}}})}static \u0275fac=function(i){return new(i||n)(O(x_),O(D_,8),O(Ts),O(qe),O(bS),O(CS,8),O(IS,8),O(TS,8),O(xS,8),O(DS,8),O(SS,8),O(yS,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Vae=(()=>{class n{constructor(){Js.Z.registerVersion("angularfire",T_.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xe({type:n});static \u0275inj=tt({providers:[S_]})}return n})();function eE(...n){const t=so(n);return se((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ye(n[l]).subscribe(Se(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every($n))&&(s=null))},He));e.subscribe(Se(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}var Dl=et(537),le=et(861),x=et(58),is=et(879);const SH="@firebase/database";let RS="";function NS(n){RS=n}class Uae{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,x.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,x.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,x.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const RH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Uae(t)}}catch{}return new jae},td=RH("localStorage"),MS=RH("sessionStorage"),Yf=new is.Yd("@firebase/database"),NH=function(){let n=1;return function(){return n++}}(),MH=function(n){const t=(0,x.dS)(n),e=new x.gQ;e.update(t);const i=e.digest();return x.US.encodeByteArray(i)},A_=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=A_.apply(null,i):t+="object"==typeof i?(0,x.Wl)(i):i,t+=" "}return t};let nd=null,kH=!0;const PH=function(n,t){(0,x.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yf.logLevel=is.in.VERBOSE,nd=Yf.log.bind(Yf),t&&MS.set("logging_enabled",!0)):"function"==typeof n?nd=n:(nd=null,MS.remove("logging_enabled"))},Er=function(...n){if(!0===kH&&(kH=!1,null===nd&&!0===MS.get("logging_enabled")&&PH(!0)),nd){const t=A_.apply(null,n);nd(t)}},R_=function(n){return function(...t){Er(n,...t)}},kS=function(...n){const t="FIREBASE INTERNAL ERROR: "+A_(...n);Yf.error(t)},Pa=function(...n){const t=`FIREBASE FATAL ERROR: ${A_(...n)}`;throw Yf.error(t),new Error(t)},Zr=function(...n){const t="FIREBASE WARNING: "+A_(...n);Yf.warn(t)},tE=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xc="[MIN_NAME]",Sl="[MAX_NAME]",id=function(n,t){if(n===t)return 0;if(n===xc||t===Sl)return-1;if(t===xc||n===Sl)return 1;{const e=LH(n),i=LH(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},zae=function(n,t){return n===t?0:n<t?-1:1},N_=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,x.Wl)(t))},PS=function(n){if("object"!=typeof n||null===n)return(0,x.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,x.Wl)(t[i]),e+=":",e+=PS(n[t[i]]);return e+="}",e},OH=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const FH=function(n){(0,x.hu)(!tE(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let g=parseInt(u.substr(l,8),2).toString(16);1===g.length&&(g="0"+g),f+=g}return f.toLowerCase()},Kae=new RegExp("^-?(0*)\\d{1,10}$"),LH=function(n){if(Kae.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Qf=function(n){try{n()}catch(t){setTimeout(()=>{throw Zr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},M_=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Xae{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Jae{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zr(t)}}let k_=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const HH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GH="websocket",WH="long_polling";class FS{constructor(t,e,i,r,o=!1,s="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=td.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&td.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qH(n,t,e){let i;if((0,x.hu)("string"==typeof t,"typeof type must == string"),(0,x.hu)("object"==typeof e,"typeof params must == object"),t===GH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==WH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ele(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Cr(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class tle{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,x.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,x.p$)(this.counters_)}}const LS={},VS={};function BS(n){const t=n.toString();return LS[t]||(LS[t]=new tle),LS[t]}class ile{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Qf(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dc{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R_(t),this.stats_=BS(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),qH(e,WH,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ile(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,x.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new US((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&HH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dc.forceAllow_=!0}static forceDisallow(){Dc.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!Dc.forceAllow_&&(Dc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,x.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,x.h$)(e),r=OH(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,x.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class US{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=NH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=US.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Er("frame writing exception"),a.stack&&Er(a.stack),Er(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Er("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,x.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Er("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let iE=null;typeof MozWebSocket<"u"?iE=MozWebSocket:typeof WebSocket<"u"&&(iE=WebSocket);let Xf=(()=>{class n{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R_(this.connId),this.stats_=BS(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&HH.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),qH(e,GH,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,td.set("previous_websocket_failure",!0);try{let r;if((0,x.Yr)()){r={headers:{"User-Agent":`Firebase/5/${RS}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new iE(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==iE&&!n.forceDisallow_}static previouslyFailed(){return td.isInMemoryStorage||!0===td.get("previous_websocket_failure")}markConnectionHealthy(){td.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,x.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,x.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=OH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),e$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Dc,Xf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Xf&&Xf.isAvailable();let r=i&&!Xf.previouslyFailed();if(e.webSocketOnly&&(i||Zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xf];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class a${constructor(t,e,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R_("c:"+this.id+":"),this.transportManager_=new e$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=M_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=N_("t",t),i=N_("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=N_("t",t),i=N_("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=N_("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?kS("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kS("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),M_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(td.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class l${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class c${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,x.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,x.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class rE extends c${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rE}getInitialEvent(t){return(0,x.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Rn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _n(){return new Rn("")}function $t(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Sc(n){return n.pieces_.length-n.pieceNum_}function Gn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Rn(n.pieces_,t)}function HS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function P_(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function h$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Rn(t,0)}function _i(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Rn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Rn(e,0)}function zt(n){return n.pieceNum_>=n.pieces_.length}function Co(n,t){const e=$t(n),i=$t(t);if(null===e)return t;if(e===i)return Co(Gn(n),Gn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Tle(n,t){const e=P_(n,0),i=P_(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=id(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function $S(n,t){if(Sc(n)!==Sc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function ks(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Sc(n)>Sc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class xle{constructor(t,e){this.errorPrefix_=e,this.parts_=P_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,x.ug)(this.parts_[i]);f$(this)}}function f$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rd(n))}function rd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zS extends c${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new zS}getInitialEvent(t){return(0,x.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const O_=1e3;let sE,od=(()=>{class n extends l${constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=R_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=O_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zS.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,x.Wl)(s)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new x.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,x.r3)(e,"w")){const r=(0,x.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,x.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,x.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,x.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):kS("Unrecognized action received from server: "+(0,x.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=O_,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=O_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=O_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,le.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};e.realtime_={close:u,sendRequest:function(_){(0,x.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const g=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,y]=yield Promise.all([e.authTokenProvider_.getToken(g),e.appCheckTokenProvider_.getToken(g)]);l?Er("getToken() completed but was canceled"):(Er("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=y&&y.token,c=new a$(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,b=>{Zr(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),l||(e.repoInfo_.nodeAdmin&&Zr(_),u())}}})()}interrupt(e){Er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=O_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>PS(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Rn(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Er("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Er("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,x.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+RS.replace(/\./g,"-")]=1,(0,x.uI)()?e["framework.cordova"]=1:(0,x.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rE.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Xt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Xt(t,e)}}class oE{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Xt(xc,t),r=new Xt(xc,e);return 0!==this.compare(i,r)}minPost(){return Xt.MIN}}class g$ extends oE{static get __EMPTY_NODE(){return sE}static set __EMPTY_NODE(t){sE=t}compare(t,e){return id(t.name,e.name)}isDefinedOn(t){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Xt.MIN}maxPost(){return new Xt(Sl,sE)}makePost(t,e){return(0,x.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Xt(t,sE)}toString(){return".key"}}const Oa=new g$;class aE{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let WS,ea=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Oo.EMPTY_NODE,this.right=s??Oo.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Oo.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oo{constructor(t,e=Oo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Oo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ea.BLACK,null,null))}remove(t){return new Oo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ea.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new aE(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new aE(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new aE(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new aE(this.root_,null,this.comparator_,!0,t)}}function Ple(n,t){return id(n.name,t.name)}function GS(n,t){return id(n,t)}Oo.EMPTY_NODE=new class kle{copy(t,e,i,r,o){return this}insert(t,e,i){return new ea(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _$=function(n){return"number"==typeof n?"number:"+FH(n):"string:"+n},v$=function(n){if(n.isLeafNode()){const t=n.val();(0,x.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,x.r3)(t,".sv"),"Priority must be a string or number.")}else(0,x.hu)(n===WS||n.isEmpty(),"priority of unexpected type.");(0,x.hu)(n===WS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y$,b$,w$,Jf=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),v$(this.priorityNode_)}static set __childrenNodeConstructor(e){y$=e}static get __childrenNodeConstructor(){return y$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return zt(e)?this:".priority"===$t(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=$t(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,x.hu)(".priority"!==r||1===Sc(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?FH(this.value_):this.value_,this.lazyHash_=MH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,x.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,x.hu)(o>=0,"Unknown leaf type: "+i),(0,x.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ei=new class Vle extends oE{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?id(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Xt.MIN}maxPost(){return new Xt(Sl,new Jf("[PRIORITY-POST]",w$))}makePost(t,e){const i=b$(t);return new Xt(e,new Jf("[PRIORITY-POST]",i))}toString(){return".priority"}},Ble=Math.log(2);class Ule{constructor(t){this.count=parseInt(Math.log(t+1)/Ble,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const lE=function(n,t,e,i){n.sort(t);const r=function(l,c){const u=c-l;let f,g;if(0===u)return null;if(1===u)return f=n[l],g=e?e(f):f,new ea(g,f.node,ea.BLACK,null,null);{const _=parseInt(u/2,10)+l,y=r(l,_),b=r(_+1,c);return f=n[_],g=e?e(f):f,new ea(g,f.node,ea.BLACK,y,b)}},a=function(l){let c=null,u=null,f=n.length;const g=function(y,b){const T=f-y,k=f;f-=y;const S=r(T+1,k),V=n[T],W=e?e(V):V;_(new ea(W,V.node,b,null,S))},_=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const b=l.nextBitIsOne(),T=Math.pow(2,l.count-(y+1));b?g(T,ea.BLACK):(g(T,ea.BLACK),g(T,ea.RED))}return u}(new Ule(n.length));return new Oo(i||t,a)};let qS;const ep={};class Al{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,x.hu)(ep&&ei,"ChildrenNode.ts has not been loaded"),qS=qS||new Al({".priority":ep},{".priority":ei}),qS}get(t){const e=(0,x.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Oo?e:null}hasIndex(t){return(0,x.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,x.hu)(t!==Oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Xt.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?lE(i,t.getCompare()):ep;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new Al(u,c)}addToIndexes(t,e){const i=(0,x.UI)(this.indexes_,(r,o)=>{const s=(0,x.DV)(this.indexSet_,o);if((0,x.hu)(s,"Missing index implementation for "+o),r===ep){if(s.isDefinedOn(t.node)){const a=[],l=e.getIterator(Xt.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),lE(a,s.getCompare())}return ep}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new Xt(t.name,a))),l.insert(t,t.node)}});return new Al(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,x.UI)(this.indexes_,r=>{if(r===ep)return r;{const o=e.get(t.name);return o?r.remove(new Xt(t.name,o)):r}});return new Al(i,this.indexSet_)}}let F_,St=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&v$(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return F_||(F_=new n(new Oo(GS),null,Al.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||F_}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?F_:i}}getChild(e){const i=$t(e);return null===i?this:this.getImmediateChild(i).getChild(Gn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,x.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Xt(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?F_:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=$t(e);if(null===r)return i;{(0,x.hu)(".priority"!==$t(e)||1===Sc(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Gn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(ei,(a,l)=>{i[a]=l.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_$(this.getPriority().val())+":"),this.forEachChild(ei,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":MH(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new Xt(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Xt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Xt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Xt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Xt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===L_?-1:0}withIndex(e){if(e===Oa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ei),o=i.getIterator(ei);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Oa?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const L_=new class jle extends St{constructor(){super(new Oo(GS),St.EMPTY_NODE,Al.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return St.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Xt,{MIN:{value:new Xt(xc,St.EMPTY_NODE)},MAX:{value:new Xt(Sl,L_)}}),g$.__EMPTY_NODE=St.EMPTY_NODE,Jf.__childrenNodeConstructor=St,function Ole(n){WS=n}(L_),function Lle(n){w$=n}(L_);const Hle=!0;function xi(n,t=null){if(null===n)return St.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,x.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Jf(n,xi(t));if(n instanceof Array||!Hle){let e=St.EMPTY_NODE;return Cr(n,(i,r)=>{if((0,x.r3)(n,i)&&"."!==i.substring(0,1)){const o=xi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(xi(t))}{const e=[];let i=!1;if(Cr(n,(s,a)=>{if("."!==s.substring(0,1)){const l=xi(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new Xt(s,l)))}}),0===e.length)return St.EMPTY_NODE;const o=lE(e,Ple,s=>s.name,GS);if(i){const s=lE(e,ei.getCompare());return new St(o,xi(t),new Al({".priority":s},{".priority":ei}))}return new St(o,xi(t),Al.Default)}}!function Fle(n){b$=n}(xi);class KS extends oE{constructor(t){super(),this.indexPath_=t,(0,x.hu)(!zt(t)&&".priority"!==$t(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?id(t.name,e.name):o}makePost(t,e){const i=xi(t),r=St.EMPTY_NODE.updateChild(this.indexPath_,i);return new Xt(e,r)}maxPost(){const t=St.EMPTY_NODE.updateChild(this.indexPath_,L_);return new Xt(Sl,t)}toString(){return P_(this.indexPath_,0).join("/")}}const ZS=new class $le extends oE{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?id(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Xt.MIN}maxPost(){return Xt.MAX}makePost(t,e){const i=xi(t);return new Xt(e,i)}toString(){return".value"}};function E$(n){return{type:"value",snapshotNode:n}}function tp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function V_(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function B_(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class YS{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,x.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(V_(e,a)):(0,x.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(tp(e,i)):s.trackChildChange(B_(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ei,(r,o)=>{e.hasChild(r)||i.trackChildChange(V_(r,o))}),e.isLeafNode()||e.forEachChild(ei,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(B_(r,o,s))}else i.trackChildChange(tp(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?St.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class U_{constructor(t){this.indexedFilter_=new YS(t.getIndex()),this.index_=t.getIndex(),this.startPost_=U_.getStartPost_(t),this.endPost_=U_.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new Xt(e,i))||(i=St.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=St.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(St.EMPTY_NODE);const o=this;return e.forEachChild(ei,(s,a)=>{o.matches(new Xt(s,a))||(r=r.updateImmediateChild(s,St.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Gle{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new U_(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new Xt(e,i))||(i=St.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=St.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=St.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(St.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,St.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(g,_)=>f(_,g)}else s=this.index_.getCompare();const a=t;(0,x.hu)(a.numChildren()===this.limit_,"");const l=new Xt(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let g=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=g&&(g.name===e||a.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const _=null==g?1:s(g,l);if(u&&!i.isEmpty()&&_>=0)return o?.trackChildChange(B_(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(V_(e,f));const b=a.updateImmediateChild(e,St.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(o?.trackChildChange(tp(g.name,g.node)),b.updateImmediateChild(g.name,g.node)):b}}return i.isEmpty()?t:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(V_(c.name,c.node)),o.trackChildChange(tp(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,St.EMPTY_NODE)):t}}class cE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ei}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ei}copy(){const t=new cE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function QS(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function XS(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function uE(n,t){const e=n.copy();return e.index_=t,e}function C$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ei?e="$priority":n.index_===ZS?e="$value":n.index_===Oa?e="$key":((0,x.hu)(n.index_ instanceof KS,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,x.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,x.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,x.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,x.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,x.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function I$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ei&&(t.i=n.index_.toString()),t}class dE extends l${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=R_("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,x.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=dE.getListenId_(t,i),a={};this.listens_[s]=a;const l=C$(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(o,f,!1,i),(0,x.DV)(this.listens_,s)===a){let g;g=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(g,null)}})}unlisten(t,e){const i=dE.getListenId_(t,e);delete this.listens_[i]}get(t){const e=C$(t._queryParams),i=t._path.toString(),r=new x.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,x.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,x.cI)(a.responseText)}catch{Zr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Zr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class Qle{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function hE(){return{value:null,children:new Map}}function np(n,t,e){if(zt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=$t(t);n.children.has(i)||n.children.set(i,hE()),np(n.children.get(i),t=Gn(t),e)}}function JS(n,t){if(zt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ei,(i,r)=>{np(n,new Rn(i),r)}),JS(n,t)}}if(n.children.size>0){const e=$t(t);return t=Gn(t),n.children.has(e)&&JS(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function eA(n,t,e){null!==n.value?e(t,n.value):function Xle(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{eA(r,new Rn(t.toString()+"/"+i),e)})}class Jle{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Cr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class nce{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Jle(t);const i=1e4+2e4*Math.random();M_(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Cr(t,(r,o)=>{o>0&&(0,x.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),M_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fa=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Fa||{});function iA(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fE{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Fa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(zt(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Rn(t));return new fE(_n(),e,this.revert)}}return(0,x.hu)($t(this.path)===t,"operationForChild called for unrelated child."),new fE(Gn(this.path),this.affectedTree,this.revert)}}class j_{constructor(t,e){this.source=t,this.path=e,this.type=Fa.LISTEN_COMPLETE}operationForChild(t){return zt(this.path)?new j_(this.source,_n()):new j_(this.source,Gn(this.path))}}class sd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Fa.OVERWRITE}operationForChild(t){return zt(this.path)?new sd(this.source,_n(),this.snap.getImmediateChild(t)):new sd(this.source,Gn(this.path),this.snap)}}class ip{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Fa.MERGE}operationForChild(t){if(zt(this.path)){const e=this.children.subtree(new Rn(t));return e.isEmpty()?null:e.value?new sd(this.source,_n(),e.value):new ip(this.source,_n(),e)}return(0,x.hu)($t(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ip(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ac{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(zt(t))return this.isFullyInitialized()&&!this.filtered_;const e=$t(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ice{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function H_(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,l)=>function sce(n,t,e){if(null==t.childName||null==e.childName)throw(0,x.g5)("Should only compare child_ events.");const i=new Xt(t.childName,t.snapshotNode),r=new Xt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function oce(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function pE(n,t){return{eventCache:n,serverCache:t}}function $_(n,t,e,i){return pE(new Ac(t,e,i),n.serverCache)}function x$(n,t,e,i){return pE(n.eventCache,new Ac(t,e,i))}function mE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ad(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rA;class ti{constructor(t,e=(()=>(rA||(rA=new Oo(zae)),rA))()){this.value=t,this.children=e}static fromObject(t){let e=new ti(null);return Cr(t,(i,r)=>{e=e.set(new Rn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_n(),value:this.value};if(zt(t))return null;{const i=$t(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Gn(t),e);return null!=o?{path:_i(new Rn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(zt(t))return this;{const e=$t(t),i=this.children.get(e);return null!==i?i.subtree(Gn(t)):new ti(null)}}set(t,e){if(zt(t))return new ti(e,this.children);{const i=$t(t),o=(this.children.get(i)||new ti(null)).set(Gn(t),e),s=this.children.insert(i,o);return new ti(this.value,s)}}remove(t){if(zt(t))return this.children.isEmpty()?new ti(null):new ti(null,this.children);{const e=$t(t),i=this.children.get(e);if(i){const r=i.remove(Gn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new ti(null):new ti(this.value,o)}return this}}get(t){if(zt(t))return this.value;{const e=$t(t),i=this.children.get(e);return i?i.get(Gn(t)):null}}setTree(t,e){if(zt(t))return e;{const i=$t(t),o=(this.children.get(i)||new ti(null)).setTree(Gn(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ti(this.value,s)}}fold(t){return this.fold_(_n(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(_i(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,_n(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(zt(t))return null;{const o=$t(t),s=this.children.get(o);return s?s.findOnPath_(Gn(t),_i(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_n(),e)}foreachOnPath_(t,e,i){if(zt(t))return this;{this.value&&i(e,this.value);const r=$t(t),o=this.children.get(r);return o?o.foreachOnPath_(Gn(t),_i(e,r),i):new ti(null)}}foreach(t){this.foreach_(_n(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(_i(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ta{constructor(t){this.writeTree_=t}static empty(){return new ta(new ti(null))}}function z_(n,t,e){if(zt(t))return new ta(new ti(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=Co(r,t);return o=o.updateChild(s,e),new ta(n.writeTree_.set(r,o))}{const r=new ti(e),o=n.writeTree_.setTree(t,r);return new ta(o)}}}function oA(n,t,e){let i=n;return Cr(e,(r,o)=>{i=z_(i,_i(t,r),o)}),i}function D$(n,t){if(zt(t))return ta.empty();{const e=n.writeTree_.setTree(t,new ti(null));return new ta(e)}}function sA(n,t){return null!=ld(n,t)}function ld(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Co(e.path,t)):null}function S$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ei,(i,r)=>{t.push(new Xt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Xt(i,r.value))}),t}function Rc(n,t){if(zt(t))return n;{const e=ld(n,t);return new ta(null!=e?new ti(e):n.writeTree_.subtree(t))}}function aA(n){return n.writeTree_.isEmpty()}function rp(n,t){return A$(_n(),n.writeTree_,t)}function A$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,x.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=A$(_i(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(_i(n,".priority"),i)),e}}function gE(n,t){return P$(t,n)}function hce(n,t){if(n.snap)return ks(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ks(_i(n.path,e),t))return!0;return!1}function pce(n){return n.visible}function R$(n,t,e){let i=ta.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)ks(e,s)?(a=Co(e,s),i=z_(i,a,o.snap)):ks(s,e)&&(a=Co(s,e),i=z_(i,_n(),o.snap.getChild(a)));else{if(!o.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(ks(e,s))a=Co(e,s),i=oA(i,a,o.children);else if(ks(s,e))if(a=Co(s,e),zt(a))i=oA(i,_n(),o.children);else{const l=(0,x.DV)(o.children,$t(a));if(l){const c=l.getChild(Gn(a));i=z_(i,_n(),c)}}}}}return i}function N$(n,t,e,i,r){if(i||r){const o=Rc(n.visibleWrites,t);return!r&&aA(o)?e:r||null!=e||sA(o,_n())?rp(R$(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ks(c.path,t)||ks(t,c.path))},t),e||St.EMPTY_NODE):null}{const o=ld(n.visibleWrites,t);if(null!=o)return o;{const s=Rc(n.visibleWrites,t);return aA(s)?e:null!=e||sA(s,_n())?rp(s,e||St.EMPTY_NODE):null}}}function _E(n,t,e,i){return N$(n.writeTree,n.treePath,t,e,i)}function lA(n,t){return function mce(n,t,e){let i=St.EMPTY_NODE;const r=ld(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ei,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=Rc(n.visibleWrites,t);return e.forEachChild(ei,(s,a)=>{const l=rp(Rc(o,new Rn(s)),a);i=i.updateImmediateChild(s,l)}),S$(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return S$(Rc(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function M$(n,t,e,i){return function gce(n,t,e,i,r){(0,x.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=_i(t,e);if(sA(n.visibleWrites,o))return null;{const s=Rc(n.visibleWrites,o);return aA(s)?r.getChild(e):rp(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function vE(n,t){return function vce(n,t){return ld(n.visibleWrites,t)}(n.writeTree,_i(n.treePath,t))}function cA(n,t,e){return function _ce(n,t,e,i){const r=_i(t,e),o=ld(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?rp(Rc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function k$(n,t){return P$(_i(n.treePath,t),n.writeTree)}function P$(n,t){return{treePath:n,writeTree:t}}class Ece{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,x.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,B_(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,V_(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,tp(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,x.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,B_(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const O$=new class Cce{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class uA{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ac(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cA(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ad(this.viewCache_),o=function wce(n,t,e,i,r,o){return function yce(n,t,e,i,r,o,s){let a;const l=Rc(n.visibleWrites,t),c=ld(l,_n());if(null!=c)a=c;else{if(null==e)return[];a=rp(l,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=s.getCompare(),g=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let _=g.getNext();for(;_&&u.length<r;)0!==f(_,i)&&u.push(_),_=g.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function F$(n,t,e,i,r,o){const s=t.eventCache;if(null!=vE(i,e))return t;{let a,l;if(zt(e))if((0,x.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=ad(t),f=lA(i,c instanceof St?c:St.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const c=_E(i,ad(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=$t(e);if(".priority"===c){(0,x.hu)(1===Sc(e),"Can't have a priority with additional path components");const u=s.getNode();l=t.serverCache.getNode();const f=M$(i,e,u,l);a=null!=f?n.filter.updatePriority(u,f):s.getNode()}else{const u=Gn(e);let f;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const g=M$(i,e,s.getNode(),l);f=null!=g?s.getNode().getImmediateChild(c).updateChild(u,g):s.getNode().getImmediateChild(c)}else f=cA(i,c,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),c,f,u,r,o):s.getNode()}}return $_(t,a,s.isFullyInitialized()||zt(e),n.filter.filtersNodes())}}function yE(n,t,e,i,r,o,s,a){const l=t.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(zt(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),_,null)}else{const _=$t(e);if(!l.isCompleteForPath(e)&&Sc(e)>1)return t;const y=Gn(e),T=l.getNode().getImmediateChild(_).updateChild(y,i);c=".priority"===_?u.updatePriority(l.getNode(),T):u.updateChild(l.getNode(),_,T,y,O$,null)}const f=x$(t,c,l.isFullyInitialized()||zt(e),u.filtersNodes());return F$(n,f,e,r,new uA(r,f,o),a)}function dA(n,t,e,i,r,o,s){const a=t.eventCache;let l,c;const u=new uA(r,t,o);if(zt(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,s),l=$_(t,c,!0,n.filter.filtersNodes());else{const f=$t(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=$_(t,c,a.isFullyInitialized(),a.isFiltered());else{const g=Gn(e),_=a.getNode().getImmediateChild(f);let y;if(zt(g))y=i;else{const b=u.getCompleteChild(f);y=null!=b?".priority"===HS(g)&&b.getChild(h$(g)).isEmpty()?b:b.updateChild(g,i):St.EMPTY_NODE}l=_.equals(y)?t:$_(t,n.filter.updateChild(a.getNode(),f,y,g,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function L$(n,t){return n.eventCache.isCompleteForChild(t)}function V$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hA(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=zt(e)?i:new ti(null).setTree(e,i);const u=t.serverCache.getNode();return c.children.inorderTraversal((f,g)=>{if(u.hasChild(f)){const y=V$(0,t.serverCache.getNode().getImmediateChild(f),g);l=yE(n,l,new Rn(f),y,r,o,s,a)}}),c.children.inorderTraversal((f,g)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===g.value;if(!u.hasChild(f)&&!_){const b=V$(0,t.serverCache.getNode().getImmediateChild(f),g);l=yE(n,l,new Rn(f),b,r,o,s,a)}}),l}class Mce{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new YS(i.getIndex()),o=function Wle(n){return n.loadsAllData()?new YS(n.getIndex()):n.hasLimit()?new Gle(n):new U_(n)}(i);this.processor_=function Ice(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,l=r.updateFullNode(St.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(St.EMPTY_NODE,a.getNode(),null),u=new Ac(l,s.isFullyInitialized(),r.filtersNodes()),f=new Ac(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=pE(f,u),this.eventGenerator_=new ice(this.query_)}get query(){return this.query_}}function Oce(n,t){const e=ad(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!zt(t)&&!e.getImmediateChild($t(t)).isEmpty())?e.getChild(t):null}function B$(n){return 0===n.eventRegistrations_.length}function U$(n,t,e){const i=[];if(e){(0,x.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function j$(n,t,e,i){t.type===Fa.MERGE&&null!==t.source.queryId&&((0,x.hu)(ad(n.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(mE(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function xce(n,t,e,i,r){const o=new Ece;let s,a;if(e.type===Fa.OVERWRITE){const c=e;c.source.fromUser?s=dA(n,t,c.path,c.snap,i,r,o):((0,x.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!zt(c.path),s=yE(n,t,c.path,c.snap,i,r,a,o))}else if(e.type===Fa.MERGE){const c=e;c.source.fromUser?s=function Sce(n,t,e,i,r,o,s){let a=t;return i.foreach((l,c)=>{const u=_i(e,l);L$(t,$t(u))&&(a=dA(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=_i(e,l);L$(t,$t(u))||(a=dA(n,a,u,c,r,o,s))}),a}(n,t,c.path,c.children,i,r,o):((0,x.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=hA(n,t,c.path,c.children,i,r,a,o))}else if(e.type===Fa.ACK_USER_WRITE){const c=e;s=c.revert?function Nce(n,t,e,i,r,o){let s;if(null!=vE(i,e))return t;{const a=new uA(i,t,r),l=t.eventCache.getNode();let c;if(zt(e)||".priority"===$t(e)){let u;if(t.serverCache.isFullyInitialized())u=_E(i,ad(t));else{const f=t.serverCache.getNode();(0,x.hu)(f instanceof St,"serverChildren would be complete if leaf node"),u=lA(i,f)}c=n.filter.updateFullNode(l,u,o)}else{const u=$t(e);let f=cA(i,u,t.serverCache);null==f&&t.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),c=null!=f?n.filter.updateChild(l,u,f,Gn(e),a,o):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,St.EMPTY_NODE,Gn(e),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=_E(i,ad(t)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=vE(i,_n()),$_(t,c,s,n.filter.filtersNodes())}}(n,t,c.path,i,r,o):function Ace(n,t,e,i,r,o,s){if(null!=vE(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(zt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return yE(n,t,e,l.getNode().getChild(e),r,o,a,s);if(zt(e)){let c=new ti(null);return l.getNode().forEachChild(Oa,(u,f)=>{c=c.set(new Rn(u),f)}),hA(n,t,e,c,r,o,a,s)}return t}{let c=new ti(null);return i.foreach((u,f)=>{const g=_i(e,u);l.isCompleteForPath(g)&&(c=c.set(u,l.getNode().getChild(g)))}),hA(n,t,e,c,r,o,a,s)}}(n,t,c.path,c.affectedTree,i,r,o)}else{if(e.type!==Fa.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+e.type);s=function Rce(n,t,e,i,r){const o=t.serverCache;return F$(n,x$(t,o.getNode(),o.isFullyInitialized()||zt(e),o.isFiltered()),e,i,O$,r)}(n,t,e.path,i,o)}const l=o.getChanges();return function Dce(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=mE(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(E$(mE(t)))}}(t,s,l),{viewCache:s,changes:l}}(n.processor_,r,t,e,i);return function Tce(n,t){(0,x.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,x.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,H$(n,o.changes,o.viewCache.eventCache.getNode(),null)}function H$(n,t,e,i){return function rce(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function zle(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),H_(n,r,"child_removed",t,i,e),H_(n,r,"child_added",t,i,e),H_(n,r,"child_moved",o,i,e),H_(n,r,"child_changed",t,i,e),H_(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let bE,EE;class $${constructor(){this.views=new Map}}function fA(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,x.hu)(null!=o,"SyncTree gave us an op for an invalid query."),j$(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(j$(s,t,e,i));return o}}function z$(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=_E(e,r?i:null),l=!1;a?l=!0:i instanceof St?(a=lA(e,i),l=!1):(a=St.EMPTY_NODE,l=!1);const c=pE(new Ac(a,l,!1),new Ac(i,r,!1));return new Mce(t,c)}return s}function G$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Nc(n,t){let e=null;for(const i of n.views.values())e=e||Oce(i,t);return e}function W$(n,t){return t._queryParams.loadsAllData()?wE(n):n.views.get(t._queryIdentifier)}function q$(n,t){return null!=W$(n,t)}function Mc(n){return null!=wE(n)}function wE(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Gce=1;class K${constructor(t){this.listenProvider_=t,this.syncPointTree_=new ti(null),this.pendingWriteTree_=function bce(){return{visibleWrites:ta.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pA(n,t,e,i,r){return function lce(n,t,e,i,r){(0,x.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=z_(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?op(n,new sd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function kc(n,t,e=!1){const i=function uce(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function dce(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,x.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&hce(a,i.path)?r=!1:ks(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function fce(n){n.visibleWrites=R$(n.allWrites,pce,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=D$(n.visibleWrites,i.path):Cr(i.children,l=>{n.visibleWrites=D$(n.visibleWrites,_i(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let o=new ti(null);return null!=i.snap?o=o.set(_n(),!0):Cr(i.children,s=>{o=o.set(new Rn(s),!0)}),op(n,new fE(i.path,o,e))}return[]}function G_(n,t,e){return op(n,new sd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function CE(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||q$(s,t))){const l=function Hce(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=Mc(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(U$(c,e,i)),B$(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(U$(l,e,i)),B$(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Mc(n)&&o.push(new(function Bce(){return(0,x.hu)(bE,"Reference.ts has not been loaded"),bE}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function Uce(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=-1!==c.findIndex(g=>g._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(g,_)=>Mc(_));if(u&&!f){const g=n.syncPointTree_.subtree(o);if(!g.isEmpty()){const _=function Xce(n){return n.fold((t,e,i)=>{if(e&&Mc(e))return[wE(e)];{let r=[];return e&&(r=G$(e)),Cr(i,(o,s)=>{r=r.concat(s)}),r}})}(g);for(let y=0;y<_.length;++y){const b=_[y],T=b.query,k=X$(n,b);n.listenProvider_.startListening(q_(T),W_(n,T),k.hashFn,k.onComplete)}}}!f&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(q_(t),null):c.forEach(g=>{const _=n.queryToTagMap.get(TE(g));n.listenProvider_.stopListening(q_(g),_)}))}!function Jce(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=TE(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function Z$(n,t,e,i){const r=gA(n,i);if(null!=r){const o=_A(r),s=o.path,a=o.queryId,l=Co(s,t);return vA(n,s,new sd(iA(a),l,e))}return[]}function mA(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(g,_)=>{const y=Co(g,r);o=o||Nc(_,y),s=s||Mc(_)});let l,a=n.syncPointTree_.get(r);a?(s=s||Mc(a),o=o||Nc(a,_n())):(a=new $$,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=St.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,y)=>{const b=Nc(y,_n());b&&(o=o.updateImmediateChild(_,b))}));const c=q$(a,t);if(!c&&!t._queryParams.loadsAllData()){const g=TE(t);(0,x.hu)(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const _=function eue(){return Gce++}();n.queryToTagMap.set(g,_),n.tagToQueryMap.set(_,g)}let f=function jce(n,t,e,i,r,o){const s=z$(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function Fce(n,t){n.eventRegistrations_.push(t)}(s,e),function Lce(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ei,(o,s)=>{i.push(tp(o,s))}),e.isFullyInitialized()&&i.push(E$(e.getNode())),H$(n,i,e.getNode(),t)}(s,e)}(a,t,e,gE(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const g=W$(a,t);f=f.concat(function tue(n,t,e){const i=t._path,r=W_(n,t),o=X$(n,e),s=n.listenProvider_.startListening(q_(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,x.hu)(!Mc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!zt(c)&&u&&Mc(u))return[wE(u).query];{let g=[];return u&&(g=g.concat(G$(u).map(_=>_.query))),Cr(f,(_,y)=>{g=g.concat(y)}),g}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(q_(u),W_(n,u))}}return s}(n,t,g))}return f}function IE(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const c=Nc(a,Co(s,t));if(c)return c});return N$(r,t,o,e,!0)}function op(n,t){return Y$(t,n.syncPointTree_,null,gE(n.pendingWriteTree_,_n()))}function Y$(n,t,e,i){if(zt(n.path))return Q$(n,t,e,i);{const r=t.get(_n());null==e&&null!=r&&(e=Nc(r,_n()));let o=[];const s=$t(n.path),a=n.operationForChild(s),l=t.children.get(s);if(l&&a){const c=e?e.getImmediateChild(s):null,u=k$(i,s);o=o.concat(Y$(a,l,c,u))}return r&&(o=o.concat(fA(r,n,i,e))),o}}function Q$(n,t,e,i){const r=t.get(_n());null==e&&null!=r&&(e=Nc(r,_n()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=e?e.getImmediateChild(s):null,c=k$(i,s),u=n.operationForChild(s);u&&(o=o.concat(Q$(u,a,l,c)))}),r&&(o=o.concat(fA(r,n,i,e))),o}function X$(n,t){const e=t.query,i=W_(n,e);return{hashFn:()=>(function kce(n){return n.viewCache_.serverCache.getNode()}(t)||St.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Zce(n,t,e){const i=gA(n,e);if(i){const r=_A(i),o=r.path,s=r.queryId,a=Co(o,t);return vA(n,o,new j_(iA(s),a))}return[]}(n,e._path,i):function Kce(n,t){return op(n,new j_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function qae(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return CE(n,e,null,o)}}}}function W_(n,t){const e=TE(t);return n.queryToTagMap.get(e)}function TE(n){return n._path.toString()+"$"+n._queryIdentifier}function gA(n,t){return n.tagToQueryMap.get(t)}function _A(n){const t=n.indexOf("$");return(0,x.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Rn(n.substr(0,t))}}function vA(n,t,e){const i=n.syncPointTree_.get(t);return(0,x.hu)(i,"Missing sync point for query tag that we're tracking"),fA(i,e,gE(n.pendingWriteTree_,t),null)}function q_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function zce(){return(0,x.hu)(EE,"Reference.ts has not been loaded"),EE}())(n._repo,n._path):n}class yA{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new yA(e)}node(){return this.node_}}class bA{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=_i(this.path_,t);return new bA(this.syncTree_,e)}node(){return IE(this.syncTree_,this.path_)}}const nue=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},J$=function(n,t,e){return n&&"object"==typeof n?((0,x.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?iue(n[".sv"],t,e):"object"==typeof n[".sv"]?rue(n[".sv"],t):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},iue=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,x.hu)(!1,"Unexpected server value: "+n)},rue=function(n,t,e){n.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,x.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,x.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},ez=function(n,t,e,i){return EA(t,new bA(e,n),i)},wA=function(n,t,e){return EA(n,new yA(t),e)};function EA(n,t,e){const i=n.getPriority().val(),r=J$(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=J$(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Jf(a,xi(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Jf(r))),s.forEachChild(ei,(a,l)=>{const c=EA(l,t.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class CA{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function xE(n,t){let e=t instanceof Rn?t:new Rn(t),i=n,r=$t(e);for(;null!==r;){const o=(0,x.DV)(i.node.children,r)||{children:{},childCount:0};i=new CA(r,i,o),e=Gn(e),r=$t(e)}return i}function cd(n){return n.node.value}function IA(n,t){n.node.value=t,TA(n)}function tz(n){return n.node.childCount>0}function DE(n,t){Cr(n.node.children,(e,i)=>{t(new CA(e,n,i))})}function nz(n,t,e,i){e&&!i&&t(n),DE(n,r=>{nz(r,t,!0,i)}),e&&i&&t(n)}function K_(n){return new Rn(null===n.parent?n.name:K_(n.parent)+"/"+n.name)}function TA(n){null!==n.parent&&function aue(n,t,e){const i=function oue(n){return void 0===cd(n)&&!tz(n)}(e),r=(0,x.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,TA(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,TA(n))}(n.parent,n.name,n)}const lue=/[\[\].#$\/\u0000-\u001F\u007F]/,cue=/[\[\].#$\u0000-\u001F\u007F]/,xA=10485760,SE=function(n){return"string"==typeof n&&0!==n.length&&!lue.test(n)},iz=function(n){return"string"==typeof n&&0!==n.length&&!cue.test(n)},Z_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!tE(n)||n&&"object"==typeof n&&(0,x.r3)(n,".sv")},La=function(n,t,e,i){i&&void 0===t||Y_((0,x.gK)(n,"value"),t,e)},Y_=function(n,t,e){const i=e instanceof Rn?new xle(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+rd(i));if("function"==typeof t)throw new Error(n+"contains a function "+rd(i)+" with contents = "+t.toString());if(tE(t))throw new Error(n+"contains "+t.toString()+" "+rd(i));if("string"==typeof t&&t.length>xA/3&&(0,x.ug)(t)>xA)throw new Error(n+"contains a string greater than "+xA+" utf8 bytes "+rd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Cr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!SE(s)))throw new Error(n+" contains an invalid key ("+s+") "+rd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Dle(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,x.ug)(t),f$(n)})(i,s),Y_(n,a,i),function Sle(n){const t=n.parts_.pop();n.byteLength_-=(0,x.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+rd(i)+" in addition to actual children.")}},rz=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,x.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Cr(t,(s,a)=>{const l=new Rn(s);if(Y_(r,a,_i(e,l)),".priority"===HS(l)&&!Z_(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=P_(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!SE(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Tle);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&ks(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},DA=function(n,t,e){if(!e||void 0!==t){if(tE(t))throw new Error((0,x.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Z_(t))throw new Error((0,x.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Q_=function(n,t,e,i){if(!(i&&void 0===e||SE(e)))throw new Error((0,x.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},X_=function(n,t,e,i){if(!(i&&void 0===e||iz(e)))throw new Error((0,x.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hue=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),X_(n,t,e,i)},Ps=function(n,t){if(".info"===$t(t))throw new Error(n+" failed = Can't modify data under /.info/")},oz=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!SE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iz(n)}(e))throw new Error((0,x.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function AE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!$S(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function sz(n,t,e){AE(n,e),az(n,i=>$S(i,t))}function rs(n,t,e){AE(n,e),az(n,i=>ks(i,t)||ks(t,i))}function az(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(pue(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function pue(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();nd&&Er("event: "+e.toString()),Qf(i)}}}const lz="repo_interrupt",mue=25;class gue{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hE(),this.transactionQueueTree_=new CA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cz(n){const e=n.infoData_.getNode(new Rn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function J_(n){return nue({timestamp:cz(n)})}function uz(n,t,e,i,r){n.dataUpdateCount++;const o=new Rn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const l=(0,x.UI)(e,c=>xi(c));s=function Yce(n,t,e,i){const r=gA(n,i);if(r){const o=_A(r),s=o.path,a=o.queryId,l=Co(s,t),c=ti.fromObject(e);return vA(n,s,new ip(iA(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=xi(e);s=Z$(n.serverSyncTree_,o,l,r)}else if(i){const l=(0,x.UI)(e,c=>xi(c));s=function qce(n,t,e){const i=ti.fromObject(e);return op(n,new ip({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,l)}else{const l=xi(e);s=G_(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ap(n,o)),rs(n.eventQueue_,a,s)}function dz(n,t){SA(n,"connected",t),!1===t&&function wue(n){sp(n,"onDisconnectEvents");const t=J_(n),e=hE();eA(n.onDisconnect_,_n(),(r,o)=>{const s=ez(r,o,n.serverSyncTree_,t);np(e,r,s)});let i=[];eA(e,_n(),(r,o)=>{i=i.concat(G_(n.serverSyncTree_,r,o));const s=MA(n,r);ap(n,s)}),n.onDisconnect_=hE(),rs(n.eventQueue_,_n(),i)}(n)}function SA(n,t,e){const i=new Rn("/.info/"+t),r=xi(e);n.infoData_.updateSnapshot(i,r);const o=G_(n.infoSyncTree_,i,r);rs(n.eventQueue_,i,o)}function RE(n){return n.nextWriteId_++}function AA(n,t,e,i,r){sp(n,"set",{path:t.toString(),value:e,priority:i});const o=J_(n),s=xi(e,i),a=IE(n.serverSyncTree_,t),l=wA(s,a,o),c=RE(n),u=pA(n.serverSyncTree_,t,l,c,!0);AE(n.eventQueue_,u),n.server_.put(t.toString(),s.val(!0),(g,_)=>{const y="ok"===g;y||Zr("set at "+t+" failed: "+g);const b=kc(n.serverSyncTree_,c,!y);rs(n.eventQueue_,t,b),Pc(0,r,g,_)});const f=MA(n,t);ap(n,f),rs(n.eventQueue_,f,[])}function Eue(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&JS(n.onDisconnect_,t),Pc(0,e,i,r)})}function hz(n,t,e,i){const r=xi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&np(n.onDisconnect_,t,r),Pc(0,i,o,s)})}function RA(n,t,e){let i;i=".info"===$t(t._path)?CE(n.infoSyncTree_,t,e):CE(n.serverSyncTree_,t,e),sz(n.eventQueue_,t._path,i)}function fz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lz)}function sp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Er(e,...t)}function Pc(n,t,e,i){t&&Qf(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function NA(n,t,e){return IE(n.serverSyncTree_,t,e)||St.EMPTY_NODE}function NE(n,t=n.transactionQueueTree_){if(t||ME(n,t),cd(t)){const e=mz(n,t);(0,x.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Sue(n,t,e){const i=e.map(c=>c.currentWriteId),r=NA(n,t,i);let o=r;const s=r.hash();for(let c=0;c<e.length;c++){const u=e[c];(0,x.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Co(t,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;n.server_.put(l.toString(),a,c=>{sp(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const f=[];for(let g=0;g<e.length;g++)e[g].status=2,u=u.concat(kc(n.serverSyncTree_,e[g].currentWriteId)),e[g].onComplete&&f.push(()=>e[g].onComplete(null,!0,e[g].currentOutputSnapshotResolved)),e[g].unwatcher();ME(n,xE(n.transactionQueueTree_,t)),NE(n,n.transactionQueueTree_),rs(n.eventQueue_,t,u);for(let g=0;g<f.length;g++)Qf(f[g])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{Zr("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}ap(n,t)}},s)}(n,K_(t),e)}else tz(t)&&DE(t,e=>{NE(n,e)})}function ap(n,t){const e=pz(n,t),i=K_(e);return function Aue(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Co(e,l.path);let f,u=!1;if((0,x.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,f=l.abortReason,r=r.concat(kc(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=mue)u=!0,f="maxretry",r=r.concat(kc(n.serverSyncTree_,l.currentWriteId,!0));else{const g=NA(n,l.path,s);l.currentInputSnapshot=g;const _=t[a].update(g.val());if(void 0!==_){Y_("transaction failed: Data returned ",_,l.path);let y=xi(_);"object"==typeof _&&null!=_&&(0,x.r3)(_,".priority")||(y=y.updatePriority(g.getPriority()));const T=l.currentWriteId,k=J_(n),S=wA(y,g,k);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=S,l.currentWriteId=RE(n),s.splice(s.indexOf(T),1),r=r.concat(pA(n.serverSyncTree_,l.path,S,l.currentWriteId,l.applyLocally)),r=r.concat(kc(n.serverSyncTree_,T,!0))}else u=!0,f="nodata",r=r.concat(kc(n.serverSyncTree_,l.currentWriteId,!0))}rs(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}ME(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Qf(i[a]);NE(n,n.transactionQueueTree_)}(n,mz(n,e),i),i}function pz(n,t){let e,i=n.transactionQueueTree_;for(e=$t(t);null!==e&&void 0===cd(i);)i=xE(i,e),e=$t(t=Gn(t));return i}function mz(n,t){const e=[];return gz(n,t,e),e.sort((i,r)=>i.order-r.order),e}function gz(n,t,e){const i=cd(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);DE(t,r=>{gz(n,r,e)})}function ME(n,t){const e=cd(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,IA(t,e.length>0?e:void 0)}DE(t,i=>{ME(n,i)})}function MA(n,t){const e=K_(pz(n,t)),i=xE(n.transactionQueueTree_,t);return function sue(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{kA(n,r)}),kA(n,i),nz(i,r=>{kA(n,r)}),e}function kA(n,t){const e=cd(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,x.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,x.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(kc(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?IA(t,void 0):e.length=o+1,rs(n.eventQueue_,K_(t),r);for(let s=0;s<i.length;s++)Qf(i[s])}}const PA=function(n,t){const e=Mue(n),i=e.namespace;return"firebase.com"===e.domain&&Pa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FS(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Rn(e.pathString)}},Mue=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(u,f)),u<f&&(r=function Rue(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(u,f)));const g=function Nue(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const _=t.slice(0,c);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),e=t.substring(y+1),o=i}"ns"in g&&(o=g.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},_z="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kue=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=_z.charAt(e%64),e=Math.floor(e/64);(0,x.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=_z.charAt(t[r]);return(0,x.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class vz{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class yz{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class OA{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class bz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new x.BH;return Eue(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ps("OnDisconnect.remove",this._path);const t=new x.BH;return hz(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ps("OnDisconnect.set",this._path),La("OnDisconnect.set",t,this._path,!1);const e=new x.BH;return hz(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ps("OnDisconnect.setWithPriority",this._path),La("OnDisconnect.setWithPriority",t,this._path,!1),DA("OnDisconnect.setWithPriority",e,!1);const i=new x.BH;return function Cue(n,t,e,i,r){const o=xi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&np(n.onDisconnect_,t,o),Pc(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ps("OnDisconnect.update",this._path),rz("OnDisconnect.update",t,this._path,!1);const e=new x.BH;return function Iue(n,t,e,i){if((0,x.xb)(e))return Er("onDisconnect().update() called with empty data.  Don't do anything."),void Pc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Cr(e,(s,a)=>{const l=xi(a);np(n.onDisconnect_,_i(t,s),l)}),Pc(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return zt(this._path)?null:HS(this._path)}get ref(){return new Os(this._repo,this._path)}get _queryIdentifier(){const t=I$(this._queryParams),e=PS(t);return"{}"===e?"default":e}get _queryObject(){return I$(this._queryParams)}isEqual(t){if(!((t=(0,x.m9)(t))instanceof Fo))return!1;const e=this._repo===t._repo,i=$S(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ile(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function kE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Oc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Oa){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==xc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Sl)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ei){if(null!=t&&!Z_(t)||null!=e&&!Z_(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(n.getIndex()instanceof KS||n.getIndex()===ZS,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PE(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Os extends Fo{constructor(t,e){super(t,e,new cE,!1)}get parent(){const t=h$(this._path);return null===t?null:new Os(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ud{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Rn(t),i=dd(this.ref,t);return new ud(this._node.getChild(e),i,ei)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new ud(r,dd(this.ref,i),ei)))}hasChild(t){const e=new Rn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wz(n,t){return(n=(0,x.m9)(n))._checkNotDeleted("ref"),void 0!==t?dd(n._root,t):n._root}function Ez(n,t){(n=(0,x.m9)(n))._checkNotDeleted("refFromURL");const e=PA(t,n._repo.repoInfo_.nodeAdmin);oz("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Pa("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),wz(n,e.path.toString())}function dd(n,t){return null===$t((n=(0,x.m9)(n))._path)?hue("child","path",t,!1):X_("child","path",t,!1),new Os(n._repo,_i(n._path,t))}function FA(n,t){n=(0,x.m9)(n),Ps("set",n._path),La("set",t,n._path,!1);const e=new x.BH;return AA(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Vue(n,t){rz("update",t,n._path,!1);const e=new x.BH;return function bue(n,t,e,i){sp(n,"update",{path:t.toString(),value:e});let r=!0;const o=J_(n),s={};if(Cr(e,(a,l)=>{r=!1,s[a]=ez(_i(t,a),xi(l),n.serverSyncTree_,o)}),r)Er("update() called with empty data.  Don't do anything."),Pc(0,i,"ok",void 0);else{const a=RE(n),l=function Wce(n,t,e,i){!function cce(n,t,e,i){(0,x.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=oA(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ti.fromObject(e);return op(n,new ip({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);AE(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,u)=>{const f="ok"===c;f||Zr("update at "+t+" failed: "+c);const g=kc(n.serverSyncTree_,a,!f),_=g.length>0?ap(n,t):t;rs(n.eventQueue_,_,g),Pc(0,i,c,u)}),Cr(e,c=>{const u=MA(n,_i(t,c));ap(n,u)}),rs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Bue(n){n=(0,x.m9)(n);const t=new OA(()=>{}),e=new ev(t);return function yue(n,t,e){const i=function Qce(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,u)=>{const f=Co(c,e);i=i||Nc(u,f)});let r=n.syncPointTree_.get(e);r?i=i||Nc(r,_n()):(r=new $$,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new Ac(i,!0,!1):null;return function Pce(n){return mE(n.viewCache_)}(z$(r,t,gE(n.pendingWriteTree_,t._path),o?s.getNode():St.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=xi(r).withIndex(t._queryParams.getIndex());let s;if(mA(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=G_(n.serverSyncTree_,t._path,o);else{const a=W_(n.serverSyncTree_,t);s=Z$(n.serverSyncTree_,t._path,o,a)}return rs(n.eventQueue_,t._path,s),CE(n.serverSyncTree_,t,e,null,!0),o},r=>(sp(n,"get for query "+(0,x.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new ud(i,new Os(n._repo,n._path),n._queryParams.getIndex()))}class ev{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new vz("value",this,new ud(t.snapshotNode,new Os(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yz(this,t,e):null}matches(t){return t instanceof ev&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class OE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yz(this,t,e):null}createEvent(t,e){(0,x.hu)(null!=t.childName,"Child events should have a childName.");const i=dd(new Os(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new vz(t.type,this,new ud(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof OE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tv(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=e,c=(u,f)=>{RA(n._repo,n,a),l(u,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const s=new OA(e,o||void 0),a="value"===t?new ev(s):new OE(t,s);return function Tue(n,t,e){let i;i=".info"===$t(t._path)?mA(n.infoSyncTree_,t,e):mA(n.serverSyncTree_,t,e),sz(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>RA(n._repo,n,a)}function LA(n,t,e,i){return tv(n,"value",t,e,i)}function Cz(n,t,e,i){return tv(n,"child_added",t,e,i)}function Iz(n,t,e,i){return tv(n,"child_changed",t,e,i)}function Tz(n,t,e,i){return tv(n,"child_moved",t,e,i)}function xz(n,t,e,i){return tv(n,"child_removed",t,e,i)}function Dz(n,t,e){let i=null;const r=e?new OA(e):null;"value"===t?i=new ev(r):t&&(i=new OE(t,r)),RA(n._repo,n,i)}class na{}class Sz extends na{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){La("endAt",this._value,t._path,!0);const e=XS(t._queryParams,this._value,this._key);if(PE(e),Oc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class jue extends na{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){La("endBefore",this._value,t._path,!1);const e=function Yle(n,t,e){let i;return i=XS(n,t,n.index_===Oa||e?e:xc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(PE(e),Oc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Az extends na{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){La("startAt",this._value,t._path,!0);const e=QS(t._queryParams,this._value,this._key);if(PE(e),Oc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class zue extends na{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){La("startAfter",this._value,t._path,!1);const e=function Zle(n,t,e){let i;return i=QS(n,t,n.index_===Oa||e?e:Sl),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(PE(e),Oc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Wue extends na{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function qle(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Kue extends na{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function Kle(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Yue extends na{constructor(t){super(),this._path=t}_apply(t){kE(t,"orderByChild");const e=new Rn(this._path);if(zt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new KS(e),r=uE(t._queryParams,i);return Oc(r),new Fo(t._repo,t._path,r,!0)}}class Xue extends na{_apply(t){kE(t,"orderByKey");const e=uE(t._queryParams,Oa);return Oc(e),new Fo(t._repo,t._path,e,!0)}}class ede extends na{_apply(t){kE(t,"orderByPriority");const e=uE(t._queryParams,ei);return Oc(e),new Fo(t._repo,t._path,e,!0)}}class nde extends na{_apply(t){kE(t,"orderByValue");const e=uE(t._queryParams,ZS);return Oc(e),new Fo(t._repo,t._path,e,!0)}}class rde extends na{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(La("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sz(this._value,this._key)._apply(new Az(this._value,this._key)._apply(t))}}function ia(n,...t){let e=(0,x.m9)(n);for(const i of t)e=i._apply(e);return e}(function Vce(n){(0,x.hu)(!bE,"__referenceConstructor has already been defined"),bE=n})(Os),function $ce(n){(0,x.hu)(!EE,"__referenceConstructor has already been defined"),EE=n}(Os);const VA={};function BA(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Er("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=PA(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=PA(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new k_(k_.OWNER):new Jae(n.name,n.options,t);oz("Invalid Firebase Database URL",s),zt(s.path)||Pa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function cde(n,t,e,i){let r=VA[t.name];r||(r={},VA[t.name]=r);let o=r[n.toURLString()];return o&&Pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new gue(n,false,e,i),r[n.toURLString()]=o,o}(a,n,u,new Xae(n.name,e));return new dde(f,n)}class dde{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _ue(n,t,e){if(n.stats_=BS(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new dE(n.repoInfo_,(i,r,o,s)=>{uz(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dz(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new od(n.repoInfo_,t,(i,r,o,s)=>{uz(n,i,r,o,s)},i=>{dz(n,i)},i=>{!function vue(n,t){Cr(t,(e,i)=>{SA(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function nle(n,t){const e=n.toString();return VS[e]||(VS[e]=t()),VS[e]}(n.repoInfo_,()=>new nce(n.stats_,n.server_)),n.infoData_=new Qle,n.infoSyncTree_=new K$({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=G_(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),SA(n,"connected",!1),n.serverSyncTree_=new K$({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);rs(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Os(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function lde(n,t){const e=VA[t];(!e||e[n.key]!==n)&&Pa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),fz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Pa("Cannot call "+t+" on a deleted database.")}}function Nz(){e$.IS_TRANSPORT_INITIALIZED&&Zr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function hde(){Nz(),Dc.forceDisallow()}function fde(){Nz(),Xf.forceDisallow(),Dc.forceAllow()}function gde(n,t){PH(n,t)}const vde={".sv":"timestamp"};class wde{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}od.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},od.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function _de(n){NS(Ms.SDK_VERSION),(0,Ms._registerComponent)(new Dl.wA("database",(t,{instanceIdentifier:e})=>BA(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(SH,"1.0.1",n),(0,Ms.registerVersion)(SH,"1.0.1","esm2017")}();const Tde=new is.Yd("@firebase/database-compat"),kz=function(n){Tde.warn("FIREBASE WARNING: "+n)};class Sde{constructor(t){this._delegate=t}cancel(t){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Ade{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),X_("DataSnapshot.child","path",t,!1),new Fc(this._database,this._delegate.child(t))}hasChild(t){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),X_("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Fc(this._database,e)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new os(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Or{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",e,!1);const s=Or.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{e.call(s.context,new Fc(this.database,c),u)};a.userCallback=e,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return LA(this._delegate,a,l),e;case"child_added":return Cz(this._delegate,a,l),e;case"child_removed":return xz(this._delegate,a,l),e;case"child_changed":return Iz(this._delegate,a,l),e;case"child_moved":return Tz(this._delegate,a,l),e;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,x.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,x.Wj)("Query.off","callback",e,!0),(0,x.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Dz(this._delegate,t,r)}else Dz(this._delegate,t)}get(){return Bue(this._delegate).then(t=>new Fc(this.database,t))}once(t,e,i,r){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",e,!0);const o=Or.getCancelAndContextArgs_("Query.once",i,r),s=new x.BH,a=(c,u)=>{const f=new Fc(this.database,c);e&&e.call(o.context,f,u),s.resolve(f)};a.userCallback=e,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":LA(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Cz(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":xz(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Iz(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Tz(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new Or(this.database,ia(this._delegate,function que(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Wue(n)}(t)))}limitToLast(t){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new Or(this.database,ia(this._delegate,function Zue(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kue(n)}(t)))}orderByChild(t){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new Or(this.database,ia(this._delegate,function Que(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return X_("orderByChild","path",n,!1),new Yue(n)}(t)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new Or(this.database,ia(this._delegate,function Jue(){return new Xue}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new Or(this.database,ia(this._delegate,function tde(){return new ede}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new Or(this.database,ia(this._delegate,function ide(){return new nde}()))}startAt(t=null,e){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new Or(this.database,ia(this._delegate,function $ue(n=null,t){return Q_("startAt","key",t,!0),new Az(n,t)}(t,e)))}startAfter(t=null,e){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new Or(this.database,ia(this._delegate,function Gue(n,t){return Q_("startAfter","key",t,!0),new zue(n,t)}(t,e)))}endAt(t=null,e){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new Or(this.database,ia(this._delegate,function Uue(n,t){return Q_("endAt","key",t,!0),new Sz(n,t)}(t,e)))}endBefore(t=null,e){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new Or(this.database,ia(this._delegate,function Hue(n,t){return Q_("endBefore","key",t,!0),new jue(n,t)}(t,e)))}equalTo(t,e){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new Or(this.database,ia(this._delegate,function ode(n,t){return Q_("equalTo","key",t,!0),new rde(n,t)}(t,e)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Or))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,x.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,x.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,x.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new os(this.database,new Os(this._delegate._repo,this._delegate._path))}}class os extends Or{constructor(t,e){super(t,new Fo(e._repo,e._path,new cE,!1)),this.database=t,this._delegate=e}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new os(this.database,dd(this._delegate,t))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new os(this.database,t):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new os(this.database,this._delegate.root)}set(t,e){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",e,!0);const i=FA(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ps("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",e,!0);const i=Vue(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Lue(n,t,e){if(Ps("setWithPriority",n._path),La("setWithPriority",t,n._path,!1),DA("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new x.BH;return AA(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",t,!0);const e=function Oue(n){return Ps("remove",n._path),FA(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,x.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Ede(n,t,e){var i;if(n=(0,x.m9)(n),Ps("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new x.BH,a=LA(n,()=>{});return function Due(n,t,e,i,r,o){sp(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:NH(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=NA(n,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Y_("transaction failed: Data returned ",l,s.path),s.status=0;const c=xE(n.transactionQueueTree_,t),u=cd(c)||[];let f;u.push(s),IA(c,u),"object"==typeof l&&null!==l&&(0,x.r3)(l,".priority")?(f=(0,x.DV)(l,".priority"),(0,x.hu)(Z_(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(IE(n.serverSyncTree_,t)||St.EMPTY_NODE).getPriority().val();const g=J_(n),_=xi(l,f),y=wA(_,a,g);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=RE(n);const b=pA(n.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);rs(n.eventQueue_,t,b),NE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,u)=>{let f=null;l?o.reject(l):(f=new ud(u,new Os(n._repo,n._path),ei),o.resolve(new wde(c,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Ade(o.committed,new Fc(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Fue(n,t){n=(0,x.m9)(n),Ps("setPriority",n._path),DA("setPriority",t,!1);const e=new x.BH;return AA(n._repo,_i(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",e,!0);const i=function Pue(n,t){n=(0,x.m9)(n),Ps("push",n._path),La("push",t,n._path,!0);const e=cz(n._repo),i=kue(e),r=dd(n,i),o=dd(n,i);let s;return s=null!=t?FA(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new os(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new os(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ps("Reference.onDisconnect",this._delegate._path),new Sde(new bz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:hde,forceLongPolling:fde}}useEmulator(t,e,i={}){!function Mz(n,t,e,i={}){(n=(0,x.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pa("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Pa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new k_(k_.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,x.Sg)(i.mockUserToken,n.app.options.projectId);o=new k_(s)}!function ade(n,t,e,i){n.repoInfo_=new FS(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,x.Dv)("database.ref",0,1,arguments.length),t instanceof os){const e=Ez(this._delegate,t.toString());return new os(this,e)}{const e=wz(this._delegate,t);return new os(this,e)}}refFromURL(t){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const i=Ez(this._delegate,t);return new os(this,i)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function pde(n){(n=(0,x.m9)(n))._checkNotDeleted("goOffline"),fz(n._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function mde(n){(n=(0,x.m9)(n))._checkNotDeleted("goOnline"),function xue(n){n.persistentConnection_&&n.persistentConnection_.resume(lz)}(n._repo)}(this._delegate)}}nv.ServerValue={TIMESTAMP:function yde(){return vde}(),increment:n=>function bde(n){return{".sv":{increment:n}}}(n)};var Nde=Object.freeze({__proto__:null,initStandalone:function Rde({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){NS(e);const a=new Dl.H0("database-standalone"),l=new Dl.zt("auth-internal",a);let c;return l.setComponent(new Dl.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new Dl.zt("app-check-internal",a),c.setComponent(new Dl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new nv(BA(n,l,c,t,s),n),namespace:o}}});const Mde=nv.ServerValue;function iv(n,t,e="on",i=Ju){return new it(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(Ie(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),ie())}function Pz(n){return null==n}function Oz(n){return"function"==typeof n.set}function Fz(n,t){return Oz(t)?t:n.ref(t)}function Lz(n,t){if(function Pde(n){return"string"==typeof n}(n))return t.stringCase();if(Oz(n))return t.firebaseCase();if(function Ode(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Vz(n){return(Pz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Bz(n,t,e){return I(...(t=Vz(t)).map(r=>iv(n,r,"on",e)))}function Uz(n,t){return function(i,r){return Lz(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Bde(n){return function(e){return e?Lz(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function jz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Hde(n,t){const{payload:e,prevKey:i,key:r}=t,o=jz(n,r),s=function jde(n,t){if(Pz(t))return 0;{const e=jz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function Hz(n,t,e){return function Ude(n,t,e){return iv(n,"value","once",e).pipe(Ve(i=>{const r=[N(i)];return t.forEach(o=>r.push(iv(n,o,"on",e))),I(...r).pipe(Lf(Hde,[]))}),ot())}(n,t=Vz(t),e)}function $z(n,t){return function(){return iv(n,"value","on",t)}}!function kde(n){n.INTERNAL.registerComponent(new Dl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new nv(r,i)},"PUBLIC").setServiceProps({Reference:os,Query:Or,Database:nv,DataSnapshot:Fc,enableLogging:gde,INTERNAL:Nde,ServerValue:Mde}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(Js.Z);const Gde=new de("angularfire2.realtimeDatabaseURL"),Wde=new de("angularfire2.database.use-emulator");let zz=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,l,c,u,f,g,_,y,b,T){this.schedulers=a;const k=l,S=Jw(e,s,i);c&&AS(S,s,u,g,_,y,f,b),this.database=wS(`${S.name}.database.${r}`,"AngularFireDatabase",S.name,()=>{const V=s.runOutsideAngular(()=>S.database(r||void 0));return k&&V.useEmulator(...k),V},[k])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Fz(this.database,e));let o=r;return i&&(o=i(r)),function $de(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Uz(i,"update"),set:Uz(i,"set"),push:r=>i.push(r),remove:Bde(i),snapshotChanges:r=>Hz(n,r,e).pipe(ar),stateChanges:r=>Bz(n,r,e).pipe(ar),auditTrail:r=>function Fde(n,t,e){return function Vde(n,t,e){return function Lde(n,t){return iv(n,"value","on",t).pipe(Ie(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(eE(t),Ie(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function Bae(n){return se((t,e)=>{let i=!1,r=0;t.subscribe(Se(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ie(r=>r.actions))}(n,Bz(n,t).pipe(Lf((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(ar),valueChanges:(r,o)=>Hz(n,r,e).pipe(Ie(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),ar)}}(o,this)}object(e){return function zde(n,t){return{query:n,snapshotChanges:()=>$z(n,t.schedulers.outsideAngular)().pipe(ar),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>$z(n,t.schedulers.outsideAngular)().pipe(ar,Ie(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Fz(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(O(x_),O(D_,8),O(Gde,8),O(Ts),O(qe),O(bS),O(Wde,8),O(S_,8),O(CS,8),O(IS,8),O(TS,8),O(xS,8),O(DS,8),O(SS,8),O(yS,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),qde=(()=>{class n{constructor(){Js.Z.registerVersion("angularfire",T_.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xe({type:n});static \u0275inj=tt({providers:[zz]})}return n})();class FE{}class LE{}class Fs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Kde{encodeKey(t){return Gz(t)}encodeValue(t){return Gz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Yde=/%(\d[a-f0-9])/gi,Qde={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gz(n){return encodeURIComponent(n).replace(Yde,(t,e)=>Qde[e]??t)}function VE(n){return`${n}`}class Lc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Kde,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zde(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(VE):[VE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Lc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(VE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(VE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Xde{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Wz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qz(n){return typeof Blob<"u"&&n instanceof Blob}function Kz(n){return typeof FormData<"u"&&n instanceof FormData}class rv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Jde(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Fs),this.context||(this.context=new Xde),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Lc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Wz(this.body)||qz(this.body)||Kz(this.body)||function ehe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kz(this.body)?null:qz(this.body)?this.body.type||null:Wz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,g)=>f.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,g)=>f.set(g,t.setParams[g]),c)),new rv(e,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var lp=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lp||{});class UA{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jA extends UA{constructor(t={}){super(t),this.type=lp.ResponseHeader}clone(t={}){return new jA({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cp extends UA{constructor(t={}){super(t),this.type=lp.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zz extends UA{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function HA(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ov=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof rv)o=e;else{let l,c;l=r.headers instanceof Fs?r.headers:new Fs(r.headers),r.params&&(c=r.params instanceof Lc?r.params:new Lc({fromObject:r.params})),o=new rv(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=N(o).pipe(Ff(l=>this.handler.handle(l)));if(e instanceof rv||"events"===r.observe)return s;const a=s.pipe(ci(l=>l instanceof cp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Lc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,HA(r,i))}post(e,i,r={}){return this.request("POST",e,HA(r,i))}put(e,i,r={}){return this.request("PUT",e,HA(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(FE))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function Xz(n,t){return t(n)}function nhe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const rhe=new de(""),sv=new de(""),Jz=new de("");function ohe(){let n=null;return(t,e)=>{null===n&&(n=(Ce(rhe,{optional:!0})??[]).reduceRight(nhe,Xz));const i=Ce(G0),r=i.add();return n(t,e).pipe(Vf(()=>i.remove(r)))}}let e3=(()=>{class n extends FE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ce(G0)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(sv),...this.injector.get(Jz,[])]));this.chain=r.reduceRight((o,s)=>function ihe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),Xz)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Vf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(LE),O(go))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const che=/^\)\]\}',?\n/;let n3=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new z(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?E(i.\u0275loadImpl()):N(null)).pipe(Ve(()=>new it(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,T)=>s.setRequestHeader(b,T.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=s.statusText||"OK",T=new Fs(s.getAllResponseHeaders()),k=function uhe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new jA({headers:T,status:s.status,statusText:b,url:k}),l},u=()=>{let{headers:b,status:T,statusText:k,url:S}=c(),V=null;204!==T&&(V=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=V?200:0);let W=T>=200&&T<300;if("json"===e.responseType&&"string"==typeof V){const ae=V;V=V.replace(che,"");try{V=""!==V?JSON.parse(V):null}catch(xe){V=ae,W&&(W=!1,V={error:xe,text:V})}}W?(o.next(new cp({body:V,headers:b,status:T,statusText:k,url:S||void 0})),o.complete()):o.error(new Zz({error:V,headers:b,status:T,statusText:k,url:S||void 0}))},f=b=>{const{url:T}=c(),k=new Zz({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(k)};let g=!1;const _=b=>{g||(o.next(c()),g=!0);let T={type:lp.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),"text"===e.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},y=b=>{let T={type:lp.UploadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),o.next(T)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:lp.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(HB))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const $A=new de("XSRF_ENABLED"),r3=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),o3=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class s3{}let fhe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=MB(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(Ts),O(r3))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function phe(n,t){const e=n.url.toLowerCase();if(!Ce($A)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ce(s3).getToken(),r=Ce(o3);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Vc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Vc||{});function mhe(...n){const t=[ov,n3,e3,{provide:FE,useExisting:e3},{provide:LE,useExisting:n3},{provide:sv,useValue:phe,multi:!0},{provide:$A,useValue:!0},{provide:s3,useClass:fhe}];for(const e of n)t.push(...e.\u0275providers);return function bx(n){return{\u0275providers:n}}(t)}const a3=new de("LEGACY_INTERCEPTOR_FN");function ghe(){return function hd(n,t){return{\u0275kind:n,\u0275providers:t}}(Vc.LegacyInterceptors,[{provide:a3,useFactory:ohe},{provide:sv,useExisting:a3,multi:!0}])}let _he=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[mhe(ghe())]})}return n})(),l3=(()=>{class n{constructor(e,i){this.realTimeDatabase=e,this.http=i,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.refNotes=e.list("/notes")}getNotes(){return this.refNotes.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}updateNote(e,i){this.refNotes.update(e,i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(zz),O(ov))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Che=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Ji({name:"filter",type:n,pure:!0})}return n})();function Ihe(n,t){1&n&&Qt(0,"span",10)}const The=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function xhe(n,t){if(1&n){const e=Ni();te(0,"div",6)(1,"label",7),st(2,"Keres\xe9s"),ne(),te(3,"input",8),Le("keyup",function(){return Rt(e),It(De().inputClass=!1)})("keypress",function(){return Rt(e),It(De().inputClass=!0)})("ngModelChange",function(r){return Rt(e),It(De().searchWord=r)}),ne(),Te(4,Ihe,1,0,"span",9),ne()}if(2&n){const e=De();oe(3),re("ngClass",j0(3,The,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),oe(1),re("ngIf",e.searchWord)}}function Dhe(n,t){1&n&&Qt(0,"span",19)}function She(n,t){1&n&&Qt(0,"span",20)}const Ahe=function(n,t){return{"btn-success":n,"btn-warning":t}};function Rhe(n,t){if(1&n){const e=Ni();te(0,"form",11)(1,"label",12),st(2,"C\xedm"),ne(),te(3,"input",13),Le("ngModelChange",function(r){return Rt(e),It(De().title=r)}),ne(),te(4,"label",14),st(5,"Tennival\xf3"),ne(),te(6,"textarea",15),Le("ngModelChange",function(r){return Rt(e),It(De().body=r)}),ne(),te(7,"button",16),Le("click",function(){return Rt(e),It(De().createUpdateControl())}),Te(8,Dhe,1,0,"span",17),Te(9,She,1,0,"span",18),st(10),ne()()}if(2&n){const e=De();oe(3),re("ngModel",e.title),oe(3),re("ngModel",e.body),oe(1),re("ngClass",Hu(6,Ahe,e.key,!e.key)),oe(1),re("ngIf",!e.key),oe(1),re("ngIf",e.key),oe(1),gc(" ",e.buttonText,"")}}function Nhe(n,t){if(1&n){const e=Ni();te(0,"div",23)(1,"div",24)(2,"div",25)(3,"h5",26),st(4),ne(),te(5,"p",27),st(6),ne()(),te(7,"div",28),st(8),ID(9,"uppercase"),ne(),te(10,"div",29)(11,"div",30)(12,"span",31),Le("click",function(){const o=Rt(e).$implicit;return It(De(2).putDataToInput(o))}),ne()(),te(13,"div",32)(14,"span",33),Le("click",function(){const o=Rt(e).$implicit;return It(De(2).deleteNote(o))}),ne()()()()()}if(2&n){const e=t.$implicit,i=De(2);oe(4),yr(e.title),oe(2),yr(e.body),oe(2),gc(" ",iV(9,3,i.time)," ")}}function Mhe(n,t){if(1&n&&(te(0,"div",21),Te(1,Nhe,15,5,"div",22),ID(2,"filter"),ne()),2&n){const e=De();oe(1),re("ngForOf",function rV(n,t,e,i){const r=n+Ht,o=pe(),s=ic(o,r);return Qg(o,r)?J2(o,Nr(),t,s.transform,e,i,s):s.transform(e,i)}(2,1,e.notes,e.searchWord))}}const khe=function(n,t){return{fg:n,"text-warning":t}};let Phe=(()=>{class n{constructor(e){this.baseService=e,this.isOpen=!1,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.time="",this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",console.log(this.key)}ngOnInit(){this.baseService.getNotes().subscribe({next:e=>{this.notes=e},error:e=>{console.log(e)}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){this.baseService.createNote({title:this.title,body:this.body}),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}updateNote(){this.baseService.updateNote(this.key,{title:this.title,body:this.body}),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}static#e=this.\u0275fac=function(i){return new(i||n)(R(l3))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-notes"]],decls:6,vars:7,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search text-center me-3 d-flex",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","text-center","me-3","d-flex"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){1&i&&(te(0,"div",0),Te(1,xhe,5,7,"div",1),te(2,"button",2),Le("click",function(){return r.isOpen=!r.isOpen}),Qt(3,"span",3),ne(),Te(4,Rhe,11,9,"form",4),ne(),Te(5,Mhe,3,4,"div",5)),2&i&&(oe(1),re("ngIf",!r.isOpen),oe(2),re("ngClass",Hu(4,khe,r.isOpen,!r.isOpen)),oe(1),re("ngIf",r.isOpen),oe(1),re("ngIf",!r.isUpdating))},dependencies:[uw,Na,ts,Sw,qu,Rf,yw,Zu,Ku,BB,Che],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}"]})}return n})();var av=et(562);const $he=Tae(av.o,!0);let jE=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new w(!1),this.navDisappear=new w(!1),this.httpHeaders=new Fs,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),r?.getIdToken().then(o=>{this.user.idToken=o,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(s=>{s?(this.user.claims=s,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin)):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Fs).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return N({})}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new av.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new av.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new av.R($he(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(S_),O(ov))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zhe=new de("cdk-dir-doc",{providedIn:"root",factory:function Ghe(){return Ce(Et)}}),Whe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let KA,qA=(()=>{class n{constructor(e){this.value="ltr",this.change=new Ye,e&&(this.value=function qhe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Whe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(zhe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();try{KA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{KA=!1}let up,Fr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function jne(n){return n===jB}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ts))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const u3=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d3(){if(up)return up;if("object"!=typeof document||!document)return up=new Set(u3),up;let n=document.createElement("input");return up=new Set(u3.filter(t=>(n.setAttribute("type",t),n.type===t))),up}let cv,fd,ZA;function dp(n){return function Khe(){if(null==cv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cv=!0}))}finally{cv=cv||!1}return cv}()?n:!!n.capture}function Zhe(){if(null==fd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fd=!1,fd;if("scrollBehavior"in document.documentElement.style)fd=!0;else{const n=Element.prototype.scrollTo;fd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fd}function Bc(n){return n.composedPath?n.composedPath()[0]:n.target}function YA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Xhe{constructor(t){this._box=t,this._destroyed=new $,this._resizeSubject=new $,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new it(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ci(e=>e.some(i=>i.target===t)),ES({bufferSize:1,refCount:!0}),en(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Jhe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ce(qe)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Xhe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lo(n){return null!=n&&"false"!=`${n}`}function QA(n,t=0){return function efe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function $E(n){return Array.isArray(n)?n:[n]}function Yi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Uc(n){return n instanceof wt?n.nativeElement:n}class h3{}class tfe{}const Rl="*";function f3(n,t){return{type:7,name:n,definitions:t,options:{}}}function XA(n,t=null){return{type:4,styles:t,timings:n}}function p3(n,t=null){return{type:2,steps:n,options:t}}function hp(n){return{type:6,styles:n,offset:null}}function JA(n,t,e){return{type:0,name:n,styles:t,options:e}}function eR(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class uv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class m3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let nfe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[nfe]})}return n})();function nR(n){return ci((t,e)=>n<=e)}const _3=new Set;let pd,dfe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ffe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function hfe(n,t){if(!_3.has(n))try{pd||(pd=document.createElement("style"),t&&(pd.nonce=t),pd.setAttribute("type","text/css"),document.head.appendChild(pd)),pd.sheet&&(pd.sheet.insertRule(`@media ${n} {body{ }}`,0),_3.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fr),O(Dx,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ffe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pfe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return v3($E(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Rw(v3($E(e)).map(s=>this._registerQuery(s).observable));return o=kf(o.pipe(Zi(1)),o.pipe(nR(1),function ufe(n,t=Ju){return se((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Se(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new it(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Of(i),Ie(({matches:s})=>({query:e,matches:s})),en(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(dfe),O(qe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v3(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function zE(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const b3="cdk-describedby-message",GE="cdk-describedby-host";let iR=0,_fe=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+iR++,this._document=e,this._id=Ce(xg)+"-"+iR++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=rR(i,r);"string"!=typeof i?(w3(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=rR(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${GE}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(GE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");w3(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(rR(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=zE(e,"aria-describedby").filter(r=>0!=r.indexOf(b3));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function mfe(n,t,e){const i=zE(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(GE,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function gfe(n,t,e){const r=zE(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(GE)}_isElementDescribedByMessage(e,i){const r=zE(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(Fr))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rR(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function w3(n,t){n.id||(n.id=`${b3}-${t}-${iR++}`)}function C3(n){return 0===n.buttons||0===n.detail}function I3(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Cfe=new de("cdk-input-modality-detector-options"),Ife={ignoreKeys:[18,17,224,91,16]},fp=dp({passive:!0,capture:!0});let Tfe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(C3(s)?"keyboard":"mouse"),this._mostRecentTarget=Bc(s))},this._onTouchstart=s=>{I3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bc(s))},this._options={...Ife,...o},this.modalityDetected=this._modality.pipe(nR(1)),this.modalityChanged=this.modalityDetected.pipe(ot()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fp),r.addEventListener("mousedown",this._onMousedown,fp),r.addEventListener("touchstart",this._onTouchstart,fp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fp),document.removeEventListener("mousedown",this._onMousedown,fp),document.removeEventListener("touchstart",this._onTouchstart,fp))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fr),O(qe),O(Et),O(Cfe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dfe=new de("cdk-focus-monitor-default-options"),WE=dp({passive:!0,capture:!0});let x3=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=a=>{for(let c=Bc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Uc(e);if(!this._platform.isBrowser||1!==r.nodeType)return N();const o=function Qhe(n){if(function Yhe(){if(null==ZA){const n=typeof document<"u"?document.head:null;ZA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ZA}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new $,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Uc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Uc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Bc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,WE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,WE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(en(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,WE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,WE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(qe),O(Fr),O(Tfe),O(Et,8),O(Dfe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const D3="cdk-high-contrast-black-on-white",S3="cdk-high-contrast-white-on-black",oR="cdk-high-contrast-active";let A3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ce(pfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(oR,D3,S3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(oR,D3):2===i&&e.add(oR,S3)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fr),O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sfe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(O(A3))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[g3]})}return n})();const Rfe=new de("mat-sanity-checks",{providedIn:"root",factory:function Afe(){return!0}});let Yr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!YA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(O(A3),O(Rfe,8),O(Et))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[lv,lv]})}return n})();function M3(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Lo(t)}constructor(...t){super(...t),this._disabled=!1}}}function k3(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function P3(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Lo(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Mfe(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Pfe=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ofe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const O3=dp({passive:!0,capture:!0});class Ffe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Bc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,O3)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,O3)))}}const F3={enterDuration:225,exitDuration:150},L3=dp({passive:!0,capture:!0}),V3=["mousedown","touchstart"],B3=["mouseup","mouseleave","touchend","touchcancel"];class qE{static#e=this._eventManager=new Ffe;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Uc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...F3,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function Vfe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),_=f.transitionDuration,y="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new Ofe(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let T=null;return!y&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(b),S=()=>this._destroyRipple(b);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",S),T={onTransitionEnd:k,onTransitionCancel:S}}),this._activeRipples.set(b,T),(y||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...F3,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Uc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,V3.forEach(i=>{qE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{B3.forEach(e=>{this._triggerElement.addEventListener(e,this,L3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=C3(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!I3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(V3.forEach(e=>qE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&B3.forEach(e=>t.removeEventListener(e,this,L3)))}}const U3=new de("mat-ripple-global-options");let sR=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(qe),R(Fr),R(U3,8),R(Ta,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),j3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,Yr]})}return n})();const H3={capture:!0},$3=["focus","click","mouseenter","touchstart"],aR="mat-ripple-loader-uninitialized",lR="mat-ripple-loader-class-name",z3="mat-ripple-loader-centered",KE="mat-ripple-loader-disabled";let Bfe=(()=>{class n{constructor(){this._document=Ce(Et,{optional:!0}),this._animationMode=Ce(Ta,{optional:!0}),this._globalRippleOptions=Ce(U3,{optional:!0}),this._platform=Ce(Fr),this._ngZone=Ce(qe),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${aR}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of $3)this._document?.addEventListener(e,this._onInteraction,H3)})}ngOnDestroy(){for(const e of $3)this._document?.removeEventListener(e,this._onInteraction,H3)}configureRipple(e,i){e.setAttribute(aR,""),(i.className||!e.hasAttribute(lR))&&e.setAttribute(lR,i.className||""),i.centered&&e.setAttribute(z3,""),i.disabled&&e.setAttribute(KE,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(KE,""):e.removeAttribute(KE)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(lR)),e.append(i);const r=new sR(new wt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(z3),r.disabled=e.hasAttribute(KE),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(aR),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ufe=["notch"],jfe=["matFormFieldNotchedOutline",""],Hfe=["*"],$fe=["textField"],zfe=["iconPrefixContainer"],Gfe=["textPrefixContainer"];function Wfe(n,t){1&n&&Qt(0,"span",19)}function qfe(n,t){if(1&n&&(te(0,"label",17),Ii(1,1),Te(2,Wfe,1,0,"span",18),ne()),2&n){const e=De(2);re("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),on("for",e._control.id),oe(2),re("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Kfe(n,t){1&n&&Te(0,qfe,3,5,"label",16),2&n&&re("ngIf",De()._hasFloatingLabel())}function Zfe(n,t){1&n&&Qt(0,"div",20)}function Yfe(n,t){}function Qfe(n,t){1&n&&Te(0,Yfe,0,0,"ng-template",22),2&n&&(De(2),re("ngTemplateOutlet",Xo(1)))}function Xfe(n,t){if(1&n&&(te(0,"div",21),Te(1,Qfe,1,1,"ng-template",9),ne()),2&n){const e=De();re("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),oe(1),re("ngIf",!e._forceDisplayInfixLabel())}}function Jfe(n,t){1&n&&(te(0,"div",23,24),Ii(2,2),ne())}function epe(n,t){1&n&&(te(0,"div",25,26),Ii(2,3),ne())}function tpe(n,t){}function npe(n,t){1&n&&Te(0,tpe,0,0,"ng-template",22),2&n&&(De(),re("ngTemplateOutlet",Xo(1)))}function ipe(n,t){1&n&&(te(0,"div",27),Ii(1,4),ne())}function rpe(n,t){1&n&&(te(0,"div",28),Ii(1,5),ne())}function ope(n,t){1&n&&Qt(0,"div",29)}function spe(n,t){1&n&&(te(0,"div",30),Ii(1,6),ne()),2&n&&re("@transitionMessages",De()._subscriptAnimationState)}function ape(n,t){if(1&n&&(te(0,"mat-hint",34),st(1),ne()),2&n){const e=De(2);re("id",e._hintLabelId),oe(1),yr(e.hintLabel)}}function lpe(n,t){if(1&n&&(te(0,"div",31),Te(1,ape,2,2,"mat-hint",32),Ii(2,7),Qt(3,"div",33),Ii(4,8),ne()),2&n){const e=De();re("@transitionMessages",e._subscriptAnimationState),oe(1),re("ngIf",e.hintLabel)}}const cpe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],upe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let hv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["mat-label"]]})}return n})();const dpe=new de("MatError");let hpe=0,G3=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+hpe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(_o("id",r.id),on("align",null),ht("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const fpe=new de("MatPrefix"),ppe=new de("MatSuffix"),W3=new de("FloatingLabelParent");let q3=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ce(Jhe),this._ngZone=Ce(qe),this._parent=Ce(W3),this._resizeSubscription=new bt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function mpe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt))};static#t=this.\u0275dir=me({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const K3="mdc-line-ripple--active",ZE="mdc-line-ripple--deactivating";let Z3=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(ZE);"opacity"===r.propertyName&&s&&o.remove(K3,ZE)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ZE),e.add(K3)}deactivate(){this._elementRef.nativeElement.classList.add(ZE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(qe))};static#t=this.\u0275dir=me({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Y3=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(qe))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&sr(Ufe,5),2&i){let o;ft(o=pt())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:jfe,ngContentSelectors:Hfe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(bl(),Qt(0,"div",0),te(1,"div",1,2),Ii(3),ne(),Qt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const gpe={transitionMessages:f3("transitionMessages",[JA("enter",hp({opacity:1,transform:"translateY(0%)"})),eR("void => enter",[hp({opacity:0,transform:"translateY(-5px)"}),XA("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Q3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n})}return n})();const X3=new de("MatFormField"),_pe=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS");let J3=0,cR=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Lo(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+J3++,this._hintLabelId="mat-mdc-hint-"+J3++,this._subscriptAnimationState="",this._destroyed=new $,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(en(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),I(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(en(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(en(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(bo),R(qe),R(qA),R(Fr),R(_pe,8),R(Ta,8),R(Et))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(An(o,hv,5),An(o,hv,7),An(o,Q3,5),An(o,fpe,5),An(o,ppe,5),An(o,dpe,5),An(o,G3,5)),2&i){let s;ft(s=pt())&&(r._labelChildNonStatic=s.first),ft(s=pt())&&(r._labelChildStatic=s.first),ft(s=pt())&&(r._formFieldControl=s.first),ft(s=pt())&&(r._prefixChildren=s),ft(s=pt())&&(r._suffixChildren=s),ft(s=pt())&&(r._errorChildren=s),ft(s=pt())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(sr($fe,5),sr(zfe,5),sr(Gfe,5),sr(q3,5),sr(Y3,5),sr(Z3,5)),2&i){let o;ft(o=pt())&&(r._textField=o.first),ft(o=pt())&&(r._iconPrefixContainer=o.first),ft(o=pt())&&(r._textPrefixContainer=o.first),ft(o=pt())&&(r._floatingLabel=o.first),ft(o=pt())&&(r._notchedOutline=o.first),ft(o=pt())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&ht("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[yn([{provide:X3,useExisting:n},{provide:W3,useExisting:n}])],ngContentSelectors:upe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(bl(cpe),Te(0,Kfe,1,1,"ng-template",null,0,Ss),te(2,"div",1,2),Le("click",function(s){return r._control.onContainerClick(s)}),Te(4,Zfe,1,0,"div",3),te(5,"div",4),Te(6,Xfe,2,2,"div",5),Te(7,Jfe,3,0,"div",6),Te(8,epe,3,0,"div",7),te(9,"div",8),Te(10,npe,1,1,"ng-template",9),Ii(11),ne(),Te(12,ipe,2,0,"div",10),Te(13,rpe,2,0,"div",11),ne(),Te(14,ope,1,0,"div",12),ne(),te(15,"div",13),Te(16,spe,2,1,"div",14),Te(17,lpe,5,2,"div",15),ne()),2&i&&(oe(2),ht("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),oe(2),re("ngIf",!r._hasOutline()&&!r._control.disabled),oe(2),re("ngIf",r._hasOutline()),oe(1),re("ngIf",r._hasIconPrefix),oe(1),re("ngIf",r._hasTextPrefix),oe(2),re("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),oe(2),re("ngIf",r._hasTextSuffix),oe(1),re("ngIf",r._hasIconSuffix),oe(1),re("ngIf",!r._hasOutline()),oe(1),ht("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),re("ngSwitch",r._getDisplayedMessages()),oe(1),re("ngSwitchCase","error"),oe(1),re("ngSwitchCase","hint"))},dependencies:[ts,Gu,dw,LB,G3,q3,Y3,Z3],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[gpe.transitionMessages]},changeDetection:0})}return n})(),uR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,hw,g3,Yr]})}return n})();const bpe=["mat-button",""],wpe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Epe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Cpe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ipe=k3(M3(P3(class{constructor(n){this._elementRef=n}})));let Tpe=(()=>{class n extends Ipe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Lo(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Lo(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Ce(x3),this._rippleLoader=Ce(Bfe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of Cpe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Ng()};static#t=this.\u0275dir=me({type:n,features:[Yt]})}return n})(),dR=(()=>{class n extends Tpe{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(Fr),R(qe),R(Ta,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(on("disabled",r.disabled||null),ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Yt],attrs:bpe,ngContentSelectors:Epe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(bl(wpe),Qt(0,"span",0),Ii(1),te(2,"span",1),Ii(3,1),ne(),Ii(4,2),Qt(5,"span",2)(6,"span",3)),2&i&&ht("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Spe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,j3,Yr]})}return n})();const n4=dp({passive:!0});let Ape=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return pn;const i=Uc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new $,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,n4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,n4)}}),o}stopMonitoring(e){const i=Uc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fr),O(qe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();const Npe=new de("MAT_INPUT_VALUE_ACCESSOR"),Mpe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kpe=0;const Ppe=Mfe(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new $}});let hR=(()=>{class n extends Ppe{get disabled(){return this._disabled}set disabled(e){this._disabled=Lo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Jie.required)??!1}set required(e){this._required=Lo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d3().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Lo(e)}constructor(e,i,r,o,s,a,l,c,u,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+kpe++,this.focused=!1,this.stateChanges=new $,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(y=>d3().has(y)),this._iOSKeyupListener=y=>{const b=y.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const g=this._elementRef.nativeElement,_=g.nodeName.toLowerCase();this._inputValueAccessor=l||g,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Mpe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(Fr),R(Il,10),R(Ku,8),R(Aw,8),R(Pfe),R(Npe,10),R(Ape),R(qe),R(X3,8))};static#t=this.\u0275dir=me({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Le("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(_o("id",r.id)("disabled",r.disabled)("required",r.required),on("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ht("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[yn([{provide:Q3,useExisting:n}]),Yt,Wi]})}return n})(),Ope=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,uR,uR,Rpe,Yr]})}return n})();const Fpe=["addListener","removeListener"],Lpe=["addEventListener","removeEventListener"],Vpe=["on","off"];function Ir(n,t,e,i){if(D(e)&&(i=e,e=void 0),i)return Ir(n,t,e).pipe(A1(i));const[r,o]=function jpe(n){return D(n.addEventListener)&&D(n.removeEventListener)}(n)?Lpe.map(s=>a=>n[s](t,a,e)):function Bpe(n){return D(n.addListener)&&D(n.removeListener)}(n)?Fpe.map(i4(n,t)):function Upe(n){return D(n.on)&&D(n.off)}(n)?Vpe.map(i4(n,t)):[];if(!r&&Wt(n))return qt(s=>Ir(s,t,e))(ye(n));if(!r)throw new TypeError("Invalid event target");return new it(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function i4(n,t){return e=>i=>n[e](t,i)}const fv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=fv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new bt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=fv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=fv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class $pe extends Xw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Hpe extends Qw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(fv.cancelAnimationFrame(e),t._scheduled=void 0)}});let fR,Gpe=1;const YE={};function r4(n){return n in YE&&(delete YE[n],!0)}const Wpe={setImmediate(n){const t=Gpe++;return YE[t]=!0,fR||(fR=Promise.resolve()),fR.then(()=>r4(t)&&n()),t},clearImmediate(n){r4(n)}},{setImmediate:qpe,clearImmediate:Kpe}=Wpe,QE={setImmediate(...n){const{delegate:t}=QE;return(t?.setImmediate||qpe)(...n)},clearImmediate(n){const{delegate:t}=QE;return(t?.clearImmediate||Kpe)(n)},delegate:void 0};new class Ype extends Xw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Zpe extends Qw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=QE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(QE.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function pR(n=0,t,e=vae){let i=-1;return null!=t&&(zn(t)?e=t:i=t),new it(r=>{let o=function Jpe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function o4(n,t=Ju){return function Xpe(n){return se((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Se(e,c=>{i=!0,r=c,o||ye(n(c)).subscribe(o=Se(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>pR(n,t))}let s4=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new it(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(o4(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):N()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ci(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Uc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ir(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(qe),O(Fr),O(Et,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a4=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(o4(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fr),O(qe),O(Et,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),l4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[lv,mR,lv,mR]})}return n})();class gR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class c4 extends gR{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class nme extends gR{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ime extends gR{constructor(t){super(),this.element=t instanceof wt?t.nativeElement:t}}class rme{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof c4?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof nme?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ime?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ome extends rme{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let sme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();const u4=Zhe();class ame{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Yi(-this._previousScrollPosition.left),t.style.top=Yi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),u4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),u4&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class lme{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(ci(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class d4{enable(){}disable(){}attach(){}}function _R(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function h4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class cme{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_R(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ume=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new d4,this.close=s=>new lme(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ame(this._viewportRuler,this._document),this.reposition=s=>new cme(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(s4),O(a4),O(qe),O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class dme{constructor(t){if(this.scrollStrategy=new d4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class hme{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let f4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fme=(()=>{class n extends f4{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(qe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pme=(()=>{class n extends f4{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Bc(o)},this._clickListener=o=>{const s=Bc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(Fr),O(qe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p4=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||YA()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),YA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(Fr))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mme{constructor(t,e,i,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=bt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Yi(this._config.width),t.height=Yi(this._config.height),t.minWidth=Yi(this._config.minWidth),t.minHeight=Yi(this._config.minHeight),t.maxWidth=Yi(this._config.maxWidth),t.maxHeight=Yi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=$E(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(en(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const m4="cdk-overlay-connected-position-bounding-box",gme=/([A-Za-z%]+)$/;class _me{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=bt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(m4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&md(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(m4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=_4(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,_=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,g,_),T=y*b;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=g4(this._overlayRef.getConfig().minHeight),a=g4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_4(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new hme(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,f,g;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),y=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)g=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),y=this._lastBoundingBoxSize.width;u=2*_,f=t.x-_,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-y/2)}return{top:s,left:f,bottom:a,right:g,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Yi(i.height),r.top=Yi(i.top),r.bottom=Yi(i.bottom),r.width=Yi(i.width),r.left=Yi(i.left),r.right=Yi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Yi(o)),s&&(r.maxWidth=Yi(s))}this._lastBoundingBoxSize=i,md(this._boundingBox.style,r)}_resetBoundingBoxStyles(){md(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){md(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();md(i,this._getExactOverlayY(e,t,u)),md(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Yi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Yi(s.maxWidth):o&&(i.maxWidth="")),md(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Yi(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Yi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:h4(t,i),isOriginOutsideView:_R(t,i),isOverlayClipped:h4(e,i),isOverlayOutsideView:_R(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$E(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof wt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function md(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function g4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(gme);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const v4="cdk-global-overlay-wrapper";class vme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(v4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let _="",y="",b="";l?b="flex-start":"center"===u?(b="center",g?y=f:_=f):g?"left"===u||"end"===u?(b="flex-end",_=f):("right"===u||"start"===u)&&(b="flex-start",y=f):"left"===u||"start"===u?(b="flex-start",_=f):("right"===u||"end"===u)&&(b="flex-end",y=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":y,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(v4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let yme=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new vme}flexibleConnectedTo(e){return new _me(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(a4),O(Et),O(Fr),O(p4))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bme=0,XE=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,f,g,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new dme(e);return s.direction=s.direction||this._directionality.value,new mme(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+bme++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ra)),new ome(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(ume),O(p4),O(Ag),O(yme),O(fme),O(qi),O(qe),O(Et),O(qA),O(J0),O(pme),O(Ta,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cme={provide:new de("cdk-connected-overlay-scroll-strategy"),deps:[XE],useFactory:function Eme(n){return()=>n.scrollStrategies.reposition()}};let Ime=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[XE,Cme],imports:[lv,sme,l4,l4]})}return n})();const Tme=["tooltip"],y4=new de("mat-tooltip-scroll-strategy"),Sme={provide:y4,deps:[XE],useFactory:function Dme(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Rme=new de("mat-tooltip-default-options",{providedIn:"root",factory:function Ame(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),b4="tooltip-panel",w4=dp({passive:!0});let Fme=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Lo(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Lo(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=QA(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=QA(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,c,u,f,g,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=g,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new $,this._scrollStrategy=u,this._document=_,g&&(this._showDelay=g.showDelay,this._hideDelay=g.hideDelay,g.position&&(this.position=g.position),g.positionAtOrigin&&(this.positionAtOrigin=g.positionAtOrigin),g.touchGestures&&(this.touchGestures=g.touchGestures)),f.change.pipe(en(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(en(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,w4)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new c4(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof wt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(en(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${b4}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(en(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(en(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!function cfe(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Zi(1),en(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${b4}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,w4)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Ng()};static#t=this.\u0275dir=me({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),E4=(()=>{class n extends Fme{constructor(e,i,r,o,s,a,l,c,u,f,g,_){super(e,i,r,o,s,a,l,c,u,f,g,_),this._tooltipComponent=Vme,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(R(XE),R(wt),R(s4),R(Jo),R(qe),R(Fr),R(_fe),R(x3),R(y4),R(qA,8),R(Rme,8),R(Et))};static#t=this.\u0275dir=me({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Yt]})}return n})(),Lme=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new $,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(R(bo),R(Ta,8))};static#t=this.\u0275dir=me({type:n})}return n})(),Vme=(()=>{class n extends Lme{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(R(bo),R(wt),R(Ta,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&sr(Tme,7),2&i){let o;ft(o=pt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Le("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&dD("zoom",r.isVisible()?1:null)},features:[Yt],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(te(0,"div",0,1),Le("animationend",function(s){return r._handleAnimationEnd(s)}),te(2,"div",2),st(3),ne()()),2&i&&(ht("mdc-tooltip--multiline",r._isMultiline),re("ngClass",r.tooltipClass),oe(3),yr(r.message))},dependencies:[uw],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),Bme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[Sme],imports:[Sfe,hw,Ime,Yr,Yr,mR]})}return n})(),Ume=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password=""}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.router.navigate(["login"]),this.isLoggedIn=""}static#e=this.\u0275fac=function(i){return new(i||n)(R(jE),R(Eo))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-signup"]],decls:14,vars:2,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"h2",1),st(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),ne()(),te(3,"form",2),Le("ngSubmit",function(){return r.createUserWithEmAndPa()}),te(4,"mat-form-field")(5,"mat-label",3),st(6,"Email"),ne(),te(7,"input",4),Le("ngModelChange",function(s){return r.email=s}),ne()(),te(8,"mat-form-field")(9,"mat-label",5),st(10,"Jelsz\xf3"),ne(),te(11,"input",6),Le("ngModelChange",function(s){return r.password=s}),ne()(),te(12,"button",7),st(13,"Regisztr\xe1ci\xf3"),ne()()),2&i&&(oe(7),re("ngModel",r.email),oe(4),re("ngModel",r.password))},dependencies:[Sw,qu,Rf,yw,Zu,Ku,cR,hv,dR,hR,E4],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function jme(n,t){1&n&&(te(0,"div",3)(1,"h2",4),st(2," Bejelentkez\xe9s Email c\xedmmel "),ne()())}function Hme(n,t){if(1&n){const e=Ni();te(0,"form",5),Le("ngSubmit",function(){return Rt(e),It(De().loginWithEmAndPa())}),te(1,"mat-form-field")(2,"mat-label",6),st(3,"Email"),ne(),te(4,"input",7),Le("ngModelChange",function(r){return Rt(e),It(De().email=r)}),ne()(),te(5,"mat-form-field")(6,"mat-label",8),st(7,"Jelsz\xf3"),ne(),te(8,"input",9),Le("ngModelChange",function(r){return Rt(e),It(De().password=r)}),ne()(),te(9,"button",10),st(10,"Bejelentkez\xe9s"),ne(),te(11,"h4",11),st(12," Vagy bejelentkez\xe9s: "),te(13,"a",12),Le("click",function(){Rt(e);const r=De();return r.facebookOrGoogle=!0,It(r.booleanFunction())}),Qt(14,"i",13),ne(),te(15,"a",14),Le("click",function(){Rt(e);const r=De();return r.facebookOrGoogle=!1,It(r.booleanFunction())}),Qt(16,"i",15),ne(),te(17,"button",16),Le("click",function(){Rt(e);const r=De();return r.booleanFunction(),It(r.isPhone=!r.isPhone)}),Qt(18,"span",17),ne()()()}if(2&n){const e=De();oe(4),re("ngModel",e.email),oe(4),re("ngModel",e.password)}}function $me(n,t){if(1&n){const e=Ni();te(0,"div",19)(1,"button",20),Le("click",function(){return Rt(e),It(De(2).loginWithGoogle())}),Qt(2,"i",21),st(3," Bejelentkez\xe9s "),ne()()}if(2&n){const e=De(2);oe(1),re("disabled",!e.facebookOrGoogle)}}function zme(n,t){if(1&n){const e=Ni();te(0,"div",19)(1,"button",22),Le("click",function(){return Rt(e),It(De(2).loginWithFacebook())}),Qt(2,"i",23),st(3," Bejelentkez\xe9s "),ne()()}if(2&n){const e=De(2);oe(1),re("disabled",e.facebookOrGoogle)}}function Gme(n,t){if(1&n&&(vl(0),Te(1,$me,4,1,"div",18),Te(2,zme,4,1,"div",18),yl()),2&n){const e=De();oe(1),re("ngIf",e.emailOrGoogle),oe(1),re("ngIf",e.emailOrGoogle)}}function Wme(n,t){if(1&n){const e=Ni();vl(0),Qt(1,"div",24),te(2,"div",25)(3,"div",26)(4,"input",27),Le("ngModelChange",function(r){return Rt(e),It(De().phoneNumber=r)}),ne(),te(5,"label",28),st(6,"Telefonsz\xe1m"),ne()(),te(7,"div",29),Qt(8,"span",30),ne(),te(9,"div",31)(10,"button",32),Le("click",function(){return Rt(e),It(De().startLoginWithPhoneNumber())}),Qt(11,"i",33),st(12," Bejelentkez\xe9s "),ne()()(),yl()}if(2&n){const e=De();oe(2),re("ngClass",e.isPhone?"d-flex":"d-none"),oe(2),re("ngModel",e.phoneNumber)}}function qme(n,t){if(1&n){const e=Ni();vl(0),te(1,"div",34)(2,"input",35),Le("ngModelChange",function(r){return Rt(e),It(De().verificationCode=r)}),ne(),te(3,"label",36),st(4,"Meger\u0151s\xedt\u0151 k\xf3d"),ne()(),te(5,"div",37)(6,"button",38),Le("click",function(){return Rt(e),It(De().verifyPhoneNumberAndLogin())}),st(7," K\xf3d meger\u0151s\xedt\xe9se "),ne()(),yl()}if(2&n){const e=De();oe(2),re("ngModel",e.verificationCode)}}let Kme=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.router.navigate(["notes"])}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>this.router.navigate(["notes"]))}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate(["notes"]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber(this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=av.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>this.router.navigate(["notes"]))}static#e=this.\u0275fac=function(i){return new(i||n)(R(jE),R(Eo))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],[1,"bi","bi-facebook","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["color","primary","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-facebook"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(Te(0,jme,3,0,"div",0),Te(1,Hme,19,2,"form",1),Te(2,Gme,3,2,"ng-container",2),Te(3,Wme,13,2,"ng-container",2),Te(4,qme,8,1,"ng-container",2)),2&i&&(re("ngIf",!r.emailOrGoogle),oe(1),re("ngIf",!r.emailOrGoogle),oe(1),re("ngIf",r.emailOrGoogle&&!r.isPhone),oe(1),re("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),oe(1),re("ngIf",r.verificationId))},dependencies:[uw,ts,Sw,qu,Rf,yw,Zu,Ku,cR,hv,dR,hR,E4],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:44%;width:20%}"]})}return n})();const Zme=["saveChanges"];function Yme(n,t){if(1&n&&(te(0,"div",3)(1,"b"),st(2),ne()()),2&n){const e=t.$implicit;oe(2),yr(e)}}function Qme(n,t){if(1&n){const e=Ni();te(0,"div",9)(1,"div",3),st(2),ne(),te(3,"div",3),Qt(4,"img",10),ne(),te(5,"div",3),st(6),ne(),te(7,"div",3)(8,"div",11)(9,"input",12),Le("change",function(){const o=Rt(e).$implicit;return It(De(2).changeClaims(o))})("ngModelChange",function(r){return It(Rt(e).$implicit.claims.superAdmin=r)}),ne(),te(10,"label",13),st(11,"Super Admin"),ne()(),te(12,"div",11)(13,"input",12),Le("change",function(){const o=Rt(e).$implicit;return It(De(2).changeClaims(o))})("ngModelChange",function(r){return It(Rt(e).$implicit.claims.admin=r)}),ne(),te(14,"label",13),st(15,"Admin"),ne()(),te(16,"div",11)(17,"input",12),Le("change",function(){const o=Rt(e).$implicit;return It(De(2).changeClaims(o))})("ngModelChange",function(r){return It(Rt(e).$implicit.claims.basic=r)}),ne(),te(18,"label",13),st(19,"Alap jogosults\xe1g"),ne()()()()}if(2&n){const e=t.$implicit;oe(2),yr(e.displayName),oe(2),k0("src",e.profilePicture,vx),oe(2),yr(e.email),oe(3),re("ngModel",e.claims.superAdmin),oe(4),re("ngModel",e.claims.admin),oe(4),re("ngModel",e.claims.basic)}}function Xme(n,t){if(1&n){const e=Ni();vl(0),Te(1,Qme,20,6,"div",4),te(2,"div",5)(3,"div",6)(4,"button",7,8),Le("click",function(){return Rt(e),It(De().save())}),st(6,"Modositasok mentese"),ne()()(),yl()}if(2&n){const e=De();oe(1),re("ngForOf",e.users)}}let Jme=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.router.navigate(["home"])}static#e=this.\u0275fac=function(i){return new(i||n)(R(jE),R(Eo))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&sr(Zme,5),2&i){let o;ft(o=pt())&&(r.saveChanges=o.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(te(0,"div",0),Te(1,Yme,3,1,"div",1),ne(),Te(2,Xme,7,1,"ng-container",2)),2&i&&(oe(1),re("ngForOf",r.columns),oe(1),re("ngIf",r.users))},dependencies:[Na,ts,R1,Rf,Zu]})}return n})();const ege=["*"],ige=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],rge=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],oge=new de("MAT_CARD_CONFIG");let C4=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(R(oge,8))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&ht("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ege,decls:1,vars:0,template:function(i,r){1&i&&(bl(),Ii(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),I4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),T4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),x4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:rge,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(bl(ige),Ii(0),te(1,"div",0),Ii(2,1),ne(),Ii(3,2))},encapsulation:2,changeDetection:0})}return n})(),cge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,hw,Yr]})}return n})();function uge(n,t){if(1&n&&(vl(0),te(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),st(5),ne()(),te(6,"mat-card-content")(7,"p"),st(8),ne()()()(),yl()),2&n){const e=De();oe(5),yr(e.weather.location),oe(3),yr(e.weather.forecast)}}const dge=[{path:"",component:dae},{path:"notes",component:Phe},{path:"signup",component:Ume},{path:"login",component:Kme},{path:"users",component:Jme},{path:"weather",component:(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(R(l3))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),st(3,"Hely neve"),ne(),te(4,"input",2),Le("ngModelChange",function(s){return r.location=s}),ne()(),te(5,"button",3),Le("click",function(){return r.getWeather(r.location)}),st(6,"Keres\xe9s"),ne()(),Te(7,uge,9,2,"ng-container",4)),2&i&&(oe(4),re("ngModel",r.location),oe(3),re("ngIf",r.weather.location))},dependencies:[ts,qu,Rf,Zu,cR,hv,C4,T4,x4,I4,dR,hR]})}return n})()},{path:"**",redirectTo:""}];let hge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[wH.forRoot(dge),wH]})}return n})();function vR(){return se((n,t)=>{let e,i=!1;n.subscribe(Se(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Oe,fge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ra={},yR=yR||{},Ct=fge||self;function JE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function pv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var bR="closure_uid_"+(1e9*Math.random()>>>0),mge=0;function gge(n,t,e){return n.call.apply(n.bind,arguments)}function _ge(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Qr(n,t,e){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gge:_ge).apply(null,arguments)}function eC(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Tr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(i,s)}}function jc(){this.s=this.s,this.o=this.o}jc.prototype.s=!1,jc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pge(n){Object.prototype.hasOwnProperty.call(n,bR)&&n[bR]||(n[bR]=++mge)}(this)},jc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D4=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function wR(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function S4(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(JE(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Xr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var yge=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",()=>{},t),Ct.removeEventListener("test",()=>{},t)}catch{}return n}();function mv(n){return/^[\s\xa0]*$/.test(n)}function tC(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function Va(n){return-1!=tC().indexOf(n)}function ER(n){return ER[" "](n),n}ER[" "]=function(){};var IR,n,wge=Va("Opera"),pp=Va("Trident")||Va("MSIE"),A4=Va("Edge"),CR=A4||pp,R4=Va("Gecko")&&!(-1!=tC().toLowerCase().indexOf("webkit")&&!Va("Edge"))&&!(Va("Trident")||Va("MSIE"))&&!Va("Edge"),Ege=-1!=tC().toLowerCase().indexOf("webkit")&&!Va("Edge");function N4(){var n=Ct.document;return n?n.documentMode:void 0}e:{var TR="",xR=(n=tC(),R4?/rv:([^\);]+)(\)|;)/.exec(n):A4?/Edge\/([\d\.]+)/.exec(n):pp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ege?/WebKit\/(\S+)/.exec(n):wge?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xR&&(TR=xR?xR[1]:""),pp){var DR=N4();if(null!=DR&&DR>parseFloat(TR)){IR=String(DR);break e}}IR=TR}var Cge=Ct.document&&pp&&(N4()||parseInt(IR,10))||void 0;function gv(n,t){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(R4){e:{try{ER(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ige[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gv.$.h.call(this)}}Tr(gv,Xr);var Ige={2:"touch",3:"pen",4:"mouse"};gv.prototype.h=function(){gv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _v="closure_listenable_"+(1e6*Math.random()|0),Tge=0;function xge(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Tge,this.fa=this.ia=!1}function nC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AR(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function k4(n){const t={};for(const e in n)t[e]=n[e];return t}const P4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O4(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<P4.length;o++)e=P4[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function iC(n){this.src=n,this.g={},this.h=0}function RR(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=D4(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(nC(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function NR(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}iC.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=NR(n,t,i,r);return-1<s?(t=n[s],e||(t.ia=!1)):((t=new xge(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var MR="closure_lm_"+(1e6*Math.random()|0),kR={};function F4(n,t,e,i,r){if(i&&i.once)return V4(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)F4(n,t[o],e,i,r);return null}return e=LR(e),n&&n[_v]?n.O(t,e,pv(i)?!!i.capture:!!i,r):L4(n,t,e,!1,i,r)}function L4(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=pv(r)?!!r.capture:!!r,a=OR(n);if(a||(n[MR]=a=new iC(n)),(e=a.add(t,e,i,s,o)).proxy)return e;if(i=function Sge(){const t=Age;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yge||(r=s),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(U4(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function V4(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)V4(n,t[o],e,i,r);return null}return e=LR(e),n&&n[_v]?n.P(t,e,pv(i)?!!i.capture:!!i,r):L4(n,t,e,!0,i,r)}function B4(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)B4(n,t[o],e,i,r);else i=pv(i)?!!i.capture:!!i,e=LR(e),n&&n[_v]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=NR(o=n.g[t],e,i,r))&&(nC(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=OR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=NR(t,e,i,r)),(e=-1<n?t[n]:null)&&PR(e))}function PR(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[_v])RR(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(U4(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=OR(t))?(RR(e,n),0==e.h&&(e.src=null,t[MR]=null)):nC(n)}}}function U4(n){return n in kR?kR[n]:kR[n]="on"+n}function Age(n,t){if(n.fa)n=!0;else{t=new gv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&PR(n),n=e.call(i,t)}return n}function OR(n){return(n=n[MR])instanceof iC?n:null}var FR="__closure_events_fn_"+(1e9*Math.random()>>>0);function LR(n){return"function"==typeof n?n:(n[FR]||(n[FR]=function(t){return n.handleEvent(t)}),n[FR])}function xr(){jc.call(this),this.i=new iC(this),this.S=this,this.J=null}function Lr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Xr(t,n);else if(t instanceof Xr)t.target=t.target||n;else{var r=t;O4(t=new Xr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=rC(s,i,!0,t)&&r}if(r=rC(s=t.g=n,i,!0,t)&&r,r=rC(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=rC(s=t.g=e[o],i,!1,t)&&r}function rC(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,l=s.la||s.src;s.ia&&RR(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Tr(xr,jc),xr.prototype[_v]=!0,xr.prototype.removeEventListener=function(n,t,e,i){B4(this,n,t,e,i)},xr.prototype.N=function(){if(xr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)nC(e[i]);delete n.g[t],n.h--}}this.J=null},xr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},xr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var VR=Ct.JSON.stringify;function Nge(){var n=BR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var j4=new class Rge{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kge,n=>n.reset());class kge{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Pge(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Oge(n){Ct.setTimeout(()=>{throw n},0)}let vv,yv=!1,BR=new class Mge{constructor(){this.h=this.g=null}add(t,e){const i=j4.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},H4=()=>{const n=Ct.Promise.resolve(void 0);vv=()=>{n.then(Fge)}};var Fge=()=>{for(var n;n=Nge();){try{n.h.call(n.g)}catch(e){Oge(e)}var t=j4;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}yv=!1};function oC(n,t){xr.call(this),this.h=n||1,this.g=t||Ct,this.j=Qr(this.qb,this),this.l=Date.now()}function UR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function jR(n,t,e){if("function"==typeof n)e&&(n=Qr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ct.setTimeout(n,t||0)}function $4(n){n.g=jR(()=>{n.g=null,n.i&&(n.i=!1,$4(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Tr(oC,xr),(Oe=oC.prototype).ga=!1,Oe.T=null,Oe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lr(this,"tick"),this.ga&&(UR(this),this.start()))}},Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oe.N=function(){oC.$.N.call(this),UR(this),delete this.g};class Lge extends jc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:$4(this)}N(){super.N(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bv(n){jc.call(this),this.h=n,this.g={}}Tr(bv,jc);var z4=[];function G4(n,t,e,i){Array.isArray(e)||(e&&(z4[0]=e.toString()),e=z4);for(var r=0;r<e.length;r++){var o=F4(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function W4(n){AR(n.g,function(t,e){this.g.hasOwnProperty(e)&&PR(t)},n),n.g={}}function sC(){this.g=!0}function mp(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function jge(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return VR(e)}catch{return t}}(n,e)+(i?" "+i:"")})}bv.prototype.N=function(){bv.$.N.call(this),W4(this)},bv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sC.prototype.Ea=function(){this.g=!1},sC.prototype.info=function(){};var gd={},q4=null;function aC(){return q4=q4||new xr}function K4(n){Xr.call(this,gd.Ta,n)}function wv(n){const t=aC();Lr(t,new K4(t))}function Z4(n,t){Xr.call(this,gd.STAT_EVENT,n),this.stat=t}function Io(n){const t=aC();Lr(t,new Z4(t,n))}function Y4(n,t){Xr.call(this,gd.Ua,n),this.size=t}function Ev(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},t)}gd.Ta="serverreachability",Tr(K4,Xr),gd.STAT_EVENT="statevent",Tr(Z4,Xr),gd.Ua="timingevent",Tr(Y4,Xr);var lC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Q4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HR(){}function J4(){}HR.prototype.h=null;var GR,Cv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $R(){Xr.call(this,"d")}function zR(){Xr.call(this,"c")}function cC(){}function Iv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new bv(this),this.P=Hge,this.V=new oC(n=CR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e5}function e5(){this.i=null,this.g="",this.h=!1}Tr($R,Xr),Tr(zR,Xr),Tr(cC,HR),cC.prototype.g=function(){return new XMLHttpRequest},cC.prototype.i=function(){return{}},GR=new cC;var Hge=45e3,WR={},uC={};function qR(n,t,e){n.L=1,n.v=pC(Nl(t)),n.s=e,n.S=!0,t5(n,null)}function t5(n,t){n.G=Date.now(),Tv(n),n.A=Nl(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),h5(e.i,"t",i),n.C=0,e=n.l.J,n.h=new e5,n.g=F5(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Lge(Qr(n.Pa,n,n.g),n.O)),G4(n.U,n.g,"readystatechange",n.nb),t=n.I?k4(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),wv(),function Vge(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&"type"==f[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function n5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function r5(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=$ge(n,e),r==uC){4==t&&(n.o=4,Io(14),i=!1),mp(n.j,n.m,null,"[Incomplete Response]");break}if(r==WR){n.o=4,Io(15),mp(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}mp(n.j,n.m,r,null),KR(n,r)}n5(n)&&r!=uC&&r!=WR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Io(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),tN(t),t.M=!0,Io(11))):(mp(n.j,n.m,e,"[Invalid Chunked Response]"),_d(n),xv(n))}function $ge(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?uC:(e=Number(t.substring(e,i)),isNaN(e)?WR:(i+=1)+e>t.length?uC:(t=t.slice(i,i+e),n.C=i+e,t))}function Tv(n){n.Y=Date.now()+n.P,o5(n,n.P)}function o5(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ev(Qr(n.lb,n),t)}function dC(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function xv(n){0==n.l.H||n.J||M5(n.l,n)}function _d(n){dC(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,UR(n.V),W4(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function KR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||ZR(e.i,n)))if(!n.K&&ZR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;bC(e),vC(e)}eN(e),Io(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Ev(Qr(e.ib,e),6e3));if(1>=m5(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else yd(e,11)}else if((n.K||e.g==n)&&bC(e),!mv(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const f=c[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const g=c[5];null!=g&&"number"==typeof g&&0<g&&(e.L=i=1.5*g,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const y=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(YR(o,o.h),o.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,ui(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=n;if((i=e).wa=O5(i,i.J?i.pa:null,i.Y),s.K){g5(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(dC(a),Tv(a)),i.g=s}else R5(i);0<e.j.length&&yC(e)}else"stop"!=c[0]&&"close"!=c[0]||yd(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?yd(e,7):JR(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}wv()}catch{}}function s5(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(JE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Gge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(JE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function zge(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(JE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Oe=Iv.prototype).setTimeout=function(n){this.P=n},Oe.nb=function(n){n=n.target;const t=this.M;t&&3==Ba(n)?t.l():this.Pa(n)},Oe.Pa=function(n){try{if(n==this.g)e:{const u=Ba(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||CR||this.g&&(this.h.h||this.g.ja()||I5(this.g)))){this.J||4!=u||7==t||wv(),dC(this);var e=this.g.da();this.ca=e;t:if(n5(this)){var i=I5(this.g);n="";var r=i.length,o=4==Ba(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_d(this),xv(this);var s="";break t}this.h.i=new Ct.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function Bge(n,t,e,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mv(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,Io(12),_d(this),xv(this);break e}mp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KR(this,e)}this.S?(r5(this,u,s),CR&&this.i&&3==u&&(G4(this.U,this.V,"tick",this.mb),this.V.start())):(mp(this.j,this.m,s,null),KR(this,s)),4==u&&_d(this),this.i&&!this.J&&(4==u?M5(this.l,this):(this.i=!1,Tv(this)))}else(function c_e(n){const t={};n=(n.g&&2<=Ba(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(mv(n[i]))continue;var e=Pge(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function Dge(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),_d(this),xv(this)}}}catch{}},Oe.mb=function(){if(this.g){var n=Ba(this.g),t=this.g.ja();this.C<t.length&&(dC(this),r5(this,n,t),this.i&&4!=n&&Tv(this))}},Oe.cancel=function(){this.J=!0,_d(this)},Oe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Uge(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(wv(),Io(17)),_d(this),this.o=2,xv(this)):o5(this,this.Y-n)};var a5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof vd){this.h=n.h,hC(this,n.j),this.s=n.s,this.g=n.g,fC(this,n.m),this.l=n.l;var t=n.i,e=new Av;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),l5(this,e),this.o=n.o}else n&&(t=String(n).match(a5))?(this.h=!1,hC(this,t[1]||"",!0),this.s=Dv(t[2]||""),this.g=Dv(t[3]||"",!0),fC(this,t[4]),this.l=Dv(t[5]||"",!0),l5(this,t[6]||"",!0),this.o=Dv(t[7]||"")):(this.h=!1,this.i=new Av(null,this.h))}function Nl(n){return new vd(n)}function hC(n,t,e){n.j=e?Dv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function fC(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function l5(n,t,e){t instanceof Av?(n.i=t,function Xge(n,t){t&&!n.j&&(Hc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(u5(this,i),h5(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Sv(t,Yge)),n.i=new Av(t,n.h))}function ui(n,t,e){n.i.set(t,e)}function pC(n){return ui(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,qge),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Sv(t,c5,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Sv(t,c5,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Sv(e,"/"==e.charAt(0)?Zge:Kge,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Sv(e,Qge)),n.join("")};var c5=/[#\/\?@]/g,Kge=/[#\?:]/g,Zge=/[#\?]/g,Yge=/[#\?@]/g,Qge=/#/g;function Av(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Hc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Wge(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function u5(n,t){Hc(n),t=gp(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function d5(n,t){return Hc(n),t=gp(n,t),n.g.has(t)}function h5(n,t,e){u5(n,t),0<e.length&&(n.i=null,n.g.set(gp(n,t),wR(e)),n.h+=e.length)}function gp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function f5(n){this.l=n||e_e,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ka&&Ct.g.Ka()&&Ct.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Oe=Av.prototype).add=function(n,t){Hc(this),this.i=null,n=gp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Oe.forEach=function(n,t){Hc(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Oe.ta=function(){Hc(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Oe.Z=function(n){Hc(this);let t=[];if("string"==typeof n)d5(this,n)&&(t=t.concat(this.g.get(gp(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Oe.set=function(n,t){return Hc(this),this.i=null,d5(this,n=gp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Oe.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var e_e=10;function p5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function m5(n){return n.h?1:n.g?n.g.size:0}function ZR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function YR(n,t){n.g?n.g.add(t):n.h=t}function g5(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function _5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return wR(n.i)}f5.prototype.cancel=function(){if(this.i=_5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var t_e=class{stringify(n){return Ct.JSON.stringify(n,void 0)}parse(n){return Ct.JSON.parse(n,void 0)}};function n_e(){this.g=new t_e}function i_e(n,t,e){const i=e||"";try{s5(n,function(r,o){let s=r;pv(r)&&(s=VR(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mC(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Rv(n){this.l=n.ec||null,this.j=n.ob||!1}function gC(n,t){xr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=QR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tr(Rv,HR),Rv.prototype.g=function(){return new gC(this.l,this.j)},Rv.prototype.i=function(n){return function(){return n}}({}),Tr(gC,xr);var QR=0;function v5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Nv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mv(n)}function Mv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Oe=gC.prototype).open=function(n,t){if(this.readyState!=QR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Mv(this)},Oe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Ct).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nv(this)),this.readyState=QR},Oe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mv(this)),this.g&&(this.readyState=3,Mv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Oe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Nv(this):Mv(this),3==this.readyState&&v5(this)}},Oe.Za=function(n){this.g&&(this.response=this.responseText=n,Nv(this))},Oe.Ya=function(n){this.g&&(this.response=n,Nv(this))},Oe.ka=function(){this.g&&Nv(this)},Oe.setRequestHeader=function(n,t){this.v.append(n,t)},Oe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Oe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(gC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var o_e=Ct.JSON.parse;function Pi(n){xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y5,this.L=this.M=!1}Tr(Pi,xr);var y5="",s_e=/^https?$/i,a_e=["POST","PUT"];function b5(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,w5(n),_C(n)}function w5(n){n.F||(n.F=!0,Lr(n,"complete"),Lr(n,"error"))}function E5(n){if(n.h&&typeof yR<"u"&&(!n.C[1]||4!=Ba(n)||2!=n.da()))if(n.v&&4==Ba(n))jR(n.La,0,n);else if(Lr(n,"readystatechange"),4==Ba(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===s){var r=String(n.I).match(a5)[1]||null;!r&&Ct.self&&Ct.self.location&&(r=Ct.self.location.protocol.slice(0,-1)),i=!s_e.test(r?r.toLowerCase():"")}e=i}if(e)Lr(n,"complete"),Lr(n,"success");else{n.m=6;try{var o=2<Ba(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",w5(n)}}finally{_C(n)}}}function _C(n,t){if(n.g){C5(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Lr(n,"ready");try{e.onreadystatechange=i}catch{}}}function C5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Ba(n){return n.g?n.g.readyState:0}function I5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case y5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function T5(n){let t="";return AR(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function XR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=T5(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ui(n,t,e))}function kv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function x5(n){this.Ga=0,this.j=[],this.l=new sC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kv("baseRetryDelayMs",5e3,n),this.hb=kv("retryDelaySeedMs",1e4,n),this.eb=kv("forwardChannelMaxRetries",2,n),this.xa=kv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new f5(n&&n.concurrentRequestLimit),this.Ja=new n_e,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function JR(n){if(D5(n),3==n.H){var t=n.W++,e=Nl(n.I);if(ui(e,"SID",n.K),ui(e,"RID",t),ui(e,"TYPE","terminate"),Pv(n,e),(t=new Iv(n,n.l,t)).L=2,t.v=pC(Nl(e)),e=!1,Ct.navigator&&Ct.navigator.sendBeacon)try{e=Ct.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Ct.Image&&((new Image).src=t.v,e=!0),e||(t.g=F5(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Tv(t)}P5(n)}function vC(n){n.g&&(tN(n),n.g.cancel(),n.g=null)}function D5(n){vC(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),bC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function yC(n){if(!p5(n.i)&&!n.m){n.m=!0;var t=n.Na;vv||H4(),yv||(vv(),yv=!0),BR.add(t,n),n.C=0}}function S5(n,t){var e;e=t?t.m:n.W++;const i=Nl(n.I);ui(i,"SID",n.K),ui(i,"RID",e),ui(i,"AID",n.V),Pv(n,i),n.o&&n.s&&XR(i,n.o,n.s),e=new Iv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=A5(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),YR(n.i,e),qR(e,i,t)}function Pv(n,t){n.na&&AR(n.na,function(e,i){ui(t,i,e)}),n.h&&s5({},function(e,i){ui(t,i,e)})}function A5(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Qr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{i_e(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function R5(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;vv||H4(),yv||(vv(),yv=!0),BR.add(t,n),n.A=0}}function eN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ev(Qr(n.Ma,n),k5(n,n.A)),n.A++,0))}function tN(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function N5(n){n.g=new Iv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Nl(n.wa);ui(t,"RID","rpc"),ui(t,"SID",n.K),ui(t,"AID",n.V),ui(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ui(t,"TO",n.qa),ui(t,"TYPE","xmlhttp"),Pv(n,t),n.o&&n.s&&XR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=pC(Nl(t)),e.s=null,e.S=!0,t5(e,n)}function bC(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function M5(n,t){var e=null;if(n.g==t){bC(n),tN(n),n.g=null;var i=2}else{if(!ZR(n.i,t))return;e=t.F,g5(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Lr(i=aC(),new Y4(i,e)),yC(n)}else R5(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function u_e(n,t){return!(m5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ev(Qr(n.Na,n,t),k5(n,n.C)),n.C++,0)))}(n,t)||2==i&&eN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:yd(n,5);break;case 4:yd(n,10);break;case 3:yd(n,6);break;default:yd(n,2)}}function k5(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function yd(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Qr(n.pb,n);e||(e=new vd("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||hC(e,"https"),pC(e)),function r_e(n,t){const e=new sC;if(Ct.Image){const i=new Image;i.onload=eC(mC,e,i,"TestLoadImage: loaded",!0,t),i.onerror=eC(mC,e,i,"TestLoadImage: error",!1,t),i.onabort=eC(mC,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=eC(mC,e,i,"TestLoadImage: timeout",!1,t),Ct.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Io(2);n.H=0,n.h&&n.h.za(t),P5(n),D5(n)}function P5(n){if(n.H=0,n.ma=[],n.h){const t=_5(n.i);(0!=t.length||0!=n.j.length)&&(S4(n.ma,t),S4(n.ma,n.j),n.i.i.length=0,wR(n.j),n.j.length=0),n.h.ya()}}function O5(n,t,e){var i=e instanceof vd?Nl(e):new vd(e);if(""!=i.g)t&&(i.g=t+"."+i.g),fC(i,i.m);else{var r=Ct.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new vd(null);i&&hC(o,i),t&&(o.g=t),r&&fC(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&ui(i,e,t),ui(i,"VER",n.ra),Pv(n,i),i}function F5(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pi(e&&n.Ha&&!n.va?new Rv({ob:!0}):n.va)).Oa(n.J),t}function L5(){}function wC(){if(pp&&!(10<=Number(Cge)))throw Error("Environmental error: no available transport.")}function ss(n,t){xr.call(this),this.g=new x5(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!mv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mv(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new _p(this)}function V5(n){$R.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function B5(){zR.call(this),this.status=1}function _p(n){this.g=n}function oa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nN(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],s=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function kn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Oe=Pi.prototype).Oa=function(n){this.M=n},Oe.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GR.g(),this.C=function X4(n){return n.h||(n.h=n.i())}(this.u?this.u:GR),this.g.onreadystatechange=Qr(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void b5(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Ct.FormData&&n instanceof Ct.FormData,!(0<=D4(a_e,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C5(this),0<this.B&&((this.L=function l_e(n){return pp&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.ua,this)):this.A=jR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){b5(this,o)}},Oe.ua=function(){typeof yR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},Oe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Lr(this,"complete"),Lr(this,"abort"),_C(this))},Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_C(this,!0)),Pi.$.N.call(this)},Oe.La=function(){this.s||(this.G||this.v||this.l?E5(this):this.kb())},Oe.kb=function(){E5(this)},Oe.isActive=function(){return!!this.g},Oe.da=function(){try{return 2<Ba(this)?this.g.status:-1}catch{return-1}},Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Oe.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),o_e(t)}},Oe.Ia=function(){return this.m},Oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oe=x5.prototype).ra=8,Oe.H=1,Oe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Iv(this,this.l,n);let o=this.s;if(this.U&&(o?(o=k4(o),O4(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=A5(this,r,t),ui(e=Nl(this.I),"RID",n),ui(e,"CVER",22),this.F&&ui(e,"X-HTTP-Session-Id",this.F),Pv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(T5(o)))+"&"+t:this.o&&XR(e,this.o,o)),YR(this.i,r),this.bb&&ui(e,"TYPE","init"),this.P?(ui(e,"$req",t),ui(e,"SID","null"),r.aa=!0,qR(r,e,null)):qR(r,e,t),this.H=2}}else 3==this.H&&(n?S5(this,n):0==this.j.length||p5(this.i)||S5(this))},Oe.Ma=function(){if(this.u=null,N5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ev(Qr(this.jb,this),n)}},Oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Io(10),vC(this),N5(this))},Oe.ib=function(){null!=this.v&&(this.v=null,vC(this),eN(this),Io(19))},Oe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Io(2)):(this.l.info("Failed to ping google.com"),Io(1))},Oe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Oe=L5.prototype).Ba=function(){},Oe.Aa=function(){},Oe.za=function(){},Oe.ya=function(){},Oe.isActive=function(){return!0},Oe.Va=function(){},wC.prototype.g=function(n,t){return new ss(n,t)},Tr(ss,xr),ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Io(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=O5(n,null,n.Y),yC(n)},ss.prototype.close=function(){JR(this.g)},ss.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=VR(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&yC(t)},ss.prototype.N=function(){this.g.h=null,delete this.j,JR(this.g),delete this.g,ss.$.N.call(this)},Tr(V5,$R),Tr(B5,zR),Tr(_p,L5),_p.prototype.Ba=function(){Lr(this.g,"a")},_p.prototype.Aa=function(n){Lr(this.g,new V5(n))},_p.prototype.za=function(n){Lr(this.g,new B5)},_p.prototype.ya=function(){Lr(this.g,"b")},Tr(oa,function d_e(){this.blockSize=-1}),oa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oa.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)nN(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){nN(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){nN(this,i),r=0;break}}this.h=r,this.i+=t},oa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var h_e={};function iN(n){return-128<=n&&128>n?function bge(n,t){var e=h_e;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new kn([0|t],0>t?-1:0)}):new kn([0|n],0>n?-1:0)}function Ua(n){if(isNaN(n)||!isFinite(n))return vp;if(0>n)return Vr(Ua(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=rN;return new kn(t,0)}var rN=4294967296,vp=iN(0),oN=iN(1),j5=iN(16777216);function Ml(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ls(n){return-1==n.h}function Vr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new kn(e,~n.h).add(oN)}function EC(n,t){return n.add(Vr(t))}function CC(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Ov(n,t){this.g=n,this.h=t}function IC(n,t){if(Ml(t))throw Error("division by zero");if(Ml(n))return new Ov(vp,vp);if(Ls(n))return t=IC(Vr(n),t),new Ov(Vr(t.g),Vr(t.h));if(Ls(t))return t=IC(n,Vr(t)),new Ov(Vr(t.g),t.h);if(30<n.g.length){if(Ls(n)||Ls(t))throw Error("slowDivide_ only works with positive integers.");for(var e=oN,i=t;0>=i.X(n);)e=H5(e),i=H5(i);var r=yp(e,1),o=yp(i,1);for(i=yp(i,2),e=yp(e,2);!Ml(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(e),o=s),i=yp(i,1),e=yp(e,1)}return t=EC(n,r.R(t)),new Ov(r,t)}for(r=vp;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ua(e)).R(t);Ls(s)||0<s.X(n);)s=(o=Ua(e-=i)).R(t);Ml(o)&&(o=oN),r=r.add(o),n=EC(n,s)}return new Ov(r,n)}function H5(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new kn(e,n.h)}function yp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new kn(r,n.h)}(Oe=kn.prototype).ea=function(){if(Ls(this))return-Vr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:rN+i)*t,t*=rN}return n},Oe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ml(this))return"0";if(Ls(this))return"-"+Vr(this).toString(n);for(var t=Ua(Math.pow(n,6)),e=this,i="";;){var r=IC(e,t).g,o=((0<(e=EC(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Ml(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Oe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Oe.X=function(n){return Ls(n=EC(this,n))?-1:Ml(n)?0:1},Oe.abs=function(){return Ls(this)?Vr(this):this},Oe.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new kn(e,-2147483648&e[e.length-1]?-1:0)},Oe.R=function(n){if(Ml(this)||Ml(n))return vp;if(Ls(this))return Ls(n)?Vr(this).R(Vr(n)):Vr(Vr(this).R(n));if(Ls(n))return Vr(this.R(Vr(n)));if(0>this.X(j5)&&0>n.X(j5))return Ua(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=s*l,CC(e,2*i+2*r),e[2*i+2*r+1]+=o*l,CC(e,2*i+2*r+1),e[2*i+2*r+1]+=s*a,CC(e,2*i+2*r+1),e[2*i+2*r+2]+=o*a,CC(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new kn(e,0)},Oe.gb=function(n){return IC(this,n).h},Oe.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new kn(e,this.h&n.h)},Oe.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new kn(e,this.h|n.h)},Oe.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new kn(e,this.h^n.h)},wC.prototype.createWebChannel=wC.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,lC.NO_ERROR=0,lC.TIMEOUT=8,lC.HTTP_ERROR=6,Q4.COMPLETE="complete",J4.EventType=Cv,Cv.OPEN="a",Cv.CLOSE="b",Cv.ERROR="c",Cv.MESSAGE="d",xr.prototype.listen=xr.prototype.O,Pi.prototype.listenOnce=Pi.prototype.P,Pi.prototype.getLastError=Pi.prototype.Sa,Pi.prototype.getLastErrorCode=Pi.prototype.Ia,Pi.prototype.getStatus=Pi.prototype.da,Pi.prototype.getResponseJson=Pi.prototype.Wa,Pi.prototype.getResponseText=Pi.prototype.ja,Pi.prototype.send=Pi.prototype.ha,Pi.prototype.setWithCredentials=Pi.prototype.Oa,oa.prototype.digest=oa.prototype.l,oa.prototype.reset=oa.prototype.reset,oa.prototype.update=oa.prototype.j,kn.prototype.add=kn.prototype.add,kn.prototype.multiply=kn.prototype.R,kn.prototype.modulo=kn.prototype.gb,kn.prototype.compare=kn.prototype.X,kn.prototype.toNumber=kn.prototype.ea,kn.prototype.toString=kn.prototype.toString,kn.prototype.getBits=kn.prototype.D,kn.fromNumber=Ua,kn.fromString=function U5(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Vr(U5(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Ua(Math.pow(t,8)),i=vp,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),t);8>o?(o=Ua(Math.pow(t,o)),i=i.R(o).add(Ua(s))):i=(i=i.R(e)).add(Ua(s))}return i};var f_e=ra.createWebChannelTransport=function(){return new wC},p_e=ra.getStatEventTarget=function(){return aC()},sN=ra.ErrorCode=lC,m_e=ra.EventType=Q4,g_e=ra.Event=gd,$5=ra.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},__e=ra.FetchXmlHttpFactory=Rv,TC=ra.WebChannel=J4,v_e=ra.XhrIo=Pi,y_e=ra.Md5=oa,bp=ra.Integer=kn;const z5="@firebase/firestore";class Dr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let wp="10.5.2";const $c=new is.Yd("@firebase/firestore");function Ep(){return $c.logLevel}function Ee(n,...t){if($c.logLevel<=is.in.DEBUG){const e=t.map(aN);$c.debug(`Firestore (${wp}): ${n}`,...e)}}function Ui(n,...t){if($c.logLevel<=is.in.ERROR){const e=t.map(aN);$c.error(`Firestore (${wp}): ${n}`,...e)}}function Vo(n,...t){if($c.logLevel<=is.in.WARN){const e=t.map(aN);$c.warn(`Firestore (${wp}): ${n}`,...e)}}function aN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function je(n="Unexpected state"){const t=`FIRESTORE (${wp}) INTERNAL ASSERTION FAILED: `+n;throw Ui(t),new Error(t)}function Qe(n,t){n||je()}function Re(n,t){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends x.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class G5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Dr.UNAUTHENTICATED))}shutdown(){}}class C_e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class I_e{constructor(t){this.t=t,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,le.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe("string"==typeof i.accessToken),new G5(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Qe(null===t||"string"==typeof t),new Dr(t)}}class T_e{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class x_e{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new T_e(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D_e{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Qe("string"==typeof e.token),this.R=e.token,new W5(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function S_e(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class q5{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=S_e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function yt(n,t){return n<t?-1:n>t?1:0}function Cp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function K5(n){return n+"\0"}class vi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vi.fromMillis(Date.now())}static fromDate(t){return vi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?yt(this.nanoseconds,t.nanoseconds):yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Je{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Je(t)}static min(){return new Je(new vi(0,0))}static max(){return new Je(new vi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fv{constructor(t,e,i){void 0===e?e=0:e>t.length&&je(),void 0===i?i=t.length-e:i>t.length-e&&je(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Fv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Fv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class cn extends Fv{construct(t,e,i){return new cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ge(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new cn(e)}static emptyPath(){return new cn([])}}const A_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends Fv{construct(t,e,i){return new di(t,e,i)}static isValidIdentifier(t){return A_e.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ge(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new ge(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ge(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ge(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new di(e)}static emptyPath(){return new di([])}}class Ne{constructor(t){this.path=t}static fromPath(t){return new Ne(cn.fromString(t))}static fromName(t){return new Ne(cn.fromString(t).popFirst(5))}static empty(){return new Ne(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ne(new cn(t.slice()))}}class Ip{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function lN(n){return n.fields.find(t=>2===t.kind)}function bd(n){return n.fields.filter(t=>2!==t.kind)}Ip.UNKNOWN_ID=-1;class wd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Tp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Tp(0,as.min())}}function Z5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Je.fromTimestamp(1e9===i?new vi(e+1,0):new vi(e,i));return new as(r,Ne.empty(),t)}function Y5(n){return new as(n.readTime,n.key,-1)}class as{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new as(Je.min(),Ne.empty(),-1)}static max(){return new as(Je.max(),Ne.empty(),-1)}}function cN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ne.comparator(n.documentKey,t.documentKey),0!==e?e:yt(n.largestBatchId,t.largestBatchId))}const Q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function zc(n){return uN.apply(this,arguments)}function uN(){return uN=(0,le.Z)(function*(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==Q5)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}),uN.apply(this,arguments)}class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new G((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof G?e:G.resolve(e)}catch(e){return G.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):G.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):G.reject(e)}static resolve(t){return new G((e,i)=>{e(t)})}static reject(t){return new G((e,i)=>{i(t)})}static waitFor(t){return new G((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=G.resolve(!1);for(const i of t)e=e.next(r=>r?G.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new G((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new G((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class xC{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new lr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Lv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=dN(i.target.error);this.V.reject(new Lv(t,r))}}static open(t,e,i,r){try{return new xC(e,t.transaction(r,i))}catch(o){throw new Lv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ee("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new k_e(e)}}class sa{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===sa.S((0,x.z$)())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ee("SimpleDb","Removing database:",t),Ed(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,x.hl)())return!1;if(sa.C())return!0;const t=(0,x.z$)(),e=sa.S(t),i=0<e&&e<10,r=sa.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,le.Z)(function*(){return e.db||(Ee("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Lv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ge(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ge(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Lv(t,a))},o.onupgradeneeded=s=>{Ee("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,le.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const l=xC.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),G.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(Ee("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),o.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class M_e{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Ed(this.k.delete())}}class Lv extends ge{constructor(t,e){super(X.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Gc(n){return"IndexedDbTransactionError"===n.name}class k_e{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ee("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ed(i)}add(t){return Ee("SimpleDb","ADD",this.store.name,t,t),Ed(this.store.add(t))}get(t){return Ed(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ee("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ee("SimpleDb","DELETE",this.store.name,t),Ed(this.store.delete(t))}count(){return Ee("SimpleDb","COUNT",this.store.name),Ed(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new G((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new G((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(t,e){Ee("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new G((i,r)=>{e.onerror=o=>{const s=dN(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(t,e){const i=[];return new G((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new M_e(a),c=e(a.primaryKey,a.value,l);if(c instanceof G){const u=c.catch(f=>(l.done(),G.reject(f)));i.push(u)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>G.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ed(n){return new G((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=dN(i.target.error);e(r)}})}let J5=!1;function dN(n){const t=sa.S((0,x.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J5||(J5=!0,setTimeout(()=>{throw i},0)),i}}return n}class P_e{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Ee("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,le.Z)(function*(){e.task=null;try{Ee("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){Gc(i)?Ee("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zc(i)}yield e.ee(6e4)}))}}class O_e{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,le.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,o=!0;return G.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ee("IndexBackiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(Ee("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=Y5(o);cN(s,i)>0&&(i=s)}),new as(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ls=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function Vv(n){return null==n}function Bv(n){return 0===n&&1/n==-1/0}function eG(n){return"number"==typeof n&&Number.isInteger(n)&&!Bv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Jr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tG(t)),t=F_e(n.get(e),t);return tG(t)}function F_e(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function tG(n){return n+"\x01\x01"}function ja(n){const t=n.length;if(Qe(t>=2),2===t)return Qe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&je(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:je()}o=s+2}return new cn(i)}const nG=["userId","batchId"];function DC(n,t){return[n,Jr(t)]}function iG(n,t,e){return[n,Jr(t),e]}const L_e={},V_e=["prefixPath","collectionGroup","readTime","documentId"],B_e=["prefixPath","collectionGroup","documentId"],U_e=["collectionGroup","readTime","prefixPath","documentId"],j_e=["canonicalId","targetId"],H_e=["targetId","path"],$_e=["path","targetId"],z_e=["collectionId","parent"],G_e=["indexId","uid"],W_e=["uid","sequenceNumber"],q_e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K_e=["indexId","uid","orderedDocumentKey"],Z_e=["userId","collectionPath","documentId"],Y_e=["userId","collectionPath","largestBatchId"],Q_e=["userId","collectionGroup","largestBatchId"],rG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X_e=[...rG,"documentOverlays"],oG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sG=oG,J_e=[...sG,"indexConfiguration","indexState","indexEntries"];class hN extends X5{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Sr(n,t){const e=Re(n);return sa.M(e.ae,t)}function aG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Wc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ni{constructor(t,e){this.comparator=t,this.root=e||Br.EMPTY}insert(t,e){return new ni(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(t){return new ni(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Br.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SC(this.root,t,this.comparator,!1)}getReverseIterator(){return new SC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SC(this.root,t,this.comparator,!0)}}class SC{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Br{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Br.RED,this.left=r??Br.EMPTY,this.right=o??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Br(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const t=this.left.check();if(t!==this.right.check())throw je();return t+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Br(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(t){this.comparator=t,this.data=new ni(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new cG(this.data.getIterator())}getIteratorFrom(t){return new cG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Bn(this.comparator);return e.data=t,e}}class cG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xp(n){return n.hasNext()?n.getNext():void 0}class Bo{constructor(t){this.fields=t,t.sort(di.comparator)}static empty(){return new Bo([])}unionWith(t){let e=new Bn(di.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class uG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uG("Invalid base64 string: "+o):o}}(t);return new cr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new cr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const tve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qc(n){if(Qe(!!n),"string"==typeof n){let t=0;const e=tve.exec(n);if(Qe(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oi(n.seconds),nanos:Oi(n.nanos)}}function Oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kl(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function AC(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function RC(n){const t=n.mapValue.fields.__previous_value__;return AC(t)?RC(t):t}function Uv(n){const t=qc(n.mapValue.fields.__local_write_time__.timestampValue);return new vi(t.seconds,t.nanos)}class nve{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Kc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Kc&&t.projectId===this.projectId&&t.database===this.database}}const Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},NC={nullValue:"NULL_VALUE"};function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?AC(n)?4:pG(n)?9007199254740991:10:je()}function Ha(n,t){if(n===t)return!0;const e=Yc(n);if(e!==Yc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uv(n).isEqual(Uv(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=qc(r.timestampValue),a=qc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,kl(n.bytesValue).isEqual(kl(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Oi(r.geoPointValue.latitude)===Oi(o.geoPointValue.latitude)&&Oi(r.geoPointValue.longitude)===Oi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Oi(r.integerValue)===Oi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Oi(r.doubleValue),a=Oi(o.doubleValue);return s===a?Bv(s)===Bv(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Cp(n.arrayValue.values||[],t.arrayValue.values||[],Ha);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(aG(s)!==aG(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Ha(s[l],a[l])))return!1;return!0}(n,t);default:return je()}var o}function jv(n,t){return void 0!==(n.values||[]).find(e=>Ha(e,t))}function Qc(n,t){if(n===t)return 0;const e=Yc(n),i=Yc(t);if(e!==i)return yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Oi(o.integerValue||o.doubleValue),l=Oi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return dG(n.timestampValue,t.timestampValue);case 4:return dG(Uv(n),Uv(t));case 5:return yt(n.stringValue,t.stringValue);case 6:return function(o,s){const a=kl(o),l=kl(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yt(a[c],l[c]);if(0!==u)return u}return yt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=yt(Oi(o.latitude),Oi(s.latitude));return 0!==a?a:yt(Oi(o.longitude),Oi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Qc(a[c],l[c]);if(u)return u}return yt(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Zc.mapValue&&s===Zc.mapValue)return 0;if(o===Zc.mapValue)return 1;if(s===Zc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const g=yt(l[f],u[f]);if(0!==g)return g;const _=Qc(a[l[f]],c[u[f]]);if(0!==_)return _}return yt(l.length,u.length)}(n.mapValue,t.mapValue);default:throw je()}}function dG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return yt(n,t);const e=qc(n),i=qc(t),r=yt(e.seconds,i.seconds);return 0!==r?r:yt(e.nanos,i.nanos)}function Dp(n){return fN(n)}function fN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=qc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kl(n.bytesValue).toBase64():"referenceValue"in n?Ne.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=fN(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${fN(e.fields[s])}`;return r+"}"}(n.mapValue):je()}function Cd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pN(n){return!!n&&"integerValue"in n}function Hv(n){return!!n&&"arrayValue"in n}function hG(n){return!!n&&"nullValue"in n}function fG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kC(n){return!!n&&"mapValue"in n}function $v(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Wc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=$v(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$v(n.arrayValue.values[e]);return t}return Object.assign({},n)}function pG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ive(n){return"nullValue"in n?NC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cd(Kc.empty(),Ne.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:je()}function rve(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cd(Kc.empty(),Ne.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zc:je()}function mG(n,t){const e=Qc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function gG(n,t){const e=Qc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ur{constructor(t){this.value=t}static empty(){return new Ur({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!kC(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$v(e)}setAll(t){let e=di.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=$v(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());kC(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ha(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];kC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Wc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ur($v(this.value))}}function _G(n){const t=[];return Wc(n.fields,(e,i)=>{const r=new di([e]);if(kC(i)){const o=_G(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Bo(t)}class hi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new hi(t,0,Je.min(),Je.min(),Je.min(),Ur.empty(),0)}static newFoundDocument(t,e,i,r){return new hi(t,1,e,Je.min(),i,r,0)}static newNoDocument(t,e){return new hi(t,2,e,Je.min(),Je.min(),Ur.empty(),0)}static newUnknownDocument(t,e){return new hi(t,3,e,Je.min(),Je.min(),Ur.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Je.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,e){this.position=t,this.inclusive=e}}function vG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?Ne.comparator(Ne.fromName(s.referenceValue),e.key):Qc(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function yG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ha(n.position[e],t.position[e]))return!1;return!0}class zv{constructor(t,e="asc"){this.field=t,this.dir=e}}function ove(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class bG{}class sn extends bG{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new sve(t,e,i):"array-contains"===e?new cve(t,i):"in"===e?new xG(t,i):"not-in"===e?new uve(t,i):"array-contains-any"===e?new dve(t,i):new sn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new ave(t,i):new lve(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Qc(e,this.value)):null!==e&&Yc(this.value)===Yc(e)&&this.matchesComparison(Qc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends bG{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Pn(t,e)}matches(t){return Sp(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sp(n){return"and"===n.op}function mN(n){return"or"===n.op}function gN(n){return wG(n)&&Sp(n)}function wG(n){for(const t of n.filters)if(t instanceof Pn)return!1;return!0}function _N(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Dp(n.value);if(gN(n))return n.filters.map(t=>_N(t)).join(",");{const t=n.filters.map(e=>_N(e)).join(",");return`${n.op}(${t})`}}function EG(n,t){return n instanceof sn?(i=n,(r=t)instanceof sn&&i.op===r.op&&i.field.isEqual(r.field)&&Ha(i.value,r.value)):n instanceof Pn?function(i,r){return r instanceof Pn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&EG(s,r.filters[a]),!0)}(n,t):void je();var i,r}function CG(n,t){const e=n.filters.concat(t);return Pn.create(e,n.op)}function IG(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Dp(e.value)}`:n instanceof Pn?function(e){return e.op.toString()+" {"+e.getFilters().map(IG).join(" ,")+"}"}(n):"Filter";var e}class sve extends sn{constructor(t,e,i){super(t,e,i),this.key=Ne.fromName(i.referenceValue)}matches(t){const e=Ne.comparator(t.key,this.key);return this.matchesComparison(e)}}class ave extends sn{constructor(t,e){super(t,"in",e),this.keys=TG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lve extends sn{constructor(t,e){super(t,"not-in",e),this.keys=TG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function TG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class cve extends sn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hv(e)&&jv(e.arrayValue,this.value)}}class xG extends sn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&jv(this.value.arrayValue,e)}}class uve extends sn{constructor(t,e){super(t,"not-in",e)}matches(t){if(jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!jv(this.value.arrayValue,e)}}class dve extends sn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>jv(this.value.arrayValue,i))}}class hve{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function vN(n,t=null,e=[],i=[],r=null,o=null,s=null){return new hve(n,t,e,i,r,o,s)}function Id(n){const t=Re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>_N(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Vv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Dp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Dp(i)).join(",")),t.ce=e}return t.ce}function Gv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ove(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!EG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!yG(n.startAt,t.startAt)&&yG(n.endAt,t.endAt)}function PC(n){return Ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function OC(n,t){return n.filters.filter(e=>e instanceof sn&&e.field.isEqual(t))}function DG(n,t,e){let i=NC,r=!0;for(const o of OC(n,t)){let s=NC,a=!0;switch(o.op){case"<":case"<=":s=ive(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=NC}mG({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];mG({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function SG(n,t,e){let i=Zc,r=!0;for(const o of OC(n,t)){let s=Zc,a=!0;switch(o.op){case">=":case">":s=rve(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Zc}gG({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];gG({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class Pl{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function AG(n,t,e,i,r,o,s,a){return new Pl(n,t,e,i,r,o,s,a)}function Ap(n){return new Pl(n)}function RG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yN(n){return null!==n.collectionGroup}function Rp(n){const t=Re(n);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bn(di.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new zv(o,i))}),e.has(di.keyField().canonicalString())||t.le.push(new zv(di.keyField(),i))}return t.le}function To(n){const t=Re(n);return t.he||(t.he=function NG(n,t){if("F"===n.limitType)return vN(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new zv(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xc(n.startAt.position,n.startAt.inclusive):null;return vN(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Rp(n))),t.he}function bN(n,t){const e=n.filters.concat([t]);return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function FC(n,t,e){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Wv(n,t){return Gv(To(n),To(t))&&n.limitType===t.limitType}function MG(n){return`${Id(To(n))}|lt:${n.limitType}`}function Np(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>IG(r)).join(", ")}]`),Vv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Dp(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Dp(r)).join(",")),`Target(${i})`}(To(n))}; limitType=${n.limitType})`}function qv(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ne.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Rp(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=vG(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Rp(i),r)||i.endAt&&!function(s,a,l){const c=vG(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Rp(i),r)));var i,r}function kG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PG(n){return(t,e)=>{let i=!1;for(const r of Rp(n)){const o=fve(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function fve(n,t,e){const i=n.field.isKeyField()?Ne.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Qc(l,c):je()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}class Ol{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Wc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return lG(this.inner)}size(){return this.innerSize}}const pve=new ni(Ne.comparator);function Uo(){return pve}const OG=new ni(Ne.comparator);function Kv(...n){let t=OG;for(const e of n)t=t.insert(e.key,e);return t}function FG(n){let t=OG;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function $a(){return Zv()}function LG(){return Zv()}function Zv(){return new Ol(n=>n.toString(),(n,t)=>n.isEqual(t))}const mve=new ni(Ne.comparator),gve=new Bn(Ne.comparator);function Mt(...n){let t=gve;for(const e of n)t=t.add(e);return t}const _ve=new Bn(yt);function wN(){return _ve}function VG(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bv(t)?"-0":t}}function BG(n){return{integerValue:""+n}}function UG(n,t){return eG(t)?BG(t):VG(n,t)}class LC{constructor(){this._=void 0}}function vve(n,t,e){return n instanceof Mp?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&AC(o)&&(o=RC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Td?HG(n,t):n instanceof xd?$G(n,t):function(r,o){const s=jG(r,o),a=zG(s)+zG(r.Ie);return pN(s)&&pN(r.Ie)?BG(a):VG(r.serializer,a)}(n,t)}function yve(n,t,e){return n instanceof Td?HG(n,t):n instanceof xd?$G(n,t):e}function jG(n,t){return n instanceof kp?pN(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Mp extends LC{}class Td extends LC{constructor(t){super(),this.elements=t}}function HG(n,t){const e=GG(t);for(const i of n.elements)e.some(r=>Ha(r,i))||e.push(i);return{arrayValue:{values:e}}}class xd extends LC{constructor(t){super(),this.elements=t}}function $G(n,t){let e=GG(t);for(const i of n.elements)e=e.filter(r=>!Ha(r,i));return{arrayValue:{values:e}}}class kp extends LC{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function zG(n){return Oi(n.integerValue||n.doubleValue)}function GG(n){return Hv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yv{constructor(t,e){this.field=t,this.transform=e}}class wve{constructor(t,e){this.version=t,this.transformResults=e}}class yi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function VC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class BC{}function WG(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Op(n.key,yi.none()):new Pp(n.key,n.data,yi.none());{const e=n.data,i=Ur.empty();let r=new Bn(di.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Fl(n.key,i,new Bo(r.toArray()),yi.none())}}function Eve(n,t,e){n instanceof Pp?function(r,o,s){const a=r.value.clone(),l=ZG(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Fl?function(r,o,s){if(!VC(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ZG(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KG(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Qv(n,t,e,i){return n instanceof Pp?function(o,s,a,l){if(!VC(o.precondition,s))return a;const c=o.value.clone(),u=YG(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Fl?function(o,s,a,l){if(!VC(o.precondition,s))return a;const c=YG(o.fieldTransforms,l,s),u=s.data;return u.setAll(KG(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,VC(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Cve(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=jG(i.transform,r||null);null!=o&&(null===e&&(e=Ur.empty()),e.set(i.field,o))}return e||null}function qG(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Cp(i,r,(o,s)=>function bve(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Td&&r instanceof Td||i instanceof xd&&r instanceof xd?Cp(i.elements,r.elements,Ha):i instanceof kp&&r instanceof kp?Ha(i.Ie,r.Ie):i instanceof Mp&&r instanceof Mp);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Pp extends BC{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fl extends BC{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KG(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZG(n,t,e){const i=new Map;Qe(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,yve(s,a,e[r]))}return i}function YG(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,vve(o,s,t))}return i}class Op extends BC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EN extends BC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Eve(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Qv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Qv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=LG();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=WG(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Cp(this.mutations,t.mutations,(e,i)=>qG(e,i))&&Cp(this.baseMutations,t.baseMutations,(e,i)=>qG(e,i))}}class IN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Qe(t.mutations.length===i.length);let r=mve;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new IN(t,e,i,r)}}class TN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tve{constructor(t,e){this.count=t,this.unchangedNames=e}}var Qi,un;function QG(n){switch(n){default:return je();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function XG(n){if(void 0===n)return Ui("GRPC error has no .code"),X.UNKNOWN;switch(n){case Qi.OK:return X.OK;case Qi.CANCELLED:return X.CANCELLED;case Qi.UNKNOWN:return X.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return X.INTERNAL;case Qi.UNAVAILABLE:return X.UNAVAILABLE;case Qi.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Qi.NOT_FOUND:return X.NOT_FOUND;case Qi.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Qi.ABORTED:return X.ABORTED;case Qi.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Qi.DATA_LOSS:return X.DATA_LOSS;default:return je()}}(un=Qi||(Qi={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";function JG(){return new TextEncoder}const xve=new bp([4294967295,4294967295],0);function eW(n){const t=JG().encode(n),e=new y_e;return e.update(t),new Uint8Array(e.digest())}function tW(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new bp([e,i],0),new bp([r,o],0)]}class xN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Xv(`Invalid padding: ${e}`);if(i<0)throw new Xv(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Xv(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Xv(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=bp.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(bp.fromNumber(i)));return 1===r.compare(xve)&&(r=new bp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=eW(t),[i,r]=tW(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new xN(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=eW(t),[i,r]=tW(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Xv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ey.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Jv(Je.min(),r,new ni(yt),Uo(),Mt())}}class ey{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ey(i,e,Mt(),Mt(),Mt())}}class jC{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class nW{constructor(t,e){this.targetId=t,this.fe=e}}class iW{constructor(t,e,i=cr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class rW{constructor(){this.ge=0,this.pe=sW(),this.ye=cr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Mt(),e=Mt(),i=Mt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:je()}}),new ey(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=sW()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Dve{constructor(t){this.Le=t,this.ke=new Map,this.qe=Uo(),this.Qe=oW(),this.Ke=new ni(yt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:je()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(PC(o))if(0===i){const s=new Ne(o.path);this.We(e,s,hi.newNoDocument(s,Je.min()))}else Qe(1===i);else{const s=this.Ze(e);if(s!==i){const a=this.Xe(t),l=a?this.et(a,t,s):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=kl(i).toUint8Array()}catch(l){if(l instanceof uG)return Vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new xN(s,r,o)}catch(l){return Vo(l instanceof Xv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&PC(a.target)){const l=new Ne(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,hi.newNoDocument(l,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let i=Mt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new Jv(t,e,this.Ke,this.qe,i);return this.qe=Uo(),this.Qe=oW(),this.Ke=new ni(yt),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new rW,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Bn(yt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ee("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new rW),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function oW(){return new ni(Ne.comparator)}function sW(){return new ni(Ne.comparator)}const Sve={asc:"ASCENDING",desc:"DESCENDING"},Ave={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rve={and:"AND",or:"OR"};class Nve{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function DN(n,t){return n.useProto3Json||Vv(t)?t:{value:t}}function Fp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aW(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Mve(n,t){return Fp(n,t.toTimestamp())}function ji(n){return Qe(!!n),Je.fromTimestamp(function(e){const i=qc(e);return new vi(i.seconds,i.nanos)}(n))}function SN(n,t){return(i=n,new cn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function lW(n){const t=cn.fromString(n);return Qe(_W(t)),t}function ty(n,t){return SN(n.databaseId,t.path)}function za(n,t){const e=lW(t);if(e.get(1)!==n.databaseId.projectId)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ne(uW(e))}function AN(n,t){return SN(n.databaseId,t)}function cW(n){const t=lW(n);return 4===t.length?cn.emptyPath():uW(t)}function ny(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uW(n){return Qe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dW(n,t,e){return{name:ty(n,t),fields:e.value.mapValue.fields}}function hW(n,t,e){const i=za(n,t.name),r=ji(t.updateTime),o=t.createTime?ji(t.createTime):Je.min(),s=new Ur({mapValue:{fields:t.fields}}),a=hi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function iy(n,t){let e;if(t instanceof Pp)e={update:dW(n,t.key,t.value)};else if(t instanceof Op)e={delete:ty(n,t.key)};else if(t instanceof Fl)e={update:dW(n,t.key,t.data),updateMask:Uve(t.fieldMask)};else{if(!(t instanceof EN))return je();e={verify:ty(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Mp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Td)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kp)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw je()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:Mve(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:je()),e;var o}function RN(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?yi.updateTime(ji(o.updateTime)):void 0!==o.exists?yi.exists(o.exists):yi.none():yi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Qe("REQUEST_TIME"===a.setToServerValue),l=new Mp):"appendMissingElements"in a?l=new Td(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new xd(a.removeAllFromArray.values||[]):"increment"in a?l=new kp(s,a.increment):je();const c=di.fromServerFormat(a.fieldPath);return new Yv(c,l)}(n,r)):[];var o;if(t.update){const r=za(n,t.update.name),o=new Ur({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Bo((t.updateMask.fieldPaths||[]).map(u=>di.fromServerFormat(u)));return new Fl(r,o,s,e,i)}return new Pp(r,o,e,i)}if(t.delete){const r=za(n,t.delete);return new Op(r,e)}if(t.verify){const r=za(n,t.verify);return new EN(r,e)}return je()}function fW(n,t){return{documents:[AN(n,t.path)]}}function NN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=AN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=AN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return gW(Pn.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Jc((f=c).field),direction:Lve(f.dir)};var f})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=DN(n,t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function pW(n){let t=cW(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Qe(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(f){const g=mW(f);return g instanceof Pn&&gN(g)?g.getFilters():[g]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(g=>{return new zv(Lp((y=g).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;e.limit&&(a=function(f){let g;return g="object"==typeof f?f.value:f,Vv(g)?null:g}(e.limit));let l=null;var f;e.startAt&&(l=new Xc((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new Xc(f.values||[],!f.before)}(e.endAt)),AG(t,r,s,o,a,"F",l,c)}function mW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Lp(e.unaryFilter.field);return sn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Lp(e.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lp(e.unaryFilter.field);return sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Lp(e.unaryFilter.field);return sn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):void 0!==n.fieldFilter?sn.create(Lp((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Pn.create(e.compositeFilter.filters.map(i=>mW(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return je()}}(e.compositeFilter.op))}(n):je();var e}function Lve(n){return Sve[n]}function Vve(n){return Ave[n]}function Bve(n){return Rve[n]}function Jc(n){return{fieldPath:n.canonicalString()}}function Lp(n){return di.fromServerFormat(n.fieldPath)}function gW(n){return n instanceof sn?function(e){if("=="===e.op){if(fG(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NAN"}};if(hG(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fG(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NAN"}};if(hG(e.value))return{unaryFilter:{field:Jc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(e.field),op:Vve(e.op),value:e.value}}}(n):n instanceof Pn?function(e){const i=e.getFilters().map(r=>gW(r));return 1===i.length?i[0]:{compositeFilter:{op:Bve(e.op),filters:i}}}(n):je()}function Uve(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _W(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ll{constructor(t,e,i,r,o=Je.min(),s=Je.min(),a=cr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ll(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vW{constructor(t){this.ut=t}}function yW(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:HC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ty(o=n.ut,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Fp(o,s.version.toTimestamp()),createTime:Fp(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Dd(t.version)};else{if(!t.isUnknownDocument())return je();i.unknownDocument={path:e.path.toArray(),version:Dd(t.version)}}var o,s;return i}function HC(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Dd(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sd(n){const t=new vi(n.seconds,n.nanoseconds);return Je.fromTimestamp(t)}function Ad(n,t){const e=(t.baseMutations||[]).map(o=>RN(n.ut,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>RN(n.ut,o)),r=vi.fromMillis(t.localWriteTimeMs);return new CN(t.batchId,r,e,i)}function ry(n){const t=Sd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Sd(n.lastLimboFreeSnapshotVersion):Je.min();let i;return i=void 0!==n.query.documents?(Qe(1===(o=n.query).documents.length),To(Ap(cW(o.documents[0])))):function(o){return To(pW(o))}(n.query),new Ll(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,cr.fromBase64String(n.resumeToken));var o}function bW(n,t){const e=Dd(t.snapshotVersion),i=Dd(t.lastLimboFreeSnapshotVersion);let r;r=PC(t.target)?fW(n.ut,t.target):NN(n.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Id(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function MN(n){const t=pW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?FC(t,t.limit,"L"):t}function kN(n,t){return new TN(t.largestBatchId,RN(n.ut,t.overlayMutation))}function wW(n,t){const e=t.path.lastSegment();return[n,Jr(t.path.popLast()),e]}function EW(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Dd(i.readTime),documentKey:Jr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Hve{getBundleMetadata(t,e){return CW(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Sd(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return CW(t).put({bundleId:(r=e).id,createTime:Dd(ji(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return IW(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:MN(o.bundledQuery),readTime:Sd(o.readTime)};var o})}saveNamedQuery(t,e){return IW(t).put({name:(r=e).name,readTime:Dd(ji(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CW(n){return Sr(n,"bundles")}function IW(n){return Sr(n,"namedQueries")}class $C{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new $C(t,e.uid||"")}getOverlay(t,e){return oy(t).get(wW(this.userId,e)).next(i=>i?kN(this.serializer,i):null)}getOverlays(t,e){const i=$a();return G.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new TN(e,s);r.push(this.lt(t,a))}),G.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(Jr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(oy(t).H("collectionPathOverlayIndex",a))}),G.waitFor(o)}getOverlaysForCollection(t,e,i){const r=$a(),o=Jr(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return oy(t).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=kN(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=$a();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return oy(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const f=kN(this.serializer,c);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}lt(t,e){return oy(t).put(function(r,o,s){const[a,l,c]=wW(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:iy(r.ut,s.mutation)}}(this.serializer,this.userId,e))}}function oy(n){return Sr(n,"documentOverlays")}class Rd{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Oi(t.integerValue));else if("doubleValue"in t){const i=Oi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Bv(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(kl(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?pG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):je()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Ne.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function $ve(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function TW(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=$ve(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Rd.St=new Rd;class zve{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=TW(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=TW(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Gve{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class Wve{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class sy{constructor(){this.Wt=new zve,this.Gt=new Gve(this.Wt),this.zt=new Wve(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Nd{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Nd(this.indexId,this.documentKey,this.arrayValue,i)}}function eu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=xW(n.arrayValue,t.arrayValue),0!==e?e:(e=xW(n.directionalValue,t.directionalValue),0!==e?e:Ne.comparator(n.documentKey,t.documentKey)))}function xW(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class DW{constructor(t){this.Jt=new Bn((e,i)=>di.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(Qe(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=lN(t);if(void 0!==e&&!this.tn(e))return!1;const i=bd(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let t=new Bn(di.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new wd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new wd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new wd(i.field,"asc"===i.dir?0:1)));return new Ip(Ip.UNKNOWN_ID,this.collectionId,e,Tp.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function SW(n){var t,e;if(Qe(n instanceof sn||n instanceof Pn),n instanceof sn){if(n instanceof xG){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>sn.create(n.field,"==",o)))||[];return Pn.create(r,"or")}return n}const i=n.filters.map(r=>SW(r));return Pn.create(i,n.op)}function qve(n){if(0===n.getFilters().length)return[];const t=FN(SW(n));return Qe(AW(t)),PN(t)||ON(t)?[t]:t.getFilters()}function PN(n){return n instanceof sn}function ON(n){return n instanceof Pn&&gN(n)}function AW(n){return PN(n)||ON(n)||function(e){if(e instanceof Pn&&mN(e)){for(const i of e.getFilters())if(!PN(i)&&!ON(i))return!1;return!0}return!1}(n)}function FN(n){if(Qe(n instanceof sn||n instanceof Pn),n instanceof sn)return n;if(1===n.filters.length)return FN(n.filters[0]);const t=n.filters.map(i=>FN(i));let e=Pn.create(t,n.op);return e=zC(e),AW(e)?e:(Qe(e instanceof Pn),Qe(Sp(e)),Qe(e.filters.length>1),e.filters.reduce((i,r)=>LN(i,r)))}function LN(n,t){let e;return Qe(n instanceof sn||n instanceof Pn),Qe(t instanceof sn||t instanceof Pn),e=n instanceof sn?t instanceof sn?Pn.create([n,t],"and"):RW(n,t):t instanceof sn?RW(t,n):function(r,o){if(Qe(r.filters.length>0&&o.filters.length>0),Sp(r)&&Sp(o))return CG(r,o.getFilters());const s=mN(r)?r:o,a=mN(r)?o:r,l=s.filters.map(c=>LN(c,a));return Pn.create(l,"or")}(n,t),zC(e)}function RW(n,t){if(Sp(t))return CG(t,n.getFilters());{const e=t.filters.map(i=>LN(n,i));return Pn.create(e,"or")}}function zC(n){if(Qe(n instanceof sn||n instanceof Pn),n instanceof sn)return n;const t=n.getFilters();if(1===t.length)return zC(t[0]);if(wG(n))return n;const e=t.map(r=>zC(r)),i=[];return e.forEach(r=>{r instanceof sn?i.push(r):r instanceof Pn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Pn.create(i,n.op)}class Kve{constructor(){this.on=new VN}addToCollectionParentIndex(t,e){return this.on.add(e),G.resolve()}getCollectionParents(t,e){return G.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return G.resolve()}deleteFieldIndex(t,e){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,e){return G.resolve()}getDocumentsMatchingTarget(t,e){return G.resolve(null)}getIndexType(t,e){return G.resolve(0)}getFieldIndexes(t,e){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,e){return G.resolve(as.min())}getMinOffsetFromCollectionGroup(t,e){return G.resolve(as.min())}updateCollectionGroup(t,e,i){return G.resolve()}updateIndexEntries(t,e){return G.resolve()}}class VN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Bn(cn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Bn(cn.comparator)).toArray()}}const GC=new Uint8Array(0);class Zve{constructor(t,e){this.user=t,this.databaseId=e,this._n=new VN,this.an=new Ol(i=>Id(i),(i,r)=>Gv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const o={collectionId:i,parent:Jr(r)};return NW(t).put(o)}return G.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[K5(e),""],!1,!0);return NW(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(ja(s.parent))}return i})}addFieldIndex(t,e){const i=ay(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=Bp(t);return o.next(a=>{s.put(EW(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=ay(t),r=Bp(t),o=Vp(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=ay(t),i=Vp(t),r=Bp(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return G.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new DW(i).sn();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=Vp(t);let r=!0;const o=new Map;return G.forEach(this.un(e),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Mt();const a=[];return G.forEach(o,(l,c)=>{var V;Ee("IndexedDbIndexManager",`Using index ${V=l,`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`} to execute ${Id(e)}`);const u=function(V,W){const ae=lN(W);if(void 0===ae)return null;for(const xe of OC(V,ae.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(c,l),f=function(V,W){const ae=new Map;for(const xe of bd(W))for(const Fe of OC(V,xe.fieldPath))switch(Fe.op){case"==":case"in":ae.set(xe.fieldPath.canonicalString(),Fe.value);break;case"not-in":case"!=":return ae.set(xe.fieldPath.canonicalString(),Fe.value),Array.from(ae.values())}return null}(c,l),g=function(V,W){const ae=[];let xe=!0;for(const Fe of bd(W)){const rt=0===Fe.kind?DG(V,Fe.fieldPath,V.startAt):SG(V,Fe.fieldPath,V.startAt);ae.push(rt.value),xe&&(xe=rt.inclusive)}return new Xc(ae,xe)}(c,l),_=function(V,W){const ae=[];let xe=!0;for(const Fe of bd(W)){const rt=0===Fe.kind?SG(V,Fe.fieldPath,V.endAt):DG(V,Fe.fieldPath,V.endAt);ae.push(rt.value),xe&&(xe=rt.inclusive)}return new Xc(ae,xe)}(c,l),y=this.ln(l,c,g),b=this.ln(l,c,_),T=this.hn(l,c,f),k=this.Pn(l.indexId,u,y,g.inclusive,b,_.inclusive,T);return G.forEach(k,S=>i.j(S,e.limit).next(V=>{V.forEach(W=>{const ae=Ne.fromSegments(W.documentKey);s.has(ae)||(s=s.add(ae),a.push(ae))})}))}).next(()=>a)}return G.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:qve(Pn.create(t.filters,"and")).map(i=>vN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),u=[];for(let f=0;f<l;++f){const g=e?this.In(e[f/c]):GC,_=this.Tn(t,g,i[f%c],r),y=this.En(t,g,o[f%c],s),b=a.map(T=>this.Tn(t,g,T,!0));u.push(...this.createRange(_,y,b))}return u}Tn(t,e,i,r){const o=new Nd(t,Ne.empty(),e,i);return r?o:o.Ht()}En(t,e,i,r){const o=new Nd(t,Ne.empty(),e,i);return r?o.Ht():o}cn(t,e){const i=new DW(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.un(e);return G.forEach(r,o=>this.cn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new Bn(di.comparator),u=!1;for(const f of l.filters)for(const g of f.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?u=!0:c=c.add(g.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new sy;for(const r of bd(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Rd.St.ht(o,s)}return i.Ut()}In(t){const e=new sy;return Rd.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new sy;return Rd.St.ht(Cd(this.databaseId,e),i.jt(function(o){const s=bd(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new sy);let o=0;for(const s of bd(t)){const a=i[o++];for(const l of r)if(this.Rn(e,s.fieldPath)&&Hv(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);Rd.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new sy;l.seed(a.Ut()),Rd.St.ht(s,l.jt(e.kind)),o.push(l)}return o}Rn(t,e){return!!t.filters.find(i=>i instanceof sn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ay(t),r=Bp(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const s=[];return G.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,f){const g=f?new Tp(f.sequenceNumber,new as(Sd(f.readTime),new Ne(ja(f.documentKey)),f.largestBatchId)):Tp.empty(),_=u.fields.map(([y,b])=>new wd(di.fromServerFormat(y),b));return new Ip(u.indexId,u.collectionGroup,_,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:yt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ay(t),o=Bp(t);return this.fn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>G.forEach(a,l=>o.put(EW(l.indexId,this.user,s,i)))))}updateIndexEntries(t,e){const i=new Map;return G.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?G.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),G.forEach(a,l=>this.gn(t,r,l).next(c=>{const u=this.pn(o,l);return c.isEqual(u)?G.resolve():this.yn(t,o,l,c,u)}))))})}wn(t,e,i,r){return Vp(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Vp(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Vp(t);let o=new Bn(eu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(s,a)=>{o=o.add(new Nd(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,e){let i=new Bn(eu);const r=this.dn(e,t);if(null==r)return i;const o=lN(e);if(null!=o){const s=t.data.field(o.fieldPath);if(Hv(s))for(const a of s.arrayValue.values||[])i=i.add(new Nd(e.indexId,t.key,this.In(a),r))}else i=i.add(new Nd(e.indexId,t.key,GC,r));return i}yn(t,e,i,r,o){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,u,f,g){const _=l.getIterator(),y=c.getIterator();let b=xp(_),T=xp(y);for(;b||T;){let k=!1,S=!1;if(b&&T){const V=u(b,T);V<0?S=!0:V>0&&(k=!0)}else null!=b?S=!0:k=!0;k?(f(T),T=xp(y)):S?(g(b),b=xp(_)):(b=xp(_),T=xp(y))}}(r,o,eu,a=>{s.push(this.wn(t,e,i,a))},a=>{s.push(this.Sn(t,e,i,a))}),G.waitFor(s)}fn(t){let e=1;return Bp(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>eu(s,a)).filter((s,a,l)=>!a||0!==eu(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=eu(s,t),l=eu(s,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,GC,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,GC,[]]))}return o}bn(t,e){return eu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(MW)}getMinOffset(t,e){return G.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||je())).next(MW)}}function NW(n){return Sr(n,"collectionParents")}function Vp(n){return Sr(n,"indexEntries")}function ay(n){return Sr(n,"indexConfiguration")}function Bp(n){return Sr(n,"indexState")}function MW(n){Qe(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;cN(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new as(t.readTime,t.documentKey,e)}const kW={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class eo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new eo(t,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PW(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:s},(u,f,g)=>(a++,g.delete()));o.push(l.next(()=>{Qe(1===a)}));const c=[];for(const u of e.mutations){const f=iG(t,u.key.path,e.batchId);o.push(r.delete(f)),c.push(u.key)}return G.waitFor(o).next(()=>c)}function WC(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw je();t=n.noDocument}return JSON.stringify(t).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);class qC{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){Qe(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new qC(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(t).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Up(t),s=tu(t);return s.add({}).next(a=>{Qe("number"==typeof a);const l=new CN(a,e,i,r),c=function(_,y,b){const T=b.baseMutations.map(S=>iy(_.ut,S)),k=b.mutations.map(S=>iy(_.ut,S));return{userId:y,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:T,mutations:k}}(this.serializer,this.userId,l),u=[];let f=new Bn((g,_)=>yt(g.canonicalString(),_.canonicalString()));for(const g of r){const _=iG(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),u.push(s.put(c)),u.push(o.put(_,L_e))}return f.forEach(g=>{u.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),G.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return tu(t).get(e).next(i=>i?(Qe(i.userId===this.userId),Ad(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?G.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return tu(t).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(Qe(a.batchId>=i),o=Ad(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return tu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Ad(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=DC(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Up(t).Y({range:r},(s,a,l)=>{const[c,u,f]=s,g=ja(u);if(c===this.userId&&e.path.isEqual(g))return tu(t).get(f).next(_=>{if(!_)throw je();Qe(_.userId===this.userId),o.push(Ad(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(yt);const r=[];return e.forEach(o=>{const s=DC(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Up(t).Y({range:a},(c,u,f)=>{const[g,_,y]=c,b=ja(_);g===this.userId&&o.path.isEqual(b)?i=i.add(y):f.done()});r.push(l)}),G.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=DC(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Bn(yt);return Up(t).Y({range:s},(l,c,u)=>{const[f,g,_]=l,y=ja(g);f===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(_)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(tu(t).get(o).next(s=>{if(null===s)throw je();Qe(s.userId===this.userId),i.push(Ad(this.serializer,s))}))}),G.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return PW(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),G.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return G.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Up(t).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=ja(o[1]);r.push(l)}else a.done()}).next(()=>{Qe(0===r.length)})})}containsKey(t,e){return OW(t,this.userId,e)}Mn(t){return FW(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OW(n,t,e){const i=DC(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Up(n).Y({range:o,J:!0},(a,l,c)=>{const[u,f,g]=a;u===t&&f===r&&(s=!0),c.done()}).next(()=>s)}function tu(n){return Sr(n,"mutations")}function Up(n){return Sr(n,"documentMutations")}function FW(n){return Sr(n,"mutationQueues")}class Md{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Md(0)}static Nn(){return new Md(-1)}}class Yve{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Md(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>Je.fromTimestamp(new vi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>jp(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(Qe(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return jp(t).Y((s,a)=>{const l=ry(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>G.waitFor(o)).next(()=>r)}forEachTarget(t,e){return jp(t).Y((i,r)=>{const o=ry(r);e(o)})}Bn(t){return LW(t).get("targetGlobalKey").next(e=>(Qe(null!==e),e))}Ln(t,e){return LW(t).put("targetGlobalKey",e)}kn(t,e){return jp(t).put(bW(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Id(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return jp(t).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=ry(a);Gv(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=nu(t);return e.forEach(s=>{const a=Jr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),G.waitFor(r)}removeMatchingKeys(t,e,i){const r=nu(t);return G.forEach(e,o=>{const s=Jr(o.path);return G.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=nu(t);let o=Mt();return r.Y({range:i,J:!0},(s,a,l)=>{const c=ja(s[1]),u=new Ne(c);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=Jr(e.path),r=IDBKeyRange.bound([i],[K5(i)],!1,!0);let o=0;return nu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(t,e){return jp(t).get(e).next(i=>i?ry(i):null)}}function jp(n){return Sr(n,"targets")}function LW(n){return Sr(n,"targetGlobal")}function nu(n){return Sr(n,"targetDocuments")}function VW([n,t],[e,i]){const r=yt(n,e);return 0===r?yt(t,i):r}class Qve{constructor(t){this.Qn=t,this.buffer=new Bn(VW),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();VW(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class BW{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,le.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Gc(i)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zc(i)}yield e.Gn(3e5)}))}}class Xve{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return G.resolve(ls._e);const i=new Qve(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(kW)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kW):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Ep()<=is.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class Jve{constructor(t,e){this.db=t,this.garbageCollector=function UW(n,t){return new Xve(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return KC(t,i)}removeReference(t,e,i){return KC(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return KC(t,e)}Xn(t,e){return function(r,o){let s=!1;return FW(r).Z(a=>OW(r,a,o).next(l=>(l&&(s=!0),G.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(t,(s,a)=>{if(a<=e){const l=this.Xn(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,Je.min()),nu(t).delete([0,Jr(s.path)])))});r.push(l)}}).next(()=>G.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return KC(t,e)}Zn(t,e){const i=nu(t);let r,o=ls._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==ls._e&&e(new Ne(ja(r)),o),o=c,r=l):o=ls._e}).next(()=>{o!==ls._e&&e(new Ne(ja(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function KC(n,t){return nu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Jr(t.path),sequenceNumber:r}));var r}class jW{constructor(){this.changes=new Ol(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?G.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eye{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return kd(t).put(i)}removeEntry(t,e,i){return kd(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],HC(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=hi.newInvalidDocument(e);return kd(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ly(e))},(r,o)=>{i=this.tr(e,o)}).next(()=>i)}nr(t,e){let i={size:0,document:hi.newInvalidDocument(e)};return kd(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ly(e))},(r,o)=>{i={document:this.tr(e,o),size:WC(o)}}).next(()=>i)}getEntries(t,e){let i=Uo();return this.rr(t,e,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(t,e){let i=Uo(),r=new ni(Ne.comparator);return this.rr(t,e,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,WC(s))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return G.resolve();let r=new Bn(GW);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(ly(r.first()),ly(r.last())),s=r.getIterator();let a=s.getNext();return kd(t).Y({index:"documentKeyIndex",range:o},(l,c,u)=>{const f=Ne.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&GW(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.U(ly(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),HC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kd(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let u=Uo();for(const f of c){const g=this.tr(Ne.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(qv(e,g)||r.has(g.key))&&(u=u.insert(g.key,g))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=Uo();const s=zW(e,i),a=zW(e,as.max());return kd(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const f=this.tr(Ne.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new tye(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return $W(t).get("remoteDocumentGlobalKey").next(e=>(Qe(!!e),e))}er(t,e){return $W(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function jve(n,t){let e;if(t.document)e=hW(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ne.fromSegments(t.noDocument.path),r=Sd(t.noDocument.readTime);e=hi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return je();{const i=Ne.fromSegments(t.unknownDocument.path),r=Sd(t.unknownDocument.version);e=hi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new vi(r[0],r[1]);return Je.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Je.min()))return i}return hi.newInvalidDocument(t)}}function HW(n){return new eye(n)}class tye extends jW{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new Ol(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Bn((o,s)=>yt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(e.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=yW(this._r.serializer,s);r=r.add(o.path.popLast());const c=WC(l);i+=c-a.size,e.push(this._r.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=yW(this._r.serializer,s.convertToNoDocument(Je.min()));e.push(this._r.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),e.push(this._r.updateMetadata(t,i)),G.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function $W(n){return Sr(n,"remoteDocumentGlobal")}function kd(n){return Sr(n,"remoteDocumentsV14")}function ly(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zW(n,t){const e=t.documentKey.path.toArray();return[n,HC(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function GW(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=yt(e[o],i[o]),r)return r;return r=yt(e.length,i.length),r||(r=yt(e[e.length-2],i[i.length-2]),r||yt(e[e.length-1],i[i.length-1]))}class nye{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class WW{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Qv(i.mutation,r,Bo.empty(),vi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Mt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Mt()){const r=$a();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=Kv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=$a();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Mt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Uo();const s=Zv(),a=Zv();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Fl)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Qv(u.mutation,c,u.mutation.getFieldMask(),vi.now())):s.set(c.key,Bo.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new nye(u,null!==(f=s.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Zv();let r=new ni((s,a)=>s-a),o=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||Bo.empty();u=a.applyToLocalView(c,u),i.set(l,u);const f=(r.get(a.batchId)||Mt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=LG();u.forEach(g=>{if(!o.has(g)){const _=WG(e.get(g),i.get(g));null!==_&&f.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return G.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Ne.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):yN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):G.resolve($a());let a=-1,l=o;return s.next(c=>G.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?G.resolve():this.remoteDocumentCache.getEntry(t,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Mt())).next(u=>({batchId:a,changes:FG(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ne(e)).next(i=>{let r=Kv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=Kv();return this.indexManager.getCollectionParents(t,o).next(a=>G.forEach(a,l=>{const c=(f=e,g=l.child(o),new Pl(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,g;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,hi.newInvalidDocument(u)))});let a=Kv();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&Qv(u.mutation,c,Bo.empty(),vi.now()),qv(e,c)&&(a=a.insert(l,c))}),a})}}class iye{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return G.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:ji(r.createTime)}),G.resolve();var r}getNamedQuery(t,e){return G.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:MN(r.bundledQuery),readTime:ji(r.readTime)}),G.resolve();var r}}class rye{constructor(){this.overlays=new ni(Ne.comparator),this.lr=new Map}getOverlay(t,e){return G.resolve(this.overlays.get(e))}getOverlays(t,e){const i=$a();return G.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.lt(t,e,o)}),G.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),G.resolve()}getOverlaysForCollection(t,e,i){const r=$a(),o=e.length+1,s=new Ne(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return G.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ni((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=$a(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$a(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return G.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new TN(e,i));let o=this.lr.get(e);void 0===o&&(o=Mt(),this.lr.set(e,o)),this.lr.set(e,o.add(i.key))}}class BN{constructor(){this.hr=new Bn(Ar.Pr),this.Ir=new Bn(Ar.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Ar(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Ne(new cn([])),i=new Ar(e,t),r=new Ar(e,t+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Ne(new cn([])),i=new Ar(e,t),r=new Ar(e,t+1);let o=Mt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Ar(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Ne.comparator(t.key,e.key)||yt(t.gr,e.gr)}static Tr(t,e){return yt(t.gr,e.gr)||Ne.comparator(t.key,e.key)}}class oye{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Bn(Ar.Pr)}checkEmpty(t){return G.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.pr;this.pr++;const s=new CN(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Ar(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(t,e){return G.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),o=r<0?0:r;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(yt);return e.forEach(r=>{const o=new Ar(r,0),s=new Ar(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),G.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ne.isDocumentKey(o)||(o=o.child(""));const s=new Ar(new Ne(o),0);let a=new Bn(yt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),G.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Qe(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return G.forEach(e.mutations,r=>{const o=new Ar(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Ar(e,0),r=this.yr.firstAfterOrEqual(i);return G.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return G.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class sye{constructor(t){this.Cr=t,this.docs=new ni(Ne.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return G.resolve(i?i.document.mutableCopy():hi.newInvalidDocument(e))}getEntries(t,e){let i=Uo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hi.newInvalidDocument(r))}),G.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Uo();const s=e.path,a=new Ne(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||cN(Y5(u),i)<=0||(r.has(u.key)||qv(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(t,e,i,r){je()}vr(t,e){return G.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new aye(this)}getSize(t){return G.resolve(this.size)}}class aye extends jW{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),G.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class lye{constructor(t){this.persistence=t,this.Fr=new Ol(e=>Id(e),Gv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Mr=0,this.Or=new BN,this.targetCount=0,this.Nr=Md.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),G.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Md(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,G.resolve()}updateTargetData(t,e){return this.kn(e),G.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),G.waitFor(o).next(()=>r)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return G.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),G.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),G.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return G.resolve(i)}containsKey(t,e){return G.resolve(this.Or.containsKey(e))}}class UN{constructor(t,e){this.Br={},this.overlays={},this.Lr=new ls(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new lye(this),this.indexManager=new Kve,this.remoteDocumentCache=new sye(i=>this.referenceDelegate.Qr(i)),this.serializer=new vW(e),this.Kr=new iye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rye,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new oye(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ee("MemoryPersistence","Starting transaction:",t);const r=new cye(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,e){return G.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class cye extends X5{constructor(t){super(),this.currentSequenceNumber=t}}class ZC{constructor(t){this.persistence=t,this.Gr=new BN,this.zr=null}static jr(t){return new ZC(t)}get Hr(){if(this.zr)return this.zr;throw je()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),G.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),G.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Hr,i=>{const r=Ne.fromPath(i);return this.Jr(t,r).next(o=>{o||e.removeEntry(r,Je.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return G.or([()=>G.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class uye{constructor(t){this.serializer=t}N(t,e,i,r){const o=new xC("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nG,{unique:!0}),l.createObjectStore("documentMutations"),qW(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=G.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),qW(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Je.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nG,{unique:!0});const f=c.store("mutations"),g=u.map(_=>f.put(_));return G.waitFor(g)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Z_e});c.createIndex("collectionPathOverlayIndex",Y_e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Q_e,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:V_e});c.createIndex("documentKeyIndex",B_e),c.createIndex("collectionGroupIndex",U_e)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:G_e}).createIndex("sequenceNumberIndex",W_e,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:q_e}).createIndex("documentKeyIndex",K_e,{unique:!1})}(t))),s}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=WC(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>G.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>G.forEach(a,l=>{Qe(l.userId===o.userId);const c=Ad(this.serializer,l);return PW(t,o.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new cn(s),c=[0,Jr(l)];o.push(e.get(c).next(u=>u?G.resolve():e.put({targetId:0,path:Jr(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>G.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:z_e});const i=e.store("collectionParents"),r=new VN,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:Jr(l)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new cn(s);return o(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const u=ja(a);return o(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const o=ry(r),s=bW(this.serializer,o);return e.put(s)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(f=s,f.document?new Ne(cn.fromString(f.document.name).popFirst(5)):f.noDocument?Ne.fromSegments(f.noDocument.path):f.unknownDocument?Ne.fromSegments(f.unknownDocument.path):je()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>G.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=HW(this.serializer),o=new UN(ZC.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Mt();Ad(this.serializer,l).keys().forEach(f=>u=u.add(f)),a.set(l.userId,u)}),G.forEach(a,(l,c)=>{const u=new Dr(c),f=$C.ct(this.serializer,u),g=o.getIndexManager(u),_=qC.ct(u,this.serializer,g,o.referenceDelegate);return new WW(r,_,f,g).recalculateAndSaveOverlaysForDocumentKeys(new hN(e,ls._e),l).next()})})}}function qW(n){n.createObjectStore("targetDocuments",{keyPath:H_e}).createIndex("documentTargetsIndex",$_e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j_e,{unique:!0}),n.createObjectStore("targetGlobal")}const jN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HN{constructor(t,e,i,r,o,s,a,l,c,u,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!HN.D())throw new ge(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jve(this,r),this.Ii=e+"main",this.serializer=new vW(l),this.Ti=new sa(this.Ii,this.ai,new uye(this.serializer)),this.qr=new Yve(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HW(this.serializer),this.Kr=new Hve,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(X.FAILED_PRECONDITION,jN);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new ls(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,le.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,le.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,le.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>QC(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(Gc(t))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return cy(t).get("owner").next(e=>G.resolve(this.wi(e)))}Si(t){return QC(t).delete(this.clientId)}bi(){var t=this;return(0,le.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Sr(i,"clientMetadata");return r.W().next(o=>{const s=t.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return G.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?G.resolve(!0):cy(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new ge(X.FAILED_PRECONDITION,jN);return!1}}return!(!this.networkEnabled||!this.inForeground)||QC(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ee("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,le.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new hN(e,ls._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>QC(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return qC.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Zve(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return $C.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ee("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ai)?J_e:14===l?sG:13===l?oG:12===l?X_e:11===l?rG:void je();var l;let s;return this.Ti.runTransaction(t,r,o,a=>(s=new hN(a,this.Lr?this.Lr.next():ls._e),"readwrite-primary"===e?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Ui(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ge(X.FAILED_PRECONDITION,Q5);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(t){return cy(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ge(X.FAILED_PRECONDITION,jN)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cy(t).put("owner",e)}static D(){return sa.D()}pi(t){const e=cy(t);return e.get("owner").next(i=>this.wi(i)?(Ee("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):G.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ui(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,x.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return Ee("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ui("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Ui("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cy(n){return Sr(n,"owner")}function QC(n){return Sr(n,"clientMetadata")}function $N(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class zN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Mt(),r=Mt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new zN(t,e.fromCache,i,r)}}class dye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class KW{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.zi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new dye;return this.Hi(t,e,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,e,s,a.size)})}).next(()=>o.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Ep()<=is.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Np(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),G.resolve()):(Ep()<=is.in.DEBUG&&Ee("QueryEngine","Query:",Np(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ep()<=is.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Np(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,To(e))):G.resolve())}zi(t,e){if(RG(e))return G.resolve(null);let i=To(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=FC(e,null,"F"),i=To(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Mt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,s,l.readTime)?this.zi(t,FC(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return RG(e)||r.isEqual(Je.min())?G.resolve(null):this.Gi.getDocuments(t,i).next(o=>{const s=this.Yi(e,o);return this.Zi(e,s,i,r)?G.resolve(null):(Ep()<=is.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Np(e)),this.Xi(t,s,e,Z5(r,-1)).next(a=>a))})}Yi(t,e){let i=new Bn(PG(t));return e.forEach((r,o)=>{qv(t,o)&&(i=i.add(o))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,e,i){return Ep()<=is.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Np(e)),this.Gi.getDocumentsMatchingQuery(t,e,as.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class hye{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ni(yt),this.ns=new Ol(o=>Id(o),Gv),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WW(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function ZW(n,t,e,i){return new hye(n,t,e,i)}function YW(n,t){return GN.apply(this,arguments)}function GN(){return GN=(0,le.Z)(function*(n,t){const e=Re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Mt();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),GN.apply(this,arguments)}function QW(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function XW(n,t,e){let i=Mt(),r=Mt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Uo();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function mye(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Hp(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(o=>o?(r=o,G.resolve(r)):e.qr.allocateTargetId(i).next(s=>(r=new Ll(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function $p(n,t,e){return WN.apply(this,arguments)}function WN(){return WN=(0,le.Z)(function*(n,t,e){const i=Re(n),r=i.ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Gc(s))throw s;Ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),WN.apply(this,arguments)}function XC(n,t,e){const i=Re(n);let r=Je.min(),o=Mt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Re(l),g=f.ns.get(u);return void 0!==g?G.resolve(f.ts.get(g)):f.qr.getTargetData(c,u)}(i,s,To(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,t,e?r:Je.min(),e?o:Mt())).next(a=>(t8(i,kG(t),a),{documents:a,ls:o})))}function JW(n,t){const e=Re(n),i=Re(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i._t(o,t).next(s=>s?s.target:null))}function e8(n,t){const e=Re(n),i=e.rs.get(t)||Je.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,Z5(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(t8(e,t,r),r))}function t8(n,t,e){let i=n.rs.get(t)||Je.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(t,i)}function qN(){return qN=(0,le.Z)(function*(n,t,e,i){const r=Re(n);let o=Mt(),s=Uo();for(const c of e){const u=t.hs(c.metadata.name);c.document&&(o=o.add(u));const f=t.Ps(c);f.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(u,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield Hp(r,(u=i,To(Ap(cn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>XW(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}),qN.apply(this,arguments)}function _ye(n,t){return KN.apply(this,arguments)}function KN(){return KN=(0,le.Z)(function*(n,t,e=Mt()){const i=yield Hp(n,To(MN(t.bundledQuery))),r=Re(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ji(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,t);const a=i.withResumeToken(cr.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,t))})}),KN.apply(this,arguments)}function n8(n,t){return`firestore_clients_${n}_${t}`}function i8(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function ZN(n,t){return`firestore_targets_${n}_${t}`}class JC{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ge(r.error.code,r.error.message))),s?new JC(t,e,r.state,o):(Ui("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uy{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ge(i.error.code,i.error.message))),o?new uy(t,i.state,r):(Ui("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=wN();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=eG(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new eI(t,o):(Ui("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class YN{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new YN(e.clientId,e.onlineState):(Ui("SharedClientState",`Failed to parse online state: ${t}`),null)}}class QN{constructor(){this.activeTargetIds=wN()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XN{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ni(yt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=n8(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new QN),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,le.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const o=t.getItem(n8(t.persistenceKey,r));if(o){const s=eI.Ts(r,o);s&&(t.gs=t.gs.insert(s.clientId,s))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(ZN(this.persistenceKey,t));if(i){const r=uy.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ZN(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ee("SharedClientState","READ",t,e),e}setItem(t,e){Ee("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ee("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ee("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,le.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(s){let a=ls._e;if(null!=s)try{const l=JSON.parse(s);Qe("number"==typeof l),a=l}catch(l){Ui("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==ls._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Js(o)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new JC(this.currentUser,t,e,i),o=i8(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Bs(t){const e=i8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=ZN(this.persistenceKey,t),o=new uy(t,e,i);this.setItem(r,o.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return eI.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return JC.Ts(new Dr(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return uy.Ts(r,e)}Ms(t){return YN.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,le.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=wN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class r8{constructor(){this.eo=new QN,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new QN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vye{ro(t){}shutdown(){}}class o8{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tI=null;function JN(){return null===tI?tI=268435456+Math.round(2147483648*Math.random()):tI++,"0x"+tI.toString(16)}const yye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bye{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const to="WebChannelConnection";class wye extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(e,i,r,o,s){const a=JN(),l=this.So(e,i);Ee("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(e,l,c,r).then(u=>(Ee("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Vo("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,o,s,a){return this.wo(e,i,r,o,s)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}So(e,i){return`${this.mo}/v1/${i}:${yye[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const o=JN();return new Promise((s,a)=>{const l=new v_e;l.setWithCredentials(!0),l.listenOnce(m_e.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sN.NO_ERROR:const u=l.getResponseJson();Ee(to,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case sN.TIMEOUT:Ee(to,`RPC '${t}' ${o} timed out`),a(new ge(X.DEADLINE_EXCEEDED,"Request time out"));break;case sN.HTTP_ERROR:const f=l.getStatus();if(Ee(to,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const y=function(T){const k=T.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(k)>=0?k:X.UNKNOWN}(_.status);a(new ge(y,_.message))}else a(new ge(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(X.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Ee(to,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);Ee(to,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=JN(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=f_e(),a=p_e(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new __e({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=o.join("");Ee(to,`Creating RPC '${t}' stream ${r}: ${u}`,l);const f=s.createWebChannel(u,l);let g=!1,_=!1;const y=new bye({co:T=>{_?Ee(to,`Not sending because RPC '${t}' stream ${r} is closed:`,T):(g||(Ee(to,`Opening RPC '${t}' stream ${r} transport.`),f.open(),g=!0),Ee(to,`RPC '${t}' stream ${r} sending:`,T),f.send(T))},lo:()=>f.close()}),b=(T,k,S)=>{T.listen(k,V=>{try{S(V)}catch(W){setTimeout(()=>{throw W},0)}})};return b(f,TC.EventType.OPEN,()=>{_||Ee(to,`RPC '${t}' stream ${r} transport opened.`)}),b(f,TC.EventType.CLOSE,()=>{_||(_=!0,Ee(to,`RPC '${t}' stream ${r} transport closed`),y.Ro())}),b(f,TC.EventType.ERROR,T=>{_||(_=!0,Vo(to,`RPC '${t}' stream ${r} transport errored:`,T),y.Ro(new ge(X.UNAVAILABLE,"The operation could not be completed")))}),b(f,TC.EventType.MESSAGE,T=>{var k;if(!_){const S=T.data[0];Qe(!!S);const W=S.error||(null===(k=S[0])||void 0===k?void 0:k.error);if(W){Ee(to,`RPC '${t}' stream ${r} received error:`,W);const ae=W.status;let xe=function(dn){const hn=Qi[dn];if(void 0!==hn)return XG(hn)}(ae),Fe=W.message;void 0===xe&&(xe=X.INTERNAL,Fe="Unknown error status: "+ae+" with message "+W.message),_=!0,y.Ro(new ge(xe,Fe)),f.close()}else Ee(to,`RPC '${t}' stream ${r} received:`,S),y.Vo(S)}}),b(a,g_e.STAT_EVENT,T=>{T.stat===$5.PROXY?Ee(to,`RPC '${t}' stream ${r} detected buffering proxy`):T.stat===$5.NOPROXY&&Ee(to,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function s8(){return typeof window<"u"?window:null}function nI(){return typeof document<"u"?document:null}function dy(n){return new Nve(n,!0)}class eM{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&Ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class a8{constructor(t,e,i,r,o,s,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new eM(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,le.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,le.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,le.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===X.RESOURCE_EXHAUSTED?(Ui(e.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===X.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new ge(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,le.Z)(function*(){t.state=0,t.start()}))}o_(t){return Ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eye extends a8{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Pve(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:je(),r=t.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Qe(void 0===u||"string"==typeof u),cr.fromBase64String(u||"")):(Qe(void 0===u||u instanceof Uint8Array),cr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const u=void 0===c.code?X.UNKNOWN:XG(c.code);return new ge(u,c.message||"")}(s);e=new iW(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=za(n,i.document.name),o=ji(i.document.updateTime),s=i.document.createTime?ji(i.document.createTime):Je.min(),a=new Ur({mapValue:{fields:i.document.fields}}),l=hi.newFoundDocument(r,o,s,a);e=new jC(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=za(n,i.document),o=i.readTime?ji(i.readTime):Je.min(),s=hi.newNoDocument(r,o);e=new jC([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=za(n,i.document);e=new jC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return je();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new Tve(r,o);e=new nW(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?ji(s.readTime):Je.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=ny(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=PC(l)?{documents:fW(o,l)}:{query:NN(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aW(o,s.resumeToken);const c=DN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=Fp(o,s.snapshotVersion.toTimestamp());const c=DN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Fve(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=ny(this.serializer),e.removeTarget=t,this.e_(e)}}class Cye extends a8{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(Qe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function Ove(n,t){return n&&n.length>0?(Qe(void 0!==t),n.map(e=>function(r,o){let s=ji(r.updateTime?r.updateTime:o);return s.isEqual(Je.min())&&(s=ji(o)),new wve(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ji(t.commitTime);return this.listener.I_(i,e)}return Qe(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=ny(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>iy(this.serializer,i))};this.e_(e)}}class Iye extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ge(X.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,e,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(X.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class xye{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ui(e),this.f_=!1):Ee("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Dye{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,le.Z)(function*(){var l;iu(s)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,le.Z)(function*(u){const f=Re(u);f.C_.add(4),yield zp(f),f.M_.set("Unknown"),f.C_.delete(4),yield hy(f)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new xye(i,r)}}function hy(n){return nM.apply(this,arguments)}function nM(){return nM=(0,le.Z)(function*(n){if(iu(n))for(const t of n.v_)yield t(!0)}),nM.apply(this,arguments)}function zp(n){return iM.apply(this,arguments)}function iM(){return iM=(0,le.Z)(function*(n){for(const t of n.v_)yield t(!1)}),iM.apply(this,arguments)}function iI(n,t){const e=Re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),sM(e)?oM(e):Wp(e).Ho()&&rM(e,t))}function fy(n,t){const e=Re(n),i=Wp(e);e.D_.delete(t),i.Ho()&&l8(e,t),0===e.D_.size&&(i.Ho()?i.Zo():iu(e)&&e.M_.set("Unknown"))}function rM(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Je.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Wp(n).u_(t)}function l8(n,t){n.x_.Oe(t),Wp(n).c_(t)}function oM(n){n.x_=new Dve({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Wp(n).start(),n.M_.g_()}function sM(n){return iu(n)&&!Wp(n).jo()&&n.D_.size>0}function iu(n){return 0===Re(n).C_.size}function c8(n){n.x_=void 0}function Sye(n){return aM.apply(this,arguments)}function aM(){return aM=(0,le.Z)(function*(n){n.D_.forEach((t,e)=>{rM(n,t)})}),aM.apply(this,arguments)}function Aye(n,t){return lM.apply(this,arguments)}function lM(){return lM=(0,le.Z)(function*(n,t){c8(n),sM(n)?(n.M_.w_(t),oM(n)):n.M_.set("Unknown")}),lM.apply(this,arguments)}function Rye(n,t,e){return cM.apply(this,arguments)}function cM(){return cM=(0,le.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof iW&&2===t.state&&t.cause)try{yield(i=(0,le.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield rI(n,i)}else if(t instanceof jC?n.x_.$e(t):t instanceof nW?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(Je.min()))try{const i=yield QW(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(cr.EMPTY_BYTE_STRING,u.snapshotVersion)),l8(o,l);const f=new Ll(u.target,l,c,u.sequenceNumber);rM(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ee("RemoteStore","Failed to raise snapshot:",i),yield rI(n,i)}var i}),cM.apply(this,arguments)}function rI(n,t,e){return uM.apply(this,arguments)}function uM(){return uM=(0,le.Z)(function*(n,t,e){if(!Gc(t))throw t;n.C_.add(1),yield zp(n),n.M_.set("Offline"),e||(e=()=>QW(n.localStore)),n.asyncQueue.enqueueRetryable((0,le.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield hy(n)}))}),uM.apply(this,arguments)}function u8(n,t){return t().catch(e=>rI(n,e,t))}function Gp(n){return dM.apply(this,arguments)}function dM(){return dM=(0,le.Z)(function*(n){const t=Re(n),e=ru(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Nye(t);)try{const r=yield mye(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,Mye(t,r)}catch(r){yield rI(t,r)}d8(t)&&h8(t)}),dM.apply(this,arguments)}function Nye(n){return iu(n)&&n.b_.length<10}function Mye(n,t){n.b_.push(t);const e=ru(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function d8(n){return iu(n)&&!ru(n).jo()&&n.b_.length>0}function h8(n){ru(n).start()}function kye(n){return hM.apply(this,arguments)}function hM(){return hM=(0,le.Z)(function*(n){ru(n).E_()}),hM.apply(this,arguments)}function Pye(n){return fM.apply(this,arguments)}function fM(){return fM=(0,le.Z)(function*(n){const t=ru(n);for(const e of n.b_)t.P_(e.mutations)}),fM.apply(this,arguments)}function Oye(n,t,e){return pM.apply(this,arguments)}function pM(){return pM=(0,le.Z)(function*(n,t,e){const i=n.b_.shift(),r=IN.from(i,t,e);yield u8(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gp(n)}),pM.apply(this,arguments)}function Fye(n,t){return mM.apply(this,arguments)}function mM(){return mM=(0,le.Z)(function*(n,t){var e;t&&ru(n).h_&&(yield(e=(0,le.Z)(function*(r,o){if(QG(a=o.code)&&a!==X.ABORTED){const s=r.b_.shift();ru(r).Yo(),yield u8(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Gp(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),d8(n)&&h8(n)}),mM.apply(this,arguments)}function f8(n,t){return gM.apply(this,arguments)}function gM(){return gM=(0,le.Z)(function*(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const i=iu(e);e.C_.add(3),yield zp(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield hy(e)}),gM.apply(this,arguments)}function _M(n,t){return vM.apply(this,arguments)}function vM(){return vM=(0,le.Z)(function*(n,t){const e=Re(n);t?(e.C_.delete(2),yield hy(e)):t||(e.C_.add(2),yield zp(e),e.M_.set("Unknown"))}),vM.apply(this,arguments)}function Wp(n){return n.O_||(n.O_=function(e,i,r){const o=Re(e);return o.A_(),new Eye(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:Sye.bind(null,n),Io:Aye.bind(null,n),a_:Rye.bind(null,n)}),n.v_.push(function(){var t=(0,le.Z)(function*(e){e?(n.O_.Yo(),sM(n)?oM(n):n.M_.set("Unknown")):(yield n.O_.stop(),c8(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function ru(n){return n.N_||(n.N_=function(e,i,r){const o=Re(e);return o.A_(),new Cye(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:kye.bind(null,n),Io:Fye.bind(null,n),T_:Pye.bind(null,n),I_:Oye.bind(null,n)}),n.v_.push(function(){var t=(0,le.Z)(function*(e){e?(n.N_.Yo(),yield Gp(n)):(yield n.N_.stop(),n.b_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class yM{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new yM(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(n,t){if(Ui("AsyncQueue",`${t}: ${n}`),Gc(n))return new ge(X.UNAVAILABLE,`${t}: ${n}`);throw n}class Kp{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ne.comparator(e.key,i.key):(e,i)=>Ne.comparator(e.key,i.key),this.keyedMap=Kv(),this.sortedSet=new ni(this.comparator)}static emptySet(t){return new Kp(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Kp)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Kp;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class p8{constructor(){this.B_=new ni(Ne.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):je():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Zp{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Zp(t,e,Kp.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Lye{constructor(){this.k_=void 0,this.listeners=[]}}class Vye{constructor(){this.queries=new Ol(t=>MG(t),Wv),this.onlineState="Unknown",this.q_=new Set}}function bM(n,t){return wM.apply(this,arguments)}function wM(){return wM=(0,le.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Lye),r)try{o.k_=yield e.onListen(i)}catch(s){const a=qp(s,`Initialization of query '${Np(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,o),o.listeners.push(t),t.Q_(e.onlineState),o.k_&&t.K_(o.k_)&&IM(e)}),wM.apply(this,arguments)}function EM(n,t){return CM.apply(this,arguments)}function CM(){return CM=(0,le.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),CM.apply(this,arguments)}function Bye(n,t){const e=Re(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&IM(e)}function Uye(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function IM(n){n.q_.forEach(t=>{t.next()})}class TM{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Zp(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Zp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class jye{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class m8{constructor(t){this.serializer=t}hs(t){return za(this.serializer,t)}Ps(t){return t.metadata.exists?hW(this.serializer,t.document,!1):hi.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return ji(t)}}class Hye{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g8(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=cn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new m8(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Mt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,le.Z)(function*(){const e=yield function gye(n,t,e,i){return qN.apply(this,arguments)}(t.localStore,new m8(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield _ye(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function g8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _8{constructor(t){this.key=t}}class v8{constructor(t){this.key=t}}class y8{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Mt(),this.mutatedKeys=Mt(),this._a=PG(t),this.aa=new Kp(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new p8,r=e?e.aa:this.aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,f)=>{const g=r.get(u),_=qv(this.query,f)?f:null,y=!!g&&this.mutatedKeys.has(g.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;g&&_?g.data.isEqual(_.data)?y!==b&&(i.track({type:3,doc:_}),T=!0):this.ha(g,_)||(i.track({type:2,doc:_}),T=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!g&&_?(i.track({type:0,doc:_}),T=!0):g&&!_&&(i.track({type:1,doc:g}),T=!0,(l||c)&&(a=!0)),T&&(_?(s=s.add(_),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,u)=>function(g,_){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return y(g)-y(_)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const s=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Zp(this.query,t.aa,r,o,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new p8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Mt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new v8(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new _8(i))}),e}da(t){this.ia=t.ls,this.oa=Mt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Zp.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class $ye{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zye{constructor(t){this.key=t,this.Ra=!1}}class Gye{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Ol(a=>MG(a),Wv),this.fa=new Map,this.ga=new Set,this.pa=new ni(Ne.comparator),this.ya=new Map,this.wa=new BN,this.Sa={},this.ba=new Map,this.Da=Md.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Wye(n,t){return xM.apply(this,arguments)}function xM(){return xM=(0,le.Z)(function*(n,t){const e=ZM(n);let i,r;const o=e.ma.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield Hp(e.localStore,To(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield DM(e,t,i,"current"===a,s.resumeToken),e.isPrimaryClient&&iI(e.remoteStore,s)}return r}),xM.apply(this,arguments)}function DM(n,t,e,i,r){return SM.apply(this,arguments)}function SM(){return SM=(0,le.Z)(function*(n,t,e,i,r){n.va=(f,g,_)=>{return(y=(0,le.Z)(function*(T,k,S,V){let W=k.view.ca(S);W.Zi&&(W=yield XC(T.localStore,k.query,!1).then(({documents:Fe})=>k.view.ca(Fe,W)));const ae=V&&V.targetChanges.get(k.targetId),xe=k.view.applyChanges(W,T.isPrimaryClient,ae);return VM(T,k.targetId,xe.Ta),xe.snapshot}),function b(T,k,S,V){return y.apply(this,arguments)})(n,f,g,_);var y};const o=yield XC(n.localStore,t,!0),s=new y8(t,o.ls),a=s.ca(o.documents),l=ey.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);VM(n,e,c.Ta);const u=new $ye(t,e,s);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),SM.apply(this,arguments)}function qye(n,t){return AM.apply(this,arguments)}function AM(){return AM=(0,le.Z)(function*(n,t){const e=Re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(o=>!Wv(o,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $p(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),fy(e.remoteStore,i.targetId),Yp(e,i.targetId)}).catch(zc))):(Yp(e,i.targetId),yield $p(e.localStore,i.targetId,!0))}),AM.apply(this,arguments)}function RM(){return RM=(0,le.Z)(function*(n,t,e){const i=YM(n);try{const r=yield function(s,a){const l=Re(s),c=vi.now(),u=a.reduce((_,y)=>_.add(y.key),Mt());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let y=Uo(),b=Mt();return l.ss.getEntries(_,u).next(T=>{y=T,y.forEach((k,S)=>{S.isValidDocument()||(b=b.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,y)).next(T=>{f=T;const k=[];for(const S of a){const V=Cve(S,f.get(S.key).overlayedDocument);null!=V&&k.push(new Fl(S.key,V,_G(V.value.mapValue),yi.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,k,a)}).next(T=>{g=T;const k=T.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(_,T.batchId,k)})}).then(()=>({batchId:g.batchId,changes:FG(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ni(yt)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,e),yield Vl(i,r.changes),yield Gp(i.remoteStore)}catch(r){const o=qp(r,"Failed to persist write");e.reject(o)}}),RM.apply(this,arguments)}function b8(n,t){return NM.apply(this,arguments)}function NM(){return NM=(0,le.Z)(function*(n,t){const e=Re(n);try{const i=yield function pye(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,f)=>{const g=r.get(f);if(!g)return;a.push(e.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>e.qr.addMatchingKeys(o,u.addedDocuments,f)));let _=g.withSequenceNumber(o.currentSequenceNumber);var b,T,k;null!==t.targetMismatches.get(f)?_=_.withResumeToken(cr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,i)),r=r.insert(f,_),T=_,k=u,(0===(b=g).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(o,_))});let l=Uo(),c=Mt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(XW(o,s,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(Je.min())){const u=e.qr.getLastRemoteSnapshotVersion(o).next(f=>e.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.ts=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.ya.get(o);s&&(Qe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Qe(s.Ra):r.removedDocuments.size>0&&(Qe(s.Ra),s.Ra=!1))}),yield Vl(e,i,t)}catch(i){yield zc(i)}}),NM.apply(this,arguments)}function w8(n,t,e){const i=Re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Re(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const g of f.listeners)g.Q_(a)&&(c=!0)}),c&&IM(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Zye(n,t,e){return MM.apply(this,arguments)}function MM(){return MM=(0,le.Z)(function*(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),o=r&&r.key;if(o){let s=new ni(Ne.comparator);s=s.insert(o,hi.newNoDocument(o,Je.min()));const a=Mt().add(o),l=new Jv(Je.min(),new Map,new ni(yt),s,a);yield b8(i,l),i.pa=i.pa.remove(o),i.ya.delete(t),BM(i)}else yield $p(i.localStore,t,!1).then(()=>Yp(i,t,e)).catch(zc)}),MM.apply(this,arguments)}function Yye(n,t){return kM.apply(this,arguments)}function kM(){return kM=(0,le.Z)(function*(n,t){const e=Re(n),i=t.batch.batchId;try{const r=yield function fye(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,g=f.keys();let _=G.resolve();return g.forEach(y=>{_=_.next(()=>u.getEntry(l,y)).next(b=>{const T=c.docVersions.get(y);Qe(null!==T),b.version.compareTo(T)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);LM(e,i,null),FM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Vl(e,r)}catch(r){yield zc(r)}}),kM.apply(this,arguments)}function Qye(n,t,e){return PM.apply(this,arguments)}function PM(){return PM=(0,le.Z)(function*(n,t,e){const i=Re(n);try{const r=yield function(s,a){const l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Qe(null!==f),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);LM(i,t,e),FM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Vl(i,r)}catch(r){yield zc(r)}}),PM.apply(this,arguments)}function OM(){return OM=(0,le.Z)(function*(n,t){const e=Re(n);iu(e.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=qp(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),OM.apply(this,arguments)}function FM(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function LM(n,t,e){const i=Re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Yp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||E8(n,i)})}function E8(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(fy(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),BM(n))}function VM(n,t,e){for(const i of e)i instanceof _8?(n.wa.addReference(i.key,t),Jye(n,i)):i instanceof v8?(Ee("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||E8(n,i.key)):je()}function Jye(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(Ee("SyncEngine","New document in limbo: "+e),n.ga.add(i),BM(n))}function BM(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Ne(cn.fromString(t)),i=n.Da.next();n.ya.set(i,new zye(e)),n.pa=n.pa.insert(e,i),iI(n.remoteStore,new Ll(To(Ap(e.path)),i,"TargetPurposeLimboResolution",ls._e))}}function Vl(n,t,e){return UM.apply(this,arguments)}function UM(){return UM=(0,le.Z)(function*(n,t,e){const i=Re(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=zN.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,le.Z)(function*(c,u){const f=Re(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(u,_=>G.forEach(_.ki,y=>f.persistence.referenceDelegate.addReference(g,_.targetId,y)).next(()=>G.forEach(_.qi,y=>f.persistence.referenceDelegate.removeReference(g,_.targetId,y)))))}catch(g){if(!Gc(g))throw g;Ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const _=g.targetId;if(!g.fromCache){const y=f.ts.get(_),T=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);f.ts=f.ts.insert(_,T)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,o))}),UM.apply(this,arguments)}function ebe(n,t){return jM.apply(this,arguments)}function jM(){return jM=(0,le.Z)(function*(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){Ee("SyncEngine","User change. New user:",t.toKey());const i=yield YW(e.localStore,t);e.currentUser=t,(o=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new ge(X.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Vl(e,i._s)}var o}),jM.apply(this,arguments)}function tbe(n,t){const e=Re(n),i=e.ya.get(t);if(i&&i.Ra)return Mt().add(i.key);{let r=Mt();const o=e.fa.get(t);if(!o)return r;for(const s of o){const a=e.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function nbe(n,t){return HM.apply(this,arguments)}function HM(){return HM=(0,le.Z)(function*(n,t){const e=Re(n),i=yield XC(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&VM(e,t.targetId,r.Ta),r}),HM.apply(this,arguments)}function ibe(n,t){return $M.apply(this,arguments)}function $M(){return $M=(0,le.Z)(function*(n,t){const e=Re(n);return e8(e.localStore,t).then(i=>Vl(e,i))}),$M.apply(this,arguments)}function rbe(n,t,e,i){return zM.apply(this,arguments)}function zM(){return zM=(0,le.Z)(function*(n,t,e,i){const r=Re(n),o=yield function(a,l){const c=Re(a),u=Re(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,l).next(g=>g?c.localDocuments.getDocuments(f,g):G.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield Gp(r.remoteStore):"acknowledged"===e||"rejected"===e?(LM(r,t,i||null),FM(r,t),l=t,Re(Re(r.localStore).mutationQueue).Fn(l)):je(),yield Vl(r,o)):Ee("SyncEngine","Cannot apply mutation batch with id: "+t)}),zM.apply(this,arguments)}function GM(){return GM=(0,le.Z)(function*(n,t){const e=Re(n);if(ZM(e),YM(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield C8(e,i.toArray());e.Ca=!0,yield _M(e.remoteStore,!0);for(const o of r)iI(e.remoteStore,o)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Yp(e,s),$p(e.localStore,s,!0))),fy(e.remoteStore,s)}),yield r,yield C8(e,i),function(s){const a=Re(s);a.ya.forEach((l,c)=>{fy(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new ni(Ne.comparator)}(e),e.Ca=!1,yield _M(e.remoteStore,!1)}}),GM.apply(this,arguments)}function C8(n,t,e){return WM.apply(this,arguments)}function WM(){return WM=(0,le.Z)(function*(n,t,e){const i=Re(n),r=[],o=[];for(const s of t){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield Hp(i.localStore,To(l[0]));for(const c of l){const u=i.ma.get(c),f=yield nbe(i,u);f.snapshot&&o.push(f.snapshot)}}else{const c=yield JW(i.localStore,s);a=yield Hp(i.localStore,c),yield DM(i,I8(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),WM.apply(this,arguments)}function I8(n){return AG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sbe(n){return e=Re(n).localStore,Re(Re(e).persistence).Bi();var e}function abe(n,t,e,i){return qM.apply(this,arguments)}function qM(){return qM=(0,le.Z)(function*(n,t,e,i){const r=Re(n);if(r.Ca)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield e8(r.localStore,kG(o[0])),a=Jv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,cr.EMPTY_BYTE_STRING);yield Vl(r,s,a);break}case"rejected":yield $p(r.localStore,t,!0),Yp(r,t,i);break;default:je()}}),qM.apply(this,arguments)}function lbe(n,t,e){return KM.apply(this,arguments)}function KM(){return KM=(0,le.Z)(function*(n,t,e){const i=ZM(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){Ee("SyncEngine","Adding an already active target "+r);continue}const o=yield JW(i.localStore,r),s=yield Hp(i.localStore,o);yield DM(i,I8(o),s.targetId,!1,s.resumeToken),iI(i.remoteStore,s)}for(const r of e)i.fa.has(r)&&(yield $p(i.localStore,r,!1).then(()=>{fy(i.remoteStore,r),Yp(i,r)}).catch(zc))}}),KM.apply(this,arguments)}function ZM(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=b8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zye.bind(null,t),t.Va.a_=Bye.bind(null,t.eventManager),t.Va.Fa=Uye.bind(null,t.eventManager),t}function YM(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yye.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qye.bind(null,t),t}class py{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,le.Z)(function*(){e.serializer=dy(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return ZW(this.persistence,new KW,t.initialUser,this.serializer)}createPersistence(t){return new UN(ZC.jr,this.serializer)}createSharedClientState(t){return new r8}terminate(){var t=this;return(0,le.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class QM extends py{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,le.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield YM(i.xa.syncEngine),yield Gp(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return ZW(this.persistence,new KW,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new BW(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new O_e(e,this.persistence);return new P_e(t.asyncQueue,i)}createPersistence(t){const e=$N(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new HN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,s8(),nI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new r8}}class T8 extends QM{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,le.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof XN&&(i.sharedClientState.syncEngine={Ys:rbe.bind(null,r),Zs:abe.bind(null,r),Xs:lbe.bind(null,r),Bi:sbe.bind(null,r),Js:ibe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,le.Z)(function*(s){yield function obe(n,t){return GM.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=s8();if(!XN.D(e))throw new ge(X.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=$N(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new XN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Qp{initialize(t,e){var i=this;return(0,le.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>w8(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ebe.bind(null,i.syncEngine),yield _M(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Vye}createDatastore(t){const e=dy(t.databaseInfo.databaseId),i=new wye(t.databaseInfo);return new Iye(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>w8(this.syncEngine,e,0),a=o8.D()?new o8:new vye,new Dye(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,l,c,u){const f=new Gye(r,o,s,a,l,c);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,le.Z)(function*(i){const r=Re(i);Ee("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield zp(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function x8(n,t=10240){let e=0;return{read:()=>(0,le.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,le.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class dbe{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new lr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,le.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,le.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,le.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const o=yield t.Ka(r);return new jye(JSON.parse(o),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,le.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,le.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,le.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class hbe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,le.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ge(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,le.Z)(function*(s,a){const l=Re(s),c=ny(l.serializer)+"/documents",u={documents:a.map(y=>ty(l.serializer,y))},f=yield l.Co("BatchGetDocuments",c,u,a.length),g=new Map;f.forEach(y=>{const b=function kve(n,t){return"found"in t?function(i,r){Qe(!!r.found);const o=za(i,r.found.name),s=ji(r.found.updateTime),a=r.found.createTime?ji(r.found.createTime):Je.min(),l=new Ur({mapValue:{fields:r.found.fields}});return hi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){Qe(!!r.missing),Qe(!!r.readTime);const o=za(i,r.missing),s=ji(r.readTime);return hi.newNoDocument(o,s)}(n,t):je()}(l.serializer,y);g.set(b.key.toString(),b)});const _=[];return a.forEach(y=>{const b=g.get(y.toString());Qe(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Op(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,le.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Ne.fromPath(r);t.mutations.push(new EN(o,t.precondition(o)))}),yield(i=(0,le.Z)(function*(o,s){const a=Re(o),l=ny(a.serializer)+"/documents",c={writes:s.map(u=>iy(a.serializer,u))};yield a.wo("Commit",l,c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw je();e=Je.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ge(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Je.min())?yi.exists(!1):yi.updateTime(e):yi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Je.min()))throw new ge(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yi.updateTime(e)}return yi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class fbe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new eM(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,le.Z)(function*(){const e=new hbe(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ja(o)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!Vv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!QG(e)}return!1}}class pbe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Dr.UNAUTHENTICATED,this.clientId=q5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,le.Z)(function*(a){Ee("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,le.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=qp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function sI(n,t){return XM.apply(this,arguments)}function XM(){return XM=(0,le.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,le.Z)(function*(o){i.isEqual(o)||(yield YW(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),XM.apply(this,arguments)}function JM(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,le.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield tk(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>f8(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>f8(t.remoteStore,o)),n._onlineComponents=t}),ek.apply(this,arguments)}function D8(n){return"FirebaseError"===n.name?n.code===X.FAILED_PRECONDITION||n.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function tk(n){return nk.apply(this,arguments)}function nk(){return nk=(0,le.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sI(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!D8(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),yield sI(n,new py)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield sI(n,new py);return n._offlineComponents}),nk.apply(this,arguments)}function aI(n){return ik.apply(this,arguments)}function ik(){return ik=(0,le.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield JM(n,n._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield JM(n,new Qp))),n._onlineComponents}),ik.apply(this,arguments)}function S8(n){return tk(n).then(t=>t.persistence)}function Xp(n){return tk(n).then(t=>t.localStore)}function A8(n){return aI(n).then(t=>t.remoteStore)}function rk(n){return aI(n).then(t=>t.syncEngine)}function Jp(n){return ok.apply(this,arguments)}function ok(){return ok=(0,le.Z)(function*(n){const t=yield aI(n),e=t.eventManager;return e.onListen=Wye.bind(null,t.syncEngine),e.onUnlisten=qye.bind(null,t.syncEngine),e}),ok.apply(this,arguments)}function N8(n,t,e={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,l,c){const u=new oI({next:g=>{s.enqueueAndForget(()=>EM(o,f));const _=g.docs.has(a);!_&&g.fromCache?c.reject(new ge(X.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&l&&"server"===l.source?c.reject(new ge(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new TM(Ap(a.path),u,{includeMetadataChanges:!0,J_:!0});return bM(o,f)}(yield Jp(n),n.asyncQueue,t,e,i)})),i.promise}function M8(n,t,e={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,l,c){const u=new oI({next:g=>{s.enqueueAndForget(()=>EM(o,f)),g.fromCache&&"server"===l.source?c.reject(new ge(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new TM(a,u,{includeMetadataChanges:!0,J_:!0});return bM(o,f)}(yield Jp(n),n.asyncQueue,t,e,i)})),i.promise}function k8(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const P8=new Map;function sk(n,t,e){if(!e)throw new ge(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function O8(n,t,e,i){if(!0===t&&!0===i)throw new ge(X.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function F8(n){if(!Ne.isDocumentKey(n))throw new ge(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L8(n){if(Ne.isDocumentKey(n))throw new ge(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":je()}function tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ge(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=lI(n);throw new ge(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function V8(n,t){if(t<=0)throw new ge(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class B8{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new ge(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ge(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=k8(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class my{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ge(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B8(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new E_e;switch(i.type){case"firstParty":return new x_e(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=P8.get(e);i&&(Ee("ComponentProvider","Removing Datastore"),P8.delete(e),i.terminate())}(this),Promise.resolve()}}class jr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jr(this.firestore,t,this._query)}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Ga extends jr{constructor(t,e,i){super(t,e,Ap(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new Ne(t))}withConverter(t){return new Ga(this.firestore,t,this._path)}}function j8(n,t,...e){if(n=(0,x.m9)(n),sk("collection","path",t),n instanceof my){const i=cn.fromString(t,...e);return L8(i),new Ga(n,null,i)}{if(!(n instanceof fi||n instanceof Ga))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return L8(i),new Ga(n.firestore,null,i)}}function cI(n,t,...e){if(n=(0,x.m9)(n),1===arguments.length&&(t=q5.newId()),sk("doc","path",t),n instanceof my){const i=cn.fromString(t,...e);return F8(i),new fi(n,null,new Ne(i))}{if(!(n instanceof fi||n instanceof Ga))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return F8(i),new fi(n.firestore,n instanceof Ga?n.converter:null,new Ne(i))}}function H8(n,t){return n=(0,x.m9)(n),t=(0,x.m9)(t),(n instanceof fi||n instanceof Ga)&&(t instanceof fi||t instanceof Ga)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function ak(n,t){return n=(0,x.m9)(n),t=(0,x.m9)(t),n instanceof jr&&t instanceof jr&&n.firestore===t.firestore&&Wv(n._query,t._query)&&n.converter===t.converter}class xbe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new eM(this,"async_queue_retry"),this.iu=()=>{const e=nI();e&&Ee("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=nI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=nI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,le.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Gc(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=yM.createAndSchedule(this,t,e,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&je()}verifyOperationInProgress(){}uu(){var t=this;return(0,le.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function lk(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Dbe{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ii extends my{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new xbe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$8(this),this._firestoreClient.terminate()}}function Fi(n){return n._firestoreClient||$8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $8(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new nve(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,k8(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new pbe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function z8(n,t,e){const i=new lr;return n.asyncQueue.enqueue((0,le.Z)(function*(){try{yield sI(n,e),yield JM(n,t),i.resolve()}catch(r){const o=r;if(!D8(o))throw o;Vo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function G8(n){if(n._initialized||n._terminated)throw new ge(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(cr.fromBase64String(t))}catch(e){throw new ge(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wa(cr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Bl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ge(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pd{constructor(t){this._methodName=t}}class uI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ge(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ge(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return yt(this._lat,t._lat)||yt(this._long,t._long)}}const Vbe=/^__.*__$/;class Bbe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Fl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Pp(t,this.data,e,this.fieldTransforms)}}class W8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Fl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function q8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class dI{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new dI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return pI(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(q8(this.Iu)&&Vbe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Ube{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||dy(t)}pu(t,e,i,r=!1){return new dI({Iu:t,methodName:e,gu:i,path:di.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const t=n._freezeSettings(),e=dy(n._databaseId);return new Ube(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hI(n,t,e,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,t,e,r);hk("Data must be an object, but it was:",s,i);const a=Y8(i,s);let l,c;if(o.merge)l=new Bo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const g=vy(t,f,e);if(!s.contains(g))throw new ge(X.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);X8(u,g)||u.push(g)}l=new Bo(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Bbe(new Ur(a),l,c)}class _y extends Pd{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _y}}function K8(n,t,e){return new dI({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ck extends Pd{_toFieldTransform(t){return new Yv(t.path,new Mp)}isEqual(t){return t instanceof ck}}class jbe extends Pd{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=K8(this,t,!0),i=this.yu.map(o=>Fd(o,e)),r=new Td(i);return new Yv(t.path,r)}isEqual(t){return this===t}}class Hbe extends Pd{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=K8(this,t,!0),i=this.yu.map(o=>Fd(o,e)),r=new xd(i);return new Yv(t.path,r)}isEqual(t){return this===t}}class $be extends Pd{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new kp(t.serializer,UG(t.serializer,this.wu));return new Yv(t.path,e)}isEqual(t){return this===t}}function uk(n,t,e,i){const r=n.pu(1,t,e);hk("Data must be an object, but it was:",r,i);const o=[],s=Ur.empty();Wc(i,(l,c)=>{const u=fI(t,l,e);c=(0,x.m9)(c);const f=r.Ru(u);if(c instanceof _y)o.push(u);else{const g=Fd(c,f);null!=g&&(o.push(u),s.set(u,g))}});const a=new Bo(o);return new W8(s,a,r.fieldTransforms)}function dk(n,t,e,i,r,o){const s=n.pu(1,t,e),a=[vy(t,i,e)],l=[r];if(o.length%2!=0)throw new ge(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(vy(t,o[g])),l.push(o[g+1]);const c=[],u=Ur.empty();for(let g=a.length-1;g>=0;--g)if(!X8(c,a[g])){const _=a[g];let y=l[g];y=(0,x.m9)(y);const b=s.Ru(_);if(y instanceof _y)c.push(_);else{const T=Fd(y,b);null!=T&&(c.push(_),u.set(_,T))}}const f=new Bo(c);return new W8(u,f,s.fieldTransforms)}function Z8(n,t,e,i=!1){return Fd(e,n.pu(i?4:3,t))}function Fd(n,t){if(Q8(n=(0,x.m9)(n)))return hk("Unsupported field value:",t,n),Y8(n,t);if(n instanceof Pd)return function(i,r){if(!q8(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Fd(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,x.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return UG(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=vi.fromDate(i);return{timestampValue:Fp(r.serializer,o)}}if(i instanceof vi){const o=new vi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fp(r.serializer,o)}}if(i instanceof uI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wa)return{bytesValue:aW(r.serializer,i._byteString)};if(i instanceof fi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SN(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${lI(i)}`)}(n,t)}function Y8(n,t){const e={};return lG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wc(n,(i,r)=>{const o=Fd(r,t.Eu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function Q8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vi||n instanceof uI||n instanceof Wa||n instanceof fi||n instanceof Pd)}function hk(n,t,e){if(!Q8(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=lI(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function vy(n,t,e){if((t=(0,x.m9)(t))instanceof Bl)return t._internalPath;if("string"==typeof t)return fI(n,t);throw pI("Field path arguments must be of type string or ",n,!1,void 0,e)}const zbe=new RegExp("[~\\*/\\[\\]]");function fI(n,t,e){if(t.search(zbe)>=0)throw pI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Bl(...t.split("."))._internalPath}catch{throw pI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pI(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ge(X.INVALID_ARGUMENT,a+n+l)}function X8(n,t){return n.some(e=>e.isEqual(t))}class yy{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Gbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(mI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Gbe extends yy{data(){return super.data()}}function mI(n,t){return"string"==typeof t?fI(n,t):t instanceof Bl?t._internalPath:t._delegate._internalPath}function J8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ge(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fk{}class by extends fk{}function ou(n,t,...e){let i=[];t instanceof fk&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof em).length,a=o.filter(l=>l instanceof wy).length;if(s>1||s>0&&a>0)throw new ge(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class wy extends by{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new wy(t,e,i)}_apply(t){const e=this._parse(t);return i6(t._query,e),new jr(t.firestore,t.converter,bN(t._query,e))}_parse(t){const e=Od(t.firestore);return function(o,s,a,l,c,u,f){let g;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ge(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){n6(f,u);const _=[];for(const y of f)_.push(t6(l,o,y));g={arrayValue:{values:_}}}else g=t6(l,o,f)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||n6(f,u),g=Z8(a,"where",f,"in"===u||"not-in"===u);return sn.create(c,u,g)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class em extends fk{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new em(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Pn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)i6(s,l),s=bN(s,l)}(t._query,e),new jr(t.firestore,t.converter,bN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pk extends by{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new pk(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zv(o,s)}(t._query,this._field,this._direction);return new jr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Pl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class gI extends by{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new gI(t,e,i)}_apply(t){return new jr(t.firestore,t.converter,FC(t._query,this._limit,this._limitType))}}class _I extends by{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new _I(t,e,i)}_apply(t){const e=e6(t,this.type,this._docOrFields,this._inclusive);return new jr(t.firestore,t.converter,(o=e,new Pl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class vI extends by{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new vI(t,e,i)}_apply(t){const e=e6(t,this.type,this._docOrFields,this._inclusive);return new jr(t.firestore,t.converter,(o=e,new Pl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function e6(n,t,e,i){if(e[0]=(0,x.m9)(e[0]),e[0]instanceof yy)return function(o,s,a,l,c){if(!l)throw new ge(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Rp(o))if(f.field.isKeyField())u.push(Cd(s,l.key));else{const g=l.data.field(f.field);if(AC(g))throw new ge(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const _=f.field.canonicalString();throw new ge(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}u.push(g)}return new Xc(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Od(n.firestore);return function(s,a,l,c,u,f){const g=s.explicitOrderBy;if(u.length>g.length)throw new ge(X.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let y=0;y<u.length;y++){const b=u[y];if(g[y].field.isKeyField()){if("string"!=typeof b)throw new ge(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!yN(s)&&-1!==b.indexOf("/"))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);const T=s.path.child(cn.fromString(b));if(!Ne.isDocumentKey(T))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const k=new Ne(T);_.push(Cd(a,k))}else{const T=Z8(l,c,b);_.push(T)}}return new Xc(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function t6(n,t,e){if("string"==typeof(e=(0,x.m9)(e))){if(""===e)throw new ge(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(t)&&-1!==e.indexOf("/"))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(cn.fromString(e));if(!Ne.isDocumentKey(i))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cd(n,new Ne(i))}if(e instanceof fi)return Cd(n,e._key);throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lI(e)}.`)}function n6(n,t){if(!Array.isArray(n)||0===n.length)throw new ge(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function i6(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ge(X.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class mk{convertValue(t,e="none"){switch(Yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(kl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw je()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Wc(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new uI(Oi(t.latitude),Oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=RC(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Uv(t));default:return null}}convertTimestamp(t){const e=qc(t);return new vi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=cn.fromString(t);Qe(_W(i));const r=new Kc(i.get(1),i.get(3)),o=new Ne(i.popFirst(5));return r.isEqual(e)||Ui(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function yI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class e0e extends mk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class Ld{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ul extends yy{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(mI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ey extends Ul{data(t={}){return super.data(t)}}class su{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ld(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ey(this._firestore,this._userDataWriter,i.key,i,new Ld(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ge(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Ey(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ld(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Ey(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ld(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:n0e(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function n0e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}function o6(n,t){return n instanceof Ul&&t instanceof Ul?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof su&&t instanceof su&&n._firestore===t._firestore&&ak(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class au extends mk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function s6(n,t,e){n=tn(n,fi);const i=tn(n.firestore,ii),r=yI(n.converter,t,e);return tm(i,[hI(Od(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,yi.none())])}function a6(n,t,e,...i){n=tn(n,fi);const r=tn(n.firestore,ii),o=Od(r);let s;return s="string"==typeof(t=(0,x.m9)(t))||t instanceof Bl?dk(o,"updateDoc",n._key,t,e,i):uk(o,"updateDoc",n._key,t),tm(r,[s.toMutation(n._key,yi.exists(!0))])}function l6(n,...t){var e,i,r;n=(0,x.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||lk(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(lk(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,u;if(n instanceof fi)c=tn(n.firestore,ii),u=Ap(n._key.path),l={next:f=>{t[s]&&t[s](gk(c,n,f))},error:t[s+1],complete:t[s+2]};else{const f=tn(n,jr);c=tn(f.firestore,ii),u=f._query;const g=new au(c);l={next:_=>{t[s]&&t[s](new su(c,g,f,_))},error:t[s+1],complete:t[s+2]},J8(n._query)}return function(g,_,y,b){const T=new oI(b),k=new TM(_,T,y);return g.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return bM(yield Jp(g),k)})),()=>{T.Na(),g.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return EM(yield Jp(g),k)}))}}(Fi(c),u,a,l)}function tm(n,t){return function(i,r){const o=new lr;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Kye(n,t,e){return RM.apply(this,arguments)}(yield rk(i),r,o)})),o.promise}(Fi(n),t)}function gk(n,t,e){const i=e.docs.get(t._key),r=new au(n);return new Ul(n,r,t._key,i,new Ld(e.hasPendingWrites,e.fromCache),t.converter)}const b0e={maxAttempts:5};class c6{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Od(t)}set(t,e,i){this._verifyNotCommitted();const r=lu(t,this._firestore),o=yI(r.converter,e,i),s=hI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,yi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=lu(t,this._firestore);let s;return s="string"==typeof(e=(0,x.m9)(e))||e instanceof Bl?dk(this._dataReader,"WriteBatch.update",o._key,e,i,r):uk(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,yi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=lu(t,this._firestore);return this._mutations=this._mutations.concat(new Op(e._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(n,t){if((n=(0,x.m9)(n)).firestore!==t)throw new ge(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class w0e extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Od(e)}get(e){const i=lu(e,this._firestore),r=new e0e(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return je();const s=o[0];if(s.isFoundDocument())return new yy(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new yy(this._firestore,r,i._key,null,i.converter);throw je()})}set(e,i,r){const o=lu(e,this._firestore),s=yI(o.converter,i,r),a=hI(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=lu(e,this._firestore);let a;return a="string"==typeof(i=(0,x.m9)(i))||i instanceof Bl?dk(this._dataReader,"Transaction.update",s._key,i,r,o):uk(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=lu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=lu(t,this._firestore),i=new au(this._firestore);return super.get(t).then(r=>new Ul(this._firestore,i,e._key,r._document,new Ld(!1,!1),e.converter))}}function vk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function f6(){if(typeof Uint8Array>"u")throw new ge("unimplemented","Uint8Arrays are not available in this environment.")}function p6(){if(!function eve(){return typeof atob<"u"}())throw new ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){wp=Ms.SDK_VERSION,(0,Ms._registerComponent)(new Dl.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ii(new I_e(i.getProvider("auth-internal")),new D_e(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(z5,"4.3.2",t),(0,Ms.registerVersion)(z5,"4.3.2","esm2017")}();class Cy{constructor(t){this._delegate=t}static fromBase64String(t){return p6(),new Cy(Wa.fromBase64String(t))}static fromUint8Array(t){return f6(),new Cy(Wa.fromUint8Array(t))}toBase64(){return p6(),this._delegate.toBase64()}toUint8Array(){return f6(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yk(n){return function N0e(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class M0e{enableIndexedDbPersistence(t,e){return function Abe(n,t){G8(n=tn(n,ii));const e=Fi(n);if(e._uninitializedComponentsProvider)throw new ge(X.FAILED_PRECONDITION,"SDK cache is already specified.");Vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Qp;return z8(e,r,new QM(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Rbe(n){G8(n=tn(n,ii));const t=Fi(n);if(t._uninitializedComponentsProvider)throw new ge(X.FAILED_PRECONDITION,"SDK cache is already specified.");Vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Qp;return z8(t,i,new T8(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Nbe(n){if(n._initialized&&!n._terminated)throw new ge(X.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{yield(e=(0,le.Z)(function*(r){if(!sa.D())return Promise.resolve();const o=r+"main";yield sa.delete(o)}),function i(r){return e.apply(this,arguments)})($N(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class m6{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Kc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function U8(n,t,e,i={}){var r;const o=(n=tn(n,my))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Dr.MOCK_USER;else{a=(0,x.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ge(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dr(c)}n._authCredentials=new C_e(new G5(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function kbe(n){return function mbe(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const t=yield S8(n),e=yield A8(n);return t.setNetworkEnabled(!0),function(r){const o=Re(r);return o.C_.delete(0),hy(o)}(e)}))}(Fi(n=tn(n,ii)))}(this._delegate)}disableNetwork(){return function Pbe(n){return function gbe(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const t=yield S8(n),e=yield A8(n);return t.setNetworkEnabled(!1),(i=(0,le.Z)(function*(o){const s=Re(o);s.C_.add(0),yield zp(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Fi(n=tn(n,ii)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,O8("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Mbe(n){return function(e){const i=new lr;return e.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Xye(n,t){return OM.apply(this,arguments)}(yield rk(e),i)})),i.promise}(Fi(n=tn(n,ii)))}(this._delegate)}onSnapshotsInSync(t){return function d0e(n,t){return function ybe(n,t){const e=new oI(t);return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return r=yield Jp(n),o=e,Re(r).q_.add(o),void o.next();var r,o})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return r=yield Jp(n),o=e,void Re(r).q_.delete(o);var r,o}))}}(Fi(n=tn(n,ii)),lk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new nm(this,j8(this._delegate,t))}catch(e){throw xo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Vs(this,cI(this._delegate,t))}catch(e){throw xo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Do(this,function Tbe(n,t){if(n=tn(n,my),sk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ge(X.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jr(n,null,(i=t,new Pl(cn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw xo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function E0e(n,t,e){n=tn(n,ii);const i=Object.assign(Object.assign({},b0e),e);return function(o){if(o.maxAttempts<1)throw new ge(X.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new lr;return o.asyncQueue.enqueueAndForget((0,le.Z)(function*(){const c=yield function R8(n){return aI(n).then(t=>t.datastore)}(o);new fbe(o.asyncQueue,c,a,s,l).run()})),l.promise}(Fi(n),r=>t(new w0e(n,r)),i)}(this._delegate,e=>t(new g6(this,e)))}batch(){return Fi(this._delegate),new _6(new c6(this._delegate,t=>tm(this._delegate,t)))}loadBundle(t){return function Obe(n,t){const e=Fi(n=tn(n,ii)),i=new Dbe;return function bbe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?JG().encode(s):s,u=function(u,f){if(u instanceof Uint8Array)return x8(u,f);if(u instanceof ArrayBuffer)return x8(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new dbe(u,a);var u}(e,dy(t));n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){!function cbe(n,t,e){const i=Re(n);var r;(r=(0,le.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(y,b){const T=Re(y),k=ji(b.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",S=>T.Kr.getBundleMetadata(S,b.id)).then(S=>!!S&&S.createTime.compareTo(k)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(y=c).totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}),Promise.resolve(new Set);l._updateProgress(g8(c));const u=new Hye(c,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield u.ea(f);_&&l._updateProgress(_),f=yield a.Ma()}const g=yield u.complete();return yield Vl(s,g.ra,void 0),yield function(y,b){const T=Re(y);return T.persistence.runTransaction("Save bundle","readwrite",k=>T.Kr.saveBundleMetadata(k,b))}(s.localStore,c),l._completeWith(g.progress),Promise.resolve(g.na)}catch(c){return Vo("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var y}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield rk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Fbe(n,t){return function wbe(n,t){return n.asyncQueue.enqueue((0,le.Z)(function*(){return function(i,r){const o=Re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Xp(n),t)}))}(Fi(n=tn(n,ii)),t).then(e=>e?new jr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Do(this,e):null)}}class wI extends mk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cy(new Wa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Vs.forKey(e,this.firestore,null)}}class g6{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wI(t)}get(t){const e=Bd(t);return this._delegate.get(e).then(i=>new Iy(this._firestore,new Ul(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Bd(t);return i?(vk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Bd(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Bd(t);return this._delegate.delete(e),this}}class _6{constructor(t){this._delegate=t}set(t,e,i){const r=Bd(t);return i?(vk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Bd(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Bd(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Vd{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Ey(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ty(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Vd.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Vd(t,new wI(t),e),r.set(e,o)),o}}Vd.INSTANCES=new WeakMap;class Vs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Vs(e,new fi(e._delegate,i,new Ne(t)))}static forKey(t,e,i){return new Vs(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new nm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new nm(this.firestore,j8(this._delegate,t))}catch(e){throw xo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,x.m9)(t))instanceof fi&&H8(this._delegate,t)}set(t,e){e=vk("DocumentReference.set",e);try{return e?s6(this._delegate,t,e):s6(this._delegate,t)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?a6(this._delegate,t):a6(this._delegate,t,e,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function c0e(n){return tm(tn(n.firestore,ii),[new Op(n._key,yi.none())])}(this._delegate)}onSnapshot(...t){const e=v6(t),i=y6(t,r=>new Iy(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return l6(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function r0e(n){n=tn(n,fi);const t=tn(n.firestore,ii),e=Fi(t),i=new au(t);return function _be(n,t){const e=new lr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(i=(0,le.Z)(function*(o,s,a){try{const l=yield function(u,f){const g=Re(u);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,f))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ge(X.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=qp(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xp(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ul(t,i,n._key,r,new Ld(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function o0e(n){n=tn(n,fi);const t=tn(n.firestore,ii);return N8(Fi(t),n._key,{source:"server"}).then(e=>gk(t,n,e))}(this._delegate):function i0e(n){n=tn(n,fi);const t=tn(n.firestore,ii);return N8(Fi(t),n._key).then(e=>gk(t,n,e))}(this._delegate),e.then(i=>new Iy(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Vs(this.firestore,this._delegate.withConverter(t?Vd.getInstance(this.firestore,t):null))}}function xo(n,t,e){return n.message=n.message.replace(t,e),n}function v6(n){for(const t of n)if("object"==typeof t&&!yk(t))return t;return{}}function y6(n,t){var e,i;let r;return r=yk(n[0])?n[0]:yk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Iy{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Vs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return o6(this._delegate,t._delegate)}}class Ty extends Iy{data(t){const e=this._delegate.data(t);return this._delegate._converter||function w_e(n,t){n||je()}(void 0!==e),e}}class Do{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wI(t)}where(t,e,i){try{return new Do(this.firestore,ou(this._delegate,function Wbe(n,t,e){const i=t,r=mI("where",n);return wy._create(r,i,e)}(t,e,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Do(this.firestore,ou(this._delegate,function qbe(n,t="asc"){const e=t,i=mI("orderBy",n);return pk._create(i,e)}(t,e)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Do(this.firestore,ou(this._delegate,function Kbe(n){return V8("limit",n),gI._create("limit",n,"F")}(t)))}catch(e){throw xo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Do(this.firestore,ou(this._delegate,function Zbe(n){return V8("limitToLast",n),gI._create("limitToLast",n,"L")}(t)))}catch(e){throw xo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Do(this.firestore,ou(this._delegate,function Ybe(...n){return _I._create("startAt",n,!0)}(...t)))}catch(e){throw xo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Do(this.firestore,ou(this._delegate,function Qbe(...n){return _I._create("startAfter",n,!1)}(...t)))}catch(e){throw xo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Do(this.firestore,ou(this._delegate,function Xbe(...n){return vI._create("endBefore",n,!1)}(...t)))}catch(e){throw xo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Do(this.firestore,ou(this._delegate,function Jbe(...n){return vI._create("endAt",n,!0)}(...t)))}catch(e){throw xo(e,"endAt()","Query.endAt()")}}isEqual(t){return ak(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function a0e(n){n=tn(n,jr);const t=tn(n.firestore,ii),e=Fi(t),i=new au(t);return function vbe(n,t){const e=new lr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(i=(0,le.Z)(function*(o,s,a){try{const l=yield XC(o,s,!0),c=new y8(s,l.ls),u=c.ca(l.documents),f=c.applyChanges(u,!1);a.resolve(f.snapshot)}catch(l){const c=qp(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xp(n),t,e);var i})),e.promise}(e,n._query).then(r=>new su(t,i,n,r))}(this._delegate):"server"===t?.source?function l0e(n){n=tn(n,jr);const t=tn(n.firestore,ii),e=Fi(t),i=new au(t);return M8(e,n._query,{source:"server"}).then(r=>new su(t,i,n,r))}(this._delegate):function s0e(n){n=tn(n,jr);const t=tn(n.firestore,ii),e=Fi(t),i=new au(t);return J8(n._query),M8(e,n._query).then(r=>new su(t,i,n,r))}(this._delegate),e.then(i=>new bk(this.firestore,new su(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=v6(t),i=y6(t,r=>new bk(this.firestore,new su(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return l6(this._delegate,e,i)}withConverter(t){return new Do(this.firestore,this._delegate.withConverter(t?Vd.getInstance(this.firestore,t):null))}}class P0e{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ty(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Do(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ty(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new P0e(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ty(this._firestore,i))})}isEqual(t){return o6(this._delegate,t._delegate)}}class nm extends Do{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Vs(this.firestore,t):null}doc(t){try{return new Vs(this.firestore,void 0===t?cI(this._delegate):cI(this._delegate,t))}catch(e){throw xo(e,"doc()","CollectionReference.doc()")}}add(t){return function u0e(n,t){const e=tn(n.firestore,ii),i=cI(n),r=yI(n.converter,t);return tm(e,[hI(Od(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Vs(this.firestore,e))}isEqual(t){return H8(this._delegate,t._delegate)}withConverter(t){return new nm(this.firestore,this._delegate.withConverter(t?Vd.getInstance(this.firestore,t):null))}}function Bd(n){return tn(n,fi)}class wk{constructor(...t){this._delegate=new Bl(...t)}static documentId(){return new wk(di.keyField().canonicalString())}isEqual(t){return(t=(0,x.m9)(t))instanceof Bl&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ud{constructor(t){this._delegate=t}static serverTimestamp(){const t=function I0e(){return new ck("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ud(t)}static delete(){const t=function C0e(){return new _y("deleteField")}();return t._methodName="FieldValue.delete",new Ud(t)}static arrayUnion(...t){const e=function T0e(...n){return new jbe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ud(e)}static arrayRemove(...t){const e=function x0e(...n){return new Hbe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ud(e)}static increment(t){const e=function D0e(n){return new $be("increment",n)}(t);return e._methodName="FieldValue.increment",new Ud(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const O0e={Firestore:m6,GeoPoint:uI,Timestamp:vi,Blob:Cy,Transaction:g6,WriteBatch:_6,DocumentReference:Vs,DocumentSnapshot:Iy,Query:Do,QueryDocumentSnapshot:Ty,QuerySnapshot:bk,CollectionReference:nm,FieldPath:wk,FieldValue:Ud,setLogLevel:function k0e(n){!function b_e(n){$c.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function b6(n,t){return function V0e(n,t=Ju){return new it(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Ek(n,t){return b6(n,t).pipe(Ie(e=>({payload:e,type:"query"})))}!function L0e(n){(function F0e(n,t){n.INTERNAL.registerComponent(new Dl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},O0e)))})(n,(t,e)=>new m6(t,e,new M0e)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Js.Z);class w6{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=D6(i,e);return new I6(r,o,this.afs)}snapshotChanges(){return function B0e(n,t){return b6(n,t).pipe(Of(void 0),vR(),Ie(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ar)}valueChanges(t={}){return this.snapshotChanges().pipe(Ie(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return E(this.ref.get(t)).pipe(ar)}}function EI(n,t){return Ek(n,t).pipe(Of(void 0),vR(),Ie(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function E6(n,t,e){return EI(n,e).pipe(Lf((i,r)=>function U0e(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function j0e(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Ck(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Ck(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Ck(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ot(),Ie(i=>i.map(r=>({type:r.type,payload:r}))))}function Ck(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function C6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class I6{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=EI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ie(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Of(void 0),vR(),ci(([i,r])=>r.length>0||!i),Ie(([,i])=>i),ar)}auditTrail(t){return this.stateChanges(t).pipe(Lf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C6(t);return E6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ar)}valueChanges(t={}){return Ek(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),ar)}get(t){return E(this.query.get(t)).pipe(ar)}add(t){return this.ref.add(t)}doc(t){return new w6(this.ref.doc(t),this.afs)}}class H0e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?EI(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.filter(i=>t.indexOf(i.type)>-1)),ci(e=>e.length>0),ar):EI(this.query,this.afs.schedulers.outsideAngular).pipe(ar)}auditTrail(t){return this.stateChanges(t).pipe(Lf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=C6(t);return E6(this.query,e,this.afs.schedulers.outsideAngular).pipe(ar)}valueChanges(t={}){return Ek(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),ar)}get(t){return E(this.query.get(t)).pipe(ar)}}const T6=new de("angularfire2.enableFirestorePersistence"),x6=new de("angularfire2.firestore.persistenceSettings"),$0e=new de("angularfire2.firestore.settings"),z0e=new de("angularfire2.firestore.use-emulator");function D6(n,t=(e=>e)){return{query:t(n),ref:n}}let G0e=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,u,f,g,_,y,b,T,k,S){this.schedulers=l;const V=Jw(e,a,i),W=u;f&&AS(V,a,g,y,b,T,_,k),[this.firestore,this.persistenceEnabled$]=wS(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const ae=a.runOutsideAngular(()=>V.firestore());if(o&&ae.settings(o),W&&ae.useEmulator(...W),r&&!fw(s)){const xe=()=>{try{return E(ae.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Fe){return typeof console<"u"&&console.warn(Fe),N(!1)}};return[ae,a.runOutsideAngular(xe)]}return[ae,N(!1)]},[o,W,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=D6(r,i),a=this.schedulers.ngZone.run(()=>o);return new I6(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new H0e(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new w6(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(x_),O(D_,8),O(T6,8),O($0e,8),O(Ts),O(qe),O(bS),O(x6,8),O(z0e,8),O(S_,8),O(CS,8),O(IS,8),O(TS,8),O(xS,8),O(DS,8),O(SS,8),O(yS,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),W0e=(()=>{class n{constructor(){Js.Z.registerVersion("angularfire",T_.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:T6,useValue:!0},{provide:x6,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Xe({type:n});static \u0275inj=tt({providers:[G0e]})}return n})();const q0e_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"},{isArray:K0e}=Array;function S6(n){return 1===n.length&&K0e(n[0])?n[0]:n}function Ik(...n){const t=so(n),e=S6(n);return e.length?new it(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)ye(e[s]).subscribe(Se(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):pn}Math,Math,Math;const TEe=["*"],tCe=["dialog"];function $d(n){return"string"==typeof n}function zd(n){return null!=n}function lm(n){return(n||document.body).getBoundingClientRect()}const aq={animation:!0,transitionTimerDelayMs:5},qCe=()=>{},{transitionTimerDelayMs:KCe}=aq,ky=new Map,$o=(n,t,e,i)=>{let r=i.context||{};const o=ky.get(t);if(o)switch(i.runningTransition){case"continue":return pn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ky.delete(t)}const s=e(t,i.animation,r)||qCe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),N(void 0).pipe(function GCe(n){return t=>new it(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new $,l=new $,c=a.pipe(function Y0e(...n){return t=>kf(t,N(...n))}(!0));ky.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function WCe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Ir(t,"transitionend").pipe(en(c),ci(({target:_})=>_===t));(function A6(...n){return 1===(n=S6(n)).length?ye(n[0]):new it(function Z0e(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(ye(n[i]).subscribe(Se(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(pR(u+KCe).pipe(en(c)),f,l).pipe(en(c)).subscribe(()=>{ky.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let RI=(()=>{class n{constructor(){this.animation=aq.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),_q=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),bq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),wq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();var Wn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Wn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Sq=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Aq(n){const t=Array.from(n.querySelectorAll(Sq)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Hq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),Gq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();class Zd{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let qIe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Zi(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(e,i)=>{i&&lm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(R(wt),R(qe))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Bu("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ht("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ds],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class Wq{update(t){}close(t){}dismiss(t){}}const KIe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ZIe=["animation","backdropClass"];class YIe{_applyWindowOptions(t,e){KIe.forEach(i=>{zd(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){ZIe.forEach(i=>{zd(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(en(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(en(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $,this._dismissed=new $,this._hidden=new $,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function rq(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():N(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ik(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xk=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Xk||{});let QIe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new $,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ye,this.shown=new $,this.hidden=new $}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":$d(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Zi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Ik($o(this._zone,e,()=>e.classList.remove("show"),i),$o(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Ik($o(this._zone,this._elRef.nativeElement,(o,s)=>{s&&lm(o),o.classList.add("show")},e),$o(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ir(e,"keydown").pipe(en(this._closed$),ci(r=>r.which===Wn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Xk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ir(this._dialogEl.nativeElement,"mousedown").pipe(en(this._closed$),ki(()=>i=!1),Ve(()=>Ir(e,"mouseup").pipe(en(this._closed$),Zi(1))),ci(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ir(e,"click").pipe(en(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Xk.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Aq(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(R(Et),R(wt),R(qe))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&sr(tCe,7),2&i){let o;ft(o=pt())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(on("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Bu("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ht("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ds],ngContentSelectors:TEe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(bl(),te(0,"div",0,1)(2,"div",2),Ii(3),ne()()),2&i&&Bu("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),XIe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JIe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new $,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ye,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Ir(t,"focusin").pipe(en(e),Ie(o=>o.target));Ir(t,"keydown").pipe(en(e),ci(o=>o.which===Wn.Tab),eE(r)).subscribe(([o,s])=>{const[a,l]=Aq(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Ir(t,"click").pipe(en(e),eE(r),Ie(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:zd(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new Wq,l=(e=r.injector||e).get(go,null)||this._environmentInjector,c=this._getContentRef(e,l,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),g=new YIe(f,c,u,r.beforeDismiss);return this._registerModalRef(g),this._registerWindowCmpt(f),g.hidden.pipe(Zi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{g.close(_)},a.dismiss=_=>{g.dismiss(_)},a.update=_=>{g.update(_)},g.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),g}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=XD(qIe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=XD(QIe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof Ti?this._createFromTemplateRef(r,o):$d(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Zd([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Zd([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Zd([[i]])}_createFromComponent(e,i,r,o,s){const l=XD(r,{environmentInjector:i,elementInjector:qi.create({providers:[{provide:Wq,useValue:o}],parent:e})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Zd([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ra),O(qi),O(go),O(Et),O(XIe),O(cf),O(qe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eTe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(RI))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tTe=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(O(qi),O(JIe),O(eTe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:[tTe]})}return n})(),Yq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),r9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),o9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),s9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),a9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),l9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),c9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),u9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),d9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();new de("live announcer delay",{providedIn:"root",factory:function gTe(){return 100}});let h9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),f9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})();const vTe=[gq,_q,bq,wq,Hq,Gq,qq,Yq,f9,r9,o9,s9,a9,l9,c9,u9,d9,h9];let yTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[vTe,gq,_q,bq,wq,Hq,Gq,qq,Yq,f9,r9,o9,s9,a9,l9,c9,u9,d9,h9]})}return n})(),TTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,Yr]})}return n})(),b9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({})}return n})(),VTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({imports:[Yr,j3,b9,Yr,b9]})}return n})();function BTe(n,t){if(1&n){const e=Ni();te(0,"a",13),Le("click",function(){return Rt(e),It(De(2).navDisappear())}),te(1,"span"),st(2,"Felhaszn\xe1l\xf3k"),ne()()}}function UTe(n,t){1&n&&(te(0,"li",10)(1,"a",14),st(2,"Id\u0151j\xe1r\xe1s"),ne()())}function jTe(n,t){1&n&&(te(0,"li",10)(1,"a",15),st(2,"Jegyzetek"),ne()())}function HTe(n,t){if(1&n){const e=Ni();te(0,"li",10)(1,"a",16),Le("click",function(){return Rt(e),It(De(2).signOut())}),st(2,"Kijelentkez\xe9s "),ne()()}}const w9=function(){return{exact:!0}};function $Te(n,t){if(1&n&&(vl(0),te(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),Qt(6,"span",6),st(7," Kezd\u0151lap"),ne()(),te(8,"div",4),Te(9,BTe,3,0,"a",7),ne()(),te(10,"ul",8),Te(11,UTe,3,0,"li",9),Te(12,jTe,3,0,"li",9),te(13,"li",10)(14,"a",11),st(15," Regisztr\xe1ci\xf3 "),ne()(),te(16,"li",10)(17,"a",12),st(18,"Bejelentkez\xe9s"),ne()(),Te(19,HTe,3,0,"li",9),ne()()(),yl()),2&n){const e=De();oe(5),re("routerLinkActiveOptions",CD(6,w9)),oe(4),re("ngIf",e.isSuperAdmin),oe(2),re("ngIf",e.isLoggedIn),oe(1),re("ngIf",e.isLoggedIn),oe(5),re("routerLinkActiveOptions",CD(7,w9)),oe(2),re("ngIf",e.isLoggedIn)}}let zTe=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{console.log(e),1==e?.emailVerified||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>this.isNavDisappeared=e)}static#e=this.\u0275fac=function(i){return new(i||n)(R(jE))};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","col-lg-6","col-xl-6","my-2"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],["routerLink","/users","class","navbar-brand","routerLinkActive","active-link",3,"click",4,"ngIf"],[1,"navbar-nav","h5"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active-link",1,"navbar-brand",3,"click"],["routerLinkActive","active-link","routerLink","/weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","/notes",1,"nav-link"],["routerLink","/login",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&Te(0,$Te,20,8,"ng-container",0),2&i&&re("ngIf",!r.isNavDisappeared)},dependencies:[ts,Zw,fH],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),GTe=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Sn({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container"]],template:function(i,r){1&i&&(Qt(0,"app-nav"),te(1,"div",0),Qt(2,"img",1),ne(),te(3,"div",2),Qt(4,"router-outlet"),ne())},dependencies:[cS,zTe],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}"]})}return n})();function E9(n){return new z(3e3,!1)}function du(n){switch(n.length){case 0:return new uv;case 1:return n[0];default:return new m3(n)}}function C9(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((g,_)=>{let y=_,b=g;if("offset"!==_)switch(y=n.normalizePropertyName(y,r),b){case"!":b=e.get(_);break;case Rl:b=i.get(_);break;default:b=n.normalizeStyleValue(_,y,b,r)}f.set(y,b)}),u||o.push(f),a=f,s=c}),r.length)throw function pxe(n){return new z(3502,!1)}();return o}function tP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&nP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&nP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&nP(e,"destroy",n)))}}function nP(n,t,e){const o=iP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function iP(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function hs(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function I9(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const xxe=(()=>typeof document>"u"?null:document.documentElement)();function rP(n){const t=n.parentNode||n.host||null;return t===xxe?null:t}let Qd=null,T9=!1;function x9(n,t){for(;t;){if(t===n)return!0;t=rP(t)}return!1}function D9(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let S9=(()=>{class n{validateStyleProperty(e){return function Sxe(n){Qd||(Qd=function Axe(){return typeof document<"u"?document.body:null}()||{},T9=!!Qd.style&&"WebkitAppearance"in Qd.style);let t=!0;return Qd.style&&!function Dxe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qd.style,!t&&T9&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qd.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return x9(e,i)}getParentElement(e){return rP(e)}query(e,i,r){return D9(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new uv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),oP=(()=>{class n{static#e=this.NOOP=new S9}return n})();const Rxe=1e3,sP="ng-enter",GI="ng-leave",WI="ng-trigger",qI=".ng-trigger",R9="ng-animating",aP=".ng-animating";function Hl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lP(parseFloat(t[1]),t[2])}function lP(n,t){return"s"===t?n*Rxe:n}function KI(n,t,e){return n.hasOwnProperty("duration")?n:function Mxe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(E9()),{duration:0,delay:0,easing:""};r=lP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=lP(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function WTe(){return new z(3100,!1)}()),a=!0),o<0&&(t.push(function qTe(){return new z(3101,!1)}()),a=!0),a&&t.splice(l,0,E9())}return{duration:r,delay:o,easing:s}}(n,t,e)}function By(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function N9(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function hu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Za(n,t,e){t.forEach((i,r)=>{const o=uP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Xd(n,t){t.forEach((e,i)=>{const r=uP(i);n.style[r]=""})}function Uy(n){return Array.isArray(n)?1==n.length?n[0]:p3(n):n}const cP=new RegExp("{{\\s*(.+?)\\s*}}","g");function k9(n){let t=[];if("string"==typeof n){let e;for(;e=cP.exec(n);)t.push(e[1]);cP.lastIndex=0}return t}function jy(n,t,e){const i=n.toString(),r=i.replace(cP,(o,s)=>{let a=t[s];return null==a&&(e.push(function ZTe(n){return new z(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function ZI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Oxe=/-+([a-z0-9])/g;function uP(n){return n.replace(Oxe,(...t)=>t[1].toUpperCase())}function fs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function YTe(n){return new z(3004,!1)}()}}function P9(n,t){return window.getComputedStyle(n)[t]}const YI="*";function Vxe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Bxe(n,t,e){if(":"==n[0]){const l=function Uxe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function uxe(n){return new z(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function cxe(n){return new z(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(O9(r,s));"<"==o[0]&&!(r==YI&&s==YI)&&t.push(O9(s,r))}(i,e,t)):e.push(n),e}const QI=new Set(["true","1"]),XI=new Set(["false","0"]);function O9(n,t){const e=QI.has(n)||XI.has(n),i=QI.has(t)||XI.has(t);return(r,o)=>{let s=n==YI||n==r,a=t==YI||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?QI.has(n):XI.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?QI.has(t):XI.has(t)),s&&a}}const jxe=new RegExp("s*:selfs*,?","g");function dP(n,t,e,i){return new Hxe(n).build(t,e,i)}class Hxe{constructor(t){this._driver=t}build(t,e,i){const r=new Gxe(e);return this._resetContextStyleTimingState(r),fs(this,Uy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function XTe(){return new z(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function JTe(){return new z(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{k9(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(ZI(o.values()),e.errors.push(function exe(n,t){return new z(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=fs(this,Uy(t.animation),e);return{type:1,matchers:Vxe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Jd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>fs(this,i,e)),options:Jd(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=fs(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Jd(t.options)}}visitAnimate(t,e){const i=function qxe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hP(KI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=hP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=KI(e,t);return hP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:hp({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=hp(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Rl?i.push(a):e.errors.push(new z(3002,!1)):i.push(N9(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function nxe(n,t,e,i,r){return new z(3010,!1)}()),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function Pxe(n,t,e){const i=t.params||{},r=k9(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function KTe(n){return new z(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ixe(){return new z(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(k=>{const S=this._makeStyleAst(k,e);let V=null!=S.offset?S.offset:function Wxe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(S.styles),W=0;return null!=V&&(o++,W=S.offset=V),l=l||W<0||W>1,a=a||W<c,c=W,s.push(W),S});l&&e.errors.push(function rxe(){return new z(3012,!1)}()),a&&e.errors.push(function oxe(){return new z(3200,!1)}());const f=t.steps.length;let g=0;o>0&&o<f?e.errors.push(function sxe(){return new z(3202,!1)}()):0==o&&(g=1/(f-1));const _=f-1,y=e.currentTime,b=e.currentAnimateTimings,T=b.duration;return u.forEach((k,S)=>{const V=g>0?S==_?1:g*S:s[S],W=V*T;e.currentTime=y+b.delay+W,b.duration=W,this._validateStyleAst(k,e),k.offset=V,i.styles.push(k)}),i}visitReference(t,e){return{type:8,animation:fs(this,Uy(t.animation),e),options:Jd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function $xe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(jxe,"")),n=n.replace(/@\*/g,qI).replace(/@\w+/g,e=>qI+"-"+e.slice(1)).replace(/:animating/g,aP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,hs(e.collectedStyles,e.currentQuerySelector,new Map);const a=fs(this,Uy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Jd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function axe(){return new z(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:KI(t.timings,e.errors,!0);return{type:12,animation:fs(this,Uy(t.animation),e),timings:i,options:null}}}class Gxe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jd(n){return n?(n=By(n)).params&&(n.params=function zxe(n){return n?By(n):null}(n.params)):n={},n}function hP(n,t,e){return{duration:n,delay:t,easing:e}}function fP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class JI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Yxe=new RegExp(":enter","g"),Xxe=new RegExp(":leave","g");function pP(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Jxe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class Jxe{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new JI;const f=new mP(t,e,c,r,o,u,[]);f.options=l;const g=l.delay?Hl(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,l),fs(this,i,f);const _=f.timelines.filter(y=>y.containsAnimation());if(_.length&&a.size){let y;for(let b=_.length-1;b>=0;b--){const T=_[b];if(T.element===e){y=T;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,f.errors,l)}return _.length?_.map(y=>y.buildKeyframes()):[fP(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Hl(jy(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Hl(i.duration):null,a=null!=i.delay?Hl(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),fs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eT);const s=Hl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>fs(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Hl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),fs(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return KI(e.params?jy(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Hl(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eT);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),fs(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;fs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const eT={};class mP{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new tT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Hl(i.duration)),null!=i.delay&&(r.delay=Hl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=jy(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new mP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=eT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new eDe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Yxe,"."+this._enterClassName)).replace(Xxe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function lxe(n){return new z(3014,!1)}()),a}}class tT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Rl),this._currentKeyframe.set(e,Rl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function tDe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Rl)}else hu(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=jy(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Rl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=hu(a,new Map,this._backFill);c.forEach((u,f)=>{"!"===u?t.add(f):u===Rl&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?ZI(t.values()):[],s=e.size?ZI(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class eDe extends tT{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=hu(t[0]);l.set("offset",0),o.push(l);const c=hu(t[0]);c.set("offset",V9(a)),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let g=hu(t[f]);const _=g.get("offset");g.set("offset",V9((e+_*i)/s)),o.push(g)}i=s,e=0,r="",t=o}return fP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function V9(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class gP{}const nDe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iDe extends gP{normalizePropertyName(t,e){return uP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(nDe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function QTe(n,t){return new z(3005,!1)}())}return s+o}}function B9(n,t,e,i,r,o,s,a,l,c,u,f,g){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:g}}const _P={};class U9{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function rDe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const f=[],g=this.ast.options&&this.ast.options.params||_P,y=this.buildStyles(i,a&&a.params||_P,f),b=l&&l.params||_P,T=this.buildStyles(r,b,f),k=new Set,S=new Map,V=new Map,W="void"===r,ae={params:oDe(b,g),delay:this.ast.options?.delay},xe=u?[]:pP(t,e,this.ast.animation,o,s,y,T,ae,c,f);let Fe=0;if(xe.forEach(dn=>{Fe=Math.max(dn.duration+dn.delay,Fe)}),f.length)return B9(e,this._triggerName,i,r,W,y,T,[],[],S,V,Fe,f);xe.forEach(dn=>{const hn=dn.element,Hi=hs(S,hn,new Set);dn.preStyleProps.forEach(Di=>Hi.add(Di));const zr=hs(V,hn,new Set);dn.postStyleProps.forEach(Di=>zr.add(Di)),hn!==e&&k.add(hn)});const rt=ZI(k.values());return B9(e,this._triggerName,i,r,W,y,T,xe,rt,S,V,Fe)}}function oDe(n,t){const e=By(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class sDe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=By(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=jy(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class lDe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new sDe(r.style,r.options&&r.options.params||{},i))}),j9(this.states,"true","1"),j9(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new U9(t,r,this.states))}),this.fallbackTransition=function cDe(n,t,e){return new U9(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function j9(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const uDe=new JI;class dDe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=dP(this._driver,e,i,[]);if(i.length)throw function mxe(n){return new z(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=C9(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=pP(this._driver,e,o,sP,GI,new Map,new Map,i,uDe,r),s.forEach(u=>{const f=hs(a,u.element,new Map);u.postStyleProps.forEach(g=>f.set(g,null))})):(r.push(function gxe(){return new z(3300,!1)}()),s=[]),r.length)throw function _xe(n){return new z(3504,!1)}();a.forEach((u,f)=>{u.forEach((g,_)=>{u.set(_,this._driver.computeStyle(f,_,Rl))})});const c=du(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function vxe(n){return new z(3301,!1)}();return e}listen(t,e,i,r){const o=iP(e,"","","");return tP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const H9="ng-animate-queued",vP="ng-animate-disabled",gDe=[],$9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_De={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ua="__ng_removed";class yP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wDe(n){return n??null}(i?t.value:t),i){const o=By(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Hy="void",bP=new yP(Hy);class vDe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Us(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function yxe(n,t){return new z(3302,!1)}();if(null==i||0==i.length)throw function bxe(n){return new z(3303,!1)}();if(!function EDe(n){return"start"==n||"done"==n}(i))throw function wxe(n,t){return new z(3400,!1)}();const o=hs(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=hs(this._engine.statesByElement,t,new Map);return a.has(e)||(Us(t,WI),Us(t,WI+"-"+e),a.set(e,bP)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Exe(n){return new z(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new wP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Us(t,WI),Us(t,WI+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new yP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=bP),c.value!==Hy&&l.value===c.value){if(!function TDe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const b=[],T=o.matchStyles(l.value,l.params,b),k=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Xd(t,T),Za(t,k)})}return}const g=hs(this._engine.playersByElement,t,[]);g.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!_){if(!r)return;_=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(Us(t,H9),s.onStart(()=>{hm(t,H9)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const T=this._engine.playersByElement.get(t);if(T){let k=T.indexOf(s);k>=0&&T.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,qI,!0);i.forEach(r=>{if(r[ua])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Hy,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&du(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||bP,u=new yP(Hy),f=new wP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ua];(!o||o===$9)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Us(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=iP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,tP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class yDe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new vDe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(nT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!nT(e))return;const o=e[ua];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Us(t,vP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hm(t,vP))}removeNode(t,e,i){if(nT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[ua]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return nT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,qI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,aP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return du(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ua];if(e&&e.setForRemoval){if(t[ua]=$9,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(vP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Us(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?du(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Cxe(n){return new z(3402,!1)}()}_flushAnimations(t,e){const i=new JI,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ke=>{u.add(ke);const ze=this.driver.query(ke,".ng-animate-queued",!0);for(let at=0;at<ze.length;at++)u.add(ze[at])});const f=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=W9(g,this.collectedEnterElements),y=new Map;let b=0;_.forEach((ke,ze)=>{const at=sP+b++;y.set(ze,at),ke.forEach(Ft=>Us(Ft,at))});const T=[],k=new Set,S=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const ze=this.collectedLeaveElements[ke],at=ze[ua];at&&at.setForRemoval&&(T.push(ze),k.add(ze),at.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Ft=>k.add(Ft)):S.add(ze))}const V=new Map,W=W9(g,Array.from(k));W.forEach((ke,ze)=>{const at=GI+b++;V.set(ze,at),ke.forEach(Ft=>Us(Ft,at))}),t.push(()=>{_.forEach((ke,ze)=>{const at=y.get(ze);ke.forEach(Ft=>hm(Ft,at))}),W.forEach((ke,ze)=>{const at=V.get(ze);ke.forEach(Ft=>hm(Ft,at))}),T.forEach(ke=>{this.processLeaveNode(ke)})});const ae=[],xe=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(e).forEach(at=>{const Ft=at.player,Si=at.element;if(ae.push(Ft),this.collectedEnterElements.length){const $i=Si[ua];if($i&&$i.setForMove){if($i.previousTriggersValues&&$i.previousTriggersValues.has(at.triggerName)){const So=$i.previousTriggersValues.get(at.triggerName),no=this.statesByElement.get(at.element);if(no&&no.has(at.triggerName)){const fm=no.get(at.triggerName);fm.value=So,no.set(at.triggerName,fm)}}return void Ft.destroy()}}const zo=!f||!this.driver.containsElement(f,Si),dr=V.get(Si),ps=y.get(Si),Nn=this._buildInstruction(at,i,ps,dr,zo);if(Nn.errors&&Nn.errors.length)return void xe.push(Nn);if(zo)return Ft.onStart(()=>Xd(Si,Nn.fromStyles)),Ft.onDestroy(()=>Za(Si,Nn.toStyles)),void r.push(Ft);if(at.isFallbackTransition)return Ft.onStart(()=>Xd(Si,Nn.fromStyles)),Ft.onDestroy(()=>Za(Si,Nn.toStyles)),void r.push(Ft);const da=[];Nn.timelines.forEach($i=>{$i.stretchStartingKeyframe=!0,this.disabledNodes.has($i.element)||da.push($i)}),Nn.timelines=da,i.append(Si,Nn.timelines),s.push({instruction:Nn,player:Ft,element:Si}),Nn.queriedElements.forEach($i=>hs(a,$i,[]).push(Ft)),Nn.preStyleProps.forEach(($i,So)=>{if($i.size){let no=l.get(So);no||l.set(So,no=new Set),$i.forEach((fm,th)=>no.add(th))}}),Nn.postStyleProps.forEach(($i,So)=>{let no=c.get(So);no||c.set(So,no=new Set),$i.forEach((fm,th)=>no.add(th))})});if(xe.length){const ke=[];xe.forEach(ze=>{ke.push(function Ixe(n,t){return new z(3505,!1)}())}),ae.forEach(ze=>ze.destroy()),this.reportError(ke)}const Fe=new Map,rt=new Map;s.forEach(ke=>{const ze=ke.element;i.has(ze)&&(rt.set(ze,ze),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,Fe))}),r.forEach(ke=>{const ze=ke.element;this._getPreviousPlayers(ze,!1,ke.namespaceId,ke.triggerName,null).forEach(Ft=>{hs(Fe,ze,[]).push(Ft),Ft.destroy()})});const dn=T.filter(ke=>K9(ke,l,c)),hn=new Map;G9(hn,this.driver,S,c,Rl).forEach(ke=>{K9(ke,l,c)&&dn.push(ke)});const zr=new Map;_.forEach((ke,ze)=>{G9(zr,this.driver,new Set(ke),l,"!")}),dn.forEach(ke=>{const ze=hn.get(ke),at=zr.get(ke);hn.set(ke,new Map([...ze?.entries()??[],...at?.entries()??[]]))});const Di=[],Ya=[],Qa={};s.forEach(ke=>{const{element:ze,player:at,instruction:Ft}=ke;if(i.has(ze)){if(u.has(ze))return at.onDestroy(()=>Za(ze,Ft.toStyles)),at.disabled=!0,at.overrideTotalTime(Ft.totalTime),void r.push(at);let Si=Qa;if(rt.size>1){let dr=ze;const ps=[];for(;dr=dr.parentNode;){const Nn=rt.get(dr);if(Nn){Si=Nn;break}ps.push(dr)}ps.forEach(Nn=>rt.set(Nn,Si))}const zo=this._buildAnimation(at.namespaceId,Ft,Fe,o,zr,hn);if(at.setRealPlayer(zo),Si===Qa)Di.push(at);else{const dr=this.playersByElement.get(Si);dr&&dr.length&&(at.parentPlayer=du(dr)),r.push(at)}}else Xd(ze,Ft.fromStyles),at.onDestroy(()=>Za(ze,Ft.toStyles)),Ya.push(at),u.has(ze)&&r.push(at)}),Ya.forEach(ke=>{const ze=o.get(ke.element);if(ze&&ze.length){const at=du(ze);ke.setRealPlayer(at)}}),r.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<T.length;ke++){const ze=T[ke],at=ze[ua];if(hm(ze,GI),at&&at.hasAnimation)continue;let Ft=[];if(a.size){let zo=a.get(ze);zo&&zo.length&&Ft.push(...zo);let dr=this.driver.query(ze,aP,!0);for(let ps=0;ps<dr.length;ps++){let Nn=a.get(dr[ps]);Nn&&Nn.length&&Ft.push(...Nn)}}const Si=Ft.filter(zo=>!zo.destroyed);Si.length?CDe(this,ze,Si):this.processLeaveNode(ze)}return T.length=0,Di.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const ze=this.players.indexOf(ke);this.players.splice(ze,1)}),ke.play()}),Di}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Hy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=hs(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(_=>{const y=_.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),_.destroy(),f.push(_)})}Xd(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,g=e.timelines.map(y=>{const b=y.element;u.add(b);const T=b[ua];if(T&&T.removedBeforeQueried)return new uv(y.duration,y.delay);const k=b!==l,S=function IDe(n){const t=[];return q9(n,t),t}((i.get(b)||gDe).map(Fe=>Fe.getRealPlayer())).filter(Fe=>!!Fe.element&&Fe.element===b),V=o.get(b),W=s.get(b),ae=C9(this._normalizer,y.keyframes,V,W),xe=this._buildPlayer(y,ae,S);if(y.subTimeline&&r&&f.add(b),k){const Fe=new wP(t,a,b);Fe.setRealPlayer(xe),c.push(Fe)}return xe});c.forEach(y=>{hs(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function bDe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Us(y,R9));const _=du(g);return _.onDestroy(()=>{u.forEach(y=>hm(y,R9)),Za(l,e.toStyles)}),f.forEach(y=>{hs(r,y,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uv(t.duration,t.delay)}}class wP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>tP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nT(n){return n&&1===n.nodeType}function z9(n,t){const e=n.style.display;return n.style.display=t??"none",e}function G9(n,t,e,i,r){const o=[];e.forEach(l=>o.push(z9(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(f=>{const g=t.computeStyle(c,f,r);u.set(f,g),(!g||0==g.length)&&(c[ua]=_De,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>z9(l,o[a++])),s}function W9(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Us(n,t){n.classList?.add(t)}function hm(n,t){n.classList?.remove(t)}function CDe(n,t,e){du(e).onDone(()=>n.processLeaveNode(t))}function q9(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof m3?q9(i.players,t):t.push(i)}}function K9(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class iT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new yDe(t,e,i),this._timelineEngine=new dDe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=dP(this._driver,o,l,[]);if(l.length)throw function fxe(n,t){return new z(3404,!1)}();a=function aDe(n,t,e){return new lDe(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=I9(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=I9(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let DDe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Za(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Za(this._element,this._initialStyles),this._endStyles&&(Za(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xd(this._element,this._endStyles),this._endStyles=null),Za(this._element,this._initialStyles),this._state=3)}}return n})();function EP(n){let t=null;return n.forEach((e,i)=>{(function SDe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Z9{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:P9(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ADe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return x9(t,e)}getParentElement(t){return rP(t)}query(t,e,i){return D9(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(_=>_ instanceof Z9);(function Fxe(n,t){return 0===n||0===t})(i,r)&&u.forEach(_=>{_.currentSnapshot.forEach((y,b)=>c.set(b,y))});let f=function kxe(n){return n.length?n[0]instanceof Map?n:n.map(t=>N9(t)):[]}(e).map(_=>hu(_));f=function Lxe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,P9(n,a)))}}return t}(t,f,c);const g=function xDe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=EP(t[0]),t.length>1&&(i=EP(t[t.length-1]))):t instanceof Map&&(e=EP(t)),e||i?new DDe(n,e,i):null}(t,f);return new Z9(t,f,l,g)}}let RDe=(()=>{class n extends h3{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ao.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?p3(e):e;return Y9(this._renderer,null,i,"register",[r]),new NDe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(cf),O(Et))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class NDe extends tfe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new MDe(this._id,t,e||{},this._renderer)}}class MDe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Y9(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Y9(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Q9="@.disabled";let kDe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new X9("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new PDe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(cf),O(iT),O(qe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class X9{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Q9?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class PDe extends X9{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Q9?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function ODe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function FDe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let LDe=(()=>{class n extends iT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Et),O(oP),O(gP),O(Ra))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const J9=[{provide:h3,useClass:RDe},{provide:gP,useFactory:function VDe(){return new iDe}},{provide:iT,useClass:LDe},{provide:cf,useFactory:function BDe(n,t,e){return new kDe(n,t,e)},deps:[I1,iT,qe]}],CP=[{provide:oP,useFactory:()=>new ADe},{provide:Ta,useValue:"BrowserAnimations"},...J9],e7=[{provide:oP,useClass:S9},{provide:Ta,useValue:"NoopAnimations"},...J9];let UDe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?e7:CP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=tt({providers:CP,imports:[oU]})}return n})(),jDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Xe({type:n,bootstrap:[GTe]});static#n=this.\u0275inj=tt({imports:[oU,hge,yTe,zre,_he,kae.initializeApp(q0e_firebaseConfig),qde,Vae,W0e,UDe,uR,cge,Spe,TTe,VTe,Ope,Bme]})}return n})();kie().bootstrapModule(jDe).catch(n=>console.error(n))},614:()=>{const Gr=":";const fn=function(j,...B){if(fn.translate){const ue=fn.translate(j,B);j=ue[0],B=ue[1]}let Q=oi(j[0],j.raw[0]);for(let ue=1;ue<j.length;ue++)Q+=B[ue-1]+oi(j[ue],j.raw[ue]);return Q},Fn=":";function oi(j,B){return B.charAt(0)===Fn?j.substring(function J(j,B){for(let Q=1,ue=1;Q<j.length;Q++,ue++)if("\\"===B[ue])ue++;else if(j[Q]===Gr)return Q;throw new Error(`Unterminated $localize metadata block in "${B}".`)}(j,B)+1):j}globalThis.$localize=fn},106:(Gr,pi,et)=>{et.d(pi,{Z:()=>jn});var D=et(58),ee=et(537),U=et(534),Ge=et(879);class bt{constructor(ct,ut){this._delegate=ct,this.firebase=ut,(0,U._addComponent)(ct,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ct.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this._delegate.automaticDataCollectionEnabled=ct}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ct=>{this._delegate.checkDestroyed(),ct()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ct,ut=U._DEFAULT_ENTRY_NAME){var mi;this._delegate.checkDestroyed();const Hn=this._delegate.container.getProvider(ct);return!Hn.isInitialized()&&"EXPLICIT"===(null===(mi=Hn.getComponent())||void 0===mi?void 0:mi.instantiationMode)&&Hn.initialize(),Hn.getImmediate({identifier:ut})}_removeServiceInstance(ct,ut=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ct).clearInstance(ut)}_addComponent(ct){(0,U._addComponent)(this._delegate,ct)}_addOrOverwriteComponent(ct){(0,U._addOrOverwriteComponent)(this._delegate,ct)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ri=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Gt(){const Lt=function En(Lt){const ct={},ut={__esModule:!0,initializeApp:function xt(vt,ve={}){const Ut=U.initializeApp(vt,ve);if((0,D.r3)(ct,Ut.name))return ct[Ut.name];const Cn=new Lt(Ut,ut);return ct[Ut.name]=Cn,Cn},app:Hn,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function hr(vt){const ve=vt.name,Ut=ve.replace("-compat","");if(U._registerComponent(vt)&&"PUBLIC"===vt.type){const Cn=(qn=Hn())=>{if("function"!=typeof qn[Ut])throw ri.create("invalid-app-argument",{appName:ve});return qn[Ut]()};void 0!==vt.serviceProps&&(0,D.ZB)(Cn,vt.serviceProps),ut[Ut]=Cn,Lt.prototype[Ut]=function(...qn){return this._getService.bind(this,ve).apply(this,vt.multipleInstances?qn:[])}}return"PUBLIC"===vt.type?ut[Ut]:null},removeApp:function mi(vt){delete ct[vt]},useAsService:function gi(vt,ve){return"serverAuth"===ve?null:ve},modularAPIs:U}};function Hn(vt){if(!(0,D.r3)(ct,vt=vt||U._DEFAULT_ENTRY_NAME))throw ri.create("no-app",{appName:vt});return ct[vt]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Vt(){return Object.keys(ct).map(vt=>ct[vt])}}),Hn.App=Lt,ut}(bt);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Gt,extendNamespace:function ct(ut){(0,D.ZB)(Lt,ut)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),Lt}(),we=new Ge.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jn=ce;!function Jt(Lt){(0,U.registerVersion)("@firebase/app-compat","0.2.23",Lt)}()},534:(Gr,pi,et)=>{et.r(pi),et.d(pi,{FirebaseError:()=>Ge.ZR,SDK_VERSION:()=>Go,_DEFAULT_ENTRY_NAME:()=>kt,_addComponent:()=>zi,_addOrOverwriteComponent:()=>Xi,_apps:()=>Kn,_clearComponents:()=>pn,_components:()=>Li,_getProvider:()=>qt,_registerComponent:()=>vn,_removeServiceInstance:()=>an,deleteApp:()=>Ai,getApp:()=>Wo,getApps:()=>Vi,initializeApp:()=>so,onLog:()=>$l,registerVersion:()=>ao,setLogLevel:()=>ha});var D=et(861),ee=et(537),U=et(879),Ge=et(58);const bt=(H,L)=>L.some(be=>H instanceof be);let Un,ri;const ce=new WeakMap,we=new WeakMap,He=new WeakMap,mt=new WeakMap,Jt=new WeakMap;let ct={get(H,L,be){if(H instanceof IDBTransaction){if("done"===L)return we.get(H);if("objectStoreNames"===L)return H.objectStoreNames||He.get(H);if("store"===L)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return xt(H[L])},set:(H,L,be)=>(H[L]=be,!0),has:(H,L)=>H instanceof IDBTransaction&&("done"===L||"store"===L)||L in H};function Hn(H){return"function"==typeof H?function mi(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gt(){return ri||(ri=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...L){return H.apply(Vt(this),L),xt(ce.get(this))}:function(...L){return xt(H.apply(Vt(this),L))}:function(L,...be){const We=H.call(Vt(this),L,...be);return He.set(We,L.sort?L.sort():[L]),xt(We)}}(H):(H instanceof IDBTransaction&&function Lt(H){if(we.has(H))return;const L=new Promise((be,We)=>{const At=()=>{H.removeEventListener("complete",Pt),H.removeEventListener("error",z),H.removeEventListener("abort",z)},Pt=()=>{be(),At()},z=()=>{We(H.error||new DOMException("AbortError","AbortError")),At()};H.addEventListener("complete",Pt),H.addEventListener("error",z),H.addEventListener("abort",z)});we.set(H,L)}(H),bt(H,function En(){return Un||(Un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,ct):H)}function xt(H){if(H instanceof IDBRequest)return function jn(H){const L=new Promise((be,We)=>{const At=()=>{H.removeEventListener("success",Pt),H.removeEventListener("error",z)},Pt=()=>{be(xt(H.result)),At()},z=()=>{We(H.error),At()};H.addEventListener("success",Pt),H.addEventListener("error",z)});return L.then(be=>{be instanceof IDBCursor&&ce.set(be,H)}).catch(()=>{}),Jt.set(L,H),L}(H);if(mt.has(H))return mt.get(H);const L=Hn(H);return L!==H&&(mt.set(H,L),Jt.set(L,H)),L}const Vt=H=>Jt.get(H),vt=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Ut=new Map;function Cn(H,L){if(!(H instanceof IDBDatabase)||L in H||"string"!=typeof L)return;if(Ut.get(L))return Ut.get(L);const be=L.replace(/FromIndex$/,""),We=L!==be,At=ve.includes(be);if(!(be in(We?IDBIndex:IDBObjectStore).prototype)||!At&&!vt.includes(be))return;const Pt=function(){var z=(0,D.Z)(function*(wi,...$e){const Bt=this.transaction(wi,At?"readwrite":"readonly");let fu=Bt.store;return We&&(fu=fu.index($e.shift())),(yield Promise.all([fu[be](...$e),At&&Bt.done]))[0]});return function($e){return z.apply(this,arguments)}}();return Ut.set(L,Pt),Pt}!function ut(H){ct=H(ct)}(H=>({...H,get:(L,be,We)=>Cn(L,be)||H.get(L,be,We),has:(L,be)=>!!Cn(L,be)||H.has(L,be)}));class qn{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function $n(H){const L=H.getComponent();return"VERSION"===L?.type}(be)){const We=be.getImmediate();return`${We.library}/${We.version}`}return null}).filter(be=>be).join(" ")}}const io="@firebase/app",it=new U.Yd("@firebase/app"),kt="[DEFAULT]",Tn={[io]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kn=new Map,Li=new Map;function zi(H,L){try{H.container.addComponent(L)}catch(be){it.debug(`Component ${L.name} failed to register with FirebaseApp ${H.name}`,be)}}function Xi(H,L){H.container.addOrOverwriteComponent(L)}function vn(H){const L=H.name;if(Li.has(L))return it.debug(`There were multiple attempts to register component ${L}.`),!1;Li.set(L,H);for(const be of Kn.values())zi(be,H);return!0}function qt(H,L){const be=H.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),H.container.getProvider(L)}function an(H,L,be=kt){qt(H,L).clearInstance(be)}function pn(){Li.clear()}const Ln=new Ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(L,be,We){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const Go="10.6.0";function so(H,L={}){let be=H;"object"!=typeof L&&(L={name:L});const We=Object.assign({name:kt,automaticDataCollectionEnabled:!1},L),At=We.name;if("string"!=typeof At||!At)throw Ln.create("bad-app-name",{appName:String(At)});if(be||(be=(0,Ge.aH)()),!be)throw Ln.create("no-options");const Pt=Kn.get(At);if(Pt){if((0,Ge.vZ)(be,Pt.options)&&(0,Ge.vZ)(We,Pt.config))return Pt;throw Ln.create("duplicate-app",{appName:At})}const z=new ee.H0(At);for(const $e of Li.values())z.addComponent($e);const wi=new zn(be,We,z);return Kn.set(At,wi),wi}function Wo(H=kt){const L=Kn.get(H);if(!L&&H===kt&&(0,Ge.aH)())return so();if(!L)throw Ln.create("no-app",{appName:H});return L}function Vi(){return Array.from(Kn.values())}function Ai(H){return pr.apply(this,arguments)}function pr(){return(pr=(0,D.Z)(function*(H){const L=H.name;Kn.has(L)&&(Kn.delete(L),yield Promise.all(H.container.getProviders().map(be=>be.delete())),H.isDeleted=!0)})).apply(this,arguments)}function ao(H,L,be){var We;let At=null!==(We=Tn[H])&&void 0!==We?We:H;be&&(At+=`-${be}`);const Pt=At.match(/\s|\//),z=L.match(/\s|\//);if(Pt||z){const wi=[`Unable to register library "${At}" with version "${L}":`];return Pt&&wi.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Pt&&z&&wi.push("and"),z&&wi.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void it.warn(wi.join(" "))}vn(new ee.wA(`${At}-version`,()=>({library:At,version:L}),"VERSION"))}function $l(H,L){if(null!==H&&"function"!=typeof H)throw Ln.create("invalid-log-argument");(0,U.Am)(H,L)}function ha(H){(0,U.Ub)(H)}const Ja="firebase-heartbeat-database",ms=1,P="firebase-heartbeat-store";let M=null;function E(){return M||(M=function hr(H,L,{blocked:be,upgrade:We,blocking:At,terminated:Pt}={}){const z=indexedDB.open(H,L),wi=xt(z);return We&&z.addEventListener("upgradeneeded",$e=>{We(xt(z.result),$e.oldVersion,$e.newVersion,xt(z.transaction),$e)}),be&&z.addEventListener("blocked",$e=>be($e.oldVersion,$e.newVersion,$e)),wi.then($e=>{Pt&&$e.addEventListener("close",()=>Pt()),At&&$e.addEventListener("versionchange",Bt=>At(Bt.oldVersion,Bt.newVersion,Bt))}).catch(()=>{}),wi}(Ja,ms,{upgrade:(H,L)=>{0===L&&H.createObjectStore(P)}}).catch(H=>{throw Ln.create("idb-open",{originalErrorMessage:H.message})})),M}function w(){return(w=(0,D.Z)(function*(H){try{return yield(yield E()).transaction(P).objectStore(P).get(Ue(H))}catch(L){if(L instanceof Ge.ZR)it.warn(L.message);else{const be=Ln.create("idb-get",{originalErrorMessage:L?.message});it.warn(be.message)}}})).apply(this,arguments)}function N(H,L){return ie.apply(this,arguments)}function ie(){return(ie=(0,D.Z)(function*(H,L){try{const We=(yield E()).transaction(P,"readwrite");yield We.objectStore(P).put(L,Ue(H)),yield We.done}catch(be){if(be instanceof Ge.ZR)it.warn(be.message);else{const We=Ln.create("idb-set",{originalErrorMessage:be?.message});it.warn(We.message)}}})).apply(this,arguments)}function Ue(H){return`${H.name}!${H.options.appId}`}class nn{constructor(L){this.container=L,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new Ke(be),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var L=this;return(0,D.Z)(function*(){var be;const At=L.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=Me();if(null==(null===(be=L._heartbeatsCache)||void 0===be?void 0:be.heartbeats)&&(L._heartbeatsCache=yield L._heartbeatsCachePromise),L._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!L._heartbeatsCache.heartbeats.some(z=>z.date===Pt))return L._heartbeatsCache.heartbeats.push({date:Pt,agent:At}),L._heartbeatsCache.heartbeats=L._heartbeatsCache.heartbeats.filter(z=>{const wi=new Date(z.date).valueOf();return Date.now()-wi<=2592e6}),L._storage.overwrite(L._heartbeatsCache)})()}getHeartbeatsHeader(){var L=this;return(0,D.Z)(function*(){var be;if(null===L._heartbeatsCache&&(yield L._heartbeatsCachePromise),null==(null===(be=L._heartbeatsCache)||void 0===be?void 0:be.heartbeats)||0===L._heartbeatsCache.heartbeats.length)return"";const We=Me(),{heartbeatsToSend:At,unsentEntries:Pt}=function xn(H,L=1024){const be=[];let We=H.slice();for(const At of H){const Pt=be.find(z=>z.agent===At.agent);if(Pt){if(Pt.dates.push(At.date),Gi(be)>L){Pt.dates.pop();break}}else if(be.push({agent:At.agent,dates:[At.date]}),Gi(be)>L){be.pop();break}We=We.slice(1)}return{heartbeatsToSend:be,unsentEntries:We}}(L._heartbeatsCache.heartbeats),z=(0,Ge.L)(JSON.stringify({version:2,heartbeats:At}));return L._heartbeatsCache.lastSentHeartbeatDate=We,Pt.length>0?(L._heartbeatsCache.heartbeats=Pt,yield L._storage.overwrite(L._heartbeatsCache)):(L._heartbeatsCache.heartbeats=[],L._storage.overwrite(L._heartbeatsCache)),z})()}}function Me(){return(new Date).toISOString().substring(0,10)}class Ke{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,Ge.hl)()&&(0,Ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var L=this;return(0,D.Z)(function*(){return(yield L._canUseIndexedDBPromise)&&(yield function I(H){return w.apply(this,arguments)}(L.app))||{heartbeats:[]}})()}overwrite(L){var be=this;return(0,D.Z)(function*(){var We;if(yield be._canUseIndexedDBPromise){const Pt=yield be.read();return N(be.app,{lastSentHeartbeatDate:null!==(We=L.lastSentHeartbeatDate)&&void 0!==We?We:Pt.lastSentHeartbeatDate,heartbeats:L.heartbeats})}})()}add(L){var be=this;return(0,D.Z)(function*(){var We;if(yield be._canUseIndexedDBPromise){const Pt=yield be.read();return N(be.app,{lastSentHeartbeatDate:null!==(We=L.lastSentHeartbeatDate)&&void 0!==We?We:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...L.heartbeats]})}})()}}function Gi(H){return(0,Ge.L)(JSON.stringify({version:2,heartbeats:H})).length}!function el(H){vn(new ee.wA("platform-logger",L=>new qn(L),"PRIVATE")),vn(new ee.wA("heartbeat",L=>new nn(L),"PRIVATE")),ao(io,"0.9.23",H),ao(io,"0.9.23","esm2017"),ao("fire-js","")}("")},537:(Gr,pi,et)=>{et.d(pi,{H0:()=>En,wA:()=>U,zt:()=>bt});var D=et(861),ee=et(58);class U{constructor(ce,we,He){this.name=ce,this.instanceFactory=we,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ge="[DEFAULT]";class bt{constructor(ce,we){this.name=ce,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const we=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(we)){const He=new ee.BH;if(this.instancesDeferred.set(we,He),this.isInitialized(we)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:we});mt&&He.resolve(mt)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(ce){var we;const He=this.normalizeInstanceIdentifier(ce?.identifier),mt=null!==(we=ce?.optional)&&void 0!==we&&we;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(Jt){if(mt)return null;throw Jt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function ri(Gt){return"EAGER"===Gt.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch{}for(const[we,He]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(we);try{const Jt=this.getOrInitializeService({instanceIdentifier:mt});He.resolve(Jt)}catch{}}}}clearInstance(ce=Ge){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,D.Z)(function*(){const we=Array.from(ce.instances.values());yield Promise.all([...we.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...we.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ge){return this.instances.has(ce)}getOptions(ce=Ge){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:we={}}=ce,He=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:He,options:we});for(const[Jt,jn]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(Jt)&&jn.resolve(mt);return mt}onInit(ce,we){var He;const mt=this.normalizeInstanceIdentifier(we),Jt=null!==(He=this.onInitCallbacks.get(mt))&&void 0!==He?He:new Set;Jt.add(ce),this.onInitCallbacks.set(mt,Jt);const jn=this.instances.get(mt);return jn&&ce(jn,mt),()=>{Jt.delete(ce)}}invokeOnInitCallbacks(ce,we){const He=this.onInitCallbacks.get(we);if(He)for(const mt of He)try{mt(ce,we)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:we={}}){let He=this.instances.get(ce);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(Gt=ce,Gt===Ge?void 0:Gt),options:we}),this.instances.set(ce,He),this.instancesOptions.set(ce,we),this.invokeOnInitCallbacks(He,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,He)}catch{}var Gt;return He||null}normalizeInstanceIdentifier(ce=Ge){return this.component?this.component.multipleInstances?ce:Ge:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class En{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const we=this.getProvider(ce.name);if(we.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);we.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const we=new bt(ce,this);return this.providers.set(ce,we),we}getProviders(){return Array.from(this.providers.values())}}},879:(Gr,pi,et)=>{et.d(pi,{Am:()=>Gt,Ub:()=>En,Yd:()=>ri,in:()=>ee});const D=[];var ee=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(ee||{});const U={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Ge=ee.INFO,bt={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Un=(ce,we,...He)=>{if(we<ce.logLevel)return;const mt=(new Date).toISOString(),Jt=bt[we];if(!Jt)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[Jt](`[${mt}]  ${ce.name}:`,...He)};class ri{constructor(we){this.name=we,this._logLevel=Ge,this._logHandler=Un,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in ee))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?U[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...we),this._logHandler(this,ee.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...we),this._logHandler(this,ee.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...we),this._logHandler(this,ee.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...we),this._logHandler(this,ee.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...we),this._logHandler(this,ee.ERROR,...we)}}function En(ce){D.forEach(we=>{we.setLogLevel(ce)})}function Gt(ce,we){for(const He of D){let mt=null;we&&we.level&&(mt=U[we.level]),He.userLogHandler=null===ce?null:(Jt,jn,...Lt)=>{const ct=Lt.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");jn>=(mt??Jt.logLevel)&&ce({level:ee[jn].toLowerCase(),message:ct,args:Lt,type:Jt.name})}}}},365:(Gr,pi,et)=>{et.r(pi);var D=et(861),ee=et(106),U=et(562),Ge=et(58),ri=(et(534),et(879),et(537));function En(){return window}function we(){return we=(0,D.Z)(function*(E,I,w){var N;const{BuildInfo:ie}=En();(0,U.au)(I.sessionId,"AuthEvent did not contain a session ID");const Ue=yield function ut(E){return mi.apply(this,arguments)}(I.sessionId),Ve={};return(0,U.av)()?Ve.ibi=ie.packageName:(0,U.aw)()?Ve.apn=ie.packageName:(0,U.ax)(E,"operation-not-supported-in-this-environment"),ie.displayName&&(Ve.appDisplayName=ie.displayName),Ve.sessionId=Ue,(0,U.ay)(E,w,I.type,void 0,null!==(N=I.eventId)&&void 0!==N?N:void 0,Ve)}),we.apply(this,arguments)}function mt(){return(mt=(0,D.Z)(function*(E){const{BuildInfo:I}=En(),w={};(0,U.av)()?w.iosBundleId=I.packageName:(0,U.aw)()?w.androidPackageName=I.packageName:(0,U.ax)(E,"operation-not-supported-in-this-environment"),yield(0,U.az)(E,w)})).apply(this,arguments)}function Lt(){return(Lt=(0,D.Z)(function*(E,I,w){const{cordova:N}=En();let ie=()=>{};try{yield new Promise((Ue,Ve)=>{let ot=null;function nn(){var Ke;Ue();const Gi=null===(Ke=N.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof Gi&&Gi(),"function"==typeof w?.close&&w.close()}function Me(){ot||(ot=window.setTimeout(()=>{Ve((0,U.aB)(E,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===document?.visibilityState&&Me()}I.addPassiveListener(nn),document.addEventListener("resume",Me,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",xn,!1),ie=()=>{I.removePassiveListener(nn),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",xn,!1),ot&&window.clearTimeout(ot)}})}finally{ie()}})).apply(this,arguments)}function mi(){return(mi=(0,D.Z)(function*(E){const I=function Hn(E){if((0,U.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const I=new ArrayBuffer(E.length),w=new Uint8Array(I);for(let N=0;N<E.length;N++)w[N]=E.charCodeAt(N);return w}(E),w=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(w)).map(ie=>ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Vt extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(I)),super.onEvent(I)}initialized(){var I=this;return(0,D.Z)(function*(){yield I.initPromise})()}}function vt(E){return ve.apply(this,arguments)}function ve(){return(ve=(0,D.Z)(function*(E){const I=yield qn()._get($n(E));return I&&(yield qn()._remove($n(E))),I})).apply(this,arguments)}function Cn(){const E=[];for(let w=0;w<20;w++){const N=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(N))}return E.join("")}function qn(){return(0,U.aE)(U.b)}function $n(E){return(0,U.aF)("authEvent",E.config.apiKey,E.name)}function it(E){if(!E?.includes("?"))return{};const[I,...w]=E.split("?");return(0,Ge.zd)(w.join("?"))}const K=class oo{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(I){var w=this;return(0,D.Z)(function*(){const N=I._key();let ie=w.eventManagers.get(N);return ie||(ie=new Vt(I),w.eventManagers.set(N,ie),w.attachCallbackListeners(I,ie)),ie})()}_openPopup(I){(0,U.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,w,N,ie){var Ue=this;return(0,D.Z)(function*(){!function ct(E){var I,w,N,ie,Ue,Ve,ot,nn,Me,xn;const Ke=En();(0,U.aC)("function"==typeof(null===(I=Ke?.universalLinks)||void 0===I?void 0:I.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(w=Ke?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(Ue=null===(ie=null===(N=Ke?.cordova)||void 0===N?void 0:N.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Ue?void 0:Ue.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(nn=null===(ot=null===(Ve=Ke?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===nn?void 0:nn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(xn=null===(Me=Ke?.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===xn?void 0:xn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Ve=yield Ue._initialize(I);yield Ve.initialized(),Ve.resetRedirect(),(0,U.aI)(),yield Ue._originValidation(I);const ot=function hr(E,I,w=null){return{type:I,eventId:w,urlResponse:null,sessionId:Cn(),postBody:null,tenantId:E.tenantId,error:(0,U.aB)(E,"no-auth-event")}}(I,N,ie);yield function gi(E,I){return qn()._set($n(E),I)}(I,ot);const nn=yield function ce(E,I,w){return we.apply(this,arguments)}(I,ot,w),Me=yield function Jt(E){const{cordova:I}=En();return new Promise(w=>{I.plugins.browsertab.isAvailable(N=>{let ie=null;N?I.plugins.browsertab.openUrl(E):ie=I.InAppBrowser.open(E,(0,U.aA)()?"_blank":"_system","location=yes"),w(ie)})})}(nn);return function jn(E,I,w){return Lt.apply(this,arguments)}(I,Ve,Me)})()}_isIframeWebStorageSupported(I,w){throw new Error("Method not implemented.")}_originValidation(I){const w=I._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function He(E){return mt.apply(this,arguments)}(I)),this.originValidationPromises[w]}attachCallbackListeners(I,w){const{universalLinks:N,handleOpenURL:ie,BuildInfo:Ue}=En(),Ve=setTimeout((0,D.Z)(function*(){yield vt(I),w.onEvent(J())}),500),ot=function(){var xn=(0,D.Z)(function*(Ke){clearTimeout(Ve);const Gi=yield vt(I);let el=null;Gi&&Ke?.url&&(el=function Ut(E,I){var w,N;const ie=function ro(E){const I=it(E),w=I.link?decodeURIComponent(I.link):void 0,N=it(w).link,ie=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return it(ie).link||ie||N||w||E}(I);if(ie.includes("/__/auth/callback")){const Ue=it(ie),Ve=Ue.firebaseError?function io(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(Ue.firebaseError)):null,ot=null===(N=null===(w=Ve?.code)||void 0===w?void 0:w.split("auth/"))||void 0===N?void 0:N[1],nn=ot?(0,U.aB)(ot):null;return nn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:ie,postBody:null}}return null}(Gi,Ke.url)),w.onEvent(el||J())});return function(Gi){return xn.apply(this,arguments)}}();typeof N<"u"&&"function"==typeof N.subscribe&&N.subscribe(null,ot);const nn=ie,Me=`${Ue.packageName.toLowerCase()}://`;En().handleOpenURL=function(){var xn=(0,D.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Me)&&ot({url:Ke}),"function"==typeof nn)try{nn(Ke)}catch(Gi){console.error(Gi)}});return function(Ke){return xn.apply(this,arguments)}}()}};function J(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function Se(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Ie(E=(0,Ge.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fn(){try{const E=self.localStorage,I=U.aN();if(E)return E.setItem(I,"1"),E.removeItem(I),!function fn(E=(0,Ge.z$)()){return function Wt(){return(0,Ge.w1)()&&11===document?.documentMode}()||function On(E=(0,Ge.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Ge.hl)()}catch{return oi()&&(0,Ge.hl)()}return!1}function oi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function j(){return(function Dt(){return"http:"===Se()||"https:"===Se()}()||(0,Ge.ru)()||Ie())&&!function Ze(){return(0,Ge.b$)()||(0,Ge.UG)()}()&&Fn()&&!oi()}function B(){return Ie()&&typeof document<"u"}function ue(){return(ue=(0,D.Z)(function*(){return!!B()&&new Promise(E=>{const I=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),E(!0)})})})).apply(this,arguments)}const ye={LOCAL:"local",NONE:"none",SESSION:"session"},In=U.aC,jt="persistence";function Tn(E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,D.Z)(function*(E){yield E._initializationPromise;const I=zi(),w=U.aF(jt,E.config.apiKey,E.name);I&&I.setItem(w,E._getPersistence())})).apply(this,arguments)}function zi(){var E;try{return(null===(E=function Ae(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Xi=U.aC;class vn{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(K),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(I){var w=this;return(0,D.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,w,N,ie){var Ue=this;return(0,D.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openPopup(I,w,N,ie)})()}_openRedirect(I,w,N,ie){var Ue=this;return(0,D.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openRedirect(I,w,N,ie)})()}_isIframeWebStorageSupported(I,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,w)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return B()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,D.Z)(function*(){if(I.underlyingResolver)return;const w=yield function Q(){return ue.apply(this,arguments)}();I.underlyingResolver=w?I.cordovaResolver:I.browserResolver})()}}function qt(E){return E.unwrap()}function pn(E){return Ln(E)}function Ln(E){const{_tokenResponse:I}=E instanceof Ge.ZR?E.customData:E;if(!I)return null;if(!(E instanceof Ge.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return U.P.credentialFromResult(E);const w=I.providerId;if(!w||w===U.p.PASSWORD)return null;let N;switch(w){case U.p.GOOGLE:N=U.X;break;case U.p.FACEBOOK:N=U.W;break;case U.p.GITHUB:N=U.Y;break;case U.p.TWITTER:N=U.$;break;default:const{oauthIdToken:ie,oauthAccessToken:Ue,oauthTokenSecret:Ve,pendingToken:ot,nonce:nn}=I;return Ue||Ve||ie||ot?ot?w.startsWith("saml.")?U.aQ._create(w,ot):U.N._fromParams({providerId:w,signInMethod:w,pendingToken:ot,idToken:ie,accessToken:Ue}):new U.Z(w).credential({idToken:ie,accessToken:Ue,rawNonce:nn}):null}return E instanceof Ge.ZR?N.credentialFromError(E):N.credentialFromResult(E)}function zn(E,I){return I.catch(w=>{throw w instanceof Ge.ZR&&function Xa(E,I){var w;const N=null===(w=I.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Wo(E,U.as(E,I));else if(N){const ie=Ln(I),Ue=I;ie&&(Ue.credential=ie,Ue.tenantId=N.tenantId||void 0,Ue.email=N.email||void 0,Ue.phoneNumber=N.phoneNumber||void 0)}}(E,w),w}).then(w=>{const ie=w.user;return{operationType:w.operationType,credential:pn(w),additionalUserInfo:U.aq(w),user:Vi.getOrCreate(ie)}})}function Go(E,I){return so.apply(this,arguments)}function so(){return(so=(0,D.Z)(function*(E,I){const w=yield I;return{verificationId:w.verificationId,confirm:N=>zn(E,w.confirm(N))}})).apply(this,arguments)}class Wo{constructor(I,w){this.resolver=w,this.auth=function an(E){return E.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return zn(qt(this.auth),this.resolver.resolveSignIn(I))}}class Vi{constructor(I){this._delegate=I,this.multiFactor=U.at(I)}static getOrCreate(I){return Vi.USER_MAP.has(I)||Vi.USER_MAP.set(I,new Vi(I)),Vi.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var w=this;return(0,D.Z)(function*(){return zn(w.auth,U.a2(w._delegate,I))})()}linkWithPhoneNumber(I,w){var N=this;return(0,D.Z)(function*(){return Go(N.auth,U.l(N._delegate,I,w))})()}linkWithPopup(I){var w=this;return(0,D.Z)(function*(){return zn(w.auth,U.d(w._delegate,I,vn))})()}linkWithRedirect(I){var w=this;return(0,D.Z)(function*(){return yield Tn(U.aJ(w.auth)),U.g(w._delegate,I,vn)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var w=this;return(0,D.Z)(function*(){return zn(w.auth,U.a3(w._delegate,I))})()}reauthenticateWithPhoneNumber(I,w){return Go(this.auth,U.r(this._delegate,I,w))}reauthenticateWithPopup(I){return zn(this.auth,U.e(this._delegate,I,vn))}reauthenticateWithRedirect(I){var w=this;return(0,D.Z)(function*(){return yield Tn(U.aJ(w.auth)),U.h(w._delegate,I,vn)})()}sendEmailVerification(I){return U.ag(this._delegate,I)}unlink(I){var w=this;return(0,D.Z)(function*(){return yield U.ap(w._delegate,I),w})()}updateEmail(I){return U.al(this._delegate,I)}updatePassword(I){return U.am(this._delegate,I)}updatePhoneNumber(I){return U.u(this._delegate,I)}updateProfile(I){return U.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,w){return U.ah(this._delegate,I,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vi.USER_MAP=new WeakMap;const Ai=U.aC;let pr=(()=>{class E{constructor(w,N){if(this.app=w,N.isInitialized())return this._delegate=N.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ie}=w.options;Ai(ie,"invalid-api-key",{appName:w.name}),Ai(ie,"invalid-api-key",{appName:w.name});const Ue=typeof window<"u"?vn:void 0;this._delegate=N.initialize({options:{persistence:$l(ie,w.name),popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,N){U.K(this._delegate,w,N)}applyActionCode(w){return U.a7(this._delegate,w)}checkActionCode(w){return U.a8(this._delegate,w)}confirmPasswordReset(w,N){return U.a6(this._delegate,w,N)}createUserWithEmailAndPassword(w,N){var ie=this;return(0,D.Z)(function*(){return zn(ie._delegate,U.aa(ie._delegate,w,N))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return U.af(this._delegate,w)}isSignInWithEmailLink(w){return U.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,D.Z)(function*(){Ai(j(),w._delegate,"operation-not-supported-in-this-environment");const N=yield U.j(w._delegate,vn);return N?zn(w._delegate,Promise.resolve(N)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function $(E,I){(0,U.aJ)(E)._logFramework(I)}(this._delegate,w)}onAuthStateChanged(w,N,ie){const{next:Ue,error:Ve,complete:ot}=ao(w,N,ie);return this._delegate.onAuthStateChanged(Ue,Ve,ot)}onIdTokenChanged(w,N,ie){const{next:Ue,error:Ve,complete:ot}=ao(w,N,ie);return this._delegate.onIdTokenChanged(Ue,Ve,ot)}sendSignInLinkToEmail(w,N){return U.ac(this._delegate,w,N)}sendPasswordResetEmail(w,N){return U.a5(this._delegate,w,N||void 0)}setPersistence(w){var N=this;return(0,D.Z)(function*(){let ie;switch(function kt(E,I){In(Object.values(ye).includes(I),E,"invalid-persistence-type"),(0,Ge.b$)()?In(I!==ye.SESSION,E,"unsupported-persistence-type"):(0,Ge.UG)()?In(I===ye.NONE,E,"unsupported-persistence-type"):oi()?In(I===ye.NONE||I===ye.LOCAL&&(0,Ge.hl)(),E,"unsupported-persistence-type"):In(I===ye.NONE||Fn(),E,"unsupported-persistence-type")}(N._delegate,w),w){case ye.SESSION:ie=U.a;break;case ye.LOCAL:ie=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case ye.NONE:ie=U.U;break;default:return U.ax("argument-error",{appName:N._delegate.name})}return N._delegate.setPersistence(ie)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return zn(this._delegate,U.a0(this._delegate))}signInWithCredential(w){return zn(this._delegate,U.a1(this._delegate,w))}signInWithCustomToken(w){return zn(this._delegate,U.a4(this._delegate,w))}signInWithEmailAndPassword(w,N){return zn(this._delegate,U.ab(this._delegate,w,N))}signInWithEmailLink(w,N){return zn(this._delegate,U.ae(this._delegate,w,N))}signInWithPhoneNumber(w,N){return Go(this._delegate,U.s(this._delegate,w,N))}signInWithPopup(w){var N=this;return(0,D.Z)(function*(){return Ai(j(),N._delegate,"operation-not-supported-in-this-environment"),zn(N._delegate,U.c(N._delegate,w,vn))})()}signInWithRedirect(w){var N=this;return(0,D.Z)(function*(){return Ai(j(),N._delegate,"operation-not-supported-in-this-environment"),yield Tn(N._delegate),U.f(N._delegate,w,vn)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return U.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ye,E})();function ao(E,I,w){let N=E;"function"!=typeof E&&({next:N,error:I,complete:w}=E);const ie=N;return{next:Ve=>ie(Ve&&Vi.getOrCreate(Ve)),error:I,complete:w}}function $l(E,I){const w=function Li(E,I){const w=zi();if(!w)return[];const N=U.aF(jt,E,I);switch(w.getItem(N)){case ye.NONE:return[U.U];case ye.LOCAL:return[U.i,U.a];case ye.SESSION:return[U.a];default:return[]}}(E,I);if(typeof self<"u"&&!w.includes(U.i)&&w.push(U.i),typeof window<"u")for(const N of[U.b,U.a])w.includes(N)||w.push(N);return w.includes(U.U)||w.push(U.U),w}class ha{constructor(){this.providerId="phone",this._delegate=new U.P(qt(ee.Z.auth()))}static credential(I,w){return U.P.credential(I,w)}verifyPhoneNumber(I,w){return this._delegate.verifyPhoneNumber(I,w)}unwrap(){return this._delegate}}ha.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,ha.PROVIDER_ID=U.P.PROVIDER_ID;const Ja=U.aC;class ms{constructor(I,w,N=ee.Z.app()){var ie;Ja(null===(ie=N.options)||void 0===ie?void 0:ie.apiKey,"invalid-api-key",{appName:N.name}),this._delegate=new U.R(N.auth(),I,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function M(E){E.INTERNAL.registerComponent(new ri.wA("auth-compat",I=>{const w=I.getProvider("app-compat").getImmediate(),N=I.getProvider("auth");return new pr(w,N)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:ha,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:ms,TwitterAuthProvider:U.$,Auth:pr,AuthCredential:U.L,Error:Ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.9")}(ee.Z)},861:(Gr,pi,et)=>{function D(U,Ge,bt,Un,ri,En,Gt){try{var ce=U[En](Gt),we=ce.value}catch(He){return void bt(He)}ce.done?Ge(we):Promise.resolve(we).then(Un,ri)}function ee(U){return function(){var Ge=this,bt=arguments;return new Promise(function(Un,ri){var En=U.apply(Ge,bt);function Gt(we){D(En,Un,ri,Gt,ce,"next",we)}function ce(we){D(En,Un,ri,Gt,ce,"throw",we)}Gt(void 0)})}}et.d(pi,{Z:()=>ee})},582:(Gr,pi,et)=>{function Ge(K,J){var $={};for(var q in K)Object.prototype.hasOwnProperty.call(K,q)&&J.indexOf(q)<0&&($[q]=K[q]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(q=Object.getOwnPropertySymbols(K);he<q.length;he++)J.indexOf(q[he])<0&&Object.prototype.propertyIsEnumerable.call(K,q[he])&&($[q[he]]=K[q[he]])}return $}function He(K,J,$,q){return new($||($=Promise))(function(se,Se){function Dt(Wt){try{Ze(q.next(Wt))}catch(On){Se(On)}}function Ie(Wt){try{Ze(q.throw(Wt))}catch(On){Se(On)}}function Ze(Wt){Wt.done?se(Wt.value):function he(se){return se instanceof $?se:new $(function(Se){Se(se)})}(Wt.value).then(Dt,Ie)}Ze((q=q.apply(K,J||[])).next())})}function xt(K){return this instanceof xt?(this.v=K,this):new xt(K)}function Vt(K,J,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,q=$.apply(K,J||[]),se=[];return he={},Se("next"),Se("throw"),Se("return"),he[Symbol.asyncIterator]=function(){return this},he;function Se(fn){q[fn]&&(he[fn]=function(Fn){return new Promise(function(oi,j){se.push([fn,Fn,oi,j])>1||Dt(fn,Fn)})})}function Dt(fn,Fn){try{!function Ie(fn){fn.value instanceof xt?Promise.resolve(fn.value.v).then(Ze,Wt):On(se[0][2],fn)}(q[fn](Fn))}catch(oi){On(se[0][3],oi)}}function Ze(fn){Dt("next",fn)}function Wt(fn){Dt("throw",fn)}function On(fn,Fn){fn(Fn),se.shift(),se.length&&Dt(se[0][0],se[0][1])}}function gi(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,J=K[Symbol.asyncIterator];return J?J.call(K):(K=function Lt(K){var J="function"==typeof Symbol&&Symbol.iterator,$=J&&K[J],q=0;if($)return $.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&q>=K.length&&(K=void 0),{value:K&&K[q++],done:!K}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),$={},q("next"),q("throw"),q("return"),$[Symbol.asyncIterator]=function(){return this},$);function q(se){$[se]=K[se]&&function(Se){return new Promise(function(Dt,Ie){!function he(se,Se,Dt,Ie){Promise.resolve(Ie).then(function(Ze){se({value:Ze,done:Dt})},Se)}(Dt,Ie,(Se=K[se](Se)).done,Se.value)})}}}et.d(pi,{FC:()=>Vt,KL:()=>gi,_T:()=>Ge,mG:()=>He,qq:()=>xt}),"function"==typeof SuppressedError&&SuppressedError}},Gr=>{var pi=D=>Gr(Gr.s=D);pi(614),pi(682)}]);