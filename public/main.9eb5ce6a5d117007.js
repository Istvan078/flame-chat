"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(Xr,bi,rt)=>{rt.d(bi,{$:()=>kb,A:()=>we,G:()=>rn,K:()=>XT,L:()=>Xl,N:()=>yo,P:()=>$h,R:()=>t0,U:()=>Ue,V:()=>qm,W:()=>xh,X:()=>Oo,Y:()=>ys,Z:()=>vo,_:()=>nc,a:()=>Es,a0:()=>Ym,a1:()=>kh,a2:()=>ng,a3:()=>Pb,a4:()=>ix,a5:()=>ir,a6:()=>rc,a7:()=>Fb,a8:()=>Ru,a9:()=>rx,aA:()=>Ot,aB:()=>$t,aC:()=>ye,aD:()=>Is,aE:()=>re,aF:()=>lt,aG:()=>ju,aH:()=>a0,aI:()=>fc,aJ:()=>hi,aN:()=>Ai,aQ:()=>Ws,aa:()=>Oe,ab:()=>ii,ac:()=>Jo,ad:()=>br,ae:()=>oc,af:()=>Tt,ag:()=>Lb,ah:()=>Si,ak:()=>ku,al:()=>Ta,am:()=>Gs,ap:()=>Mb,aq:()=>Nu,as:()=>ZP,at:()=>eF,au:()=>Dn,av:()=>Qe,aw:()=>$,ax:()=>Rt,ay:()=>mc,az:()=>d0,b:()=>sx,c:()=>Da,d:()=>s0,e:()=>vx,f:()=>wx,g:()=>sr,h:()=>an,i:()=>jh,j:()=>Cs,k:()=>w0,l:()=>gx,m:()=>kx,o:()=>dF,p:()=>xn,r:()=>_x,s:()=>n0,u:()=>jn});var S=rt(861),ie=rt(58),j=rt(534),Ye=rt(879),ft=rt(582),$n=rt(537);const xn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rn=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Wn=function Ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new Ye.Yd("@firebase/auth");function Gn(p,...d){mt.logLevel<=Ye.in.ERROR&&mt.error(`Auth (${j.SDK_VERSION}): ${p}`,...d)}function Rt(p,...d){throw xt(p,...d)}function $t(p,...d){return xt(p,...d)}function gr(p,d,h){const g=Object.assign(Object.assign({},Wn()),{[d]:h});return new ie.LL("auth","Firebase",g).create(d,{appName:p.name})}function Ei(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Rt(p,"argument-error"),gr(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(p,...d){if("string"!=typeof p){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return zt.create(p,...d)}function ye(p,d,...h){if(!p)throw xt(d,...h)}function Gt(p){const d="INTERNAL ASSERTION FAILED: "+p;throw Gn(d),new Error(d)}function Dn(p,d){p||Gt(d)}function ei(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function qn(){return"http:"===ho()||"https:"===ho()}function ho(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class _r{constructor(d,h){this.shortDelay=d,this.longDelay=h,Dn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function fo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qn()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function po(p,d){Dn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Q{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},H=new _r(3e4,6e4);function Y(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function fe(p,d,h,g){return se.apply(this,arguments)}function se(){return(se=(0,S.Z)(function*(p,d,h,g,y={}){return De(p,y,(0,S.Z)(function*(){let C={},P={};g&&("GET"===d?P=g:C={body:JSON.stringify(g)});const J=(0,ie.xO)(Object.assign({key:p.config.apiKey},P)).slice(1),_e=yield p._getAdditionalHeaders();return _e["Content-Type"]="application/json",p.languageCode&&(_e["X-Firebase-Locale"]=p.languageCode),Q.fetch()(Jt(p,p.config.apiHost,h,J),Object.assign({method:d,headers:_e,referrerPolicy:"no-referrer"},C))}))})).apply(this,arguments)}function De(p,d,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,S.Z)(function*(p,d,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ne),d);try{const y=new _n(p),C=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const P=yield C.json();if("needConfirmation"in P)throw Bn(p,"account-exists-with-different-credential",P);if(C.ok&&!("errorMessage"in P))return P;{const J=C.ok?P.errorMessage:P.error.message,[_e,je]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_e)throw Bn(p,"credential-already-in-use",P);if("EMAIL_EXISTS"===_e)throw Bn(p,"email-already-in-use",P);if("USER_DISABLED"===_e)throw Bn(p,"user-disabled",P);const ot=g[_e]||_e.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw gr(p,ot,je);Rt(p,ot)}}catch(y){if(y instanceof ie.ZR)throw y;Rt(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function Ie(p,d,h,g){return et.apply(this,arguments)}function et(){return(et=(0,S.Z)(function*(p,d,h,g,y={}){const C=yield fe(p,d,h,g,y);return"mfaPendingCredential"in C&&Rt(p,"multi-factor-auth-required",{_serverResponse:C}),C})).apply(this,arguments)}function Jt(p,d,h,g){const y=`${d}${h}?${g}`;return p.config.emulator?po(p.config,y):`${p.config.apiScheme}://${y}`}function Vn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _n{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g($t(this.auth,"network-request-failed")),H.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(p,d,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const y=$t(p,d,g);return y.customData._tokenResponse=h,y}function di(p){return void 0!==p&&void 0!==p.getResponse}function z(p){return void 0!==p&&void 0!==p.enterprise}class U{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Vn(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function ue(){return(ue=(0,S.Z)(function*(p){return(yield fe(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Se(p,d){return ve.apply(this,arguments)}function ve(){return(ve=(0,S.Z)(function*(p,d){return fe(p,"GET","/v2/recaptchaConfig",Y(p,d))})).apply(this,arguments)}function qt(){return(qt=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function An(){return(An=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ji(){return(ji=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Yi(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Kt(){return(Kt=(0,S.Z)(function*(p,d=!1){const h=(0,ie.m9)(p),g=yield h.getIdToken(d),y=yn(g);ye(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const C="object"==typeof y.firebase?y.firebase:void 0,P=C?.sign_in_provider;return{claims:y,token:g,authTime:Yi(cn(y.auth_time)),issuedAtTime:Yi(cn(y.iat)),expirationTime:Yi(cn(y.exp)),signInProvider:P||null,signInSecondFactor:C?.sign_in_second_factor||null}})).apply(this,arguments)}function cn(p){return 1e3*Number(p)}function yn(p){const[d,h,g]=p.split(".");if(void 0===d||void 0===h||void 0===g)return Gn("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,ie.tV)(h);return y?JSON.parse(y):(Gn("Failed to decode base64 JWT payload"),null)}catch(y){return Gn("Caught error parsing JWT payload as JSON",y?.toString()),null}}function Un(p,d){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,S.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof ie.ZR&&function Qo({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class mo{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,S.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class Xo{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hi(p){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,S.Z)(function*(p){var d;const h=p.auth,g=yield p.getIdToken(),y=yield Un(p,function ti(p,d){return ji.apply(this,arguments)}(h,{idToken:g}));ye(y?.users.length,h,"internal-error");const C=y.users[0];p._notifyReloadListener(C);const P=null!==(d=C.providerUserInfo)&&void 0!==d&&d.length?function ya(p){return p.map(d=>{var{providerId:h}=d,g=(0,ft._T)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(C.providerUserInfo):[],J=function Ql(p,d){return[...p.filter(g=>!d.some(y=>y.providerId===g.providerId)),...d]}(p.providerData,P),ot=!!p.isAnonymous&&!(p.email&&C.passwordHash||J?.length),tn={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:J,metadata:new Xo(C.createdAt,C.lastLoginAt),isAnonymous:ot};Object.assign(p,tn)}),Oi.apply(this,arguments)}function go(){return(go=(0,S.Z)(function*(p){const d=(0,ie.m9)(p);yield Hi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function _s(){return(_s=(0,S.Z)(function*(p,d){const h=yield De(p,{},(0,S.Z)(function*(){const g=(0,ie.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:y,apiKey:C}=p.config,P=Jt(p,y,"/v1/token",`key=${C}`),J=yield p._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(P,{method:"POST",headers:J,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function k(){return(k=(0,S.Z)(function*(p,d){return fe(p,"POST","/v2/accounts:revokeToken",Y(p,d))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ye(d.idToken,"internal-error"),ye(typeof d.idToken<"u","internal-error"),ye(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function il(p){const d=yn(p);return ye(d,"internal-error"),ye(typeof d.exp<"u","internal-error"),ye(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var g=this;return(0,S.Z)(function*(){return ye(!g.accessToken||g.refreshToken,d,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,S.Z)(function*(){const{accessToken:y,refreshToken:C,expiresIn:P}=yield function rl(p,d){return _s.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(y,C,Number(P))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:y,expirationTime:C}=h,P=new E;return g&&(ye("string"==typeof g,"internal-error",{appName:d}),P.refreshToken=g),y&&(ye("string"==typeof y,"internal-error",{appName:d}),P.accessToken=y),C&&(ye("number"==typeof C,"internal-error",{appName:d}),P.expirationTime=C),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function x(p,d){ye("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class w{constructor(d){var{uid:h,auth:g,stsTokenManager:y}=d,C=(0,ft._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=C.displayName||null,this.email=C.email||null,this.emailVerified=C.emailVerified||!1,this.phoneNumber=C.phoneNumber||null,this.photoURL=C.photoURL||null,this.isAnonymous=C.isAnonymous||!1,this.tenantId=C.tenantId||null,this.providerData=C.providerData?[...C.providerData]:[],this.metadata=new Xo(C.createdAt||void 0,C.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,S.Z)(function*(){const g=yield Un(h,h.stsTokenManager.getToken(h.auth,d));return ye(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function Cn(p){return Kt.apply(this,arguments)}(this,d)}reload(){return function yr(p){return go.apply(this,arguments)}(this)}_assign(d){this!==d&&(ye(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new w(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,S.Z)(function*(){let y=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),y=!0),h&&(yield Hi(g)),yield g.auth._persistUserIfCurrent(g),y&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,S.Z)(function*(){const h=yield d.getIdToken();return yield Un(d,function Sn(p,d){return qt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,y,C,P,J,_e,je,ot;const tn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Br=null!==(y=h.email)&&void 0!==y?y:void 0,Zs=null!==(C=h.phoneNumber)&&void 0!==C?C:void 0,Gu=null!==(P=h.photoURL)&&void 0!==P?P:void 0,C0=null!==(J=h.tenantId)&&void 0!==J?J:void 0,yc=null!==(_e=h._redirectEventId)&&void 0!==_e?_e:void 0,Aa=null!==(je=h.createdAt)&&void 0!==je?je:void 0,I0=null!==(ot=h.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:sf,emailVerified:Og,isAnonymous:vc,providerData:Pg,stsTokenManager:Er}=h;ye(sf&&Er,d,"internal-error");const Px=E.fromJSON(this.name,Er);ye("string"==typeof sf,d,"internal-error"),x(tn,d.name),x(Br,d.name),ye("boolean"==typeof Og,d,"internal-error"),ye("boolean"==typeof vc,d,"internal-error"),x(Zs,d.name),x(Gu,d.name),x(C0,d.name),x(yc,d.name),x(Aa,d.name),x(I0,d.name);const Mt=new w({uid:sf,auth:d,email:Br,emailVerified:Og,displayName:tn,isAnonymous:vc,photoURL:Gu,phoneNumber:Zs,tenantId:C0,stsTokenManager:Px,createdAt:Aa,lastLoginAt:I0});return Pg&&Array.isArray(Pg)&&(Mt.providerData=Pg.map(Fg=>Object.assign({},Fg))),yc&&(Mt._redirectEventId=yc),Mt}static _fromIdTokenResponse(d,h,g=!1){return(0,S.Z)(function*(){const y=new E;y.updateFromServerResponse(h);const C=new w({uid:h.localId,auth:d,stsTokenManager:y,isAnonymous:g});return yield Hi(C),C})()}}const R=new Map;function re(p){Dn(p instanceof Function,"Expected a class definition");let d=R.get(p);return d?(Dn(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,R.set(p,d),d)}const Ue=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,g){var y=this;return(0,S.Z)(function*(){y.storage[h]=g})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=g.storage[h];return void 0===y?null:y})()}_remove(h){var g=this;return(0,S.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function lt(p,d,h){return`firebase:${p}:${d}:${h}`}class sn{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:y,name:C}=this.auth;this.fullUserKey=lt(this.userKey,y.apiKey,C),this.fullPersistenceKey=lt("persistence",y.apiKey,C),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?w._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,S.Z)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,S.Z)(function*(){if(!h.length)return new sn(re(Ue),d,g);const y=(yield Promise.all(h.map(function(){var je=(0,S.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return je.apply(this,arguments)}}()))).filter(je=>je);let C=y[0]||re(Ue);const P=lt(g,d.config.apiKey,d.name);let J=null;for(const je of h)try{const ot=yield je._get(P);if(ot){const tn=w._fromJSON(d,ot);je!==C&&(J=tn),C=je;break}}catch{}const _e=y.filter(je=>je._shouldAllowMigration);return C._shouldAllowMigration&&_e.length?(C=_e[0],J&&(yield C._set(P,J.toJSON())),yield Promise.all(h.map(function(){var je=(0,S.Z)(function*(ot){if(ot!==C)try{yield ot._remove(P)}catch{}});return function(ot){return je.apply(this,arguments)}}())),new sn(C,d,g)):new sn(C,d,g)})()}}function Me(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ol(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Rn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(F(d))return"Blackberry";if(be(d))return"Webos";if(Je(d))return"Safari";if((d.includes("chrome/")||Qi(d))&&!d.includes("edge/"))return"Chrome";if($(d))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Rn(p=(0,ie.z$)()){return/firefox\//i.test(p)}function Je(p=(0,ie.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Qi(p=(0,ie.z$)()){return/crios\//i.test(p)}function ol(p=(0,ie.z$)()){return/iemobile/i.test(p)}function $(p=(0,ie.z$)()){return/android/i.test(p)}function F(p=(0,ie.z$)()){return/blackberry/i.test(p)}function be(p=(0,ie.z$)()){return/webos/i.test(p)}function Qe(p=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Ot(p=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Di(p=(0,ie.z$)()){return Qe(p)||$(p)||be(p)||F(p)||/windows phone/i.test(p)||ol(p)}function Wt(p,d=[]){let h;switch(p){case"Browser":h=Me((0,ie.z$)());break;case"Worker":h=`${Me((0,ie.z$)())}-${p}`;break;default:h=p}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${j.SDK_VERSION}/${g}`}class xu{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=C=>new Promise((P,J)=>{try{P(d(C))}catch(_e){J(_e)}});g.onAbort=h,this.queue.push(g);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const y of h.queue)yield y(d),y.onAbort&&g.push(y.onAbort)}catch(y){g.reverse();for(const C of g)try{C()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function Pm(){return(Pm=(0,S.Z)(function*(p,d={}){return fe(p,"GET","/v2/passwordPolicy",Y(p,d))})).apply(this,arguments)}class _o{constructor(d){var h,g,y,C;const P=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=P.minPasswordLength)&&void 0!==h?h:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(C=d.forceUpgradeOnSignin)&&void 0!==C&&C,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,y,C,P,J;const _e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,_e),this.validatePasswordCharacterOptions(d,_e),_e.isValid&&(_e.isValid=null===(h=_e.meetsMinPasswordLength)||void 0===h||h),_e.isValid&&(_e.isValid=null===(g=_e.meetsMaxPasswordLength)||void 0===g||g),_e.isValid&&(_e.isValid=null===(y=_e.containsLowercaseLetter)||void 0===y||y),_e.isValid&&(_e.isValid=null===(C=_e.containsUppercaseLetter)||void 0===C||C),_e.isValid&&(_e.isValid=null===(P=_e.containsNumericCharacter)||void 0===P||P),_e.isValid&&(_e.isValid=null===(J=_e.containsNonAlphanumericCharacter)||void 0===J||J),_e}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),y&&(h.meetsMaxPasswordLength=d.length<=y)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<d.length;y++)g=d.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,y,C){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=C))}}class UP{constructor(d,h,g,y){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KT(this),this.idTokenSubscription=new KT(this),this.beforeStateQueue=new xu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=re(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var y,C;if(!g._deleted&&(g.persistenceManager=yield sn.create(g,d),!g._deleted)){if(null!==(y=g._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(C=g.currentUser)||void 0===C?void 0:C.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,S.Z)(function*(){var g;const y=yield h.assertedPersistence.getCurrentUser();let C=y,P=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,_e=C?._redirectEventId,je=yield h.tryRedirectSignIn(d);(!J||J===_e)&&je?.user&&(C=je.user,P=!0)}if(!C)return h.directlySetCurrentUser(null);if(!C._redirectEventId){if(P)try{yield h.beforeStateQueue.runMiddleware(C)}catch(J){C=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(J))}return C?h.reloadAndSetCurrentUserOrClear(C):h.directlySetCurrentUser(null)}return ye(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===C._redirectEventId?h.directlySetCurrentUser(C):h.reloadAndSetCurrentUserOrClear(C)})()}tryRedirectSignIn(d){var h=this;return(0,S.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,S.Z)(function*(){try{yield Hi(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,S.Z)(function*(){const g=d?(0,ie.m9)(d):null;return g&&ye(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,S.Z)(function*(){if(!g._deleted)return d&&ye(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,S.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(re(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,S.Z)(function*(){const h=yield function BP(p){return Pm.apply(this,arguments)}(d),g=new _o(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ie.LL("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function N(p,d){return k.apply(this,arguments)}(h,y)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,S.Z)(function*(){const y=yield g.getOrInitRedirectPersistenceManager(h);return null===d?y.removeCurrentUser():y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const g=d&&re(d)||h._popupRedirectResolver;ye(g,h,"argument-error"),h.redirectPersistenceManager=yield sn.create(h,[re(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,S.Z)(function*(){var g,y;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,S.Z)(function*(){if(d===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,y){if(this._deleted)return()=>{};const C="function"==typeof h?h:h.next.bind(h);let P=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(J,this,"internal-error"),J.then(()=>{P||C(this.currentUser)}),"function"==typeof h){const _e=d.addObserver(h,g,y);return()=>{P=!0,_e()}}{const _e=d.addObserver(h);return()=>{P=!0,_e()}}}directlySetCurrentUser(d){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const y=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(g["X-Firebase-Client"]=y);const C=yield d._getAppCheckToken();return C&&(g["X-Firebase-AppCheck"]=C),g})()}_getAppCheckToken(){var d=this;return(0,S.Z)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function wi(p,...d){mt.logLevel<=Ye.in.WARN&&mt.warn(`Auth (${j.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function hi(p){return(0,ie.m9)(p)}class KT{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ie.ne)(h=>this.observer=h)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Eb(p){return new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=d,g.onerror=y=>{const C=$t("internal-error");C.customData=y,h(C)},g.type="text/javascript",g.charset="UTF-8",function sl(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(g)})}function ZT(p){return`__${p}${Math.floor(1e6*Math.random())}`}class QT{constructor(d){this.type="recaptcha-enterprise",this.auth=hi(d)}verify(d="verify",h=!1){var g=this;return(0,S.Z)(function*(){function C(){return C=(0,S.Z)(function*(J){if(!h){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var _e=(0,S.Z)(function*(je,ot){Se(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Br=new U(tn);return null==J.tenantId?J._agentRecaptchaConfig=Br:J._tenantRecaptchaConfigs[J.tenantId]=Br,je(Br.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{ot(tn)})});return function(je,ot){return _e.apply(this,arguments)}}())}),C.apply(this,arguments)}function P(J,_e,je){const ot=window.grecaptcha;z(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(J,{action:d}).then(tn=>{_e(tn)}).catch(()=>{_e("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,_e)=>{(function y(J){return C.apply(this,arguments)})(g.auth).then(je=>{if(!h&&z(window.grecaptcha))P(je,J,_e);else{if(typeof window>"u")return void _e(new Error("RecaptchaVerifier is only supported in browser"));Eb("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{P(je,J,_e)}).catch(ot=>{_e(ot)})}}).catch(je=>{_e(je)})})})()}}function Cb(p,d,h){return Ib.apply(this,arguments)}function Ib(){return(Ib=(0,S.Z)(function*(p,d,h,g=!1){const y=new QT(p);let C;try{C=yield y.verify(h)}catch{C=yield y.verify(h,!0)}const P=Object.assign({},d);return Object.assign(P,g?{captchaResp:C}:{captchaResponse:C}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function vr(p,d,h,g){return ht.apply(this,arguments)}function ht(){return ht=(0,S.Z)(function*(p,d,h,g){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const C=yield Cb(p,d,h,"getOobCode"===h);return g(p,C)}return g(p,d).catch(function(){var C=(0,S.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield Cb(p,d,h,"getOobCode"===h);return g(p,J)}return Promise.reject(P)});return function(P){return C.apply(this,arguments)}}())}),ht.apply(this,arguments)}function XT(p,d,h){const g=hi(p);ye(g._canInitEmulator,g,"emulator-config-failed"),ye(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const y=!!h?.disableWarnings,C=Xe(d),{host:P,port:J}=function _h(p){const d=Xe(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(g);if(y){const C=y[1];return{host:C,port:xb(g.substr(C.length+1))}}{const[C,P]=g.split(":");return{host:C,port:xb(P)}}}(d);g.config.emulator={url:`${C}//${P}${null===J?"":`:${J}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:P,port:J,protocol:C.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function Db(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Xe(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function xb(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class Xl{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Gt("not implemented")}_getIdTokenResponse(d){return Gt("not implemented")}_linkToIdToken(d,h){return Gt("not implemented")}_getReauthenticationResolver(d){return Gt("not implemented")}}function Du(p,d){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:resetPassword",Y(p,d))})).apply(this,arguments)}function yh(){return(yh=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function JT(p,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function vh(){return(vh=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:update",Y(p,d))})).apply(this,arguments)}function Jr(p,d){return bh.apply(this,arguments)}function bh(){return(bh=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPassword",Y(p,d))})).apply(this,arguments)}function Bm(p,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:sendOobCode",Y(p,d))})).apply(this,arguments)}function Sb(){return(Sb=(0,S.Z)(function*(p,d){return Bm(p,d)})).apply(this,arguments)}function oe(p,d){return Su.apply(this,arguments)}function Su(){return(Su=(0,S.Z)(function*(p,d){return Bm(p,d)})).apply(this,arguments)}function Um(p,d){return wh.apply(this,arguments)}function wh(){return(wh=(0,S.Z)(function*(p,d){return Bm(p,d)})).apply(this,arguments)}function Hm(){return(Hm=(0,S.Z)(function*(p,d){return Bm(p,d)})).apply(this,arguments)}function Ab(){return(Ab=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}function Rb(){return(Rb=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}class Eh extends Xl{constructor(d,h,g,y=null){super("password",g),this._email=d,this._password=h,this._tenantId=y}static _fromEmailAndPassword(d,h){return new Eh(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new Eh(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return vr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return function zm(p,d){return Ab.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,S.Z)(function*(){switch(g.signInMethod){case"password":return vr(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JT);case"emailLink":return function GP(p,d){return Rb.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function va(p,d){return al.apply(this,arguments)}function al(){return(al=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithIdp",Y(p,d))})).apply(this,arguments)}class yo extends Xl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new yo(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Rt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:y}=h,C=(0,ft._T)(h,["providerId","signInMethod"]);if(!g||!y)return null;const P=new yo(g,y);return P.idToken=C.idToken||void 0,P.accessToken=C.accessToken||void 0,P.secret=C.secret,P.nonce=C.nonce,P.pendingToken=C.pendingToken||null,P}_getIdTokenResponse(d){return va(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,va(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,va(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,ie.xO)(h)}return d}}function Wm(){return(Wm=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:sendVerificationCode",Y(p,d))})).apply(this,arguments)}function Ch(){return(Ch=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d))})).apply(this,arguments)}function Gm(){return(Gm=(0,S.Z)(function*(p,d){const h=yield Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d));if(h.temporaryProof)throw Bn(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ba={USER_NOT_FOUND:"user-not-found"};function O(){return(O=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ba)})).apply(this,arguments)}class wa extends Xl{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new wa({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new wa({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function tx(p,d){return Ch.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function ec(p,d){return Gm.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function nx(p,d){return O.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:y}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:C}=d;return g||h||y||C?new wa({verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:C}):null}}class ll{constructor(d){var h,g,y,C,P,J;const _e=(0,ie.zd)((0,ie.pd)(d)),je=null!==(h=_e.apiKey)&&void 0!==h?h:null,ot=null!==(g=_e.oobCode)&&void 0!==g?g:null,tn=function Ce(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=_e.mode)&&void 0!==y?y:null);ye(je&&ot&&tn,"argument-error"),this.apiKey=je,this.operation=tn,this.code=ot,this.continueUrl=null!==(C=_e.continueUrl)&&void 0!==C?C:null,this.languageCode=null!==(P=_e.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(J=_e.tenantId)&&void 0!==J?J:null}static parseLink(d){const h=function Ih(p){const d=(0,ie.zd)((0,ie.pd)(p)).link,h=d?(0,ie.zd)((0,ie.pd)(d)).deep_link_id:null,g=(0,ie.zd)((0,ie.pd)(p)).deep_link_id;return(g?(0,ie.zd)((0,ie.pd)(g)).link:null)||g||h||d||p}(d);try{return new ll(h)}catch{return null}}}let qm=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return Eh._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const y=ll.parseLink(g);return ye(y,"argument-error"),Eh._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class $s{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class tc extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class vo extends tc{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ye("providerId"in h&&"signInMethod"in h,"argument-error"),yo._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ye(d.idToken||d.accessToken,"argument-error"),yo._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return vo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return vo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:y,pendingToken:C,nonce:P,providerId:J}=d;if(!g&&!y&&!h&&!C||!J)return null;try{return new vo(J)._credential({idToken:h,accessToken:g,nonce:P,pendingToken:C})}catch{return null}}}let xh=(()=>{class p extends tc{constructor(){super("facebook.com")}static credential(h){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Oo=(()=>{class p extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y}=h;if(!g&&!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),ys=(()=>{class p extends tc{constructor(){super("github.com")}static credential(h){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ws extends Xl{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return va(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,va(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,va(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:y,pendingToken:C}=h;return g&&y&&C&&g===y?new Ws(g,C):null}static _create(d,h){return new Ws(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nc extends $s{constructor(d){ye(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return nc.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return nc.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=Ws.fromJSON(d);return ye(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return Ws._create(g,h)}catch{return null}}}let kb=(()=>{class p extends tc{constructor(){super("twitter.com")}static credential(h,g){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:y}=h;if(!g||!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function vs(p,d){return cl.apply(this,arguments)}function cl(){return(cl=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signUp",Y(p,d))})).apply(this,arguments)}class bo{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,y=!1){return(0,S.Z)(function*(){const C=yield w._fromIdTokenResponse(d,g,y),P=Zm(g);return new bo({user:C,providerId:P,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(g,!0);const y=Zm(g);return new bo({user:d,providerId:y,_tokenResponse:g,operationType:h})})()}}function Zm(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Ym(p){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,S.Z)(function*(p){var d;const h=hi(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new bo({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield vs(h,{returnSecureToken:!0}),y=yield bo._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class Au extends ie.ZR{constructor(d,h,g,y){var C;super(h.code,h.message),this.operationType=g,this.user=y,Object.setPrototypeOf(this,Au.prototype),this.customData={appName:d.name,tenantId:null!==(C=d.tenantId)&&void 0!==C?C:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,y){return new Au(d,h,g,y)}}function ic(p,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(C=>{throw"auth/multi-factor-auth-required"===C.code?Au._fromErrorAndOperation(p,C,d,g):C})}function Qm(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function Mb(p,d){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p);yield Ah(!0,h,d);const{providerUserInfo:g}=yield function Bt(p,d){return An.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),y=Qm(g||[]);return h.providerData=h.providerData.filter(C=>y.has(C.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Xm.apply(this,arguments)}function Sh(p,d){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,S.Z)(function*(p,d,h=!1){const g=yield Un(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return bo._forOperation(p,"link",g)})).apply(this,arguments)}function Ah(p,d,h){return wo.apply(this,arguments)}function wo(){return(wo=(0,S.Z)(function*(p,d,h){yield Hi(d);const y=!1===p?"provider-already-linked":"no-such-provider";ye(Qm(d.providerData).has(h)===p,d.auth,y)})).apply(this,arguments)}function Nb(p,d){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,S.Z)(function*(p,d,h=!1){const{auth:g}=p,y="reauthenticate";try{const C=yield Un(p,ic(g,y,d,p),h);ye(C.idToken,g,"internal-error");const P=yn(C.idToken);ye(P,g,"internal-error");const{sub:J}=P;return ye(p.uid===J,g,"user-mismatch"),bo._forOperation(p,y,C)}catch(C){throw"auth/user-not-found"===C?.code&&Rt(g,"user-mismatch"),C}})).apply(this,arguments)}function Ob(p,d){return eg.apply(this,arguments)}function eg(){return(eg=(0,S.Z)(function*(p,d,h=!1){const g="signIn",y=yield ic(p,g,d),C=yield bo._fromIdTokenResponse(p,g,y);return h||(yield p._updateCurrentUser(C.user)),C})).apply(this,arguments)}function kh(p,d){return tg.apply(this,arguments)}function tg(){return(tg=(0,S.Z)(function*(p,d){return Ob(hi(p),d)})).apply(this,arguments)}function ng(p,d){return ig.apply(this,arguments)}function ig(){return(ig=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p);return yield Ah(!1,h,d.providerId),Sh(h,d)})).apply(this,arguments)}function Pb(p,d){return rg.apply(this,arguments)}function rg(){return(rg=(0,S.Z)(function*(p,d){return Nb((0,ie.m9)(p),d)})).apply(this,arguments)}function og(){return(og=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithCustomToken",Y(p,d))})).apply(this,arguments)}function ix(p,d){return sg.apply(this,arguments)}function sg(){return sg=(0,S.Z)(function*(p,d){const h=hi(p),g=yield function yt(p,d){return og.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),y=yield bo._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(y.user),y}),sg.apply(this,arguments)}class qe{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ag._fromServerResponse(d,h):"totpInfo"in h?Mh._fromServerResponse(d,h):Rt(d,"internal-error")}}class ag extends qe{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ag(h)}}class Mh extends qe{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new Mh(h)}}function X(p,d,h){var g;ye((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ye(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ye(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ye(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function zi(p){return en.apply(this,arguments)}function en(){return(en=(0,S.Z)(function*(p){const d=hi(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function ir(p,d,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,S.Z)(function*(p,d,h){const g=hi(p),y={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&X(g,y,h),yield vr(g,y,"getOobCode",oe)})).apply(this,arguments)}function rc(p,d,h){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,S.Z)(function*(p,d,h){yield Du((0,ie.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&zi(p),y});return function(y){return g.apply(this,arguments)}}())}),Fr.apply(this,arguments)}function Fb(p,d){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,S.Z)(function*(p,d){yield function Vm(p,d){return vh.apply(this,arguments)}((0,ie.m9)(p),{oobCode:d})}),Nh.apply(this,arguments)}function Ru(p,d){return lg.apply(this,arguments)}function lg(){return(lg=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p),g=yield Du(h,{oobCode:d}),y=g.requestType;switch(ye(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(g.mfaInfo,h,"internal-error");default:ye(g.email,h,"internal-error")}let C=null;return g.mfaInfo&&(C=qe._fromServerResponse(hi(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:C},operation:y}})).apply(this,arguments)}function rx(p,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,S.Z)(function*(p,d){const{data:h}=yield Ru((0,ie.m9)(p),d);return h.email})).apply(this,arguments)}function Oe(p,d,h){return It.apply(this,arguments)}function It(){return(It=(0,S.Z)(function*(p,d,h){const g=hi(p),P=yield vr(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vs).catch(_e=>{throw"auth/password-does-not-meet-requirements"===_e.code&&zi(p),_e}),J=yield bo._fromIdTokenResponse(g,"signIn",P);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}function ii(p,d,h){return kh((0,ie.m9)(p),qm.credential(d,h)).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&zi(p),y});return function(y){return g.apply(this,arguments)}}())}function Jo(p,d,h){return ul.apply(this,arguments)}function ul(){return(ul=(0,S.Z)(function*(p,d,h){const g=hi(p),y={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function C(P,J){ye(J.handleCodeInApp,g,"argument-error"),J&&X(g,P,J)})(y,h),yield vr(g,y,"getOobCode",Um)})).apply(this,arguments)}function br(p,d){const h=ll.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function oc(p,d,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),y=qm.credentialWithLink(d,h||ei());return ye(y._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),kh(g,y)})).apply(this,arguments)}function Ca(){return(Ca=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:createAuthUri",Y(p,d))})).apply(this,arguments)}function Tt(p,d){return dl.apply(this,arguments)}function dl(){return dl=(0,S.Z)(function*(p,d){const g={identifier:d,continueUri:qn()?ei():"http://localhost"},{signinMethods:y}=yield function Ea(p,d){return Ca.apply(this,arguments)}((0,ie.m9)(p),g);return y||[]}),dl.apply(this,arguments)}function Lb(p,d){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&X(h.auth,y,d);const{email:C}=yield function WP(p,d){return Sb.apply(this,arguments)}(h.auth,y);C!==p.email&&(yield p.reload())}),Ia.apply(this,arguments)}function Si(p,d,h){return hl.apply(this,arguments)}function hl(){return hl=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),C={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&X(g.auth,C,h);const{email:P}=yield function jm(p,d){return Hm.apply(this,arguments)}(g.auth,C);P!==p.email&&(yield p.reload())}),hl.apply(this,arguments)}function Po(){return(Po=(0,S.Z)(function*(p,d){return fe(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ku(p,d){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,S.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,ie.m9)(p),C={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},P=yield Un(g,function sc(p,d){return Po.apply(this,arguments)}(g.auth,C));g.displayName=P.displayName||null,g.photoURL=P.photoUrl||null;const J=g.providerData.find(({providerId:_e})=>"password"===_e);J&&(J.displayName=g.displayName,J.photoURL=g.photoURL),yield g._updateTokensIfNecessary(P)}),Oh.apply(this,arguments)}function Ta(p,d){return ac((0,ie.m9)(p),d,null)}function Gs(p,d){return ac((0,ie.m9)(p),null,d)}function ac(p,d,h){return fl.apply(this,arguments)}function fl(){return fl=(0,S.Z)(function*(p,d,h){const{auth:g}=p,C={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(C.email=d),h&&(C.password=h);const P=yield Un(p,function Lm(p,d){return yh.apply(this,arguments)}(g,C));yield p._updateTokensIfNecessary(P,!0)}),fl.apply(this,arguments)}class Mu{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class Ph extends Mu{constructor(d,h,g,y){super(d,h,g),this.username=y}}class Vb extends Mu{constructor(d,h){super(d,"facebook.com",h)}}class bs extends Ph{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Fh extends Mu{constructor(d,h){super(d,"google.com",h)}}class lc extends Ph{constructor(d,h,g){super(d,"twitter.com",h,g)}}function Nu(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Zt(p){var d,h;if(!p)return null;const{providerId:g}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},C=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const P=null===(h=null===(d=yn(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(P)return new Mu(C,"anonymous"!==P&&"custom"!==P?P:null)}if(!g)return null;switch(g){case"facebook.com":return new Vb(C,y);case"github.com":return new bs(C,y);case"google.com":return new Fh(C,y);case"twitter.com":return new lc(C,y,p.screenName||null);case"custom":case"anonymous":return new Mu(C,null);default:return new Mu(C,g,y)}}(h)}class ml{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new ml("enroll",d,h)}static _fromMfaPendingCredential(d){return new ml("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ml._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return ml._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ub{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=hi(d),y=h.customData._serverResponse,C=(y.mfaInfo||[]).map(J=>qe._fromServerResponse(g,J));ye(y.mfaPendingCredential,g,"internal-error");const P=ml._fromMfaPendingCredential(y.mfaPendingCredential);return new Ub(P,C,function(){var J=(0,S.Z)(function*(_e){const je=yield _e._process(g,P);delete y.mfaInfo,delete y.mfaPendingCredential;const ot=Object.assign(Object.assign({},y),{idToken:je.idToken,refreshToken:je.refreshToken});switch(h.operationType){case"signIn":const tn=yield bo._fromIdTokenResponse(g,h.operationType,ot);return yield g._updateCurrentUser(tn.user),tn;case"reauthenticate":return ye(h.user,g,"internal-error"),bo._forOperation(h.user,h.operationType,ot);default:Rt(g,"internal-error")}});return function(_e){return J.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,S.Z)(function*(){return h.signInResolver(d)})()}}function ZP(p,d){var h;const g=(0,ie.m9)(p),y=d;return ye(d.customData.operationType,g,"argument-error"),ye(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),Ub._fromError(g,y)}class jb{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>qe._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new jb(d)}getSession(){var d=this;return(0,S.Z)(function*(){return ml._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,S.Z)(function*(){const y=d,C=yield g.getSession(),P=yield Un(g.user,y._process(g.user.auth,C,h));return yield g.user._updateTokensIfNecessary(P),g.user.reload()})()}unenroll(d){var h=this;return(0,S.Z)(function*(){const g="string"==typeof d?d:d.uid,y=yield h.user.getIdToken();try{const C=yield Un(h.user,function JP(p,d){return fe(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(p,d))}(h.user.auth,{idToken:y,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:P})=>P!==g),yield h.user._updateTokensIfNecessary(C),yield h.user.reload()}catch(C){throw C}})()}}const Hb=new WeakMap;function eF(p){const d=(0,ie.m9)(p);return Hb.has(d)||Hb.set(d,jb._fromUser(d)),Hb.get(d)}const hg="__sak";class ox{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(hg,"1"),this.storage.removeItem(hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const sx=(()=>{class p extends ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zb(){const p=(0,ie.z$)();return Je(p)||Qe(p)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Di(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const y=this.storage.getItem(g),C=this.localCache[g];y!==C&&h(g,C,y)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((J,_e,je)=>{this.notifyListeners(J,je)});const y=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(y);if(h.newValue!==J)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!g)return}const C=()=>{const J=this.storage.getItem(y);!g&&this.localCache[y]===J||this.notifyListeners(y,J)},P=this.storage.getItem(y);!function W(){return(0,ie.w1)()&&10===document.documentMode}()||P===h.newValue||h.newValue===h.oldValue?C():setTimeout(C,10)}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const C of Array.from(y))C(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var y=()=>super._set,C=this;return(0,S.Z)(function*(){yield y().call(C,h,g),C.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,y=this;return(0,S.Z)(function*(){const C=yield g().call(y,h);return y.localCache[h]=JSON.stringify(C),C})()}_remove(h){var g=()=>super._remove,y=this;return(0,S.Z)(function*(){yield g().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),Es=(()=>{class p extends ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let iF=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(C=>C.isListeningto(h));if(g)return g;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,S.Z)(function*(){const y=h,{eventId:C,eventType:P,data:J}=y.data,_e=g.handlersMap[P];if(!_e?.size)return;y.ports[0].postMessage({status:"ack",eventId:C,eventType:P});const je=Array.from(_e).map(function(){var tn=(0,S.Z)(function*(Br){return Br(y.origin,J)});return function(Br){return tn.apply(this,arguments)}}()),ot=yield function nF(p){return Promise.all(p.map(function(){var d=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(je);y.ports[0].postMessage({status:"done",eventId:C,eventType:P,response:ot})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ai(p="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return p+h}class Lh{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var y=this;return(0,S.Z)(function*(){const C=typeof MessageChannel<"u"?new MessageChannel:null;if(!C)throw new Error("connection_unavailable");let P,J;return new Promise((_e,je)=>{const ot=Ai("",20);C.port1.start();const tn=setTimeout(()=>{je(new Error("unsupported_event"))},g);J={messageChannel:C,onMessage(Br){const Zs=Br;if(Zs.data.eventId===ot)switch(Zs.data.status){case"ack":clearTimeout(tn),P=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),_e(Zs.data.response);break;default:clearTimeout(tn),clearTimeout(P),je(new Error("invalid_response"))}}},y.handlers.add(J),C.port1.addEventListener("message",J.onMessage),y.target.postMessage({eventType:d,eventId:ot,data:h},[C.port2])}).finally(()=>{J&&y.removeMessageHandler(J)})})()}}function vn(){return window}function Vh(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Bh(){return(Bh=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Uh="firebaseLocalStorageDb",Ou="firebaseLocalStorage",mg="fbase_key";class uc{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function gl(p,d){return p.transaction([Ou],d?"readwrite":"readonly").objectStore(Ou)}function xa(){const p=indexedDB.open(Uh,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Ou,{keyPath:mg})}catch(y){h(y)}}),p.addEventListener("success",(0,S.Z)(function*(){const g=p.result;g.objectStoreNames.contains(Ou)?d(g):(g.close(),yield function Pu(){const p=indexedDB.deleteDatabase(Uh);return new uc(p).toPromise()}(),d(yield xa()))}))})}function gg(p,d,h){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,S.Z)(function*(p,d,h){const g=gl(p,!0).put({[mg]:d,value:h});return new uc(g).toPromise()})).apply(this,arguments)}function Zb(){return(Zb=(0,S.Z)(function*(p,d){const h=gl(p,!1).get(d),g=yield new uc(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Yb(p,d){const h=gl(p,!0).delete(d);return new uc(h).toPromise()}const jh=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield xa()),h.db})()}_withRetries(h){var g=this;return(0,S.Z)(function*(){let y=0;for(;;)try{const C=yield g._openDb();return yield h(C)}catch(C){if(y++>3)throw C;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return Vh()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=iF._getInstance(function qb(){return Vh()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,S.Z)(function*(y,C){return{keyProcessed:(yield h._poll()).includes(C.key)}});return function(y,C){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,S.Z)(function*(y,C){return["keyChanged"]});return function(y,C){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var g,y;if(h.activeServiceWorker=yield function Gb(){return Bh.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Lh(h.activeServiceWorker);const C=yield h.sender._send("ping",{},800);C&&null!==(g=C[0])&&void 0!==g&&g.fulfilled&&null!==(y=C[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,S.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function fg(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield xa();return yield gg(h,hg,"1"),yield Yb(h,hg),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,S.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var y=this;return(0,S.Z)(function*(){return y._withPendingWrite((0,S.Z)(function*(){return yield y._withRetries(C=>gg(C,h,g)),y.localCache[h]=g,y.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=yield g._withRetries(C=>function rF(p,d){return Zb.apply(this,arguments)}(C,h));return g.localCache[h]=y,y})()}_remove(h){var g=this;return(0,S.Z)(function*(){return g._withPendingWrite((0,S.Z)(function*(){return yield g._withRetries(y=>Yb(y,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const g=yield h._withRetries(P=>{const J=gl(P,!1).getAll();return new uc(J).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const y=[],C=new Set;for(const{fbase_key:P,value:J}of g)C.add(P),JSON.stringify(h.localCache[P])!==JSON.stringify(J)&&(h.notifyListeners(P,J),y.push(P));for(const P of Object.keys(h.localCache))h.localCache[P]&&!C.has(P)&&(h.notifyListeners(P,null),y.push(P));return y})()}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const C of Array.from(y))C(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Fu=1e12;class Qb{constructor(d){this.auth=d,this.counter=Fu,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new dx(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||Fu;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Fu))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,S.Z)(function*(){var g;return null===(g=h._widgets.get(d||Fu))||void 0===g||g.execute(),""})()}}class dx{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof d?document.getElementById(d):d;ye(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hx(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yg=ZT("rcb"),Xb=new _r(3e4,6e4);class Jb{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=vn().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ye(function px(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&di(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((g,y)=>{const C=vn().setTimeout(()=>{y($t(d,"network-request-failed"))},Xb.get());vn()[yg]=()=>{vn().clearTimeout(C),delete vn()[yg];const J=vn().grecaptcha;if(!J||!di(J))return void y($t(d,"internal-error"));const _e=J.render;J.render=(je,ot)=>{const tn=_e(je,ot);return this.counter++,tn},this.hostLanguage=h,g(J)},Eb(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:yg,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(C),y($t(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=vn().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lF{load(d){return(0,S.Z)(function*(){return new Qb(d)})()}clearedOneInstance(){}}const e0="recaptcha",Zn={theme:"light",type:"image"};class t0{constructor(d,h,g=Object.assign({},Zn)){this.parameters=g,this.type=e0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hi(d),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;ye(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lF:new Jb,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(C=>{const P=J=>{J&&(d.tokenChangeListeners.delete(P),C(J))};d.tokenChangeListeners.add(P),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=vn()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){ye(qn()&&!Vh(),d.auth,"internal-error"),yield function mx(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ee(p){return ue.apply(this,arguments)}(d.auth);ye(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vg{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=wa._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function n0(p,d,h){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,S.Z)(function*(p,d,h){const g=hi(p),y=yield Vu(g,d,(0,ie.m9)(h));return new vg(y,C=>kh(g,C))})).apply(this,arguments)}function gx(p,d,h){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);yield Ah(!1,g,"phone");const y=yield Vu(g.auth,d,(0,ie.m9)(h));return new vg(y,C=>ng(g,C))})).apply(this,arguments)}function _x(p,d,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),y=yield Vu(g.auth,d,(0,ie.m9)(h));return new vg(y,C=>Pb(g,C))})).apply(this,arguments)}function Vu(p,d,h){return zh.apply(this,arguments)}function zh(){return zh=(0,S.Z)(function*(p,d,h){var g;const y=yield h.verify();try{let C;if(ye("string"==typeof y,p,"argument-error"),ye(h.type===e0,p,"argument-error"),C="string"==typeof d?{phoneNumber:d}:d,"session"in C){const P=C.session;if("phoneNumber"in C)return ye("enroll"===P.type,p,"internal-error"),(yield function YP(p,d){return fe(p,"POST","/v2/accounts/mfaEnrollment:start",Y(p,d))}(p,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:C.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{ye("signin"===P.type,p,"internal-error");const J=(null===(g=C.multiFactorHint)||void 0===g?void 0:g.uid)||C.multiFactorUid;return ye(J,p,"missing-multi-factor-info"),(yield function cx(p,d){return fe(p,"POST","/v2/accounts/mfaSignIn:start",Y(p,d))}(p,{mfaPendingCredential:P.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function ex(p,d){return Wm.apply(this,arguments)}(p,{phoneNumber:C.phoneNumber,recaptchaToken:y});return P}}finally{h._reset()}}),zh.apply(this,arguments)}function jn(p,d){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,S.Z)(function*(p,d){yield Sh((0,ie.m9)(p),d)})).apply(this,arguments)}let $h=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=hi(h)}verifyPhoneNumber(h,g){return Vu(this.auth,h,(0,ie.m9)(g))}static credential(h,g){return wa._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:y}=h;return g&&y?wa._fromTokenResponse(g,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Pi(p,d){return d?re(d):(ye(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class bg extends Xl{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return va(d,this._buildIdpRequest())}_linkToIdToken(d,h){return va(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return va(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function r0(p){return Ob(p.auth,new bg(p),p.bypassAuthState)}function dc(p){const{auth:d,user:h}=p;return ye(h,d,"internal-error"),Nb(h,new bg(p),p.bypassAuthState)}function Co(p){return wg.apply(this,arguments)}function wg(){return(wg=(0,S.Z)(function*(p){const{auth:d,user:h}=p;return ye(h,d,"internal-error"),Sh(h,new bg(p),p.bypassAuthState)})).apply(this,arguments)}class o0{constructor(d,h,g,y,C=!1){this.auth=d,this.resolver=g,this.user=y,this.bypassAuthState=C,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,S.Z)(function*(g,y){d.pendingPromise={resolve:g,reject:y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(C){d.reject(C)}});return function(g,y){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,S.Z)(function*(){const{urlResponse:g,sessionId:y,postBody:C,tenantId:P,error:J,type:_e}=d;if(J)return void h.reject(J);const je={auth:h.auth,requestUri:g,sessionId:y,tenantId:P||void 0,postBody:C||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(_e)(je))}catch(ot){h.reject(ot)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return r0;case"linkViaPopup":case"linkViaRedirect":return Co;case"reauthViaPopup":case"reauthViaRedirect":return dc;default:Rt(this.auth,"internal-error")}}resolve(d){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yx=new _r(2e3,1e4);function Da(p,d,h){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,S.Z)(function*(p,d,h){const g=hi(p);Ei(p,d,$s);const y=Pi(g,h);return new Eg(g,"signInViaPopup",d,y).executeNotNull()})).apply(this,arguments)}function vx(p,d,h){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ei(g.auth,d,$s);const y=Pi(g.auth,h);return new Eg(g.auth,"reauthViaPopup",d,y,g).executeNotNull()})).apply(this,arguments)}function s0(p,d,h){return qh.apply(this,arguments)}function qh(){return(qh=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ei(g.auth,d,$s);const y=Pi(g.auth,h);return new Eg(g.auth,"linkViaPopup",d,y,g).executeNotNull()})).apply(this,arguments)}let Eg=(()=>{class p extends o0{constructor(h,g,y,C,P){super(h,g,C,P),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const g=yield h.execute();return ye(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,S.Z)(function*(){Dn(1===h.filter.length,"Popup operations only handle one event");const g=Ai();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject($t(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,y;this.pollId=null!==(y=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,yx.get())};h()}}return p.currentPopupAction=null,p})();const _t="pendingRedirect",hc=new Map;class cF extends o0{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,S.Z)(function*(){let g=hc.get(h.auth._key());if(!g){try{const C=(yield function bx(p,d){return Cg.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(C)}catch(y){g=()=>Promise.reject(y)}hc.set(h.auth._key(),g)}return h.bypassAuthState||hc.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const y=yield g.auth._redirectUserForId(d.eventId);if(y)return g.user=y,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function Cg(){return(Cg=(0,S.Z)(function*(p,d){const h=c0(d),g=l0(p);if(!(yield g._isAvailable()))return!1;const y="true"===(yield g._get(h));return yield g._remove(h),y})).apply(this,arguments)}function Ig(p,d){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,S.Z)(function*(p,d){return l0(p)._set(c0(d),"true")})).apply(this,arguments)}function fc(){hc.clear()}function a0(p,d){hc.set(p._key(),d)}function l0(p){return re(p._redirectPersistence)}function c0(p){return lt(_t,p.config.apiKey,p.name)}function wx(p,d,h){return function Ex(p,d,h){return me.apply(this,arguments)}(p,d,h)}function me(){return(me=(0,S.Z)(function*(p,d,h){const g=hi(p);Ei(p,d,$s),yield g._initializationPromise;const y=Pi(g,h);return yield Ig(y,g),y._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function an(p,d,h){return function vt(p,d,h){return gt.apply(this,arguments)}(p,d,h)}function gt(){return(gt=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ei(g.auth,d,$s),yield g.auth._initializationPromise;const y=Pi(g.auth,h);yield Ig(y,g.auth);const C=yield Cx(g);return y._openRedirect(g.auth,d,"reauthViaRedirect",C)})).apply(this,arguments)}function sr(p,d,h){return function u0(p,d,h){return _l.apply(this,arguments)}(p,d,h)}function _l(){return(_l=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ei(g.auth,d,$s),yield g.auth._initializationPromise;const y=Pi(g.auth,h);yield Ah(!1,g,d.providerId),yield Ig(y,g.auth);const C=yield Cx(g);return y._openRedirect(g.auth,d,"linkViaRedirect",C)})).apply(this,arguments)}function Cs(p,d){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,S.Z)(function*(p,d){return yield hi(p)._initializationPromise,ju(p,d,!1)})).apply(this,arguments)}function ju(p,d){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,S.Z)(function*(p,d,h=!1){const g=hi(p),y=Pi(g,d),P=yield new cF(g,y,h).execute();return P&&!h&&(delete P.user._redirectEventId,yield g._persistUserIfCurrent(P.user),yield g._setRedirectUser(null,d)),P})).apply(this,arguments)}function Cx(p){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,S.Z)(function*(p){const d=Ai(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class Is{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function qs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yl(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!yl(d)){const y=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError($t(this.auth,y))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xg(d))}saveEventToCache(d){this.cachedEventUids.add(xg(d)),this.lastProcessedEventTime=Date.now()}}function xg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function yl({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function d0(p){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,S.Z)(function*(p,d={}){return fe(p,"GET","/v1/projects",d)})).apply(this,arguments)}const Ix=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tx=/^https?/;function Hu(){return(Hu=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield d0(p);for(const h of d)try{if(h0(h))return}catch{}Rt(p,"unauthorized-domain")})).apply(this,arguments)}function h0(p){const d=ei(),{protocol:h,hostname:g}=new URL(d);if(p.startsWith("chrome-extension://")){const P=new URL(p);return""===P.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&P.hostname===g}if(!Tx.test(h))return!1;if(Ix.test(p))return g===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(g)}const Sg=new _r(3e4,6e4);function f0(){const p=vn().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let pc=null;const g0=new _r(5e3,15e3),_0="__/auth/iframe",y0="emulator/auth/iframe",Ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dx(p){const d=p.config;ye(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?po(d,y0):`https://${p.config.authDomain}/${_0}`,g={apiKey:d.apiKey,appName:p.name,v:j.SDK_VERSION},y=xx.get(p.config.apiHost);y&&(g.eid=y);const C=p._getFrameworks();return C.length&&(g.fw=C.join(",")),`${h}?${(0,ie.xO)(g).slice(1)}`}function Ks(){return Ks=(0,S.Z)(function*(p){const d=yield function m0(p){return pc=pc||function p0(p){return new Promise((d,h)=>{var g,y,C;function P(){f0(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{f0(),h($t(p,"network-request-failed"))},timeout:Sg.get()})}if(null!==(y=null===(g=vn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==y&&y.Iframe)d(gapi.iframes.getContext());else{if(null===(C=vn().gapi)||void 0===C||!C.load){const J=ZT("iframefcb");return vn()[J]=()=>{gapi.load?P():h($t(p,"network-request-failed"))},Eb(`https://apis.google.com/js/api.js?onload=${J}`).catch(_e=>h(_e))}P()}}).catch(d=>{throw pc=null,d})}(p),pc}(p),h=vn().gapi;return ye(h,p,"internal-error"),d.open({where:document.body,url:Dx(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ag,dontclear:!0},g=>new Promise(function(){var y=(0,S.Z)(function*(C,P){yield g.restyle({setHideOnLeave:!1});const J=$t(p,"network-request-failed"),_e=vn().setTimeout(()=>{P(J)},g0.get());function je(){vn().clearTimeout(_e),C(g)}g.ping(je).then(je,()=>{P(J)})});return function(C,P){return y.apply(this,arguments)}}()))}),Ks.apply(this,arguments)}const pi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kg{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sa="__/auth/handler",Rx="emulator/auth/handler",Jh=encodeURIComponent("fac");function mc(p,d,h,g,y,C){return gc.apply(this,arguments)}function gc(){return(gc=(0,S.Z)(function*(p,d,h,g,y,C){ye(p.config.authDomain,p,"auth-domain-config-required"),ye(p.config.apiKey,p,"invalid-api-key");const P={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:j.SDK_VERSION,eventId:y};if(d instanceof $s){d.setDefaultLanguage(p.languageCode),P.providerId=d.providerId||"",(0,ie.xb)(d.getCustomParameters())||(P.customParameters=JSON.stringify(d.getCustomParameters()));for(const[ot,tn]of Object.entries(C||{}))P[ot]=tn}if(d instanceof tc){const ot=d.getScopes().filter(tn=>""!==tn);ot.length>0&&(P.scopes=ot.join(","))}p.tenantId&&(P.tid=p.tenantId);const J=P;for(const ot of Object.keys(J))void 0===J[ot]&&delete J[ot];const _e=yield p._getAppCheckToken(),je=_e?`#${Jh}=${encodeURIComponent(_e)}`:"";return`${function Mg({config:p}){return p.emulator?po(p,Rx):`https://${p.authDomain}/${Sa}`}(p)}?${(0,ie.xO)(J).slice(1)}${je}`})).apply(this,arguments)}const ef="webStorageSupport",w0=class b0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Es,this._completeRedirectFn=ju,this._overrideRedirectResult=a0}_openPopup(d,h,g,y){var C=this;return(0,S.Z)(function*(){var P;Dn(null===(P=C.eventManagers[d._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const J=yield mc(d,h,g,ei(),y);return function v0(p,d,h,g=500,y=600){const C=Math.max((window.screen.availHeight-y)/2,0).toString(),P=Math.max((window.screen.availWidth-g)/2,0).toString();let J="";const _e=Object.assign(Object.assign({},pi),{width:g.toString(),height:y.toString(),top:C,left:P}),je=(0,ie.z$)().toLowerCase();h&&(J=Qi(je)?"_blank":h),Rn(je)&&(d=d||"http://localhost",_e.scrollbars="yes");const ot=Object.entries(_e).reduce((Br,[Zs,Gu])=>`${Br}${Zs}=${Gu},`,"");if(function Ut(p=(0,ie.z$)()){var d;return Qe(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(je)&&"_self"!==J)return function Xh(p,d){const h=document.createElement("a");h.href=p,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",J),new kg(null);const tn=window.open(d||"",J,ot);ye(tn,p,"popup-blocked");try{tn.focus()}catch{}return new kg(tn)}(d,J,Ai())})()}_openRedirect(d,h,g,y){var C=this;return(0,S.Z)(function*(){return yield C._originValidation(d),function Wb(p){vn().location.href=p}(yield mc(d,h,g,ei(),y)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:y,promise:C}=this.eventManagers[h];return y?Promise.resolve(y):(Dn(C,"If manager is not set, promise should be"),C)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,S.Z)(function*(){const g=yield function Vr(p){return Ks.apply(this,arguments)}(d),y=new Is(d);return g.register("authEvent",C=>(ye(C?.authEvent,d,"invalid-auth-event"),{status:y.onEvent(C.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:y},h.iframes[d._key()]=g,y})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(ef,{type:ef},y=>{var C;const P=null===(C=y?.[0])||void 0===C?void 0:C[ef];void 0!==P&&h(!!P),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Dg(p){return Hu.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Di()||Je()||Qe()}};class _c{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class vl extends _c{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new vl(d)}_finalizeEnroll(d,h,g){return function QP(p,d){return fe(p,"POST","/v2/accounts/mfaEnrollment:finalize",Y(p,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function _g(p,d){return fe(p,"POST","/v2/accounts/mfaSignIn:finalize",Y(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kx=(()=>{class p{constructor(){}static assertion(h){return vl._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var E0="@firebase/auth";class uF{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wu=(0,ie.Pz)("authIdTokenMaxAge")||300;let nf=null;const rf=p=>function(){var d=(0,S.Z)(function*(h){const g=h&&(yield h.getIdTokenResult()),y=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(y&&y>Wu)return;const C=g?.token;nf!==C&&(nf=C,yield fetch(p,{method:C?"POST":"DELETE",headers:C?{Authorization:`Bearer ${C}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function dF(p=(0,j.getApp)()){const d=(0,j._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function $P(p,d){const h=(0,j._getProvider)(p,"auth");if(h.isInitialized()){const y=h.getImmediate(),C=h.getOptions();if((0,ie.vZ)(C,d??{}))return y;Rt(y,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:w0,persistence:[jh,sx,Es]}),g=(0,ie.Pz)("authTokenSyncURL");if(g){const C=rf(g);(function pl(p,d,h){(0,ie.m9)(p).beforeAuthStateChanged(d,h)})(h,C,()=>C(h.currentUser)),function cg(p,d,h,g){(0,ie.m9)(p).onIdTokenChanged(d,h,g)}(h,P=>C(P))}const y=(0,ie.q4)("auth");return y&&XT(h,`http://${y}`),h}!function $u(p){(0,j._registerComponent)(new $n.wA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),y=d.getProvider("heartbeat"),C=d.getProvider("app-check-internal"),{apiKey:P,authDomain:J}=g.options;ye(P&&!P.includes(":"),"invalid-api-key",{appName:g.name});const _e={apiKey:P,authDomain:J,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(p)},je=new UP(g,y,C,_e);return function de(p,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(re);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(g,d?.popupRedirectResolver)}(je,h),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new $n.wA("auth-internal",d=>{const h=hi(d.getProvider("auth").getImmediate());return new uF(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(E0,"1.4.0",function Ng(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,j.registerVersion)(E0,"1.4.0","esm2017")}("Browser")},58:(Xr,bi,rt)=>{rt.d(bi,{BH:()=>gr,DV:()=>U,Dv:()=>cn,G6:()=>po,GJ:()=>di,L:()=>Xt,LL:()=>se,Pz:()=>$t,Sg:()=>Ei,UG:()=>Gt,UI:()=>ue,US:()=>$n,Wj:()=>Un,Wl:()=>et,Yr:()=>_r,ZB:()=>We,ZR:()=>fe,aH:()=>Rt,b$:()=>qn,cI:()=>Ie,dS:()=>Qo,eu:()=>ne,g5:()=>j,gK:()=>yn,gQ:()=>ti,h$:()=>xn,hl:()=>Q,hu:()=>ie,jU:()=>Dn,lb:()=>Kn,m9:()=>_s,ne:()=>ji,p$:()=>we,pd:()=>An,q4:()=>wi,r3:()=>z,ru:()=>ei,tV:()=>ce,uI:()=>ye,ug:()=>mo,vZ:()=>Se,w1:()=>fo,w9:()=>Bn,xO:()=>qt,xb:()=>ee,z$:()=>xt,zd:()=>Bt});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ie=function(N,k){if(!N)throw j(k)},j=function(N){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+N)},Ye=function(N){const k=[];let E=0;for(let x=0;x<N.length;x++){let w=N.charCodeAt(x);w<128?k[E++]=w:w<2048?(k[E++]=w>>6|192,k[E++]=63&w|128):55296==(64512&w)&&x+1<N.length&&56320==(64512&N.charCodeAt(x+1))?(w=65536+((1023&w)<<10)+(1023&N.charCodeAt(++x)),k[E++]=w>>18|240,k[E++]=w>>12&63|128,k[E++]=w>>6&63|128,k[E++]=63&w|128):(k[E++]=w>>12|224,k[E++]=w>>6&63|128,k[E++]=63&w|128)}return k},$n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,k){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let w=0;w<N.length;w+=3){const R=N[w],re=w+1<N.length,ze=re?N[w+1]:0,Ue=w+2<N.length,lt=Ue?N[w+2]:0;let Rn=(15&ze)<<2|lt>>6,Je=63&lt;Ue||(Je=64,re||(Rn=64)),x.push(E[R>>2],E[(3&R)<<4|ze>>4],E[Rn],E[Je])}return x.join("")},encodeString(N,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(N):this.encodeByteArray(Ye(N),k)},decodeString(N,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(N):function(N){const k=[];let E=0,x=0;for(;E<N.length;){const w=N[E++];if(w<128)k[x++]=String.fromCharCode(w);else if(w>191&&w<224){const R=N[E++];k[x++]=String.fromCharCode((31&w)<<6|63&R)}else if(w>239&&w<365){const Ue=((7&w)<<18|(63&N[E++])<<12|(63&N[E++])<<6|63&N[E++])-65536;k[x++]=String.fromCharCode(55296+(Ue>>10)),k[x++]=String.fromCharCode(56320+(1023&Ue))}else{const R=N[E++],re=N[E++];k[x++]=String.fromCharCode((15&w)<<12|(63&R)<<6|63&re)}}return k.join("")}(this.decodeStringToByteArray(N,k))},decodeStringToByteArray(N,k){this.init_();const E=k?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let w=0;w<N.length;){const R=E[N.charAt(w++)],ze=w<N.length?E[N.charAt(w)]:0;++w;const lt=w<N.length?E[N.charAt(w)]:64;++w;const Me=w<N.length?E[N.charAt(w)]:64;if(++w,null==R||null==ze||null==lt||null==Me)throw new ui;x.push(R<<2|ze>>4),64!==lt&&(x.push(ze<<4&240|lt>>2),64!==Me&&x.push(lt<<6&192|Me))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class ui extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xn=function(N){const k=Ye(N);return $n.encodeByteArray(k,!0)},Xt=function(N){return xn(N).replace(/\./g,"")},ce=function(N){try{return $n.decodeString(N,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function we(N){return We(void 0,N)}function We(N,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return k}for(const E in k)!k.hasOwnProperty(E)||!Ct(E)||(N[E]=We(N[E],k[E]));return N}function Ct(N){return"__proto__"!==N}const mt=()=>{try{return function rn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const N=process.env.__FIREBASE_DEFAULTS__;return N?JSON.parse(N):void 0})()||(()=>{if(typeof document>"u")return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=N&&ce(N[1]);return k&&JSON.parse(k)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},wi=N=>{var k,E;return null===(E=null===(k=mt())||void 0===k?void 0:k.emulatorHosts)||void 0===E?void 0:E[N]},Rt=()=>{var N;return null===(N=mt())||void 0===N?void 0:N.config},$t=N=>{var k;return null===(k=mt())||void 0===k?void 0:k[`_${N}`]};class gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,E)=>{this.resolve=k,this.reject=E})}wrapCallback(k){return(E,x)=>{E?this.reject(E):this.resolve(x),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(E):k(E,x))}}}function Ei(N,k){if(N.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=k||"demo-project",w=N.iat||0,R=N.sub||N.user_id;if(!R)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:w,exp:w+3600,auth_time:w,sub:R,user_id:R,firebase:{sign_in_provider:"custom",identities:{}}},N);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(re)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Gt(){var N;const k=null===(N=mt())||void 0===N?void 0:N.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dn(){return"object"==typeof self&&self.self===self}function ei(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function qn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fo(){const N=xt();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function _r(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function po(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((N,k)=>{try{let E=!0;const x="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(x);w.onsuccess=()=>{w.result.close(),E||self.indexedDB.deleteDatabase(x),N(!0)},w.onupgradeneeded=()=>{E=!1},w.onerror=()=>{var R;k((null===(R=w.error)||void 0===R?void 0:R.message)||"")}}catch(E){k(E)}})}class fe extends Error{constructor(k,E,x){super(E),this.code=k,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(k,E,x){this.service=k,this.serviceName=E,this.errors=x}create(k,...E){const x=E[0]||{},w=`${this.service}/${k}`,R=this.errors[k],re=R?function De(N,k){return N.replace(kt,(E,x)=>{const w=k[x];return null!=w?String(w):`<${x}?>`})}(R,x):"Error";return new fe(w,`${this.serviceName}: ${re} (${w}).`,x)}}const kt=/\{\$([^}]+)}/g;function Ie(N){return JSON.parse(N)}function et(N){return JSON.stringify(N)}const Jt=function(N){let k={},E={},x={},w="";try{const R=N.split(".");k=Ie(ce(R[0])||""),E=Ie(ce(R[1])||""),w=R[2],x=E.d||{},delete E.d}catch{}return{header:k,claims:E,data:x,signature:w}},Bn=function(N){const E=Jt(N).claims;return!!E&&"object"==typeof E&&E.hasOwnProperty("iat")},di=function(N){const k=Jt(N).claims;return"object"==typeof k&&!0===k.admin};function z(N,k){return Object.prototype.hasOwnProperty.call(N,k)}function U(N,k){if(Object.prototype.hasOwnProperty.call(N,k))return N[k]}function ee(N){for(const k in N)if(Object.prototype.hasOwnProperty.call(N,k))return!1;return!0}function ue(N,k,E){const x={};for(const w in N)Object.prototype.hasOwnProperty.call(N,w)&&(x[w]=k.call(E,N[w],w,N));return x}function Se(N,k){if(N===k)return!0;const E=Object.keys(N),x=Object.keys(k);for(const w of E){if(!x.includes(w))return!1;const R=N[w],re=k[w];if(ve(R)&&ve(re)){if(!Se(R,re))return!1}else if(R!==re)return!1}for(const w of x)if(!E.includes(w))return!1;return!0}function ve(N){return null!==N&&"object"==typeof N}function qt(N){const k=[];for(const[E,x]of Object.entries(N))Array.isArray(x)?x.forEach(w=>{k.push(encodeURIComponent(E)+"="+encodeURIComponent(w))}):k.push(encodeURIComponent(E)+"="+encodeURIComponent(x));return k.length?"&"+k.join("&"):""}function Bt(N){const k={};return N.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[w,R]=x.split("=");k[decodeURIComponent(w)]=decodeURIComponent(R)}}),k}function An(N){const k=N.indexOf("?");if(!k)return"";const E=N.indexOf("#",k);return N.substring(k,E>0?E:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(k,E){E||(E=0);const x=this.W_;if("string"==typeof k)for(let Me=0;Me<16;Me++)x[Me]=k.charCodeAt(E)<<24|k.charCodeAt(E+1)<<16|k.charCodeAt(E+2)<<8|k.charCodeAt(E+3),E+=4;else for(let Me=0;Me<16;Me++)x[Me]=k[E]<<24|k[E+1]<<16|k[E+2]<<8|k[E+3],E+=4;for(let Me=16;Me<80;Me++){const Rn=x[Me-3]^x[Me-8]^x[Me-14]^x[Me-16];x[Me]=4294967295&(Rn<<1|Rn>>>31)}let lt,sn,w=this.chain_[0],R=this.chain_[1],re=this.chain_[2],ze=this.chain_[3],Ue=this.chain_[4];for(let Me=0;Me<80;Me++){Me<40?Me<20?(lt=ze^R&(re^ze),sn=1518500249):(lt=R^re^ze,sn=1859775393):Me<60?(lt=R&re|ze&(R|re),sn=2400959708):(lt=R^re^ze,sn=3395469782);const Rn=(w<<5|w>>>27)+lt+Ue+sn+x[Me]&4294967295;Ue=ze,ze=re,re=4294967295&(R<<30|R>>>2),R=w,w=Rn}this.chain_[0]=this.chain_[0]+w&4294967295,this.chain_[1]=this.chain_[1]+R&4294967295,this.chain_[2]=this.chain_[2]+re&4294967295,this.chain_[3]=this.chain_[3]+ze&4294967295,this.chain_[4]=this.chain_[4]+Ue&4294967295}update(k,E){if(null==k)return;void 0===E&&(E=k.length);const x=E-this.blockSize;let w=0;const R=this.buf_;let re=this.inbuf_;for(;w<E;){if(0===re)for(;w<=x;)this.compress_(k,w),w+=this.blockSize;if("string"==typeof k){for(;w<E;)if(R[re]=k.charCodeAt(w),++re,++w,re===this.blockSize){this.compress_(R),re=0;break}}else for(;w<E;)if(R[re]=k[w],++re,++w,re===this.blockSize){this.compress_(R),re=0;break}}this.inbuf_=re,this.total_+=E}digest(){const k=[];let E=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let w=this.blockSize-1;w>=56;w--)this.buf_[w]=255&E,E/=256;this.compress_(this.buf_);let x=0;for(let w=0;w<5;w++)for(let R=24;R>=0;R-=8)k[x]=this.chain_[w]>>R&255,++x;return k}}function ji(N,k){const E=new Yi(N,k);return E.subscribe.bind(E)}class Yi{constructor(k,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{k(this)}).catch(x=>{this.error(x)})}next(k){this.forEachObserver(E=>{E.next(k)})}error(k){this.forEachObserver(E=>{E.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,E,x){let w;if(void 0===k&&void 0===E&&void 0===x)throw new Error("Missing Observer.");w=function Cn(N,k){if("object"!=typeof N||null===N)return!1;for(const E of k)if(E in N&&"function"==typeof N[E])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:E,complete:x},void 0===w.next&&(w.next=Kt),void 0===w.error&&(w.error=Kt),void 0===w.complete&&(w.complete=Kt);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),R}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,k)}sendOne(k,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{E(this.observers[k])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}const cn=function(N,k,E,x){let w;if(x<k?w="at least "+k:x>E&&(w=0===E?"none":"no more than "+E),w)throw new Error(N+" failed: Was called with "+x+(1===x?" argument.":" arguments.")+" Expects "+w+".")};function yn(N,k){return`${N} failed: ${k} argument `}function Un(N,k,E,x){if((!x||E)&&"function"!=typeof E)throw new Error(yn(N,k)+"must be a valid function.")}function Kn(N,k,E,x){if((!x||E)&&("object"!=typeof E||null===E))throw new Error(yn(N,k)+"must be a valid context object.")}const Qo=function(N){const k=[];let E=0;for(let x=0;x<N.length;x++){let w=N.charCodeAt(x);if(w>=55296&&w<=56319){const R=w-55296;x++,ie(x<N.length,"Surrogate pair missing trail surrogate."),w=65536+(R<<10)+(N.charCodeAt(x)-56320)}w<128?k[E++]=w:w<2048?(k[E++]=w>>6|192,k[E++]=63&w|128):w<65536?(k[E++]=w>>12|224,k[E++]=w>>6&63|128,k[E++]=63&w|128):(k[E++]=w>>18|240,k[E++]=w>>12&63|128,k[E++]=w>>6&63|128,k[E++]=63&w|128)}return k},mo=function(N){let k=0;for(let E=0;E<N.length;E++){const x=N.charCodeAt(E);x<128?k++:x<2048?k+=2:x>=55296&&x<=56319?(k+=4,E++):k+=3}return k};function _s(N){return N&&N._delegate?N._delegate:N}},247:(Xr,bi,rt)=>{function S(n){return"function"==typeof n}function ie(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const j=ie(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ye(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ft{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(o){t=o instanceof j?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{xn(o)}catch(s){t=t??[],s instanceof j?t=[...t,...s.errors]:t.push(s)}}if(t)throw new j(t)}}add(t){var e;if(t&&t!==this)if(this.closed)xn(t);else{if(t instanceof ft){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ye(e,t)}remove(t){const{_finalizers:e}=this;e&&Ye(e,t),t instanceof ft&&t._removeParent(this)}}ft.EMPTY=(()=>{const n=new ft;return n.closed=!0,n})();const $n=ft.EMPTY;function ui(n){return n instanceof ft||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function xn(n){S(n)?n():n.unsubscribe()}const Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ce={setTimeout(n,t,...e){const{delegate:i}=ce;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ce;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function we(n){ce.setTimeout(()=>{const{onUnhandledError:t}=Xt;if(!t)throw n;t(n)})}function We(){}const Ct=zt("C",void 0,void 0);function zt(n,t,e){return{kind:n,value:t,error:e}}let pt=null;function mt(n){if(Xt.useDeprecatedSynchronousErrorHandling){const t=!pt;if(t&&(pt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=pt;if(pt=null,e)throw i}}else n()}class Gn extends ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ui(t)&&t.add(this)):this.destination=Dn}static create(t,e,i){return new Ei(t,e,i)}next(t){this.isStopped?Gt(function Wn(n){return zt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Gt(function rn(n){return zt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gt(Ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function $t(n,t){return Rt.call(n,t)}class gr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){xt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){xt(i)}else xt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xt(e)}}}class Ei extends Gn{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$t(t.next,o),error:t.error&&$t(t.error,o),complete:t.complete&&$t(t.complete,o)}):r=t}this.destination=new gr(r)}}function xt(n){Xt.useDeprecatedSynchronousErrorHandling?function wi(n){Xt.useDeprecatedSynchronousErrorHandling&&pt&&(pt.errorThrown=!0,pt.error=n)}(n):we(n)}function Gt(n,t){const{onStoppedNotification:e}=Xt;e&&ce.setTimeout(()=>e(n,t))}const Dn={closed:!0,next:We,error:function ye(n){throw n},complete:We},ei="function"==typeof Symbol&&Symbol.observable||"@@observable";function qn(n){return n}function fo(n){return 0===n.length?qn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let at=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Q(n){return n&&n instanceof Gn||function po(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&ui(n)}(e)?e:new Ei(e,i,r);return mt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=_r(i))((r,o)=>{const s=new Ei({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ei](){return this}pipe(...e){return fo(e)(this)}toPromise(e){return new(e=_r(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function _r(n){var t;return null!==(t=n??Xt.Promise)&&void 0!==t?t:Promise}const ne=ie(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let H=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Y(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ne}next(e){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?$n:(this.currentObservers=null,o.push(e),new ft(()=>{this.currentObservers=null,Ye(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends H{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:$n}}function fe(n){return S(n?.lift)}function se(n){return t=>{if(fe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,t,e,i,r){return new kt(n,t,e,i,r)}class kt extends Gn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(n,t){return se((e,i)=>{let r=0;e.subscribe(De(i,o=>{i.next(n.call(t,o,r++))}))})}var et=rt(582);const Jt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Vn(n){return S(n?.then)}function _n(n){return S(n[ei])}function Bn(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function di(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const U=function z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return S(n?.[U])}function ue(n){return(0,et.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,et.qq)(e.read());if(r)return yield(0,et.qq)(void 0);yield yield(0,et.qq)(i)}}finally{e.releaseLock()}})}function Se(n){return S(n?.getReader)}function ve(n){if(n instanceof at)return n;if(null!=n){if(_n(n))return function Sn(n){return new at(t=>{const e=n[ei]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Jt(n))return function qt(n){return new at(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Vn(n))return function Bt(n){return new at(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,we)})}(n);if(Bn(n))return ti(n);if(ee(n))return function An(n){return new at(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Se(n))return function ji(n){return ti(ue(n))}(n)}throw di(n)}function ti(n){return new at(t=>{(function Yi(n,t){var e,i,r,o;return(0,et.mG)(this,void 0,void 0,function*(){try{for(e=(0,et.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function nr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,t,e=1/0){return S(t)?Kt((i,r)=>Ie((o,s)=>t(i,o,r,s))(ve(n(i,r))),e):("number"==typeof t&&(e=t),se((i,r)=>function Cn(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,f=!1;const m=()=>{f&&!l.length&&!c&&t.complete()},_=b=>c<i?v(b):l.push(b),v=b=>{o&&t.next(b),c++;let I=!1;ve(e(b,u++)).subscribe(De(t,M=>{r?.(M),o?_(M):t.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<i;){const M=l.shift();s?nr(t,s,()=>v(M)):v(M)}m()}catch(M){t.error(M)}}))};return n.subscribe(De(t,_,()=>{f=!0,m()})),()=>{a?.()}}(i,r,n,e)))}function cn(n=1/0){return Kt(qn,n)}const yn=new at(n=>n.complete());function Kn(n){return n&&S(n.schedule)}function Qo(n){return n[n.length-1]}function mo(n){return S(Qo(n))?n.pop():void 0}function Xo(n){return Kn(Qo(n))?n.pop():void 0}function Oi(n,t=0){return se((e,i)=>{e.subscribe(De(i,r=>nr(i,n,()=>i.next(r),t),()=>nr(i,n,()=>i.complete(),t),r=>nr(i,n,()=>i.error(r),t)))})}function yr(n,t=0){return se((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function _s(n,t){if(!n)throw new Error("Iterable cannot be null");return new at(e=>{nr(e,t,()=>{const i=n[Symbol.asyncIterator]();nr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function E(n,t){return t?function k(n,t){if(null!=n){if(_n(n))return function go(n,t){return ve(n).pipe(yr(t),Oi(t))}(n,t);if(Jt(n))return function ya(n,t){return new at(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Vn(n))return function Ql(n,t){return ve(n).pipe(yr(t),Oi(t))}(n,t);if(Bn(n))return _s(n,t);if(ee(n))return function rl(n,t){return new at(e=>{let i;return nr(e,t,()=>{i=n[U](),nr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(n,t);if(Se(n))return function N(n,t){return _s(ue(n),t)}(n,t)}throw di(n)}(n,t):ve(n)}function x(...n){const t=Xo(n),e=function Hi(n,t){return"number"==typeof Qo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ve(i[0]):cn(e)(E(i,t)):yn}class w extends H{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function R(...n){return E(n,Xo(n))}function re(n={}){const{connector:t=(()=>new H),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=l=void 0,u=f=!1},v=()=>{const b=s;_(),b?.unsubscribe()};return se((b,I)=>{c++,!f&&!u&&m();const M=l=l??t();I.add(()=>{c--,0===c&&!f&&!u&&(a=ze(v,r))}),M.subscribe(I),!s&&c>0&&(s=new Ei({next:A=>M.next(A),error:A=>{f=!0,m(),a=ze(_,e,A),M.error(A)},complete:()=>{u=!0,m(),a=ze(_,i),M.complete()}}),ve(b).subscribe(s))})(o)}}function ze(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ei({next:()=>{i.unsubscribe(),n()}});return ve(t(...e)).subscribe(i)}function Ue(n,t){return se((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(De(i,l=>{r?.unsubscribe();let c=0;const u=o++;ve(n(l,u)).subscribe(r=De(i,f=>i.next(t?t(l,f,u,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function lt(n,t=qn){return n=n??sn,se((e,i)=>{let r,o=!0;e.subscribe(De(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function sn(n,t){return n===t}function Me(n){for(let t in n)if(n[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function Rn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Qi(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ol=Me({__forward_ref__:Me});function $(n){return n.__forward_ref__=$,n.toString=function(){return Je(this())},n}function F(n){return be(n)?n():n}function be(n){return"function"==typeof n&&n.hasOwnProperty(ol)&&n.__forward_ref__===$}function Qe(n){return n&&!!n.\u0275providers}const Ut="https://g.co/ng/security#xss";class W extends Error{constructor(t,e){super(function Di(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Fm(n,t){throw new W(-201,!1)}function vr(n,t){null==n&&function ht(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function de(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function _h(n){return Db(n,Jl)||Db(n,yh)}function Db(n,t){return n.hasOwnProperty(t)?n[t]:null}function Du(n){return n&&(n.hasOwnProperty(Lm)||n.hasOwnProperty(JT))?n[Lm]:null}const Jl=Me({\u0275prov:Me}),Lm=Me({\u0275inj:Me}),yh=Me({ngInjectableDef:Me}),JT=Me({ngInjectorDef:Me});var jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(jt||{});let Vm;function Jr(n){const t=Vm;return Vm=n,t}function bh(n,t,e){const i=_h(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&jt.Optional?null:void 0!==t?t:void Fm(Je(n))}const kn=globalThis;class oe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=de({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const al={},$m="__NG_DI_FLAG__",yo="ngTempTokenPath",Wm=/\n/gm,Ch="__source";let ec;function ba(n){const t=ec;return ec=n,t}function nx(n,t=jt.Default){if(void 0===ec)throw new W(-203,!1);return null===ec?bh(n,void 0,t):ec.get(n,t&jt.Optional?null:void 0,t)}function O(n,t=jt.Default){return(function vh(){return Vm}()||nx)(F(n),t)}function Ce(n,t=jt.Default){return O(n,Ih(t))}function Ih(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ll(n){const t=[];for(let e=0;e<n.length;e++){const i=F(n[e]);if(Array.isArray(i)){if(0===i.length)throw new W(900,!1);let r,o=jt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=qm(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(O(r,o))}else t.push(O(i))}return t}function Th(n,t){return n[$m]=t,n.prototype[$m]=t,n}function qm(n){return n[$m]}function vo(n){return{toString:n}.toString()}var xh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xh||{}),Oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oo||{});const ys={},un=[],Ws=Me({\u0275cmp:Me}),Km=Me({\u0275dir:Me}),nc=Me({\u0275pipe:Me}),kb=Me({\u0275mod:Me}),vs=Me({\u0275fac:Me}),cl=Me({__NG_ELEMENT_ID__:Me}),bo=Me({__NG_ENV_ID__:Me});function Zm(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Ym(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Au(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Dh(n){return 3===n||4===n||6===n}function Au(n){return 64===n.charCodeAt(0)}function ic(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Qm(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Qm(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Mb="ng-template";function Xm(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Zm(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Sh(n){return 4===n.type&&n.value!==Mb}function Jm(n,t,e){return t===(4!==n.type||e?n.value:Mb)}function Ah(n,t,e){let i=4;const r=n.attrs||[],o=function eg(n){for(let t=0;t<n.length;t++)if(Dh(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Jm(n,l,e)||""===l&&1===t.length){if(wo(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!Xm(n.attrs,c,e)){if(wo(i))return!1;s=!0}continue}const f=Nb(8&i?"class":l,r,Sh(n),e);if(-1===f){if(wo(i))return!1;s=!0;continue}if(""!==c){let m;m=f>o?"":r[f+1].toLowerCase();const _=8&i?m:null;if(_&&-1!==Zm(_,c,0)||2&i&&c!==m){if(wo(i))return!1;s=!0}}}}else{if(!s&&!wo(i)&&!wo(l))return!1;if(s&&wo(l))continue;s=!1,i=l|1&i}}return wo(i)||s}function wo(n){return 0==(1&n)}function Nb(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function kh(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Rh(n,t,e=!1){for(let i=0;i<t.length;i++)if(Ah(n,t[i],e))return!0;return!1}function tg(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ng(n,t){return n?":not("+t.trim()+")":t}function ig(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!wo(s)&&(t+=ng(o,r),r=""),i=s,o=o||!wo(i);e++}return""!==r&&(t+=ng(o,r)),t}function yt(n){return vo(()=>{const t=Fb(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oo.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};Nh(e);const i=n.dependencies;return e.directiveDefs=Ru(i,!1),e.pipeDefs=Ru(i,!0),e.id=function rx(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function ix(n){return en(n)||ir(n)}function sg(n){return null!==n}function qe(n){return vo(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mh(n,t){if(null==n)return ys;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function X(n){return vo(()=>{const t=Fb(n);return Nh(t),t})}function zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[Ws]||null}function ir(n){return n[Km]||null}function rr(n){return n[nc]||null}function Fr(n,t){const e=n[kb]||null;if(!e&&!0===t)throw new Error(`Type ${Je(n)} does not have '\u0275mod' property.`);return e}function Fb(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ys,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mh(n.inputs,t),outputs:Mh(n.outputs)}}function Nh(n){n.features?.forEach(t=>t(n))}function Ru(n,t){if(!n)return null;const e=t?rr:ix;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(sg)}const ni=0,Oe=1,It=2,ii=3,Jo=4,ul=5,br=6,oc=7,fi=8,Ea=9,Ca=10,Tt=11,dl=12,Lb=13,Ia=14,Si=15,hl=16,sc=17,Po=18,ku=19,Oh=20,Ta=21,Gs=22,ac=23,fl=24,Zt=25,Ph=1,Vb=2,bs=7,lc=9,wr=11;function Eo(n){return Array.isArray(n)&&"object"==typeof n[Ph]}function or(n){return Array.isArray(n)&&!0===n[Ph]}function cg(n){return 0!=(4&n.flags)}function pl(n){return n.componentOffset>-1}function ug(n){return 1==(1&n.flags)}function ws(n){return!!n.template}function Bb(n){return 0!=(512&n[It])}function cc(n,t){return n.hasOwnProperty(vs)?n[vs]:null}let Ai=null,Lh=!1;function vn(n){const t=Ai;return Ai=n,t}const Wb={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Gb(n){if(!Pu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Ou(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function qb(n){n.dirty=!0,function Bh(n){if(void 0===n.liveConsumerNode)return;const t=Lh;Lh=!0;try{for(const e of n.liveConsumerNode)e.dirty||qb(e)}finally{Lh=t}}(n),n.consumerMarkedDirty?.(n)}function Uh(n){return n&&(n.nextProducerIndex=0),vn(n)}function pg(n,t){if(vn(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Pu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)gl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ou(n){xa(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Gb(e),i!==e.version))return!0}return!1}function mg(n){if(xa(n),Pu(n))for(let t=0;t<n.producerNode.length;t++)gl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gl(n,t){if(function gg(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),xa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)gl(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];xa(r),r.producerIndexOfThis[i]=t}}function Pu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let lx=null;const Jb=()=>{},px=(()=>({...Wb,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Jb}))();class e0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Zn(){return t0}function t0(n){return n.type.prototype.ngOnChanges&&(n.setInput=vg),mx}function mx(){const n=Hh(this),t=n?.current;if(t){const e=n.previous;if(e===ys)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function vg(n,t,e,i){const r=this.declaredInputs[e],o=Hh(n)||function gx(n,t){return n[n0]=t}(n,{previous:ys,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new e0(l&&l.currentValue,t,a===ys),n[i]=t}Zn.ngInherit=!0;const n0="__ngSimpleChanges__";function Hh(n){return n[n0]||null}const Fo=function(n,t,e){},Vu="svg";function jn(n){for(;Array.isArray(n);)n=n[ni];return n}function $h(n,t){return jn(t[n])}function Pi(n,t){return jn(t[n.index])}function r0(n,t){return n.data[t]}function dc(n,t){return n[t]}function Co(n,t){const e=t[n];return Eo(e)?e:e[ni]}function Da(n,t){return null==t?null:n[t]}function Wh(n){n[sc]=0}function vx(n){1024&n[It]||(n[It]|=1024,s0(n,1))}function Gh(n){1024&n[It]&&(n[It]&=-1025,s0(n,-1))}function s0(n,t){let e=n[ii];if(null===e)return;e[ul]+=t;let i=e;for(e=e[ii];null!==e&&(1===t&&1===i[ul]||-1===t&&0===i[ul]);)e[ul]+=t,i=e,e=e[ii]}const _t={lFrame:g0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kh(){return _t.bindingsEnabled}function fc(){return null!==_t.skipHydrationRootTNode}function me(){return _t.lFrame.lView}function an(){return _t.lFrame.tView}function vt(n){return _t.lFrame.contextLView=n,n[fi]}function gt(n){return _t.lFrame.contextLView=null,n}function sr(){let n=u0();for(;null!==n&&64===n.type;)n=n.parent;return n}function u0(){return _t.lFrame.currentTNode}function Cs(n,t){const e=_t.lFrame;e.currentTNode=n,e.isParent=t}function Uu(){return _t.lFrame.isParent}function ju(){_t.lFrame.isParent=!1}function Lr(){const n=_t.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Is(){return _t.lFrame.bindingIndex}function yl(){return _t.lFrame.bindingIndex++}function qs(n){const t=_t.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Ix(n,t){const e=_t.lFrame;e.bindingIndex=e.bindingRootIndex=n,Dg(t)}function Dg(n){_t.lFrame.currentDirectiveIndex=n}function h0(){return _t.lFrame.currentQueryIndex}function Sg(n){_t.lFrame.currentQueryIndex=n}function f0(n){const t=n[Oe];return 2===t.type?t.declTNode:1===t.type?n[br]:null}function p0(n,t,e){if(e&jt.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&jt.Host||(r=f0(o),null===r||(o=o[Ia],10&r.type))););if(null===r)return!1;t=r,n=o}const i=_t.lFrame=m0();return i.currentTNode=t,i.lView=n,!0}function pc(n){const t=m0(),e=n[Oe];_t.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function m0(){const n=_t.lFrame,t=null===n?null:n.child;return null===t?g0(n):t}function g0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function _0(){const n=_t.lFrame;return _t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const y0=_0;function Ag(){const n=_0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vr(){return _t.lFrame.selectedIndex}function Ks(n){_t.lFrame.selectedIndex=n}function pi(){const n=_t.lFrame;return r0(n.tView,n.selectedIndex)}function Qh(){_t.lFrame.currentNamespace=Vu}let v0=!0;function Xh(){return v0}function Sa(n){v0=n}function Jh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function mc(n,t,e){ef(n,t,3,e)}function gc(n,t,e,i){(3&n[It])===e&&ef(n,t,e,i)}function Mg(n,t){let e=n[It];(3&e)===t&&(e&=8191,e+=1,n[It]=e)}function ef(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[sc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[sc]+=65536),(a<o||-1==o)&&(w0(n,e,t,l),n[sc]=(4294901760&n[sc])+l+2),l++}function b0(n,t){Fo(4,n,t);const e=vn(null);try{t.call(n)}finally{vn(e),Fo(5,n,t)}}function w0(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[It]>>13<n[sc]>>16&&(3&n[It])===t&&(n[It]+=8192,b0(a,o)):b0(a,o)}const _c=-1;class vl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Ng(n){return n!==_c}function $u(n){return 32767&n}function Wu(n,t){let e=function Ox(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ia],e--;return i}let nf=!0;function rf(n){const t=nf;return nf=n,t}const p=255,d=5;let h=0;const g={};function C(n,t){const e=J(n,t);if(-1!==e)return e;const i=t[Oe];i.firstCreatePass&&(n.injectorIndex=t.length,P(i.data,n),P(t,null),P(i.blueprint,null));const r=_e(n,t),o=n.injectorIndex;if(Ng(r)){const s=$u(r),a=Wu(r,t),l=a[Oe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function P(n,t){n.push(0,0,0,0,0,0,0,0,t)}function J(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function _e(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=hF(r),null===i)return _c;if(e++,r=r[Ia],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return _c}function je(n,t,e){!function y(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(cl)&&(i=e[cl]),null==i&&(i=e[cl]=h++);const r=i&p;t.data[n+(r>>d)]|=1<<r}(n,t,e)}function tn(n,t,e){if(e&jt.Optional||void 0!==n)return n;Fm()}function Br(n,t,e,i){if(e&jt.Optional&&void 0===i&&(i=null),!(e&(jt.Self|jt.Host))){const r=n[Ea],o=Jr(void 0);try{return r?r.get(t,i,e&jt.Optional):bh(t,i,e&jt.Optional)}finally{Jr(o)}}return tn(i,0,e)}function Zs(n,t,e,i=jt.Default,r){if(null!==n){if(2048&t[It]&&!(i&jt.Self)){const s=function VK(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[It]&&!(512&s[It]);){const a=Gu(o,s,e,i|jt.Self,g);if(a!==g)return a;let l=o.parent;if(!l){const c=s[Oh];if(c){const u=c.get(e,g,i);if(u!==g)return u}l=hF(s),s=s[Ia]}o=l}return r}(n,t,e,i,g);if(s!==g)return s}const o=Gu(n,t,e,i,g);if(o!==g)return o}return Br(t,e,i,r)}function Gu(n,t,e,i,r){const o=function I0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(cl)?n[cl]:void 0;return"number"==typeof t?t>=0?t&p:Px:t}(e);if("function"==typeof o){if(!p0(t,n,i))return i&jt.Host?tn(r,0,i):Br(t,e,i,r);try{let s;if(s=o(i),null!=s||i&jt.Optional)return s;Fm()}finally{y0()}}else if("number"==typeof o){let s=null,a=J(n,t),l=_c,c=i&jt.Host?t[Si][br]:null;for((-1===a||i&jt.SkipSelf)&&(l=-1===a?_e(n,t):t[a+8],l!==_c&&Og(i,!1)?(s=t[Oe],a=$u(l),t=Wu(l,t)):a=-1);-1!==a;){const u=t[Oe];if(sf(o,a,u.data)){const f=C0(a,t,e,s,i,c);if(f!==g)return f}l=t[a+8],l!==_c&&Og(i,t[Oe].data[a+8]===c)&&sf(o,a,t)?(s=u,a=$u(l),t=Wu(l,t)):a=-1}}return r}function C0(n,t,e,i,r,o){const s=t[Oe],a=s.data[n+8],u=yc(a,s,e,null==i?pl(a)&&nf:i!=s&&0!=(3&a.type),r&jt.Host&&o===a);return null!==u?Aa(t,s,u,a):g}function yc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,m=r?a+u:n.directiveEnd;for(let _=i?a:a+u;_<m;_++){const v=s[_];if(_<l&&e===v||_>=l&&v.type===e)return _}if(r){const _=s[l];if(_&&ws(_)&&_.type===e)return l}return null}function Aa(n,t,e,i){let r=n[e];const o=t.data;if(function kx(n){return n instanceof vl}(r)){const s=r;s.resolving&&function xu(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new W(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(o[e]));const a=rf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Jr(s.injectImpl):null;p0(n,i,jt.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Rx(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=t0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&Jr(c),rf(a),s.resolving=!1,y0()}}return r}function sf(n,t,e){return!!(e[t+(n>>d)]&1<<n)}function Og(n,t){return!(n&jt.Self||n&jt.Host&&t)}class Er{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Zs(this._tNode,this._lView,t,Ih(i),e)}}function Px(){return new Er(sr(),me())}function Mt(n){return vo(()=>{const t=n.prototype.constructor,e=t[vs]||Fg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[vs]||Fg(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Fg(n){return be(n)?()=>{const t=Fg(F(n));return t&&t()}:cc(n)}function hF(n){const t=n[Oe],e=t.type;return 2===e?t.declTNode:1===e?n[br]:null}function Ts(n){return function ot(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Dh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(sr(),n)}const lf="__parameters__";function uf(n,t,e){return vo(()=>{const i=function Fx(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const f=l.hasOwnProperty(lf)?l[lf]:Object.defineProperty(l,lf,{value:[]})[lf];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function hf(n,t){n.forEach(e=>Array.isArray(e)?hf(e,t):t(e))}function pF(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function T0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Vg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function es(n,t,e){let i=ff(n,t);return i>=0?n[1|i]=e:(i=~i,function WK(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Lx(n,t){const e=ff(n,t);if(e>=0)return n[1|e]}function ff(n,t){return function mF(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Ds=Th(uf("Optional"),8),Bg=Th(uf("SkipSelf"),4);function k0(n){return 128==(128&n.flags)}var bc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(bc||{});const hZ=/^>|^->|<!--|-->|--!>|<!-$/g,fZ=/(<|>)/g,pZ="\u200b$1\u200b";const Hx=new Map;let mZ=0;const $x="__ngContext__";function eo(n,t){Eo(t)?(n[$x]=t[ku],function _Z(n){Hx.set(n[ku],n)}(t)):n[$x]=t}let Wx;function Gx(n,t){return Wx(n,t)}function Hg(n){const t=n[ii];return or(t)?t[ii]:t}function PF(n){return LF(n[dl])}function FF(n){return LF(n[Jo])}function LF(n){for(;null!==n&&!or(n);)n=n[Jo];return n}function gf(n,t,e,i,r){if(null!=i){let o,s=!1;or(i)?o=i:Eo(i)&&(s=!0,i=i[ni]);const a=jn(i);0===n&&null!==e?null==r?jF(t,e,a):qu(t,e,a,r||null,!0):1===n&&null!==e?qu(t,e,a,r||null,!0):2===n?function V0(n,t,e){const i=F0(n,t);i&&function FZ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function BZ(n,t,e,i,r){const o=e[bs];o!==jn(e)&&gf(t,n,i,o,r);for(let a=wr;a<e.length;a++){const l=e[a];$g(l[Oe],l,n,t,i,o)}}(t,n,o,e,r)}}function qx(n,t){return n.createComment(function DF(n){return n.replace(hZ,t=>t.replace(fZ,pZ))}(t))}function O0(n,t,e){return n.createElement(t,e)}function BF(n,t){const e=n[lc],i=e.indexOf(t);Gh(t),e.splice(i,1)}function P0(n,t){if(n.length<=wr)return;const e=wr+t,i=n[e];if(i){const r=i[hl];null!==r&&r!==n&&BF(r,i),t>0&&(n[e-1][Jo]=i[Jo]);const o=T0(n,wr+t);!function SZ(n,t){$g(n,t,t[Tt],2,null,null),t[ni]=null,t[br]=null}(i[Oe],i);const s=o[Po];null!==s&&s.detachView(o[Oe]),i[ii]=null,i[Jo]=null,i[It]&=-129}return i}function Kx(n,t){if(!(256&t[It])){const e=t[Tt];t[ac]&&mg(t[ac]),t[fl]&&mg(t[fl]),e.destroyNode&&$g(n,t,e,3,null,null),function kZ(n){let t=n[dl];if(!t)return Zx(n[Oe],n);for(;t;){let e=null;if(Eo(t))e=t[dl];else{const i=t[wr];i&&(e=i)}if(!e){for(;t&&!t[Jo]&&t!==n;)Eo(t)&&Zx(t[Oe],t),t=t[ii];null===t&&(t=n),Eo(t)&&Zx(t[Oe],t),e=t&&t[Jo]}t=e}}(t)}}function Zx(n,t){if(!(256&t[It])){t[It]&=-129,t[It]|=256,function PZ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof vl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Fo(4,a,l);try{l.call(a)}finally{Fo(5,a,l)}}else{Fo(4,r,o);try{o.call(r)}finally{Fo(5,r,o)}}}}}(n,t),function OZ(n,t){const e=n.cleanup,i=t[oc];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[oc]=null);const r=t[Ta];if(null!==r){t[Ta]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Oe].type&&t[Tt].destroy();const e=t[hl];if(null!==e&&or(t[ii])){e!==t[ii]&&BF(e,t);const i=t[Po];null!==i&&i.detachView(n)}!function yZ(n){Hx.delete(n[ku])}(t)}}function Yx(n,t,e){return function UF(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ni];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Oo.None||o===Oo.Emulated)return null}return Pi(i,e)}}(n,t.parent,e)}function qu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function jF(n,t,e){n.appendChild(t,e)}function HF(n,t,e,i,r){null!==i?qu(n,t,e,i,r):jF(n,t,e)}function F0(n,t){return n.parentNode(t)}function zF(n,t,e){return WF(n,t,e)}let Qx,B0,tD,U0,WF=function $F(n,t,e){return 40&n.type?Pi(n,e):null};function L0(n,t,e,i){const r=Yx(n,i,t),o=t[Tt],a=zF(i.parent||t[br],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)HF(o,r,e[l],a,!1);else HF(o,r,e,a,!1);void 0!==Qx&&Qx(o,i,t,e,r)}function zg(n,t){if(null!==t){const e=t.type;if(3&e)return Pi(t,n);if(4&e)return Xx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return zg(n,i);{const r=n[t.index];return or(r)?Xx(-1,r):jn(r)}}if(32&e)return Gx(t,n)()||jn(n[t.index]);{const i=qF(n,t);return null!==i?Array.isArray(i)?i[0]:zg(Hg(n[Si]),i):zg(n,t.next)}}return null}function qF(n,t){return null!==t?n[Si][br].projection[t.projection]:null}function Xx(n,t){const e=wr+n+1;if(e<t.length){const i=t[e],r=i[Oe].firstChild;if(null!==r)return zg(i,r)}return t[bs]}function Jx(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&eo(jn(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Jx(n,t,e.child,i,r,o,!1),gf(t,n,r,a,o);else if(32&l){const c=Gx(e,i);let u;for(;u=c();)gf(t,n,r,u,o);gf(t,n,r,a,o)}else 16&l?ZF(n,t,i,e,r,o):gf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function $g(n,t,e,i,r,o){Jx(e,i,n.firstChild,t,r,o,!1)}function ZF(n,t,e,i,r,o){const s=e[Si],l=s[br].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)gf(t,n,r,l[c],o);else{let c=l;const u=s[ii];k0(i)&&(c.flags|=128),Jx(n,t,c,u,r,o,!0)}}function YF(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function QF(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Ym(n,t,i),null!==r&&YF(n,t,r),null!==o&&function jZ(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function _f(n){return function eD(){if(void 0===B0&&(B0=null,kn.trustedTypes))try{B0=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return B0}()?.createHTML(n)||n}function eL(n){return function nD(){if(void 0===U0&&(U0=null,kn.trustedTypes))try{U0=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return U0}()?.createScriptURL(n)||n}class Ku{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class GZ extends Ku{getTypeName(){return"HTML"}}class qZ extends Ku{getTypeName(){return"Style"}}class KZ extends Ku{getTypeName(){return"Script"}}class ZZ extends Ku{getTypeName(){return"URL"}}class YZ extends Ku{getTypeName(){return"ResourceURL"}}function ts(n){return n instanceof Ku?n.changingThisBreaksApplicationSecurity:n}function Ra(n,t){const e=function QZ(n){return n instanceof Ku&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ut})`)}return e===t}class iY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_f(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class rY{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=_f(t),e}}const sY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function j0(n){return(n=String(n)).match(sY)?n:"unsafe:"+n}function bl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Wg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const nL=bl("area,br,col,hr,img,wbr"),iL=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rL=bl("rp,rt"),iD=Wg(nL,Wg(iL,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wg(rL,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wg(rL,iL)),rD=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oL=Wg(rD,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aY=bl("script,style,template");class lY{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!iD.hasOwnProperty(e))return this.sanitizedSomething=!0,!aY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!oL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;rD[a]&&(l=j0(l)),this.buf.push(" ",s,'="',sL(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();iD.hasOwnProperty(e)&&!nL.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sL(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uY=/([^\#-~ |!])/g;function sL(n){return n.replace(/&/g,"&amp;").replace(cY,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(uY,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let H0;function aL(n,t){let e=null;try{H0=H0||function tL(n){const t=new rY(n);return function oY(){try{return!!(new window.DOMParser).parseFromString(_f(""),"text/html")}catch{return!1}}()?new iY(t):t}(n);let i=t?String(t):"";e=H0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=H0.getInertBodyElement(i)}while(i!==o);return _f((new lY).sanitizeChildren(oD(e)||e))}finally{if(e){const i=oD(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function oD(n){return"content"in n&&function dY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ur=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ur||{});function sD(n){const t=Gg();return t?t.sanitize(Ur.URL,n)||"":Ra(n,"URL")?ts(n):j0(Ge(n))}function lL(n){const t=Gg();if(t)return eL(t.sanitize(Ur.RESOURCE_URL,n)||"");if(Ra(n,"ResourceURL"))return eL(ts(n));throw new W(904,!1)}function Gg(){const n=me();return n&&n[Ca].sanitizer}const qg=new oe("ENVIRONMENT_INITIALIZER"),uL=new oe("INJECTOR",-1),dL=new oe("INJECTOR_DEF_TYPES");class aD{get(t,e=al){if(e===al){const i=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw i.name="NullInjectorError",i}return e}}function yY(...n){return{\u0275providers:hL(0,n),\u0275fromNgModule:!0}}function hL(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return hf(t,s=>{const a=s;z0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&fL(r,o),e}function fL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];cD(r,o=>{t(o,i)})}}function z0(n,t,e,i){if(!(n=F(n)))return!1;let r=null,o=Du(n);const s=!o&&en(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Du(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)z0(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{hf(o.imports,u=>{z0(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&fL(c,t)}if(!a){const c=cc(r)||(()=>new r);t({provide:r,useFactory:c,deps:un},r),t({provide:dL,useValue:r,multi:!0},r),t({provide:qg,useValue:()=>O(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;cD(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function cD(n,t){for(let e of n)Qe(e)&&(e=e.\u0275providers),Array.isArray(e)?cD(e,t):t(e)}const vY=Me({provide:String,useValue:Me});function uD(n){return null!==n&&"object"==typeof n&&vY in n}function Zu(n){return"function"==typeof n}const dD=new oe("Set Injector scope."),$0={},wY={};let hD;function W0(){return void 0===hD&&(hD=new aD),hD}class Io{}class vf extends Io{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pD(t,s=>this.processProvider(s)),this.records.set(uL,bf(void 0,this)),r.has("environment")&&this.records.set(Io,bf(void 0,this));const o=this.records.get(dD);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dL.multi,un,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ba(this),i=Jr(void 0);try{return t()}finally{ba(e),Jr(i)}}get(t,e=al,i=jt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(bo))return t[bo](this);i=Ih(i);const o=ba(this),s=Jr(void 0);try{if(!(i&jt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function xY(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(t)&&_h(t);l=c&&this.injectableDefInScope(c)?bf(fD(t),$0):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&jt.Self?W0():this.parent).get(t,e=i&jt.Optional&&e===al?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[yo]=a[yo]||[]).unshift(Je(t)),o)throw a;return function $s(n,t,e,i){const r=n[yo];throw t[Ch]&&r.unshift(t[Ch]),n.message=function tc(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Je(t);if(Array.isArray(t))r=t.map(Je).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Wm,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[yo]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Jr(s),ba(o)}}resolveInjectorInitializers(){const t=ba(this),e=Jr(void 0);try{const r=this.get(qg.multi,un,jt.Self);for(const o of r)o()}finally{ba(t),Jr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Je(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(t){let e=Zu(t=F(t))?t:F(t&&t.provide);const i=function CY(n){return uD(n)?bf(void 0,n.useValue):bf(gL(n),$0)}(t);if(Zu(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=bf(void 0,$0,!0),r.factory=()=>ll(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===$0&&(e.value=wY,e.value=e.factory()),"object"==typeof e.value&&e.value&&function TY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=F(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function fD(n){const t=_h(n),e=null!==t?t.factory:cc(n);if(null!==e)return e;if(n instanceof oe)throw new W(204,!1);if(n instanceof Function)return function EY(n){const t=n.length;if(t>0)throw Vg(t,"?"),new W(204,!1);const e=function Xl(n){return n&&(n[Jl]||n[yh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new W(204,!1)}function gL(n,t,e){let i;if(Zu(n)){const r=F(n);return cc(r)||fD(r)}if(uD(n))i=()=>F(n.useValue);else if(function mL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ll(n.deps||[]));else if(function pL(n){return!(!n||!n.useExisting)}(n))i=()=>O(F(n.useExisting));else{const r=F(n&&(n.useClass||n.provide));if(!function IY(n){return!!n.deps}(n))return cc(r)||fD(r);i=()=>new r(...ll(n.deps))}return i}function bf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function pD(n,t){for(const e of n)Array.isArray(e)?pD(e,t):e&&Qe(e)?pD(e.\u0275providers,t):t(e)}const Kg=new oe("AppId",{providedIn:"root",factory:()=>DY}),DY="ng",_L=new oe("Platform Initializer"),Ss=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ys=new oe("AnimationModuleType"),mD=new oe("CSP nonce",{providedIn:"root",factory:()=>function yf(){if(void 0!==tD)return tD;if(typeof document<"u")return document;throw new W(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yL=(n,t,e)=>null;function CD(n,t,e=!1){return yL(n,t,e)}class LY{}class wL{}class BY{resolveComponentFactory(t){throw function VY(n){const t=Error(`No component factory found for ${Je(n)}.`);return t.ngComponent=n,t}(t)}}let Qg=(()=>{class n{static#e=this.NULL=new BY}return n})();function UY(){return Cf(sr(),me())}function Cf(n,t){return new nt(Pi(n,t))}let nt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=UY}return n})();function jY(n){return n instanceof nt?n.nativeElement:n}class If{}let Vo=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function HY(){const n=me(),e=Co(sr().index,n);return(Eo(e)?e:n)[Tt]}()}return n})(),zY=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>null})}return n})();class wc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const CL=new wc("16.2.12"),xD={};function DL(n,t=null,e=null,i){const r=SL(n,t,e,i);return r.resolveInjectorInitializers(),r}function SL(n,t=null,e=null,i,r=new Set){const o=[e||un,yY(n)];return i=i||("object"==typeof n?void 0:Je(n)),new vf(o,t||W0(),i||null,r)}let $i=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=al;static#t=this.NULL=new aD;static create(e,i){if(Array.isArray(e))return DL({name:""},i,e,"");{const r=e.name??"";return DL({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=de({token:n,providedIn:"any",factory:()=>O(uL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function DD(n){return n.ngOriginalError}class As{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&DD(t);for(;e&&DD(e);)e=DD(e);return e||null}}function SD(n){return t=>{setTimeout(n,void 0,t)}}const Pe=class QY extends H{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=SD(o),r&&(r=SD(r)),s&&(s=SD(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof ft&&t.add(a),a}};function RL(...n){}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function XY(){const n="function"==typeof kn.requestAnimationFrame;let t=kn[n?"requestAnimationFrame":"setTimeout"],e=kn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tQ(n){const t=()=>{!function eQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,RD(n),n.isCheckStableRunning=!0,AD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),RD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function iQ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return kL(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),ML(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return kL(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),ML(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,RD(n),AD(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new W(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,JY,RL,RL);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const JY={};function AD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function RD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ML(n){n._nesting--,AD(n)}class nQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const NL=new oe("",{providedIn:"root",factory:OL});function OL(){const n=Ce(He);let t=!0;return x(new at(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new at(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{He.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(re()))}function wl(n){return n instanceof Function?n():n}let kD=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xg(n){for(;n;){n[It]|=64;const t=Hg(n);if(Bb(n)&&!t)return n;n=t}return null}const BL=new oe("",{providedIn:"root",factory:()=>!1});let J0=null;function zL(n,t){return n[t]??GL()}function $L(n,t){const e=GL();e.producerNode?.length&&(n[t]=J0,e.lView=n,J0=WL())}const fQ={...Wb,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xg(n.lView)},lView:null};function WL(){return Object.create(fQ)}function GL(){return J0??=WL(),J0}const At={};function G(n){qL(an(),me(),Vr()+n,!1)}function qL(n,t,e,i){if(!i)if(3==(3&t[It])){const o=n.preOrderCheckHooks;null!==o&&mc(t,o,e)}else{const o=n.preOrderHooks;null!==o&&gc(t,o,0,e)}Ks(e)}function T(n,t=jt.Default){const e=me();return null===e?O(n,t):Zs(sr(),e,F(n),t)}function Sf(){throw new Error("invalid")}function ew(n,t,e,i,r,o,s,a,l,c,u){const f=t.blueprint.slice();return f[ni]=r,f[It]=140|i,(null!==c||n&&2048&n[It])&&(f[It]|=2048),Wh(f),f[ii]=f[Ia]=n,f[fi]=e,f[Ca]=s||n&&n[Ca],f[Tt]=a||n&&n[Tt],f[Ea]=l||n&&n[Ea]||null,f[br]=o,f[ku]=function gZ(){return mZ++}(),f[Gs]=u,f[Oh]=c,f[Si]=2==t.type?n[Si]:f,f}function Af(n,t,e,i,r){let o=n.data[t];if(null===o)o=function MD(n,t,e,i,r){const o=u0(),s=Uu(),l=n.data[t]=function wQ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return fc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function d0(){return _t.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function _l(){const n=_t.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Cs(o,!0),o}function Jg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function KL(n,t,e,i,r){const o=zL(t,ac),s=Vr(),a=2&i;try{Ks(-1),a&&t.length>Zt&&qL(n,t,Zt,!1),Fo(a?2:0,r);const c=a?o:null,u=Uh(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{pg(c,u)}}finally{a&&null===t[ac]&&$L(t,ac),Ks(s),Fo(a?3:1,r)}}function ND(n,t,e){if(cg(t)){const i=vn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{vn(i)}}}function OD(n,t,e){Kh()&&(function SQ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;pl(e)&&function PQ(n,t,e){const i=Pi(t,n),r=ZL(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=tw(n,ew(n,r,null,s,i,t,null,n[Ca].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||C(e,t),eo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Aa(t,n,a,e);eo(c,t),null!==s&&FQ(0,a-r,c,l,0,s),ws(l)&&(Co(e.index,t)[fi]=Aa(t,n,a,e))}}(n,t,e,Pi(e,t)),64==(64&e.flags)&&e2(n,t,e))}function PD(n,t,e=Pi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function ZL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=FD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function FD(n,t,e,i,r,o,s,a,l,c,u){const f=Zt+i,m=f+r,_=function mQ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:At);return e}(f,m),v="function"==typeof c?c():c;return _[Oe]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let YL=n=>null;function QL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?XL(e,t,r,o):i.hasOwnProperty(r)&&XL(e,t,i[r],o)}return e}function XL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function ns(n,t,e,i,r,o,s,a){const l=Pi(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(jD(n,e,u,i,r),pl(t)&&function IQ(n,t){const e=Co(t,n);16&e[It]||(e[It]|=64)}(e,t.index)):3&t.type&&(i=function CQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function LD(n,t,e,i){if(Kh()){const r=null===i?null:{"":-1},o=function RQ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Rh(t,s.selectors,!1))if(i||(i=[]),ws(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),VD(n,t,a.length)}else i.unshift(s),VD(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&JL(n,t,e,s,r,a),r&&function kQ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new W(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=ic(e.mergedAttrs,e.attrs)}function JL(n,t,e,i,r,o){for(let c=0;c<i.length;c++)je(C(e,t),n,i[c].type);!function NQ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Jg(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=ic(e.mergedAttrs,u.hostAttrs),OQ(n,e,t,l,u),MQ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function EQ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],m=e?e.get(f):null,v=m?m.outputs:null;l=QL(f.inputs,u,l,m?m.inputs:null),c=QL(f.outputs,u,c,v);const b=null===l||null===s||Sh(t)?null:LQ(l,u,s);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function e2(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function Tx(){return _t.lFrame.currentDirectiveIndex}();try{Ks(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Dg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AQ(l,c)}}finally{Ks(-1),Dg(s)}}function AQ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function VD(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function MQ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ws(t)&&(e[""]=n)}}function OQ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=cc(r.type)),s=new vl(o,ws(r),T);n.blueprint[i]=s,e[i]=s,function xQ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function DQ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,Jg(n,e,r.hostVars,At),r)}function ka(n,t,e,i,r,o){const s=Pi(n,t);!function BD(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ge(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[Tt],s,o,n.value,e,i,r)}function FQ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)t2(i,e,s[a++],s[a++],s[a++])}function t2(n,t,e,i,r){const o=vn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{vn(o)}}function LQ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function n2(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function r2(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];Sg(e[i]),s.contentQueries(2,t[o],o)}}}function tw(n,t){return n[dl]?n[Lb][Jo]=t:n[dl]=t,n[Lb]=t,t}function UD(n,t,e){Sg(0);const i=vn(null);try{t(n,e)}finally{vn(i)}}function o2(n){return n[oc]||(n[oc]=[])}function s2(n){return n.cleanup||(n.cleanup=[])}function l2(n,t){const e=n[Ea],i=e?e.get(As,null):null;i&&i.handleError(t)}function jD(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];t2(n.data[s],t[s],i,a,r)}}function El(n,t,e){const i=$h(t,n);!function VF(n,t,e){n.setValue(t,e)}(n[Tt],i,e)}function VQ(n,t){const e=Co(t,n),i=e[Oe];!function BQ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ni];null!==r&&null===e[Gs]&&(e[Gs]=CD(r,e[Ea])),HD(i,e,e[fi])}function HD(n,t,e){pc(t);try{const i=n.viewQuery;null!==i&&UD(1,i,e);const r=n.template;null!==r&&KL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&r2(n,t),n.staticViewQueries&&UD(2,n.viewQuery,e);const o=n.components;null!==o&&function UQ(n,t){for(let e=0;e<t.length;e++)VQ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[It]&=-5,Ag()}}let c2=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function fx(n,t,e){const i=Object.create(px);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>qb(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Ou(i))return;i.hasRun=!0;const s=Uh(i);try{i.cleanupFn(),i.cleanupFn=Jb,i.fn(r)}finally{pg(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new n})}return n})();function nw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Qi(r,a):2==o&&(i=Qi(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function e_(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(jn(o)),or(o)&&u2(o,i);const s=e.type;if(8&s)e_(n,t,e.child,i);else if(32&s){const a=Gx(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=qF(t,e);if(Array.isArray(a))i.push(...a);else{const l=Hg(t[Si]);e_(l[Oe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function u2(n,t){for(let e=wr;e<n.length;e++){const i=n[e],r=i[Oe].firstChild;null!==r&&e_(i[Oe],i,r,t)}n[bs]!==n[ni]&&t.push(n[bs])}function iw(n,t,e,i=!0){const r=t[Ca],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{d2(n,t,n.template,e)}catch(l){throw i&&l2(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function d2(n,t,e,i){const r=t[It];if(256!=(256&r)){t[Ca].effectManager?.flush(),pc(t);try{Wh(t),function xg(n){return _t.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&KL(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&mc(t,c,null)}else{const c=n.preOrderHooks;null!==c&&gc(t,c,0,null),Mg(t,0)}if(function zQ(n){for(let t=PF(n);null!==t;t=FF(t)){if(!t[Vb])continue;const e=t[lc];for(let i=0;i<e.length;i++){vx(e[i])}}}(t),h2(t,2),null!==n.contentQueries&&r2(n,t),s){const c=n.contentCheckHooks;null!==c&&mc(t,c)}else{const c=n.contentHooks;null!==c&&gc(t,c,1),Mg(t,1)}!function pQ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=zL(t,fl);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Ks(~o);else{const s=o,a=e[++r],l=e[++r];Ix(a,s),i.dirty=!1;const c=Uh(i);try{l(2,t[s])}finally{pg(i,c)}}}}finally{null===t[fl]&&$L(t,fl),Ks(-1)}}(n,t);const a=n.components;null!==a&&p2(t,a,0);const l=n.viewQuery;if(null!==l&&UD(2,l,i),s){const c=n.viewCheckHooks;null!==c&&mc(t,c)}else{const c=n.viewHooks;null!==c&&gc(t,c,2),Mg(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[It]&=-73,Gh(t)}finally{Ag()}}}function h2(n,t){for(let e=PF(n);null!==e;e=FF(e))for(let i=wr;i<e.length;i++)f2(e[i],t)}function $Q(n,t,e){f2(Co(t,n),e)}function f2(n,t){if(!function o0(n){return 128==(128&n[It])}(n))return;const e=n[Oe],i=n[It];if(80&i&&0===t||1024&i||2===t)d2(e,n,e.template,n[fi]);else if(n[ul]>0){h2(n,1);const r=e.components;null!==r&&p2(n,r,1)}}function p2(n,t,e){for(let i=0;i<t.length;i++)$Q(n,t[i],e)}class t_{get rootNodes(){const t=this._lView,e=t[Oe];return e_(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fi]}set context(t){this._lView[fi]=t}get destroyed(){return 256==(256&this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ii];if(or(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(P0(t,i),T0(e,i))}this._attachedToViewContainer=!1}Kx(this._lView[Oe],this._lView)}onDestroy(t){!function qh(n,t){if(256==(256&n[It]))throw new W(911,!1);null===n[Ta]&&(n[Ta]=[]),n[Ta].push(t)}(this._lView,t)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-129}reattach(){this._lView[It]|=128}detectChanges(){iw(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RZ(n,t){$g(n,t,t[Tt],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=t}}class WQ extends t_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;iw(t[Oe],t,t[fi],!1)}checkNoChanges(){}get context(){return null}}class m2 extends Qg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=en(t);return new n_(e,this.ngModule)}}function g2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class qQ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Ih(i);const r=this.injector.get(t,xD,i);return r!==xD||e===xD?r:this.parentInjector.get(t,e,i)}}class n_ extends wL{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=g2(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return g2(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Pb(n){return n.map(ig).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Io?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new qQ(t,o):t,a=s.get(If,null);if(null===a)throw new W(407,!1);const f={rendererFactory:a,sanitizer:s.get(zY,null),effectManager:s.get(c2,null),afterRenderEventManager:s.get(kD,null)},m=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?function gQ(n,t,e,i){const o=i.get(BL,!1)||e===Oo.ShadowDom,s=n.selectRootElement(t,o);return function _Q(n){YL(n)}(s),s}(m,i,this.componentDef.encapsulation,s):O0(m,_,function GQ(n){const t=n.toLowerCase();return"svg"===t?Vu:"math"===t?"math":null}(_)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==v&&(A=CD(v,s,!0));const V=FD(0,null,null,1,0,null,null,null,null,null,null),K=ew(null,V,null,M,null,null,f,m,s,null,A);let ae,xe;pc(K);try{const Be=this.componentDef;let ct,mn=null;Be.findHostDirectiveDefs?(ct=[],mn=new Map,Be.findHostDirectiveDefs(Be,ct,mn),ct.push(Be)):ct=[Be];const gn=function ZQ(n,t){const e=n[Oe],i=Zt;return n[i]=t,Af(e,i,2,"#host",null)}(K,v),Ki=function YQ(n,t,e,i,r,o,s){const a=r[Oe];!function QQ(n,t,e,i){for(const r of n)t.mergedAttrs=ic(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(nw(t,t.mergedAttrs,!0),null!==e&&QF(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=CD(t,r[Ea]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=ew(r,ZL(e),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&VD(a,n,i.length-1),tw(r,f),r[n.index]=f}(gn,v,Be,ct,K,f,m);xe=r0(V,Zt),v&&function JQ(n,t,e,i){if(i)Ym(n,e,["ng-version",CL.full]);else{const{attrs:r,classes:o}=function rg(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!wo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Ym(n,e,r),o&&o.length>0&&YF(n,e,o.join(" "))}}(m,Be,v,i),void 0!==e&&function eX(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(xe,this.ngContentSelectors,e),ae=function XQ(n,t,e,i,r,o){const s=sr(),a=r[Oe],l=Pi(s,r);JL(a,r,s,e,null,i);for(let u=0;u<e.length;u++)eo(Aa(r,a,s.directiveStart+u,s),r);e2(a,r,s),l&&eo(l,r);const c=Aa(r,a,s.directiveStart+s.componentOffset,s);if(n[fi]=r[fi]=c,null!==o)for(const u of o)u(c,t);return ND(a,s,n),c}(Ki,Be,ct,mn,K,[tX]),HD(V,K,null)}finally{Ag()}return new KQ(this.componentType,ae,Cf(xe,K),K,xe)}}class KQ extends LY{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new WQ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;jD(o[Oe],o,r,t,e),this.previousInputValues.set(t,e),Xg(Co(this._tNode.index,o))}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function tX(){const n=sr();Jh(me()[Oe],n)}function Ke(n){let t=function _2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ws(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new W(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=rw(n.inputs),s.inputTransforms=rw(n.inputTransforms),s.declaredInputs=rw(n.declaredInputs),s.outputs=rw(n.outputs);const a=r.hostBindings;a&&oX(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&iX(n,l),c&&rX(n,c),Rn(n.inputs,r.inputs),Rn(n.declaredInputs,r.declaredInputs),Rn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Rn(s.inputTransforms,r.inputTransforms)),ws(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ke&&(e=!1)}}t=Object.getPrototypeOf(t)}!function nX(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ic(r.hostAttrs,e=ic(e,r.hostAttrs))}}(i)}function rw(n){return n===ys?{}:n===un?[]:n}function iX(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function rX(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function oX(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function w2(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function ow(n){return!!zD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function zD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ma(n,t,e){return n[t]=e}function to(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Yu(n,t,e,i){const r=to(n,t,e);return to(n,t+1,i)||r}function sw(n,t,e,i,r){const o=Yu(n,t,e,i);return to(n,t+2,r)||o}function Pt(n,t,e,i){const r=me();return to(r,yl(),t)&&(an(),ka(pi(),r,n,t,e,i)),Pt}function kf(n,t,e,i){return to(n,yl(),e)?t+Ge(e)+i:At}function he(n,t,e,i,r,o,s,a){const l=me(),c=an(),u=n+Zt,f=c.firstCreatePass?function AX(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Af(t,n,4,s||null,Da(c,a));LD(t,e,u,Da(c,l)),Jh(t,u);const f=u.tView=FD(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Cs(f,!1);const m=O2(c,l,f,n);Xh()&&L0(c,l,m,f),eo(m,l),tw(l,l[u]=n2(m,l,m,f)),ug(f)&&OD(c,l,f),null!=s&&PD(l,f,a)}let O2=function P2(n,t,e,i){return Sa(!0),t[Tt].createComment("")};function lr(n){return dc(function Tg(){return _t.lFrame.contextLView}(),Zt+n)}function Z(n,t,e){const i=me();return to(i,yl(),t)&&ns(an(),pi(),i,n,t,i[Tt],e,!1),Z}function ZD(n,t,e,i,r){const s=r?"class":"style";jD(n,e,t.inputs[s],s,i)}function B(n,t,e,i){const r=me(),o=an(),s=Zt+n,a=r[Tt],l=o.firstCreatePass?function NX(n,t,e,i,r,o){const s=t.consts,l=Af(t,n,2,i,Da(s,r));return LD(t,e,l,Da(s,o)),null!==l.attrs&&nw(l,l.attrs,!1),null!==l.mergedAttrs&&nw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=F2(o,r,l,a,t,n);r[s]=c;const u=ug(l);return Cs(l,!0),QF(a,c,l),32!=(32&l.flags)&&Xh()&&L0(o,r,c,l),0===function bx(){return _t.lFrame.elementDepthCount}()&&eo(c,r),function Cg(){_t.lFrame.elementDepthCount++}(),u&&(OD(o,r,l),ND(o,l,r)),null!==i&&PD(r,l),B}function L(){let n=sr();Uu()?ju():(n=n.parent,Cs(n,!1));const t=n;(function a0(n){return _t.skipHydrationRootTNode===n})(t)&&function Ex(){_t.skipHydrationRootTNode=null}(),function Ig(){_t.lFrame.elementDepthCount--}();const e=an();return e.firstCreatePass&&(Jh(e,n),cg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function tf(n){return 0!=(8&n.flags)}(t)&&ZD(e,t,me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function E0(n){return 0!=(16&n.flags)}(t)&&ZD(e,t,me(),t.stylesWithoutHost,!1),L}function dt(n,t,e,i){return B(n,t,e,i),L(),dt}let F2=(n,t,e,i,r,o)=>(Sa(!0),O0(i,r,function kg(){return _t.lFrame.currentNamespace}()));function Qs(n,t,e){const i=me(),r=an(),o=n+Zt,s=r.firstCreatePass?function FX(n,t,e,i,r){const o=t.consts,s=Da(o,i),a=Af(t,n,8,"ng-container",s);return null!==s&&nw(a,s,!0),LD(t,e,a,Da(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Cs(s,!0);const a=L2(r,i,s,n);return i[o]=a,Xh()&&L0(r,i,a,s),eo(a,i),ug(s)&&(OD(r,i,s),ND(r,s,i)),null!=e&&PD(i,s),Qs}function Xs(){let n=sr();const t=an();return Uu()?ju():(n=n.parent,Cs(n,!1)),t.firstCreatePass&&(Jh(t,n),cg(n)&&t.queries.elementEnd(n)),Xs}let L2=(n,t,e,i)=>(Sa(!0),qx(t[Tt],""));function Yn(){return me()}function l_(n){return!!n&&"function"==typeof n.then}function V2(n){return!!n&&"function"==typeof n.subscribe}function Ae(n,t,e,i){const r=me(),o=an(),s=sr();return function U2(n,t,e,i,r,o,s){const a=ug(i),c=n.firstCreatePass&&s2(n),u=t[fi],f=o2(t);let m=!0;if(3&i.type||s){const b=Pi(i,t),I=s?s(b):b,M=f.length,A=s?K=>s(jn(K[i.index])):i.index;let V=null;if(!s&&a&&(V=function BX(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[oc],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,m=!1;else{o=H2(i,t,u,o,!1);const K=e.listen(I,r,o);f.push(o,K),c&&c.push(r,A,M,M+1)}}else o=H2(i,t,u,o,!1);const _=i.outputs;let v;if(m&&null!==_&&(v=_[r])){const b=v.length;if(b)for(let I=0;I<b;I+=2){const ae=t[v[I]][v[I+1]].subscribe(o),xe=f.length;f.push(o,ae),c&&c.push(r,i.index,xe,-(xe+1))}}}(o,r,r[Tt],s,n,t,i),Ae}function j2(n,t,e,i){try{return Fo(6,t,e),!1!==e(i)}catch(r){return l2(n,r),!1}finally{Fo(7,t,e)}}function H2(n,t,e,i,r){return function o(s){if(s===Function)return i;Xg(n.componentOffset>-1?Co(n.index,t):t);let l=j2(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=j2(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function pe(n=1){return function xx(n){return(_t.lFrame.contextLView=function Dx(n,t){for(;n>0;)t=t[Ia],n--;return t}(n,_t.lFrame.contextLView))[fi]}(n)}function UX(n,t){let e=null;const i=function Ob(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Rh(n,o,!0):tg(i,o))return r}else e=r}return e}function no(n){const t=me()[Si][br];if(!t.projection){const i=t.projection=Vg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?UX(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function dn(n,t=0,e){const i=me(),r=an(),o=Af(r,Zt+n,16,null,e||null);null===o.projection&&(o.projection=t),ju(),(!i[Gs]||fc())&&32!=(32&o.flags)&&function VZ(n,t,e){ZF(t[Tt],0,t,e,Yx(n,e,t),zF(e.parent||t[br],e,t))}(r,i,o)}function uw(n,t,e){return dw(n,"",t,"",e),uw}function dw(n,t,e,i,r){const o=me(),s=kf(o,t,e,i);return s!==At&&ns(an(),pi(),o,n,s,o[Tt],r,!1),dw}function hw(n,t){return n<<17|t<<2}function Ec(n){return n>>17&32767}function YD(n){return 2|n}function Qu(n){return(131068&n)>>2}function QD(n,t){return-131069&n|t<<2}function XD(n){return 1|n}function Q2(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ec(o):Qu(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];GX(n[a],t)&&(l=!0,n[a+1]=i?XD(u):YD(u)),a=i?Ec(u):Qu(u)}l&&(n[e+1]=i?YD(o):XD(o))}function GX(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ff(n,t)>=0}const cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X2(n){return n.substring(cr.key,cr.keyEnd)}function J2(n,t){const e=cr.textEnd;return e===t?-1:(t=cr.keyEnd=function YX(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,cr.key=t,e),Bf(n,t,e))}function Bf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Xu(n,t,e){return Js(n,t,e,!1),Xu}function st(n,t){return Js(n,t,null,!0),st}function Cc(n){ea(oJ,Pa,n,!0)}function Pa(n,t){for(let e=function KX(n){return function tV(n){cr.key=0,cr.keyEnd=0,cr.value=0,cr.valueEnd=0,cr.textEnd=n.length}(n),J2(n,Bf(n,0,cr.textEnd))}(t);e>=0;e=J2(t,e))es(n,X2(t),!0)}function Js(n,t,e,i){const r=me(),o=an(),s=qs(2);o.firstUpdatePass&&oV(o,n,s,i),t!==At&&to(r,s,t)&&aV(o,o.data[Vr()],r,r[Tt],n,r[s+1]=function aJ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Je(ts(n)))),n}(t,e),i,s)}function ea(n,t,e,i){const r=an(),o=qs(2);r.firstUpdatePass&&oV(r,null,o,i);const s=me();if(e!==At&&to(s,o,e)){const a=r.data[Vr()];if(cV(a,i)&&!rV(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Qi(l,e||"")),ZD(r,a,s,e,i)}else!function sJ(n,t,e,i,r,o,s,a){r===At&&(r=un);let l=0,c=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const m=l<r.length?r[l+1]:void 0,_=c<o.length?o[c+1]:void 0;let b,v=null;u===f?(l+=2,c+=2,m!==_&&(v=f,b=_)):null===f||null!==u&&u<f?(l+=2,v=u):(c+=2,v=f,b=_),null!==v&&aV(n,t,e,i,v,b,s,a),u=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[Tt],s[o+1],s[o+1]=function rJ(n,t,e){if(null==e||""===e)return un;const i=[],r=ts(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function rV(n,t){return t>=n.expandoStartIndex}function oV(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Vr()],s=rV(n,e);cV(o,i)&&null===t&&!s&&(t=!1),t=function eJ(n,t,e,i){const r=function Hu(n){const t=_t.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=c_(e=JD(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=JD(r,n,t,e,i),null===o){let l=function tJ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Qu(i))return n[Ec(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=JD(null,n,t,l[1],i),l=c_(l,t.attrs,i),function nJ(n,t,e,i){n[Ec(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function iJ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=c_(i,n[o].hostAttrs,e);return c_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function $X(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ec(s),l=Qu(s);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||ff(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const m=Ec(n[a+1]);n[i+1]=hw(m,a),0!==m&&(n[m+1]=QD(n[m+1],i)),n[a+1]=function HX(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=hw(a,0),0!==a&&(n[a+1]=QD(n[a+1],i)),a=i;else n[i+1]=hw(l,0),0===a?a=i:n[l+1]=QD(n[l+1],i),l=i;c&&(n[i+1]=YD(n[i+1])),Q2(n,u,i,!0),Q2(n,u,i,!1),function WX(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ff(o,t)>=0&&(e[i+1]=XD(e[i+1]))}(t,u,n,i,o),s=hw(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function JD(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=c_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function c_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),es(n,s,!!e||t[++o]))}return void 0===n?null:n}function oJ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&es(n,i,e)}function aV(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function zX(n){return 1==(1&n)}(c)?lV(l,t,e,r,Qu(c),s):void 0;fw(u)||(fw(o)||function jX(n){return 2==(2&n)}(c)&&(o=lV(l,null,e,r,a,s)),function UZ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:bc.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=bc.Important),n.setStyle(e,i,r,o))}}(i,s,$h(Vr(),e),r,o))}function lV(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let m=e[r+1];m===At&&(m=f?un:void 0);let _=f?Lx(m,i):u===i?m:void 0;if(c&&!fw(_)&&(_=Lx(l,i)),fw(_)&&(a=_,s))return a;const v=n[r+1];r=s?Ec(v):Qu(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Lx(l,i))}return a}function fw(n){return void 0!==n}function cV(n,t){return 0!=(n.flags&(t?8:16))}function Te(n,t=""){const e=me(),i=an(),r=n+Zt,o=i.firstCreatePass?Af(i,r,1,t,null):i.data[r],s=uV(i,e,o,t,n);e[r]=s,Xh()&&L0(i,e,s,o),Cs(o,!1)}let uV=(n,t,e,i,r)=>(Sa(!0),function N0(n,t){return n.createText(t)}(t[Tt],i));function Ri(n){return Cr("",n,""),Ri}function Cr(n,t,e){const i=me(),r=kf(i,n,t,e);return r!==At&&El(i,Vr(),r),Cr}function e1(n,t,e,i,r){const o=me(),s=function Mf(n,t,e,i,r,o){const a=Yu(n,Is(),e,r);return qs(2),a?t+Ge(e)+i+Ge(r)+o:At}(o,n,t,e,i,r);return s!==At&&El(o,Vr(),s),e1}function t1(n,t,e,i,r,o,s){const a=me(),l=function Nf(n,t,e,i,r,o,s,a){const c=sw(n,Is(),e,r,s);return qs(3),c?t+Ge(e)+i+Ge(r)+o+Ge(s)+a:At}(a,n,t,e,i,r,o,s);return l!==At&&El(a,Vr(),l),t1}function jr(n,t,e){const i=me();return to(i,yl(),t)&&ns(an(),pi(),i,n,t,i[Tt],e,!0),jr}const Ju=void 0;var SJ=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DJ(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Uf={};function To(n){const t=function AJ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=AV(t);if(e)return e;const i=t.split("-")[0];if(e=AV(i),e)return e;if("en"===i)return SJ;throw new W(701,!1)}function AV(n){return n in Uf||(Uf[n]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[n]),Uf[n]}var ri=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ri||{});const jf="en-US";let RV=jf;function o1(n,t,e,i,r){if(n=F(n),Array.isArray(n))for(let o=0;o<n.length;o++)o1(n[o],t,e,i,r);else{const o=an(),s=me(),a=sr();let l=Zu(n)?n:F(n.provide);const c=gL(n),u=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(Zu(n)||!n.multi){const _=new vl(c,r,T),v=a1(l,t,r?u:u+m,f);-1===v?(je(C(a,s),o,l),s1(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[v]=_,s[v]=_)}else{const _=a1(l,t,u+m,f),v=a1(l,t,u,u+m),I=v>=0&&e[v];if(r&&!I||!r&&!(_>=0&&e[_])){je(C(a,s),o,l);const M=function xee(n,t,e,i,r){const o=new vl(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,tB(o,r,i&&!e),o}(r?Tee:Iee,e.length,r,i,c);!r&&I&&(e[v].providerFactory=M),s1(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(M),s.push(M)}else s1(o,n,_>-1?_:v,tB(e[r?v:_],c,!r&&i));!r&&i&&I&&e[v].componentProviders++}}}function s1(n,t,e,i){const r=Zu(t),o=function bY(n){return!!n.useClass}(t);if(r||o){const l=(o?F(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function tB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function a1(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Iee(n,t,e,i){return l1(this.multi,[])}function Tee(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Aa(e,e[Oe],this.providerFactory.index,i);o=a.slice(0,s),l1(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],l1(r,o);return o}function l1(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Cee(n,t,e){const i=an();if(i.firstCreatePass){const r=ws(n);o1(e,i.data,i.blueprint,r,!0),o1(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class ed{}class nB{}class c1 extends ed{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m2(this);const r=Fr(t);this._bootstrapComponents=wl(r.bootstrap),this._r3Injector=SL(t,e,[{provide:ed,useValue:this},{provide:Qg,useValue:this.componentFactoryResolver},...i],Je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class u1 extends nB{constructor(t){super(),this.moduleType=t}create(t){return new c1(this.moduleType,t,[])}}class iB extends ed{constructor(t){super(),this.componentFactoryResolver=new m2(this),this.instance=null;const e=new vf([...t.providers,{provide:ed,useValue:this},{provide:Qg,useValue:this.componentFactoryResolver}],t.parent||W0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function d1(n,t,e=null){return new iB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Aee=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=hL(0,e.type),r=i.length>0?d1([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=de({token:n,providedIn:"environment",factory:()=>new n(O(Io))})}return n})();function Uo(n){n.getStandaloneInjector=t=>t.get(Aee).getOrCreateStandaloneInjector(n)}function yw(n,t,e){const i=Lr()+n,r=me();return r[i]===At?Ma(r,i,e?t.call(e):t()):function r_(n,t){return n[t]}(r,i)}function Cl(n,t,e,i){return function uB(n,t,e,i,r,o){const s=t+e;return to(n,s,r)?Ma(n,s+1,o?i.call(o,r):i(r)):g_(n,s+1)}(me(),Lr(),n,t,e,i)}function td(n,t,e,i,r){return dB(me(),Lr(),n,t,e,i,r)}function vw(n,t,e,i,r,o){return function hB(n,t,e,i,r,o,s,a){const l=t+e;return sw(n,l,r,o,s)?Ma(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):g_(n,l+3)}(me(),Lr(),n,t,e,i,r,o)}function g_(n,t){const e=n[t];return e===At?void 0:e}function dB(n,t,e,i,r,o,s){const a=t+e;return Yu(n,a,r,o)?Ma(n,a+2,s?i.call(s,r,o):i(r,o)):g_(n,a+2)}function __(n,t){const e=an();let i;const r=n+Zt;e.firstCreatePass?(i=function $ee(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=cc(i.type)),a=Jr(T);try{const l=rf(!1),c=o();return rf(l),function MX(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,me(),r,c),c}finally{Jr(a)}}function y_(n,t,e,i){const r=n+Zt,o=me(),s=dc(o,r);return function v_(n,t){return n[Oe].data[t].pure}(o,r)?dB(o,Lr(),t,s.transform,e,i,s):s.transform(e,i)}function Zee(){return this._results[Symbol.iterator]()}class b_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Pe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=b_.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Zee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function xs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zK(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Qee(n,t,e,i=!0){const r=t[Oe];if(function MZ(n,t,e,i){const r=wr+i,o=e.length;i>0&&(e[r-1][Jo]=t),i<o-wr?(t[Jo]=e[r],pF(e,wr+i,t)):(e.push(t),t[Jo]=null),t[ii]=e;const s=t[hl];null!==s&&e!==s&&function NZ(n,t){const e=n[lc];t[Si]!==t[ii][ii][Si]&&(n[Vb]=!0),null===e?n[lc]=[t]:e.push(t)}(s,t);const a=t[Po];null!==a&&a.insertView(n),t[It]|=128}(r,t,n,e),i){const o=Xx(e,n),s=t[Tt],a=F0(s,n[bs]);null!==a&&function AZ(n,t,e,i,r,o){i[ni]=r,i[br]=t,$g(n,i,e,1,r,o)}(r,n[br],s,t,a,o)}}let hn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ete}return n})();const Xee=hn,Jee=class extends Xee{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Yee(n,t,e,i){const r=t.tView,a=ew(n,r,e,4096&n[It]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[hl]=n[t.index];const c=n[Po];return null!==c&&(a[Po]=c.createEmbeddedView(r)),HD(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new t_(r)}};function ete(){return bw(sr(),me())}function bw(n,t){return 4&n.type?new Jee(t,n,Cf(n,t)):null}let Xi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ste}return n})();function ste(){return wB(sr(),me())}const ate=Xi,vB=class extends ate{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const t=_e(this._hostTNode,this._hostLView);if(Ng(t)){const e=Wu(t,this._hostLView),i=$u(t);return new Er(e[Oe].data[i+8],e)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=bB(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-wr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function Lg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const l=s?t:new n_(en(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const I=(s?c:this.parentInjector).get(Io,null);I&&(o=I)}en(l.componentType??{});const _=l.create(c,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function yx(n){return or(n[ii])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[ii],u=new vB(c,c[br],c[ii]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Qee(a,r,s,!i),t.attachToViewContainerRef(),pF(f1(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=bB(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=P0(this._lContainer,e);i&&(T0(f1(this._lContainer),e),Kx(i[Oe],i))}detach(t){const e=this._adjustIndex(t,-1),i=P0(this._lContainer,e);return i&&null!=T0(f1(this._lContainer),e)?new t_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function bB(n){return n[8]}function f1(n){return n[8]||(n[8]=[])}function wB(n,t){let e;const i=t[n.index];return or(i)?e=i:(e=n2(i,t,null,n),t[n.index]=e,tw(t,e)),EB(e,t,n,i),new vB(e,n,t)}let EB=function CB(n,t,e,i){if(n[bs])return;let r;r=8&e.type?jn(i):function lte(n,t){const e=n[Tt],i=e.createComment(""),r=Pi(t,n);return qu(e,F0(e,r),i,function LZ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[bs]=r};class p1{constructor(t){this.queryList=t,this.matches=null}clone(){return new p1(this.queryList)}setDirty(){this.queryList.setDirty()}}class m1{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new m1(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==SB(t,e).matches&&this.queries[e].setDirty()}}class IB{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class g1{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new g1(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _1{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _1(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,dte(e,o)),this.matchTNodeWithReadOption(t,e,yc(e,t,o,!1,!1))}else i===hn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,yc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===nt||r===Xi||r===hn&&4&e.type)this.addMatch(e.index,-2);else{const o=yc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function dte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function fte(n,t,e,i){return-1===e?function hte(n,t){return 11&n.type?Cf(n,t):4&n.type?bw(n,t):null}(t,n):-2===e?function pte(n,t,e){return e===nt?Cf(t,n):e===hn?bw(t,n):e===Xi?wB(t,n):void 0}(n,t,i):Aa(n,n[Oe],e,t)}function TB(n,t,e,i){const r=t[Po].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:fte(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function y1(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=TB(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let f=wr;f<u.length;f++){const m=u[f];m[hl]===m[ii]&&y1(m[Oe],m,c,i)}if(null!==u[lc]){const f=u[lc];for(let m=0;m<f.length;m++){const _=f[m];y1(_[Oe],_,c,i)}}}}}return i}function Le(n){const t=me(),e=an(),i=h0();Sg(i+1);const r=SB(e,i);if(n.dirty&&function wg(n){return 4==(4&n[It])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?y1(e,t,i,[]):TB(e,t,r,i);n.reset(o,jY),n.notifyOnChanges()}return!0}return!1}function wn(n,t,e){const i=an();i.firstCreatePass&&(DB(i,new IB(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),xB(i,me(),t)}function Ft(n,t,e,i){const r=an();if(r.firstCreatePass){const o=sr();DB(r,new IB(t,e,i),o.index),function gte(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}xB(r,me(),e)}function Ve(){return function mte(n,t){return n[Po].queries[t].queryList}(me(),h0())}function xB(n,t,e){const i=new b_(4==(4&e));(function bQ(n,t,e,i){const r=o2(t);r.push(e),n.firstCreatePass&&s2(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Po]&&(t[Po]=new m1),t[Po].queries.push(new p1(i))}function DB(n,t,e){null===n.queries&&(n.queries=new g1),n.queries.track(new _1(t,e))}function SB(n,t){return n.queries.getByIndex(t)}function jo(n,t){return bw(n,t)}const I1=new oe("Application Initializer");let T1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ce(I1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(l_(o))e.push(o);else if(V2(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WB=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ks=new oe("LocaleId",{providedIn:"root",factory:()=>Ce(ks,jt.Optional|jt.SkipSelf)||function Lte(){return typeof $localize<"u"&&$localize.locale||jf}()});let Cw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ute{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let GB=(()=>{class n{compileModuleSync(e){return new u1(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=wl(Fr(e).declarations).reduce((s,a)=>{const l=en(a);return l&&s.push(new n_(l)),s},[]);return new Ute(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const YB=new oe(""),Tw=new oe("");let R1,S1=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R1||(function lne(n){R1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(He),O(A1),O(Tw))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),A1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return R1?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ic=null;const QB=new oe("AllowMultipleToken"),k1=new oe("PlatformDestroyListeners"),M1=new oe("appBootstrapListener");class JB{constructor(t,e){this.name=t,this.token=e}}function tU(n,t,e=[]){const i=`Platform: ${t}`,r=new oe(i);return(o=[])=>{let s=N1();if(!s||s.injector.get(QB,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function dne(n){if(Ic&&!Ic.get(QB,!1))throw new W(400,!1);(function XB(){!function cx(n){lx=n}(()=>{throw new W(600,!1)})})(),Ic=n;const t=n.get(iU);(function eU(n){n.get(_L,null)?.forEach(e=>e())})(n)}(function nU(n=[],t){return $i.create({name:t,providers:[{provide:dD,useValue:"platform"},{provide:k1,useValue:new Set([()=>Ic=null])},...n]})}(a,i))}return function fne(n){const t=N1();if(!t)throw new W(401,!1);return t}()}}function N1(){return Ic?.get(iU)??null}let iU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function pne(n="zone.js",t){return"noop"===n?new nQ:"zone.js"===n?new He(t):n}(i?.ngZone,function rU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function See(n,t,e){return new c1(n,t,e)}(e.moduleType,this.injector,function cU(n){return[{provide:He,useFactory:n},{provide:qg,multi:!0,useFactory:()=>{const t=Ce(gne,{optional:!0});return()=>t.initialize()}},{provide:lU,useFactory:mne},{provide:NL,useFactory:OL}]}(()=>r)),s=o.injector.get(As,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{xw(this._modules,o),a.unsubscribe()})}),function oU(n,t,e){try{const i=e();return l_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(T1);return a.runInitializers(),a.donePromise.then(()=>(function kV(n){vr(n,"Expected localeId to be defined"),"string"==typeof n&&(RV=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ks,jf)||jf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=sU({},i);return function cne(n,t,e){const i=new u1(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ta);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new W(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(k1,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O($i))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function sU(n,t){return Array.isArray(t)?t.reduce(sU,n):{...n,...t}}let ta=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ce(lU),this.zoneIsStable=Ce(NL),this.componentTypes=[],this.components=[],this.isStable=Ce(Cw).hasPendingTasks.pipe(Ue(e=>e?R(!1):this.zoneIsStable),lt(),re()),this._injector=Ce(Io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof wL;if(!this._injector.get(T1).done)throw!r&&function rc(n){const t=en(n)||ir(n)||rr(n);return null!==t&&t.standalone}(e),new W(405,!1);let s;s=r?e:this._injector.get(Qg).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function une(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ed),c=s.create($i.NULL,[],i||s.selector,a),u=c.location.nativeElement,f=c.injector.get(YB,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),xw(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;xw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(M1,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>xw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new W(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const lU=new oe("",{providedIn:"root",factory:()=>Ce(As).handleError.bind(void 0)});function mne(){const n=Ce(He),t=Ce(As);return e=>n.runOutsideAngular(()=>t.handleError(e))}let gne=(()=>{class n{constructor(){this.zone=Ce(He),this.applicationRef=Ce(ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ur=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yne}return n})();function yne(n){return function vne(n,t,e){if(pl(n)&&!e){const i=Co(n.index,t);return new t_(i,i)}return 47&n.type?new t_(t[Si],t):null}(sr(),me(),16==(16&n))}class pU{constructor(){}supports(t){return ow(t)}create(t){return new Tne(t)}}const Ine=(n,t)=>t;class Tne{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ine}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<gU(i,r,o)?e:i,a=gU(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){const _=m<o.length?o[m]:o[m]=0,v=_+m;u<=v&&v<c&&(o[m]=_+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ow(t))throw new W(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function dX(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new xne(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xne{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dne{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class mU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Dne,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class _U{constructor(){}supports(t){return t instanceof Map||zD(t)}create(){return new Sne}}class Sne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zD(t)))throw new W(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Ane(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ane{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yU(){return new Il([new pU])}let Il=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:yU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||yU()),deps:[[n,new Bg,new Ds]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new W(901,!1)}}return n})();function vU(){return new C_([new _U])}let C_=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:vU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||vU()),deps:[[n,new Bg,new Ds]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new W(901,!1)}}return n})();const Mne=tU(null,"core",[]);let Nne=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(O(ta))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();function $f(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function B1(n,t){const e=en(n),i=t.elementInjector||W0();return new n_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let U1=null;function Tc(){return U1}class qne{}const wt=new oe("DocumentToken");let j1=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return Ce(Zne)},providedIn:"platform"})}return n})();const Kne=new oe("Location Initialized");let Zne=(()=>{class n extends j1{constructor(){super(),this._doc=Ce(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tc().getBaseHref(this._doc)}onPopState(e){const i=Tc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Tc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function H1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function SU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Tl(n){return n&&"?"!==n[0]?"?"+n:n}let id=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return Ce(RU)},providedIn:"root"})}return n})();const AU=new oe("appBaseHref");let RU=(()=>{class n extends id{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ce(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return H1(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Tl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Tl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Tl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(j1),O(AU,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yne=(()=>{class n extends id{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=H1(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Tl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Tl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(j1),O(AU,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),Rw=(()=>{class n{constructor(e){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Jne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(SU(kU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Tl(i))}normalize(e){return n.stripTrailingSlash(function Xne(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,kU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Tl;static#t=this.joinWithSlash=H1;static#n=this.stripTrailingSlash=SU;static#i=this.\u0275fac=function(i){return new(i||n)(O(id))};static#r=this.\u0275prov=de({token:n,factory:function(){return function Qne(){return new Rw(O(id))}()},providedIn:"root"})}return n})();function kU(n){return n.replace(/\/index.html$/,"")}var Ir=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ir||{}),bn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(bn||{}),is=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(is||{}),Wi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Wi||{});function Mw(n,t){return Ns(To(n)[ri.DateFormat],t)}function Nw(n,t){return Ns(To(n)[ri.TimeFormat],t)}function Ow(n,t){return Ns(To(n)[ri.DateTimeFormat],t)}function Ms(n,t){const e=To(n),i=e[ri.NumberSymbols][t];if(typeof i>"u"){if(t===Wi.CurrencyDecimal)return e[ri.NumberSymbols][Wi.Decimal];if(t===Wi.CurrencyGroup)return e[ri.NumberSymbols][Wi.Group]}return i}function OU(n){if(!n[ri.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ri.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ns(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function W1(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const die=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,I_={},hie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xl=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xl||{}),In=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(In||{}),Tn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Tn||{});function PU(n,t,e,i){let r=function wie(n){if(VU(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Pw(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(die))return function Eie(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!VU(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Dl(e,t)||t;let a,s=[];for(;t;){if(a=hie.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=LU(i,l),r=function bie(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function vie(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(LU(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const f=function yie(n){if(q1[n])return q1[n];let t;switch(n){case"G":case"GG":case"GGG":t=oi(Tn.Eras,bn.Abbreviated);break;case"GGGG":t=oi(Tn.Eras,bn.Wide);break;case"GGGGG":t=oi(Tn.Eras,bn.Narrow);break;case"y":t=Ji(In.FullYear,1,0,!1,!0);break;case"yy":t=Ji(In.FullYear,2,0,!0,!0);break;case"yyy":t=Ji(In.FullYear,3,0,!1,!0);break;case"yyyy":t=Ji(In.FullYear,4,0,!1,!0);break;case"Y":t=Bw(1);break;case"YY":t=Bw(2,!0);break;case"YYY":t=Bw(3);break;case"YYYY":t=Bw(4);break;case"M":case"L":t=Ji(In.Month,1,1);break;case"MM":case"LL":t=Ji(In.Month,2,1);break;case"MMM":t=oi(Tn.Months,bn.Abbreviated);break;case"MMMM":t=oi(Tn.Months,bn.Wide);break;case"MMMMM":t=oi(Tn.Months,bn.Narrow);break;case"LLL":t=oi(Tn.Months,bn.Abbreviated,Ir.Standalone);break;case"LLLL":t=oi(Tn.Months,bn.Wide,Ir.Standalone);break;case"LLLLL":t=oi(Tn.Months,bn.Narrow,Ir.Standalone);break;case"w":t=G1(1);break;case"ww":t=G1(2);break;case"W":t=G1(1,!0);break;case"d":t=Ji(In.Date,1);break;case"dd":t=Ji(In.Date,2);break;case"c":case"cc":t=Ji(In.Day,1);break;case"ccc":t=oi(Tn.Days,bn.Abbreviated,Ir.Standalone);break;case"cccc":t=oi(Tn.Days,bn.Wide,Ir.Standalone);break;case"ccccc":t=oi(Tn.Days,bn.Narrow,Ir.Standalone);break;case"cccccc":t=oi(Tn.Days,bn.Short,Ir.Standalone);break;case"E":case"EE":case"EEE":t=oi(Tn.Days,bn.Abbreviated);break;case"EEEE":t=oi(Tn.Days,bn.Wide);break;case"EEEEE":t=oi(Tn.Days,bn.Narrow);break;case"EEEEEE":t=oi(Tn.Days,bn.Short);break;case"a":case"aa":case"aaa":t=oi(Tn.DayPeriods,bn.Abbreviated);break;case"aaaa":t=oi(Tn.DayPeriods,bn.Wide);break;case"aaaaa":t=oi(Tn.DayPeriods,bn.Narrow);break;case"b":case"bb":case"bbb":t=oi(Tn.DayPeriods,bn.Abbreviated,Ir.Standalone,!0);break;case"bbbb":t=oi(Tn.DayPeriods,bn.Wide,Ir.Standalone,!0);break;case"bbbbb":t=oi(Tn.DayPeriods,bn.Narrow,Ir.Standalone,!0);break;case"B":case"BB":case"BBB":t=oi(Tn.DayPeriods,bn.Abbreviated,Ir.Format,!0);break;case"BBBB":t=oi(Tn.DayPeriods,bn.Wide,Ir.Format,!0);break;case"BBBBB":t=oi(Tn.DayPeriods,bn.Narrow,Ir.Format,!0);break;case"h":t=Ji(In.Hours,1,-12);break;case"hh":t=Ji(In.Hours,2,-12);break;case"H":t=Ji(In.Hours,1);break;case"HH":t=Ji(In.Hours,2);break;case"m":t=Ji(In.Minutes,1);break;case"mm":t=Ji(In.Minutes,2);break;case"s":t=Ji(In.Seconds,1);break;case"ss":t=Ji(In.Seconds,2);break;case"S":t=Ji(In.FractionalSeconds,1);break;case"SS":t=Ji(In.FractionalSeconds,2);break;case"SSS":t=Ji(In.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Lw(xl.Short);break;case"ZZZZZ":t=Lw(xl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Lw(xl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Lw(xl.Long);break;default:return null}return q1[n]=t,t}(u);c+=f?f(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Pw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Dl(n,t){const e=function tie(n){return To(n)[ri.LocaleId]}(n);if(I_[e]=I_[e]||{},I_[e][t])return I_[e][t];let i="";switch(t){case"shortDate":i=Mw(n,is.Short);break;case"mediumDate":i=Mw(n,is.Medium);break;case"longDate":i=Mw(n,is.Long);break;case"fullDate":i=Mw(n,is.Full);break;case"shortTime":i=Nw(n,is.Short);break;case"mediumTime":i=Nw(n,is.Medium);break;case"longTime":i=Nw(n,is.Long);break;case"fullTime":i=Nw(n,is.Full);break;case"short":const r=Dl(n,"shortTime"),o=Dl(n,"shortDate");i=Fw(Ow(n,is.Short),[r,o]);break;case"medium":const s=Dl(n,"mediumTime"),a=Dl(n,"mediumDate");i=Fw(Ow(n,is.Medium),[s,a]);break;case"long":const l=Dl(n,"longTime"),c=Dl(n,"longDate");i=Fw(Ow(n,is.Long),[l,c]);break;case"full":const u=Dl(n,"fullTime"),f=Dl(n,"fullDate");i=Fw(Ow(n,is.Full),[u,f])}return i&&(I_[e][t]=i),i}function Fw(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function na(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Ji(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function pie(n,t){switch(n){case In.FullYear:return t.getFullYear();case In.Month:return t.getMonth();case In.Date:return t.getDate();case In.Hours:return t.getHours();case In.Minutes:return t.getMinutes();case In.Seconds:return t.getSeconds();case In.FractionalSeconds:return t.getMilliseconds();case In.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===In.Hours)0===a&&-12===e&&(a=12);else if(n===In.FractionalSeconds)return function fie(n,t){return na(n,3).substring(0,t)}(a,t);const l=Ms(s,Wi.MinusSign);return na(a,t,l,i,r)}}function oi(n,t,e=Ir.Format,i=!1){return function(r,o){return function mie(n,t,e,i,r,o){switch(e){case Tn.Months:return function z1(n,t,e){const i=To(n),o=Ns([i[ri.MonthsFormat],i[ri.MonthsStandalone]],t);return Ns(o,e)}(t,r,i)[n.getMonth()];case Tn.Days:return function NU(n,t,e){const i=To(n),o=Ns([i[ri.DaysFormat],i[ri.DaysStandalone]],t);return Ns(o,e)}(t,r,i)[n.getDay()];case Tn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function sie(n){const t=To(n);return OU(t),(t[ri.ExtraData][2]||[]).map(i=>"string"==typeof i?W1(i):[W1(i[0]),W1(i[1])])}(t),u=function aie(n,t,e){const i=To(n);OU(i);const o=Ns([i[ri.ExtraData][0],i[ri.ExtraData][1]],t)||[];return Ns(o,e)||[]}(t,r,i),f=c.findIndex(m=>{if(Array.isArray(m)){const[_,v]=m,b=s>=_.hours&&a>=_.minutes,I=s<v.hours||s===v.hours&&a<v.minutes;if(_.hours<v.hours){if(b&&I)return!0}else if(b||I)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return function nie(n,t,e){const i=To(n),o=Ns([i[ri.DayPeriodsFormat],i[ri.DayPeriodsStandalone]],t);return Ns(o,e)}(t,r,i)[s<12?0:1];case Tn.Eras:return function iie(n,t){return Ns(To(n)[ri.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Lw(n){return function(t,e,i){const r=-1*i,o=Ms(e,Wi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case xl.Short:return(r>=0?"+":"")+na(s,2,o)+na(Math.abs(r%60),2,o);case xl.ShortGMT:return"GMT"+(r>=0?"+":"")+na(s,1,o);case xl.Long:return"GMT"+(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);case xl.Extended:return 0===i?"Z":(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const gie=0,Vw=4;function FU(n){return Pw(n.getFullYear(),n.getMonth(),n.getDate()+(Vw-n.getDay()))}function G1(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=FU(e),s=function _ie(n){const t=Pw(n,gie,1).getDay();return Pw(n,0,1+(t<=Vw?Vw:Vw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return na(r,n,Ms(i,Wi.MinusSign))}}function Bw(n,t=!1){return function(e,i){return na(FU(e).getFullYear(),n,Ms(i,Wi.MinusSign),t)}}const q1={};function LU(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function VU(n){return n instanceof Date&&!isNaN(n.valueOf())}function HU(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const J1=/\s+/,zU=[];let xc=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=zU,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(J1):zU}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(J1):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(J1).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Il),T(C_),T(nt),T(Vo))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Pie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Os=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Pie(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),WU(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{WU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(Il))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function WU(n,t){n.context.$implicit=t.item}let Hr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Fie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){GU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){GU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Fie{constructor(){this.$implicit=null,this.ngIf=null}}function GU(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Je(t)}'.`)}class eS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let x_=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),tS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new eS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(x_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),qU=(()=>{class n{constructor(e,i,r){r._addDefault(new eS(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(x_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Dc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Zn]})}return n})();const Zie=new oe("DATE_PIPE_DEFAULT_TIMEZONE"),Yie=new oe("DATE_PIPE_DEFAULT_OPTIONS");let ZU=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return PU(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function ia(n,t){return new W(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(T(ks,16),T(Zie,24),T(Yie,24))};static#t=this.\u0275pipe=zi({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Gf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const QU="browser";function jw(n){return"server"===n}let ure=(()=>{class n{static#e=this.\u0275prov=de({token:n,providedIn:"root",factory:()=>new dre(O(wt),window)})}return n})();class dre{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hre(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class XU{}class Pre extends qne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sS extends Pre{static makeCurrent(){!function Gne(n){U1||(U1=n)}(new sS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fre(){return S_=S_||document.querySelector("base"),S_?S_.getAttribute("href"):null}();return null==e?null:function Lre(n){$w=$w||document.createElement("a"),$w.setAttribute("href",n);const t=$w.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){S_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return HU(document.cookie,t)}}let $w,S_=null,Bre=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const aS=new oe("EventManagerPlugins");let ij=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(aS),O(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class rj{constructor(t){this._doc=t}}const lS="ng-app-id";let oj=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jw(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${lS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(lS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(lS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(Kg),O(mD,8),O(Ss))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const cS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uS=/%COMP%/g,zre=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function aj(n,t){return t.map(e=>e.replace(uS,n))}let dS=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=jw(a),this.defaultRenderer=new hS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oo.ShadowDom&&(i={...i,encapsulation:Oo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof cj?r.applyToHost(e):r instanceof fS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Oo.Emulated:o=new cj(l,c,i,this.appId,u,s,a,f);break;case Oo.ShadowDom:return new qre(l,c,e,i,s,a,this.nonce,f);default:o=new fS(l,c,i,u,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(ij),O(oj),O(Kg),O(zre),O(wt),O(Ss),O(He),O(mD))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class hS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(cS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(lj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(lj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new W(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=cS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=cS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(bc.DashCase|bc.Important)?t.style.setProperty(e,i,r&bc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&bc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Tc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function lj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qre extends hS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=aj(r.id,r.styles);for(const u of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fS extends hS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?aj(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cj extends fS{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function $re(n){return"_ngcontent-%COMP%".replace(uS,n)}(c),this.hostAttr=function Wre(n){return"_nghost-%COMP%".replace(uS,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Kre=(()=>{class n extends rj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const uj=["alt","control","meta","shift"],Zre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qre=(()=>{class n extends rj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),uj.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=Zre[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),uj.forEach(s=>{s!==r&&(0,Yre[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const hj=[{provide:Ss,useValue:QU},{provide:_L,useValue:function Xre(){sS.makeCurrent()},multi:!0},{provide:wt,useFactory:function eoe(){return function WZ(n){tD=n}(document),document},deps:[]}],toe=tU(Mne,"browser",hj),noe=new oe(""),fj=[{provide:Tw,useClass:class Vre{addToWindow(t){kn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new W(5103,!1);return o},kn.getAllAngularTestabilities=()=>t.getAllTestabilities(),kn.getAllAngularRootElements=()=>t.getAllRootElements(),kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(i=>{const r=kn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Tc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:YB,useClass:S1,deps:[He,A1,Tw]},{provide:S1,useClass:S1,deps:[He,A1,Tw]}],pj=[{provide:dD,useValue:"root"},{provide:As,useFactory:function Jre(){return new As},deps:[]},{provide:aS,useClass:Kre,multi:!0,deps:[wt,He,Ss]},{provide:aS,useClass:Qre,multi:!0,deps:[wt]},dS,oj,ij,{provide:If,useExisting:dS},{provide:XU,useClass:Bre,deps:[]},[]];let mj=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Kg,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(noe,12))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[...pj,...fj],imports:[Gf,Nne]})}return n})(),gj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new i:function roe(){return new gj(O(wt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let mS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new(i||n):O(vj),r},providedIn:"root"})}return n})(),vj=(()=>{class n extends mS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ur.NONE:return i;case Ur.HTML:return Ra(i,"HTML")?ts(i):aL(this._doc,String(i)).toString();case Ur.STYLE:return Ra(i,"Style")?ts(i):i;case Ur.SCRIPT:if(Ra(i,"Script"))return ts(i);throw new W(5200,!1);case Ur.URL:return Ra(i,"URL")?ts(i):j0(String(i));case Ur.RESOURCE_URL:if(Ra(i,"ResourceURL"))return ts(i);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(e){return function XZ(n){return new GZ(n)}(e)}bypassSecurityTrustStyle(e){return function JZ(n){return new qZ(n)}(e)}bypassSecurityTrustScript(e){return function eY(n){return new KZ(n)}(e)}bypassSecurityTrustUrl(e){return function tY(n){return new ZZ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function nY(n){return new YZ(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:function(i){let r=null;return r=i?new i:function loe(n){return new vj(n.get(wt))}(O($i)),r},providedIn:"root"})}return n})();const{isArray:coe}=Array,{getPrototypeOf:uoe,prototype:doe,keys:hoe}=Object;function wj(n){if(1===n.length){const t=n[0];if(coe(t))return{args:t,keys:null};if(function foe(n){return n&&"object"==typeof n&&uoe(n)===doe}(t)){const e=hoe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:poe}=Array;function gS(n){return Ie(t=>function moe(n,t){return poe(t)?n(...t):n(t)}(n,t))}function Ej(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Cj(...n){const t=mo(n),{args:e,keys:i}=wj(n),r=new at(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let f=!1;ve(e[u]).subscribe(De(o,m=>{f||(f=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?Ej(i,a):a),o.complete())}))}});return t?r.pipe(gS(t)):r}let Ij=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(nt))};static#t=this.\u0275dir=X({type:n})}return n})(),rd=(()=>{class n extends Ij{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,features:[Ke]})}return n})();const rs=new oe("NgValueAccessor"),goe={provide:rs,useExisting:$(()=>_S),multi:!0};let _S=(()=>{class n extends rd{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Ae("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[bt([goe]),Ke]})}return n})();const _oe={provide:rs,useExisting:$(()=>Ac),multi:!0},voe=new oe("CompositionEventMode");let Ac=(()=>{class n extends Ij{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yoe(){const n=Tc()?Tc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(nt),T(voe,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ae("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bt([_oe]),Ke]})}return n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Tj(n){return null!=n&&"number"==typeof n.length}const Tr=new oe("NgValidators"),kc=new oe("NgAsyncValidators"),boe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class A_{static min(t){return function xj(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Dj(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Sj(t)}static requiredTrue(t){return function Aj(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return Rj(t)}static minLength(t){return function kj(n){return t=>Rc(t.value)||!Tj(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Mj(n){return t=>Tj(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Nj(n){if(!n)return Ww;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Rc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Bj(t)}static composeAsync(t){return Uj(t)}}function Sj(n){return Rc(n.value)?{required:!0}:null}function Rj(n){return Rc(n.value)||boe.test(n.value)?null:{email:!0}}function Ww(n){return null}function Oj(n){return null!=n}function Pj(n){return l_(n)?E(n):n}function Fj(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Lj(n,t){return t.map(e=>e(n))}function Vj(n){return n.map(t=>function woe(n){return!n.validate}(t)?t:e=>t.validate(e))}function Bj(n){if(!n)return null;const t=n.filter(Oj);return 0==t.length?null:function(e){return Fj(Lj(e,t))}}function yS(n){return null!=n?Bj(Vj(n)):null}function Uj(n){if(!n)return null;const t=n.filter(Oj);return 0==t.length?null:function(e){return Cj(Lj(e,t).map(Pj)).pipe(Ie(Fj))}}function vS(n){return null!=n?Uj(Vj(n)):null}function jj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Hj(n){return n._rawValidators}function zj(n){return n._rawAsyncValidators}function bS(n){return n?Array.isArray(n)?n:[n]:[]}function Gw(n,t){return Array.isArray(n)?n.includes(t):n===t}function $j(n,t){const e=bS(t);return bS(n).forEach(r=>{Gw(e,r)||e.push(r)}),e}function Wj(n,t){return bS(t).filter(e=>!Gw(n,e))}class Gj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Do extends Gj{get formDirective(){return null}get path(){return null}}class Fa extends Gj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let od=(()=>{class n extends qj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Fa,2))};static#t=this.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ke]})}return n})(),R_=(()=>{class n extends qj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Do,10))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ke]})}return n})();const k_="VALID",Kw="INVALID",qf="PENDING",M_="DISABLED";function CS(n){return(Zw(n)?n.validators:n)||null}function IS(n,t){return(Zw(t)?t.asyncValidators:n)||null}function Zw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Qj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===k_}get invalid(){return this.status===Kw}get pending(){return this.status==qf}get disabled(){return this.status===M_}get enabled(){return this.status!==M_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($j(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($j(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Wj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Wj(t,this._rawAsyncValidators))}hasValidator(t){return Gw(this._rawValidators,t)}hasAsyncValidator(t){return Gw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=M_,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=k_,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k_||this.status===qf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M_:k_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qf,this._hasOwnPendingAsyncValidator=!0;const e=Pj(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?M_:this.errors?Kw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qf)?qf:this._anyControlsHaveStatus(Kw)?Kw:k_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Toe(n){return Array.isArray(n)?yS(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function xoe(n){return Array.isArray(n)?vS(n):n||null}(this._rawAsyncValidators)}}class Yw extends Qj{constructor(t,e,i){super(CS(e),IS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Yj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new W(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Zj(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new W(1e3,"");if(!i[e])throw new W(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const sd=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>N_}),N_="always";function Qw(n,t){return[...t.path,n]}function O_(n,t,e=N_){TS(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Aoe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Xj(n,t)})}(n,t),function koe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Roe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Xj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Soe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Xw(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),eE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function TS(n,t){const e=Hj(n);null!==t.validator?n.setValidators(jj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=zj(n);null!==t.asyncValidator?n.setAsyncValidators(jj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Jw(t._rawValidators,r),Jw(t._rawAsyncValidators,r)}function eE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Hj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=zj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Jw(t._rawValidators,i),Jw(t._rawAsyncValidators,i),e}function Xj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jj(n,t){TS(n,t)}function DS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function eH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function SS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ac?e=o:function Ooe(n){return Object.getPrototypeOf(n.constructor)===rd}(o)?i=o:r=o}),r||i||e||null}const Foe={provide:Do,useExisting:$(()=>Mc)},P_=(()=>Promise.resolve())();let Mc=(()=>{class n extends Do{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Yw({},yS(e),vS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){P_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),O_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){P_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){P_.then(()=>{const i=this._findContainer(e.path),r=new Yw({});Jj(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){P_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){P_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(T(Tr,10),T(kc,10),T(sd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Ae("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Foe]),Ke]})}return n})();function tH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function nH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nc=class extends Qj{constructor(t=null,e,i){super(CS(e),IS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=nH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Boe={provide:Fa,useExisting:$(()=>ad)},oH=(()=>Promise.resolve())();let ad=(()=>{class n extends Fa{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Nc,this._registered=!1,this.name="",this.update=new Pe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SS(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),DS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){O_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){oH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&$f(i);oH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Qw(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(T(Do,9),T(Tr,10),T(kc,10),T(rs,10),T(ur,8),T(sd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([Boe]),Ke,Zn]})}return n})(),F_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Uoe={provide:rs,useExisting:$(()=>AS),multi:!0};let AS=(()=>{class n extends rd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Ae("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[bt([Uoe]),Ke]})}return n})();const joe={provide:rs,useExisting:$(()=>RS),multi:!0};let sH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Hoe=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:sH})}return n})(),RS=(()=>{class n extends rd{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ce(sd,{optional:!0})??N_}ngOnInit(){this._control=this._injector.get(Fa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(nt),T(Hoe),T($i))};static#t=this.\u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Ae("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[bt([joe]),Ke]})}return n})();const kS=new oe("NgModelWithFormControlWarning"),Woe={provide:Do,useExisting:$(()=>Kf)};let Kf=(()=>{class n extends Do{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return O_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Xw(e.control||null,e,!1),function Poe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,eH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Xw(i||null,e),(n=>n instanceof Nc)(r)&&(O_(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Jj(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Moe(n,t){return eE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TS(this.form,this),this._oldForm&&eE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(Tr,10),T(kc,10),T(sd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Ae("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Woe]),Ke,Zn]})}return n})();const Koe={provide:Fa,useExisting:$(()=>OS)};let OS=(()=>{class n extends Fa{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SS(0,o)}ngOnChanges(e){this._added||this._setUpControl(),DS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Qw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(T(Do,13),T(Tr,10),T(kc,10),T(rs,10),T(kS,8))};static#n=this.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([Koe]),Ke,Zn]})}return n})(),ld=(()=>{class n{constructor(){this._validator=Ww}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ww,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,features:[Zn]})}return n})();const ise={provide:Tr,useExisting:$(()=>tE),multi:!0};let tE=(()=>{class n extends ld{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$f,this.createValidator=e=>Sj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},features:[bt([ise]),Ke]})}return n})();const ose={provide:Tr,useExisting:$(()=>VS),multi:!0};let VS=(()=>{class n extends ld{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=$f,this.createValidator=e=>Rj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[bt([ose]),Ke]})}return n})(),vH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[sH]})}return n})(),use=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sd,useValue:e.callSetDisabledState??N_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[vH]})}return n})(),dse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:sd,useValue:e.callSetDisabledState??N_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[vH]})}return n})();function nE(...n){const t=Xo(n),e=mo(n),{args:i,keys:r}=wj(n);if(0===i.length)return E([],t);const o=new at(function hse(n,t,e=qn){return i=>{wH(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)wH(t,()=>{const c=E(n[l],t);let u=!1;c.subscribe(De(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Ej(r,s):qn));return e?o.pipe(gS(e)):o}function wH(n,t,e){n?nr(e,n,t):t()}const iE=ie(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Zf(...n){return function fse(){return cn(1)}()(E(n,Xo(n)))}function BS(n){return new at(t=>{ve(n()).subscribe(t)})}function cd(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new at(t?r=>t.schedule(i,0,r):i)}function US(){return se((n,t)=>{let e=null;n._refCount++;const i=De(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class jS extends at{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,fe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ft;const e=this.getSubject();t.add(this.source.subscribe(De(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ft.EMPTY)}return t}refCount(){return US()(this)}}function Qn(n){return n<=0?()=>yn:se((t,e)=>{let i=0;t.subscribe(De(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Oc(...n){const t=Xo(n);return se((e,i)=>{(t?Zf(n,e,t):Zf(n,e)).subscribe(i)})}function Hn(n,t){return se((e,i)=>{let r=0;e.subscribe(De(i,o=>n.call(t,o,r++)&&i.next(o)))})}function rE(n){return se((t,e)=>{let i=!1;t.subscribe(De(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function EH(n=pse){return se((t,e)=>{let i=!1;t.subscribe(De(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pse(){return new iE}function Pc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):qn,Qn(1),e?rE(t):EH(()=>new iE))}function Yf(n,t){return S(t)?Kt(n,t,1):Kt(n,1)}function mi(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?se((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(De(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):qn}function Sl(n){return se((t,e)=>{let o,i=null,r=!1;i=t.subscribe(De(e,void 0,void 0,s=>{o=ve(n(s,Sl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Qf(n,t){return se(function mse(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(De(s,u=>{const f=c++;l=a?n(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function HS(n){return n<=0?()=>yn:se((t,e)=>{let i=[];t.subscribe(De(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function CH(n){return Ie(()=>n)}function Xf(n){return se((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Et(n){return se((t,e)=>{ve(n).subscribe(De(e,()=>e.complete(),We)),!e.closed&&t.subscribe(e)})}const Lt="primary",L_=Symbol("RouteTitle");class _se{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jf(n){return new _se(n)}function yse(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function La(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!IH(n[r],t[r]))return!1;return!0}function IH(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function TH(n){return n.length>0?n[n.length-1]:null}function Fc(n){return function bH(n){return!!n&&(n instanceof at||S(n.lift)&&S(n.subscribe))}(n)?n:l_(n)?E(Promise.resolve(n)):R(n)}const bse={exact:function SH(n,t,e){if(!ud(n.segments,t.segments)||!oE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!SH(n.children[i],t.children[i],e))return!1;return!0},subset:AH},xH={exact:function wse(n,t){return La(n,t)},subset:function Ese(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>IH(n[e],t[e]))},ignored:()=>!0};function DH(n,t,e){return bse[e.paths](n.root,t.root,e.matrixParams)&&xH[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function AH(n,t,e){return RH(n,t,t.segments,e)}function RH(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ud(r,e)||t.hasChildren()||!oE(r,e,i))}if(n.segments.length===e.length){if(!ud(n.segments,e)||!oE(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!AH(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ud(n.segments,r)&&oE(n.segments,r,i)&&n.children[Lt])&&RH(n.children[Lt],t,o,i)}}function oE(n,t,e){return t.every((i,r)=>xH[e](n[r].parameters,i.parameters))}class ep{constructor(t=new On([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jf(this.queryParams)),this._queryParamMap}toString(){return Tse.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sE(this)}}class V_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jf(this.parameters)),this._parameterMap}toString(){return NH(this)}}function ud(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let B_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return new zS},providedIn:"root"})}return n})();class zS{parse(t){const e=new Fse(t);return new ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${U_(t.root,!0)}`,i=function Sse(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${aE(e)}=${aE(r)}`).join("&"):`${aE(e)}=${aE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function xse(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Tse=new zS;function sE(n){return n.segments.map(t=>NH(t)).join("/")}function U_(n,t){if(!n.hasChildren())return sE(n);if(t){const e=n.children[Lt]?U_(n.children[Lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Lt&&i.push(`${r}:${U_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ise(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Lt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Lt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Lt?[U_(n.children[Lt],!1)]:[`${r}:${U_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${sE(n)}/${e[0]}`:`${sE(n)}/(${e.join("//")})`}}function kH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aE(n){return kH(n).replace(/%3B/gi,";")}function $S(n){return kH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lE(n){return decodeURIComponent(n)}function MH(n){return lE(n.replace(/\+/g,"%20"))}function NH(n){return`${$S(n.path)}${function Dse(n){return Object.keys(n).map(t=>`;${$S(t)}=${$S(n[t])}`).join("")}(n.parameters)}`}const Ase=/^[^\/()?;#]+/;function WS(n){const t=n.match(Ase);return t?t[0]:""}const Rse=/^[^\/()?;=#]+/,Mse=/^[^=?&#]+/,Ose=/^[^&#]+/;class Fse{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new On(t,e)),i}parseSegment(){const t=WS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(t),new V_(lE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function kse(n){const t=n.match(Rse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=WS(this.remaining);r&&(i=r,this.capture(i))}t[lE(e)]=lE(i)}parseQueryParam(t){const e=function Nse(n){const t=n.match(Mse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Pse(n){const t=n.match(Ose);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=MH(e),o=MH(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=WS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new W(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Lt]:new On([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new W(4011,!1)}}function OH(n){return n.segments.length>0?new On([],{[Lt]:n}):n}function PH(n){const t={};for(const i of Object.keys(n.children)){const o=PH(n.children[i]);if(i===Lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Lse(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new On(n.segments.concat(t.segments),t.children)}return n}(new On(n.segments,t))}function dd(n){return n instanceof ep}function FH(n){let t;const r=OH(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new On(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function LH(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return GS(r,r,r,e,i);const o=function Bse(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BH(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new BH(e,t,i)}(t);if(o.toRoot())return GS(r,r,new On([],{}),e,i);const s=function Use(n,t,e){if(n.isAbsolute)return new uE(t,!0,0);if(!e)return new uE(t,!1,NaN);if(null===e.parent)return new uE(e,!0,0);const i=cE(n.commands[0])?0:1;return function jse(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new W(4005,!1);r=i.segments.length}return new uE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?H_(s.segmentGroup,s.index,o.commands):UH(s.segmentGroup,s.index,o.commands);return GS(r,s.segmentGroup,a,e,i)}function cE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function j_(n){return"object"==typeof n&&null!=n&&n.outlets}function GS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===t?e:VH(n,t,e);const a=OH(PH(s));return new ep(a,o,r)}function VH(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:VH(o,t,e)}),new On(n.segments,i)}class BH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&cE(i[0]))throw new W(4003,!1);const r=i.find(j_);if(r&&r!==TH(i))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function UH(n,t,e){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return H_(n,t,e);const i=function zse(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(j_(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!HH(l,c,s))return o;i+=2}else{if(!HH(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new On(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new On(n.segments.slice(i.pathIndex),n.children),H_(o,0,r)}return i.match&&0===r.length?new On(n.segments,{}):i.match&&!n.hasChildren()?qS(n,t,e):i.match?H_(n,0,r):qS(n,t,e)}function H_(n,t,e){if(0===e.length)return new On(n.segments,{});{const i=function Hse(n){return j_(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Lt)&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const o=H_(n.children[Lt],t,e);return new On(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=UH(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new On(n.segments,r)}}function qS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(j_(o)){const l=$se(o.outlets);return new On(i,l)}if(0===r&&cE(e[0])){i.push(new V_(n.segments[t].path,jH(e[0]))),r++;continue}const s=j_(o)?o.outlets[Lt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&cE(a)?(i.push(new V_(s,jH(a))),r+=2):(i.push(new V_(s,{})),r++)}return new On(i,{})}function $se(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=qS(new On([],{}),0,i))}),t}function jH(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function HH(n,t,e){return n==e.path&&La(t,e.parameters)}const z_="imperative";class Va{constructor(t,e){this.id=t,this.url=e}}class dE extends Va{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lc extends Va{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $_ extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tp extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class hE extends Va{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zH extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gse extends Va{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zse{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yse{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qse{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xse{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jse{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $H{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class KS{}class ZS{constructor(t){this.url=t}}class tae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new W_,this.attachRef=null}}let W_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new tae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class WH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=YS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=YS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=QS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return QS(t,this._root).map(e=>e.value)}}function YS(n,t){if(n===t.value)return t;for(const e of t.children){const i=YS(n,e);if(i)return i}return null}function QS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=QS(n,e);if(i.length)return i.unshift(t),i}return[]}class Al{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function np(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class GH extends WH{constructor(t,e){super(t),this.snapshot=e,XS(this,t)}toString(){return this.snapshot.toString()}}function qH(n,t){const e=function nae(n,t){const s=new fE([],{},{},"",{},Lt,t,null,{});return new ZH("",new Al(s,[]))}(0,t),i=new w([new V_("",{})]),r=new w({}),o=new w({}),s=new w({}),a=new w(""),l=new Rl(i,r,s,a,o,Lt,t,e.root);return l.snapshot=e.root,new GH(new Al(l,[]),e)}class Rl{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[L_]))??R(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>Jf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>Jf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function iae(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class fE{get title(){return this.data?.[L_]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZH extends WH{constructor(t,e){super(e),this.url=t,XS(this,e)}toString(){return YH(this._root)}}function XS(n,t){t.value._routerState=n,t.children.forEach(e=>XS(n,e))}function YH(n){const t=n.children.length>0?` { ${n.children.map(YH).join(", ")} } `:"";return`${n.value}${t}`}function JS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,La(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),La(t.params,e.params)||n.paramsSubject.next(e.params),function vse(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!La(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),La(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function eA(n,t){const e=La(n.params,t.params)&&function Cse(n,t){return ud(n,t)&&n.every((e,i)=>La(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||eA(n.parent,t.parent))}let pE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=Ce(W_),this.location=Ce(Xi),this.changeDetector=Ce(ur),this.environmentInjector=Ce(Io),this.inputBinder=Ce(mE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rae(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]})}return n})();class rae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Rl?this.route:t===W_?this.childContexts:this.parent.get(t,e)}}const mE=new oe("");let QH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=nE([i.queryParams,i.params,i.data]).pipe(Ue(([o,s,a],l)=>(a={...o,...s,...a},0===l?R(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Wne(n){const t=en(n);if(!t)return null;const e=new n_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function G_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function sae(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return G_(n,i,r);return G_(n,i)})}(n,t,e);return new Al(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>G_(n,a)),s}}const i=function aae(n){return new Rl(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>G_(n,o));return new Al(i,r)}}const tA="ngNavigationCancelingError";function XH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=dd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=JH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function JH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[tA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function e3(n){return n&&n[tA]}let t3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Uo],decls:1,vars:0,template:function(i,r){1&i&&dt(0,"router-outlet")},dependencies:[pE],encapsulation:2})}return n})();function nA(n){const t=n.children&&n.children.map(nA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=t3),e}function ra(n){return n.outlet||Lt}function q_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mae{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),JS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=np(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=np(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=np(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=np(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eae(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xse(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(JS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),JS(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=q_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class n3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gE{constructor(t,e){this.component=t,this.route=e}}function gae(n,t,e){const i=n._root;return K_(i,t?t._root:null,e,[i.value])}function ip(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function xb(n){return null!==_h(n)}(n)?t.get(n):n:i}function K_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=np(t);return n.children.forEach(s=>{(function yae(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function vae(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ud(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ud(n.url,t.url)||!La(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eA(n,t)||!La(n.queryParams,t.queryParams);default:return!eA(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new n3(i)):(o.data=s.data,o._resolvedData=s._resolvedData),K_(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gE(a.outlet.component,s))}else s&&Z_(t,a,r),r.canActivateChecks.push(new n3(i)),K_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Z_(a,e.getContext(s),r)),r}function Z_(n,t,e){const i=np(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Z_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new gE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Y_(n){return"function"==typeof n}function i3(n){return n instanceof iE||"EmptyError"===n?.name}const _E=Symbol("INITIAL_VALUE");function rp(){return Ue(n=>nE(n.map(t=>t.pipe(Qn(1),Oc(_E)))).pipe(Ie(t=>{for(const e of t)if(!0!==e){if(e===_E)return _E;if(!1===e||e instanceof ep)return e}return!0}),Hn(t=>t!==_E),Qn(1)))}function r3(n){return function ho(...n){return fo(n)}(mi(t=>{if(dd(t))throw XH(0,t)}),Ie(t=>!0===t))}class yE{constructor(t){this.segmentGroup=t||null}}class o3{constructor(t){this.urlTree=t}}function op(n){return cd(new yE(n))}function s3(n){return cd(new o3(n))}class Bae{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new W(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return R(i);if(r.numberOfChildren>1||!r.children[Lt])return cd(new W(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ep(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new On(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new W(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const iA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uae(n,t,e,i,r){const o=rA(n,t,e);return o.matched?(i=function cae(n,t){return n.providers&&!n._injector&&(n._injector=d1(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Fae(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?R(r.map(s=>{const a=ip(s,n);return Fc(function Tae(n){return n&&Y_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(rp(),r3()):R(!0)}(i,t,e).pipe(Ie(s=>!0===s?o:{...iA}))):R(o)}function rA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...iA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||yse)(e,n,t);if(!r)return{...iA};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function a3(n,t,e,i){return e.length>0&&function zae(n,t,e){return e.some(i=>vE(n,t,i)&&ra(i)!==Lt)}(n,e,i)?{segmentGroup:new On(t,Hae(i,new On(e,n.children))),slicedSegments:[]}:0===e.length&&function $ae(n,t,e){return e.some(i=>vE(n,t,i))}(n,e,i)?{segmentGroup:new On(n.segments,jae(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new On(n.segments,n.children),slicedSegments:e}}function jae(n,t,e,i,r){const o={};for(const s of i)if(vE(n,e,s)&&!r[ra(s)]){const a=new On([],{});o[ra(s)]=a}return{...r,...o}}function Hae(n,t){const e={};e[Lt]=t;for(const i of n)if(""===i.path&&ra(i)!==Lt){const r=new On([],{});e[ra(i)]=r}return e}function vE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Kae{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Bae(this.urlSerializer,this.urlTree)}noMatchError(t){return new W(4002,!1)}recognize(){const t=a3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe(Sl(e=>{if(e instanceof o3)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof yE?this.noMatchError(e):e}),Ie(e=>{const i=new fE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new Al(i,e),o=new ZH("",r),s=function Vse(n,t,e=null,i=null){return LH(FH(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Lt).pipe(Sl(i=>{throw i instanceof yE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=KH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return E(r).pipe(Yf(o=>{const s=i.children[o],a=function fae(n,t){const e=n.filter(i=>ra(i)===t);return e.push(...n.filter(i=>ra(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),Qf((o,s)=>(o.push(...s),o)),rE(null),function gse(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,o)=>n(r,o,i)):qn,HS(1),e?rE(t):EH(()=>new iE))}(),Kt(o=>{if(null===o)return op(i);const s=l3(o);return function Zae(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),R(s)}))}processSegment(t,e,i,r,o,s){return E(e).pipe(Yf(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Sl(l=>{if(l instanceof yE)return R(null);throw l}))),Pc(a=>!!a),Sl(a=>{if(i3(a))return function Gae(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?R([]):op(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Wae(n,t,e,i){return!!(ra(n)===i||i!==Lt&&vE(t,e,n))&&("**"===n.path||rA(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):op(r):op(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?s3(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new On(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=rA(e,r,o);if(!a)return op(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?s3(f):this.applyRedirects.lineralizeSegments(r,f).pipe(Kt(m=>this.processSegment(t,i,e,m.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?TH(r).parameters:{};a=R({snapshot:new fE(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,c3(i),ra(i),i.component??i._loadedComponent??null,i,u3(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Uae(e,i,r,t).pipe(Ie(({matched:l,consumedSegments:c,remainingSegments:u,parameters:f})=>l?{snapshot:new fE(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,c3(i),ra(i),i.component??i._loadedComponent??null,i,u3(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ue(l=>null===l?op(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ue(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:f,consumedSegments:m,remainingSegments:_}=l,{segmentGroup:v,slicedSegments:b}=a3(e,m,_,c);if(0===b.length&&v.hasChildren())return this.processChildren(u,c,v).pipe(Ie(M=>null===M?null:[new Al(f,M)]));if(0===c.length&&0===b.length)return R([new Al(f,[])]);const I=ra(i)===o;return this.processSegment(u,c,v,b,I?Lt:o,!0).pipe(Ie(M=>[new Al(f,M)]))}))))}getChildConfig(t,e,i){return e.children?R({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?R({routes:e._loadedRoutes,injector:e._loadedInjector}):function Pae(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?R(!0):R(r.map(s=>{const a=ip(s,n);return Fc(function wae(n){return n&&Y_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(rp(),r3())}(t,e,i).pipe(Kt(r=>r?this.configLoader.loadChildren(t,e).pipe(mi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Vae(n){return cd(JH(!1,3))}())):R({routes:[],injector:t})}}function Yae(n){const t=n.value.routeConfig;return t&&""===t.path}function l3(n){const t=[],e=new Set;for(const i of n){if(!Yae(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=l3(i.children);t.push(new Al(i.value,r))}return t.filter(i=>!e.has(i))}function c3(n){return n.data||{}}function u3(n){return n.resolve||{}}function d3(n){return"string"==typeof n.title||null===n.title}function oA(n){return Ue(t=>{const e=n(t);return e?E(e).pipe(Ie(()=>t)):R(t)})}const sp=new oe("ROUTES");let sA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ce(GB)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Fc(e.loadComponent()).pipe(Ie(h3),mi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Xf(()=>{this.componentLoaders.delete(e)})),r=new jS(i,()=>new H).pipe(US());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ile(n,t,e,i){return Fc(n.loadChildren()).pipe(Ie(h3),Kt(r=>r instanceof nB||Array.isArray(r)?R(r):E(t.compileModuleAsync(r))),Ie(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(sp,[],{optional:!0,self:!0}).flat()),{routes:s.map(nA),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Xf(()=>{this.childrenLoaders.delete(i)})),s=new jS(o,()=>new H).pipe(US());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h3(n){return function rle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let bE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H,this.transitionAbortSubject=new H,this.configLoader=Ce(sA),this.environmentInjector=Ce(Io),this.urlSerializer=Ce(B_),this.rootContexts=Ce(W_),this.inputBindingEnabled=null!==Ce(mE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Yse(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zse(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new w({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:z_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hn(o=>0!==o.id),Ie(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{this.currentTransition=o;let s=!1,a=!1;return R(o).pipe(mi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ue(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new tp(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),yn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(Ue(m=>{const _=this.transitions?.getValue();return this.events.next(new dE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?yn:Promise.resolve(m)}),function Qae(n,t,e,i,r,o){return Kt(s=>function qae(n,t,e,i,r,o,s="emptyOnly"){return new Kae(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(Ie(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),mi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new zH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:_,source:v,restoredState:b,extras:I}=l,M=new dE(m,this.urlSerializer.serialize(_),v,b);this.events.next(M);const A=qH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:A,urlAfterRedirects:_,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},R(o)}{const m="";return this.events.next(new tp(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),yn}}),mi(l=>{const c=new Wse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ie(l=>(this.currentTransition=o={...l,guards:gae(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Dae(n,t){return Kt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?R({...e,guardsResult:!0}):function Sae(n,t,e,i){return E(n).pipe(Kt(r=>function Oae(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?R(o.map(a=>{const l=q_(t)??r,c=ip(a,l);return Fc(function Iae(n){return n&&Y_(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Pc())})).pipe(rp()):R(!0)}(r.component,r.route,e,t,i)),Pc(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function bae(n){return"boolean"==typeof n}(a)?function Aae(n,t,e,i){return E(t).pipe(Yf(r=>Zf(function kae(n,t){return null!==n&&t&&t(new Qse(n)),R(!0)}(r.route.parent,i),function Rae(n,t){return null!==n&&t&&t(new Jse(n)),R(!0)}(r.route,i),function Nae(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function _ae(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>BS(()=>R(s.guards.map(l=>{const c=q_(s.node)??e,u=ip(l,c);return Fc(function Cae(n){return n&&Y_(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Pc())})).pipe(rp())));return R(o).pipe(rp())}(n,r.path,e),function Mae(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return R(!0);const r=i.map(o=>BS(()=>{const s=q_(t)??e,a=ip(o,s);return Fc(function Eae(n){return n&&Y_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Pc())}));return R(r).pipe(rp())}(n,r.route,e))),Pc(r=>!0!==r,!0))}(i,o,n,t):R(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),mi(l=>{if(o.guardsResult=l.guardsResult,dd(l.guardsResult))throw XH(0,l.guardsResult);const c=new Gse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Hn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),oA(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(mi(c=>{const u=new qse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ue(c=>{let u=!1;return R(c).pipe(function Xae(n,t){return Kt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return R(e);let o=0;return E(r).pipe(Yf(s=>function Jae(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!d3(r)&&(o[L_]=r.title),function ele(n,t,e,i){const r=function tle(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return R({});const o={};return E(r).pipe(Kt(s=>function nle(n,t,e,i){const r=q_(t)??i,o=ip(n,r);return Fc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Pc(),mi(a=>{o[s]=a}))),HS(1),CH(o),Sl(s=>i3(s)?yn:cd(s)))}(o,n,t,i).pipe(Ie(s=>(n._resolvedData=s,n.data=KH(n,e).resolve,r&&d3(r)&&(n.data[L_]=r.title),null)))}(s.route,i,n,t)),mi(()=>o++),HS(1),Kt(s=>o===r.length?R(e):yn))})}(e.paramsInheritanceStrategy,this.environmentInjector),mi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),mi(c=>{const u=new Kse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),oA(l=>{const c=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(mi(m=>{u.component=m}),Ie(()=>{})));for(const m of u.children)f.push(...c(m));return f};return nE(c(l.targetSnapshot.root)).pipe(rE(),Qn(1))}),oA(()=>this.afterPreactivation()),Ie(l=>{const c=function oae(n,t,e){const i=G_(n,t._root,e?e._root:void 0);return new GH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),mi(()=>{this.events.next(new KS)}),((n,t,e,i)=>Ie(r=>(new mae(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),mi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Et(this.transitionAbortSubject.pipe(mi(l=>{throw l}))),Xf(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Sl(l=>{if(a=!0,e3(l))this.events.next(new $_(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function lae(n){return e3(n)&&dd(n.url)}(l)?this.events.next(new ZS(l.url)):o.resolve(!1);else{this.events.next(new hE(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return yn}))}))}cancelNavigationTransition(e,i,r){const o=new $_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f3(n){return n!==z_}let p3=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[L_]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return Ce(ole)},providedIn:"root"})}return n})(),ole=(()=>{class n extends p3{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(gj))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return Ce(lle)},providedIn:"root"})}return n})();class ale{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let lle=(()=>{class n extends ale{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wE=new oe("",{providedIn:"root",factory:()=>({})});let cle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:function(){return Ce(ule)},providedIn:"root"})}return n})(),ule=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Q_||{});function m3(n,t){n.events.pipe(Hn(e=>e instanceof Lc||e instanceof $_||e instanceof hE||e instanceof tp),Ie(e=>e instanceof Lc||e instanceof tp?Q_.COMPLETE:e instanceof $_&&(0===e.code||1===e.code)?Q_.REDIRECTING:Q_.FAILED),Hn(e=>e!==Q_.REDIRECTING),Qn(1)).subscribe(()=>{t()})}function dle(n){throw n}function hle(n,t,e){return t.parse("/")}const fle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ple={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ce(WB),this.isNgZoneEnabled=!1,this._events=new H,this.options=Ce(wE,{optional:!0})||{},this.pendingTasks=Ce(Cw),this.errorHandler=this.options.errorHandler||dle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ce(cle),this.routeReuseStrategy=Ce(sle),this.titleStrategy=Ce(p3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ce(sp,{optional:!0})?.flat()??[],this.navigationTransitions=Ce(bE),this.urlSerializer=Ce(B_),this.location=Ce(Rw),this.componentInputBindingEnabled=!!Ce(mE,{optional:!0}),this.eventsSubscription=new ft,this.isNgZoneEnabled=Ce(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ep,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(g3(i)&&this._events.next(i));if(i instanceof dE)f3(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof tp)this.rawUrlTree=r.rawUrl;else if(i instanceof zH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof KS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof $_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof ZS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f3(r.source)};this.scheduleNavigation(o,z_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof hE&&this.restoreHistory(r,!0),i instanceof Lc&&(this.navigated=!0),g3(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),z_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=FH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return LH(f,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=dd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,z_,null,i)}navigate(e,i={skipLocationChange:!1}){return function mle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new W(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...fle}:!1===i?{...ple}:i,dd(e))return DH(this.currentUrlTree,e,r);const o=this.parseUrl(e);return DH(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});const u=this.pendingTasks.add();return m3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g3(n){return!(n instanceof KS||n instanceof ZS)}let hd=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new H,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Lc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function cL(n,t,e){return function _Y(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?lL:sD}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(T(xr),T(Rl),Ts("tabindex"),T(Vo),T(nt),T(id))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ae("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",$f],skipLocationChange:["skipLocationChange","skipLocationChange",$f],replaceUrl:["replaceUrl","replaceUrl",$f],routerLink:"routerLink"},standalone:!0,features:[w2,Zn]})}return n})(),_3=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Lc&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(cn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=E(e).pipe(cn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function gle(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(xr),T(nt),T(Vo),T(ur),T(hd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&Ft(o,hd,5),2&i){let s;Le(s=Ve())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Zn]})}return n})();class y3{}let _le=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(e=>e instanceof Lc),Yf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=d1(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return E(r).pipe(cn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):R(null);const o=r.pipe(Kt(s=>null===s?R(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?E([o,this.loader.loadComponent(i)]).pipe(cn()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(xr),O(GB),O(Io),O(y3),O(sA))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aA=new oe("");let v3=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof dE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof tp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $H&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $H(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Sf()};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function kl(n,t){return{\u0275kind:n,\u0275providers:t}}function w3(){const n=Ce($i);return t=>{const e=n.get(ta);if(t!==e.components[0])return;const i=n.get(xr),r=n.get(E3);1===n.get(lA)&&i.initialNavigation(),n.get(C3,null,jt.Optional)?.setUpPreloading(),n.get(aA,null,jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const E3=new oe("",{factory:()=>new H}),lA=new oe("",{providedIn:"root",factory:()=>1}),C3=new oe("");function wle(n){return kl(0,[{provide:C3,useExisting:_le},{provide:y3,useExisting:n}])}const I3=new oe("ROUTER_FORROOT_GUARD"),Cle=[Rw,{provide:B_,useClass:zS},xr,W_,{provide:Rl,useFactory:function b3(n){return n.routerState.root},deps:[xr]},sA,[]];function Ile(){return new JB("Router",xr)}let T3=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Cle,[],{provide:sp,multi:!0,useValue:e},{provide:I3,useFactory:Sle,deps:[[xr,new Ds,new Bg]]},{provide:wE,useValue:i||{}},i?.useHash?{provide:id,useClass:Yne}:{provide:id,useClass:RU},{provide:aA,useFactory:()=>{const n=Ce(ure),t=Ce(He),e=Ce(wE),i=Ce(bE),r=Ce(B_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new v3(r,i,n,t,e)}},i?.preloadingStrategy?wle(i.preloadingStrategy).\u0275providers:[],{provide:JB,multi:!0,useFactory:Ile},i?.initialNavigation?Ale(i):[],i?.bindToComponentInputs?kl(8,[QH,{provide:mE,useExisting:QH}]).\u0275providers:[],[{provide:x3,useFactory:w3},{provide:M1,multi:!0,useExisting:x3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:sp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(I3,8))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();function Sle(n){return"guarded"}function Ale(n){return["disabled"===n.initialNavigation?kl(3,[{provide:I1,multi:!0,useFactory:()=>{const t=Ce(xr);return()=>{t.setUpLocationChangeListener()}}},{provide:lA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kl(2,[{provide:lA,useValue:0},{provide:I1,multi:!0,deps:[$i],useFactory:t=>{const e=t.get(Kne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(xr),o=t.get(E3);m3(r,()=>{i(!0)}),t.get(bE).afterPreactivation=()=>(i(!0),o.closed?R(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const x3=new oe(""),kle=["addListener","removeListener"],Mle=["addEventListener","removeEventListener"],Nle=["on","off"];function Dr(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return Dr(n,t,e).pipe(gS(i));const[r,o]=function Fle(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?Mle.map(s=>a=>n[s](t,a,e)):function Ole(n){return S(n.addListener)&&S(n.removeListener)}(n)?kle.map(D3(n,t)):function Ple(n){return S(n.on)&&S(n.off)}(n)?Nle.map(D3(n,t)):[];if(!r&&Jt(n))return Kt(s=>Dr(s,t,e))(ve(n));if(!r)throw new TypeError("Invalid event target");return new at(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function D3(n,t){return e=>i=>n[e](t,i)}class Lle extends ft{constructor(t,e){super()}schedule(t,e=0){return this}}const EE={setInterval(n,t,...e){const{delegate:i}=EE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=EE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class CE extends Lle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return EE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&EE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ye(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const cA={now:()=>(cA.delegate||Date).now(),delegate:void 0};class X_{constructor(t,e=X_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}X_.now=cA.now;class IE extends X_{constructor(t,e=X_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const fd=new IE(CE),Vle=fd;function uA(n=0,t,e=Vle){let i=-1;return null!=t&&(Kn(t)?e=t:i=t),new at(r=>{let o=function Ble(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:Ule}=Array;function S3(n){return 1===n.length&&Ule(n[0])?n[0]:n}function A3(...n){return 1===(n=S3(n)).length?ve(n[0]):new at(function jle(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(ve(n[i]).subscribe(De(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function dA(...n){const t=mo(n),e=S3(n);return e.length?new at(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)ve(e[s]).subscribe(De(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):yn}function TE(...n){const t=mo(n);return se((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ve(n[l]).subscribe(De(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(qn))&&(s=null))},We));e.subscribe(De(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}function R3(n,t){return t?e=>Zf(t.pipe(Qn(1),function zle(){return se((n,t)=>{n.subscribe(De(t,We))})}()),e.pipe(R3(n))):Kt((e,i)=>ve(n(e,i)).pipe(Qn(1),CH(e)))}function hA(n){return Hn((t,e)=>n<=e)}var ace={left:"right",right:"left",bottom:"top",top:"bottom"};function AE(n){return n.replace(/left|right|bottom|top/g,function(t){return ace[t]})}function Ba(n){return n.split("-")[0]}var lce={start:"end",end:"start"};function j3(n){return n.replace(/start|end/g,function(t){return lce[t]})}var os="top",oa="bottom",sa="right",ss="left",_A="auto",ey=[os,oa,sa,ss],lp="start",ty="end",H3="viewport",ny="popper",z3=ey.reduce(function(n,t){return n.concat([t+"-"+lp,t+"-"+ty])},[]),$3=[].concat(ey,[_A]).reduce(function(n,t){return n.concat([t,t+"-"+lp,t+"-"+ty])},[]),bce=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function as(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function pd(n){return n instanceof as(n).Element||n instanceof Element}function Ps(n){return n instanceof as(n).HTMLElement||n instanceof HTMLElement}function yA(n){return!(typeof ShadowRoot>"u")&&(n instanceof as(n).ShadowRoot||n instanceof ShadowRoot)}function Bc(n){return((pd(n)?n.ownerDocument:n.document)||window.document).documentElement}var md=Math.max,RE=Math.min,cp=Math.round;function vA(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function W3(){return!/^((?!chrome|android).)*safari/i.test(vA())}function up(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&Ps(n)&&(r=n.offsetWidth>0&&cp(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&cp(i.height)/n.offsetHeight||1);var a=(pd(n)?as(n):window).visualViewport,l=!W3()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:u,right:c+f,bottom:u+m,left:c,x:c,y:u}}function bA(n){var t=as(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wA(n){return up(Bc(n)).left+bA(n).scrollLeft}function Ml(n){return as(n).getComputedStyle(n)}function Ua(n){return n?(n.nodeName||"").toLowerCase():null}function kE(n){return"html"===Ua(n)?n:n.assignedSlot||n.parentNode||(yA(n)?n.host:null)||Bc(n)}function EA(n){var t=Ml(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function G3(n){return["html","body","#document"].indexOf(Ua(n))>=0?n.ownerDocument.body:Ps(n)&&EA(n)?n:G3(kE(n))}function iy(n,t){var e;void 0===t&&(t=[]);var i=G3(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),o=as(i),s=r?[o].concat(o.visualViewport||[],EA(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(iy(kE(s)))}function Cce(n){return["table","td","th"].indexOf(Ua(n))>=0}function q3(n){return Ps(n)&&"fixed"!==Ml(n).position?n.offsetParent:null}function ry(n){for(var t=as(n),e=q3(n);e&&Cce(e)&&"static"===Ml(e).position;)e=q3(e);return e&&("html"===Ua(e)||"body"===Ua(e)&&"static"===Ml(e).position)?t:e||function Ice(n){var t=/firefox/i.test(vA());if(/Trident/i.test(vA())&&Ps(n)&&"fixed"===Ml(n).position)return null;var r=kE(n);for(yA(r)&&(r=r.host);Ps(r)&&["html","body"].indexOf(Ua(r))<0;){var o=Ml(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(n)||t}function K3(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&yA(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function CA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Z3(n,t,e){return t===H3?CA(function wce(n,t){var e=as(n),i=Bc(n),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=W3();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+wA(n),y:l}}(n,e)):pd(t)?function Tce(n,t){var e=up(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):CA(function Ece(n){var t,e=Bc(n),i=bA(n),r=null==(t=n.ownerDocument)?void 0:t.body,o=md(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=md(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+wA(n),l=-i.scrollTop;return"rtl"===Ml(r||e).direction&&(a+=md(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Bc(n)))}function dp(n){return n.split("-")[1]}function IA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Y3(n){var l,t=n.reference,e=n.element,i=n.placement,r=i?Ba(i):null,o=i?dp(i):null,s=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(r){case os:l={x:s,y:t.y-e.height};break;case oa:l={x:s,y:t.y+t.height};break;case sa:l={x:t.x+t.width,y:a};break;case ss:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?IA(r):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case lp:l[c]=l[c]-(t[u]/2-e[u]/2);break;case ty:l[c]=l[c]+(t[u]/2-e[u]/2)}}return l}function X3(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function J3(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function TA(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,o=t.strategy,s=void 0===o?n.strategy:o,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,u=void 0===c?H3:c,f=t.elementContext,m=void 0===f?ny:f,_=t.altBoundary,v=void 0!==_&&_,b=t.padding,I=void 0===b?0:b,M=X3("number"!=typeof I?I:J3(I,ey)),V=n.rects.popper,K=n.elements[v?m===ny?"reference":ny:m],ae=function Dce(n,t,e,i){var r="clippingParents"===t?function xce(n){var t=iy(kE(n)),i=["absolute","fixed"].indexOf(Ml(n).position)>=0&&Ps(n)?ry(n):n;return pd(i)?t.filter(function(r){return pd(r)&&K3(r,i)&&"body"!==Ua(r)}):[]}(n):[].concat(t),o=[].concat(r,[e]),a=o.reduce(function(l,c){var u=Z3(n,c,i);return l.top=md(u.top,l.top),l.right=RE(u.right,l.right),l.bottom=RE(u.bottom,l.bottom),l.left=md(u.left,l.left),l},Z3(n,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(pd(K)?K:K.contextElement||Bc(n.elements.popper),l,u,s),xe=up(n.elements.reference),Be=Y3({reference:xe,element:V,strategy:"absolute",placement:r}),ct=CA(Object.assign({},V,Be)),mn=m===ny?ct:xe,gn={top:ae.top-mn.top+M.top,bottom:mn.bottom-ae.bottom+M.bottom,left:ae.left-mn.left+M.left,right:mn.right-ae.right+M.right},Ki=n.modifiersData.offset;if(m===ny&&Ki){var Qr=Ki[r];Object.keys(gn).forEach(function(Mi){var tl=[sa,oa].indexOf(Mi)>=0?1:-1,nl=[os,oa].indexOf(Mi)>=0?"y":"x";gn[Mi]+=Qr[nl]*tl})}return gn}const kce={name:"flip",enabled:!0,phase:"main",fn:function Rce(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,l=e.fallbackPlacements,c=e.padding,u=e.boundary,f=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,v=void 0===_||_,b=e.allowedAutoPlacements,I=t.options.placement,M=Ba(I),V=l||(M!==I&&v?function Ace(n){if(Ba(n)===_A)return[];var t=AE(n);return[j3(n),t,j3(t)]}(I):[AE(I)]),K=[I].concat(V).reduce(function(Nn,_a){return Nn.concat(Ba(_a)===_A?function Sce(n,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?$3:l,u=dp(t.placement),f=u?a?z3:z3.filter(function(v){return dp(v)===u}):ey,m=f.filter(function(v){return c.indexOf(v)>=0});0===m.length&&(m=f);var _=m.reduce(function(v,b){return v[b]=TA(n,{placement:b,boundary:r,rootBoundary:o,padding:s})[Ba(b)],v},{});return Object.keys(_).sort(function(v,b){return _[v]-_[b]})}(t,{placement:_a,boundary:u,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:b}):_a)},[]),ae=t.rects.reference,xe=t.rects.popper,Be=new Map,ct=!0,mn=K[0],gn=0;gn<K.length;gn++){var Ki=K[gn],Qr=Ba(Ki),Mi=dp(Ki)===lp,tl=[os,oa].indexOf(Qr)>=0,nl=tl?"width":"height",Ne=TA(t,{placement:Ki,boundary:u,rootBoundary:f,altBoundary:m,padding:c}),Ze=tl?Mi?sa:ss:Mi?oa:os;ae[nl]>xe[nl]&&(Ze=AE(Ze));var ut=AE(Ze),Ht=[];if(o&&Ht.push(Ne[Qr]<=0),a&&Ht.push(Ne[Ze]<=0,Ne[ut]<=0),Ht.every(function(Nn){return Nn})){mn=Ki,ct=!1;break}Be.set(Ki,Ht)}if(ct)for(var Yo=function(_a){var ph=K.find(function(Zi){var No=Be.get(Zi);if(No)return No.slice(0,_a).every(function(uo){return uo})});if(ph)return mn=ph,"break"},mr=v?3:1;mr>0&&"break"!==Yo(mr);mr--);t.placement!==mn&&(t.modifiersData[i]._skip=!0,t.placement=mn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oy(n,t,e){return md(n,RE(t,e))}function xA(n){var t=up(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const Pce={name:"preventOverflow",enabled:!0,phase:"main",fn:function Oce(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,m=e.tether,_=void 0===m||m,v=e.tetherOffset,b=void 0===v?0:v,I=TA(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),M=Ba(t.placement),A=dp(t.placement),V=!A,K=IA(M),ae=function Mce(n){return"x"===n?"y":"x"}(K),xe=t.modifiersData.popperOffsets,Be=t.rects.reference,ct=t.rects.popper,mn="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,gn="number"==typeof mn?{mainAxis:mn,altAxis:mn}:Object.assign({mainAxis:0,altAxis:0},mn),Ki=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Qr={x:0,y:0};if(xe){if(o){var Mi,tl="y"===K?os:ss,nl="y"===K?oa:sa,Ne="y"===K?"height":"width",Ze=xe[K],ut=Ze+I[tl],Ht=Ze-I[nl],Ni=_?-ct[Ne]/2:0,Yo=A===lp?Be[Ne]:ct[Ne],mr=A===lp?-ct[Ne]:-Be[Ne],gs=t.elements.arrow,Nn=_&&gs?xA(gs):{width:0,height:0},_a=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ph=_a[tl],Zi=_a[nl],No=oy(0,Be[Ne],Nn[Ne]),uo=V?Be[Ne]/2-Ni-No-ph-gn.mainAxis:Yo-No-ph-gn.mainAxis,Om=V?-Be[Ne]/2+Ni+No+Zi+gn.mainAxis:mr+No+Zi+gn.mainAxis,mh=t.elements.arrow&&ry(t.elements.arrow),JAe=mh?"y"===K?mh.clientTop||0:mh.clientLeft||0:0,IK=null!=(Mi=Ki?.[K])?Mi:0,tRe=Ze+Om-IK,TK=oy(_?RE(ut,Ze+uo-IK-JAe):ut,Ze,_?md(Ht,tRe):Ht);xe[K]=TK,Qr[K]=TK-Ze}if(a){var xK,gh=xe[ae],qT="y"===ae?"height":"width",DK=gh+I["x"===K?os:ss],SK=gh-I["x"===K?oa:sa],VP=-1!==[os,ss].indexOf(M),AK=null!=(xK=Ki?.[ae])?xK:0,RK=VP?DK:gh-Be[qT]-ct[qT]-AK+gn.altAxis,kK=VP?gh+Be[qT]+ct[qT]-AK-gn.altAxis:SK,MK=_&&VP?function Nce(n,t,e){var i=oy(n,t,e);return i>e?e:i}(RK,gh,kK):oy(_?RK:DK,gh,_?kK:SK);xe[ae]=MK,Qr[ae]=MK-gh}t.modifiersData[i]=Qr}},requiresIfExists:["offset"]},Bce={name:"arrow",enabled:!0,phase:"main",fn:function Lce(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Ba(e.placement),l=IA(a),u=[ss,sa].indexOf(a)>=0?"height":"width";if(o&&s){var f=function(t,e){return X3("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:J3(t,ey))}(r.padding,e),m=xA(o),_="y"===l?os:ss,v="y"===l?oa:sa,b=e.rects.reference[u]+e.rects.reference[l]-s[l]-e.rects.popper[u],I=s[l]-e.rects.reference[l],M=ry(o),A=M?"y"===l?M.clientHeight||0:M.clientWidth||0:0,xe=A/2-m[u]/2+(b/2-I/2),Be=oy(f[_],xe,A-m[u]-f[v]);e.modifiersData[i]=((t={})[l]=Be,t.centerOffset=Be-xe,t)}},effect:function Vce(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||K3(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zce(n,t,e){void 0===e&&(e=!1);var i=Ps(t),r=Ps(t)&&function Hce(n){var t=n.getBoundingClientRect(),e=cp(t.width)/n.offsetWidth||1,i=cp(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),o=Bc(t),s=up(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Ua(t)||EA(o))&&(a=function jce(n){return n!==as(n)&&Ps(n)?function Uce(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):bA(n)}(t)),Ps(t)?((l=up(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=wA(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function $ce(n){var t=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||r(o)}),i}function Gce(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var ez={placement:"bottom",modifiers:[],strategy:"absolute"};function tz(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Kce(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,o=void 0===r?ez:r;return function(a,l,c){void 0===c&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ez,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:u,setOptions:function(M){var A="function"==typeof M?M(u.options):M;b(),u.options=Object.assign({},o,u.options,A),u.scrollParents={reference:pd(a)?iy(a):a.contextElement?iy(a.contextElement):[],popper:iy(l)};var V=function Wce(n){var t=$ce(n);return bce.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function qce(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=V.filter(function(K){return K.enabled}),function v(){u.orderedModifiers.forEach(function(I){var A=I.options,K=I.effect;if("function"==typeof K){var ae=K({state:u,name:I.name,instance:_,options:void 0===A?{}:A});f.push(ae||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var M=u.elements,A=M.reference,V=M.popper;if(tz(A,V)){u.rects={reference:zce(A,ry(V),"fixed"===u.options.strategy),popper:xA(V)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(gn){return u.modifiersData[gn.name]=Object.assign({},gn.data)});for(var K=0;K<u.orderedModifiers.length;K++)if(!0!==u.reset){var ae=u.orderedModifiers[K],xe=ae.fn,Be=ae.options;"function"==typeof xe&&(u=xe({state:u,options:void 0===Be?{}:Be,name:ae.name,instance:_})||u)}else u.reset=!1,K=-1}}},update:Gce(function(){return new Promise(function(I){_.forceUpdate(),I(u)})}),destroy:function(){b(),m=!0}};if(!tz(a,l))return _;function b(){f.forEach(function(I){return I()}),f=[]}return _.setOptions(c).then(function(I){!m&&c.onFirstUpdate&&c.onFirstUpdate(I)}),_}}var ME={passive:!0};const Yce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Zce(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=as(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",e.update,ME)}),a&&l.addEventListener("resize",e.update,ME),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",e.update,ME)}),a&&l.removeEventListener("resize",e.update,ME)}},data:{}},Xce={name:"popperOffsets",enabled:!0,phase:"read",fn:function Qce(n){var t=n.state;t.modifiersData[n.name]=Y3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Jce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nz(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,f=n.isFixed,m=s.x,_=void 0===m?0:m,v=s.y,b=void 0===v?0:v,I="function"==typeof u?u({x:_,y:b}):{x:_,y:b};_=I.x,b=I.y;var M=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),V=ss,K=os,ae=window;if(c){var xe=ry(e),Be="clientHeight",ct="clientWidth";xe===as(e)&&"static"!==Ml(xe=Bc(e)).position&&"absolute"===a&&(Be="scrollHeight",ct="scrollWidth"),(r===os||(r===ss||r===sa)&&o===ty)&&(K=oa,b-=(f&&xe===ae&&ae.visualViewport?ae.visualViewport.height:xe[Be])-i.height,b*=l?1:-1),r!==ss&&(r!==os&&r!==oa||o!==ty)||(V=sa,_-=(f&&xe===ae&&ae.visualViewport?ae.visualViewport.width:xe[ct])-i.width,_*=l?1:-1)}var Mi,Ki=Object.assign({position:a},c&&Jce),Qr=!0===u?function eue(n,t){var i=n.y,r=t.devicePixelRatio||1;return{x:cp(n.x*r)/r||0,y:cp(i*r)/r||0}}({x:_,y:b},as(e)):{x:_,y:b};return _=Qr.x,b=Qr.y,Object.assign({},Ki,l?((Mi={})[K]=A?"0":"",Mi[V]=M?"0":"",Mi.transform=(ae.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",Mi):((t={})[K]=A?b+"px":"",t[V]=M?_+"px":"",t.transform="",t))}const nue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function tue(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,l=void 0===a||a,c={placement:Ba(t.placement),variation:dp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,nz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,nz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oue=[Yce,Xce,nue,{name:"applyStyles",enabled:!0,phase:"write",fn:function iue(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Ps(o)||!Ua(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function rue(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!Ps(r)||!Ua(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}],sue=Kce({defaultModifiers:oue});const DA=["*"],Gue=["dialog"];function Ade(n,t){if(1&n&&(B(0,"strong",3),Te(1),L()),2&n){const e=pe();G(1),Ri(e.header)}}function Rde(n,t){}function kde(n,t){if(1&n){const e=Yn();B(0,"div",4),he(1,Rde,0,0,"ng-template",5),B(2,"button",6),Ae("click",function(){return vt(e),gt(pe().hide())}),L()()}if(2&n){const e=pe(),i=lr(1);G(1),Z("ngTemplateOutlet",e.contentHeaderTpl||i)}}function Uc(n){return"string"==typeof n}function gd(n){return null!=n}function hp(n){return(n||document.body).getBoundingClientRect()}const az={animation:!0,transitionTimerDelayMs:5},Ude=()=>{},{transitionTimerDelayMs:jde}=az,sy=new Map,io=(n,t,e,i)=>{let r=i.context||{};const o=sy.get(t);if(o)switch(i.runningTransition){case"continue":return yn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),sy.delete(t)}const s=e(t,i.animation,r)||Ude;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),R(void 0).pipe(function Vde(n){return t=>new at(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new H,l=new H,c=a.pipe(function Hle(...n){return t=>Zf(t,R(...n))}(!0));sy.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Bde(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Dr(t,"transitionend").pipe(Et(c),Hn(({target:_})=>_===t));A3(uA(u+jde).pipe(Et(c)),f,l).pipe(Et(c)).subscribe(()=>{sy.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},AA=(n,t,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:s}=n;function a(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return r||(r=function Hde(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,o),e.maxSize=r,n.style[o]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),hp(n),s.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{a(),s.remove("collapsing"),n.style[o]=""};a()};let fp=(()=>{class n{constructor(){this.animation=az.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wde=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(fp))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MA=(()=>{class n{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Pe,this.shown=new Pe,this.hidden=new Pe,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return io(this._zone,this._element.nativeElement,AA,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(Wde),T(He))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&st("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),gz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),vz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),bz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();var Xn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Xn||{});const VE=(n,t)=>!!t&&t.some(e=>e.contains(n)),Tz=(n,t)=>!t||null!=function Lde(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),ghe=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function BA(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>ghe?()=>setTimeout(()=>n(),100):n)(()=>{const c=Dr(t,"keydown").pipe(Et(r),Hn(m=>m.which===Xn.Escape),mi(m=>m.preventDefault())),u=Dr(t,"mousedown").pipe(Ie(m=>{const _=m.target;return 2!==m.button&&!VE(_,s)&&("inside"===e?VE(_,o)&&Tz(_,a):"outside"===e?!VE(_,o):Tz(_,a)||!VE(_,o))}),Et(r)),f=Dr(t,"mouseup").pipe(TE(u),Hn(([m,_])=>_),function $le(n,t=fd){const e=uA(n,t);return R3(()=>e)}(0),Et(r));A3([c.pipe(Ie(m=>0)),f.pipe(Ie(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}const xz=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Dz(n){const t=Array.from(n.querySelectorAll(xz)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let yhe=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vhe=/\s+/,bhe=/  +/gi,whe={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Che=/^left/,Ihe=/^right/,The=/^start/,xhe=/^end/;function Az({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(vhe),o=i.findIndex(c=>"auto"===c);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(u=>-1!==u.search("^"+c))&&i.splice(o++,1,c)});const s=i.map(c=>function Ehe(n,t){const[e,i]=whe[n];return t&&i||e}(c,e.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){const u=new RegExp(t+"(-[a-z]+)*","gi"),f=c.elements.popper,m=c.placement;let _=f.className;_=_.replace(u,""),_+=` ${function Dhe(n,t){let[e,i]=t.split("-");const r=e.replace(Che,"start").replace(Ihe,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(The,"top").replace(xhe,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}(t,m)}`,_=_.trim().replace(bhe," "),f.className=_}},kce,Pce,Bce,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Rz(n){return n}new Date(1882,10,12),new Date(2174,10,25);let Bz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Hz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();class wd{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class Uhe{constructor(t,e,i,r,o,s){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Qn(1),Kt(()=>io(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?io(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(mi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):R(void 0)}_getContentRef(t,e){if(t){if(t instanceof hn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new wd([i.rootNodes],i)}return new wd([[this._renderer.createText(`${t}`)]])}return new wd([])}}let jhe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{io(this._zone,this._el.nativeElement,(e,i)=>{i&&hp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return io(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Cc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),st("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Uo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class zz{update(t){}close(t){}dismiss(t){}}const Hhe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],zhe=["animation","backdropClass"];class $he{_applyWindowOptions(t,e){Hhe.forEach(i=>{gd(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){zhe.forEach(i=>{gd(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new H,this._dismissed=new H,this._hidden=new H,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function rz(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():R(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),dA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var $A=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}($A||{});let Whe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new H,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Pe,this.shown=new H,this.hidden=new H}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Uc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=dA(io(this._zone,e,()=>e.classList.remove("show"),i),io(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};dA(io(this._zone,this._elRef.nativeElement,(o,s)=>{s&&hp(o),o.classList.add("show")},e),io(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Dr(e,"keydown").pipe(Et(this._closed$),Hn(r=>r.which===Xn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss($A.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Dr(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),mi(()=>i=!1),Ue(()=>Dr(e,"mouseup").pipe(Et(this._closed$),Qn(1))),Hn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Dr(e,"click").pipe(Et(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss($A.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Dz(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&io(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(wt),T(nt),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&wn(Gue,7),2&i){let o;Le(o=Ve())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Cc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),st("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Uo],ngContentSelectors:DA,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(no(),B(0,"div",0,1)(2,"div",2),dn(3),L()()),2&i&&Cc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Ghe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qhe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new H,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Pe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Dr(t,"focusin").pipe(Et(e),Ie(o=>o.target));Dr(t,"keydown").pipe(Et(e),Hn(o=>o.which===Xn.Tab),TE(r)).subscribe(([o,s])=>{const[a,l]=Dz(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Dr(t,"click").pipe(Et(e),TE(r),Ie(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:gd(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new zz,l=(e=r.injector||e).get(Io,null)||this._environmentInjector,c=this._getContentRef(e,l,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),m=new $he(f,c,u,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(Qn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=B1(jhe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=B1(Whe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof hn?this._createFromTemplateRef(r,o):Uc(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new wd([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new wd([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new wd([[i]])}_createFromComponent(e,i,r,o,s){const l=B1(r,{environmentInjector:i,elementInjector:$i.create({providers:[{provide:zz,useValue:o}],parent:e})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new wd([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(O(ta),O($i),O(Io),O(wt),O(Ghe),O(If),O(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Khe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(fp))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zhe=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(O($i),O(qhe),O(Khe))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$z=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[Zhe]})}return n})(),qz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),t$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const rfe={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let n$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),i$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),r$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),o$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),s$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const dfe=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),hp(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},hfe=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let ffe=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(fp))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),mfe=(()=>{class n{constructor(e,i,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new Pe,this.hidden=new Pe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=io(this._zone,this._element.nativeElement,hfe,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=io(this._zone,this._element.nativeElement,dfe,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ts("aria-live"),T(ffe),T(He),T(nt))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(1&i&&Ft(o,pfe,7,hn),2&i){let s;Le(s=Ve())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(Pt("aria-live",r.ariaLive),st("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Zn,Uo],ngContentSelectors:DA,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(no(),he(0,Ade,2,1,"ng-template",null,0,jo),he(2,kde,3,1,"ng-template",1),B(3,"div",2),dn(4),L()),2&i&&(G(2),Z("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Hr,Dc],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),a$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),GA=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(fp))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gfe=0,_fe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&(jr("id",r.id),Cc("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),st("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Uo],ngContentSelectors:DA,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(no(),dt(0,"div",0),B(1,"div",1),dn(2),L())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),yfe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new Pe,this.hidden=new Pe,this._ngbTooltipWindowId="ngb-tooltip-"+gfe++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.popperOptions=s.popperOptions,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Uhe(_fe,r,o,i,this._ngZone,u),this._positioning=function UA(){const n=Ce(yhe);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||Rz)(Az(e,n));t=sue(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||Rz)(Az(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),BA(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function sfe(n,t,e,i,r,o=0,s=0){const a=function ofe(n){const t=(n||"").trim();if(0===t.length)return[];const e=t.split(/\s+/).map(r=>r.split(":")).map(r=>rfe[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(t);if(0===a.length)return()=>{};const l=new Set,c=[];let u;function f(_,v){n.addEventListener(_,v),c.push(()=>n.removeEventListener(_,v))}function m(_,v){clearTimeout(u),v>0?u=setTimeout(_,v):_()}for(const[_,v]of a)v?(f(_,()=>{l.add(_),m(()=>l.size>0&&i(),o)}),f(v,()=>{l.delete(_),m(()=>0===l.size&&r(),s)})):f(_,()=>e()?m(r,s):m(i,o));return()=>c.forEach(_=>_())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Uc(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(Vo),T($i),T(Xi),T(GA),T(He),T(wt),T(ur),T(ta))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Zn]})}return n})(),qA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();new oe("live announcer delay",{providedIn:"root",factory:function vfe(){return 100}});let l$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),c$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const wfe=[mz,gz,vz,bz,Bz,Hz,$z,qz,c$,t$,n$,i$,r$,o$,s$,a$,qA,l$];let KA,Efe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[wfe,mz,gz,vz,bz,Bz,Hz,$z,qz,c$,t$,n$,i$,r$,o$,s$,a$,qA,l$]})}return n})();try{KA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{KA=!1}let _p,Sr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function cre(n){return n===QU}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ss))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const u$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d$(){if(_p)return _p;if("object"!=typeof document||!document)return _p=new Set(u$),_p;let n=document.createElement("input");return _p=new Set(u$.filter(t=>(n.setAttribute("type",t),n.type===t))),_p}let dy,Ed,ZA;function yp(n){return function Cfe(){if(null==dy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dy=!0}))}finally{dy=dy||!1}return dy}()?n:!!n.capture}function Ife(){if(null==Ed){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ed=!1,Ed;if("scrollBehavior"in document.documentElement.style)Ed=!0;else{const n=Element.prototype.scrollTo;Ed=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ed}function jc(n){return n.composedPath?n.composedPath()[0]:n.target}function YA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function g$(n,t=fd){return se((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(De(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Pn(n){return null!=n&&"false"!=`${n}`}function GE(n,t=0){return function Ufe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function qE(n){return Array.isArray(n)?n:[n]}function er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hc(n){return n instanceof nt?n.nativeElement:n}let jfe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[jfe]})}return n})();const y$=new Set;let Cd,Hfe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$fe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zfe(n,t){if(!y$.has(n))try{Cd||(Cd=document.createElement("style"),t&&(Cd.nonce=t),Cd.setAttribute("type","text/css"),document.head.appendChild(Cd)),Cd.sheet&&(Cd.sheet.insertRule(`@media ${n} {body{ }}`,0),y$.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(mD,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $fe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Wfe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new H}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return v$(qE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=nE(v$(qE(e)).map(s=>this._registerQuery(s).observable));return o=Zf(o.pipe(Qn(1)),o.pipe(hA(1),g$(0))),o.pipe(Ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new at(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Oc(i),Ie(({matches:s})=>({query:e,matches:s})),Et(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(Hfe),O(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v$(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function w$(n,t,e){const i=KE(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function tR(n,t,e){const r=KE(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function KE(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const E$="cdk-describedby-message",ZE="cdk-describedby-host";let nR=0,Gfe=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+nR++,this._document=e,this._id=Ce(Kg)+"-"+nR++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=iR(i,r);"string"!=typeof i?(C$(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=iR(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ZE}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(ZE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");C$(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(iR(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=KE(e,"aria-describedby").filter(r=>0!=r.indexOf(E$));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);w$(e,"aria-describedby",r.messageElement.id),e.setAttribute(ZE,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,tR(e,"aria-describedby",r.messageElement.id),e.removeAttribute(ZE)}_isElementDescribedByMessage(e,i){const r=KE(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(Sr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iR(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function C$(n,t){n.id||(n.id=`${E$}-${t}-${nR++}`)}class qfe{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H,this._typeaheadSubscription=ft.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new H,this.change=new H,t instanceof b_&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(mi(e=>this._pressedLetters.push(e)),g$(t),Hn(()=>this._pressedLetters.length>0),Ie(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||vp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof b_?this._items.toArray():this._items}}class Kfe extends qfe{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function T$(n){return 0===n.buttons||0===n.detail}function x$(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const epe=new oe("cdk-input-modality-detector-options"),tpe={ignoreKeys:[18,17,224,91,16]},bp=yp({passive:!0,capture:!0});let npe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(T$(s)?"keyboard":"mouse"),this._mostRecentTarget=jc(s))},this._onTouchstart=s=>{x$(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jc(s))},this._options={...tpe,...o},this.modalityDetected=this._modality.pipe(hA(1)),this.modalityChanged=this.modalityDetected.pipe(lt()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,bp),r.addEventListener("mousedown",this._onMousedown,bp),r.addEventListener("touchstart",this._onTouchstart,bp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bp),document.removeEventListener("mousedown",this._onMousedown,bp),document.removeEventListener("touchstart",this._onTouchstart,bp))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(He),O(wt),O(epe,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ipe=new oe("liveAnnouncerElement",{providedIn:"root",factory:function rpe(){return null}}),ope=new oe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let spe=0,ape=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+spe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(ipe,8),O(He),O(wt),O(ope,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lpe=new oe("cdk-focus-monitor-default-options"),YE=yp({passive:!0,capture:!0});let S$=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H,this._rootNodeFocusAndBlurListener=a=>{for(let c=jc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Hc(e);if(!this._platform.isBrowser||1!==r.nodeType)return R();const o=function xfe(n){if(function Tfe(){if(null==ZA){const n=typeof document<"u"?document.head:null;ZA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ZA}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new H,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Hc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Hc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=jc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,YE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,YE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,YE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,YE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(He),O(Sr),O(npe),O(wt,8),O(lpe,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const A$="cdk-high-contrast-black-on-white",R$="cdk-high-contrast-white-on-black",rR="cdk-high-contrast-active";let k$=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ce(Wfe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(rR,A$,R$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(rR,A$):2===i&&e.add(rR,R$)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cpe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(O(k$))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[_$]})}return n})();const upe=new oe("cdk-dir-doc",{providedIn:"root",factory:function dpe(){return Ce(wt)}}),hpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wp=(()=>{class n{constructor(e){this.value="ltr",this.change=new Pe,e&&(this.value=function fpe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?hpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(upe,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const ppe=["text"];function mpe(n,t){if(1&n&&dt(0,"mat-pseudo-checkbox",6),2&n){const e=pe();Z("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function gpe(n,t){1&n&&dt(0,"mat-pseudo-checkbox",7),2&n&&Z("disabled",pe().disabled)}function _pe(n,t){if(1&n&&(B(0,"span",8),Te(1),L()),2&n){const e=pe();G(1),Cr("(",e.group.label,")")}}const ype=[[["mat-icon"]],"*"],vpe=["mat-icon","*"],wpe=new oe("mat-sanity-checks",{providedIn:"root",factory:function bpe(){return!0}});let Li=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!YA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(O(k$),O(wpe,8),O(wt))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[hy,hy]})}return n})();function oR(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Pn(t)}constructor(...t){super(...t),this._disabled=!1}}}function sR(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function aR(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function O$(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?GE(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function P$(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let F$=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Cpe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const L$=yp({passive:!0,capture:!0});class Ipe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=jc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,L$)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,L$)))}}const V$={enterDuration:225,exitDuration:150},B$=yp({passive:!0,capture:!0}),U$=["mousedown","touchstart"],j$=["mouseup","mouseleave","touchend","touchcancel"];class QE{static#e=this._eventManager=new Ipe;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...V$,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function xpe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),_=f.transitionDuration,v="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new Cpe(this,u,i,v);u.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let I=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(b),A=()=>this._destroyRipple(b);u.addEventListener("transitionend",M),u.addEventListener("transitioncancel",A),I={onTransitionEnd:M,onTransitionCancel:A}}),this._activeRipples.set(b,I),(v||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...V$,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Hc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,U$.forEach(i=>{QE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{j$.forEach(e=>{this._triggerElement.addEventListener(e,this,B$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=T$(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!x$(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(U$.forEach(e=>QE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&j$.forEach(e=>t.removeEventListener(e,this,B$)))}}const H$=new oe("mat-ripple-global-options");let XE=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new QE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(He),T(Sr),T(H$,8),T(Ys,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&st("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),lR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Li]})}return n})(),Dpe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ys,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&st("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Spe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li]})}return n})();const z$=new oe("MAT_OPTION_PARENT_COMPONENT"),$$=new oe("MatOptgroup");let Ape=0;class Rpe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let kpe=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Pn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ape++,this.onSelectionChange=new Pe,this._stateChanges=new H}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!vp(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Rpe(this,e))}static#e=this.\u0275fac=function(i){Sf()};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&wn(ppe,7),2&i){let o;Le(o=Ve())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),W$=(()=>{class n extends kpe{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(ur),T(z$,8),T($$,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Ae("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(jr("id",r.id),Pt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),st("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Ke],ngContentSelectors:vpe,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(no(ype),he(0,mpe,1,2,"mat-pseudo-checkbox",0),dn(1),B(2,"span",1,2),dn(4,1),L(),he(5,gpe,1,1,"mat-pseudo-checkbox",3),he(6,_pe,2,1,"span",4),dt(7,"div",5)),2&i&&(Z("ngIf",r.multiple),G(5),Z("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),G(1),Z("ngIf",r.group&&r.group._inert),G(1),Z("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[XE,Hr,Dpe],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),G$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[lR,Gf,Li,Spe]})}return n})();const q$={capture:!0},K$=["focus","click","mouseenter","touchstart"],cR="mat-ripple-loader-uninitialized",uR="mat-ripple-loader-class-name",Z$="mat-ripple-loader-centered",JE="mat-ripple-loader-disabled";let Ope=(()=>{class n{constructor(){this._document=Ce(wt,{optional:!0}),this._animationMode=Ce(Ys,{optional:!0}),this._globalRippleOptions=Ce(H$,{optional:!0}),this._platform=Ce(Sr),this._ngZone=Ce(He),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${cR}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of K$)this._document?.addEventListener(e,this._onInteraction,q$)})}ngOnDestroy(){for(const e of K$)this._document?.removeEventListener(e,this._onInteraction,q$)}configureRipple(e,i){e.setAttribute(cR,""),(i.className||!e.hasAttribute(uR))&&e.setAttribute(uR,i.className||""),i.centered&&e.setAttribute(Z$,""),i.disabled&&e.setAttribute(JE,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(JE,""):e.removeAttribute(JE)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(uR)),e.append(i);const r=new XE(new nt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(Z$),r.disabled=e.hasAttribute(JE),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(cR),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ppe=["mat-button",""],Fpe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Lpe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Vpe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Bpe=sR(oR(aR(class{constructor(n){this._elementRef=n}})));let Upe=(()=>{class n extends Bpe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Pn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Ce(S$),this._rippleLoader=Ce(Ope),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of Vpe)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Sf()};static#t=this.\u0275dir=X({type:n,features:[Ke]})}return n})(),Ep=(()=>{class n extends Upe{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(Sr),T(He),T(Ys,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("disabled",r.disabled||null),st("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ke],attrs:Ppe,ngContentSelectors:Lpe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(no(Fpe),dt(0,"span",0),dn(1),B(2,"span",1),dn(3,1),L(),dn(4,2),dt(5,"span",2)(6,"span",3)),2&i&&st("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),zpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,lR,Li]})}return n})();class eC{}class tC{}class Fs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $pe{encodeKey(t){return Y$(t)}encodeValue(t){return Y$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gpe=/%(\d[a-f0-9])/gi,qpe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y$(n){return encodeURIComponent(n).replace(Gpe,(t,e)=>qpe[e]??t)}function nC(n){return`${n}`}class zc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $pe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wpe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(nC):[nC(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(nC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(nC(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Kpe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Q$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function X$(n){return typeof Blob<"u"&&n instanceof Blob}function J$(n){return typeof FormData<"u"&&n instanceof FormData}class py{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Zpe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Fs),this.context||(this.context=new Kpe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new zc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Q$(this.body)||X$(this.body)||J$(this.body)||function Ype(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||J$(this.body)?null:X$(this.body)?this.body.type||null:Q$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),c)),new py(e,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var Id=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Id||{});class dR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hR extends dR{constructor(t={}){super(t),this.type=Id.ResponseHeader}clone(t={}){return new hR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cp extends dR{constructor(t={}){super(t),this.type=Id.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Cp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class e4 extends dR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let my=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof py)o=e;else{let l,c;l=r.headers instanceof Fs?r.headers:new Fs(r.headers),r.params&&(c=r.params instanceof zc?r.params:new zc({fromObject:r.params})),o=new py(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=R(o).pipe(Yf(l=>this.handler.handle(l)));if(e instanceof py||"events"===r.observe)return s;const a=s.pipe(Hn(l=>l instanceof Cp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new zc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,fR(r,i))}post(e,i,r={}){return this.request("POST",e,fR(r,i))}put(e,i,r={}){return this.request("PUT",e,fR(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(eC))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function i4(n,t){return t(n)}function Xpe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const pR=new oe(""),gy=new oe(""),r4=new oe("");function eme(){let n=null;return(t,e)=>{null===n&&(n=(Ce(pR,{optional:!0})??[]).reduceRight(Xpe,i4));const i=Ce(Cw),r=i.add();return n(t,e).pipe(Xf(()=>i.remove(r)))}}let o4=(()=>{class n extends eC{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ce(Cw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(gy),...this.injector.get(r4,[])]));this.chain=r.reduceRight((o,s)=>function Jpe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),i4)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Xf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(tC),O(Io))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const rme=/^\)\]\}',?\n/;let a4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new W(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?E(i.\u0275loadImpl()):R(null)).pipe(Ue(()=>new at(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,I)=>s.setRequestHeader(b,I.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=s.statusText||"OK",I=new Fs(s.getAllResponseHeaders()),M=function ome(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new hR({headers:I,status:s.status,statusText:b,url:M}),l},u=()=>{let{headers:b,status:I,statusText:M,url:A}=c(),V=null;204!==I&&(V=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=V?200:0);let K=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof V){const ae=V;V=V.replace(rme,"");try{V=""!==V?JSON.parse(V):null}catch(xe){V=ae,K&&(K=!1,V={error:xe,text:V})}}K?(o.next(new Cp({body:V,headers:b,status:I,statusText:M,url:A||void 0})),o.complete()):o.error(new e4({error:V,headers:b,status:I,statusText:M,url:A||void 0}))},f=b=>{const{url:I}=c(),M=new e4({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(M)};let m=!1;const _=b=>{m||(o.next(c()),m=!0);let I={type:Id.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),"text"===e.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},v=b=>{let I={type:Id.UploadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Id.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(XU))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const mR=new oe("XSRF_ENABLED"),l4=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),c4=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class u4{}let lme=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=HU(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(Ss),O(l4))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function cme(n,t){const e=n.url.toLowerCase();if(!Ce(mR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ce(u4).getToken(),r=Ce(c4);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var $c=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}($c||{});function ume(...n){const t=[my,a4,o4,{provide:eC,useExisting:o4},{provide:tC,useExisting:a4},{provide:gy,useValue:cme,multi:!0},{provide:mR,useValue:!0},{provide:u4,useClass:lme}];for(const e of n)t.push(...e.\u0275providers);return function lD(n){return{\u0275providers:n}}(t)}const d4=new oe("LEGACY_INTERCEPTOR_FN");function dme(){return function Td(n,t){return{\u0275kind:n,\u0275providers:t}}($c.LegacyInterceptors,[{provide:d4,useFactory:eme},{provide:gy,useExisting:d4,multi:!0}])}let hme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[ume(dme())]})}return n})();const yme=["*"];let rC;function _y(n){return function vme(){if(void 0===rC&&(rC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(rC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return rC}()?.createHTML(n)||n}function h4(n){return Error(`Unable to find icon with the name "${n}"`)}function f4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function p4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xd{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let oC=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new xd(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Ur.HTML,r);if(!s)throw p4(r);const a=_y(s);return this._addSvgIconConfig(e,i,new xd("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new xd(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Ur.HTML,i);if(!o)throw p4(i);const s=_y(o);return this._addSvgIconSetConfig(e,new xd("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Ur.RESOURCE_URL,e);if(!i)throw f4(e);const r=this._cachedIconsByUrl.get(i);return r?R(sC(r)):this._loadSvgIconFromConfig(new xd(e,null)).pipe(mi(o=>this._cachedIconsByUrl.set(i,o)),Ie(o=>sC(o)))}getNamedSvgIcon(e,i=""){const r=m4(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):cd(h4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?R(sC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ie(i=>sC(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?R(r):Cj(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Sl(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ur.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),R(null)})))).pipe(Ie(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw h4(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(mi(i=>e.svgText=i),Ie(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?R(null):this._fetchIcon(e).pipe(mi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(_y("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(_y("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function bme(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Ur.RESOURCE_URL,i);if(!s)throw f4(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Ie(c=>_y(c)),Xf(()=>this._inProgressUrlFetches.delete(s)),re());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(m4(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Eme(o)?new xd(o.url,null,o.options):new xd(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(my,8),O(mS),O(wt,8),O(As))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sC(n){return n.cloneNode(!0)}function m4(n,t){return n+":"+t}function Eme(n){return!(!n.url||!n.options)}const Cme=sR(class{constructor(n){this._elementRef=n}}),Ime=new oe("MAT_ICON_DEFAULT_OPTIONS"),Tme=new oe("mat-icon-location",{providedIn:"root",factory:function xme(){const n=Ce(wt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),g4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Dme=g4.map(n=>`[${n}]`).join(", "),Sme=/^url\(['"]?#(.*?)['"]?\)$/;let _4=(()=>{class n extends Cme{get inline(){return this._inline}set inline(e){this._inline=Pn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ft.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Dme),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)g4.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(Sme):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(oC),Ts("aria-hidden"),T(Tme),T(As),T(Ime,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Pt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),st("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ke],ngContentSelectors:yme,decls:1,vars:0,template:function(i,r){1&i&&(no(),dn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Ame=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Li]})}return n})(),Rme=(()=>{class n{constructor(e){this.ngbTConfig=e,e.placement="bottom",e.tooltipClass="tooltippp",e.animation=!0,e.closeDelay=2e3}static#e=this.\u0275fac=function(i){return new(i||n)(T(GA))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:10,vars:1,consts:[["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button"],[1,"icons"],[1,"d-inline"]],template:function(i,r){1&i&&(B(0,"ngb-toast",0)(1,"button",1)(2,"span",2)(3,"mat-icon"),Te(4,"restaurant"),L()(),B(5,"h3",3),Te(6,"Receptek"),L(),B(7,"span",2)(8,"mat-icon"),Te(9,"menu_book"),L()()()()),2&i&&Z("autohide",!1)},dependencies:[hd,mfe,yfe,Ep,_4],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}\n"],encapsulation:2})}return n})();var Ls=rt(534);(0,Ls.registerVersion)("firebase","10.6.0","app");const Pme=new class Ome extends IE{}(class Nme extends CE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),yy=new wc("ANGULARFIRE2_VERSION");class gR{constructor(){return((n,t)=>{const e=t?[t]:(0,Ls.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(Lme)}}const Lme="app-check";function Ip(){}class v4{zone;delegate;constructor(t,e=Pme){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class Vme{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ip,{},Ip,Ip)),e.pipe(mi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _R=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new v4(Zone.current)),this.insideAngular=e.run(()=>new v4(Zone.current,fd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(He))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Dd(n){return Tp().ngZone.run(()=>n())}function hr(n){return function Ume(n){return function(e){return(e=e.lift(new Vme(n.ngZone))).pipe(yr(n.outsideAngular),Oi(n.insideAngular))}}(Tp())(n)}const jme=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Dd(()=>n.apply(void 0,i))},Hme=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=Dd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ip,{},Ip,Ip))),i[o]=jme(i[o],e));const r=function Bme(n){return Tp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof at){const o=Tp();return r.pipe(yr(o.outsideAngular),Oi(o.insideAngular))}return Dd(()=>r)}return r instanceof at?r.pipe(hr):r instanceof Promise?Dd(()=>new Promise((o,s)=>r.then(a=>Dd(()=>o(a)),a=>Dd(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Dd(()=>r)};var la=rt(106);la.Z.registerVersion("firebase","10.6.0","app-compat");const Wme=["ngOnDestroy"];class b4{constructor(t){return t}}const vy=new oe("angularfire2.app.options"),by=new oe("angularfire2.app.name");function aC(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=la.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>la.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Kme("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new b4(s)}const Kme=(n,...t)=>{},Zme={provide:b4,useFactory:aC,deps:[vy,He,[new Ds,by]]};let Yme=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:vy,useValue:e},{provide:by,useValue:i}]}}constructor(e){la.Z.registerVersion("angularfire",yy.full,"core"),la.Z.registerVersion("angularfire",yy.full,"app-compat"),la.Z.registerVersion("angular",CL.full,e.toString())}static \u0275fac=function(i){return new(i||n)(O(Ss))};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[Zme]})}return n})();function yR(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Qme(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(w4("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Xme?" You may need to reload as Firebase is not HMR aware.":""}`),w4("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Xme=typeof module<"u"&&!!module.hot,w4=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],rt(365);class Jme extends H{constructor(t=1/0,e=1/0,i=cA){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function vR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,re({connector:()=>new Jme(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function E4(n,t){return S(t)?Ue(()=>n,t):Ue(()=>n)}const bR=new oe("angularfire2.auth.use-emulator"),wR=new oe("angularfire2.auth.settings"),ER=new oe("angularfire2.auth.tenant-id"),CR=new oe("angularfire2.auth.langugage-code"),IR=new oe("angularfire2.auth.use-device-language"),TR=new oe("angularfire.auth.persistence"),xR=(n,t,e,i,r,o,s,a)=>yR(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let wy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,u,f,m,_){const v=new H,b=R(void 0).pipe(Oi(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>Promise.resolve().then(rt.bind(rt,365)))),Ie(()=>aC(e,o,i)),Ie(I=>xR(I,o,a,c,u,f,l,m)),vR({bufferSize:1,refCount:!1}));if(jw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{b.pipe(Pc()).subscribe();const I=b.pipe(Ue(V=>V.getRedirectResult().then(K=>K,()=>null)),hr,vR({bufferSize:1,refCount:!1})),M=b.pipe(Ue(V=>new at(K=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(ae=>K.next(ae),ae=>K.error(ae),()=>K.complete()))})))),A=b.pipe(Ue(V=>new at(K=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(ae=>K.next(ae),ae=>K.error(ae),()=>K.complete()))}))));this.authState=I.pipe(E4(M),yr(s.outsideAngular),Oi(s.insideAngular)),this.user=I.pipe(E4(A),yr(s.outsideAngular),Oi(s.insideAngular)),this.idToken=this.user.pipe(Ue(V=>V?E(V.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(Ue(V=>V?E(V.getIdTokenResult()):R(null))),this.credential=x(I,v,this.authState.pipe(Hn(V=>!V))).pipe(Ie(V=>V?.user?V:null),yr(s.outsideAngular),Oi(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Wme.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{const f=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,f),f})})})}))(this,b,o,{spy:{apply:(I,M,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(V=>v.next(V))}}})}static \u0275fac=function(i){return new(i||n)(O(vy),O(by,8),O(Ss),O(He),O(_R),O(bR,8),O(wR,8),O(ER,8),O(CR,8),O(IR,8),O(TR,8),O(gR,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),tge=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",yy.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[wy]})}return n})();var Nl=rt(537),le=rt(861),D=rt(58),ls=rt(879);const C4="@firebase/database";let DR="";function SR(n){DR=n}class ige{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,D.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,D.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class rge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,D.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const T4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ige(t)}}catch{}return new rge},Sd=T4("localStorage"),AR=T4("sessionStorage"),xp=new ls.Yd("@firebase/database"),x4=function(){let n=1;return function(){return n++}}(),D4=function(n){const t=(0,D.dS)(n),e=new D.gQ;e.update(t);const i=e.digest();return D.US.encodeByteArray(i)},Ey=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ey.apply(null,i):t+="object"==typeof i?(0,D.Wl)(i):i,t+=" "}return t};let Ad=null,S4=!0;const A4=function(n,t){(0,D.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xp.logLevel=ls.in.VERBOSE,Ad=xp.log.bind(xp),t&&AR.set("logging_enabled",!0)):"function"==typeof n?Ad=n:(Ad=null,AR.remove("logging_enabled"))},Ar=function(...n){if(!0===S4&&(S4=!1,null===Ad&&!0===AR.get("logging_enabled")&&A4(!0)),Ad){const t=Ey.apply(null,n);Ad(t)}},Cy=function(n){return function(...t){Ar(n,...t)}},RR=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ey(...n);xp.error(t)},ja=function(...n){const t=`FIREBASE FATAL ERROR: ${Ey(...n)}`;throw xp.error(t),new Error(t)},ro=function(...n){const t="FIREBASE WARNING: "+Ey(...n);xp.warn(t)},lC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wc="[MIN_NAME]",Ol="[MAX_NAME]",Rd=function(n,t){if(n===t)return 0;if(n===Wc||t===Ol)return-1;if(t===Wc||n===Ol)return 1;{const e=M4(n),i=M4(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},age=function(n,t){return n===t?0:n<t?-1:1},Iy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(t))},kR=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,D.Wl)(t[i]),e+=":",e+=kR(n[t[i]]);return e+="}",e},R4=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Rr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const k4=function(n){(0,D.hu)(!lC(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let m=parseInt(u.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},dge=new RegExp("^-?(0*)\\d{1,10}$"),M4=function(n){if(dge.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Dp=function(n){try{n()}catch(t){setTimeout(()=>{throw ro("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ty=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class mge{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ro(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gge{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ar("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ro(t)}}let xy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const L4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U4="websocket",j4="long_polling";class NR{constructor(t,e,i,r,o=!1,s="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Sd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function H4(n,t,e){let i;if((0,D.hu)("string"==typeof t,"typeof type must == string"),(0,D.hu)("object"==typeof e,"typeof params must == object"),t===U4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==j4)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _ge(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Rr(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class yge{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,D.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,D.p$)(this.counters_)}}const OR={},PR={};function FR(n){const t=n.toString();return OR[t]||(OR[t]=new yge),OR[t]}class bge{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Dp(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gc{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cy(t),this.stats_=FR(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),H4(e,j4,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bge(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new LR((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gc.forceAllow_=!0}static forceDisallow(){Gc.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!Gc.forceAllow_&&(Gc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,D.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,D.h$)(e),r=R4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,D.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class LR{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=x4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=LR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ar("frame writing exception"),a.stack&&Ar(a.stack),Ar(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ar("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,D.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ar("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let uC=null;typeof MozWebSocket<"u"?uC=MozWebSocket:typeof WebSocket<"u"&&(uC=WebSocket);let Sp=(()=>{class n{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cy(this.connId),this.stats_=FR(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),H4(e,U4,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sd.set("previous_websocket_failure",!0);try{let r;if((0,D.Yr)()){r={headers:{"User-Agent":`Firebase/5/${DR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new uC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==uC&&!n.forceDisallow_}static previouslyFailed(){return Sd.isInMemoryStorage||!0===Sd.get("previous_websocket_failure")}markConnectionHealthy(){Sd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,D.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,D.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=R4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Z4=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Gc,Sp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Sp&&Sp.isAvailable();let r=i&&!Sp.previouslyFailed();if(e.webSocketOnly&&(i||ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Sp];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class n5{constructor(t,e,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cy("c:"+this.id+":"),this.transportManager_=new Z4(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ty(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Iy("t",t),i=Iy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Iy("t",t),i=Iy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Iy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?RR("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Ty(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ty(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class i5{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class r5{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,D.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,D.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class dC extends r5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dC}getInitialEvent(t){return(0,D.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Mn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function En(){return new Mn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qc(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Mn(n.pieces_,t)}function BR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Dy(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function a5(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Mn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Mn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Mn(e,0)}function Qt(n){return n.pieceNum_>=n.pieces_.length}function So(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return So(Jn(n),Jn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Hge(n,t){const e=Dy(n,0),i=Dy(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Rd(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function UR(n,t){if(qc(n)!==qc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Vs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(qc(n)>qc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class zge{constructor(t,e){this.errorPrefix_=e,this.parts_=Dy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,D.ug)(this.parts_[i]);l5(this)}}function l5(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+kd(n))}function kd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jR extends r5{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jR}getInitialEvent(t){return(0,D.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Sy=1e3;let fC,Md=(()=>{class n extends i5{constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Cy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&dC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,D.Wl)(s)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new D.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,D.r3)(e,"w")){const r=(0,D.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,D.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,D.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,D.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):RR("Unrecognized action received from server: "+(0,D.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Sy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Sy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,le.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};e.realtime_={close:u,sendRequest:function(_){(0,D.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const m=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,v]=yield Promise.all([e.authTokenProvider_.getToken(m),e.appCheckTokenProvider_.getToken(m)]);l?Ar("getToken() completed but was canceled"):(Ar("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=v&&v.token,c=new n5(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,b=>{ro(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),l||(e.repoInfo_.nodeAdmin&&ro(_),u())}}})()}interrupt(e){Ar("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ar("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Sy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>kR(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Mn(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Ar("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ar("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,D.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+DR.replace(/\./g,"-")]=1,(0,D.uI)()?e["framework.cordova"]=1:(0,D.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dC.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new nn(t,e)}}class hC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new nn(Wc,t),r=new nn(Wc,e);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class d5 extends hC{static get __EMPTY_NODE(){return fC}static set __EMPTY_NODE(t){fC=t}compare(t,e){return Rd(t.name,e.name)}isDefinedOn(t){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Ol,fC)}makePost(t,e){return(0,D.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new nn(t,fC)}toString(){return".key"}}const Ha=new d5;class pC{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let zR,ca=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Wo.EMPTY_NODE,this.right=s??Wo.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Wo.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wo{constructor(t,e=Wo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ca.BLACK,null,null))}remove(t){return new Wo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ca.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new pC(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new pC(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new pC(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new pC(this.root_,null,this.comparator_,!0,t)}}function Qge(n,t){return Rd(n.name,t.name)}function HR(n,t){return Rd(n,t)}Wo.EMPTY_NODE=new class Yge{copy(t,e,i,r,o){return this}insert(t,e,i){return new ca(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const h5=function(n){return"number"==typeof n?"number:"+k4(n):"string:"+n},f5=function(n){if(n.isLeafNode()){const t=n.val();(0,D.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,D.r3)(t,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===zR||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===zR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let p5,m5,g5,Ap=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),f5(this.priorityNode_)}static set __childrenNodeConstructor(e){p5=e}static get __childrenNodeConstructor(){return p5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Yt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,D.hu)(".priority"!==r||1===qc(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+h5(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?k4(this.value_):this.value_,this.lazyHash_=D4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,D.hu)(o>=0,"Unknown leaf type: "+i),(0,D.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const si=new class t_e extends hC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Rd(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Ol,new Ap("[PRIORITY-POST]",g5))}makePost(t,e){const i=m5(t);return new nn(e,new Ap("[PRIORITY-POST]",i))}toString(){return".priority"}},n_e=Math.log(2);class i_e{constructor(t){this.count=parseInt(Math.log(t+1)/n_e,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const mC=function(n,t,e,i){n.sort(t);const r=function(l,c){const u=c-l;let f,m;if(0===u)return null;if(1===u)return f=n[l],m=e?e(f):f,new ca(m,f.node,ca.BLACK,null,null);{const _=parseInt(u/2,10)+l,v=r(l,_),b=r(_+1,c);return f=n[_],m=e?e(f):f,new ca(m,f.node,ca.BLACK,v,b)}},a=function(l){let c=null,u=null,f=n.length;const m=function(v,b){const I=f-v,M=f;f-=v;const A=r(I+1,M),V=n[I],K=e?e(V):V;_(new ca(K,V.node,b,null,A))},_=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const b=l.nextBitIsOne(),I=Math.pow(2,l.count-(v+1));b?m(I,ca.BLACK):(m(I,ca.BLACK),m(I,ca.RED))}return u}(new i_e(n.length));return new Wo(i||t,a)};let $R;const Rp={};class Pl{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,D.hu)(Rp&&si,"ChildrenNode.ts has not been loaded"),$R=$R||new Pl({".priority":Rp},{".priority":si}),$R}get(t){const e=(0,D.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wo?e:null}hasIndex(t){return(0,D.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,D.hu)(t!==Ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(nn.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?mC(i,t.getCompare()):Rp;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new Pl(u,c)}addToIndexes(t,e){const i=(0,D.UI)(this.indexes_,(r,o)=>{const s=(0,D.DV)(this.indexSet_,o);if((0,D.hu)(s,"Missing index implementation for "+o),r===Rp){if(s.isDefinedOn(t.node)){const a=[],l=e.getIterator(nn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),mC(a,s.getCompare())}return Rp}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new nn(t.name,a))),l.insert(t,t.node)}});return new Pl(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,D.UI)(this.indexes_,r=>{if(r===Rp)return r;{const o=e.get(t.name);return o?r.remove(new nn(t.name,o)):r}});return new Pl(i,this.indexSet_)}}let Ay,Nt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&f5(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ay||(Ay=new n(new Wo(HR),null,Pl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ay}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Ay:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(Jn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,D.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new nn(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Ay:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=Yt(e);if(null===r)return i;{(0,D.hu)(".priority"!==Yt(e)||1===qc(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(si,(a,l)=>{i[a]=l.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+h5(this.getPriority().val())+":"),this.forEachChild(si,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":D4(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new nn(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new nn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ry?-1:0}withIndex(e){if(e===Ha||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ha||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(si),o=i.getIterator(si);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Ha?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ry=new class r_e extends Nt{constructor(){super(new Wo(HR),Nt.EMPTY_NODE,Pl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Nt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(Wc,Nt.EMPTY_NODE)},MAX:{value:new nn(Ol,Ry)}}),d5.__EMPTY_NODE=Nt.EMPTY_NODE,Ap.__childrenNodeConstructor=Nt,function Xge(n){zR=n}(Ry),function e_e(n){g5=n}(Ry);const o_e=!0;function ki(n,t=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,D.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ap(n,ki(t));if(n instanceof Array||!o_e){let e=Nt.EMPTY_NODE;return Rr(n,(i,r)=>{if((0,D.r3)(n,i)&&"."!==i.substring(0,1)){const o=ki(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ki(t))}{const e=[];let i=!1;if(Rr(n,(s,a)=>{if("."!==s.substring(0,1)){const l=ki(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new nn(s,l)))}}),0===e.length)return Nt.EMPTY_NODE;const o=mC(e,Qge,s=>s.name,HR);if(i){const s=mC(e,si.getCompare());return new Nt(o,ki(t),new Pl({".priority":s},{".priority":si}))}return new Nt(o,ki(t),Pl.Default)}}!function Jge(n){m5=n}(ki);class WR extends hC{constructor(t){super(),this.indexPath_=t,(0,D.hu)(!Qt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Rd(t.name,e.name):o}makePost(t,e){const i=ki(t),r=Nt.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(e,r)}maxPost(){const t=Nt.EMPTY_NODE.updateChild(this.indexPath_,Ry);return new nn(Ol,t)}toString(){return Dy(this.indexPath_,0).join("/")}}const GR=new class s_e extends hC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Rd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(t,e){const i=ki(t);return new nn(e,i)}toString(){return".value"}};function _5(n){return{type:"value",snapshotNode:n}}function kp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ky(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function My(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class qR{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,D.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(ky(e,a)):(0,D.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(kp(e,i)):s.trackChildChange(My(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(si,(r,o)=>{e.hasChild(r)||i.trackChildChange(ky(r,o))}),e.isLeafNode()||e.forEachChild(si,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(My(r,o,s))}else i.trackChildChange(kp(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ny{constructor(t){this.indexedFilter_=new qR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ny.getStartPost_(t),this.endPost_=Ny.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Nt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Nt.EMPTY_NODE);const o=this;return e.forEachChild(si,(s,a)=>{o.matches(new nn(s,a))||(r=r.updateImmediateChild(s,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class l_e{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ny(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Nt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Nt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(m,_)=>f(_,m)}else s=this.index_.getCompare();const a=t;(0,D.hu)(a.numChildren()===this.limit_,"");const l=new nn(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let m=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=m&&(m.name===e||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:s(m,l);if(u&&!i.isEmpty()&&_>=0)return o?.trackChildChange(My(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(ky(e,f));const b=a.updateImmediateChild(e,Nt.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(kp(m.name,m.node)),b.updateImmediateChild(m.name,m.node)):b}}return i.isEmpty()?t:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(ky(c.name,c.node)),o.trackChildChange(kp(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,Nt.EMPTY_NODE)):t}}class gC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ol}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const t=new gC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function KR(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function ZR(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function _C(n,t){const e=n.copy();return e.index_=t,e}function y5(n){const t={};if(n.isDefault())return t;let e;if(n.index_===si?e="$priority":n.index_===GR?e="$value":n.index_===Ha?e="$key":((0,D.hu)(n.index_ instanceof WR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,D.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function v5(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==si&&(t.i=n.index_.toString()),t}class yC extends i5{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Cy("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,D.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=yC.getListenId_(t,i),a={};this.listens_[s]=a;const l=y5(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(o,f,!1,i),(0,D.DV)(this.listens_,s)===a){let m;m=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(m,null)}})}unlisten(t,e){const i=yC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=y5(t._queryParams),i=t._path.toString(),r=new D.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,D.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,D.cI)(a.responseText)}catch{ro("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&ro("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class p_e{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function vC(){return{value:null,children:new Map}}function Mp(n,t,e){if(Qt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,vC()),Mp(n.children.get(i),t=Jn(t),e)}}function YR(n,t){if(Qt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(si,(i,r)=>{Mp(n,new Mn(i),r)}),YR(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Jn(t),n.children.has(e)&&YR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function QR(n,t,e){null!==n.value?e(t,n.value):function m_e(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{QR(r,new Mn(t.toString()+"/"+i),e)})}class g_e{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Rr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class v_e{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new g_e(t);const i=1e4+2e4*Math.random();Ty(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Rr(t,(r,o)=>{o>0&&(0,D.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Ty(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var za=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(za||{});function ek(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class bC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=za.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Mn(t));return new bC(En(),e,this.revert)}}return(0,D.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new bC(Jn(this.path),this.affectedTree,this.revert)}}class Oy{constructor(t,e){this.source=t,this.path=e,this.type=za.LISTEN_COMPLETE}operationForChild(t){return Qt(this.path)?new Oy(this.source,En()):new Oy(this.source,Jn(this.path))}}class Nd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=za.OVERWRITE}operationForChild(t){return Qt(this.path)?new Nd(this.source,En(),this.snap.getImmediateChild(t)):new Nd(this.source,Jn(this.path),this.snap)}}class Np{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=za.MERGE}operationForChild(t){if(Qt(this.path)){const e=this.children.subtree(new Mn(t));return e.isEmpty()?null:e.value?new Nd(this.source,En(),e.value):new Np(this.source,En(),e)}return(0,D.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Np(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kc{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class b_e{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Py(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,l)=>function C_e(n,t,e){if(null==t.childName||null==e.childName)throw(0,D.g5)("Should only compare child_ events.");const i=new nn(t.childName,t.snapshotNode),r=new nn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function E_e(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function wC(n,t){return{eventCache:n,serverCache:t}}function Fy(n,t,e,i){return wC(new Kc(t,e,i),n.serverCache)}function w5(n,t,e,i){return wC(n.eventCache,new Kc(t,e,i))}function EC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Od(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tk;class ai{constructor(t,e=(()=>(tk||(tk=new Wo(age)),tk))()){this.value=t,this.children=e}static fromObject(t){let e=new ai(null);return Rr(t,(i,r)=>{e=e.set(new Mn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:En(),value:this.value};if(Qt(t))return null;{const i=Yt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(t),e);return null!=o?{path:Ii(new Mn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(Jn(t)):new ai(null)}}set(t,e){if(Qt(t))return new ai(e,this.children);{const i=Yt(t),o=(this.children.get(i)||new ai(null)).set(Jn(t),e),s=this.children.insert(i,o);return new ai(this.value,s)}}remove(t){if(Qt(t))return this.children.isEmpty()?new ai(null):new ai(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const r=i.remove(Jn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new ai(null):new ai(this.value,o)}return this}}get(t){if(Qt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(Jn(t)):null}}setTree(t,e){if(Qt(t))return e;{const i=Yt(t),o=(this.children.get(i)||new ai(null)).setTree(Jn(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ai(this.value,s)}}fold(t){return this.fold_(En(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,En(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Qt(t))return null;{const o=Yt(t),s=this.children.get(o);return s?s.findOnPath_(Jn(t),Ii(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,En(),e)}foreachOnPath_(t,e,i){if(Qt(t))return this;{this.value&&i(e,this.value);const r=Yt(t),o=this.children.get(r);return o?o.foreachOnPath_(Jn(t),Ii(e,r),i):new ai(null)}}foreach(t){this.foreach_(En(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ua{constructor(t){this.writeTree_=t}static empty(){return new ua(new ai(null))}}function Ly(n,t,e){if(Qt(t))return new ua(new ai(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=So(r,t);return o=o.updateChild(s,e),new ua(n.writeTree_.set(r,o))}{const r=new ai(e),o=n.writeTree_.setTree(t,r);return new ua(o)}}}function nk(n,t,e){let i=n;return Rr(e,(r,o)=>{i=Ly(i,Ii(t,r),o)}),i}function E5(n,t){if(Qt(t))return ua.empty();{const e=n.writeTree_.setTree(t,new ai(null));return new ua(e)}}function ik(n,t){return null!=Pd(n,t)}function Pd(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(So(e.path,t)):null}function C5(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(si,(i,r)=>{t.push(new nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new nn(i,r.value))}),t}function Zc(n,t){if(Qt(t))return n;{const e=Pd(n,t);return new ua(null!=e?new ai(e):n.writeTree_.subtree(t))}}function rk(n){return n.writeTree_.isEmpty()}function Op(n,t){return I5(En(),n.writeTree_,t)}function I5(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,D.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=I5(Ii(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function CC(n,t){return A5(t,n)}function A_e(n,t){if(n.snap)return Vs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Vs(Ii(n.path,e),t))return!0;return!1}function k_e(n){return n.visible}function T5(n,t,e){let i=ua.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)Vs(e,s)?(a=So(e,s),i=Ly(i,a,o.snap)):Vs(s,e)&&(a=So(s,e),i=Ly(i,En(),o.snap.getChild(a)));else{if(!o.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(Vs(e,s))a=So(e,s),i=nk(i,a,o.children);else if(Vs(s,e))if(a=So(s,e),Qt(a))i=nk(i,En(),o.children);else{const l=(0,D.DV)(o.children,Yt(a));if(l){const c=l.getChild(Jn(a));i=Ly(i,En(),c)}}}}}return i}function x5(n,t,e,i,r){if(i||r){const o=Zc(n.visibleWrites,t);return!r&&rk(o)?e:r||null!=e||ik(o,En())?Op(T5(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Vs(c.path,t)||Vs(t,c.path))},t),e||Nt.EMPTY_NODE):null}{const o=Pd(n.visibleWrites,t);if(null!=o)return o;{const s=Zc(n.visibleWrites,t);return rk(s)?e:null!=e||ik(s,En())?Op(s,e||Nt.EMPTY_NODE):null}}}function IC(n,t,e,i){return x5(n.writeTree,n.treePath,t,e,i)}function ok(n,t){return function M_e(n,t,e){let i=Nt.EMPTY_NODE;const r=Pd(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(si,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=Zc(n.visibleWrites,t);return e.forEachChild(si,(s,a)=>{const l=Op(Zc(o,new Mn(s)),a);i=i.updateImmediateChild(s,l)}),C5(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return C5(Zc(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function D5(n,t,e,i){return function N_e(n,t,e,i,r){(0,D.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ii(t,e);if(ik(n.visibleWrites,o))return null;{const s=Zc(n.visibleWrites,o);return rk(s)?r.getChild(e):Op(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function TC(n,t){return function P_e(n,t){return Pd(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function sk(n,t,e){return function O_e(n,t,e,i){const r=Ii(t,e),o=Pd(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Op(Zc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function S5(n,t){return A5(Ii(n.treePath,t),n.writeTree)}function A5(n,t){return{treePath:n,writeTree:t}}class B_e{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,D.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,My(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,ky(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,kp(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,D.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,My(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const R5=new class U_e{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class ak{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Od(this.viewCache_),o=function V_e(n,t,e,i,r,o){return function F_e(n,t,e,i,r,o,s){let a;const l=Zc(n.visibleWrites,t),c=Pd(l,En());if(null!=c)a=c;else{if(null==e)return[];a=Op(l,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let _=m.getNext();for(;_&&u.length<r;)0!==f(_,i)&&u.push(_),_=m.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function k5(n,t,e,i,r,o){const s=t.eventCache;if(null!=TC(i,e))return t;{let a,l;if(Qt(e))if((0,D.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Od(t),f=ok(i,c instanceof Nt?c:Nt.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const c=IC(i,Od(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=Yt(e);if(".priority"===c){(0,D.hu)(1===qc(e),"Can't have a priority with additional path components");const u=s.getNode();l=t.serverCache.getNode();const f=D5(i,e,u,l);a=null!=f?n.filter.updatePriority(u,f):s.getNode()}else{const u=Jn(e);let f;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const m=D5(i,e,s.getNode(),l);f=null!=m?s.getNode().getImmediateChild(c).updateChild(u,m):s.getNode().getImmediateChild(c)}else f=sk(i,c,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),c,f,u,r,o):s.getNode()}}return Fy(t,a,s.isFullyInitialized()||Qt(e),n.filter.filtersNodes())}}function xC(n,t,e,i,r,o,s,a){const l=t.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(Qt(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),_,null)}else{const _=Yt(e);if(!l.isCompleteForPath(e)&&qc(e)>1)return t;const v=Jn(e),I=l.getNode().getImmediateChild(_).updateChild(v,i);c=".priority"===_?u.updatePriority(l.getNode(),I):u.updateChild(l.getNode(),_,I,v,R5,null)}const f=w5(t,c,l.isFullyInitialized()||Qt(e),u.filtersNodes());return k5(n,f,e,r,new ak(r,f,o),a)}function lk(n,t,e,i,r,o,s){const a=t.eventCache;let l,c;const u=new ak(r,t,o);if(Qt(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,s),l=Fy(t,c,!0,n.filter.filtersNodes());else{const f=Yt(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=Fy(t,c,a.isFullyInitialized(),a.isFiltered());else{const m=Jn(e),_=a.getNode().getImmediateChild(f);let v;if(Qt(m))v=i;else{const b=u.getCompleteChild(f);v=null!=b?".priority"===BR(m)&&b.getChild(a5(m)).isEmpty()?b:b.updateChild(m,i):Nt.EMPTY_NODE}l=_.equals(v)?t:Fy(t,n.filter.updateChild(a.getNode(),f,v,m,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function M5(n,t){return n.eventCache.isCompleteForChild(t)}function N5(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function ck(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Qt(e)?i:new ai(null).setTree(e,i);const u=t.serverCache.getNode();return c.children.inorderTraversal((f,m)=>{if(u.hasChild(f)){const v=N5(0,t.serverCache.getNode().getImmediateChild(f),m);l=xC(n,l,new Mn(f),v,r,o,s,a)}}),c.children.inorderTraversal((f,m)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===m.value;if(!u.hasChild(f)&&!_){const b=N5(0,t.serverCache.getNode().getImmediateChild(f),m);l=xC(n,l,new Mn(f),b,r,o,s,a)}}),l}class Z_e{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new qR(i.getIndex()),o=function c_e(n){return n.loadsAllData()?new qR(n.getIndex()):n.hasLimit()?new l_e(n):new Ny(n)}(i);this.processor_=function j_e(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,l=r.updateFullNode(Nt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Nt.EMPTY_NODE,a.getNode(),null),u=new Kc(l,s.isFullyInitialized(),r.filtersNodes()),f=new Kc(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=wC(f,u),this.eventGenerator_=new b_e(this.query_)}get query(){return this.query_}}function X_e(n,t){const e=Od(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Qt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function O5(n){return 0===n.eventRegistrations_.length}function P5(n,t,e){const i=[];if(e){(0,D.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function F5(n,t,e,i){t.type===za.MERGE&&null!==t.source.queryId&&((0,D.hu)(Od(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(EC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function z_e(n,t,e,i,r){const o=new B_e;let s,a;if(e.type===za.OVERWRITE){const c=e;c.source.fromUser?s=lk(n,t,c.path,c.snap,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Qt(c.path),s=xC(n,t,c.path,c.snap,i,r,a,o))}else if(e.type===za.MERGE){const c=e;c.source.fromUser?s=function W_e(n,t,e,i,r,o,s){let a=t;return i.foreach((l,c)=>{const u=Ii(e,l);M5(t,Yt(u))&&(a=lk(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Ii(e,l);M5(t,Yt(u))||(a=lk(n,a,u,c,r,o,s))}),a}(n,t,c.path,c.children,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=ck(n,t,c.path,c.children,i,r,a,o))}else if(e.type===za.ACK_USER_WRITE){const c=e;s=c.revert?function K_e(n,t,e,i,r,o){let s;if(null!=TC(i,e))return t;{const a=new ak(i,t,r),l=t.eventCache.getNode();let c;if(Qt(e)||".priority"===Yt(e)){let u;if(t.serverCache.isFullyInitialized())u=IC(i,Od(t));else{const f=t.serverCache.getNode();(0,D.hu)(f instanceof Nt,"serverChildren would be complete if leaf node"),u=ok(i,f)}c=n.filter.updateFullNode(l,u,o)}else{const u=Yt(e);let f=sk(i,u,t.serverCache);null==f&&t.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),c=null!=f?n.filter.updateChild(l,u,f,Jn(e),a,o):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,Nt.EMPTY_NODE,Jn(e),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=IC(i,Od(t)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=TC(i,En()),Fy(t,c,s,n.filter.filtersNodes())}}(n,t,c.path,i,r,o):function G_e(n,t,e,i,r,o,s){if(null!=TC(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Qt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return xC(n,t,e,l.getNode().getChild(e),r,o,a,s);if(Qt(e)){let c=new ai(null);return l.getNode().forEachChild(Ha,(u,f)=>{c=c.set(new Mn(u),f)}),ck(n,t,e,c,r,o,a,s)}return t}{let c=new ai(null);return i.foreach((u,f)=>{const m=Ii(e,u);l.isCompleteForPath(m)&&(c=c.set(u,l.getNode().getChild(m)))}),ck(n,t,e,c,r,o,a,s)}}(n,t,c.path,c.affectedTree,i,r,o)}else{if(e.type!==za.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+e.type);s=function q_e(n,t,e,i,r){const o=t.serverCache;return k5(n,w5(t,o.getNode(),o.isFullyInitialized()||Qt(e),o.isFiltered()),e,i,R5,r)}(n,t,e.path,i,o)}const l=o.getChanges();return function $_e(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=EC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(_5(EC(t)))}}(t,s,l),{viewCache:s,changes:l}}(n.processor_,r,t,e,i);return function H_e(n,t){(0,D.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,D.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,L5(n,o.changes,o.viewCache.eventCache.getNode(),null)}function L5(n,t,e,i){return function w_e(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function a_e(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),Py(n,r,"child_removed",t,i,e),Py(n,r,"child_added",t,i,e),Py(n,r,"child_moved",o,i,e),Py(n,r,"child_changed",t,i,e),Py(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let DC,AC;class V5{constructor(){this.views=new Map}}function uk(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,D.hu)(null!=o,"SyncTree gave us an op for an invalid query."),F5(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(F5(s,t,e,i));return o}}function B5(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=IC(e,r?i:null),l=!1;a?l=!0:i instanceof Nt?(a=ok(e,i),l=!1):(a=Nt.EMPTY_NODE,l=!1);const c=wC(new Kc(a,l,!1),new Kc(i,r,!1));return new Z_e(t,c)}return s}function U5(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Yc(n,t){let e=null;for(const i of n.views.values())e=e||X_e(i,t);return e}function j5(n,t){return t._queryParams.loadsAllData()?SC(n):n.views.get(t._queryIdentifier)}function H5(n,t){return null!=j5(n,t)}function Qc(n){return null!=SC(n)}function SC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let lye=1;class z5{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ai(null),this.pendingWriteTree_=function L_e(){return{visibleWrites:ua.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dk(n,t,e,i,r){return function T_e(n,t,e,i,r){(0,D.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Ly(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Pp(n,new Nd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Xc(n,t,e=!1){const i=function D_e(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function S_e(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,D.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&A_e(a,i.path)?r=!1:Vs(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function R_e(n){n.visibleWrites=T5(n.allWrites,k_e,En()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=E5(n.visibleWrites,i.path):Rr(i.children,l=>{n.visibleWrites=E5(n.visibleWrites,Ii(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let o=new ai(null);return null!=i.snap?o=o.set(En(),!0):Rr(i.children,s=>{o=o.set(new Mn(s),!0)}),Pp(n,new bC(i.path,o,e))}return[]}function Vy(n,t,e){return Pp(n,new Nd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function RC(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||H5(s,t))){const l=function oye(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=Qc(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(P5(c,e,i)),O5(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(P5(l,e,i)),O5(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Qc(n)&&o.push(new(function nye(){return(0,D.hu)(DC,"Reference.ts has not been loaded"),DC}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function iye(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=-1!==c.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(m,_)=>Qc(_));if(u&&!f){const m=n.syncPointTree_.subtree(o);if(!m.isEmpty()){const _=function mye(n){return n.fold((t,e,i)=>{if(e&&Qc(e))return[SC(e)];{let r=[];return e&&(r=U5(e)),Rr(i,(o,s)=>{r=r.concat(s)}),r}})}(m);for(let v=0;v<_.length;++v){const b=_[v],I=b.query,M=q5(n,b);n.listenProvider_.startListening(Uy(I),By(n,I),M.hashFn,M.onComplete)}}}!f&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(Uy(t),null):c.forEach(m=>{const _=n.queryToTagMap.get(MC(m));n.listenProvider_.stopListening(Uy(m),_)}))}!function gye(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=MC(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function $5(n,t,e,i){const r=fk(n,i);if(null!=r){const o=pk(r),s=o.path,a=o.queryId,l=So(s,t);return mk(n,s,new Nd(ek(a),l,e))}return[]}function hk(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const v=So(m,r);o=o||Yc(_,v),s=s||Qc(_)});let l,a=n.syncPointTree_.get(r);a?(s=s||Qc(a),o=o||Yc(a,En())):(a=new V5,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=Nt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,v)=>{const b=Yc(v,En());b&&(o=o.updateImmediateChild(_,b))}));const c=H5(a,t);if(!c&&!t._queryParams.loadsAllData()){const m=MC(t);(0,D.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function _ye(){return lye++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function rye(n,t,e,i,r,o){const s=B5(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function J_e(n,t){n.eventRegistrations_.push(t)}(s,e),function eye(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(si,(o,s)=>{i.push(kp(o,s))}),e.isFullyInitialized()&&i.push(_5(e.getNode())),L5(n,i,e.getNode(),t)}(s,e)}(a,t,e,CC(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const m=j5(a,t);f=f.concat(function yye(n,t,e){const i=t._path,r=By(n,t),o=q5(n,e),s=n.listenProvider_.startListening(Uy(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,D.hu)(!Qc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!Qt(c)&&u&&Qc(u))return[SC(u).query];{let m=[];return u&&(m=m.concat(U5(u).map(_=>_.query))),Rr(f,(_,v)=>{m=m.concat(v)}),m}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Uy(u),By(n,u))}}return s}(n,t,m))}return f}function kC(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const c=Yc(a,So(s,t));if(c)return c});return x5(r,t,o,e,!0)}function Pp(n,t){return W5(t,n.syncPointTree_,null,CC(n.pendingWriteTree_,En()))}function W5(n,t,e,i){if(Qt(n.path))return G5(n,t,e,i);{const r=t.get(En());null==e&&null!=r&&(e=Yc(r,En()));let o=[];const s=Yt(n.path),a=n.operationForChild(s),l=t.children.get(s);if(l&&a){const c=e?e.getImmediateChild(s):null,u=S5(i,s);o=o.concat(W5(a,l,c,u))}return r&&(o=o.concat(uk(r,n,i,e))),o}}function G5(n,t,e,i){const r=t.get(En());null==e&&null!=r&&(e=Yc(r,En()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=e?e.getImmediateChild(s):null,c=S5(i,s),u=n.operationForChild(s);u&&(o=o.concat(G5(u,a,l,c)))}),r&&(o=o.concat(uk(r,n,i,e))),o}function q5(n,t){const e=t.query,i=By(n,e);return{hashFn:()=>(function Y_e(n){return n.viewCache_.serverCache.getNode()}(t)||Nt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function hye(n,t,e){const i=fk(n,e);if(i){const r=pk(i),o=r.path,s=r.queryId,a=So(o,t);return mk(n,o,new Oy(ek(s),a))}return[]}(n,e._path,i):function dye(n,t){return Pp(n,new Oy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function uge(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return RC(n,e,null,o)}}}}function By(n,t){const e=MC(t);return n.queryToTagMap.get(e)}function MC(n){return n._path.toString()+"$"+n._queryIdentifier}function fk(n,t){return n.tagToQueryMap.get(t)}function pk(n){const t=n.indexOf("$");return(0,D.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Mn(n.substr(0,t))}}function mk(n,t,e){const i=n.syncPointTree_.get(t);return(0,D.hu)(i,"Missing sync point for query tag that we're tracking"),uk(i,e,CC(n.pendingWriteTree_,t),null)}function Uy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function aye(){return(0,D.hu)(AC,"Reference.ts has not been loaded"),AC}())(n._repo,n._path):n}class gk{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new gk(e)}node(){return this.node_}}class _k{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new _k(this.syncTree_,e)}node(){return kC(this.syncTree_,this.path_)}}const vye=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},K5=function(n,t,e){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bye(n[".sv"],t,e):"object"==typeof n[".sv"]?wye(n[".sv"],t):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bye=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},wye=function(n,t,e){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,D.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,D.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},Z5=function(n,t,e,i){return vk(t,new _k(e,n),i)},yk=function(n,t,e){return vk(n,new gk(t),e)};function vk(n,t,e){const i=n.getPriority().val(),r=K5(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=K5(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Ap(a,ki(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Ap(r))),s.forEachChild(si,(a,l)=>{const c=vk(l,t.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class bk{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function NC(n,t){let e=t instanceof Mn?t:new Mn(t),i=n,r=Yt(e);for(;null!==r;){const o=(0,D.DV)(i.node.children,r)||{children:{},childCount:0};i=new bk(r,i,o),e=Jn(e),r=Yt(e)}return i}function Fd(n){return n.node.value}function wk(n,t){n.node.value=t,Ek(n)}function Y5(n){return n.node.childCount>0}function OC(n,t){Rr(n.node.children,(e,i)=>{t(new bk(e,n,i))})}function Q5(n,t,e,i){e&&!i&&t(n),OC(n,r=>{Q5(r,t,!0,i)}),e&&i&&t(n)}function jy(n){return new Mn(null===n.parent?n.name:jy(n.parent)+"/"+n.name)}function Ek(n){null!==n.parent&&function Iye(n,t,e){const i=function Eye(n){return void 0===Fd(n)&&!Y5(n)}(e),r=(0,D.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Ek(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Ek(n))}(n.parent,n.name,n)}const Tye=/[\[\].#$\/\u0000-\u001F\u007F]/,xye=/[\[\].#$\u0000-\u001F\u007F]/,Ck=10485760,PC=function(n){return"string"==typeof n&&0!==n.length&&!Tye.test(n)},X5=function(n){return"string"==typeof n&&0!==n.length&&!xye.test(n)},Hy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!lC(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},$a=function(n,t,e,i){i&&void 0===t||zy((0,D.gK)(n,"value"),t,e)},zy=function(n,t,e){const i=e instanceof Mn?new zge(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+kd(i));if("function"==typeof t)throw new Error(n+"contains a function "+kd(i)+" with contents = "+t.toString());if(lC(t))throw new Error(n+"contains "+t.toString()+" "+kd(i));if("string"==typeof t&&t.length>Ck/3&&(0,D.ug)(t)>Ck)throw new Error(n+"contains a string greater than "+Ck+" utf8 bytes "+kd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Rr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!PC(s)))throw new Error(n+" contains an invalid key ("+s+") "+kd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $ge(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,D.ug)(t),l5(n)})(i,s),zy(n,a,i),function Wge(n){const t=n.parts_.pop();n.byteLength_-=(0,D.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+kd(i)+" in addition to actual children.")}},J5=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,D.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Rr(t,(s,a)=>{const l=new Mn(s);if(zy(r,a,Ii(e,l)),".priority"===BR(l)&&!Hy(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Dy(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!PC(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Hge);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Vs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},Ik=function(n,t,e){if(!e||void 0!==t){if(lC(t))throw new Error((0,D.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hy(t))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$y=function(n,t,e,i){if(!(i&&void 0===e||PC(e)))throw new Error((0,D.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Wy=function(n,t,e,i){if(!(i&&void 0===e||X5(e)))throw new Error((0,D.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Aye=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Wy(n,t,e,i)},Bs=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},eW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!PC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),X5(n)}(e))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Rye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function FC(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!UR(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function tW(n,t,e){FC(n,e),nW(n,i=>UR(i,t))}function cs(n,t,e){FC(n,e),nW(n,i=>Vs(i,t)||Vs(t,i))}function nW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(kye(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function kye(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Ad&&Ar("event: "+e.toString()),Dp(i)}}}const iW="repo_interrupt",Mye=25;class Nye{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vC(),this.transactionQueueTree_=new bk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rW(n){const e=n.infoData_.getNode(new Mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gy(n){return vye({timestamp:rW(n)})}function oW(n,t,e,i,r){n.dataUpdateCount++;const o=new Mn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const l=(0,D.UI)(e,c=>ki(c));s=function fye(n,t,e,i){const r=fk(n,i);if(r){const o=pk(r),s=o.path,a=o.queryId,l=So(s,t),c=ai.fromObject(e);return mk(n,s,new Np(ek(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=ki(e);s=$5(n.serverSyncTree_,o,l,r)}else if(i){const l=(0,D.UI)(e,c=>ki(c));s=function uye(n,t,e){const i=ai.fromObject(e);return Pp(n,new Np({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,l)}else{const l=ki(e);s=Vy(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Lp(n,o)),cs(n.eventQueue_,a,s)}function sW(n,t){Tk(n,"connected",t),!1===t&&function Vye(n){Fp(n,"onDisconnectEvents");const t=Gy(n),e=vC();QR(n.onDisconnect_,En(),(r,o)=>{const s=Z5(r,o,n.serverSyncTree_,t);Mp(e,r,s)});let i=[];QR(e,En(),(r,o)=>{i=i.concat(Vy(n.serverSyncTree_,r,o));const s=Ak(n,r);Lp(n,s)}),n.onDisconnect_=vC(),cs(n.eventQueue_,En(),i)}(n)}function Tk(n,t,e){const i=new Mn("/.info/"+t),r=ki(e);n.infoData_.updateSnapshot(i,r);const o=Vy(n.infoSyncTree_,i,r);cs(n.eventQueue_,i,o)}function LC(n){return n.nextWriteId_++}function xk(n,t,e,i,r){Fp(n,"set",{path:t.toString(),value:e,priority:i});const o=Gy(n),s=ki(e,i),a=kC(n.serverSyncTree_,t),l=yk(s,a,o),c=LC(n),u=dk(n.serverSyncTree_,t,l,c,!0);FC(n.eventQueue_,u),n.server_.put(t.toString(),s.val(!0),(m,_)=>{const v="ok"===m;v||ro("set at "+t+" failed: "+m);const b=Xc(n.serverSyncTree_,c,!v);cs(n.eventQueue_,t,b),Jc(0,r,m,_)});const f=Ak(n,t);Lp(n,f),cs(n.eventQueue_,f,[])}function Bye(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&YR(n.onDisconnect_,t),Jc(0,e,i,r)})}function aW(n,t,e,i){const r=ki(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Mp(n.onDisconnect_,t,r),Jc(0,i,o,s)})}function Dk(n,t,e){let i;i=".info"===Yt(t._path)?RC(n.infoSyncTree_,t,e):RC(n.serverSyncTree_,t,e),tW(n.eventQueue_,t._path,i)}function lW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(iW)}function Fp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ar(e,...t)}function Jc(n,t,e,i){t&&Dp(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function Sk(n,t,e){return kC(n.serverSyncTree_,t,e)||Nt.EMPTY_NODE}function VC(n,t=n.transactionQueueTree_){if(t||BC(n,t),Fd(t)){const e=uW(n,t);(0,D.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Wye(n,t,e){const i=e.map(c=>c.currentWriteId),r=Sk(n,t,i);let o=r;const s=r.hash();for(let c=0;c<e.length;c++){const u=e[c];(0,D.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=So(t,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;n.server_.put(l.toString(),a,c=>{Fp(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const f=[];for(let m=0;m<e.length;m++)e[m].status=2,u=u.concat(Xc(n.serverSyncTree_,e[m].currentWriteId)),e[m].onComplete&&f.push(()=>e[m].onComplete(null,!0,e[m].currentOutputSnapshotResolved)),e[m].unwatcher();BC(n,NC(n.transactionQueueTree_,t)),VC(n,n.transactionQueueTree_),cs(n.eventQueue_,t,u);for(let m=0;m<f.length;m++)Dp(f[m])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{ro("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}Lp(n,t)}},s)}(n,jy(t),e)}else Y5(t)&&OC(t,e=>{VC(n,e)})}function Lp(n,t){const e=cW(n,t),i=jy(e);return function Gye(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=So(e,l.path);let f,u=!1;if((0,D.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,f=l.abortReason,r=r.concat(Xc(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Mye)u=!0,f="maxretry",r=r.concat(Xc(n.serverSyncTree_,l.currentWriteId,!0));else{const m=Sk(n,l.path,s);l.currentInputSnapshot=m;const _=t[a].update(m.val());if(void 0!==_){zy("transaction failed: Data returned ",_,l.path);let v=ki(_);"object"==typeof _&&null!=_&&(0,D.r3)(_,".priority")||(v=v.updatePriority(m.getPriority()));const I=l.currentWriteId,M=Gy(n),A=yk(v,m,M);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=A,l.currentWriteId=LC(n),s.splice(s.indexOf(I),1),r=r.concat(dk(n.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(Xc(n.serverSyncTree_,I,!0))}else u=!0,f="nodata",r=r.concat(Xc(n.serverSyncTree_,l.currentWriteId,!0))}cs(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}BC(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Dp(i[a]);VC(n,n.transactionQueueTree_)}(n,uW(n,e),i),i}function cW(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===Fd(i);)i=NC(i,e),e=Yt(t=Jn(t));return i}function uW(n,t){const e=[];return dW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function dW(n,t,e){const i=Fd(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);OC(t,r=>{dW(n,r,e)})}function BC(n,t){const e=Fd(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,wk(t,e.length>0?e:void 0)}OC(t,i=>{BC(n,i)})}function Ak(n,t){const e=jy(cW(n,t)),i=NC(n.transactionQueueTree_,t);return function Cye(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Rk(n,r)}),Rk(n,i),Q5(i,r=>{Rk(n,r)}),e}function Rk(n,t){const e=Fd(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,D.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,D.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(Xc(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?wk(t,void 0):e.length=o+1,cs(n.eventQueue_,jy(t),r);for(let s=0;s<i.length;s++)Dp(i[s])}}const kk=function(n,t){const e=Zye(n),i=e.namespace;return"firebase.com"===e.domain&&ja(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NR(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Mn(e.pathString)}},Zye=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(u,f)),u<f&&(r=function qye(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(u,f)));const m=function Kye(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ro(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const _=t.slice(0,c);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const v=t.indexOf(".");i=t.substring(0,v).toLowerCase(),e=t.substring(v+1),o=i}"ns"in m&&(o=m.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},hW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yye=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=hW.charAt(e%64),e=Math.floor(e/64);(0,D.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=hW.charAt(t[r]);return(0,D.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class fW{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class pW{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Mk{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new D.BH;return Bye(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Bs("OnDisconnect.remove",this._path);const t=new D.BH;return aW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Bs("OnDisconnect.set",this._path),$a("OnDisconnect.set",t,this._path,!1);const e=new D.BH;return aW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Bs("OnDisconnect.setWithPriority",this._path),$a("OnDisconnect.setWithPriority",t,this._path,!1),Ik("OnDisconnect.setWithPriority",e,!1);const i=new D.BH;return function Uye(n,t,e,i,r){const o=ki(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&Mp(n.onDisconnect_,t,o),Jc(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Bs("OnDisconnect.update",this._path),J5("OnDisconnect.update",t,this._path,!1);const e=new D.BH;return function jye(n,t,e,i){if((0,D.xb)(e))return Ar("onDisconnect().update() called with empty data.  Don't do anything."),void Jc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Rr(e,(s,a)=>{const l=ki(a);Mp(n.onDisconnect_,Ii(t,s),l)}),Jc(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Go{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Qt(this._path)?null:BR(this._path)}get ref(){return new Us(this._repo,this._path)}get _queryIdentifier(){const t=v5(this._queryParams),e=kR(t);return"{}"===e?"default":e}get _queryObject(){return v5(this._queryParams)}isEqual(t){if(!((t=(0,D.m9)(t))instanceof Go))return!1;const e=this._repo===t._repo,i=UR(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jge(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function UC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function eu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ha){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ol)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===si){if(null!=t&&!Hy(t)||null!=e&&!Hy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof WR||n.getIndex()===GR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jC(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Us extends Go{constructor(t,e){super(t,e,new gC,!1)}get parent(){const t=a5(this._path);return null===t?null:new Us(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ld{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Mn(t),i=Vd(this.ref,t);return new Ld(this._node.getChild(e),i,si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Ld(r,Vd(this.ref,i),si)))}hasChild(t){const e=new Mn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gW(n,t){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==t?Vd(n._root,t):n._root}function _W(n,t){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const e=kk(t,n._repo.repoInfo_.nodeAdmin);eW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ja("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),gW(n,e.path.toString())}function Vd(n,t){return null===Yt((n=(0,D.m9)(n))._path)?Aye("child","path",t,!1):Wy("child","path",t,!1),new Us(n._repo,Ii(n._path,t))}function Nk(n,t){n=(0,D.m9)(n),Bs("set",n._path),$a("set",t,n._path,!1);const e=new D.BH;return xk(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function tve(n,t){J5("update",t,n._path,!1);const e=new D.BH;return function Lye(n,t,e,i){Fp(n,"update",{path:t.toString(),value:e});let r=!0;const o=Gy(n),s={};if(Rr(e,(a,l)=>{r=!1,s[a]=Z5(Ii(t,a),ki(l),n.serverSyncTree_,o)}),r)Ar("update() called with empty data.  Don't do anything."),Jc(0,i,"ok",void 0);else{const a=LC(n),l=function cye(n,t,e,i){!function x_e(n,t,e,i){(0,D.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=nk(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ai.fromObject(e);return Pp(n,new Np({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);FC(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,u)=>{const f="ok"===c;f||ro("update at "+t+" failed: "+c);const m=Xc(n.serverSyncTree_,a,!f),_=m.length>0?Lp(n,t):t;cs(n.eventQueue_,_,m),Jc(0,i,c,u)}),Rr(e,c=>{const u=Ak(n,Ii(t,c));Lp(n,u)}),cs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function nve(n){n=(0,D.m9)(n);const t=new Mk(()=>{}),e=new qy(t);return function Fye(n,t,e){const i=function pye(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,u)=>{const f=So(c,e);i=i||Yc(u,f)});let r=n.syncPointTree_.get(e);r?i=i||Yc(r,En()):(r=new V5,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new Kc(i,!0,!1):null;return function Q_e(n){return EC(n.viewCache_)}(B5(r,t,CC(n.pendingWriteTree_,t._path),o?s.getNode():Nt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ki(r).withIndex(t._queryParams.getIndex());let s;if(hk(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=Vy(n.serverSyncTree_,t._path,o);else{const a=By(n.serverSyncTree_,t);s=$5(n.serverSyncTree_,t._path,o,a)}return cs(n.eventQueue_,t._path,s),RC(n.serverSyncTree_,t,e,null,!0),o},r=>(Fp(n,"get for query "+(0,D.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Ld(i,new Us(n._repo,n._path),n._queryParams.getIndex()))}class qy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new fW("value",this,new Ld(t.snapshotNode,new Us(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new pW(this,t,e):null}matches(t){return t instanceof qy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class HC{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new pW(this,t,e):null}createEvent(t,e){(0,D.hu)(null!=t.childName,"Child events should have a childName.");const i=Vd(new Us(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new fW(t.type,this,new Ld(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof HC&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ky(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=e,c=(u,f)=>{Dk(n._repo,n,a),l(u,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const s=new Mk(e,o||void 0),a="value"===t?new qy(s):new HC(t,s);return function Hye(n,t,e){let i;i=".info"===Yt(t._path)?hk(n.infoSyncTree_,t,e):hk(n.serverSyncTree_,t,e),tW(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>Dk(n._repo,n,a)}function Ok(n,t,e,i){return Ky(n,"value",t,e,i)}function yW(n,t,e,i){return Ky(n,"child_added",t,e,i)}function vW(n,t,e,i){return Ky(n,"child_changed",t,e,i)}function bW(n,t,e,i){return Ky(n,"child_moved",t,e,i)}function wW(n,t,e,i){return Ky(n,"child_removed",t,e,i)}function EW(n,t,e){let i=null;const r=e?new Mk(e):null;"value"===t?i=new qy(r):t&&(i=new HC(t,r)),Dk(n._repo,n,i)}class da{}class CW extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("endAt",this._value,t._path,!0);const e=ZR(t._queryParams,this._value,this._key);if(jC(e),eu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class rve extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("endBefore",this._value,t._path,!1);const e=function f_e(n,t,e){let i;return i=ZR(n,t,n.index_===Ha||e?e:Wc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(jC(e),eu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class IW extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("startAt",this._value,t._path,!0);const e=KR(t._queryParams,this._value,this._key);if(jC(e),eu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class ave extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("startAfter",this._value,t._path,!1);const e=function h_e(n,t,e){let i;return i=KR(n,t,n.index_===Ha||e?e:Ol),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(jC(e),eu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class cve extends da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(t._repo,t._path,function u_e(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class dve extends da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(t._repo,t._path,function d_e(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fve extends da{constructor(t){super(),this._path=t}_apply(t){UC(t,"orderByChild");const e=new Mn(this._path);if(Qt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new WR(e),r=_C(t._queryParams,i);return eu(r),new Go(t._repo,t._path,r,!0)}}class mve extends da{_apply(t){UC(t,"orderByKey");const e=_C(t._queryParams,Ha);return eu(e),new Go(t._repo,t._path,e,!0)}}class _ve extends da{_apply(t){UC(t,"orderByPriority");const e=_C(t._queryParams,si);return eu(e),new Go(t._repo,t._path,e,!0)}}class vve extends da{_apply(t){UC(t,"orderByValue");const e=_C(t._queryParams,GR);return eu(e),new Go(t._repo,t._path,e,!0)}}class wve extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if($a("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new CW(this._value,this._key)._apply(new IW(this._value,this._key)._apply(t))}}function ha(n,...t){let e=(0,D.m9)(n);for(const i of t)e=i._apply(e);return e}(function tye(n){(0,D.hu)(!DC,"__referenceConstructor has already been defined"),DC=n})(Us),function sye(n){(0,D.hu)(!AC,"__referenceConstructor has already been defined"),AC=n}(Us);const Pk={};function Fk(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ar("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=kk(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=kk(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new xy(xy.OWNER):new gge(n.name,n.options,t);eW("Invalid Firebase Database URL",s),Qt(s.path)||ja("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function xve(n,t,e,i){let r=Pk[t.name];r||(r={},Pk[t.name]=r);let o=r[n.toURLString()];return o&&ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Nye(n,false,e,i),r[n.toURLString()]=o,o}(a,n,u,new mge(n.name,e));return new Sve(f,n)}class Sve{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Oye(n,t,e){if(n.stats_=FR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new yC(n.repoInfo_,(i,r,o,s)=>{oW(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>sW(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Md(n.repoInfo_,t,(i,r,o,s)=>{oW(n,i,r,o,s)},i=>{sW(n,i)},i=>{!function Pye(n,t){Rr(t,(e,i)=>{Tk(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function vge(n,t){const e=n.toString();return PR[e]||(PR[e]=t()),PR[e]}(n.repoInfo_,()=>new v_e(n.stats_,n.server_)),n.infoData_=new p_e,n.infoSyncTree_=new z5({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Vy(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Tk(n,"connected",!1),n.serverSyncTree_=new z5({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);cs(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Us(this._repo,En())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Tve(n,t){const e=Pk[t];(!e||e[n.key]!==n)&&ja(`Database ${t}(${n.repoInfo_}) has already been deleted.`),lW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ja("Cannot call "+t+" on a deleted database.")}}function xW(){Z4.IS_TRANSPORT_INITIALIZED&&ro("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ave(){xW(),Gc.forceDisallow()}function Rve(){xW(),Sp.forceDisallow(),Gc.forceAllow()}function Nve(n,t){A4(n,t)}const Pve={".sv":"timestamp"};class Vve{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Md.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Md.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ove(n){SR(Ls.SDK_VERSION),(0,Ls._registerComponent)(new Nl.wA("database",(t,{instanceIdentifier:e})=>Fk(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(C4,"1.0.1",n),(0,Ls.registerVersion)(C4,"1.0.1","esm2017")}();const Hve=new ls.Yd("@firebase/database-compat"),SW=function(n){Hve.warn("FIREBASE WARNING: "+n)};class Wve{constructor(t){this._delegate=t}cancel(t){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,SW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Gve{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class tu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Wy("DataSnapshot.child","path",t,!1),new tu(this._database,this._delegate.child(t))}hasChild(t){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Wy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new tu(this._database,e)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new us(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",e,!1);const s=Wr.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{e.call(s.context,new tu(this.database,c),u)};a.userCallback=e,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return Ok(this._delegate,a,l),e;case"child_added":return yW(this._delegate,a,l),e;case"child_removed":return wW(this._delegate,a,l),e;case"child_changed":return vW(this._delegate,a,l),e;case"child_moved":return bW(this._delegate,a,l),e;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,D.Wj)("Query.off","callback",e,!0),(0,D.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,EW(this._delegate,t,r)}else EW(this._delegate,t)}get(){return nve(this._delegate).then(t=>new tu(this.database,t))}once(t,e,i,r){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",e,!0);const o=Wr.getCancelAndContextArgs_("Query.once",i,r),s=new D.BH,a=(c,u)=>{const f=new tu(this.database,c);e&&e.call(o.context,f,u),s.resolve(f)};a.userCallback=e,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Ok(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":yW(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":wW(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":vW(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":bW(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function uve(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cve(n)}(t)))}limitToLast(t){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function hve(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dve(n)}(t)))}orderByChild(t){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function pve(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Wy("orderByChild","path",n,!1),new fve(n)}(t)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function gve(){return new mve}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function yve(){return new _ve}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function bve(){return new vve}()))}startAt(t=null,e){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function sve(n=null,t){return $y("startAt","key",t,!0),new IW(n,t)}(t,e)))}startAfter(t=null,e){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function lve(n,t){return $y("startAfter","key",t,!0),new ave(n,t)}(t,e)))}endAt(t=null,e){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function ive(n,t){return $y("endAt","key",t,!0),new CW(n,t)}(t,e)))}endBefore(t=null,e){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function ove(n,t){return $y("endBefore","key",t,!0),new rve(n,t)}(t,e)))}equalTo(t,e){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new Wr(this.database,ha(this._delegate,function Eve(n,t){return $y("equalTo","key",t,!0),new wve(n,t)}(t,e)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Wr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,D.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,D.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,D.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new us(this.database,new Us(this._delegate._repo,this._delegate._path))}}class us extends Wr{constructor(t,e){super(t,new Go(e._repo,e._path,new gC,!1)),this.database=t,this._delegate=e}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new us(this.database,Vd(this._delegate,t))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new us(this.database,t):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new us(this.database,this._delegate.root)}set(t,e){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",e,!0);const i=Nk(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,SW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bs("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",e,!0);const i=tve(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function eve(n,t,e){if(Bs("setWithPriority",n._path),$a("setWithPriority",t,n._path,!1),Ik("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new D.BH;return xk(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",t,!0);const e=function Xye(n){return Bs("remove",n._path),Nk(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,D.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Bve(n,t,e){var i;if(n=(0,D.m9)(n),Bs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new D.BH,a=Ok(n,()=>{});return function $ye(n,t,e,i,r,o){Fp(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:x4(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Sk(n,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{zy("transaction failed: Data returned ",l,s.path),s.status=0;const c=NC(n.transactionQueueTree_,t),u=Fd(c)||[];let f;u.push(s),wk(c,u),"object"==typeof l&&null!==l&&(0,D.r3)(l,".priority")?(f=(0,D.DV)(l,".priority"),(0,D.hu)(Hy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(kC(n.serverSyncTree_,t)||Nt.EMPTY_NODE).getPriority().val();const m=Gy(n),_=ki(l,f),v=yk(_,a,m);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=v,s.currentWriteId=LC(n);const b=dk(n.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);cs(n.eventQueue_,t,b),VC(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,u)=>{let f=null;l?o.reject(l):(f=new Ld(u,new Us(n._repo,n._path),si),o.resolve(new Vve(c,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Gve(o.committed,new tu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Jye(n,t){n=(0,D.m9)(n),Bs("setPriority",n._path),Ik("setPriority",t,!1);const e=new D.BH;return xk(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",e,!0);const i=function Qye(n,t){n=(0,D.m9)(n),Bs("push",n._path),$a("push",t,n._path,!0);const e=rW(n._repo),i=Yye(e),r=Vd(n,i),o=Vd(n,i);let s;return s=null!=t?Nk(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new us(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new us(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Bs("Reference.onDisconnect",this._delegate._path),new Wve(new mW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Zy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ave,forceLongPolling:Rve}}useEmulator(t,e,i={}){!function DW(n,t,e,i={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ja("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xy(xy.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,D.Sg)(i.mockUserToken,n.app.options.projectId);o=new xy(s)}!function Ive(n,t,e,i){n.repoInfo_=new NR(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,D.Dv)("database.ref",0,1,arguments.length),t instanceof us){const e=_W(this._delegate,t.toString());return new us(this,e)}{const e=gW(this._delegate,t);return new us(this,e)}}refFromURL(t){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const i=_W(this._delegate,t);return new us(this,i)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function kve(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),lW(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function Mve(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function zye(n){n.persistentConnection_&&n.persistentConnection_.resume(iW)}(n._repo)}(this._delegate)}}Zy.ServerValue={TIMESTAMP:function Fve(){return Pve}(),increment:n=>function Lve(n){return{".sv":{increment:n}}}(n)};var Kve=Object.freeze({__proto__:null,initStandalone:function qve({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){SR(e);const a=new Nl.H0("database-standalone"),l=new Nl.zt("auth-internal",a);let c;return l.setComponent(new Nl.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new Nl.zt("app-check-internal",a),c.setComponent(new Nl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Zy(Fk(n,l,c,t,s),n),namespace:o}}});const Zve=Zy.ServerValue;function Yy(n,t,e="on",i=fd){return new at(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(Ie(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),re())}function AW(n){return null==n}function RW(n){return"function"==typeof n.set}function kW(n,t){return RW(t)?t:n.ref(t)}function MW(n,t){if(function Qve(n){return"string"==typeof n}(n))return t.stringCase();if(RW(n))return t.firebaseCase();if(function Xve(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function NW(n){return(AW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function OW(n,t,e){return x(...(t=NW(t)).map(r=>Yy(n,r,"on",e)))}function PW(n,t){return function(i,r){return MW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function nbe(n){return function(e){return e?MW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function FW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function obe(n,t){const{payload:e,prevKey:i,key:r}=t,o=FW(n,r),s=function rbe(n,t){if(AW(t))return 0;{const e=FW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function LW(n,t,e){return function ibe(n,t,e){return Yy(n,"value","once",e).pipe(Ue(i=>{const r=[R(i)];return t.forEach(o=>r.push(Yy(n,o,"on",e))),x(...r).pipe(Qf(obe,[]))}),lt())}(n,t=NW(t),e)}function VW(n,t){return function(){return Yy(n,"value","on",t)}}!function Yve(n){n.INTERNAL.registerComponent(new Nl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Zy(r,i)},"PUBLIC").setServiceProps({Reference:us,Query:Wr,Database:Zy,DataSnapshot:tu,enableLogging:Nve,INTERNAL:Kve,ServerValue:Zve}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(la.Z);const lbe=new oe("angularfire2.realtimeDatabaseURL"),cbe=new oe("angularfire2.database.use-emulator");let BW=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b,I){this.schedulers=a;const M=l,A=aC(e,s,i);c&&xR(A,s,u,m,_,v,f,b),this.database=yR(`${A.name}.database.${r}`,"AngularFireDatabase",A.name,()=>{const V=s.runOutsideAngular(()=>A.database(r||void 0));return M&&V.useEmulator(...M),V},[M])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>kW(this.database,e));let o=r;return i&&(o=i(r)),function sbe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:PW(i,"update"),set:PW(i,"set"),push:r=>i.push(r),remove:nbe(i),snapshotChanges:r=>LW(n,r,e).pipe(hr),stateChanges:r=>OW(n,r,e).pipe(hr),auditTrail:r=>function Jve(n,t,e){return function tbe(n,t,e){return function ebe(n,t){return Yy(n,"value","on",t).pipe(Ie(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(TE(t),Ie(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function nge(n){return se((t,e)=>{let i=!1,r=0;t.subscribe(De(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ie(r=>r.actions))}(n,OW(n,t).pipe(Qf((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(hr),valueChanges:(r,o)=>LW(n,r,e).pipe(Ie(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),hr)}}(o,this)}object(e){return function abe(n,t){return{query:n,snapshotChanges:()=>VW(n,t.schedulers.outsideAngular)().pipe(hr),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>VW(n,t.schedulers.outsideAngular)().pipe(hr,Ie(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>kW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(O(vy),O(by,8),O(lbe,8),O(Ss),O(He),O(_R),O(cbe,8),O(wy,8),O(bR,8),O(wR,8),O(ER,8),O(CR,8),O(IR,8),O(TR,8),O(gR,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ube=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",yy.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[BW]})}return n})();var Qy=rt(562);const vbe=Hme(Qy.o,!0);let Xy=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new w(!1),this.navDisappear=new w(!1),this.httpHeaders=new Fs,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),r?.getIdToken().then(o=>{this.user.idToken=o,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(s=>{s?(this.user.claims=s,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin)):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Fs).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return R({})}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new Qy.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new Qy.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new Qy.R(vbe(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wy),O(my))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jy=(()=>{class n{constructor(e,i,r){this.realTimeDatabase=e,this.http=i,this.authService=r,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.refNotes=e.list("/notes"),this.refRecipeList=e.list("/recipes")}ngOnInit(){}getNotes(){return this.refNotes.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))),Sl(e=>cd(e)))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(e,i){this.refNotes.update(e,i)}getRecipe(e){return this.refRecipeList.snapshotChanges().pipe(Ie(i=>i.map(r=>({key:e,Recipe:r.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addRecipe(e){this.refRecipeList.push(e)}updateRecipe(e,i){this.refRecipeList.update(e,i)}deleteRecipe(e){this.refRecipeList.remove(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(BW),O(my),O(Xy))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bbe=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"filter",type:n,pure:!0})}return n})();function wbe(n,t){1&n&&dt(0,"span",13)}const Ebe=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function Cbe(n,t){if(1&n){const e=Yn();B(0,"div",8)(1,"button",9),Ae("click",function(){return vt(e),gt(pe().deleteAllNotes())}),Te(2,"Osszes jegyzet torlese"),L(),B(3,"label",10),Te(4,"Keres\xe9s"),L(),B(5,"input",11),Ae("keyup",function(){return vt(e),gt(pe().inputClass=!1)})("keypress",function(){return vt(e),gt(pe().inputClass=!0)})("ngModelChange",function(r){return vt(e),gt(pe().searchWord=r)}),L(),he(6,wbe,1,0,"span",12),L()}if(2&n){const e=pe();G(5),Z("ngClass",vw(3,Ebe,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),G(1),Z("ngIf",e.searchWord)}}function Ibe(n,t){1&n&&dt(0,"span",22)}function Tbe(n,t){1&n&&dt(0,"span",23)}const xbe=function(n,t){return{"btn-success":n,"btn-warning":t}};function Dbe(n,t){if(1&n){const e=Yn();B(0,"form",14)(1,"label",15),Te(2,"C\xedm"),L(),B(3,"input",16),Ae("ngModelChange",function(r){return vt(e),gt(pe().title=r)}),L(),B(4,"label",17),Te(5,"Tennival\xf3"),L(),B(6,"textarea",18),Ae("ngModelChange",function(r){return vt(e),gt(pe().body=r)}),L(),B(7,"button",19),Ae("click",function(){return vt(e),gt(pe().createUpdateControl())}),he(8,Ibe,1,0,"span",20),he(9,Tbe,1,0,"span",21),Te(10),L()()}if(2&n){const e=pe();G(3),Z("ngModel",e.title),G(3),Z("ngModel",e.body),G(1),Z("ngClass",td(6,xbe,e.key,!e.key)),G(1),Z("ngIf",!e.key),G(1),Z("ngIf",e.key),G(1),Cr(" ",e.buttonText,"")}}const Sbe=function(n){return{warning:n}};function Abe(n,t){if(1&n&&(B(0,"div",24)(1,"b"),Te(2),L()()),2&n){const e=pe();Z("ngClass",Cl(2,Sbe,1==e.isLoading)),G(2),Ri(e.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function Rbe(n,t){if(1&n){const e=Yn();B(0,"div",26)(1,"b"),Te(2," Hiba tortent az adatok lekeresekor: "),L(),Te(3),B(4,"button",27),Ae("click",function(){return vt(e),gt(pe(2).onHandleError())}),Te(5,"Rendben"),L()()}if(2&n){const e=pe(2);G(3),Cr(" ",e.errorm," ")}}function kbe(n,t){1&n&&he(0,Rbe,6,1,"div",25),2&n&&Z("ngIf",pe().errorm)}function Mbe(n,t){if(1&n){const e=Yn();B(0,"div",30)(1,"div",31)(2,"div",32)(3,"h5",33),Te(4),L(),B(5,"p",34),Te(6),L()(),B(7,"div",35),Te(8),__(9,"date"),L(),B(10,"div",36)(11,"div",37)(12,"span",38),Ae("click",function(){const o=vt(e).$implicit;return gt(pe(2).putDataToInput(o))}),L()(),B(13,"div",39)(14,"span",40),Ae("click",function(){const o=vt(e).$implicit;return gt(pe(2).deleteNote(o))}),L()()()()()}if(2&n){const e=t.$implicit;G(4),Ri(e.title),G(2),Ri(e.body),G(2),e1(" ",0===e.counter?"Letrehozva: ":"Modositva: "," ",y_(9,4,e.timeStamp,"medium")," ")}}function Nbe(n,t){if(1&n&&(B(0,"div",28),he(1,Mbe,15,7,"div",29),__(2,"filter"),L()),2&n){const e=pe();G(1),Z("ngForOf",y_(2,1,e.notes,e.searchWord))}}const Obe=function(n,t){return{fg:n,"text-warning":t}};let Pbe=(()=>{class n{constructor(e){this.baseService=e,this.isOpen=!1,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1,console.log(this.key)}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:e=>{this.isLoading=!1,this.notes=e},error:e=>{this.errorm=e.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(e),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(e=>{this.notes=[]})}updateNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,e),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Jy))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search text-center me-3 d-flex",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","text-center","me-3","d-flex"],["type","button",1,"btn","btn-danger",3,"click"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){if(1&i&&(B(0,"div",0),he(1,Cbe,7,7,"div",1),B(2,"button",2),Ae("click",function(){return r.isOpen=!r.isOpen}),dt(3,"span",3),L(),he(4,Dbe,11,9,"form",4),L(),he(5,Abe,3,4,"div",5),he(6,kbe,1,1,"ng-template",null,6,jo),he(8,Nbe,3,4,"div",7)),2&i){const o=lr(7);G(1),Z("ngIf",!r.isOpen),G(2),Z("ngClass",td(6,Obe,r.isOpen,!r.isOpen)),G(1),Z("ngIf",r.isOpen),G(1),Z("ngIf",r.notes.length<1&&!r.errorm&&!r.clearError)("ngIfElse",o),G(3),Z("ngIf",!r.isUpdating&&r.notes.length>=1)}},dependencies:[xc,Os,Hr,F_,Ac,od,R_,ad,Mc,ZU,bbe],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return n})();class Fbe{constructor(t){this._box=t,this._destroyed=new H,this._resizeSubject=new H,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new at(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Hn(e=>e.some(i=>i.target===t)),vR({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Lbe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ce(He)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Fbe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jW{}class Vbe{}const Fl="*";function $C(n,t){return{type:7,name:n,definitions:t,options:{}}}function ev(n,t=null){return{type:4,styles:t,timings:n}}function HW(n,t=null){return{type:2,steps:n,options:t}}function Ll(n){return{type:6,styles:n,offset:null}}function WC(n,t,e){return{type:0,name:n,styles:t,options:e}}function Vp(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Bbe(n=null){return{type:9,options:n}}function Ube(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class tv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class zW{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const jbe=["notch"],Hbe=["matFormFieldNotchedOutline",""],zbe=["*"],$be=["textField"],Wbe=["iconPrefixContainer"],Gbe=["textPrefixContainer"];function qbe(n,t){1&n&&dt(0,"span",19)}function Kbe(n,t){if(1&n&&(B(0,"label",17),dn(1,1),he(2,qbe,1,0,"span",18),L()),2&n){const e=pe(2);Z("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Pt("for",e._control.id),G(2),Z("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Zbe(n,t){1&n&&he(0,Kbe,3,5,"label",16),2&n&&Z("ngIf",pe()._hasFloatingLabel())}function Ybe(n,t){1&n&&dt(0,"div",20)}function Qbe(n,t){}function Xbe(n,t){1&n&&he(0,Qbe,0,0,"ng-template",22),2&n&&(pe(2),Z("ngTemplateOutlet",lr(1)))}function Jbe(n,t){if(1&n&&(B(0,"div",21),he(1,Xbe,1,1,"ng-template",9),L()),2&n){const e=pe();Z("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),G(1),Z("ngIf",!e._forceDisplayInfixLabel())}}function e0e(n,t){1&n&&(B(0,"div",23,24),dn(2,2),L())}function t0e(n,t){1&n&&(B(0,"div",25,26),dn(2,3),L())}function n0e(n,t){}function i0e(n,t){1&n&&he(0,n0e,0,0,"ng-template",22),2&n&&(pe(),Z("ngTemplateOutlet",lr(1)))}function r0e(n,t){1&n&&(B(0,"div",27),dn(1,4),L())}function o0e(n,t){1&n&&(B(0,"div",28),dn(1,5),L())}function s0e(n,t){1&n&&dt(0,"div",29)}function a0e(n,t){1&n&&(B(0,"div",30),dn(1,6),L()),2&n&&Z("@transitionMessages",pe()._subscriptAnimationState)}function l0e(n,t){if(1&n&&(B(0,"mat-hint",34),Te(1),L()),2&n){const e=pe(2);Z("id",e._hintLabelId),G(1),Ri(e.hintLabel)}}function c0e(n,t){if(1&n&&(B(0,"div",31),he(1,l0e,2,2,"mat-hint",32),dn(2,7),dt(3,"div",33),dn(4,8),L()),2&n){const e=pe();Z("@transitionMessages",e._subscriptAnimationState),G(1),Z("ngIf",e.hintLabel)}}const u0e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],d0e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Bp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-label"]]})}return n})();const h0e=new oe("MatError");let f0e=0,$W=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+f0e++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(jr("id",r.id),Pt("align",null),st("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const p0e=new oe("MatPrefix"),WW=new oe("MatSuffix");let m0e=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[bt([{provide:WW,useExisting:n}])]})}return n})();const GW=new oe("FloatingLabelParent");let qW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ce(Lbe),this._ngZone=Ce(He),this._parent=Ce(GW),this._resizeSubscription=new ft}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function g0e(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt))};static#t=this.\u0275dir=X({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&st("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const KW="mdc-line-ripple--active",GC="mdc-line-ripple--deactivating";let ZW=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(GC);"opacity"===r.propertyName&&s&&o.remove(KW,GC)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(GC),e.add(KW)}deactivate(){this._elementRef.nativeElement.classList.add(GC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(He))};static#t=this.\u0275dir=X({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),YW=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&wn(jbe,5),2&i){let o;Le(o=Ve())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&st("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Hbe,ngContentSelectors:zbe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(no(),dt(0,"div",0),B(1,"div",1,2),dn(3),L(),dt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const _0e={transitionMessages:$C("transitionMessages",[WC("enter",Ll({opacity:1,transform:"translateY(0%)"})),Vp("void => enter",[Ll({opacity:0,transform:"translateY(-5px)"}),ev("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n})}return n})();const Hk=new oe("MatFormField"),y0e=new oe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let QW=0,qC=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Pn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+QW++,this._hintLabelId="mat-mdc-hint-"+QW++,this._subscriptAnimationState="",this._destroyed=new H,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),x(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(ur),T(He),T(wp),T(Sr),T(y0e,8),T(Ys,8),T(wt))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,Bp,5),Ft(o,Bp,7),Ft(o,jk,5),Ft(o,p0e,5),Ft(o,WW,5),Ft(o,h0e,5),Ft(o,$W,5)),2&i){let s;Le(s=Ve())&&(r._labelChildNonStatic=s.first),Le(s=Ve())&&(r._labelChildStatic=s.first),Le(s=Ve())&&(r._formFieldControl=s.first),Le(s=Ve())&&(r._prefixChildren=s),Le(s=Ve())&&(r._suffixChildren=s),Le(s=Ve())&&(r._errorChildren=s),Le(s=Ve())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(wn($be,5),wn(Wbe,5),wn(Gbe,5),wn(qW,5),wn(YW,5),wn(ZW,5)),2&i){let o;Le(o=Ve())&&(r._textField=o.first),Le(o=Ve())&&(r._iconPrefixContainer=o.first),Le(o=Ve())&&(r._textPrefixContainer=o.first),Le(o=Ve())&&(r._floatingLabel=o.first),Le(o=Ve())&&(r._notchedOutline=o.first),Le(o=Ve())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&st("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[bt([{provide:Hk,useExisting:n},{provide:GW,useExisting:n}])],ngContentSelectors:d0e,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(no(u0e),he(0,Zbe,1,1,"ng-template",null,0,jo),B(2,"div",1,2),Ae("click",function(s){return r._control.onContainerClick(s)}),he(4,Ybe,1,0,"div",3),B(5,"div",4),he(6,Jbe,2,2,"div",5),he(7,e0e,3,0,"div",6),he(8,t0e,3,0,"div",7),B(9,"div",8),he(10,i0e,1,1,"ng-template",9),dn(11),L(),he(12,r0e,2,0,"div",10),he(13,o0e,2,0,"div",11),L(),he(14,s0e,1,0,"div",12),L(),B(15,"div",13),he(16,a0e,2,1,"div",14),he(17,c0e,5,2,"div",15),L()),2&i&&(G(2),st("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),G(2),Z("ngIf",!r._hasOutline()&&!r._control.disabled),G(2),Z("ngIf",r._hasOutline()),G(1),Z("ngIf",r._hasIconPrefix),G(1),Z("ngIf",r._hasTextPrefix),G(2),Z("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),G(2),Z("ngIf",r._hasTextSuffix),G(1),Z("ngIf",r._hasIconSuffix),G(1),Z("ngIf",!r._hasOutline()),G(1),st("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Z("ngSwitch",r._getDisplayedMessages()),G(1),Z("ngSwitchCase","error"),G(1),Z("ngSwitchCase","hint"))},dependencies:[Hr,Dc,x_,tS,$W,qW,YW,ZW],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_0e.transitionMessages]},changeDetection:0})}return n})(),KC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Gf,_$,Li]})}return n})();const eG=yp({passive:!0});let w0e=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yn;const i=Hc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new H,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,eG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,eG)}}),o}stopMonitoring(e){const i=Hc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const C0e=new oe("MAT_INPUT_VALUE_ACCESSOR"),I0e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let T0e=0;const x0e=P$(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new H}});let ZC=(()=>{class n extends x0e{get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(A_.required)??!1}set required(e){this._required=Pn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pn(e)}constructor(e,i,r,o,s,a,l,c,u,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+T0e++,this.focused=!1,this.stateChanges=new H,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>d$().has(v)),this._iOSKeyupListener=v=>{const b=v.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,_=m.nodeName.toLowerCase();this._inputValueAccessor=l||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){I0e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt),T(Sr),T(Fa,10),T(Mc,8),T(Kf,8),T(F$),T(C0e,10),T(w0e),T(He),T(Hk,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Ae("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(jr("id",r.id)("disabled",r.disabled)("required",r.required),Pt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),st("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[bt([{provide:jk,useExisting:n}]),Ke,Zn]})}return n})(),D0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,KC,KC,E0e,Li]})}return n})();const nv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=nv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ft(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=nv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=nv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class A0e extends IE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class S0e extends CE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(nv.cancelAnimationFrame(e),t._scheduled=void 0)}});let zk,k0e=1;const YC={};function tG(n){return n in YC&&(delete YC[n],!0)}const M0e={setImmediate(n){const t=k0e++;return YC[t]=!0,zk||(zk=Promise.resolve()),zk.then(()=>tG(t)&&n()),t},clearImmediate(n){tG(n)}},{setImmediate:N0e,clearImmediate:O0e}=M0e,QC={setImmediate(...n){const{delegate:t}=QC;return(t?.setImmediate||N0e)(...n)},clearImmediate(n){const{delegate:t}=QC;return(t?.clearImmediate||O0e)(n)},delegate:void 0};new class F0e extends IE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class P0e extends CE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=QC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(QC.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function nG(n,t=fd){return function V0e(n){return se((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(De(e,c=>{i=!0,r=c,o||ve(n(c)).subscribe(o=De(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>uA(n,t))}let iG=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new H,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new at(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(nG(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):R()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Hc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(He),O(Sr),O(wt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XC=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new H,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(nG(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sr),O(He),O(wt,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),$k=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[hy,JC,hy,JC]})}return n})();class Wk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rG extends Wk{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class oG extends Wk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class H0e extends Wk{constructor(t){super(),this.element=t instanceof nt?t.nativeElement:t}}class z0e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof rG?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oG?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof H0e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $0e extends z0e{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||$i.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let W0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const sG=Ife();class G0e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),sG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class q0e{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Hn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aG{enable(){}disable(){}attach(){}}function Gk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function lG(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class K0e{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Gk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z0e=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aG,this.close=s=>new q0e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new G0e(this._viewportRuler,this._document),this.reposition=s=>new K0e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(iG),O(XC),O(He),O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cG{constructor(t){if(this.scrollStrategy=new aG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Y0e{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let uG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q0e=(()=>{class n extends uG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(He,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X0e=(()=>{class n extends uG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=jc(o)},this._clickListener=o=>{const s=jc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(Sr),O(He,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dG=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||YA()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),YA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(Sr))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class J0e{constructor(t,e,i,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new H,this._attachments=new H,this._detachments=new H,this._locationChanges=ft.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new H,this._outsidePointerEvents=new H,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=qE(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Et(x(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hG="cdk-overlay-connected-position-bounding-box",ewe=/([A-Za-z%]+)$/;class twe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H,this._resizeSubscription=ft.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(hG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=pG(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let m=0-a,_=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,m,_),I=v*b;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=fG(this._overlayRef.getConfig().minHeight),a=fG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=pG(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Y0e(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,f,m;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=2*_,f=t.x-_,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-v/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=er(i.height),r.top=er(i.top),r.bottom=er(i.bottom),r.width=er(i.width),r.left=er(i.left),r.right=er(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=er(o)),s&&(r.maxWidth=er(s))}this._lastBoundingBoxSize=i,Bd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Bd(i,this._getExactOverlayY(e,t,u)),Bd(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=er(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=er(s.maxWidth):o&&(i.maxWidth="")),Bd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=er(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=er(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lG(t,i),isOriginOutsideView:Gk(t,i),isOverlayClipped:lG(e,i),isOverlayOutsideView:Gk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof nt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Bd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function fG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ewe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function pG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const mG="cdk-global-overlay-wrapper";class nwe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let _="",v="",b="";l?b="flex-start":"center"===u?(b="center",m?v=f:_=f):m?"left"===u||"end"===u?(b="flex-end",_=f):("right"===u||"start"===u)&&(b="flex-start",v=f):"left"===u||"start"===u?(b="flex-start",_=f):("right"===u||"end"===u)&&(b="flex-end",v=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(mG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let iwe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new nwe}flexibleConnectedTo(e){return new twe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(XC),O(wt),O(Sr),O(dG))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rwe=0,Up=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,f,m,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new cG(e);return s.direction=s.direction||this._directionality.value,new J0e(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+rwe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ta)),new $0e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Z0e),O(dG),O(Qg),O(iwe),O(Q0e),O($i),O(He),O(wt),O(wp),O(Rw),O(X0e),O(Ys,8))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const owe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gG=new oe("cdk-connected-overlay-scroll-strategy");let qk=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(T(nt))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),_G=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Pn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Pn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Pn(e)}get push(){return this._push}set push(e){this._push=Pn(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ft.EMPTY,this._attachSubscription=ft.EMPTY,this._detachSubscription=ft.EMPTY,this._positionSubscription=ft.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Pe,this.positionChange=new Pe,this.attach=new Pe,this.detach=new Pe,this.overlayKeydown=new Pe,this.overlayOutsideClick=new Pe,this._templatePortal=new oG(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=owe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!vp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new cG({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof qk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function j0e(n,t=!1){return se((e,i)=>{let r=0;e.subscribe(De(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up),T(hn),T(Xi),T(gG),T(wp,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Zn]})}return n})();const awe={provide:gG,deps:[Up],useFactory:function swe(n){return()=>n.scrollStrategies.reposition()}};let yG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[Up,awe],imports:[hy,W0e,$k,$k]})}return n})();const lwe=["tooltip"],vG=new oe("mat-tooltip-scroll-strategy"),dwe={provide:vG,deps:[Up],useFactory:function uwe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},fwe=new oe("mat-tooltip-default-options",{providedIn:"root",factory:function hwe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),bG="tooltip-panel",wG=yp({passive:!0});let vwe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Pn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Pn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=GE(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=GE(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,c,u,f,m,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new H,this._scrollStrategy=u,this._document=_,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),f.change.pipe(Et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,wG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new rG(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof nt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Et(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${bG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Et(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!vp(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qn(1),Et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${bG}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,wG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Sf()};static#t=this.\u0275dir=X({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),EG=(()=>{class n extends vwe{constructor(e,i,r,o,s,a,l,c,u,f,m,_){super(e,i,r,o,s,a,l,c,u,f,m,_),this._tooltipComponent=wwe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up),T(nt),T(iG),T(Xi),T(He),T(Sr),T(Gfe),T(S$),T(vG),T(wp,8),T(fwe,8),T(wt))};static#t=this.\u0275dir=X({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&st("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Ke]})}return n})(),bwe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new H,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(T(ur),T(Ys,8))};static#t=this.\u0275dir=X({type:n})}return n})(),wwe=(()=>{class n extends bwe{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(T(ur),T(nt),T(Ys,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&wn(lwe,7),2&i){let o;Le(o=Ve())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Ae("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&Xu("zoom",r.isVisible()?1:null)},features:[Ke],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(B(0,"div",0,1),Ae("animationend",function(s){return r._handleAnimationEnd(s)}),B(2,"div",2),Te(3),L()()),2&i&&(st("mdc-tooltip--multiline",r._isMultiline),Z("ngClass",r.tooltipClass),G(3),Ri(r.message))},dependencies:[xc],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),Ewe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[dwe],imports:[cpe,Gf,yG,Li,Li,JC]})}return n})();const Cwe=["f"];function Iwe(n,t){1&n&&(B(0,"span"),Te(1,"Kerlek adj meg egy ervenyes e-mail cimet"),L())}function Twe(n,t){if(1&n&&(B(0,"div")(1,"label"),dt(2,"input",13),Te(3),L()()),2&n){const e=t.$implicit;G(2),Z("value",e),G(1),Cr(" ",e," ")}}let xwe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"Pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.signupForm.reset(),this.router.navigate(["login"]),this.isLoggedIn=""}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xy),T(xr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-signup"]],viewQuery:function(i,r){if(1&i&&wn(Cwe,5),2&i){let o;Le(o=Ve())&&(r.signupForm=o.first)}},decls:20,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[4,"ngIf"],["type","button",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],["ngModel","","type","radio","name","genders","id","genders","required","",3,"value"]],template:function(i,r){if(1&i&&(B(0,"div",0)(1,"h2",1),Te(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),L()(),B(3,"form",2,3),Ae("ngSubmit",function(){return r.createUserWithEmAndPa()}),B(5,"mat-form-field")(6,"mat-label",4),Te(7,"Email"),L(),B(8,"input",5,6),Ae("ngModelChange",function(s){return r.email=s}),L()(),he(10,Iwe,2,0,"span",7),B(11,"button",8),Ae("click",function(){return r.emailSuggestion()}),Te(12,"Mutass egy peldat a megfelelo formatumu email cimre!"),L(),B(13,"mat-form-field")(14,"mat-label",9),Te(15,"Jelsz\xf3"),L(),B(16,"input",10),Ae("ngModelChange",function(s){return r.password=s}),L()(),he(17,Twe,4,2,"div",11),B(18,"button",12),Te(19,"Regisztr\xe1ci\xf3"),L()()),2&i){const o=lr(4),s=lr(9);G(8),Z("ngModel",r.email),G(2),Z("ngIf",!s.valid&&s.touched),G(6),Z("ngModel",r.password),G(1),Z("ngForOf",r.genders),G(1),Z("disabled",!o.valid)}},dependencies:[Os,Hr,F_,Ac,RS,od,R_,tE,VS,ad,Mc,qC,Bp,Ep,ZC,EG],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function Dwe(n,t){1&n&&(B(0,"div",3)(1,"h2",4),Te(2," Bejelentkez\xe9s Email c\xedmmel "),L()())}function Swe(n,t){if(1&n){const e=Yn();B(0,"form",5),Ae("ngSubmit",function(){return vt(e),gt(pe().loginWithEmAndPa())}),B(1,"mat-form-field")(2,"mat-label",6),Te(3,"Email"),L(),B(4,"input",7),Ae("ngModelChange",function(r){return vt(e),gt(pe().email=r)}),L()(),B(5,"mat-form-field")(6,"mat-label",8),Te(7,"Jelsz\xf3"),L(),B(8,"input",9),Ae("ngModelChange",function(r){return vt(e),gt(pe().password=r)}),L()(),B(9,"button",10),Te(10,"Bejelentkez\xe9s"),L(),B(11,"h4",11),Te(12," Vagy bejelentkez\xe9s: "),B(13,"a",12),Ae("click",function(){vt(e);const r=pe();return r.facebookOrGoogle=!0,gt(r.booleanFunction())}),dt(14,"i",13),L(),B(15,"a",14),Ae("click",function(){vt(e);const r=pe();return r.facebookOrGoogle=!1,gt(r.booleanFunction())}),dt(16,"i",15),L(),B(17,"button",16),Ae("click",function(){vt(e);const r=pe();return r.booleanFunction(),gt(r.isPhone=!r.isPhone)}),dt(18,"span",17),L()()()}if(2&n){const e=pe();G(4),Z("ngModel",e.email),G(4),Z("ngModel",e.password)}}function Awe(n,t){if(1&n){const e=Yn();B(0,"div",19)(1,"button",20),Ae("click",function(){return vt(e),gt(pe(2).loginWithGoogle())}),dt(2,"i",21),Te(3," Bejelentkez\xe9s "),L()()}if(2&n){const e=pe(2);G(1),Z("disabled",!e.facebookOrGoogle)}}function Rwe(n,t){if(1&n){const e=Yn();B(0,"div",19)(1,"button",22),Ae("click",function(){return vt(e),gt(pe(2).loginWithFacebook())}),dt(2,"i",23),Te(3," Bejelentkez\xe9s "),L()()}if(2&n){const e=pe(2);G(1),Z("disabled",e.facebookOrGoogle)}}function kwe(n,t){if(1&n&&(Qs(0),he(1,Awe,4,1,"div",18),he(2,Rwe,4,1,"div",18),Xs()),2&n){const e=pe();G(1),Z("ngIf",e.emailOrGoogle),G(1),Z("ngIf",e.emailOrGoogle)}}function Mwe(n,t){if(1&n){const e=Yn();Qs(0),dt(1,"div",24),B(2,"div",25)(3,"div",26)(4,"input",27),Ae("ngModelChange",function(r){return vt(e),gt(pe().phoneNumber=r)}),L(),B(5,"label",28),Te(6,"Telefonsz\xe1m"),L()(),B(7,"div",29),dt(8,"span",30),L(),B(9,"div",31)(10,"button",32),Ae("click",function(){return vt(e),gt(pe().startLoginWithPhoneNumber())}),dt(11,"i",33),Te(12," Bejelentkez\xe9s "),L()()(),Xs()}if(2&n){const e=pe();G(2),Z("ngClass",e.isPhone?"d-flex":"d-none"),G(2),Z("ngModel",e.phoneNumber)}}function Nwe(n,t){if(1&n){const e=Yn();Qs(0),B(1,"div",34)(2,"input",35),Ae("ngModelChange",function(r){return vt(e),gt(pe().verificationCode=r)}),L(),B(3,"label",36),Te(4,"Meger\u0151s\xedt\u0151 k\xf3d"),L()(),B(5,"div",37)(6,"button",38),Ae("click",function(){return vt(e),gt(pe().verifyPhoneNumberAndLogin())}),Te(7," K\xf3d meger\u0151s\xedt\xe9se "),L()(),Xs()}if(2&n){const e=pe();G(2),Z("ngModel",e.verificationCode)}}let Owe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.router.navigate(["notes"])}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>this.router.navigate(["notes"]))}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate(["notes"]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber(this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=Qy.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>this.router.navigate(["notes"]))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xy),T(xr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],[1,"bi","bi-facebook","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["color","primary","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-facebook"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(he(0,Dwe,3,0,"div",0),he(1,Swe,19,2,"form",1),he(2,kwe,3,2,"ng-container",2),he(3,Mwe,13,2,"ng-container",2),he(4,Nwe,8,1,"ng-container",2)),2&i&&(Z("ngIf",!r.emailOrGoogle),G(1),Z("ngIf",!r.emailOrGoogle),G(1),Z("ngIf",r.emailOrGoogle&&!r.isPhone),G(1),Z("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),G(1),Z("ngIf",r.verificationId))},dependencies:[xc,Hr,F_,Ac,od,R_,ad,Mc,qC,Bp,Ep,ZC,EG],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:44%;width:20%}"]})}return n})();const Pwe=["saveChanges"];function Fwe(n,t){if(1&n&&(B(0,"div",3)(1,"b"),Te(2),L()()),2&n){const e=t.$implicit;G(2),Ri(e)}}function Lwe(n,t){if(1&n){const e=Yn();B(0,"div",9)(1,"div",3),Te(2),L(),B(3,"div",3),dt(4,"img",10),L(),B(5,"div",3),Te(6),L(),B(7,"div",3)(8,"div",11)(9,"input",12),Ae("change",function(){const o=vt(e).$implicit;return gt(pe(2).changeClaims(o))})("ngModelChange",function(r){return gt(vt(e).$implicit.claims.superAdmin=r)}),L(),B(10,"label",13),Te(11,"Super Admin"),L()(),B(12,"div",11)(13,"input",12),Ae("change",function(){const o=vt(e).$implicit;return gt(pe(2).changeClaims(o))})("ngModelChange",function(r){return gt(vt(e).$implicit.claims.admin=r)}),L(),B(14,"label",13),Te(15,"Admin"),L()(),B(16,"div",11)(17,"input",12),Ae("change",function(){const o=vt(e).$implicit;return gt(pe(2).changeClaims(o))})("ngModelChange",function(r){return gt(vt(e).$implicit.claims.basic=r)}),L(),B(18,"label",13),Te(19,"Alap jogosults\xe1g"),L()()()()}if(2&n){const e=t.$implicit;G(2),Ri(e.displayName),G(2),uw("src",e.profilePicture,sD),G(2),Ri(e.email),G(3),Z("ngModel",e.claims.superAdmin),G(4),Z("ngModel",e.claims.admin),G(4),Z("ngModel",e.claims.basic)}}function Vwe(n,t){if(1&n){const e=Yn();Qs(0),he(1,Lwe,20,6,"div",4),B(2,"div",5)(3,"div",6)(4,"button",7,8),Ae("click",function(){return vt(e),gt(pe().save())}),Te(6,"Modositasok mentese"),L()()(),Xs()}if(2&n){const e=pe();G(1),Z("ngForOf",e.users)}}let Bwe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(e=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xy),T(xr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&wn(Pwe,5),2&i){let o;Le(o=Ve())&&(r.saveChanges=o.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(B(0,"div",0),he(1,Fwe,3,1,"div",1),L(),he(2,Vwe,7,1,"ng-container",2)),2&i&&(G(1),Z("ngForOf",r.columns),G(1),Z("ngIf",r.users))},dependencies:[Os,Hr,_S,od,ad]})}return n})();const Uwe=["*"],zwe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],$we=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Wwe=new oe("MAT_CARD_CONFIG");let Kk=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(T(Wwe,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&st("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Uwe,decls:1,vars:0,template:function(i,r){1&i&&(no(),dn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),Zk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),Yk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),CG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),IG=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&st("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Qk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:$we,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(no(zwe),dn(0),B(1,"div",0),dn(2,1),L(),dn(3,2))},encapsulation:2,changeDetection:0})}return n})(),TG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),qwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Gf,Li]})}return n})();function Kwe(n,t){if(1&n&&(Qs(0),B(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),Te(5),L()(),B(6,"mat-card-content")(7,"p"),Te(8),L()()()(),Xs()),2&n){const e=pe();G(5),Ri(e.weather.location),G(3),Ri(e.weather.forecast)}}let Zwe=(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Jy))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),Te(3,"Hely neve"),L(),B(4,"input",2),Ae("ngModelChange",function(s){return r.location=s}),L()(),B(5,"button",3),Ae("click",function(){return r.getWeather(r.location)}),Te(6,"Keres\xe9s"),L()(),he(7,Kwe,9,2,"ng-container",4)),2&i&&(G(4),Z("ngModel",r.location),G(3),Z("ngIf",r.weather.location))},dependencies:[Hr,Ac,od,ad,qC,Bp,Kk,Yk,Qk,Zk,Ep,ZC]})}return n})(),Ywe=(()=>{class n{transform(e,i){return e.sort((r,o)=>r[i]>o[i]?1:-1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"sort",type:n,pure:!0})}return n})(),Qwe=(()=>{class n{transform(e,i){return e.length>i?e.substr(0,i)+"...":e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"shorten",type:n,pure:!0})}return n})();const Xwe=function(n){return{active:n}};function Jwe(n,t){if(1&n){const e=Yn();B(0,"div",6)(1,"ul",7)(2,"li",8),Ae("click",function(){const o=vt(e).$implicit;return gt(pe().recipeDetail(o.key))}),Te(3),__(4,"shorten"),L()()()}if(2&n){const e=t.$implicit,i=pe();G(2),Z("ngClass",Cl(5,Xwe,e.key===i.key)),G(1),Cr(" ",y_(4,2,e.name,15)," ")}}let eEe=(()=>{class n{constructor(e,i,r){this.baseService=e,this.router=i,this.route=r,this.recipeEdit=!1,this.key="",this.recipes=[]}ngOnInit(){this.baseService.getRecipes().subscribe(e=>{this.recipes=e})}recipeDetail(e){this.key=e,this.router.navigate(["detail"],{relativeTo:this.route,queryParams:{key:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Jy),T(xr),T(Rl))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipes"]],decls:10,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"text-center","col-12","col-md-4","col-lg-4","col-xl-4"],["routerLink","create","type","button",1,"btn","btn-secondary","mt-3"],[1,"mt-3","mb-0","border-top","border-success","border-5"],["class","mt-0 text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-8","col-lg-8","col-xl-8"],[1,"mt-0","text-center"],[1,"list-group","text-center","mt-0"],[1,"list-group-item","list-group-item-light","mb-1",2,"cursor","pointer",3,"ngClass","click"]],template:function(i,r){1&i&&(B(0,"div",0)(1,"div",1)(2,"button",2),Te(3," Uj recept hozzaadasa "),L(),B(4,"h2",3),Te(5,"Receptek"),L(),he(6,Jwe,5,7,"div",4),__(7,"sort"),L(),B(8,"div",5),dt(9,"router-outlet"),L()()),2&i&&(G(6),Z("ngForOf",y_(7,1,r.recipes,"name")))},dependencies:[xc,Os,pE,hd,Ywe,Qwe],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.active[_ngcontent-%COMP%]{background-color:#7e037eb3;border:2px solid purple}.border-success[_ngcontent-%COMP%]{border-color:#0d6a0d80!important}"]})}return n})();class tEe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const nEe=["trigger"],iEe=["panel"];function rEe(n,t){if(1&n&&(B(0,"span",10),Te(1),L()),2&n){const e=pe();G(1),Ri(e.placeholder)}}function oEe(n,t){if(1&n&&(B(0,"span",14),Te(1),L()),2&n){const e=pe(2);G(1),Ri(e.triggerValue)}}function sEe(n,t){1&n&&dn(0,0,["*ngSwitchCase","true"])}function aEe(n,t){1&n&&(B(0,"span",11),he(1,oEe,2,1,"span",12),he(2,sEe,1,0,"ng-content",13),L()),2&n&&(Z("ngSwitch",!!pe().customTrigger),G(2),Z("ngSwitchCase",!0))}function lEe(n,t){if(1&n){const e=Yn();Qh(),function Rg(){!function Ax(){_t.lFrame.currentNamespace=null}()}(),B(0,"div",15,16),Ae("@transformPanel.done",function(r){return vt(e),gt(pe()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return vt(e),gt(pe()._handleKeydown(r))}),dn(2,1),L()}if(2&n){const e=pe();(function _V(n,t,e){ea(es,Pa,kf(me(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Z("ngClass",e.panelClass)("@transformPanel","showing"),Pt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const cEe=[[["mat-select-trigger"]],"*"],uEe=["mat-select-trigger","*"],dEe={transformPanelWrap:$C("transformPanelWrap",[Vp("* => void",Ube("@transformPanel",[Bbe()],{optional:!0}))]),transformPanel:$C("transformPanel",[WC("void",Ll({opacity:0,transform:"scale(1, 0.8)"})),Vp("void => showing",ev("120ms cubic-bezier(0, 0, 0.2, 1)",Ll({opacity:1,transform:"scale(1, 1)"}))),Vp("* => void",ev("100ms linear",Ll({opacity:0})))])};let SG=0;const AG=new oe("mat-select-scroll-strategy"),fEe=new oe("MAT_SELECT_CONFIG"),pEe={provide:AG,deps:[Up],useFactory:function hEe(n){return()=>n.scrollStrategies.reposition()}},mEe=new oe("MatSelectTrigger");class gEe{constructor(t,e){this.source=t,this.value=e}}const _Ee=aR(O$(oR(P$(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new H}}))));let yEe=(()=>{class n extends _Ee{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(A_.required)??!1}set required(e){this._required=Pn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Pn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Pn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=GE(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b){super(s,o,l,c,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=v,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(I,M)=>I===M,this._uid="mat-select-"+SG++,this._triggerAriaLabelledBy=null,this._destroy=new H,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+SG++,this._panelDoneAnimatingStream=new H,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=BS(()=>{const I=this.options;return I?I.changes.pipe(Oc(I),Ue(()=>x(...I.map(M=>M.onSelectionChange)))):this._ngZone.onStable.pipe(Qn(1),Ue(()=>this.optionSelectionChanges))}),this.openedChange=new Pe,this._openedStream=this.openedChange.pipe(Hn(I=>I),Ie(()=>{})),this._closedStream=this.openedChange.pipe(Hn(I=>!I),Ie(()=>{})),this.selectionChange=new Pe,this.valueChange=new Pe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new tEe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lt(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Oc(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&tR(this._trackedModal,"aria-owns",i),w$(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(tR(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!vp(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||vp(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Kfe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=x(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),x(...this.options.map(i=>i._stateChanges)).pipe(Et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(T(XC),T(ur),T(He),T(F$),T(nt),T(wp,8),T(Mc,8),T(Kf,8),T(Hk,8),T(Fa,10),Ts("tabindex"),T(AG),T(ape),T(fEe,8))};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&(wn(nEe,5),wn(iEe,5),wn(_G,5)),2&i){let o;Le(o=Ve())&&(r.trigger=o.first),Le(o=Ve())&&(r.panel=o.first),Le(o=Ve())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ke,Zn]})}return n})(),vEe=(()=>{class n extends yEe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function Mpe(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function Npe(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new gEe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof qk?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Pn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,mEe,5),Ft(o,W$,5),Ft(o,$$,5)),2&i){let s;Le(s=Ve())&&(r.customTrigger=s.first),Le(s=Ve())&&(r.options=s),Le(s=Ve())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Ae("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Pt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),st("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[bt([{provide:jk,useExisting:n},{provide:z$,useExisting:n}]),Ke],ngContentSelectors:uEe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(no(cEe),B(0,"div",0,1),Ae("click",function(){return r.toggle()}),B(3,"div",2),he(4,rEe,2,1,"span",3),he(5,aEe,3,2,"span",4),L(),B(6,"div",5)(7,"div",6),Qh(),B(8,"svg",7),dt(9,"path",8),L()()()(),he(10,lEe,3,9,"ng-template",9),Ae("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=lr(1);G(3),Z("ngSwitch",r.empty),Pt("id",r._valueId),G(1),Z("ngSwitchCase",!0),G(1),Z("ngSwitchCase",!1),G(5),Z("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[xc,x_,tS,qU,_G,qk],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[dEe.transformPanel]},changeDetection:0})}return n})(),bEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[pEe],imports:[Gf,yG,G$,Li,JC,KC,G$,Li]})}return n})();const wEe=["f"];function EEe(n,t){1&n&&(B(0,"span"),Te(1,"Kerem adjon meg egy recept nevet!"),L())}function CEe(n,t){1&n&&(B(0,"mat-form-field",16),dt(1,"mat-label"),B(2,"span",17),Te(3,"Kerem adjon meg valos adatokat!"),L(),dt(4,"input",18),L())}let RG=(()=>{class n{constructor(e,i,r){this.baseService=e,this.route=i,this.router=r,this.key="",this.defaultDifficulty="Kozepes",this.submitButtonValue="Recept hozzaadasa",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.recipeForm=new Yw({name:new Nc(null,A_.required),ingredients:new Nc(null,[A_.required,A_.minLength(5)]),howToMake:new Nc(null),timeToMake:new Nc(null),portion:new Nc(null),difficulty:new Nc("kozepes")}),this.route.queryParams.subscribe(e=>{e.key&&(this.submitButtonValue="Recept modositasa"),console.log(e),this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&this.recipeForm.patchValue(r)})})}onSubmit(){this.recipe=this.recipeForm.value,"Recept hozzaadasa"===this.submitButtonValue?this.baseService.addRecipe(this.recipe):this.baseService.updateRecipe(this.key,this.recipe),this.router.navigate(["recipes"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(Jy),T(Rl),T(xr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-edit"]],viewQuery:function(i,r){if(1&i&&wn(wEe,5),2&i){let o;Le(o=Ve())&&(r.formData=o.first)}},decls:44,vars:5,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],["f","ngForm"],["matSuffix",""],["formControlName","name","matInput","","type","text"],[4,"ngIf"],["formControlName","ingredients","matInput","","rows","5"],["formControlName","howToMake","matInput","","rows","5"],["formControlName","timeToMake","matInput","","type","number"],["formControlName","portion","matInput","","type","number"],[1,"select-container"],["formControlName","difficulty","id","difficulty"],["ngClass","green","value","konnyu"],["ngClass","yellow","value","kozepes"],["ngClass","red","value","nehez"],["class","text-center border border-danger",4,"ngIf"],["mat-button","","type","submit",3,"disabled"],[1,"text-center","border","border-danger"],[1,"text-danger"],["matInput","","disabled",""]],template:function(i,r){if(1&i&&(B(0,"form",0,1),Ae("ngSubmit",function(){return r.onSubmit()}),B(2,"mat-form-field")(3,"mat-label"),Te(4,"Recept neve"),L(),B(5,"mat-icon",2),Te(6,"menu_book"),L(),dt(7,"input",3),he(8,EEe,2,0,"span",4),L(),B(9,"mat-form-field")(10,"mat-label"),Te(11,"Hozz\xe1val\xf3k"),L(),dt(12,"textarea",5),L(),B(13,"mat-form-field")(14,"mat-label"),Te(15,"Elk\xe9szit\xe9s"),L(),dt(16,"textarea",6),L(),B(17,"mat-form-field")(18,"mat-label"),Te(19,"Elk\xe9szit\xe9si id\u0151"),L(),B(20,"mat-icon",2),Te(21,"schedule"),L(),dt(22,"input",7),L(),B(23,"mat-form-field")(24,"mat-label"),Te(25,"Adag"),L(),B(26,"mat-icon",2),Te(27,"restaurant"),L(),dt(28,"input",8),L(),B(29,"mat-form-field",9)(30,"mat-icon",2),Te(31,"sentiment_very_satisfied"),L(),B(32,"mat-label"),Te(33,"Nehezseg"),L(),B(34,"mat-select",10)(35,"mat-option",11),Te(36,"Konnyu"),L(),B(37,"mat-option",12),Te(38,"Kozepes"),L(),B(39,"mat-option",13),Te(40,"Nehez"),L()()(),he(41,CEe,5,0,"mat-form-field",14),B(42,"button",15),Te(43),L()()),2&i){const o=lr(1);let s;Z("formGroup",r.recipeForm),G(8),Z("ngIf",!(null!=(s=r.recipeForm.get("name"))&&s.valid)&&(null==(s=r.recipeForm.get("name"))?null:s.touched)),G(33),Z("ngIf",!r.recipeForm.valid&&r.recipeForm.touched),G(1),Z("disabled",!o.valid),G(1),Ri(r.submitButtonValue)}},dependencies:[xc,Hr,F_,Ac,AS,od,R_,Kf,OS,qC,Bp,m0e,Ep,_4,ZC,vEe,W$],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px;border-style:solid;border-color:#fe1717df;border-top:0;border-right:0;border-left:0}form[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{margin-top:10px;background-color:#791679b3;color:#fff!important}button[_ngcontent-%COMP%]:hover{background-color:#791679}.example-panel-red.mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}.select-container[_ngcontent-%COMP%]{border-top:2px solid rgba(119,255,0,.5)!important;border-radius:5px}.red[_ngcontent-%COMP%]{background-color:#f60b0b80}.green[_ngcontent-%COMP%]{background:rgba(3,141,3,.5)}.yellow[_ngcontent-%COMP%]{background:rgba(246,246,6,.5)}.red[_ngcontent-%COMP%]:hover{background:rgba(167,16,16,.8)!important}.green[_ngcontent-%COMP%]:hover{background:rgba(3,81,3,.8)!important}.yellow[_ngcontent-%COMP%]:hover{background:rgba(157,157,15,.8)!important}"]})}return n})();const IEe=function(n){return{key:n}},TEe=[{path:"",component:Rme},{path:"notes",component:Pbe},{path:"signup",component:xwe},{path:"login",component:Owe},{path:"users",component:Bwe},{path:"weather",component:Zwe},{path:"recipes",component:eEe,children:[{path:"create",component:RG},{path:"detail",component:(()=>{class n{constructor(e,i,r){this.route=e,this.baseService=i,this.router=r,this.key="",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&(this.recipe=r)})})}deleteRecipe(){this.baseService.deleteRecipe(this.key),this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Rl),T(Jy),T(xr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-detail"]],decls:22,vars:9,consts:[[1,"mt-3"],[1,"recipe-making-container"],[1,"card-content"],[1,"justify-content-end"],["routerLink","/recipes/edit","mat-raised-button","","color","accent","type","button",1,"me-2",3,"queryParams"],["mat-raised-button","","type","button",1,"deleteButton",3,"click"]],template:function(i,r){1&i&&(B(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),Te(3),L()(),B(4,"div",1)(5,"mat-card-content")(6,"mat-card-subtitle"),Te(7,"Elkeszites: "),L(),Te(8),L(),B(9,"mat-card-content",2)(10,"mat-card-subtitle"),Te(11,"Hozz\xe1val\xf3k: "),L(),Te(12),L()(),B(13,"mat-card-footer")(14,"mat-card-content")(15,"mat-card-subtitle"),Te(16),L()()(),B(17,"mat-card-actions",3)(18,"button",4),Te(19,"Modositas"),L(),B(20,"button",5),Ae("click",function(){return r.deleteRecipe()}),Te(21,"Torles"),L()()()),2&i&&(G(3),Cr(" ",r.recipe.name,""),G(5),Cr(" ",r.recipe.howToMake," "),G(4),Cr(" ",r.recipe.ingredients," "),G(4),t1("Adag: ",r.recipe.portion," Nehezseg: ",r.recipe.difficulty," Elkeszitesi ido: ",r.recipe.timeToMake," perc"),G(2),Z("queryParams",Cl(7,IEe,r.recipe.key)))},dependencies:[hd,Kk,IG,Yk,TG,Qk,CG,Zk,Ep],styles:[".recipe-making-container[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{padding-top:16px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#e33!important;border:2px solid rgb(142,19,19)}"]})}return n})()},{path:"edit",component:RG}]},{path:"**",redirectTo:""}];let xEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[T3.forRoot(TEe),T3]})}return n})();function Jk(){return se((n,t)=>{let e,i=!1;n.subscribe(De(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Fe,DEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fa={},eM=eM||{},St=DEe||self;function eI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var tM="closure_uid_"+(1e9*Math.random()>>>0),AEe=0;function REe(n,t,e){return n.call.apply(n.bind,arguments)}function kEe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function oo(n,t,e){return(oo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?REe:kEe).apply(null,arguments)}function tI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function kr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(i,s)}}function nu(){this.s=this.s,this.o=this.o}nu.prototype.s=!1,nu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function SEe(n){Object.prototype.hasOwnProperty.call(n,tM)&&n[tM]||(n[tM]=++AEe)}(this)},nu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kG=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function nM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function MG(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(eI(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function so(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}so.prototype.h=function(){this.defaultPrevented=!0};var NEe=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",()=>{},t),St.removeEventListener("test",()=>{},t)}catch{}return n}();function ov(n){return/^[\s\xa0]*$/.test(n)}function nI(){var n=St.navigator;return n&&(n=n.userAgent)?n:""}function Wa(n){return-1!=nI().indexOf(n)}function iM(n){return iM[" "](n),n}iM[" "]=function(){};var oM,n,PEe=Wa("Opera"),jp=Wa("Trident")||Wa("MSIE"),NG=Wa("Edge"),rM=NG||jp,OG=Wa("Gecko")&&!(-1!=nI().toLowerCase().indexOf("webkit")&&!Wa("Edge"))&&!(Wa("Trident")||Wa("MSIE"))&&!Wa("Edge"),FEe=-1!=nI().toLowerCase().indexOf("webkit")&&!Wa("Edge");function PG(){var n=St.document;return n?n.documentMode:void 0}e:{var sM="",aM=(n=nI(),OG?/rv:([^\);]+)(\)|;)/.exec(n):NG?/Edge\/([\d\.]+)/.exec(n):jp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FEe?/WebKit\/(\S+)/.exec(n):PEe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aM&&(sM=aM?aM[1]:""),jp){var lM=PG();if(null!=lM&&lM>parseFloat(sM)){oM=String(lM);break e}}oM=sM}var LEe=St.document&&jp&&(PG()||parseInt(oM,10))||void 0;function sv(n,t){if(so.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(OG){e:{try{iM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sv.$.h.call(this)}}kr(sv,so);var VEe={2:"touch",3:"pen",4:"mouse"};sv.prototype.h=function(){sv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var av="closure_listenable_"+(1e6*Math.random()|0),BEe=0;function UEe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++BEe,this.fa=this.ia=!1}function iI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function LG(n){const t={};for(const e in n)t[e]=n[e];return t}const VG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BG(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<VG.length;o++)e=VG[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function rI(n){this.src=n,this.g={},this.h=0}function dM(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=kG(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(iI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function hM(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}rI.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=hM(n,t,i,r);return-1<s?(t=n[s],e||(t.ia=!1)):((t=new UEe(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var fM="closure_lm_"+(1e6*Math.random()|0),pM={};function UG(n,t,e,i,r){if(i&&i.once)return HG(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)UG(n,t[o],e,i,r);return null}return e=yM(e),n&&n[av]?n.O(t,e,rv(i)?!!i.capture:!!i,r):jG(n,t,e,!1,i,r)}function jG(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=rv(r)?!!r.capture:!!r,a=gM(n);if(a||(n[fM]=a=new rI(n)),(e=a.add(t,e,i,s,o)).proxy)return e;if(i=function HEe(){const t=zEe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)NEe||(r=s),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent($G(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function HG(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)HG(n,t[o],e,i,r);return null}return e=yM(e),n&&n[av]?n.P(t,e,rv(i)?!!i.capture:!!i,r):jG(n,t,e,!0,i,r)}function zG(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)zG(n,t[o],e,i,r);else i=rv(i)?!!i.capture:!!i,e=yM(e),n&&n[av]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=hM(o=n.g[t],e,i,r))&&(iI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=gM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=hM(t,e,i,r)),(e=-1<n?t[n]:null)&&mM(e))}function mM(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[av])dM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent($G(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=gM(t))?(dM(e,n),0==e.h&&(e.src=null,t[fM]=null)):iI(n)}}}function $G(n){return n in pM?pM[n]:pM[n]="on"+n}function zEe(n,t){if(n.fa)n=!0;else{t=new sv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&mM(n),n=e.call(i,t)}return n}function gM(n){return(n=n[fM])instanceof rI?n:null}var _M="__closure_events_fn_"+(1e9*Math.random()>>>0);function yM(n){return"function"==typeof n?n:(n[_M]||(n[_M]=function(t){return n.handleEvent(t)}),n[_M])}function Mr(){nu.call(this),this.i=new rI(this),this.S=this,this.J=null}function Gr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new so(t,n);else if(t instanceof so)t.target=t.target||n;else{var r=t;BG(t=new so(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=oI(s,i,!0,t)&&r}if(r=oI(s=t.g=n,i,!0,t)&&r,r=oI(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=oI(s=t.g=e[o],i,!1,t)&&r}function oI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,l=s.la||s.src;s.ia&&dM(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}kr(Mr,nu),Mr.prototype[av]=!0,Mr.prototype.removeEventListener=function(n,t,e,i){zG(this,n,t,e,i)},Mr.prototype.N=function(){if(Mr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)iI(e[i]);delete n.g[t],n.h--}}this.J=null},Mr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Mr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var vM=St.JSON.stringify;function WEe(){var n=bM;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var WG=new class $Ee{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new qEe,n=>n.reset());class qEe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function KEe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function ZEe(n){St.setTimeout(()=>{throw n},0)}let lv,cv=!1,bM=new class GEe{constructor(){this.h=this.g=null}add(t,e){const i=WG.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},GG=()=>{const n=St.Promise.resolve(void 0);lv=()=>{n.then(YEe)}};var YEe=()=>{for(var n;n=WEe();){try{n.h.call(n.g)}catch(e){ZEe(e)}var t=WG;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}cv=!1};function sI(n,t){Mr.call(this),this.h=n||1,this.g=t||St,this.j=oo(this.qb,this),this.l=Date.now()}function wM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function EM(n,t,e){if("function"==typeof n)e&&(n=oo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=oo(n.handleEvent,n)}return 2147483647<Number(t)?-1:St.setTimeout(n,t||0)}function qG(n){n.g=EM(()=>{n.g=null,n.i&&(n.i=!1,qG(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}kr(sI,Mr),(Fe=sI.prototype).ga=!1,Fe.T=null,Fe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(wM(this),this.start()))}},Fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.N=function(){sI.$.N.call(this),wM(this),delete this.g};class QEe extends nu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:qG(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uv(n){nu.call(this),this.h=n,this.g={}}kr(uv,nu);var KG=[];function ZG(n,t,e,i){Array.isArray(e)||(e&&(KG[0]=e.toString()),e=KG);for(var r=0;r<e.length;r++){var o=UG(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function YG(n){uM(n.g,function(t,e){this.g.hasOwnProperty(e)&&mM(t)},n),n.g={}}function aI(){this.g=!0}function Hp(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function tCe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return vM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}uv.prototype.N=function(){uv.$.N.call(this),YG(this)},uv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aI.prototype.Ea=function(){this.g=!1},aI.prototype.info=function(){};var Ud={},QG=null;function lI(){return QG=QG||new Mr}function XG(n){so.call(this,Ud.Ta,n)}function dv(n){const t=lI();Gr(t,new XG(t))}function JG(n,t){so.call(this,Ud.STAT_EVENT,n),this.stat=t}function Ao(n){const t=lI();Gr(t,new JG(t,n))}function e8(n,t){so.call(this,Ud.Ua,n),this.size=t}function hv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},t)}Ud.Ta="serverreachability",kr(XG,so),Ud.STAT_EVENT="statevent",kr(JG,so),Ud.Ua="timingevent",kr(e8,so);var cI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},t8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CM(){}function i8(){}CM.prototype.h=null;var xM,fv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function IM(){so.call(this,"d")}function TM(){so.call(this,"c")}function uI(){}function pv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new uv(this),this.P=nCe,this.V=new sI(n=rM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new r8}function r8(){this.i=null,this.g="",this.h=!1}kr(IM,so),kr(TM,so),kr(uI,CM),uI.prototype.g=function(){return new XMLHttpRequest},uI.prototype.i=function(){return{}},xM=new uI;var nCe=45e3,DM={},dI={};function SM(n,t,e){n.L=1,n.v=mI(Vl(t)),n.s=e,n.S=!0,o8(n,null)}function o8(n,t){n.G=Date.now(),mv(n),n.A=Vl(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),m8(e.i,"t",i),n.C=0,e=n.l.J,n.h=new r8,n.g=B8(n.l,e?t:null,!n.s),0<n.O&&(n.M=new QEe(oo(n.Pa,n,n.g),n.O)),ZG(n.U,n.g,"readystatechange",n.nb),t=n.I?LG(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),dv(),function XEe(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&"type"==f[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function s8(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function a8(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=iCe(n,e),r==dI){4==t&&(n.o=4,Ao(14),i=!1),Hp(n.j,n.m,null,"[Incomplete Response]");break}if(r==DM){n.o=4,Ao(15),Hp(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Hp(n.j,n.m,r,null),AM(n,r)}s8(n)&&r!=dI&&r!=DM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),FM(t),t.M=!0,Ao(11))):(Hp(n.j,n.m,e,"[Invalid Chunked Response]"),jd(n),gv(n))}function iCe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?dI:(e=Number(t.substring(e,i)),isNaN(e)?DM:(i+=1)+e>t.length?dI:(t=t.slice(i,i+e),n.C=i+e,t))}function mv(n){n.Y=Date.now()+n.P,l8(n,n.P)}function l8(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hv(oo(n.lb,n),t)}function hI(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function gv(n){0==n.l.H||n.J||P8(n.l,n)}function jd(n){hI(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,wM(n.V),YG(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function AM(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||RM(e.i,n)))if(!n.K&&RM(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;wI(e),vI(e)}PM(e),Ao(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=hv(oo(e.ib,e),6e3));if(1>=y8(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else zd(e,11)}else if((n.K||e.g==n)&&wI(e),!ov(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const f=c[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(e.L=i=1.5*m,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=i.i;o.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kM(o,o.h),o.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,gi(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=n;if((i=e).wa=V8(i,i.J?i.pa:null,i.Y),s.K){v8(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(hI(a),mv(a)),i.g=s}else N8(i);0<e.j.length&&bI(e)}else"stop"!=c[0]&&"close"!=c[0]||zd(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zd(e,7):OM(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}dv()}catch{}}function c8(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(eI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function oCe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(eI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function rCe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(eI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Fe=pv.prototype).setTimeout=function(n){this.P=n},Fe.nb=function(n){n=n.target;const t=this.M;t&&3==Ga(n)?t.l():this.Pa(n)},Fe.Pa=function(n){try{if(n==this.g)e:{const u=Ga(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||rM||this.g&&(this.h.h||this.g.ja()||D8(this.g)))){this.J||4!=u||7==t||dv(),hI(this);var e=this.g.da();this.ca=e;t:if(s8(this)){var i=D8(this.g);n="";var r=i.length,o=4==Ga(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jd(this),gv(this);var s="";break t}this.h.i=new St.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function JEe(n,t,e,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ov(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,Ao(12),jd(this),gv(this);break e}Hp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,AM(this,e)}this.S?(a8(this,u,s),rM&&this.i&&3==u&&(ZG(this.U,this.V,"tick",this.mb),this.V.start())):(Hp(this.j,this.m,s,null),AM(this,s)),4==u&&jd(this),this.i&&!this.J&&(4==u?P8(this.l,this):(this.i=!1,mv(this)))}else(function CCe(n){const t={};n=(n.g&&2<=Ga(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(ov(n[i]))continue;var e=KEe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function jEe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),jd(this),gv(this)}}}catch{}},Fe.mb=function(){if(this.g){var n=Ga(this.g),t=this.g.ja();this.C<t.length&&(hI(this),a8(this,n,t),this.i&&4!=n&&mv(this))}},Fe.cancel=function(){this.J=!0,jd(this)},Fe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function eCe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(dv(),Ao(17)),jd(this),this.o=2,gv(this)):l8(this,this.Y-n)};var u8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hd){this.h=n.h,fI(this,n.j),this.s=n.s,this.g=n.g,pI(this,n.m),this.l=n.l;var t=n.i,e=new vv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),d8(this,e),this.o=n.o}else n&&(t=String(n).match(u8))?(this.h=!1,fI(this,t[1]||"",!0),this.s=_v(t[2]||""),this.g=_v(t[3]||"",!0),pI(this,t[4]),this.l=_v(t[5]||"",!0),d8(this,t[6]||"",!0),this.o=_v(t[7]||"")):(this.h=!1,this.i=new vv(null,this.h))}function Vl(n){return new Hd(n)}function fI(n,t,e){n.j=e?_v(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function pI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function d8(n,t,e){t instanceof vv?(n.i=t,function hCe(n,t){t&&!n.j&&(iu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(f8(this,i),m8(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=yv(t,uCe)),n.i=new vv(t,n.h))}function gi(n,t,e){n.i.set(t,e)}function mI(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _v(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,aCe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aCe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(yv(t,h8,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(yv(t,h8,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(yv(e,"/"==e.charAt(0)?cCe:lCe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",yv(e,dCe)),n.join("")};var h8=/[#\/\?@]/g,lCe=/[#\?:]/g,cCe=/[#\?]/g,uCe=/[#\?@]/g,dCe=/#/g;function vv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function iu(n){n.g||(n.g=new Map,n.h=0,n.i&&function sCe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function f8(n,t){iu(n),t=zp(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function p8(n,t){return iu(n),t=zp(n,t),n.g.has(t)}function m8(n,t,e){f8(n,t),0<e.length&&(n.i=null,n.g.set(zp(n,t),nM(e)),n.h+=e.length)}function zp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function g8(n){this.l=n||pCe,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=vv.prototype).add=function(n,t){iu(this),this.i=null,n=zp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Fe.forEach=function(n,t){iu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Fe.ta=function(){iu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Fe.Z=function(n){iu(this);let t=[];if("string"==typeof n)p8(this,n)&&(t=t.concat(this.g.get(zp(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Fe.set=function(n,t){return iu(this),this.i=null,p8(this,n=zp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Fe.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var pCe=10;function _8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function y8(n){return n.h?1:n.g?n.g.size:0}function RM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function kM(n,t){n.g?n.g.add(t):n.h=t}function v8(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function b8(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return nM(n.i)}g8.prototype.cancel=function(){if(this.i=b8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var mCe=class{stringify(n){return St.JSON.stringify(n,void 0)}parse(n){return St.JSON.parse(n,void 0)}};function gCe(){this.g=new mCe}function _Ce(n,t,e){const i=e||"";try{c8(n,function(r,o){let s=r;rv(r)&&(s=vM(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function gI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function bv(n){this.l=n.ec||null,this.j=n.ob||!1}function _I(n,t){Mr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=MM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kr(bv,CM),bv.prototype.g=function(){return new _I(this.l,this.j)},bv.prototype.i=function(n){return function(){return n}}({}),kr(_I,Mr);var MM=0;function w8(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ev(n)}function Ev(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Fe=_I.prototype).open=function(n,t){if(this.readyState!=MM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ev(this)},Fe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wv(this)),this.readyState=MM},Fe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ev(this)),this.g&&(this.readyState=3,Ev(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w8(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Fe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?wv(this):Ev(this),3==this.readyState&&w8(this)}},Fe.Za=function(n){this.g&&(this.response=this.responseText=n,wv(this))},Fe.Ya=function(n){this.g&&(this.response=n,wv(this))},Fe.ka=function(){this.g&&wv(this)},Fe.setRequestHeader=function(n,t){this.v.append(n,t)},Fe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(_I.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vCe=St.JSON.parse;function Vi(n){Mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E8,this.L=this.M=!1}kr(Vi,Mr);var E8="",bCe=/^https?$/i,wCe=["POST","PUT"];function C8(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,I8(n),yI(n)}function I8(n){n.F||(n.F=!0,Gr(n,"complete"),Gr(n,"error"))}function T8(n){if(n.h&&typeof eM<"u"&&(!n.C[1]||4!=Ga(n)||2!=n.da()))if(n.v&&4==Ga(n))EM(n.La,0,n);else if(Gr(n,"readystatechange"),4==Ga(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===s){var r=String(n.I).match(u8)[1]||null;!r&&St.self&&St.self.location&&(r=St.self.location.protocol.slice(0,-1)),i=!bCe.test(r?r.toLowerCase():"")}e=i}if(e)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var o=2<Ga(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",I8(n)}}finally{yI(n)}}}function yI(n,t){if(n.g){x8(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Gr(n,"ready");try{e.onreadystatechange=i}catch{}}}function x8(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function Ga(n){return n.g?n.g.readyState:0}function D8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case E8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function S8(n){let t="";return uM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function NM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=S8(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function Cv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function A8(n){this.Ga=0,this.j=[],this.l=new aI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cv("baseRetryDelayMs",5e3,n),this.hb=Cv("retryDelaySeedMs",1e4,n),this.eb=Cv("forwardChannelMaxRetries",2,n),this.xa=Cv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new g8(n&&n.concurrentRequestLimit),this.Ja=new gCe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OM(n){if(R8(n),3==n.H){var t=n.W++,e=Vl(n.I);if(gi(e,"SID",n.K),gi(e,"RID",t),gi(e,"TYPE","terminate"),Iv(n,e),(t=new pv(n,n.l,t)).L=2,t.v=mI(Vl(e)),e=!1,St.navigator&&St.navigator.sendBeacon)try{e=St.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&St.Image&&((new Image).src=t.v,e=!0),e||(t.g=B8(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mv(t)}L8(n)}function vI(n){n.g&&(FM(n),n.g.cancel(),n.g=null)}function R8(n){vI(n),n.u&&(St.clearTimeout(n.u),n.u=null),wI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function bI(n){if(!_8(n.i)&&!n.m){n.m=!0;var t=n.Na;lv||GG(),cv||(lv(),cv=!0),bM.add(t,n),n.C=0}}function k8(n,t){var e;e=t?t.m:n.W++;const i=Vl(n.I);gi(i,"SID",n.K),gi(i,"RID",e),gi(i,"AID",n.V),Iv(n,i),n.o&&n.s&&NM(i,n.o,n.s),e=new pv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=M8(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),kM(n.i,e),SM(e,i,t)}function Iv(n,t){n.na&&uM(n.na,function(e,i){gi(t,i,e)}),n.h&&c8({},function(e,i){gi(t,i,e)})}function M8(n,t,e){e=Math.min(n.j.length,e);var i=n.h?oo(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{_Ce(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function N8(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;lv||GG(),cv||(lv(),cv=!0),bM.add(t,n),n.A=0}}function PM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hv(oo(n.Ma,n),F8(n,n.A)),n.A++,0))}function FM(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function O8(n){n.g=new pv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Vl(n.wa);gi(t,"RID","rpc"),gi(t,"SID",n.K),gi(t,"AID",n.V),gi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&gi(t,"TO",n.qa),gi(t,"TYPE","xmlhttp"),Iv(n,t),n.o&&n.s&&NM(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=mI(Vl(t)),e.s=null,e.S=!0,o8(e,n)}function wI(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function P8(n,t){var e=null;if(n.g==t){wI(n),FM(n),n.g=null;var i=2}else{if(!RM(n.i,t))return;e=t.F,v8(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Gr(i=lI(),new e8(i,e)),bI(n)}else N8(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function ICe(n,t){return!(y8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hv(oo(n.Na,n,t),F8(n,n.C)),n.C++,0)))}(n,t)||2==i&&PM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:zd(n,5);break;case 4:zd(n,10);break;case 3:zd(n,6);break;default:zd(n,2)}}function F8(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function zd(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=oo(n.pb,n);e||(e=new Hd("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||fI(e,"https"),mI(e)),function yCe(n,t){const e=new aI;if(St.Image){const i=new Image;i.onload=tI(gI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=tI(gI,e,i,"TestLoadImage: error",!1,t),i.onabort=tI(gI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=tI(gI,e,i,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ao(2);n.H=0,n.h&&n.h.za(t),L8(n),R8(n)}function L8(n){if(n.H=0,n.ma=[],n.h){const t=b8(n.i);(0!=t.length||0!=n.j.length)&&(MG(n.ma,t),MG(n.ma,n.j),n.i.i.length=0,nM(n.j),n.j.length=0),n.h.ya()}}function V8(n,t,e){var i=e instanceof Hd?Vl(e):new Hd(e);if(""!=i.g)t&&(i.g=t+"."+i.g),pI(i,i.m);else{var r=St.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Hd(null);i&&fI(o,i),t&&(o.g=t),r&&pI(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&gi(i,e,t),gi(i,"VER",n.ra),Iv(n,i),i}function B8(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Vi(e&&n.Ha&&!n.va?new bv({ob:!0}):n.va)).Oa(n.J),t}function U8(){}function EI(){if(jp&&!(10<=Number(LEe)))throw Error("Environmental error: no available transport.")}function ds(n,t){Mr.call(this),this.g=new A8(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!ov(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ov(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $p(this)}function j8(n){IM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function H8(){TM.call(this),this.status=1}function $p(n){this.g=n}function pa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LM(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],s=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Fn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Fe=Vi.prototype).Oa=function(n){this.M=n},Fe.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xM.g(),this.C=function n8(n){return n.h||(n.h=n.i())}(this.u?this.u:xM),this.g.onreadystatechange=oo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void C8(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=St.FormData&&n instanceof St.FormData,!(0<=kG(wCe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{x8(this),0<this.B&&((this.L=function ECe(n){return jp&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=oo(this.ua,this)):this.A=EM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){C8(this,o)}},Fe.ua=function(){typeof eM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},Fe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),yI(this))},Fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yI(this,!0)),Vi.$.N.call(this)},Fe.La=function(){this.s||(this.G||this.v||this.l?T8(this):this.kb())},Fe.kb=function(){T8(this)},Fe.isActive=function(){return!!this.g},Fe.da=function(){try{return 2<Ga(this)?this.g.status:-1}catch{return-1}},Fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Fe.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),vCe(t)}},Fe.Ia=function(){return this.m},Fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=A8.prototype).ra=8,Fe.H=1,Fe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new pv(this,this.l,n);let o=this.s;if(this.U&&(o?(o=LG(o),BG(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=M8(this,r,t),gi(e=Vl(this.I),"RID",n),gi(e,"CVER",22),this.F&&gi(e,"X-HTTP-Session-Id",this.F),Iv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(S8(o)))+"&"+t:this.o&&NM(e,this.o,o)),kM(this.i,r),this.bb&&gi(e,"TYPE","init"),this.P?(gi(e,"$req",t),gi(e,"SID","null"),r.aa=!0,SM(r,e,null)):SM(r,e,t),this.H=2}}else 3==this.H&&(n?k8(this,n):0==this.j.length||_8(this.i)||k8(this))},Fe.Ma=function(){if(this.u=null,O8(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hv(oo(this.jb,this),n)}},Fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ao(10),vI(this),O8(this))},Fe.ib=function(){null!=this.v&&(this.v=null,vI(this),PM(this),Ao(19))},Fe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ao(2)):(this.l.info("Failed to ping google.com"),Ao(1))},Fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fe=U8.prototype).Ba=function(){},Fe.Aa=function(){},Fe.za=function(){},Fe.ya=function(){},Fe.isActive=function(){return!0},Fe.Va=function(){},EI.prototype.g=function(n,t){return new ds(n,t)},kr(ds,Mr),ds.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ao(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=V8(n,null,n.Y),bI(n)},ds.prototype.close=function(){OM(this.g)},ds.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=vM(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&bI(t)},ds.prototype.N=function(){this.g.h=null,delete this.j,OM(this.g),delete this.g,ds.$.N.call(this)},kr(j8,IM),kr(H8,TM),kr($p,U8),$p.prototype.Ba=function(){Gr(this.g,"a")},$p.prototype.Aa=function(n){Gr(this.g,new j8(n))},$p.prototype.za=function(n){Gr(this.g,new H8)},$p.prototype.ya=function(){Gr(this.g,"b")},kr(pa,function TCe(){this.blockSize=-1}),pa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pa.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)LM(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){LM(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){LM(this,i),r=0;break}}this.h=r,this.i+=t},pa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var xCe={};function VM(n){return-128<=n&&128>n?function OEe(n,t){var e=xCe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Fn([0|t],0>t?-1:0)}):new Fn([0|n],0>n?-1:0)}function qa(n){if(isNaN(n)||!isFinite(n))return Wp;if(0>n)return qr(qa(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=BM;return new Fn(t,0)}var BM=4294967296,Wp=VM(0),UM=VM(1),$8=VM(16777216);function Bl(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function js(n){return-1==n.h}function qr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Fn(e,~n.h).add(UM)}function CI(n,t){return n.add(qr(t))}function II(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Tv(n,t){this.g=n,this.h=t}function TI(n,t){if(Bl(t))throw Error("division by zero");if(Bl(n))return new Tv(Wp,Wp);if(js(n))return t=TI(qr(n),t),new Tv(qr(t.g),qr(t.h));if(js(t))return t=TI(n,qr(t)),new Tv(qr(t.g),t.h);if(30<n.g.length){if(js(n)||js(t))throw Error("slowDivide_ only works with positive integers.");for(var e=UM,i=t;0>=i.X(n);)e=W8(e),i=W8(i);var r=Gp(e,1),o=Gp(i,1);for(i=Gp(i,2),e=Gp(e,2);!Bl(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(e),o=s),i=Gp(i,1),e=Gp(e,1)}return t=CI(n,r.R(t)),new Tv(r,t)}for(r=Wp;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),s=(o=qa(e)).R(t);js(s)||0<s.X(n);)s=(o=qa(e-=i)).R(t);Bl(o)&&(o=UM),r=r.add(o),n=CI(n,s)}return new Tv(r,n)}function W8(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Fn(e,n.h)}function Gp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Fn(r,n.h)}(Fe=Fn.prototype).ea=function(){if(js(this))return-qr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:BM+i)*t,t*=BM}return n},Fe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Bl(this))return"0";if(js(this))return"-"+qr(this).toString(n);for(var t=qa(Math.pow(n,6)),e=this,i="";;){var r=TI(e,t).g,o=((0<(e=CI(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Bl(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Fe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Fe.X=function(n){return js(n=CI(this,n))?-1:Bl(n)?0:1},Fe.abs=function(){return js(this)?qr(this):this},Fe.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new Fn(e,-2147483648&e[e.length-1]?-1:0)},Fe.R=function(n){if(Bl(this)||Bl(n))return Wp;if(js(this))return js(n)?qr(this).R(qr(n)):qr(qr(this).R(n));if(js(n))return qr(this.R(qr(n)));if(0>this.X($8)&&0>n.X($8))return qa(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=s*l,II(e,2*i+2*r),e[2*i+2*r+1]+=o*l,II(e,2*i+2*r+1),e[2*i+2*r+1]+=s*a,II(e,2*i+2*r+1),e[2*i+2*r+2]+=o*a,II(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Fn(e,0)},Fe.gb=function(n){return TI(this,n).h},Fe.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Fn(e,this.h&n.h)},Fe.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Fn(e,this.h|n.h)},Fe.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Fn(e,this.h^n.h)},EI.prototype.createWebChannel=EI.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,cI.NO_ERROR=0,cI.TIMEOUT=8,cI.HTTP_ERROR=6,t8.COMPLETE="complete",i8.EventType=fv,fv.OPEN="a",fv.CLOSE="b",fv.ERROR="c",fv.MESSAGE="d",Mr.prototype.listen=Mr.prototype.O,Vi.prototype.listenOnce=Vi.prototype.P,Vi.prototype.getLastError=Vi.prototype.Sa,Vi.prototype.getLastErrorCode=Vi.prototype.Ia,Vi.prototype.getStatus=Vi.prototype.da,Vi.prototype.getResponseJson=Vi.prototype.Wa,Vi.prototype.getResponseText=Vi.prototype.ja,Vi.prototype.send=Vi.prototype.ha,Vi.prototype.setWithCredentials=Vi.prototype.Oa,pa.prototype.digest=pa.prototype.l,pa.prototype.reset=pa.prototype.reset,pa.prototype.update=pa.prototype.j,Fn.prototype.add=Fn.prototype.add,Fn.prototype.multiply=Fn.prototype.R,Fn.prototype.modulo=Fn.prototype.gb,Fn.prototype.compare=Fn.prototype.X,Fn.prototype.toNumber=Fn.prototype.ea,Fn.prototype.toString=Fn.prototype.toString,Fn.prototype.getBits=Fn.prototype.D,Fn.fromNumber=qa,Fn.fromString=function z8(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return qr(z8(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=qa(Math.pow(t,8)),i=Wp,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),t);8>o?(o=qa(Math.pow(t,o)),i=i.R(o).add(qa(s))):i=(i=i.R(e)).add(qa(s))}return i};var DCe=fa.createWebChannelTransport=function(){return new EI},SCe=fa.getStatEventTarget=function(){return lI()},jM=fa.ErrorCode=cI,ACe=fa.EventType=t8,RCe=fa.Event=Ud,G8=fa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kCe=fa.FetchXmlHttpFactory=bv,xI=fa.WebChannel=i8,MCe=fa.XhrIo=Vi,NCe=fa.Md5=pa,qp=fa.Integer=Fn;const q8="@firebase/firestore";class Nr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Kp="10.5.2";const ru=new ls.Yd("@firebase/firestore");function Zp(){return ru.logLevel}function Ee(n,...t){if(ru.logLevel<=ls.in.DEBUG){const e=t.map(HM);ru.debug(`Firestore (${Kp}): ${n}`,...e)}}function Gi(n,...t){if(ru.logLevel<=ls.in.ERROR){const e=t.map(HM);ru.error(`Firestore (${Kp}): ${n}`,...e)}}function qo(n,...t){if(ru.logLevel<=ls.in.WARN){const e=t.map(HM);ru.warn(`Firestore (${Kp}): ${n}`,...e)}}function HM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $e(n="Unexpected state"){const t=`FIRESTORE (${Kp}) INTERNAL ASSERTION FAILED: `+n;throw Gi(t),new Error(t)}function tt(n,t){n||$e()}function Re(n,t){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends D.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class K8{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Nr.UNAUTHENTICATED))}shutdown(){}}class LCe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class VCe{constructor(t){this.t=t,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,le.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt("string"==typeof i.accessToken),new K8(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return tt(null===t||"string"==typeof t),new Nr(t)}}class BCe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UCe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new BCe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jCe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(tt("string"==typeof e.token),this.R=e.token,new Z8(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HCe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Y8{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=HCe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Dt(n,t){return n<t?-1:n>t?1:0}function Yp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Q8(n){return n+"\0"}class Ti{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ti.fromMillis(Date.now())}static fromDate(t){return Ti.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ti(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class it{constructor(t){this.timestamp=t}static fromTimestamp(t){return new it(t)}static min(){return new it(new Ti(0,0))}static max(){return new it(new Ti(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xv{constructor(t,e,i){void 0===e?e=0:e>t.length&&$e(),void 0===i?i=t.length-e:i>t.length-e&&$e(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===xv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fn extends xv{construct(t,e,i){return new fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fn(e)}static emptyPath(){return new fn([])}}const zCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends xv{construct(t,e,i){return new _i(t,e,i)}static isValidIdentifier(t){return zCe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _i(e)}static emptyPath(){return new _i([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(fn.fromString(t))}static fromName(t){return new ke(fn.fromString(t).popFirst(5))}static empty(){return new ke(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new fn(t.slice()))}}class Qp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function zM(n){return n.fields.find(t=>2===t.kind)}function $d(n){return n.fields.filter(t=>2!==t.kind)}Qp.UNKNOWN_ID=-1;class Wd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Xp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Xp(0,hs.min())}}function X8(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=it.fromTimestamp(1e9===i?new Ti(e+1,0):new Ti(e,i));return new hs(r,ke.empty(),t)}function J8(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new hs(it.min(),ke.empty(),-1)}static max(){return new hs(it.max(),ke.empty(),-1)}}function $M(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ke.comparator(n.documentKey,t.documentKey),0!==e?e:Dt(n.largestBatchId,t.largestBatchId))}const e6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ou(n){return WM.apply(this,arguments)}function WM(){return WM=(0,le.Z)(function*(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==e6)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}),WM.apply(this,arguments)}class q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new q((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof q?e:q.resolve(e)}catch(e){return q.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):q.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):q.reject(e)}static resolve(t){return new q((e,i)=>{e(t)})}static reject(t){return new q((e,i)=>{i(t)})}static waitFor(t){return new q((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=q.resolve(!1);for(const i of t)e=e.next(r=>r?q.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new q((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new q((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class DI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new fr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Dv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=GM(i.target.error);this.V.reject(new Dv(t,r))}}static open(t,e,i,r){try{return new DI(e,t.transaction(r,i))}catch(o){throw new Dv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ee("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new qCe(e)}}class ma{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===ma.S((0,D.z$)())&&Gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ee("SimpleDb","Removing database:",t),Gd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,D.hl)())return!1;if(ma.C())return!0;const t=(0,D.z$)(),e=ma.S(t),i=0<e&&e<10,r=ma.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,le.Z)(function*(){return e.db||(Ee("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new ge(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ge(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Dv(t,a))},o.onupgradeneeded=s=>{Ee("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,le.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const l=DI.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),q.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(Ee("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),o.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GCe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Gd(this.k.delete())}}class Dv extends ge{constructor(t,e){super(te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function su(n){return"IndexedDbTransactionError"===n.name}class qCe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ee("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Gd(i)}add(t){return Ee("SimpleDb","ADD",this.store.name,t,t),Gd(this.store.add(t))}get(t){return Gd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ee("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ee("SimpleDb","DELETE",this.store.name,t),Gd(this.store.delete(t))}count(){return Ee("SimpleDb","COUNT",this.store.name),Gd(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new q((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new q((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(t,e){Ee("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new q((i,r)=>{e.onerror=o=>{const s=GM(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(t,e){const i=[];return new q((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new GCe(a),c=e(a.primaryKey,a.value,l);if(c instanceof q){const u=c.catch(f=>(l.done(),q.reject(f)));i.push(u)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>q.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Gd(n){return new q((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=GM(i.target.error);e(r)}})}let n6=!1;function GM(n){const t=ma.S((0,D.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n6||(n6=!0,setTimeout(()=>{throw i},0)),i}}return n}class KCe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Ee("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,le.Z)(function*(){e.task=null;try{Ee("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){su(i)?Ee("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ou(i)}yield e.ee(6e4)}))}}class ZCe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,le.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,o=!0;return q.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ee("IndexBackiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(Ee("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=J8(o);$M(s,i)>0&&(i=s)}),new hs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let fs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function Sv(n){return null==n}function Av(n){return 0===n&&1/n==-1/0}function i6(n){return"number"==typeof n&&Number.isInteger(n)&&!Av(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ao(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=r6(t)),t=YCe(n.get(e),t);return r6(t)}function YCe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function r6(n){return n+"\x01\x01"}function Ka(n){const t=n.length;if(tt(t>=2),2===t)return tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&$e(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:$e()}o=s+2}return new fn(i)}const o6=["userId","batchId"];function SI(n,t){return[n,ao(t)]}function s6(n,t,e){return[n,ao(t),e]}const QCe={},XCe=["prefixPath","collectionGroup","readTime","documentId"],JCe=["prefixPath","collectionGroup","documentId"],eIe=["collectionGroup","readTime","prefixPath","documentId"],tIe=["canonicalId","targetId"],nIe=["targetId","path"],iIe=["path","targetId"],rIe=["collectionId","parent"],oIe=["indexId","uid"],sIe=["uid","sequenceNumber"],aIe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lIe=["indexId","uid","orderedDocumentKey"],cIe=["userId","collectionPath","documentId"],uIe=["userId","collectionPath","largestBatchId"],dIe=["userId","collectionGroup","largestBatchId"],a6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hIe=[...a6,"documentOverlays"],l6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c6=l6,fIe=[...c6,"indexConfiguration","indexState","indexEntries"];class qM extends t6{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Or(n,t){const e=Re(n);return ma.M(e.ae,t)}function u6(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function au(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function d6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class li{constructor(t,e){this.comparator=t,this.root=e||Kr.EMPTY}insert(t,e){return new li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(t){return new li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new AI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new AI(this.root,t,this.comparator,!1)}getReverseIterator(){return new AI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new AI(this.root,t,this.comparator,!0)}}class AI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=o??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Kr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const t=this.left.check();if(t!==this.right.check())throw $e();return t+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Kr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(t){this.comparator=t,this.data=new li(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new h6(this.data.getIterator())}getIteratorFrom(t){return new h6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof zn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zn(this.comparator);return e.data=t,e}}class h6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jp(n){return n.hasNext()?n.getNext():void 0}class Ko{constructor(t){this.fields=t,t.sort(_i.comparator)}static empty(){return new Ko([])}unionWith(t){let e=new zn(_i.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ko(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class f6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f6("Invalid base64 string: "+o):o}}(t);return new pr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const mIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(tt(!!n),"string"==typeof n){let t=0;const e=mIe.exec(n);if(tt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ul(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function RI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function kI(n){const t=n.mapValue.fields.__previous_value__;return RI(t)?kI(t):t}function Rv(n){const t=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}class gIe{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class cu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},MI={nullValue:"NULL_VALUE"};function du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RI(n)?4:_6(n)?9007199254740991:10:$e()}function Za(n,t){if(n===t)return!0;const e=du(n);if(e!==du(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Rv(n).isEqual(Rv(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=lu(r.timestampValue),a=lu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Ul(n.bytesValue).isEqual(Ul(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Bi(r.geoPointValue.latitude)===Bi(o.geoPointValue.latitude)&&Bi(r.geoPointValue.longitude)===Bi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bi(r.integerValue)===Bi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Bi(r.doubleValue),a=Bi(o.doubleValue);return s===a?Av(s)===Av(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Yp(n.arrayValue.values||[],t.arrayValue.values||[],Za);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(u6(s)!==u6(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Za(s[l],a[l])))return!1;return!0}(n,t);default:return $e()}var o}function kv(n,t){return void 0!==(n.values||[]).find(e=>Za(e,t))}function hu(n,t){if(n===t)return 0;const e=du(n),i=du(t);if(e!==i)return Dt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Bi(o.integerValue||o.doubleValue),l=Bi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return p6(n.timestampValue,t.timestampValue);case 4:return p6(Rv(n),Rv(t));case 5:return Dt(n.stringValue,t.stringValue);case 6:return function(o,s){const a=Ul(o),l=Ul(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Dt(a[c],l[c]);if(0!==u)return u}return Dt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Dt(Bi(o.latitude),Bi(s.latitude));return 0!==a?a:Dt(Bi(o.longitude),Bi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=hu(a[c],l[c]);if(u)return u}return Dt(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===uu.mapValue&&s===uu.mapValue)return 0;if(o===uu.mapValue)return 1;if(s===uu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const m=Dt(l[f],u[f]);if(0!==m)return m;const _=hu(a[l[f]],c[u[f]]);if(0!==_)return _}return Dt(l.length,u.length)}(n.mapValue,t.mapValue);default:throw $e()}}function p6(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Dt(n,t);const e=lu(n),i=lu(t),r=Dt(e.seconds,i.seconds);return 0!==r?r:Dt(e.nanos,i.nanos)}function em(n){return KM(n)}function KM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=lu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ul(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=KM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${KM(e.fields[s])}`;return r+"}"}(n.mapValue):$e()}function qd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ZM(n){return!!n&&"integerValue"in n}function Mv(n){return!!n&&"arrayValue"in n}function m6(n){return!!n&&"nullValue"in n}function g6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OI(n){return!!n&&"mapValue"in n}function Nv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return au(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Nv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _Ie(n){return"nullValue"in n?MI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qd(cu.empty(),ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:$e()}function yIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qd(cu.empty(),ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uu:$e()}function y6(n,t){const e=hu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function v6(n,t){const e=hu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!OI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nv(e)}setAll(t){let e=_i.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=Nv(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());OI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Za(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];OI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){au(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Zr(Nv(this.value))}}function b6(n){const t=[];return au(n.fields,(e,i)=>{const r=new _i([e]);if(OI(i)){const o=b6(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Ko(t)}class yi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new yi(t,0,it.min(),it.min(),it.min(),Zr.empty(),0)}static newFoundDocument(t,e,i,r){return new yi(t,1,e,it.min(),i,r,0)}static newNoDocument(t,e){return new yi(t,2,e,it.min(),it.min(),Zr.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,it.min(),it.min(),Zr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(it.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fu{constructor(t,e){this.position=t,this.inclusive=e}}function w6(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ke.comparator(ke.fromName(s.referenceValue),e.key):hu(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function E6(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Za(n.position[e],t.position[e]))return!1;return!0}class Ov{constructor(t,e="asc"){this.field=t,this.dir=e}}function vIe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class C6{}class ln extends C6{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new bIe(t,e,i):"array-contains"===e?new CIe(t,i):"in"===e?new A6(t,i):"not-in"===e?new IIe(t,i):"array-contains-any"===e?new TIe(t,i):new ln(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new wIe(t,i):new EIe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(hu(e,this.value)):null!==e&&du(this.value)===du(e)&&this.matchesComparison(hu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends C6{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Ln(t,e)}matches(t){return tm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tm(n){return"and"===n.op}function YM(n){return"or"===n.op}function QM(n){return I6(n)&&tm(n)}function I6(n){for(const t of n.filters)if(t instanceof Ln)return!1;return!0}function XM(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+em(n.value);if(QM(n))return n.filters.map(t=>XM(t)).join(",");{const t=n.filters.map(e=>XM(e)).join(",");return`${n.op}(${t})`}}function T6(n,t){return n instanceof ln?(i=n,(r=t)instanceof ln&&i.op===r.op&&i.field.isEqual(r.field)&&Za(i.value,r.value)):n instanceof Ln?function(i,r){return r instanceof Ln&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&T6(s,r.filters[a]),!0)}(n,t):void $e();var i,r}function x6(n,t){const e=n.filters.concat(t);return Ln.create(e,n.op)}function D6(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${em(e.value)}`:n instanceof Ln?function(e){return e.op.toString()+" {"+e.getFilters().map(D6).join(" ,")+"}"}(n):"Filter";var e}class bIe extends ln{constructor(t,e,i){super(t,e,i),this.key=ke.fromName(i.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class wIe extends ln{constructor(t,e){super(t,"in",e),this.keys=S6(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class EIe extends ln{constructor(t,e){super(t,"not-in",e),this.keys=S6(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function S6(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ke.fromName(i.referenceValue))}class CIe extends ln{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mv(e)&&kv(e.arrayValue,this.value)}}class A6 extends ln{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&kv(this.value.arrayValue,e)}}class IIe extends ln{constructor(t,e){super(t,"not-in",e)}matches(t){if(kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!kv(this.value.arrayValue,e)}}class TIe extends ln{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>kv(this.value.arrayValue,i))}}class xIe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function JM(n,t=null,e=[],i=[],r=null,o=null,s=null){return new xIe(n,t,e,i,r,o,s)}function Kd(n){const t=Re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>XM(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Sv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>em(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>em(i)).join(",")),t.ce=e}return t.ce}function Pv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!vIe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!T6(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!E6(n.startAt,t.startAt)&&E6(n.endAt,t.endAt)}function PI(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function FI(n,t){return n.filters.filter(e=>e instanceof ln&&e.field.isEqual(t))}function R6(n,t,e){let i=MI,r=!0;for(const o of FI(n,t)){let s=MI,a=!0;switch(o.op){case"<":case"<=":s=_Ie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=MI}y6({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];y6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function k6(n,t,e){let i=uu,r=!0;for(const o of FI(n,t)){let s=uu,a=!0;switch(o.op){case">=":case">":s=yIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uu}v6({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];v6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class jl{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function M6(n,t,e,i,r,o,s,a){return new jl(n,t,e,i,r,o,s,a)}function nm(n){return new jl(n)}function N6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function eN(n){return null!==n.collectionGroup}function im(n){const t=Re(n);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new zn(_i.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new Ov(o,i))}),e.has(_i.keyField().canonicalString())||t.le.push(new Ov(_i.keyField(),i))}return t.le}function Ro(n){const t=Re(n);return t.he||(t.he=function O6(n,t){if("F"===n.limitType)return JM(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Ov(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new fu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fu(n.startAt.position,n.startAt.inclusive):null;return JM(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,im(n))),t.he}function tN(n,t){const e=n.filters.concat([t]);return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function LI(n,t,e){return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Fv(n,t){return Pv(Ro(n),Ro(t))&&n.limitType===t.limitType}function P6(n){return`${Kd(Ro(n))}|lt:${n.limitType}`}function rm(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>D6(r)).join(", ")}]`),Sv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>em(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>em(r)).join(",")),`Target(${i})`}(Ro(n))}; limitType=${n.limitType})`}function Lv(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ke.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of im(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=w6(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,im(i),r)||i.endAt&&!function(s,a,l){const c=w6(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,im(i),r)));var i,r}function F6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L6(n){return(t,e)=>{let i=!1;for(const r of im(n)){const o=DIe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function DIe(n,t,e){const i=n.field.isKeyField()?ke.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?hu(l,c):$e()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}class Hl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){au(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return d6(this.inner)}size(){return this.innerSize}}const SIe=new li(ke.comparator);function Zo(){return SIe}const V6=new li(ke.comparator);function Vv(...n){let t=V6;for(const e of n)t=t.insert(e.key,e);return t}function B6(n){let t=V6;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ya(){return Bv()}function U6(){return Bv()}function Bv(){return new Hl(n=>n.toString(),(n,t)=>n.isEqual(t))}const AIe=new li(ke.comparator),RIe=new zn(ke.comparator);function Vt(...n){let t=RIe;for(const e of n)t=t.add(e);return t}const kIe=new zn(Dt);function nN(){return kIe}function j6(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Av(t)?"-0":t}}function H6(n){return{integerValue:""+n}}function z6(n,t){return i6(t)?H6(t):j6(n,t)}class VI{constructor(){this._=void 0}}function MIe(n,t,e){return n instanceof om?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&RI(o)&&(o=kI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Zd?W6(n,t):n instanceof Yd?G6(n,t):function(r,o){const s=$6(r,o),a=q6(s)+q6(r.Ie);return ZM(s)&&ZM(r.Ie)?H6(a):j6(r.serializer,a)}(n,t)}function NIe(n,t,e){return n instanceof Zd?W6(n,t):n instanceof Yd?G6(n,t):e}function $6(n,t){return n instanceof sm?ZM(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class om extends VI{}class Zd extends VI{constructor(t){super(),this.elements=t}}function W6(n,t){const e=K6(t);for(const i of n.elements)e.some(r=>Za(r,i))||e.push(i);return{arrayValue:{values:e}}}class Yd extends VI{constructor(t){super(),this.elements=t}}function G6(n,t){let e=K6(t);for(const i of n.elements)e=e.filter(r=>!Za(r,i));return{arrayValue:{values:e}}}class sm extends VI{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function q6(n){return Bi(n.integerValue||n.doubleValue)}function K6(n){return Mv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Uv{constructor(t,e){this.field=t,this.transform=e}}class PIe{constructor(t,e){this.version=t,this.transformResults=e}}class xi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function BI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class UI{}function Z6(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new lm(n.key,xi.none()):new am(n.key,n.data,xi.none());{const e=n.data,i=Zr.empty();let r=new zn(_i.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new zl(n.key,i,new Ko(r.toArray()),xi.none())}}function FIe(n,t,e){n instanceof am?function(r,o,s){const a=r.value.clone(),l=X6(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof zl?function(r,o,s){if(!BI(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=X6(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Q6(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function jv(n,t,e,i){return n instanceof am?function(o,s,a,l){if(!BI(o.precondition,s))return a;const c=o.value.clone(),u=J6(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof zl?function(o,s,a,l){if(!BI(o.precondition,s))return a;const c=J6(o.fieldTransforms,l,s),u=s.data;return u.setAll(Q6(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,BI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function LIe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=$6(i.transform,r||null);null!=o&&(null===e&&(e=Zr.empty()),e.set(i.field,o))}return e||null}function Y6(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Yp(i,r,(o,s)=>function OIe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Zd&&r instanceof Zd||i instanceof Yd&&r instanceof Yd?Yp(i.elements,r.elements,Za):i instanceof sm&&r instanceof sm?Za(i.Ie,r.Ie):i instanceof om&&r instanceof om);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class am extends UI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zl extends UI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Q6(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function X6(n,t,e){const i=new Map;tt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,NIe(s,a,e[r]))}return i}function J6(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,MIe(o,s,t))}return i}class lm extends UI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iN extends UI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&FIe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=jv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=jv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=U6();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=Z6(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(it.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Yp(this.mutations,t.mutations,(e,i)=>Y6(e,i))&&Yp(this.baseMutations,t.baseMutations,(e,i)=>Y6(e,i))}}class oN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){tt(t.mutations.length===i.length);let r=AIe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new oN(t,e,i,r)}}class sN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class BIe{constructor(t,e){this.count=t,this.unchangedNames=e}}var tr,pn;function eq(n){switch(n){default:return $e();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function tq(n){if(void 0===n)return Gi("GRPC error has no .code"),te.UNKNOWN;switch(n){case tr.OK:return te.OK;case tr.CANCELLED:return te.CANCELLED;case tr.UNKNOWN:return te.UNKNOWN;case tr.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case tr.INTERNAL:return te.INTERNAL;case tr.UNAVAILABLE:return te.UNAVAILABLE;case tr.UNAUTHENTICATED:return te.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case tr.NOT_FOUND:return te.NOT_FOUND;case tr.ALREADY_EXISTS:return te.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return te.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case tr.ABORTED:return te.ABORTED;case tr.OUT_OF_RANGE:return te.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return te.UNIMPLEMENTED;case tr.DATA_LOSS:return te.DATA_LOSS;default:return $e()}}(pn=tr||(tr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";function nq(){return new TextEncoder}const UIe=new qp([4294967295,4294967295],0);function iq(n){const t=nq().encode(n),e=new NCe;return e.update(t),new Uint8Array(e.digest())}function rq(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new qp([e,i],0),new qp([r,o],0)]}class aN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Hv(`Invalid padding: ${e}`);if(i<0)throw new Hv(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Hv(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Hv(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=qp.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(qp.fromNumber(i)));return 1===r.compare(UIe)&&(r=new qp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=iq(t),[i,r]=rq(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new aN(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=iq(t),[i,r]=rq(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Hv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,$v.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new zv(it.min(),r,new li(Dt),Zo(),Vt())}}class $v{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new $v(i,e,Vt(),Vt(),Vt())}}class HI{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class oq{constructor(t,e){this.targetId=t,this.fe=e}}class sq{constructor(t,e,i=pr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class aq{constructor(){this.ge=0,this.pe=cq(),this.ye=pr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Vt(),e=Vt(),i=Vt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$e()}}),new $v(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=cq()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class jIe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Zo(),this.Qe=lq(),this.Ke=new li(Dt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:$e()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(PI(o))if(0===i){const s=new ke(o.path);this.We(e,s,yi.newNoDocument(s,it.min()))}else tt(1===i);else{const s=this.Ze(e);if(s!==i){const a=this.Xe(t),l=a?this.et(a,t,s):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Ul(i).toUint8Array()}catch(l){if(l instanceof f6)return qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new aN(s,r,o)}catch(l){return qo(l instanceof Hv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&PI(a.target)){const l=new ke(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,yi.newNoDocument(l,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let i=Vt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new zv(t,e,this.Ke,this.qe,i);return this.qe=Zo(),this.Qe=lq(),this.Ke=new li(Dt),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new aq,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new zn(Dt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ee("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new aq),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function lq(){return new li(ke.comparator)}function cq(){return new li(ke.comparator)}const HIe={asc:"ASCENDING",desc:"DESCENDING"},zIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$Ie={and:"AND",or:"OR"};class WIe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function lN(n,t){return n.useProto3Json||Sv(t)?t:{value:t}}function cm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uq(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function GIe(n,t){return cm(n,t.toTimestamp())}function qi(n){return tt(!!n),it.fromTimestamp(function(e){const i=lu(e);return new Ti(i.seconds,i.nanos)}(n))}function cN(n,t){return(i=n,new fn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function dq(n){const t=fn.fromString(n);return tt(bq(t)),t}function Wv(n,t){return cN(n.databaseId,t.path)}function Qa(n,t){const e=dq(t);if(e.get(1)!==n.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(fq(e))}function uN(n,t){return cN(n.databaseId,t)}function hq(n){const t=dq(n);return 4===t.length?fn.emptyPath():fq(t)}function Gv(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fq(n){return tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pq(n,t,e){return{name:Wv(n,t),fields:e.value.mapValue.fields}}function mq(n,t,e){const i=Qa(n,t.name),r=qi(t.updateTime),o=t.createTime?qi(t.createTime):it.min(),s=new Zr({mapValue:{fields:t.fields}}),a=yi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function qv(n,t){let e;if(t instanceof am)e={update:pq(n,t.key,t.value)};else if(t instanceof lm)e={delete:Wv(n,t.key)};else if(t instanceof zl)e={update:pq(n,t.key,t.data),updateMask:eTe(t.fieldMask)};else{if(!(t instanceof iN))return $e();e={verify:Wv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof om)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sm)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $e()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:GIe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),e;var o}function dN(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?xi.updateTime(qi(o.updateTime)):void 0!==o.exists?xi.exists(o.exists):xi.none():xi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(tt("REQUEST_TIME"===a.setToServerValue),l=new om):"appendMissingElements"in a?l=new Zd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Yd(a.removeAllFromArray.values||[]):"increment"in a?l=new sm(s,a.increment):$e();const c=_i.fromServerFormat(a.fieldPath);return new Uv(c,l)}(n,r)):[];var o;if(t.update){const r=Qa(n,t.update.name),o=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Ko((t.updateMask.fieldPaths||[]).map(u=>_i.fromServerFormat(u)));return new zl(r,o,s,e,i)}return new am(r,o,e,i)}if(t.delete){const r=Qa(n,t.delete);return new lm(r,e)}if(t.verify){const r=Qa(n,t.verify);return new iN(r,e)}return $e()}function gq(n,t){return{documents:[uN(n,t.path)]}}function hN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=uN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=uN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return vq(Ln.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:pu((f=c).field),direction:QIe(f.dir)};var f})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=lN(n,t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function _q(n){let t=hq(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){tt(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(f){const m=yq(f);return m instanceof Ln&&QM(m)?m.getFilters():[m]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(m=>{return new Ov(um((v=m).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;e.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,Sv(m)?null:m}(e.limit));let l=null;var f;e.startAt&&(l=new fu((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new fu(f.values||[],!f.before)}(e.endAt)),M6(t,r,s,o,a,"F",l,c)}function yq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=um(e.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=um(e.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=um(e.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=um(e.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):void 0!==n.fieldFilter?ln.create(um((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ln.create(e.compositeFilter.filters.map(i=>yq(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $e()}}(e.compositeFilter.op))}(n):$e();var e}function QIe(n){return HIe[n]}function XIe(n){return zIe[n]}function JIe(n){return $Ie[n]}function pu(n){return{fieldPath:n.canonicalString()}}function um(n){return _i.fromServerFormat(n.fieldPath)}function vq(n){return n instanceof ln?function(e){if("=="===e.op){if(g6(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NAN"}};if(m6(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(g6(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NOT_NAN"}};if(m6(e.value))return{unaryFilter:{field:pu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(e.field),op:XIe(e.op),value:e.value}}}(n):n instanceof Ln?function(e){const i=e.getFilters().map(r=>vq(r));return 1===i.length?i[0]:{compositeFilter:{op:JIe(e.op),filters:i}}}(n):$e()}function eTe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $l{constructor(t,e,i,r,o=it.min(),s=it.min(),a=pr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new $l(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wq{constructor(t){this.ut=t}}function Eq(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:zI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Wv(o=n.ut,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:cm(o,s.version.toTimestamp()),createTime:cm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Qd(t.version)};else{if(!t.isUnknownDocument())return $e();i.unknownDocument={path:e.path.toArray(),version:Qd(t.version)}}var o,s;return i}function zI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Qd(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xd(n){const t=new Ti(n.seconds,n.nanoseconds);return it.fromTimestamp(t)}function Jd(n,t){const e=(t.baseMutations||[]).map(o=>dN(n.ut,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>dN(n.ut,o)),r=Ti.fromMillis(t.localWriteTimeMs);return new rN(t.batchId,r,e,i)}function Kv(n){const t=Xd(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Xd(n.lastLimboFreeSnapshotVersion):it.min();let i;return i=void 0!==n.query.documents?(tt(1===(o=n.query).documents.length),Ro(nm(hq(o.documents[0])))):function(o){return Ro(_q(o))}(n.query),new $l(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,pr.fromBase64String(n.resumeToken));var o}function Cq(n,t){const e=Qd(t.snapshotVersion),i=Qd(t.lastLimboFreeSnapshotVersion);let r;r=PI(t.target)?gq(n.ut,t.target):hN(n.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Kd(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function fN(n){const t=_q({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?LI(t,t.limit,"L"):t}function pN(n,t){return new sN(t.largestBatchId,dN(n.ut,t.overlayMutation))}function Iq(n,t){const e=t.path.lastSegment();return[n,ao(t.path.popLast()),e]}function Tq(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Qd(i.readTime),documentKey:ao(i.documentKey.path),largestBatchId:i.largestBatchId}}class nTe{getBundleMetadata(t,e){return xq(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Xd(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return xq(t).put({bundleId:(r=e).id,createTime:Qd(qi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Dq(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:fN(o.bundledQuery),readTime:Xd(o.readTime)};var o})}saveNamedQuery(t,e){return Dq(t).put({name:(r=e).name,readTime:Qd(qi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function xq(n){return Or(n,"bundles")}function Dq(n){return Or(n,"namedQueries")}class $I{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new $I(t,e.uid||"")}getOverlay(t,e){return Zv(t).get(Iq(this.userId,e)).next(i=>i?pN(this.serializer,i):null)}getOverlays(t,e){const i=Ya();return q.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new sN(e,s);r.push(this.lt(t,a))}),q.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(ao(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Zv(t).H("collectionPathOverlayIndex",a))}),q.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ya(),o=ao(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zv(t).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=pN(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ya();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Zv(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const f=pN(this.serializer,c);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}lt(t,e){return Zv(t).put(function(r,o,s){const[a,l,c]=Iq(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:qv(r.ut,s.mutation)}}(this.serializer,this.userId,e))}}function Zv(n){return Or(n,"documentOverlays")}class eh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Bi(t.integerValue));else if("doubleValue"in t){const i=Bi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Av(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Ul(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?_6(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):$e()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),ke.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function iTe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Sq(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=iTe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}eh.St=new eh;class rTe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=Sq(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=Sq(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class oTe{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class sTe{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Yv{constructor(){this.Wt=new rTe,this.Gt=new oTe(this.Wt),this.zt=new sTe(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class th{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new th(this.indexId,this.documentKey,this.arrayValue,i)}}function mu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Aq(n.arrayValue,t.arrayValue),0!==e?e:(e=Aq(n.directionalValue,t.directionalValue),0!==e?e:ke.comparator(n.documentKey,t.documentKey)))}function Aq(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Rq{constructor(t){this.Jt=new zn((e,i)=>_i.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(tt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=zM(t);if(void 0!==e&&!this.tn(e))return!1;const i=$d(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let t=new zn(_i.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Wd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Wd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Wd(i.field,"asc"===i.dir?0:1)));return new Qp(Qp.UNKNOWN_ID,this.collectionId,e,Xp.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function kq(n){var t,e;if(tt(n instanceof ln||n instanceof Ln),n instanceof ln){if(n instanceof A6){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>ln.create(n.field,"==",o)))||[];return Ln.create(r,"or")}return n}const i=n.filters.map(r=>kq(r));return Ln.create(i,n.op)}function aTe(n){if(0===n.getFilters().length)return[];const t=_N(kq(n));return tt(Mq(t)),mN(t)||gN(t)?[t]:t.getFilters()}function mN(n){return n instanceof ln}function gN(n){return n instanceof Ln&&QM(n)}function Mq(n){return mN(n)||gN(n)||function(e){if(e instanceof Ln&&YM(e)){for(const i of e.getFilters())if(!mN(i)&&!gN(i))return!1;return!0}return!1}(n)}function _N(n){if(tt(n instanceof ln||n instanceof Ln),n instanceof ln)return n;if(1===n.filters.length)return _N(n.filters[0]);const t=n.filters.map(i=>_N(i));let e=Ln.create(t,n.op);return e=WI(e),Mq(e)?e:(tt(e instanceof Ln),tt(tm(e)),tt(e.filters.length>1),e.filters.reduce((i,r)=>yN(i,r)))}function yN(n,t){let e;return tt(n instanceof ln||n instanceof Ln),tt(t instanceof ln||t instanceof Ln),e=n instanceof ln?t instanceof ln?Ln.create([n,t],"and"):Nq(n,t):t instanceof ln?Nq(t,n):function(r,o){if(tt(r.filters.length>0&&o.filters.length>0),tm(r)&&tm(o))return x6(r,o.getFilters());const s=YM(r)?r:o,a=YM(r)?o:r,l=s.filters.map(c=>yN(c,a));return Ln.create(l,"or")}(n,t),WI(e)}function Nq(n,t){if(tm(t))return x6(t,n.getFilters());{const e=t.filters.map(i=>yN(n,i));return Ln.create(e,"or")}}function WI(n){if(tt(n instanceof ln||n instanceof Ln),n instanceof ln)return n;const t=n.getFilters();if(1===t.length)return WI(t[0]);if(I6(n))return n;const e=t.map(r=>WI(r)),i=[];return e.forEach(r=>{r instanceof ln?i.push(r):r instanceof Ln&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ln.create(i,n.op)}class lTe{constructor(){this.on=new vN}addToCollectionParentIndex(t,e){return this.on.add(e),q.resolve()}getCollectionParents(t,e){return q.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return q.resolve()}deleteFieldIndex(t,e){return q.resolve()}deleteAllFieldIndexes(t){return q.resolve()}createTargetIndexes(t,e){return q.resolve()}getDocumentsMatchingTarget(t,e){return q.resolve(null)}getIndexType(t,e){return q.resolve(0)}getFieldIndexes(t,e){return q.resolve([])}getNextCollectionGroupToUpdate(t){return q.resolve(null)}getMinOffset(t,e){return q.resolve(hs.min())}getMinOffsetFromCollectionGroup(t,e){return q.resolve(hs.min())}updateCollectionGroup(t,e,i){return q.resolve()}updateIndexEntries(t,e){return q.resolve()}}class vN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new zn(fn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new zn(fn.comparator)).toArray()}}const GI=new Uint8Array(0);class cTe{constructor(t,e){this.user=t,this.databaseId=e,this._n=new vN,this.an=new Hl(i=>Kd(i),(i,r)=>Pv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const o={collectionId:i,parent:ao(r)};return Oq(t).put(o)}return q.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Q8(e),""],!1,!0);return Oq(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(Ka(s.parent))}return i})}addFieldIndex(t,e){const i=Qv(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=hm(t);return o.next(a=>{s.put(Tq(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Qv(t),r=hm(t),o=dm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Qv(t),i=dm(t),r=hm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return q.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new Rq(i).sn();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=dm(t);let r=!0;const o=new Map;return q.forEach(this.un(e),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Vt();const a=[];return q.forEach(o,(l,c)=>{var V;Ee("IndexedDbIndexManager",`Using index ${V=l,`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`} to execute ${Kd(e)}`);const u=function(V,K){const ae=zM(K);if(void 0===ae)return null;for(const xe of FI(V,ae.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(c,l),f=function(V,K){const ae=new Map;for(const xe of $d(K))for(const Be of FI(V,xe.fieldPath))switch(Be.op){case"==":case"in":ae.set(xe.fieldPath.canonicalString(),Be.value);break;case"not-in":case"!=":return ae.set(xe.fieldPath.canonicalString(),Be.value),Array.from(ae.values())}return null}(c,l),m=function(V,K){const ae=[];let xe=!0;for(const Be of $d(K)){const ct=0===Be.kind?R6(V,Be.fieldPath,V.startAt):k6(V,Be.fieldPath,V.startAt);ae.push(ct.value),xe&&(xe=ct.inclusive)}return new fu(ae,xe)}(c,l),_=function(V,K){const ae=[];let xe=!0;for(const Be of $d(K)){const ct=0===Be.kind?k6(V,Be.fieldPath,V.endAt):R6(V,Be.fieldPath,V.endAt);ae.push(ct.value),xe&&(xe=ct.inclusive)}return new fu(ae,xe)}(c,l),v=this.ln(l,c,m),b=this.ln(l,c,_),I=this.hn(l,c,f),M=this.Pn(l.indexId,u,v,m.inclusive,b,_.inclusive,I);return q.forEach(M,A=>i.j(A,e.limit).next(V=>{V.forEach(K=>{const ae=ke.fromSegments(K.documentKey);s.has(ae)||(s=s.add(ae),a.push(ae))})}))}).next(()=>a)}return q.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:aTe(Ln.create(t.filters,"and")).map(i=>JM(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),u=[];for(let f=0;f<l;++f){const m=e?this.In(e[f/c]):GI,_=this.Tn(t,m,i[f%c],r),v=this.En(t,m,o[f%c],s),b=a.map(I=>this.Tn(t,m,I,!0));u.push(...this.createRange(_,v,b))}return u}Tn(t,e,i,r){const o=new th(t,ke.empty(),e,i);return r?o:o.Ht()}En(t,e,i,r){const o=new th(t,ke.empty(),e,i);return r?o.Ht():o}cn(t,e){const i=new Rq(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.un(e);return q.forEach(r,o=>this.cn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new zn(_i.comparator),u=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?u=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Yv;for(const r of $d(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);eh.St.ht(o,s)}return i.Ut()}In(t){const e=new Yv;return eh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Yv;return eh.St.ht(qd(this.databaseId,e),i.jt(function(o){const s=$d(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Yv);let o=0;for(const s of $d(t)){const a=i[o++];for(const l of r)if(this.Rn(e,s.fieldPath)&&Mv(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);eh.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Yv;l.seed(a.Ut()),eh.St.ht(s,l.jt(e.kind)),o.push(l)}return o}Rn(t,e){return!!t.filters.find(i=>i instanceof ln&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Qv(t),r=hm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const s=[];return q.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,f){const m=f?new Xp(f.sequenceNumber,new hs(Xd(f.readTime),new ke(Ka(f.documentKey)),f.largestBatchId)):Xp.empty(),_=u.fields.map(([v,b])=>new Wd(_i.fromServerFormat(v),b));return new Qp(u.indexId,u.collectionGroup,_,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Dt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Qv(t),o=hm(t);return this.fn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>q.forEach(a,l=>o.put(Tq(l.indexId,this.user,s,i)))))}updateIndexEntries(t,e){const i=new Map;return q.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?q.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),q.forEach(a,l=>this.gn(t,r,l).next(c=>{const u=this.pn(o,l);return c.isEqual(u)?q.resolve():this.yn(t,o,l,c,u)}))))})}wn(t,e,i,r){return dm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return dm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=dm(t);let o=new zn(mu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(s,a)=>{o=o.add(new th(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,e){let i=new zn(mu);const r=this.dn(e,t);if(null==r)return i;const o=zM(e);if(null!=o){const s=t.data.field(o.fieldPath);if(Mv(s))for(const a of s.arrayValue.values||[])i=i.add(new th(e.indexId,t.key,this.In(a),r))}else i=i.add(new th(e.indexId,t.key,GI,r));return i}yn(t,e,i,r,o){Ee("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,u,f,m){const _=l.getIterator(),v=c.getIterator();let b=Jp(_),I=Jp(v);for(;b||I;){let M=!1,A=!1;if(b&&I){const V=u(b,I);V<0?A=!0:V>0&&(M=!0)}else null!=b?A=!0:M=!0;M?(f(I),I=Jp(v)):A?(m(b),b=Jp(_)):(b=Jp(_),I=Jp(v))}}(r,o,mu,a=>{s.push(this.wn(t,e,i,a))},a=>{s.push(this.Sn(t,e,i,a))}),q.waitFor(s)}fn(t){let e=1;return hm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>mu(s,a)).filter((s,a,l)=>!a||0!==mu(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=mu(s,t),l=mu(s,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,GI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,GI,[]]))}return o}bn(t,e){return mu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Pq)}getMinOffset(t,e){return q.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||$e())).next(Pq)}}function Oq(n){return Or(n,"collectionParents")}function dm(n){return Or(n,"indexEntries")}function Qv(n){return Or(n,"indexConfiguration")}function hm(n){return Or(n,"indexState")}function Pq(n){tt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;$M(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new hs(t.readTime,t.documentKey,e)}const Fq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new lo(t,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lq(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(l.next(()=>{tt(1===a)}));const c=[];for(const u of e.mutations){const f=s6(t,u.key.path,e.batchId);o.push(r.delete(f)),c.push(u.key)}return q.waitFor(o).next(()=>c)}function qI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw $e();t=n.noDocument}return JSON.stringify(t).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class KI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){tt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new KI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=fm(t),s=gu(t);return s.add({}).next(a=>{tt("number"==typeof a);const l=new rN(a,e,i,r),c=function(_,v,b){const I=b.baseMutations.map(A=>qv(_.ut,A)),M=b.mutations.map(A=>qv(_.ut,A));return{userId:v,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:I,mutations:M}}(this.serializer,this.userId,l),u=[];let f=new zn((m,_)=>Dt(m.canonicalString(),_.canonicalString()));for(const m of r){const _=s6(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(c)),u.push(o.put(_,QCe))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),q.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return gu(t).get(e).next(i=>i?(tt(i.userId===this.userId),Jd(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?q.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return gu(t).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(tt(a.batchId>=i),o=Jd(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return gu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Jd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=SI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return fm(t).Y({range:r},(s,a,l)=>{const[c,u,f]=s,m=Ka(u);if(c===this.userId&&e.path.isEqual(m))return gu(t).get(f).next(_=>{if(!_)throw $e();tt(_.userId===this.userId),o.push(Jd(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zn(Dt);const r=[];return e.forEach(o=>{const s=SI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=fm(t).Y({range:a},(c,u,f)=>{const[m,_,v]=c,b=Ka(_);m===this.userId&&o.path.isEqual(b)?i=i.add(v):f.done()});r.push(l)}),q.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=SI(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new zn(Dt);return fm(t).Y({range:s},(l,c,u)=>{const[f,m,_]=l,v=Ka(m);f===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(_)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(gu(t).get(o).next(s=>{if(null===s)throw $e();tt(s.userId===this.userId),i.push(Jd(this.serializer,s))}))}),q.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Lq(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),q.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return q.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return fm(t).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Ka(o[1]);r.push(l)}else a.done()}).next(()=>{tt(0===r.length)})})}containsKey(t,e){return Vq(t,this.userId,e)}Mn(t){return Bq(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vq(n,t,e){const i=SI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return fm(n).Y({range:o,J:!0},(a,l,c)=>{const[u,f,m]=a;u===t&&f===r&&(s=!0),c.done()}).next(()=>s)}function gu(n){return Or(n,"mutations")}function fm(n){return Or(n,"documentMutations")}function Bq(n){return Or(n,"mutationQueues")}class nh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new nh(0)}static Nn(){return new nh(-1)}}class uTe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new nh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>it.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>pm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(tt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return pm(t).Y((s,a)=>{const l=Kv(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>q.waitFor(o)).next(()=>r)}forEachTarget(t,e){return pm(t).Y((i,r)=>{const o=Kv(r);e(o)})}Bn(t){return Uq(t).get("targetGlobalKey").next(e=>(tt(null!==e),e))}Ln(t,e){return Uq(t).put("targetGlobalKey",e)}kn(t,e){return pm(t).put(Cq(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Kd(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return pm(t).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=Kv(a);Pv(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=_u(t);return e.forEach(s=>{const a=ao(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),q.waitFor(r)}removeMatchingKeys(t,e,i){const r=_u(t);return q.forEach(e,o=>{const s=ao(o.path);return q.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=_u(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=_u(t);let o=Vt();return r.Y({range:i,J:!0},(s,a,l)=>{const c=Ka(s[1]),u=new ke(c);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=ao(e.path),r=IDBKeyRange.bound([i],[Q8(i)],!1,!0);let o=0;return _u(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(t,e){return pm(t).get(e).next(i=>i?Kv(i):null)}}function pm(n){return Or(n,"targets")}function Uq(n){return Or(n,"targetGlobal")}function _u(n){return Or(n,"targetDocuments")}function jq([n,t],[e,i]){const r=Dt(n,e);return 0===r?Dt(t,i):r}class dTe{constructor(t){this.Qn=t,this.buffer=new zn(jq),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();jq(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Hq{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;Ee("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,le.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){su(i)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ou(i)}yield e.Gn(3e5)}))}}class hTe{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return q.resolve(fs._e);const i=new dTe(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Fq)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fq):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Zp()<=ls.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class fTe{constructor(t,e){this.db=t,this.garbageCollector=function zq(n,t){return new hTe(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return ZI(t,i)}removeReference(t,e,i){return ZI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ZI(t,e)}Xn(t,e){return function(r,o){let s=!1;return Bq(r).Z(a=>Vq(r,a,o).next(l=>(l&&(s=!0),q.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(t,(s,a)=>{if(a<=e){const l=this.Xn(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,it.min()),_u(t).delete([0,ao(s.path)])))});r.push(l)}}).next(()=>q.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ZI(t,e)}Zn(t,e){const i=_u(t);let r,o=fs._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==fs._e&&e(new ke(Ka(r)),o),o=c,r=l):o=fs._e}).next(()=>{o!==fs._e&&e(new ke(Ka(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ZI(n,t){return _u(n).put((r=n.currentSequenceNumber,{targetId:0,path:ao(t.path),sequenceNumber:r}));var r}class $q{constructor(){this.changes=new Hl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?q.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pTe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ih(t).put(i)}removeEntry(t,e,i){return ih(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zI(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=yi.newInvalidDocument(e);return ih(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xv(e))},(r,o)=>{i=this.tr(e,o)}).next(()=>i)}nr(t,e){let i={size:0,document:yi.newInvalidDocument(e)};return ih(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xv(e))},(r,o)=>{i={document:this.tr(e,o),size:qI(o)}}).next(()=>i)}getEntries(t,e){let i=Zo();return this.rr(t,e,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(t,e){let i=Zo(),r=new li(ke.comparator);return this.rr(t,e,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,qI(s))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return q.resolve();let r=new zn(Kq);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Xv(r.first()),Xv(r.last())),s=r.getIterator();let a=s.getNext();return ih(t).Y({index:"documentKeyIndex",range:o},(l,c,u)=>{const f=ke.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Kq(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.U(Xv(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),zI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ih(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let u=Zo();for(const f of c){const m=this.tr(ke.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Lv(e,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=Zo();const s=qq(e,i),a=qq(e,hs.max());return ih(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const f=this.tr(ke.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new mTe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Gq(t).get("remoteDocumentGlobalKey").next(e=>(tt(!!e),e))}er(t,e){return Gq(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function tTe(n,t){let e;if(t.document)e=mq(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ke.fromSegments(t.noDocument.path),r=Xd(t.noDocument.readTime);e=yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $e();{const i=ke.fromSegments(t.unknownDocument.path),r=Xd(t.unknownDocument.version);e=yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ti(r[0],r[1]);return it.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(it.min()))return i}return yi.newInvalidDocument(t)}}function Wq(n){return new pTe(n)}class mTe extends $q{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new Hl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new zn((o,s)=>Dt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(e.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=Eq(this._r.serializer,s);r=r.add(o.path.popLast());const c=qI(l);i+=c-a.size,e.push(this._r.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=Eq(this._r.serializer,s.convertToNoDocument(it.min()));e.push(this._r.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),e.push(this._r.updateMetadata(t,i)),q.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Gq(n){return Or(n,"remoteDocumentGlobal")}function ih(n){return Or(n,"remoteDocumentsV14")}function Xv(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qq(n,t){const e=t.documentKey.path.toArray();return[n,zI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Kq(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Dt(e[o],i[o]),r)return r;return r=Dt(e.length,i.length),r||(r=Dt(e[e.length-2],i[i.length-2]),r||Dt(e[e.length-1],i[i.length-1]))}class gTe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Zq{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&jv(i.mutation,r,Ko.empty(),Ti.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=Ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=Vv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Zo();const s=Bv(),a=Bv();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof zl)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),jv(u.mutation,c,u.mutation.getFieldMask(),Ti.now())):s.set(c.key,Ko.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new gTe(u,null!==(f=s.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Bv();let r=new li((s,a)=>s-a),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||Ko.empty();u=a.applyToLocalView(c,u),i.set(l,u);const f=(r.get(a.batchId)||Vt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=U6();u.forEach(m=>{if(!o.has(m)){const _=Z6(e.get(m),i.get(m));null!==_&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return q.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ke.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):eN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):q.resolve(Ya());let a=-1,l=o;return s.next(c=>q.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?q.resolve():this.remoteDocumentCache.getEntry(t,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Vt())).next(u=>({batchId:a,changes:B6(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next(i=>{let r=Vv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=Vv();return this.indexManager.getCollectionParents(t,o).next(a=>q.forEach(a,l=>{const c=(f=e,m=l.child(o),new jl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,yi.newInvalidDocument(u)))});let a=Vv();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&jv(u.mutation,c,Ko.empty(),Ti.now()),Lv(e,c)&&(a=a.insert(l,c))}),a})}}class _Te{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return q.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:qi(r.createTime)}),q.resolve();var r}getNamedQuery(t,e){return q.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:fN(r.bundledQuery),readTime:qi(r.readTime)}),q.resolve();var r}}class yTe{constructor(){this.overlays=new li(ke.comparator),this.lr=new Map}getOverlay(t,e){return q.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ya();return q.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.lt(t,e,o)}),q.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),q.resolve()}getOverlaysForCollection(t,e,i){const r=Ya(),o=e.length+1,s=new ke(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return q.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new li((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=Ya(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ya(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return q.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new sN(e,i));let o=this.lr.get(e);void 0===o&&(o=Vt(),this.lr.set(e,o)),this.lr.set(e,o.add(i.key))}}class bN{constructor(){this.hr=new zn(Pr.Pr),this.Ir=new zn(Pr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Pr(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Pr(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new ke(new fn([])),i=new Pr(e,t),r=new Pr(e,t+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new ke(new fn([])),i=new Pr(e,t),r=new Pr(e,t+1);let o=Vt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Pr(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Pr{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return ke.comparator(t.key,e.key)||Dt(t.gr,e.gr)}static Tr(t,e){return Dt(t.gr,e.gr)||ke.comparator(t.key,e.key)}}class vTe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new zn(Pr.Pr)}checkEmpty(t){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.pr;this.pr++;const s=new rN(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Pr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(t,e){return q.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),o=r<0?0:r;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Pr(e,0),r=new Pr(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zn(Dt);return e.forEach(r=>{const o=new Pr(r,0),s=new Pr(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),q.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ke.isDocumentKey(o)||(o=o.child(""));const s=new Pr(new ke(o),0);let a=new zn(Dt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),q.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){tt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return q.forEach(e.mutations,r=>{const o=new Pr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Pr(e,0),r=this.yr.firstAfterOrEqual(i);return q.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return q.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bTe{constructor(t){this.Cr=t,this.docs=new li(ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return q.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=Zo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yi.newInvalidDocument(r))}),q.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Zo();const s=e.path,a=new ke(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||$M(J8(u),i)<=0||(r.has(u.key)||Lv(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$e()}vr(t,e){return q.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new wTe(this)}getSize(t){return q.resolve(this.size)}}class wTe extends $q{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),q.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class ETe{constructor(t){this.persistence=t,this.Fr=new Hl(e=>Kd(e),Pv),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Mr=0,this.Or=new bN,this.targetCount=0,this.Nr=nh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),q.resolve()}getLastRemoteSnapshotVersion(t){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return q.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),q.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new nh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,q.resolve()}updateTargetData(t,e){return this.kn(e),q.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,q.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),q.waitFor(o).next(()=>r)}getTargetCount(t){return q.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return q.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),q.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),q.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return q.resolve(i)}containsKey(t,e){return q.resolve(this.Or.containsKey(e))}}class wN{constructor(t,e){this.Br={},this.overlays={},this.Lr=new fs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new ETe(this),this.indexManager=new lTe,this.remoteDocumentCache=new bTe(i=>this.referenceDelegate.Qr(i)),this.serializer=new wq(e),this.Kr=new _Te(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yTe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new vTe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ee("MemoryPersistence","Starting transaction:",t);const r=new CTe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,e){return q.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class CTe extends t6{constructor(t){super(),this.currentSequenceNumber=t}}class YI{constructor(t){this.persistence=t,this.Gr=new bN,this.zr=null}static jr(t){return new YI(t)}get Hr(){if(this.zr)return this.zr;throw $e()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),q.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),q.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Hr,i=>{const r=ke.fromPath(i);return this.Jr(t,r).next(o=>{o||e.removeEntry(r,it.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return q.or([()=>q.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class ITe{constructor(t){this.serializer=t}N(t,e,i,r){const o=new DI("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o6,{unique:!0}),l.createObjectStore("documentMutations"),Yq(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=q.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),Yq(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:it.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o6,{unique:!0});const f=c.store("mutations"),m=u.map(_=>f.put(_));return q.waitFor(m)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:cIe});c.createIndex("collectionPathOverlayIndex",uIe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",dIe,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:XCe});c.createIndex("documentKeyIndex",JCe),c.createIndex("collectionGroupIndex",eIe)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:oIe}).createIndex("sequenceNumberIndex",sIe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:aIe}).createIndex("documentKeyIndex",lIe,{unique:!1})}(t))),s}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=qI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>q.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>q.forEach(a,l=>{tt(l.userId===o.userId);const c=Jd(this.serializer,l);return Lq(t,o.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new fn(s),c=[0,ao(l)];o.push(e.get(c).next(u=>u?q.resolve():e.put({targetId:0,path:ao(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>q.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:rIe});const i=e.store("collectionParents"),r=new vN,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:ao(l)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new fn(s);return o(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const u=Ka(a);return o(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const o=Kv(r),s=Cq(this.serializer,o);return e.put(s)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(f=s,f.document?new ke(fn.fromString(f.document.name).popFirst(5)):f.noDocument?ke.fromSegments(f.noDocument.path):f.unknownDocument?ke.fromSegments(f.unknownDocument.path):$e()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>q.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=Wq(this.serializer),o=new wN(YI.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Vt();Jd(this.serializer,l).keys().forEach(f=>u=u.add(f)),a.set(l.userId,u)}),q.forEach(a,(l,c)=>{const u=new Nr(c),f=$I.ct(this.serializer,u),m=o.getIndexManager(u),_=KI.ct(u,this.serializer,m,o.referenceDelegate);return new Zq(r,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new qM(e,fs._e),l).next()})})}}function Yq(n){n.createObjectStore("targetDocuments",{keyPath:nIe}).createIndex("documentTargetsIndex",iIe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tIe,{unique:!0}),n.createObjectStore("targetGlobal")}const EN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CN{constructor(t,e,i,r,o,s,a,l,c,u,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!CN.D())throw new ge(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fTe(this,r),this.Ii=e+"main",this.serializer=new wq(l),this.Ti=new ma(this.Ii,this.ai,new ITe(this.serializer)),this.qr=new uTe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wq(this.serializer),this.Kr=new nTe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(te.FAILED_PRECONDITION,EN);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new fs(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,le.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,le.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,le.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>XI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(su(t))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Jv(t).get("owner").next(e=>q.resolve(this.wi(e)))}Si(t){return XI(t).delete(this.clientId)}bi(){var t=this;return(0,le.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Or(i,"clientMetadata");return r.W().next(o=>{const s=t.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return q.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?q.resolve(!0):Jv(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new ge(te.FAILED_PRECONDITION,EN);return!1}}return!(!this.networkEnabled||!this.inForeground)||XI(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ee("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,le.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new qM(e,fs._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>XI(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return KI.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new cTe(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return $I.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ee("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ai)?fIe:14===l?c6:13===l?l6:12===l?hIe:11===l?a6:void $e();var l;let s;return this.Ti.runTransaction(t,r,o,a=>(s=new qM(a,this.Lr?this.Lr.next():fs._e),"readwrite-primary"===e?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Gi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ge(te.FAILED_PRECONDITION,e6);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(t){return Jv(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ge(te.FAILED_PRECONDITION,EN)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jv(t).put("owner",e)}static D(){return ma.D()}pi(t){const e=Jv(t);return e.get("owner").next(i=>this.wi(i)?(Ee("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):q.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Gi(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,D.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return Ee("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Gi("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Jv(n){return Or(n,"owner")}function XI(n){return Or(n,"clientMetadata")}function IN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class TN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new TN(t,e.fromCache,i,r)}}class TTe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Qq{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.zi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new TTe;return this.Hi(t,e,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,e,s,a.size)})}).next(()=>o.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Zp()<=ls.in.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",rm(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),q.resolve()):(Zp()<=ls.in.DEBUG&&Ee("QueryEngine","Query:",rm(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Zp()<=ls.in.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",rm(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ro(e))):q.resolve())}zi(t,e){if(N6(e))return q.resolve(null);let i=Ro(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=LI(e,null,"F"),i=Ro(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Vt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,s,l.readTime)?this.zi(t,LI(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return N6(e)||r.isEqual(it.min())?q.resolve(null):this.Gi.getDocuments(t,i).next(o=>{const s=this.Yi(e,o);return this.Zi(e,s,i,r)?q.resolve(null):(Zp()<=ls.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rm(e)),this.Xi(t,s,e,X8(r,-1)).next(a=>a))})}Yi(t,e){let i=new zn(L6(t));return e.forEach((r,o)=>{Lv(t,o)&&(i=i.add(o))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,e,i){return Zp()<=ls.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",rm(e)),this.Gi.getDocumentsMatchingQuery(t,e,hs.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class xTe{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new li(Dt),this.ns=new Hl(o=>Kd(o),Pv),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zq(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function Xq(n,t,e,i){return new xTe(n,t,e,i)}function Jq(n,t){return xN.apply(this,arguments)}function xN(){return xN=(0,le.Z)(function*(n,t){const e=Re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Vt();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),xN.apply(this,arguments)}function e9(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function t9(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Zo();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(it.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function ATe(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function mm(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(o=>o?(r=o,q.resolve(r)):e.qr.allocateTargetId(i).next(s=>(r=new $l(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function gm(n,t,e){return DN.apply(this,arguments)}function DN(){return DN=(0,le.Z)(function*(n,t,e){const i=Re(n),r=i.ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!su(s))throw s;Ee("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),DN.apply(this,arguments)}function JI(n,t,e){const i=Re(n);let r=it.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Re(l),m=f.ns.get(u);return void 0!==m?q.resolve(f.ts.get(m)):f.qr.getTargetData(c,u)}(i,s,Ro(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,t,e?r:it.min(),e?o:Vt())).next(a=>(r9(i,F6(t),a),{documents:a,ls:o})))}function n9(n,t){const e=Re(n),i=Re(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i._t(o,t).next(s=>s?s.target:null))}function i9(n,t){const e=Re(n),i=e.rs.get(t)||it.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,X8(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(r9(e,t,r),r))}function r9(n,t,e){let i=n.rs.get(t)||it.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(t,i)}function SN(){return SN=(0,le.Z)(function*(n,t,e,i){const r=Re(n);let o=Vt(),s=Zo();for(const c of e){const u=t.hs(c.metadata.name);c.document&&(o=o.add(u));const f=t.Ps(c);f.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(u,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield mm(r,(u=i,Ro(nm(fn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>t9(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}),SN.apply(this,arguments)}function kTe(n,t){return AN.apply(this,arguments)}function AN(){return AN=(0,le.Z)(function*(n,t,e=Vt()){const i=yield mm(n,Ro(fN(t.bundledQuery))),r=Re(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=qi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,t);const a=i.withResumeToken(pr.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,t))})}),AN.apply(this,arguments)}function o9(n,t){return`firestore_clients_${n}_${t}`}function s9(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function RN(n,t){return`firestore_targets_${n}_${t}`}class eT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new ge(r.error.code,r.error.message))),s?new eT(t,e,r.state,o):(Gi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ge(i.error.code,i.error.message))),o?new eb(t,i.state,r):(Gi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class tT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=nN();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=i6(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new tT(t,o):(Gi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class kN{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new kN(e.clientId,e.onlineState):(Gi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class MN{constructor(){this.activeTargetIds=nN()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NN{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new li(Dt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=o9(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new MN),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,le.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const o=t.getItem(o9(t.persistenceKey,r));if(o){const s=tT.Ts(r,o);s&&(t.gs=t.gs.insert(s.clientId,s))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(RN(this.persistenceKey,t));if(i){const r=eb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(RN(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ee("SharedClientState","READ",t,e),e}setItem(t,e){Ee("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ee("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ee("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,le.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(s){let a=fs._e;if(null!=s)try{const l=JSON.parse(s);tt("number"==typeof l),a=l}catch(l){Gi("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==fs._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Js(o)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new eT(this.currentUser,t,e,i),o=s9(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Bs(t){const e=s9(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=RN(this.persistenceKey,t),o=new eb(t,e,i);this.setItem(r,o.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return tT.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return eT.Ts(new Nr(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return eb.Ts(r,e)}Ms(t){return kN.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,le.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=nN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class a9{constructor(){this.eo=new MN,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new MN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class MTe{ro(t){}shutdown(){}}class l9{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nT=null;function ON(){return null===nT?nT=268435456+Math.round(2147483648*Math.random()):nT++,"0x"+nT.toString(16)}const NTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OTe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const co="WebChannelConnection";class PTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(e,i,r,o,s){const a=ON(),l=this.So(e,i);Ee("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(e,l,c,r).then(u=>(Ee("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw qo("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,o,s,a){return this.wo(e,i,r,o,s)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}So(e,i){return`${this.mo}/v1/${i}:${NTe[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const o=ON();return new Promise((s,a)=>{const l=new MCe;l.setWithCredentials(!0),l.listenOnce(ACe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jM.NO_ERROR:const u=l.getResponseJson();Ee(co,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case jM.TIMEOUT:Ee(co,`RPC '${t}' ${o} timed out`),a(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case jM.HTTP_ERROR:const f=l.getStatus();if(Ee(co,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const v=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(M)>=0?M:te.UNKNOWN}(_.status);a(new ge(v,_.message))}else a(new ge(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(te.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ee(co,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);Ee(co,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=ON(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=DCe(),a=SCe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new kCe({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=o.join("");Ee(co,`Creating RPC '${t}' stream ${r}: ${u}`,l);const f=s.createWebChannel(u,l);let m=!1,_=!1;const v=new OTe({co:I=>{_?Ee(co,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(m||(Ee(co,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),Ee(co,`RPC '${t}' stream ${r} sending:`,I),f.send(I))},lo:()=>f.close()}),b=(I,M,A)=>{I.listen(M,V=>{try{A(V)}catch(K){setTimeout(()=>{throw K},0)}})};return b(f,xI.EventType.OPEN,()=>{_||Ee(co,`RPC '${t}' stream ${r} transport opened.`)}),b(f,xI.EventType.CLOSE,()=>{_||(_=!0,Ee(co,`RPC '${t}' stream ${r} transport closed`),v.Ro())}),b(f,xI.EventType.ERROR,I=>{_||(_=!0,qo(co,`RPC '${t}' stream ${r} transport errored:`,I),v.Ro(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,xI.EventType.MESSAGE,I=>{var M;if(!_){const A=I.data[0];tt(!!A);const K=A.error||(null===(M=A[0])||void 0===M?void 0:M.error);if(K){Ee(co,`RPC '${t}' stream ${r} received error:`,K);const ae=K.status;let xe=function(mn){const gn=tr[mn];if(void 0!==gn)return tq(gn)}(ae),Be=K.message;void 0===xe&&(xe=te.INTERNAL,Be="Unknown error status: "+ae+" with message "+K.message),_=!0,v.Ro(new ge(xe,Be)),f.close()}else Ee(co,`RPC '${t}' stream ${r} received:`,A),v.Vo(A)}}),b(a,RCe.STAT_EVENT,I=>{I.stat===G8.PROXY?Ee(co,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===G8.NOPROXY&&Ee(co,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function c9(){return typeof window<"u"?window:null}function iT(){return typeof document<"u"?document:null}function tb(n){return new WIe(n,!0)}class PN{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&Ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class u9{constructor(t,e,i,r,o,s,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PN(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,le.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,le.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,le.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===te.RESOURCE_EXHAUSTED?(Gi(e.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new ge(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,le.Z)(function*(){t.state=0,t.start()}))}o_(t){return Ee("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FTe extends u9{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function KIe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$e(),r=t.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(tt(void 0===u||"string"==typeof u),pr.fromBase64String(u||"")):(tt(void 0===u||u instanceof Uint8Array),pr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const u=void 0===c.code?te.UNKNOWN:tq(c.code);return new ge(u,c.message||"")}(s);e=new sq(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Qa(n,i.document.name),o=qi(i.document.updateTime),s=i.document.createTime?qi(i.document.createTime):it.min(),a=new Zr({mapValue:{fields:i.document.fields}}),l=yi.newFoundDocument(r,o,s,a);e=new HI(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Qa(n,i.document),o=i.readTime?qi(i.readTime):it.min(),s=yi.newNoDocument(r,o);e=new HI([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Qa(n,i.document);e=new HI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $e();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new BIe(r,o);e=new oq(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return it.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?it.min():s.readTime?qi(s.readTime):it.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Gv(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=PI(l)?{documents:gq(o,l)}:{query:hN(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uq(o,s.resumeToken);const c=lN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(it.min())>0){a.readTime=cm(o,s.snapshotVersion.toTimestamp());const c=lN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function YIe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Gv(this.serializer),e.removeTarget=t,this.e_(e)}}class LTe extends u9{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function ZIe(n,t){return n&&n.length>0?(tt(void 0!==t),n.map(e=>function(r,o){let s=qi(r.updateTime?r.updateTime:o);return s.isEqual(it.min())&&(s=qi(o)),new PIe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qi(t.commitTime);return this.listener.I_(i,e)}return tt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Gv(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>qv(this.serializer,i))};this.e_(e)}}class VTe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ge(te.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,e,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(te.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class UTe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Gi(e),this.f_=!1):Ee("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class jTe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,le.Z)(function*(){var l;yu(s)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,le.Z)(function*(u){const f=Re(u);f.C_.add(4),yield _m(f),f.M_.set("Unknown"),f.C_.delete(4),yield nb(f)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new UTe(i,r)}}function nb(n){return LN.apply(this,arguments)}function LN(){return LN=(0,le.Z)(function*(n){if(yu(n))for(const t of n.v_)yield t(!0)}),LN.apply(this,arguments)}function _m(n){return VN.apply(this,arguments)}function VN(){return VN=(0,le.Z)(function*(n){for(const t of n.v_)yield t(!1)}),VN.apply(this,arguments)}function rT(n,t){const e=Re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),jN(e)?UN(e):vm(e).Ho()&&BN(e,t))}function ib(n,t){const e=Re(n),i=vm(e);e.D_.delete(t),i.Ho()&&d9(e,t),0===e.D_.size&&(i.Ho()?i.Zo():yu(e)&&e.M_.set("Unknown"))}function BN(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vm(n).u_(t)}function d9(n,t){n.x_.Oe(t),vm(n).c_(t)}function UN(n){n.x_=new jIe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),vm(n).start(),n.M_.g_()}function jN(n){return yu(n)&&!vm(n).jo()&&n.D_.size>0}function yu(n){return 0===Re(n).C_.size}function h9(n){n.x_=void 0}function HTe(n){return HN.apply(this,arguments)}function HN(){return HN=(0,le.Z)(function*(n){n.D_.forEach((t,e)=>{BN(n,t)})}),HN.apply(this,arguments)}function zTe(n,t){return zN.apply(this,arguments)}function zN(){return zN=(0,le.Z)(function*(n,t){h9(n),jN(n)?(n.M_.w_(t),UN(n)):n.M_.set("Unknown")}),zN.apply(this,arguments)}function $Te(n,t,e){return $N.apply(this,arguments)}function $N(){return $N=(0,le.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof sq&&2===t.state&&t.cause)try{yield(i=(0,le.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield oT(n,i)}else if(t instanceof HI?n.x_.$e(t):t instanceof oq?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(it.min()))try{const i=yield e9(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(pr.EMPTY_BYTE_STRING,u.snapshotVersion)),d9(o,l);const f=new $l(u.target,l,c,u.sequenceNumber);BN(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ee("RemoteStore","Failed to raise snapshot:",i),yield oT(n,i)}var i}),$N.apply(this,arguments)}function oT(n,t,e){return WN.apply(this,arguments)}function WN(){return WN=(0,le.Z)(function*(n,t,e){if(!su(t))throw t;n.C_.add(1),yield _m(n),n.M_.set("Offline"),e||(e=()=>e9(n.localStore)),n.asyncQueue.enqueueRetryable((0,le.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield nb(n)}))}),WN.apply(this,arguments)}function f9(n,t){return t().catch(e=>oT(n,e,t))}function ym(n){return GN.apply(this,arguments)}function GN(){return GN=(0,le.Z)(function*(n){const t=Re(n),e=vu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;WTe(t);)try{const r=yield ATe(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,GTe(t,r)}catch(r){yield oT(t,r)}p9(t)&&m9(t)}),GN.apply(this,arguments)}function WTe(n){return yu(n)&&n.b_.length<10}function GTe(n,t){n.b_.push(t);const e=vu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function p9(n){return yu(n)&&!vu(n).jo()&&n.b_.length>0}function m9(n){vu(n).start()}function qTe(n){return qN.apply(this,arguments)}function qN(){return qN=(0,le.Z)(function*(n){vu(n).E_()}),qN.apply(this,arguments)}function KTe(n){return KN.apply(this,arguments)}function KN(){return KN=(0,le.Z)(function*(n){const t=vu(n);for(const e of n.b_)t.P_(e.mutations)}),KN.apply(this,arguments)}function ZTe(n,t,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,le.Z)(function*(n,t,e){const i=n.b_.shift(),r=oN.from(i,t,e);yield f9(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ym(n)}),ZN.apply(this,arguments)}function YTe(n,t){return YN.apply(this,arguments)}function YN(){return YN=(0,le.Z)(function*(n,t){var e;t&&vu(n).h_&&(yield(e=(0,le.Z)(function*(r,o){if(eq(a=o.code)&&a!==te.ABORTED){const s=r.b_.shift();vu(r).Yo(),yield f9(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield ym(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),p9(n)&&m9(n)}),YN.apply(this,arguments)}function g9(n,t){return QN.apply(this,arguments)}function QN(){return QN=(0,le.Z)(function*(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const i=yu(e);e.C_.add(3),yield _m(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield nb(e)}),QN.apply(this,arguments)}function XN(n,t){return JN.apply(this,arguments)}function JN(){return JN=(0,le.Z)(function*(n,t){const e=Re(n);t?(e.C_.delete(2),yield nb(e)):t||(e.C_.add(2),yield _m(e),e.M_.set("Unknown"))}),JN.apply(this,arguments)}function vm(n){return n.O_||(n.O_=function(e,i,r){const o=Re(e);return o.A_(),new FTe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:HTe.bind(null,n),Io:zTe.bind(null,n),a_:$Te.bind(null,n)}),n.v_.push(function(){var t=(0,le.Z)(function*(e){e?(n.O_.Yo(),jN(n)?UN(n):n.M_.set("Unknown")):(yield n.O_.stop(),h9(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function vu(n){return n.N_||(n.N_=function(e,i,r){const o=Re(e);return o.A_(),new LTe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:qTe.bind(null,n),Io:YTe.bind(null,n),T_:KTe.bind(null,n),I_:ZTe.bind(null,n)}),n.v_.push(function(){var t=(0,le.Z)(function*(e){e?(n.N_.Yo(),yield ym(n)):(yield n.N_.stop(),n.b_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class eO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new eO(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,t){if(Gi("AsyncQueue",`${t}: ${n}`),su(n))return new ge(te.UNAVAILABLE,`${t}: ${n}`);throw n}class wm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ke.comparator(e.key,i.key):(e,i)=>ke.comparator(e.key,i.key),this.keyedMap=Vv(),this.sortedSet=new li(this.comparator)}static emptySet(t){return new wm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new wm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class _9{constructor(){this.B_=new li(ke.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):$e():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Em{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Em(t,e,wm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class QTe{constructor(){this.k_=void 0,this.listeners=[]}}class XTe{constructor(){this.queries=new Hl(t=>P6(t),Fv),this.onlineState="Unknown",this.q_=new Set}}function tO(n,t){return nO.apply(this,arguments)}function nO(){return nO=(0,le.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new QTe),r)try{o.k_=yield e.onListen(i)}catch(s){const a=bm(s,`Initialization of query '${rm(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,o),o.listeners.push(t),t.Q_(e.onlineState),o.k_&&t.K_(o.k_)&&oO(e)}),nO.apply(this,arguments)}function iO(n,t){return rO.apply(this,arguments)}function rO(){return rO=(0,le.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),rO.apply(this,arguments)}function JTe(n,t){const e=Re(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&oO(e)}function exe(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function oO(n){n.q_.forEach(t=>{t.next()})}class sO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Em(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Em.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class txe{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class y9{constructor(t){this.serializer=t}hs(t){return Qa(this.serializer,t)}Ps(t){return t.metadata.exists?mq(this.serializer,t.document,!1):yi.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return qi(t)}}class nxe{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v9(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=fn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new y9(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Vt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,le.Z)(function*(){const e=yield function RTe(n,t,e,i){return SN.apply(this,arguments)}(t.localStore,new y9(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield kTe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function v9(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class b9{constructor(t){this.key=t}}class w9{constructor(t){this.key=t}}class E9{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vt(),this.mutatedKeys=Vt(),this._a=L6(t),this.aa=new wm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new _9,r=e?e.aa:this.aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,f)=>{const m=r.get(u),_=Lv(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;m&&_?m.data.isEqual(_.data)?v!==b&&(i.track({type:3,doc:_}),I=!0):this.ha(m,_)||(i.track({type:2,doc:_}),I=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),I=!0):m&&!_&&(i.track({type:1,doc:m}),I=!0,(l||c)&&(a=!0)),I&&(_?(s=s.add(_),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,u)=>function(m,_){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return v(m)-v(_)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const s=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Em(this.query,t.aa,r,o,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new _9,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Vt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new w9(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new b9(i))}),e}da(t){this.ia=t.ls,this.oa=Vt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Em.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ixe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rxe{constructor(t){this.key=t,this.Ra=!1}}class oxe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Hl(a=>P6(a),Fv),this.fa=new Map,this.ga=new Set,this.pa=new li(ke.comparator),this.ya=new Map,this.wa=new bN,this.Sa={},this.ba=new Map,this.Da=nh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function sxe(n,t){return aO.apply(this,arguments)}function aO(){return aO=(0,le.Z)(function*(n,t){const e=RO(n);let i,r;const o=e.ma.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield mm(e.localStore,Ro(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield lO(e,t,i,"current"===a,s.resumeToken),e.isPrimaryClient&&rT(e.remoteStore,s)}return r}),aO.apply(this,arguments)}function lO(n,t,e,i,r){return cO.apply(this,arguments)}function cO(){return cO=(0,le.Z)(function*(n,t,e,i,r){n.va=(f,m,_)=>{return(v=(0,le.Z)(function*(I,M,A,V){let K=M.view.ca(A);K.Zi&&(K=yield JI(I.localStore,M.query,!1).then(({documents:Be})=>M.view.ca(Be,K)));const ae=V&&V.targetChanges.get(M.targetId),xe=M.view.applyChanges(K,I.isPrimaryClient,ae);return vO(I,M.targetId,xe.Ta),xe.snapshot}),function b(I,M,A,V){return v.apply(this,arguments)})(n,f,m,_);var v};const o=yield JI(n.localStore,t,!0),s=new E9(t,o.ls),a=s.ca(o.documents),l=$v.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);vO(n,e,c.Ta);const u=new ixe(t,e,s);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),cO.apply(this,arguments)}function axe(n,t){return uO.apply(this,arguments)}function uO(){return uO=(0,le.Z)(function*(n,t){const e=Re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(o=>!Fv(o,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ib(e.remoteStore,i.targetId),Cm(e,i.targetId)}).catch(ou))):(Cm(e,i.targetId),yield gm(e.localStore,i.targetId,!0))}),uO.apply(this,arguments)}function dO(){return dO=(0,le.Z)(function*(n,t,e){const i=kO(n);try{const r=yield function(s,a){const l=Re(s),c=Ti.now(),u=a.reduce((_,v)=>_.add(v.key),Vt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Zo(),b=Vt();return l.ss.getEntries(_,u).next(I=>{v=I,v.forEach((M,A)=>{A.isValidDocument()||(b=b.add(M))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,v)).next(I=>{f=I;const M=[];for(const A of a){const V=LIe(A,f.get(A.key).overlayedDocument);null!=V&&M.push(new zl(A.key,V,b6(V.value.mapValue),xi.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,M,a)}).next(I=>{m=I;const M=I.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(_,I.batchId,M)})}).then(()=>({batchId:m.batchId,changes:B6(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new li(Dt)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,e),yield Wl(i,r.changes),yield ym(i.remoteStore)}catch(r){const o=bm(r,"Failed to persist write");e.reject(o)}}),dO.apply(this,arguments)}function C9(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,le.Z)(function*(n,t){const e=Re(n);try{const i=yield function STe(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,f)=>{const m=r.get(f);if(!m)return;a.push(e.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>e.qr.addMatchingKeys(o,u.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);var b,I,M;null!==t.targetMismatches.get(f)?_=_.withResumeToken(pr.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,i)),r=r.insert(f,_),I=_,M=u,(0===(b=m).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(o,_))});let l=Zo(),c=Vt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(t9(o,s,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(it.min())){const u=e.qr.getLastRemoteSnapshotVersion(o).next(f=>e.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.ts=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.ya.get(o);s&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?tt(s.Ra):r.removedDocuments.size>0&&(tt(s.Ra),s.Ra=!1))}),yield Wl(e,i,t)}catch(i){yield ou(i)}}),hO.apply(this,arguments)}function I9(n,t,e){const i=Re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Re(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&oO(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function cxe(n,t,e){return fO.apply(this,arguments)}function fO(){return fO=(0,le.Z)(function*(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),o=r&&r.key;if(o){let s=new li(ke.comparator);s=s.insert(o,yi.newNoDocument(o,it.min()));const a=Vt().add(o),l=new zv(it.min(),new Map,new li(Dt),s,a);yield C9(i,l),i.pa=i.pa.remove(o),i.ya.delete(t),bO(i)}else yield gm(i.localStore,t,!1).then(()=>Cm(i,t,e)).catch(ou)}),fO.apply(this,arguments)}function uxe(n,t){return pO.apply(this,arguments)}function pO(){return pO=(0,le.Z)(function*(n,t){const e=Re(n),i=t.batch.batchId;try{const r=yield function DTe(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,m=f.keys();let _=q.resolve();return m.forEach(v=>{_=_.next(()=>u.getEntry(l,v)).next(b=>{const I=c.docVersions.get(v);tt(null!==I),b.version.compareTo(I)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Vt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);yO(e,i,null),_O(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Wl(e,r)}catch(r){yield ou(r)}}),pO.apply(this,arguments)}function dxe(n,t,e){return mO.apply(this,arguments)}function mO(){return mO=(0,le.Z)(function*(n,t,e){const i=Re(n);try{const r=yield function(s,a){const l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(tt(null!==f),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);yO(i,t,e),_O(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Wl(i,r)}catch(r){yield ou(r)}}),mO.apply(this,arguments)}function gO(){return gO=(0,le.Z)(function*(n,t){const e=Re(n);yu(e.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=bm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),gO.apply(this,arguments)}function _O(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function yO(n,t,e){const i=Re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Cm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||T9(n,i)})}function T9(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(ib(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),bO(n))}function vO(n,t,e){for(const i of e)i instanceof b9?(n.wa.addReference(i.key,t),fxe(n,i)):i instanceof w9?(Ee("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||T9(n,i.key)):$e()}function fxe(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(Ee("SyncEngine","New document in limbo: "+e),n.ga.add(i),bO(n))}function bO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new ke(fn.fromString(t)),i=n.Da.next();n.ya.set(i,new rxe(e)),n.pa=n.pa.insert(e,i),rT(n.remoteStore,new $l(Ro(nm(e.path)),i,"TargetPurposeLimboResolution",fs._e))}}function Wl(n,t,e){return wO.apply(this,arguments)}function wO(){return wO=(0,le.Z)(function*(n,t,e){const i=Re(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=TN.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,le.Z)(function*(c,u){const f=Re(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>q.forEach(u,_=>q.forEach(_.ki,v=>f.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>q.forEach(_.qi,v=>f.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!su(m))throw m;Ee("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const v=f.ts.get(_),I=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);f.ts=f.ts.insert(_,I)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,o))}),wO.apply(this,arguments)}function pxe(n,t){return EO.apply(this,arguments)}function EO(){return EO=(0,le.Z)(function*(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){Ee("SyncEngine","User change. New user:",t.toKey());const i=yield Jq(e.localStore,t);e.currentUser=t,(o=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new ge(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Wl(e,i._s)}var o}),EO.apply(this,arguments)}function mxe(n,t){const e=Re(n),i=e.ya.get(t);if(i&&i.Ra)return Vt().add(i.key);{let r=Vt();const o=e.fa.get(t);if(!o)return r;for(const s of o){const a=e.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function gxe(n,t){return CO.apply(this,arguments)}function CO(){return CO=(0,le.Z)(function*(n,t){const e=Re(n),i=yield JI(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&vO(e,t.targetId,r.Ta),r}),CO.apply(this,arguments)}function _xe(n,t){return IO.apply(this,arguments)}function IO(){return IO=(0,le.Z)(function*(n,t){const e=Re(n);return i9(e.localStore,t).then(i=>Wl(e,i))}),IO.apply(this,arguments)}function yxe(n,t,e,i){return TO.apply(this,arguments)}function TO(){return TO=(0,le.Z)(function*(n,t,e,i){const r=Re(n),o=yield function(a,l){const c=Re(a),u=Re(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):q.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield ym(r.remoteStore):"acknowledged"===e||"rejected"===e?(yO(r,t,i||null),_O(r,t),l=t,Re(Re(r.localStore).mutationQueue).Fn(l)):$e(),yield Wl(r,o)):Ee("SyncEngine","Cannot apply mutation batch with id: "+t)}),TO.apply(this,arguments)}function xO(){return xO=(0,le.Z)(function*(n,t){const e=Re(n);if(RO(e),kO(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield x9(e,i.toArray());e.Ca=!0,yield XN(e.remoteStore,!0);for(const o of r)rT(e.remoteStore,o)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Cm(e,s),gm(e.localStore,s,!0))),ib(e.remoteStore,s)}),yield r,yield x9(e,i),function(s){const a=Re(s);a.ya.forEach((l,c)=>{ib(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new li(ke.comparator)}(e),e.Ca=!1,yield XN(e.remoteStore,!1)}}),xO.apply(this,arguments)}function x9(n,t,e){return DO.apply(this,arguments)}function DO(){return DO=(0,le.Z)(function*(n,t,e){const i=Re(n),r=[],o=[];for(const s of t){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield mm(i.localStore,Ro(l[0]));for(const c of l){const u=i.ma.get(c),f=yield gxe(i,u);f.snapshot&&o.push(f.snapshot)}}else{const c=yield n9(i.localStore,s);a=yield mm(i.localStore,c),yield lO(i,D9(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),DO.apply(this,arguments)}function D9(n){return M6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bxe(n){return e=Re(n).localStore,Re(Re(e).persistence).Bi();var e}function wxe(n,t,e,i){return SO.apply(this,arguments)}function SO(){return SO=(0,le.Z)(function*(n,t,e,i){const r=Re(n);if(r.Ca)return void Ee("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield i9(r.localStore,F6(o[0])),a=zv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,pr.EMPTY_BYTE_STRING);yield Wl(r,s,a);break}case"rejected":yield gm(r.localStore,t,!0),Cm(r,t,i);break;default:$e()}}),SO.apply(this,arguments)}function Exe(n,t,e){return AO.apply(this,arguments)}function AO(){return AO=(0,le.Z)(function*(n,t,e){const i=RO(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){Ee("SyncEngine","Adding an already active target "+r);continue}const o=yield n9(i.localStore,r),s=yield mm(i.localStore,o);yield lO(i,D9(o),s.targetId,!1,s.resumeToken),rT(i.remoteStore,s)}for(const r of e)i.fa.has(r)&&(yield gm(i.localStore,r,!1).then(()=>{ib(i.remoteStore,r),Cm(i,r)}).catch(ou))}}),AO.apply(this,arguments)}function RO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=C9.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mxe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cxe.bind(null,t),t.Va.a_=JTe.bind(null,t.eventManager),t.Va.Fa=exe.bind(null,t.eventManager),t}function kO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uxe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dxe.bind(null,t),t}class rb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,le.Z)(function*(){e.serializer=tb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Xq(this.persistence,new Qq,t.initialUser,this.serializer)}createPersistence(t){return new wN(YI.jr,this.serializer)}createSharedClientState(t){return new a9}terminate(){var t=this;return(0,le.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class MO extends rb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,le.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield kO(i.xa.syncEngine),yield ym(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Xq(this.persistence,new Qq,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Hq(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new ZCe(e,this.persistence);return new KCe(t.asyncQueue,i)}createPersistence(t){const e=IN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new CN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,c9(),iT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new a9}}class S9 extends MO{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,le.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof NN&&(i.sharedClientState.syncEngine={Ys:yxe.bind(null,r),Zs:wxe.bind(null,r),Xs:Exe.bind(null,r),Bi:bxe.bind(null,r),Js:_xe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,le.Z)(function*(s){yield function vxe(n,t){return xO.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=c9();if(!NN.D(e))throw new ge(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=IN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new NN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Im{initialize(t,e){var i=this;return(0,le.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>I9(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=pxe.bind(null,i.syncEngine),yield XN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new XTe}createDatastore(t){const e=tb(t.databaseInfo.databaseId),i=new PTe(t.databaseInfo);return new VTe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>I9(this.syncEngine,e,0),a=l9.D()?new l9:new MTe,new jTe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,l,c,u){const f=new oxe(r,o,s,a,l,c);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,le.Z)(function*(i){const r=Re(i);Ee("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield _m(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function A9(n,t=10240){let e=0;return{read:()=>(0,le.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,le.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Txe{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new fr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,le.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,le.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,le.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const o=yield t.Ka(r);return new txe(JSON.parse(o),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,le.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,le.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,le.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class xxe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,le.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ge(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,le.Z)(function*(s,a){const l=Re(s),c=Gv(l.serializer)+"/documents",u={documents:a.map(v=>Wv(l.serializer,v))},f=yield l.Co("BatchGetDocuments",c,u,a.length),m=new Map;f.forEach(v=>{const b=function qIe(n,t){return"found"in t?function(i,r){tt(!!r.found);const o=Qa(i,r.found.name),s=qi(r.found.updateTime),a=r.found.createTime?qi(r.found.createTime):it.min(),l=new Zr({mapValue:{fields:r.found.fields}});return yi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){tt(!!r.missing),tt(!!r.readTime);const o=Qa(i,r.missing),s=qi(r.readTime);return yi.newNoDocument(o,s)}(n,t):$e()}(l.serializer,v);m.set(b.key.toString(),b)});const _=[];return a.forEach(v=>{const b=m.get(v.toString());tt(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new lm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,le.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ke.fromPath(r);t.mutations.push(new iN(o,t.precondition(o)))}),yield(i=(0,le.Z)(function*(o,s){const a=Re(o),l=Gv(a.serializer)+"/documents",c={writes:s.map(u=>qv(a.serializer,u))};yield a.wo("Commit",l,c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $e();e=it.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ge(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(it.min())?xi.exists(!1):xi.updateTime(e):xi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(it.min()))throw new ge(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xi.updateTime(e)}return xi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Dxe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new PN(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,le.Z)(function*(){const e=new xxe(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ja(o)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!Sv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!eq(e)}return!1}}class Sxe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Nr.UNAUTHENTICATED,this.clientId=Y8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,le.Z)(function*(a){Ee("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(Ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,le.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=bm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function aT(n,t){return NO.apply(this,arguments)}function NO(){return NO=(0,le.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,le.Z)(function*(o){i.isEqual(o)||(yield Jq(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),NO.apply(this,arguments)}function OO(n,t){return PO.apply(this,arguments)}function PO(){return PO=(0,le.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield FO(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>g9(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>g9(t.remoteStore,o)),n._onlineComponents=t}),PO.apply(this,arguments)}function R9(n){return"FirebaseError"===n.name?n.code===te.FAILED_PRECONDITION||n.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function FO(n){return LO.apply(this,arguments)}function LO(){return LO=(0,le.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aT(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!R9(e))throw e;qo("Error using user provided cache. Falling back to memory cache: "+e),yield aT(n,new rb)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield aT(n,new rb);return n._offlineComponents}),LO.apply(this,arguments)}function lT(n){return VO.apply(this,arguments)}function VO(){return VO=(0,le.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield OO(n,n._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield OO(n,new Im))),n._onlineComponents}),VO.apply(this,arguments)}function k9(n){return FO(n).then(t=>t.persistence)}function Tm(n){return FO(n).then(t=>t.localStore)}function M9(n){return lT(n).then(t=>t.remoteStore)}function BO(n){return lT(n).then(t=>t.syncEngine)}function xm(n){return UO.apply(this,arguments)}function UO(){return UO=(0,le.Z)(function*(n){const t=yield lT(n),e=t.eventManager;return e.onListen=sxe.bind(null,t.syncEngine),e.onUnlisten=axe.bind(null,t.syncEngine),e}),UO.apply(this,arguments)}function O9(n,t,e={}){const i=new fr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,l,c){const u=new sT({next:m=>{s.enqueueAndForget(()=>iO(o,f));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new ge(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&l&&"server"===l.source?c.reject(new ge(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new sO(nm(a.path),u,{includeMetadataChanges:!0,J_:!0});return tO(o,f)}(yield xm(n),n.asyncQueue,t,e,i)})),i.promise}function P9(n,t,e={}){const i=new fr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function(o,s,a,l,c){const u=new sT({next:m=>{s.enqueueAndForget(()=>iO(o,f)),m.fromCache&&"server"===l.source?c.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new sO(a,u,{includeMetadataChanges:!0,J_:!0});return tO(o,f)}(yield xm(n),n.asyncQueue,t,e,i)})),i.promise}function F9(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const L9=new Map;function jO(n,t,e){if(!e)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function V9(n,t,e,i){if(!0===t&&!0===i)throw new ge(te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function B9(n){if(!ke.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U9(n){if(ke.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":$e()}function on(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cT(n);throw new ge(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function j9(n,t){if(t<=0)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class H9{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=F9(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ob{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H9(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new FCe;switch(i.type){case"firstParty":return new UCe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=L9.get(e);i&&(Ee("ComponentProvider","Removing Datastore"),L9.delete(e),i.terminate())}(this),Promise.resolve()}}class Yr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yr(this.firestore,t,this._query)}}class vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vi(this.firestore,t,this._key)}}class Xa extends Yr{constructor(t,e,i){super(t,e,nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vi(this.firestore,null,new ke(t))}withConverter(t){return new Xa(this.firestore,t,this._path)}}function $9(n,t,...e){if(n=(0,D.m9)(n),jO("collection","path",t),n instanceof ob){const i=fn.fromString(t,...e);return U9(i),new Xa(n,null,i)}{if(!(n instanceof vi||n instanceof Xa))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return U9(i),new Xa(n.firestore,null,i)}}function uT(n,t,...e){if(n=(0,D.m9)(n),1===arguments.length&&(t=Y8.newId()),jO("doc","path",t),n instanceof ob){const i=fn.fromString(t,...e);return B9(i),new vi(n,null,new ke(i))}{if(!(n instanceof vi||n instanceof Xa))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return B9(i),new vi(n.firestore,n instanceof Xa?n.converter:null,new ke(i))}}function W9(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),(n instanceof vi||n instanceof Xa)&&(t instanceof vi||t instanceof Xa)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function HO(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),n instanceof Yr&&t instanceof Yr&&n.firestore===t.firestore&&Fv(n._query,t._query)&&n.converter===t.converter}class Uxe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PN(this,"async_queue_retry"),this.iu=()=>{const e=iT();e&&Ee("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=iT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=iT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new fr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,le.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!su(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Gi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=eO.createAndSchedule(this,t,e,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&$e()}verifyOperationInProgress(){}uu(){var t=this;return(0,le.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function zO(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class jxe{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ci extends ob{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Uxe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||G9(this),this._firestoreClient.terminate()}}function Ui(n){return n._firestoreClient||G9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function G9(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new gIe(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,F9(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new Sxe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function q9(n,t,e){const i=new fr;return n.asyncQueue.enqueue((0,le.Z)(function*(){try{yield aT(n,e),yield OO(n,t),i.resolve()}catch(r){const o=r;if(!R9(o))throw o;qo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function K9(n){if(n._initialized||n._terminated)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ja(pr.fromBase64String(t))}catch(e){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ja(pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rh{constructor(t){this._methodName=t}}class dT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}const Xxe=/^__.*__$/;class Jxe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new zl(t,this.data,this.fieldMask,e,this.fieldTransforms):new am(t,this.data,e,this.fieldTransforms)}}class Z9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new zl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Y9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class hT{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new hT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return mT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Y9(this.Iu)&&Xxe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class eDe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||tb(t)}pu(t,e,i,r=!1){return new hT({Iu:t,methodName:e,gu:i,path:_i.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(n){const t=n._freezeSettings(),e=tb(n._databaseId);return new eDe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function fT(n,t,e,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,t,e,r);qO("Data must be an object, but it was:",s,i);const a=J9(i,s);let l,c;if(o.merge)l=new Ko(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const m=lb(t,f,e);if(!s.contains(m))throw new ge(te.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);t7(u,m)||u.push(m)}l=new Ko(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Jxe(new Zr(a),l,c)}class ab extends rh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ab}}function Q9(n,t,e){return new hT({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $O extends rh{_toFieldTransform(t){return new Uv(t.path,new om)}isEqual(t){return t instanceof $O}}class tDe extends rh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=Q9(this,t,!0),i=this.yu.map(o=>sh(o,e)),r=new Zd(i);return new Uv(t.path,r)}isEqual(t){return this===t}}class nDe extends rh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=Q9(this,t,!0),i=this.yu.map(o=>sh(o,e)),r=new Yd(i);return new Uv(t.path,r)}isEqual(t){return this===t}}class iDe extends rh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new sm(t.serializer,z6(t.serializer,this.wu));return new Uv(t.path,e)}isEqual(t){return this===t}}function WO(n,t,e,i){const r=n.pu(1,t,e);qO("Data must be an object, but it was:",r,i);const o=[],s=Zr.empty();au(i,(l,c)=>{const u=pT(t,l,e);c=(0,D.m9)(c);const f=r.Ru(u);if(c instanceof ab)o.push(u);else{const m=sh(c,f);null!=m&&(o.push(u),s.set(u,m))}});const a=new Ko(o);return new Z9(s,a,r.fieldTransforms)}function GO(n,t,e,i,r,o){const s=n.pu(1,t,e),a=[lb(t,i,e)],l=[r];if(o.length%2!=0)throw new ge(te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(lb(t,o[m])),l.push(o[m+1]);const c=[],u=Zr.empty();for(let m=a.length-1;m>=0;--m)if(!t7(c,a[m])){const _=a[m];let v=l[m];v=(0,D.m9)(v);const b=s.Ru(_);if(v instanceof ab)c.push(_);else{const I=sh(v,b);null!=I&&(c.push(_),u.set(_,I))}}const f=new Ko(c);return new Z9(u,f,s.fieldTransforms)}function X9(n,t,e,i=!1){return sh(e,n.pu(i?4:3,t))}function sh(n,t){if(e7(n=(0,D.m9)(n)))return qO("Unsupported field value:",t,n),J9(n,t);if(n instanceof rh)return function(i,r){if(!Y9(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=sh(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,D.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return z6(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ti.fromDate(i);return{timestampValue:cm(r.serializer,o)}}if(i instanceof Ti){const o=new Ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,o)}}if(i instanceof dT)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ja)return{bytesValue:uq(r.serializer,i._byteString)};if(i instanceof vi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cN(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${cT(i)}`)}(n,t)}function J9(n,t){const e={};return d6(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):au(n,(i,r)=>{const o=sh(r,t.Eu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function e7(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof dT||n instanceof Ja||n instanceof vi||n instanceof rh)}function qO(n,t,e){if(!e7(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=cT(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function lb(n,t,e){if((t=(0,D.m9)(t))instanceof Gl)return t._internalPath;if("string"==typeof t)return pT(n,t);throw mT("Field path arguments must be of type string or ",n,!1,void 0,e)}const rDe=new RegExp("[~\\*/\\[\\]]");function pT(n,t,e){if(t.search(rDe)>=0)throw mT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gl(...t.split("."))._internalPath}catch{throw mT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mT(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new ge(te.INVALID_ARGUMENT,a+n+l)}function t7(n,t){return n.some(e=>e.isEqual(t))}class cb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new oDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class oDe extends cb{data(){return super.data()}}function gT(n,t){return"string"==typeof t?pT(n,t):t instanceof Gl?t._internalPath:t._delegate._internalPath}function n7(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KO{}class ub extends KO{}function bu(n,t,...e){let i=[];t instanceof KO&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof Dm).length,a=o.filter(l=>l instanceof db).length;if(s>1||s>0&&a>0)throw new ge(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class db extends ub{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new db(t,e,i)}_apply(t){const e=this._parse(t);return s7(t._query,e),new Yr(t.firestore,t.converter,tN(t._query,e))}_parse(t){const e=oh(t.firestore);return function(o,s,a,l,c,u,f){let m;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ge(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){o7(f,u);const _=[];for(const v of f)_.push(r7(l,o,v));m={arrayValue:{values:_}}}else m=r7(l,o,f)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||o7(f,u),m=X9(a,"where",f,"in"===u||"not-in"===u);return ln.create(c,u,m)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Dm extends KO{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Dm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Ln.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)s7(s,l),s=tN(s,l)}(t._query,e),new Yr(t.firestore,t.converter,tN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZO extends ub{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ZO(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ov(o,s)}(t._query,this._field,this._direction);return new Yr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new jl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class _T extends ub{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new _T(t,e,i)}_apply(t){return new Yr(t.firestore,t.converter,LI(t._query,this._limit,this._limitType))}}class yT extends ub{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new yT(t,e,i)}_apply(t){const e=i7(t,this.type,this._docOrFields,this._inclusive);return new Yr(t.firestore,t.converter,(o=e,new jl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class vT extends ub{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new vT(t,e,i)}_apply(t){const e=i7(t,this.type,this._docOrFields,this._inclusive);return new Yr(t.firestore,t.converter,(o=e,new jl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function i7(n,t,e,i){if(e[0]=(0,D.m9)(e[0]),e[0]instanceof cb)return function(o,s,a,l,c){if(!l)throw new ge(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of im(o))if(f.field.isKeyField())u.push(qd(s,l.key));else{const m=l.data.field(f.field);if(RI(m))throw new ge(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const _=f.field.canonicalString();throw new ge(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}u.push(m)}return new fu(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=oh(n.firestore);return function(s,a,l,c,u,f){const m=s.explicitOrderBy;if(u.length>m.length)throw new ge(te.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let v=0;v<u.length;v++){const b=u[v];if(m[v].field.isKeyField()){if("string"!=typeof b)throw new ge(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!eN(s)&&-1!==b.indexOf("/"))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);const I=s.path.child(fn.fromString(b));if(!ke.isDocumentKey(I))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const M=new ke(I);_.push(qd(a,M))}else{const I=X9(l,c,b);_.push(I)}}return new fu(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function r7(n,t,e){if("string"==typeof(e=(0,D.m9)(e))){if(""===e)throw new ge(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eN(t)&&-1!==e.indexOf("/"))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fn.fromString(e));if(!ke.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qd(n,new ke(i))}if(e instanceof vi)return qd(n,e._key);throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cT(e)}.`)}function o7(n,t){if(!Array.isArray(n)||0===n.length)throw new ge(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function s7(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ge(te.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class YO{convertValue(t,e="none"){switch(du(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ul(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw $e()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return au(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new dT(Bi(t.latitude),Bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=kI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Rv(t));default:return null}}convertTimestamp(t){const e=lu(t);return new Ti(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fn.fromString(t);tt(bq(i));const r=new cu(i.get(1),i.get(3)),o=new ke(i.popFirst(5));return r.isEqual(e)||Gi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function bT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class pDe extends YO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ja(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}class ah{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ql extends cb{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(gT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class hb extends ql{data(t={}){return super.data(t)}}class wu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ah(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new hb(this._firestore,this._userDataWriter,i.key,i,new ah(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new hb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ah(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new hb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ah(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:gDe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function l7(n,t){return n instanceof ql&&t instanceof ql?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof wu&&t instanceof wu&&n._firestore===t._firestore&&HO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Eu extends YO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ja(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}function c7(n,t,e){n=on(n,vi);const i=on(n.firestore,ci),r=bT(n.converter,t,e);return Sm(i,[fT(oh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,xi.none())])}function u7(n,t,e,...i){n=on(n,vi);const r=on(n.firestore,ci),o=oh(r);let s;return s="string"==typeof(t=(0,D.m9)(t))||t instanceof Gl?GO(o,"updateDoc",n._key,t,e,i):WO(o,"updateDoc",n._key,t),Sm(r,[s.toMutation(n._key,xi.exists(!0))])}function d7(n,...t){var e,i,r;n=(0,D.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||zO(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(zO(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,u;if(n instanceof vi)c=on(n.firestore,ci),u=nm(n._key.path),l={next:f=>{t[s]&&t[s](QO(c,n,f))},error:t[s+1],complete:t[s+2]};else{const f=on(n,Yr);c=on(f.firestore,ci),u=f._query;const m=new Eu(c);l={next:_=>{t[s]&&t[s](new wu(c,m,f,_))},error:t[s+1],complete:t[s+2]},n7(n._query)}return function(m,_,v,b){const I=new sT(b),M=new sO(_,I,v);return m.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return tO(yield xm(m),M)})),()=>{I.Na(),m.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return iO(yield xm(m),M)}))}}(Ui(c),u,a,l)}function Sm(n,t){return function(i,r){const o=new fr;return i.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function lxe(n,t,e){return dO.apply(this,arguments)}(yield BO(i),r,o)})),o.promise}(Ui(n),t)}function QO(n,t,e){const i=e.docs.get(t._key),r=new Eu(n);return new ql(n,r,t._key,i,new ah(e.hasPendingWrites,e.fromCache),t.converter)}const ODe={maxAttempts:5};class h7{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=oh(t)}set(t,e,i){this._verifyNotCommitted();const r=Cu(t,this._firestore),o=bT(r.converter,e,i),s=fT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,xi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Cu(t,this._firestore);let s;return s="string"==typeof(e=(0,D.m9)(e))||e instanceof Gl?GO(this._dataReader,"WriteBatch.update",o._key,e,i,r):WO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,xi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Cu(t,this._firestore);return this._mutations=this._mutations.concat(new lm(e._key,xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cu(n,t){if((n=(0,D.m9)(n)).firestore!==t)throw new ge(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class PDe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=oh(e)}get(e){const i=Cu(e,this._firestore),r=new pDe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return $e();const s=o[0];if(s.isFoundDocument())return new cb(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new cb(this._firestore,r,i._key,null,i.converter);throw $e()})}set(e,i,r){const o=Cu(e,this._firestore),s=bT(o.converter,i,r),a=fT(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Cu(e,this._firestore);let a;return a="string"==typeof(i=(0,D.m9)(i))||i instanceof Gl?GO(this._dataReader,"Transaction.update",s._key,i,r,o):WO(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Cu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Cu(t,this._firestore),i=new Eu(this._firestore);return super.get(t).then(r=>new ql(this._firestore,i,e._key,r._document,new ah(!1,!1),e.converter))}}function JO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function g7(){if(typeof Uint8Array>"u")throw new ge("unimplemented","Uint8Arrays are not available in this environment.")}function _7(){if(!function pIe(){return typeof atob<"u"}())throw new ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Kp=Ls.SDK_VERSION,(0,Ls._registerComponent)(new Nl.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ci(new VCe(i.getProvider("auth-internal")),new jCe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(q8,"4.3.2",t),(0,Ls.registerVersion)(q8,"4.3.2","esm2017")}();class fb{constructor(t){this._delegate=t}static fromBase64String(t){return _7(),new fb(Ja.fromBase64String(t))}static fromUint8Array(t){return g7(),new fb(Ja.fromUint8Array(t))}toBase64(){return _7(),this._delegate.toBase64()}toUint8Array(){return g7(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eP(n){return function WDe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class GDe{enableIndexedDbPersistence(t,e){return function zxe(n,t){K9(n=on(n,ci));const e=Ui(n);if(e._uninitializedComponentsProvider)throw new ge(te.FAILED_PRECONDITION,"SDK cache is already specified.");qo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Im;return q9(e,r,new MO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function $xe(n){K9(n=on(n,ci));const t=Ui(n);if(t._uninitializedComponentsProvider)throw new ge(te.FAILED_PRECONDITION,"SDK cache is already specified.");qo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Im;return q9(t,i,new S9(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Wxe(n){if(n._initialized&&!n._terminated)throw new ge(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{yield(e=(0,le.Z)(function*(r){if(!ma.D())return Promise.resolve();const o=r+"main";yield ma.delete(o)}),function i(r){return e.apply(this,arguments)})(IN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class y7{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof cu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&qo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function z9(n,t,e,i={}){var r;const o=(n=on(n,ob))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Nr.MOCK_USER;else{a=(0,D.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nr(c)}n._authCredentials=new LCe(new K8(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function qxe(n){return function Axe(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const t=yield k9(n),e=yield M9(n);return t.setNetworkEnabled(!0),function(r){const o=Re(r);return o.C_.delete(0),nb(o)}(e)}))}(Ui(n=on(n,ci)))}(this._delegate)}disableNetwork(){return function Kxe(n){return function Rxe(n){return n.asyncQueue.enqueue((0,le.Z)(function*(){const t=yield k9(n),e=yield M9(n);return t.setNetworkEnabled(!1),(i=(0,le.Z)(function*(o){const s=Re(o);s.C_.add(0),yield _m(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Ui(n=on(n,ci)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,V9("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gxe(n){return function(e){const i=new fr;return e.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function hxe(n,t){return gO.apply(this,arguments)}(yield BO(e),i)})),i.promise}(Ui(n=on(n,ci)))}(this._delegate)}onSnapshotsInSync(t){return function TDe(n,t){return function Nxe(n,t){const e=new sT(t);return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return r=yield xm(n),o=e,Re(r).q_.add(o),void o.next();var r,o})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return r=yield xm(n),o=e,void Re(r).q_.delete(o);var r,o}))}}(Ui(n=on(n,ci)),zO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Am(this,$9(this._delegate,t))}catch(e){throw ko(e,"collection()","Firestore.collection()")}}doc(t){try{return new Hs(this,uT(this._delegate,t))}catch(e){throw ko(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Mo(this,function Bxe(n,t){if(n=on(n,ob),jO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yr(n,null,(i=t,new jl(fn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw ko(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function FDe(n,t,e){n=on(n,ci);const i=Object.assign(Object.assign({},ODe),e);return function(o){if(o.maxAttempts<1)throw new ge(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new fr;return o.asyncQueue.enqueueAndForget((0,le.Z)(function*(){const c=yield function N9(n){return lT(n).then(t=>t.datastore)}(o);new Dxe(o.asyncQueue,c,a,s,l).run()})),l.promise}(Ui(n),r=>t(new PDe(n,r)),i)}(this._delegate,e=>t(new v7(this,e)))}batch(){return Ui(this._delegate),new b7(new h7(this._delegate,t=>Sm(this._delegate,t)))}loadBundle(t){return function Zxe(n,t){const e=Ui(n=on(n,ci)),i=new jxe;return function Oxe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?nq().encode(s):s,u=function(u,f){if(u instanceof Uint8Array)return A9(u,f);if(u instanceof ArrayBuffer)return A9(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Txe(u,a);var u}(e,tb(t));n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){!function Cxe(n,t,e){const i=Re(n);var r;(r=(0,le.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(v,b){const I=Re(v),M=qi(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,b.id)).then(A=>!!A&&A.createTime.compareTo(M)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(v=c).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);l._updateProgress(v9(c));const u=new nxe(c,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield u.ea(f);_&&l._updateProgress(_),f=yield a.Ma()}const m=yield u.complete();return yield Wl(s,m.ra,void 0),yield function(v,b){const I=Re(v);return I.persistence.runTransaction("Save bundle","readwrite",M=>I.Kr.saveBundleMetadata(M,b))}(s.localStore,c),l._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return qo("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var v}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield BO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Yxe(n,t){return function Pxe(n,t){return n.asyncQueue.enqueue((0,le.Z)(function*(){return function(i,r){const o=Re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Tm(n),t)}))}(Ui(n=on(n,ci)),t).then(e=>e?new Yr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Mo(this,e):null)}}class ET extends YO{constructor(t){super(),this.firestore=t}convertBytes(t){return new fb(new Ja(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Hs.forKey(e,this.firestore,null)}}class v7{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ET(t)}get(t){const e=ch(t);return this._delegate.get(e).then(i=>new pb(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=ch(t);return i?(JO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=ch(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=ch(t);return this._delegate.delete(e),this}}class b7{constructor(t){this._delegate=t}set(t,e,i){const r=ch(t);return i?(JO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=ch(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=ch(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class lh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new hb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=lh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new lh(t,new ET(t),e),r.set(e,o)),o}}lh.INSTANCES=new WeakMap;class Hs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ET(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Hs(e,new vi(e._delegate,i,new ke(t)))}static forKey(t,e,i){return new Hs(e,new vi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Am(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Am(this.firestore,$9(this._delegate,t))}catch(e){throw ko(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,D.m9)(t))instanceof vi&&W9(this._delegate,t)}set(t,e){e=JO("DocumentReference.set",e);try{return e?c7(this._delegate,t,e):c7(this._delegate,t)}catch(i){throw ko(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?u7(this._delegate,t):u7(this._delegate,t,e,...i)}catch(r){throw ko(r,"updateDoc()","DocumentReference.update()")}}delete(){return function CDe(n){return Sm(on(n.firestore,ci),[new lm(n._key,xi.none())])}(this._delegate)}onSnapshot(...t){const e=w7(t),i=E7(t,r=>new pb(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return d7(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function yDe(n){n=on(n,vi);const t=on(n.firestore,ci),e=Ui(t),i=new Eu(t);return function kxe(n,t){const e=new fr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(i=(0,le.Z)(function*(o,s,a){try{const l=yield function(u,f){const m=Re(u);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,f))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ge(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=bm(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Tm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ql(t,i,n._key,r,new ah(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function vDe(n){n=on(n,vi);const t=on(n.firestore,ci);return O9(Ui(t),n._key,{source:"server"}).then(e=>QO(t,n,e))}(this._delegate):function _De(n){n=on(n,vi);const t=on(n.firestore,ci);return O9(Ui(t),n._key).then(e=>QO(t,n,e))}(this._delegate),e.then(i=>new pb(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Hs(this.firestore,this._delegate.withConverter(t?lh.getInstance(this.firestore,t):null))}}function ko(n,t,e){return n.message=n.message.replace(t,e),n}function w7(n){for(const t of n)if("object"==typeof t&&!eP(t))return t;return{}}function E7(n,t){var e,i;let r;return r=eP(n[0])?n[0]:eP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class pb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return l7(this._delegate,t._delegate)}}class mb extends pb{data(t){const e=this._delegate.data(t);return this._delegate._converter||function PCe(n,t){n||$e()}(void 0!==e),e}}class Mo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ET(t)}where(t,e,i){try{return new Mo(this.firestore,bu(this._delegate,function sDe(n,t,e){const i=t,r=gT("where",n);return db._create(r,i,e)}(t,e,i)))}catch(r){throw ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Mo(this.firestore,bu(this._delegate,function aDe(n,t="asc"){const e=t,i=gT("orderBy",n);return ZO._create(i,e)}(t,e)))}catch(i){throw ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Mo(this.firestore,bu(this._delegate,function lDe(n){return j9("limit",n),_T._create("limit",n,"F")}(t)))}catch(e){throw ko(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Mo(this.firestore,bu(this._delegate,function cDe(n){return j9("limitToLast",n),_T._create("limitToLast",n,"L")}(t)))}catch(e){throw ko(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Mo(this.firestore,bu(this._delegate,function uDe(...n){return yT._create("startAt",n,!0)}(...t)))}catch(e){throw ko(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Mo(this.firestore,bu(this._delegate,function dDe(...n){return yT._create("startAfter",n,!1)}(...t)))}catch(e){throw ko(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Mo(this.firestore,bu(this._delegate,function hDe(...n){return vT._create("endBefore",n,!1)}(...t)))}catch(e){throw ko(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Mo(this.firestore,bu(this._delegate,function fDe(...n){return vT._create("endAt",n,!0)}(...t)))}catch(e){throw ko(e,"endAt()","Query.endAt()")}}isEqual(t){return HO(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function wDe(n){n=on(n,Yr);const t=on(n.firestore,ci),e=Ui(t),i=new Eu(t);return function Mxe(n,t){const e=new fr;return n.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return(i=(0,le.Z)(function*(o,s,a){try{const l=yield JI(o,s,!0),c=new E9(s,l.ls),u=c.ca(l.documents),f=c.applyChanges(u,!1);a.resolve(f.snapshot)}catch(l){const c=bm(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Tm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new wu(t,i,n,r))}(this._delegate):"server"===t?.source?function EDe(n){n=on(n,Yr);const t=on(n.firestore,ci),e=Ui(t),i=new Eu(t);return P9(e,n._query,{source:"server"}).then(r=>new wu(t,i,n,r))}(this._delegate):function bDe(n){n=on(n,Yr);const t=on(n.firestore,ci),e=Ui(t),i=new Eu(t);return n7(n._query),P9(e,n._query).then(r=>new wu(t,i,n,r))}(this._delegate),e.then(i=>new tP(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=w7(t),i=E7(t,r=>new tP(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return d7(this._delegate,e,i)}withConverter(t){return new Mo(this.firestore,this._delegate.withConverter(t?lh.getInstance(this.firestore,t):null))}}class KDe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new mb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new mb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new KDe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new mb(this._firestore,i))})}isEqual(t){return l7(this._delegate,t._delegate)}}class Am extends Mo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Hs(this.firestore,t):null}doc(t){try{return new Hs(this.firestore,void 0===t?uT(this._delegate):uT(this._delegate,t))}catch(e){throw ko(e,"doc()","CollectionReference.doc()")}}add(t){return function IDe(n,t){const e=on(n.firestore,ci),i=uT(n),r=bT(n.converter,t);return Sm(e,[fT(oh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,xi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Hs(this.firestore,e))}isEqual(t){return W9(this._delegate,t._delegate)}withConverter(t){return new Am(this.firestore,this._delegate.withConverter(t?lh.getInstance(this.firestore,t):null))}}function ch(n){return on(n,vi)}class nP{constructor(...t){this._delegate=new Gl(...t)}static documentId(){return new nP(_i.keyField().canonicalString())}isEqual(t){return(t=(0,D.m9)(t))instanceof Gl&&this._delegate._internalPath.isEqual(t._internalPath)}}class uh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function VDe(){return new $O("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new uh(t)}static delete(){const t=function LDe(){return new ab("deleteField")}();return t._methodName="FieldValue.delete",new uh(t)}static arrayUnion(...t){const e=function BDe(...n){return new tDe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new uh(e)}static arrayRemove(...t){const e=function UDe(...n){return new nDe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new uh(e)}static increment(t){const e=function jDe(n){return new iDe("increment",n)}(t);return e._methodName="FieldValue.increment",new uh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ZDe={Firestore:y7,GeoPoint:dT,Timestamp:Ti,Blob:fb,Transaction:v7,WriteBatch:b7,DocumentReference:Hs,DocumentSnapshot:pb,Query:Mo,QueryDocumentSnapshot:mb,QuerySnapshot:tP,CollectionReference:Am,FieldPath:nP,FieldValue:uh,setLogLevel:function qDe(n){!function OCe(n){ru.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function C7(n,t){return function XDe(n,t=fd){return new at(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function iP(n,t){return C7(n,t).pipe(Ie(e=>({payload:e,type:"query"})))}!function QDe(n){(function YDe(n,t){n.INTERNAL.registerComponent(new Nl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},ZDe)))})(n,(t,e)=>new y7(t,e,new GDe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(la.Z);class I7{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=R7(i,e);return new D7(r,o,this.afs)}snapshotChanges(){return function JDe(n,t){return C7(n,t).pipe(Oc(void 0),Jk(),Ie(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(t={}){return this.snapshotChanges().pipe(Ie(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return E(this.ref.get(t)).pipe(hr)}}function CT(n,t){return iP(n,t).pipe(Oc(void 0),Jk(),Ie(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function T7(n,t,e){return CT(n,e).pipe(Qf((i,r)=>function e1e(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function t1e(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return rP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return rP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return rP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),lt(),Ie(i=>i.map(r=>({type:r.type,payload:r}))))}function rP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function x7(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class D7{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=CT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ie(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Oc(void 0),Jk(),Hn(([i,r])=>r.length>0||!i),Ie(([,i])=>i),hr)}auditTrail(t){return this.stateChanges(t).pipe(Qf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x7(t);return T7(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(t={}){return iP(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),hr)}get(t){return E(this.query.get(t)).pipe(hr)}add(t){return this.ref.add(t)}doc(t){return new I7(this.ref.doc(t),this.afs)}}class n1e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.filter(i=>t.indexOf(i.type)>-1)),Hn(e=>e.length>0),hr):CT(this.query,this.afs.schedulers.outsideAngular).pipe(hr)}auditTrail(t){return this.stateChanges(t).pipe(Qf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x7(t);return T7(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(t={}){return iP(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),hr)}get(t){return E(this.query.get(t)).pipe(hr)}}const S7=new oe("angularfire2.enableFirestorePersistence"),A7=new oe("angularfire2.firestore.persistenceSettings"),i1e=new oe("angularfire2.firestore.settings"),r1e=new oe("angularfire2.firestore.use-emulator");function R7(n,t=(e=>e)){return{query:t(n),ref:n}}let o1e=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b,I,M,A){this.schedulers=l;const V=aC(e,a,i),K=u;f&&xR(V,a,m,v,b,I,_,M),[this.firestore,this.persistenceEnabled$]=yR(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{const ae=a.runOutsideAngular(()=>V.firestore());if(o&&ae.settings(o),K&&ae.useEmulator(...K),r&&!jw(s)){const xe=()=>{try{return E(ae.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),R(!1)}};return[ae,a.runOutsideAngular(xe)]}return[ae,R(!1)]},[o,K,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=R7(r,i),a=this.schedulers.ngZone.run(()=>o);return new D7(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new n1e(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new I7(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(vy),O(by,8),O(S7,8),O(i1e,8),O(Ss),O(He),O(_R),O(A7,8),O(r1e,8),O(wy,8),O(bR,8),O(wR,8),O(ER,8),O(CR,8),O(IR,8),O(TR,8),O(gR,8))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),s1e=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",yy.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:S7,useValue:!0},{provide:A7,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[o1e]})}return n})();const a1e_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};let N7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),b1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,lR,N7,Li,N7]})}return n})(),O1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[$k]})}return n})(),z1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,O1e,Li]})}return n})();function W1e(n,t){if(1&n){const e=Yn();B(0,"a",15),Ae("click",function(){return vt(e),gt(pe(2).navDisappear())}),B(1,"span"),Te(2,"Felhaszn\xe1l\xf3k"),L()()}}function G1e(n,t){1&n&&(B(0,"li",10)(1,"a",16),Te(2,"Id\u0151j\xe1r\xe1s"),L()())}const q1e=function(){return["recipes"]};function K1e(n,t){1&n&&(B(0,"li",10)(1,"a",17),Te(2,"Receptek"),L()()),2&n&&(G(1),Z("routerLink",yw(1,q1e)))}function Z1e(n,t){1&n&&(B(0,"li",10)(1,"a",18),Te(2,"Jegyzetek"),L()())}function Y1e(n,t){if(1&n){const e=Yn();B(0,"li",10)(1,"a",19),Ae("click",function(){return vt(e),gt(pe(2).signOut())}),Te(2,"Kijelentkez\xe9s "),L()()}}const Q1e=function(n){return{"mt-3":n}},$7=function(){return{exact:!0}};function X1e(n,t){if(1&n){const e=Yn();Qs(0),B(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),Ae("click",function(){vt(e);const r=pe();return gt(r.isMenuClicked=!r.isMenuClicked)}),B(5,"span"),Te(6,"Menu "),L(),dt(7,"span",4),L()(),B(8,"div",5)(9,"ul",6)(10,"li",7)(11,"a",8),dt(12,"span",9),Te(13," Kezd\u0151lap"),L()(),B(14,"li",10),he(15,W1e,3,0,"a",11),L(),he(16,G1e,3,0,"li",12),he(17,K1e,3,2,"li",12),he(18,Z1e,3,0,"li",12),B(19,"li",10)(20,"a",13),Te(21," Regisztr\xe1ci\xf3 "),L()(),B(22,"li",10)(23,"a",14),Te(24,"Bejelentkez\xe9s"),L()(),he(25,Y1e,3,0,"li",12),L()()()(),Xs()}if(2&n){const e=pe();G(8),Z("ngbCollapse",!e.isMenuClicked),G(1),Z("ngClass",Cl(9,Q1e,e.isMenuClicked)),G(2),Z("routerLinkActiveOptions",yw(11,$7)),G(4),Z("ngIf",e.isSuperAdmin),G(1),Z("ngIf",e.isLoggedIn),G(1),Z("ngIf",e.isLoggedIn),G(1),Z("ngIf",e.isLoggedIn),G(5),Z("routerLinkActiveOptions",yw(12,$7)),G(2),Z("ngIf",e.isLoggedIn)}}let J1e=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{1==e?.emailVerified||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>{this.isNavDisappeared=e})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xy))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","/login",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&he(0,X1e,26,13,"ng-container",0),2&i&&Z("ngIf",!r.isNavDisappeared)},dependencies:[xc,Hr,hd,_3,MA],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),eSe=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(i,r){1&i&&(dt(0,"app-nav"),B(1,"div",0),dt(2,"img",1),L(),B(3,"div",2),dt(4,"router-outlet"),L())},dependencies:[pE,J1e],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return n})();function W7(n){return new W(3e3,!1)}function Iu(n){switch(n.length){case 0:return new tv;case 1:return n[0];default:return new zW(n)}}function G7(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((m,_)=>{let v=_,b=m;if("offset"!==_)switch(v=n.normalizePropertyName(v,r),b){case"!":b=e.get(_);break;case Fl:b=i.get(_);break;default:b=n.normalizeStyleValue(_,v,b,r)}f.set(v,b)}),u||o.push(f),a=f,s=c}),r.length)throw function CSe(n){return new W(3502,!1)}();return o}function mP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&gP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&gP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&gP(e,"destroy",n)))}}function gP(n,t,e){const o=_P(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function _P(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ps(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function q7(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const PSe=(()=>typeof document>"u"?null:document.documentElement)();function yP(n){const t=n.parentNode||n.host||null;return t===PSe?null:t}let dh=null,K7=!1;function Z7(n,t){for(;t;){if(t===n)return!0;t=yP(t)}return!1}function Y7(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let Q7=(()=>{class n{validateStyleProperty(e){return function LSe(n){dh||(dh=function VSe(){return typeof document<"u"?document.body:null}()||{},K7=!!dh.style&&"WebkitAppearance"in dh.style);let t=!0;return dh.style&&!function FSe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in dh.style,!t&&K7&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in dh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Z7(e,i)}getParentElement(e){return yP(e)}query(e,i,r){return Y7(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new tv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),vP=(()=>{class n{static#e=this.NOOP=new Q7}return n})();const BSe=1e3,bP="ng-enter",NT="ng-leave",OT="ng-trigger",PT=".ng-trigger",J7="ng-animating",wP=".ng-animating";function Yl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:EP(parseFloat(t[1]),t[2])}function EP(n,t){return"s"===t?n*BSe:n}function FT(n,t,e){return n.hasOwnProperty("duration")?n:function jSe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(W7()),{duration:0,delay:0,easing:""};r=EP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=EP(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function tSe(){return new W(3100,!1)}()),a=!0),o<0&&(t.push(function nSe(){return new W(3101,!1)}()),a=!0),a&&t.splice(l,0,W7())}return{duration:r,delay:o,easing:s}}(n,t,e)}function yb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function eK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Tu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function el(n,t,e){t.forEach((i,r)=>{const o=IP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function hh(n,t){t.forEach((e,i)=>{const r=IP(i);n.style[r]=""})}function vb(n){return Array.isArray(n)?1==n.length?n[0]:HW(n):n}const CP=new RegExp("{{\\s*(.+?)\\s*}}","g");function nK(n){let t=[];if("string"==typeof n){let e;for(;e=CP.exec(n);)t.push(e[1]);CP.lastIndex=0}return t}function bb(n,t,e){const i=n.toString(),r=i.replace(CP,(o,s)=>{let a=t[s];return null==a&&(e.push(function rSe(n){return new W(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function LT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $Se=/-+([a-z0-9])/g;function IP(n){return n.replace($Se,(...t)=>t[1].toUpperCase())}function ms(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function oSe(n){return new W(3004,!1)}()}}function iK(n,t){return window.getComputedStyle(n)[t]}const VT="*";function qSe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function KSe(n,t,e){if(":"==n[0]){const l=function ZSe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function vSe(n){return new W(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function ySe(n){return new W(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(rK(r,s));"<"==o[0]&&!(r==VT&&s==VT)&&t.push(rK(s,r))}(i,e,t)):e.push(n),e}const BT=new Set(["true","1"]),UT=new Set(["false","0"]);function rK(n,t){const e=BT.has(n)||UT.has(n),i=BT.has(t)||UT.has(t);return(r,o)=>{let s=n==VT||n==r,a=t==VT||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?BT.has(n):UT.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?BT.has(t):UT.has(t)),s&&a}}const YSe=new RegExp("s*:selfs*,?","g");function TP(n,t,e,i){return new QSe(n).build(t,e,i)}class QSe{constructor(t){this._driver=t}build(t,e,i){const r=new eAe(e);return this._resetContextStyleTimingState(r),ms(this,vb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function aSe(){return new W(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function lSe(){return new W(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{nK(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(LT(o.values()),e.errors.push(function cSe(n,t){return new W(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ms(this,vb(t.animation),e);return{type:1,matchers:qSe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:fh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ms(this,i,e)),options:fh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ms(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:fh(t.options)}}visitAnimate(t,e){const i=function nAe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xP(FT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=xP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=FT(e,t);return xP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ll({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Ll(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Fl?i.push(a):e.errors.push(new W(3002,!1)):i.push(eK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function dSe(n,t,e,i,r){return new W(3010,!1)}()),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function zSe(n,t,e){const i=t.params||{},r=nK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function iSe(n){return new W(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function hSe(){return new W(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(M=>{const A=this._makeStyleAst(M,e);let V=null!=A.offset?A.offset:function tAe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(A.styles),K=0;return null!=V&&(o++,K=A.offset=V),l=l||K<0||K>1,a=a||K<c,c=K,s.push(K),A});l&&e.errors.push(function fSe(){return new W(3012,!1)}()),a&&e.errors.push(function pSe(){return new W(3200,!1)}());const f=t.steps.length;let m=0;o>0&&o<f?e.errors.push(function mSe(){return new W(3202,!1)}()):0==o&&(m=1/(f-1));const _=f-1,v=e.currentTime,b=e.currentAnimateTimings,I=b.duration;return u.forEach((M,A)=>{const V=m>0?A==_?1:m*A:s[A],K=V*I;e.currentTime=v+b.delay+K,b.duration=K,this._validateStyleAst(M,e),M.offset=V,i.styles.push(M)}),i}visitReference(t,e){return{type:8,animation:ms(this,vb(t.animation),e),options:fh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function XSe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(YSe,"")),n=n.replace(/@\*/g,PT).replace(/@\w+/g,e=>PT+"-"+e.slice(1)).replace(/:animating/g,wP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ps(e.collectedStyles,e.currentQuerySelector,new Map);const a=ms(this,vb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:fh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function gSe(){return new W(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:FT(t.timings,e.errors,!0);return{type:12,animation:ms(this,vb(t.animation),e),timings:i,options:null}}}class eAe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fh(n){return n?(n=yb(n)).params&&(n.params=function JSe(n){return n?yb(n):null}(n.params)):n={},n}function xP(n,t,e){return{duration:n,delay:t,easing:e}}function DP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class jT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const oAe=new RegExp(":enter","g"),aAe=new RegExp(":leave","g");function SP(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new lAe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class lAe{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new jT;const f=new AP(t,e,c,r,o,u,[]);f.options=l;const m=l.delay?Yl(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,l),ms(this,i,f);const _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let b=_.length-1;b>=0;b--){const I=_[b];if(I.element===e){v=I;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[DP(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Yl(bb(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Yl(i.duration):null,a=null!=i.delay?Yl(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ms(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=HT);const s=Yl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ms(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ms(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return FT(e.params?bb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yl(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=HT);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),ms(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;ms(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const HT={};class AP{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new zT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yl(i.duration)),null!=i.delay&&(r.delay=Yl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=bb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new AP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=HT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new cAe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(oAe,"."+this._enterClassName)).replace(aAe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function _Se(n){return new W(3014,!1)}()),a}}class zT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Fl),this._currentKeyframe.set(e,Fl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function uAe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Fl)}else Tu(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=bb(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Tu(a,new Map,this._backFill);c.forEach((u,f)=>{"!"===u?t.add(f):u===Fl&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?LT(t.values()):[],s=e.size?LT(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return DP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class cAe extends zT{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Tu(t[0]);l.set("offset",0),o.push(l);const c=Tu(t[0]);c.set("offset",aK(a)),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let m=Tu(t[f]);const _=m.get("offset");m.set("offset",aK((e+_*i)/s)),o.push(m)}i=s,e=0,r="",t=o}return DP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function aK(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class RP{}const dAe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hAe extends RP{normalizePropertyName(t,e){return IP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(dAe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function sSe(n,t){return new W(3005,!1)}())}return s+o}}function lK(n,t,e,i,r,o,s,a,l,c,u,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:m}}const kP={};class cK{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function fAe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const f=[],m=this.ast.options&&this.ast.options.params||kP,v=this.buildStyles(i,a&&a.params||kP,f),b=l&&l.params||kP,I=this.buildStyles(r,b,f),M=new Set,A=new Map,V=new Map,K="void"===r,ae={params:pAe(b,m),delay:this.ast.options?.delay},xe=u?[]:SP(t,e,this.ast.animation,o,s,v,I,ae,c,f);let Be=0;if(xe.forEach(mn=>{Be=Math.max(mn.duration+mn.delay,Be)}),f.length)return lK(e,this._triggerName,i,r,K,v,I,[],[],A,V,Be,f);xe.forEach(mn=>{const gn=mn.element,Ki=ps(A,gn,new Set);mn.preStyleProps.forEach(Mi=>Ki.add(Mi));const Qr=ps(V,gn,new Set);mn.postStyleProps.forEach(Mi=>Qr.add(Mi)),gn!==e&&M.add(gn)});const ct=LT(M.values());return lK(e,this._triggerName,i,r,K,v,I,xe,ct,A,V,Be)}}function pAe(n,t){const e=yb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class mAe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=yb(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=bb(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class _Ae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new mAe(r.style,r.options&&r.options.params||{},i))}),uK(this.states,"true","1"),uK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cK(t,r,this.states))}),this.fallbackTransition=function yAe(n,t,e){return new cK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function uK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const vAe=new jT;class bAe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=TP(this._driver,e,i,[]);if(i.length)throw function ISe(n){return new W(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=G7(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=SP(this._driver,e,o,bP,NT,new Map,new Map,i,vAe,r),s.forEach(u=>{const f=ps(a,u.element,new Map);u.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function TSe(){return new W(3300,!1)}()),s=[]),r.length)throw function xSe(n){return new W(3504,!1)}();a.forEach((u,f)=>{u.forEach((m,_)=>{u.set(_,this._driver.computeStyle(f,_,Fl))})});const c=Iu(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function DSe(n){return new W(3301,!1)}();return e}listen(t,e,i,r){const o=_P(e,"","","");return mP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const dK="ng-animate-queued",MP="ng-animate-disabled",TAe=[],hK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xAe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class NP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function RAe(n){return n??null}(i?t.value:t),i){const o=yb(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const wb="void",OP=new NP(wb);class DAe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,zs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function SSe(n,t){return new W(3302,!1)}();if(null==i||0==i.length)throw function ASe(n){return new W(3303,!1)}();if(!function kAe(n){return"start"==n||"done"==n}(i))throw function RSe(n,t){return new W(3400,!1)}();const o=ps(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ps(this._engine.statesByElement,t,new Map);return a.has(e)||(zs(t,OT),zs(t,OT+"-"+e),a.set(e,OP)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function kSe(n){return new W(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new PP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(zs(t,OT),zs(t,OT+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new NP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=OP),c.value!==wb&&l.value===c.value){if(!function OAe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const b=[],I=o.matchStyles(l.value,l.params,b),M=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{hh(t,I),el(t,M)})}return}const m=ps(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!_){if(!r)return;_=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(zs(t,dK),s.onStart(()=>{Nm(t,dK)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const I=this._engine.playersByElement.get(t);if(I){let M=I.indexOf(s);M>=0&&I.splice(M,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,PT,!0);i.forEach(r=>{if(r[ga])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,wb,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Iu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||OP,u=new NP(wb),f=new PP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ga];(!o||o===hK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){zs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=_P(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,mP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class SAe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new DAe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if($T(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!$T(e))return;const o=e[ga];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),zs(t,MP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Nm(t,MP))}removeNode(t,e,i){if($T(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[ga]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return $T(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,PT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Iu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ga];if(e&&e.setForRemoval){if(t[ga]=hK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(MP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)zs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Iu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function MSe(n){return new W(3402,!1)}()}_flushAnimations(t,e){const i=new jT,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ne=>{u.add(Ne);const Ze=this.driver.query(Ne,".ng-animate-queued",!0);for(let ut=0;ut<Ze.length;ut++)u.add(Ze[ut])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=mK(m,this.collectedEnterElements),v=new Map;let b=0;_.forEach((Ne,Ze)=>{const ut=bP+b++;v.set(Ze,ut),Ne.forEach(Ht=>zs(Ht,ut))});const I=[],M=new Set,A=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const Ze=this.collectedLeaveElements[Ne],ut=Ze[ga];ut&&ut.setForRemoval&&(I.push(Ze),M.add(Ze),ut.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(Ht=>M.add(Ht)):A.add(Ze))}const V=new Map,K=mK(m,Array.from(M));K.forEach((Ne,Ze)=>{const ut=NT+b++;V.set(Ze,ut),Ne.forEach(Ht=>zs(Ht,ut))}),t.push(()=>{_.forEach((Ne,Ze)=>{const ut=v.get(Ze);Ne.forEach(Ht=>Nm(Ht,ut))}),K.forEach((Ne,Ze)=>{const ut=V.get(Ze);Ne.forEach(Ht=>Nm(Ht,ut))}),I.forEach(Ne=>{this.processLeaveNode(Ne)})});const ae=[],xe=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(e).forEach(ut=>{const Ht=ut.player,Ni=ut.element;if(ae.push(Ht),this.collectedEnterElements.length){const Zi=Ni[ga];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(ut.triggerName)){const No=Zi.previousTriggersValues.get(ut.triggerName),uo=this.statesByElement.get(ut.element);if(uo&&uo.has(ut.triggerName)){const Om=uo.get(ut.triggerName);Om.value=No,uo.set(ut.triggerName,Om)}}return void Ht.destroy()}}const Yo=!f||!this.driver.containsElement(f,Ni),mr=V.get(Ni),gs=v.get(Ni),Nn=this._buildInstruction(ut,i,gs,mr,Yo);if(Nn.errors&&Nn.errors.length)return void xe.push(Nn);if(Yo)return Ht.onStart(()=>hh(Ni,Nn.fromStyles)),Ht.onDestroy(()=>el(Ni,Nn.toStyles)),void r.push(Ht);if(ut.isFallbackTransition)return Ht.onStart(()=>hh(Ni,Nn.fromStyles)),Ht.onDestroy(()=>el(Ni,Nn.toStyles)),void r.push(Ht);const _a=[];Nn.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||_a.push(Zi)}),Nn.timelines=_a,i.append(Ni,Nn.timelines),s.push({instruction:Nn,player:Ht,element:Ni}),Nn.queriedElements.forEach(Zi=>ps(a,Zi,[]).push(Ht)),Nn.preStyleProps.forEach((Zi,No)=>{if(Zi.size){let uo=l.get(No);uo||l.set(No,uo=new Set),Zi.forEach((Om,mh)=>uo.add(mh))}}),Nn.postStyleProps.forEach((Zi,No)=>{let uo=c.get(No);uo||c.set(No,uo=new Set),Zi.forEach((Om,mh)=>uo.add(mh))})});if(xe.length){const Ne=[];xe.forEach(Ze=>{Ne.push(function NSe(n,t){return new W(3505,!1)}())}),ae.forEach(Ze=>Ze.destroy()),this.reportError(Ne)}const Be=new Map,ct=new Map;s.forEach(Ne=>{const Ze=Ne.element;i.has(Ze)&&(ct.set(Ze,Ze),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,Be))}),r.forEach(Ne=>{const Ze=Ne.element;this._getPreviousPlayers(Ze,!1,Ne.namespaceId,Ne.triggerName,null).forEach(Ht=>{ps(Be,Ze,[]).push(Ht),Ht.destroy()})});const mn=I.filter(Ne=>_K(Ne,l,c)),gn=new Map;pK(gn,this.driver,A,c,Fl).forEach(Ne=>{_K(Ne,l,c)&&mn.push(Ne)});const Qr=new Map;_.forEach((Ne,Ze)=>{pK(Qr,this.driver,new Set(Ne),l,"!")}),mn.forEach(Ne=>{const Ze=gn.get(Ne),ut=Qr.get(Ne);gn.set(Ne,new Map([...Ze?.entries()??[],...ut?.entries()??[]]))});const Mi=[],tl=[],nl={};s.forEach(Ne=>{const{element:Ze,player:ut,instruction:Ht}=Ne;if(i.has(Ze)){if(u.has(Ze))return ut.onDestroy(()=>el(Ze,Ht.toStyles)),ut.disabled=!0,ut.overrideTotalTime(Ht.totalTime),void r.push(ut);let Ni=nl;if(ct.size>1){let mr=Ze;const gs=[];for(;mr=mr.parentNode;){const Nn=ct.get(mr);if(Nn){Ni=Nn;break}gs.push(mr)}gs.forEach(Nn=>ct.set(Nn,Ni))}const Yo=this._buildAnimation(ut.namespaceId,Ht,Be,o,Qr,gn);if(ut.setRealPlayer(Yo),Ni===nl)Mi.push(ut);else{const mr=this.playersByElement.get(Ni);mr&&mr.length&&(ut.parentPlayer=Iu(mr)),r.push(ut)}}else hh(Ze,Ht.fromStyles),ut.onDestroy(()=>el(Ze,Ht.toStyles)),tl.push(ut),u.has(Ze)&&r.push(ut)}),tl.forEach(Ne=>{const Ze=o.get(Ne.element);if(Ze&&Ze.length){const ut=Iu(Ze);Ne.setRealPlayer(ut)}}),r.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<I.length;Ne++){const Ze=I[Ne],ut=Ze[ga];if(Nm(Ze,NT),ut&&ut.hasAnimation)continue;let Ht=[];if(a.size){let Yo=a.get(Ze);Yo&&Yo.length&&Ht.push(...Yo);let mr=this.driver.query(Ze,wP,!0);for(let gs=0;gs<mr.length;gs++){let Nn=a.get(mr[gs]);Nn&&Nn.length&&Ht.push(...Nn)}}const Ni=Ht.filter(Yo=>!Yo.destroyed);Ni.length?MAe(this,Ze,Ni):this.processLeaveNode(Ze)}return I.length=0,Mi.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const Ze=this.players.indexOf(Ne);this.players.splice(Ze,1)}),Ne.play()}),Mi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==wb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=ps(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}hh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,m=e.timelines.map(v=>{const b=v.element;u.add(b);const I=b[ga];if(I&&I.removedBeforeQueried)return new tv(v.duration,v.delay);const M=b!==l,A=function NAe(n){const t=[];return gK(n,t),t}((i.get(b)||TAe).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===b),V=o.get(b),K=s.get(b),ae=G7(this._normalizer,v.keyframes,V,K),xe=this._buildPlayer(v,ae,A);if(v.subTimeline&&r&&f.add(b),M){const Be=new PP(t,a,b);Be.setRealPlayer(xe),c.push(Be)}return xe});c.forEach(v=>{ps(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function AAe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>zs(v,J7));const _=Iu(m);return _.onDestroy(()=>{u.forEach(v=>Nm(v,J7)),el(l,e.toStyles)}),f.forEach(v=>{ps(r,v,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new tv(t.duration,t.delay)}}class PP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new tv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>mP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $T(n){return n&&1===n.nodeType}function fK(n,t){const e=n.style.display;return n.style.display=t??"none",e}function pK(n,t,e,i,r){const o=[];e.forEach(l=>o.push(fK(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(f=>{const m=t.computeStyle(c,f,r);u.set(f,m),(!m||0==m.length)&&(c[ga]=xAe,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>fK(l,o[a++])),s}function mK(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function zs(n,t){n.classList?.add(t)}function Nm(n,t){n.classList?.remove(t)}function MAe(n,t,e){Iu(e).onDone(()=>n.processLeaveNode(t))}function gK(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof zW?gK(i.players,t):t.push(i)}}function _K(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class WT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new SAe(t,e,i),this._timelineEngine=new bAe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=TP(this._driver,o,l,[]);if(l.length)throw function ESe(n,t){return new W(3404,!1)}();a=function gAe(n,t,e){return new _Ae(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=q7(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=q7(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let FAe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&el(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(el(this._element,this._initialStyles),this._endStyles&&(el(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hh(this._element,this._endStyles),this._endStyles=null),el(this._element,this._initialStyles),this._state=3)}}return n})();function FP(n){let t=null;return n.forEach((e,i)=>{(function LAe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class yK{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:iK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class VAe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Z7(t,e)}getParentElement(t){return yP(t)}query(t,e,i){return Y7(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(_=>_ instanceof yK);(function WSe(n,t){return 0===n||0===t})(i,r)&&u.forEach(_=>{_.currentSnapshot.forEach((v,b)=>c.set(b,v))});let f=function HSe(n){return n.length?n[0]instanceof Map?n:n.map(t=>eK(t)):[]}(e).map(_=>Tu(_));f=function GSe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,iK(n,a)))}}return t}(t,f,c);const m=function PAe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=FP(t[0]),t.length>1&&(i=FP(t[t.length-1]))):t instanceof Map&&(e=FP(t)),e||i?new FAe(n,e,i):null}(t,f);return new yK(t,f,l,m)}}let BAe=(()=>{class n extends jW{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Oo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?HW(e):e;return vK(this._renderer,null,i,"register",[r]),new UAe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(If),O(wt))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class UAe extends Vbe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new jAe(this._id,t,e||{},this._renderer)}}class jAe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vK(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vK(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const bK="@.disabled";let HAe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new wK("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new zAe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(If),O(WT),O(He))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();class wK{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==bK?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class zAe extends wK{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bK?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function $Ae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function WAe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let GAe=(()=>{class n extends WT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(vP),O(RP),O(ta))};static#t=this.\u0275prov=de({token:n,factory:n.\u0275fac})}return n})();const EK=[{provide:jW,useClass:BAe},{provide:RP,useFactory:function qAe(){return new hAe}},{provide:WT,useClass:GAe},{provide:If,useFactory:function KAe(n,t,e){return new HAe(n,t,e)},deps:[dS,WT,He]}],LP=[{provide:vP,useFactory:()=>new VAe},{provide:Ys,useValue:"BrowserAnimations"},...EK],CK=[{provide:vP,useClass:Q7},{provide:Ys,useValue:"NoopAnimations"},...EK];let ZAe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?CK:LP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:LP,imports:[mj]})}return n})();class YAe{intercept(t,e){const i=t.clone({headers:t.headers.append("Auth","xyz")});return e.handle(i)}}class QAe{intercept(t,e){return console.log("Kimeno keres"),console.log(t.url),console.log(t.headers),e.handle(t).pipe(mi(i=>{i.type===Id.Response&&(console.log("Bejovo valasz"),console.log(i.body))}))}}let XAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n,bootstrap:[eSe]});static#n=this.\u0275inj=Xe({providers:[{provide:pR,useClass:YAe,multi:!0},{provide:pR,useClass:QAe,multi:!0},GA],imports:[mj,xEe,Efe,use,dse,hme,Yme.initializeApp(a1e_firebaseConfig),ube,tge,s1e,ZAe,KC,qwe,zpe,Ame,b1e,D0e,Ewe,bEe,z1e,qA]})}return n})();toe().bootstrapModule(XAe).catch(n=>console.error(n))},614:()=>{const Xr=":";const _n=function(z,...U){if(_n.translate){const ue=_n.translate(z,U);z=ue[0],U=ue[1]}let ee=di(z[0],z.raw[0]);for(let ue=1;ue<z.length;ue++)ee+=U[ue-1]+di(z[ue],z.raw[ue]);return ee},Bn=":";function di(z,U){return U.charAt(0)===Bn?z.substring(function ne(z,U){for(let ee=1,ue=1;ee<z.length;ee++,ue++)if("\\"===U[ue])ue++;else if(z[ee]===Xr)return ee;throw new Error(`Unterminated $localize metadata block in "${U}".`)}(z,U)+1):z}globalThis.$localize=_n},106:(Xr,bi,rt)=>{rt.d(bi,{Z:()=>Wn});var S=rt(58),ie=rt(537),j=rt(534),Ye=rt(879);class ft{constructor(pt,mt){this._delegate=pt,this.firebase=mt,(0,j._addComponent)(pt,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(pt,mt=j._DEFAULT_ENTRY_NAME){var wi;this._delegate.checkDestroyed();const Gn=this._delegate.container.getProvider(pt);return!Gn.isInitialized()&&"EXPLICIT"===(null===(wi=Gn.getComponent())||void 0===wi?void 0:wi.instantiationMode)&&Gn.initialize(),Gn.getImmediate({identifier:mt})}_removeServiceInstance(pt,mt=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(mt)}_addComponent(pt){(0,j._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,j._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ui=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Xt(){const zt=function xn(zt){const pt={},mt={__esModule:!0,initializeApp:function Rt(xt,ye={}){const Gt=j.initializeApp(xt,ye);if((0,S.r3)(pt,Gt.name))return pt[Gt.name];const Dn=new zt(Gt,mt);return pt[Gt.name]=Dn,Dn},app:Gn,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function gr(xt){const ye=xt.name,Gt=ye.replace("-compat","");if(j._registerComponent(xt)&&"PUBLIC"===xt.type){const Dn=(ei=Gn())=>{if("function"!=typeof ei[Gt])throw ui.create("invalid-app-argument",{appName:ye});return ei[Gt]()};void 0!==xt.serviceProps&&(0,S.ZB)(Dn,xt.serviceProps),mt[Gt]=Dn,zt.prototype[Gt]=function(...ei){return this._getService.bind(this,ye).apply(this,xt.multipleInstances?ei:[])}}return"PUBLIC"===xt.type?mt[Gt]:null},removeApp:function wi(xt){delete pt[xt]},useAsService:function Ei(xt,ye){return"serverAuth"===ye?null:ye},modularAPIs:j}};function Gn(xt){if(!(0,S.r3)(pt,xt=xt||j._DEFAULT_ENTRY_NAME))throw ui.create("no-app",{appName:xt});return pt[xt]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function $t(){return Object.keys(pt).map(xt=>pt[xt])}}),Gn.App=zt,mt}(ft);return zt.INTERNAL=Object.assign(Object.assign({},zt.INTERNAL),{createFirebaseNamespace:Xt,extendNamespace:function pt(mt){(0,S.ZB)(zt,mt)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),zt}(),we=new Ye.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const zt=self.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Wn=ce;!function rn(zt){(0,j.registerVersion)("@firebase/app-compat","0.2.23",zt)}()},534:(Xr,bi,rt)=>{rt.r(bi),rt.d(bi,{FirebaseError:()=>Ye.ZR,SDK_VERSION:()=>Qo,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Yi,_addOrOverwriteComponent:()=>nr,_apps:()=>ti,_clearComponents:()=>yn,_components:()=>ji,_getProvider:()=>Kt,_registerComponent:()=>Cn,_removeServiceInstance:()=>cn,deleteApp:()=>Oi,getApp:()=>Xo,getApps:()=>Hi,initializeApp:()=>mo,onLog:()=>Ql,registerVersion:()=>go,setLogLevel:()=>ya});var S=rt(861),ie=rt(537),j=rt(879),Ye=rt(58);const ft=($,F)=>F.some(be=>$ instanceof be);let $n,ui;const ce=new WeakMap,we=new WeakMap,We=new WeakMap,Ct=new WeakMap,rn=new WeakMap;let pt={get($,F,be){if($ instanceof IDBTransaction){if("done"===F)return we.get($);if("objectStoreNames"===F)return $.objectStoreNames||We.get($);if("store"===F)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Rt($[F])},set:($,F,be)=>($[F]=be,!0),has:($,F)=>$ instanceof IDBTransaction&&("done"===F||"store"===F)||F in $};function Gn($){return"function"==typeof $?function wi($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xt(){return ui||(ui=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...F){return $.apply($t(this),F),Rt(ce.get(this))}:function(...F){return Rt($.apply($t(this),F))}:function(F,...be){const Qe=$.call($t(this),F,...be);return We.set(Qe,F.sort?F.sort():[F]),Rt(Qe)}}($):($ instanceof IDBTransaction&&function zt($){if(we.has($))return;const F=new Promise((be,Qe)=>{const Ot=()=>{$.removeEventListener("complete",Ut),$.removeEventListener("error",W),$.removeEventListener("abort",W)},Ut=()=>{be(),Ot()},W=()=>{Qe($.error||new DOMException("AbortError","AbortError")),Ot()};$.addEventListener("complete",Ut),$.addEventListener("error",W),$.addEventListener("abort",W)});we.set($,F)}($),ft($,function xn(){return $n||($n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,pt):$)}function Rt($){if($ instanceof IDBRequest)return function Wn($){const F=new Promise((be,Qe)=>{const Ot=()=>{$.removeEventListener("success",Ut),$.removeEventListener("error",W)},Ut=()=>{be(Rt($.result)),Ot()},W=()=>{Qe($.error),Ot()};$.addEventListener("success",Ut),$.addEventListener("error",W)});return F.then(be=>{be instanceof IDBCursor&&ce.set(be,$)}).catch(()=>{}),rn.set(F,$),F}($);if(Ct.has($))return Ct.get($);const F=Gn($);return F!==$&&(Ct.set($,F),rn.set(F,$)),F}const $t=$=>rn.get($),xt=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Gt=new Map;function Dn($,F){if(!($ instanceof IDBDatabase)||F in $||"string"!=typeof F)return;if(Gt.get(F))return Gt.get(F);const be=F.replace(/FromIndex$/,""),Qe=F!==be,Ot=ye.includes(be);if(!(be in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ot&&!xt.includes(be))return;const Ut=function(){var W=(0,S.Z)(function*(Di,...Ge){const Wt=this.transaction(Di,Ot?"readwrite":"readonly");let xu=Wt.store;return Qe&&(xu=xu.index(Ge.shift())),(yield Promise.all([xu[be](...Ge),Ot&&Wt.done]))[0]});return function(Ge){return W.apply(this,arguments)}}();return Gt.set(F,Ut),Ut}!function mt($){pt=$(pt)}($=>({...$,get:(F,be,Qe)=>Dn(F,be)||$.get(F,be,Qe),has:(F,be)=>!!Dn(F,be)||$.has(F,be)}));class ei{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function qn($){const F=$.getComponent();return"VERSION"===F?.type}(be)){const Qe=be.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(be=>be).join(" ")}}const ho="@firebase/app",at=new j.Yd("@firebase/app"),Bt="[DEFAULT]",An={[ho]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,ji=new Map;function Yi($,F){try{$.container.addComponent(F)}catch(be){at.debug(`Component ${F.name} failed to register with FirebaseApp ${$.name}`,be)}}function nr($,F){$.container.addOrOverwriteComponent(F)}function Cn($){const F=$.name;if(ji.has(F))return at.debug(`There were multiple attempts to register component ${F}.`),!1;ji.set(F,$);for(const be of ti.values())Yi(be,$);return!0}function Kt($,F){const be=$.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),$.container.getProvider(F)}function cn($,F,be=Bt){Kt($,F).clearInstance(be)}function yn(){ji.clear()}const Un=new Ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(F,be,Qe){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const Qo="10.6.0";function mo($,F={}){let be=$;"object"!=typeof F&&(F={name:F});const Qe=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},F),Ot=Qe.name;if("string"!=typeof Ot||!Ot)throw Un.create("bad-app-name",{appName:String(Ot)});if(be||(be=(0,Ye.aH)()),!be)throw Un.create("no-options");const Ut=ti.get(Ot);if(Ut){if((0,Ye.vZ)(be,Ut.options)&&(0,Ye.vZ)(Qe,Ut.config))return Ut;throw Un.create("duplicate-app",{appName:Ot})}const W=new ie.H0(Ot);for(const Ge of ji.values())W.addComponent(Ge);const Di=new Kn(be,Qe,W);return ti.set(Ot,Di),Di}function Xo($=Bt){const F=ti.get($);if(!F&&$===Bt&&(0,Ye.aH)())return mo();if(!F)throw Un.create("no-app",{appName:$});return F}function Hi(){return Array.from(ti.values())}function Oi($){return yr.apply(this,arguments)}function yr(){return(yr=(0,S.Z)(function*($){const F=$.name;ti.has(F)&&(ti.delete(F),yield Promise.all($.container.getProviders().map(be=>be.delete())),$.isDeleted=!0)})).apply(this,arguments)}function go($,F,be){var Qe;let Ot=null!==(Qe=An[$])&&void 0!==Qe?Qe:$;be&&(Ot+=`-${be}`);const Ut=Ot.match(/\s|\//),W=F.match(/\s|\//);if(Ut||W){const Di=[`Unable to register library "${Ot}" with version "${F}":`];return Ut&&Di.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Ut&&W&&Di.push("and"),W&&Di.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void at.warn(Di.join(" "))}Cn(new ie.wA(`${Ot}-version`,()=>({library:Ot,version:F}),"VERSION"))}function Ql($,F){if(null!==$&&"function"!=typeof $)throw Un.create("invalid-log-argument");(0,j.Am)($,F)}function ya($){(0,j.Ub)($)}const rl="firebase-heartbeat-database",_s=1,N="firebase-heartbeat-store";let k=null;function E(){return k||(k=function gr($,F,{blocked:be,upgrade:Qe,blocking:Ot,terminated:Ut}={}){const W=indexedDB.open($,F),Di=Rt(W);return Qe&&W.addEventListener("upgradeneeded",Ge=>{Qe(Rt(W.result),Ge.oldVersion,Ge.newVersion,Rt(W.transaction),Ge)}),be&&W.addEventListener("blocked",Ge=>be(Ge.oldVersion,Ge.newVersion,Ge)),Di.then(Ge=>{Ut&&Ge.addEventListener("close",()=>Ut()),Ot&&Ge.addEventListener("versionchange",Wt=>Ot(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Di}(rl,_s,{upgrade:($,F)=>{0===F&&$.createObjectStore(N)}}).catch($=>{throw Un.create("idb-open",{originalErrorMessage:$.message})})),k}function w(){return(w=(0,S.Z)(function*($){try{return yield(yield E()).transaction(N).objectStore(N).get(ze($))}catch(F){if(F instanceof Ye.ZR)at.warn(F.message);else{const be=Un.create("idb-get",{originalErrorMessage:F?.message});at.warn(be.message)}}})).apply(this,arguments)}function R($,F){return re.apply(this,arguments)}function re(){return(re=(0,S.Z)(function*($,F){try{const Qe=(yield E()).transaction(N,"readwrite");yield Qe.objectStore(N).put(F,ze($)),yield Qe.done}catch(be){if(be instanceof Ye.ZR)at.warn(be.message);else{const Qe=Un.create("idb-set",{originalErrorMessage:be?.message});at.warn(Qe.message)}}})).apply(this,arguments)}function ze($){return`${$.name}!${$.options.appId}`}class sn{constructor(F){this.container=F,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new Je(be),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var F=this;return(0,S.Z)(function*(){var be;const Ot=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Me();if(null==(null===(be=F._heartbeatsCache)||void 0===be?void 0:be.heartbeats)&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!F._heartbeatsCache.heartbeats.some(W=>W.date===Ut))return F._heartbeatsCache.heartbeats.push({date:Ut,agent:Ot}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(W=>{const Di=new Date(W.date).valueOf();return Date.now()-Di<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,S.Z)(function*(){var be;if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null==(null===(be=F._heartbeatsCache)||void 0===be?void 0:be.heartbeats)||0===F._heartbeatsCache.heartbeats.length)return"";const Qe=Me(),{heartbeatsToSend:Ot,unsentEntries:Ut}=function Rn($,F=1024){const be=[];let Qe=$.slice();for(const Ot of $){const Ut=be.find(W=>W.agent===Ot.agent);if(Ut){if(Ut.dates.push(Ot.date),Qi(be)>F){Ut.dates.pop();break}}else if(be.push({agent:Ot.agent,dates:[Ot.date]}),Qi(be)>F){be.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:be,unsentEntries:Qe}}(F._heartbeatsCache.heartbeats),W=(0,Ye.L)(JSON.stringify({version:2,heartbeats:Ot}));return F._heartbeatsCache.lastSentHeartbeatDate=Qe,Ut.length>0?(F._heartbeatsCache.heartbeats=Ut,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),W})()}}function Me(){return(new Date).toISOString().substring(0,10)}class Je{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Ye.hl)()&&(0,Ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,S.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function x($){return w.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var be=this;return(0,S.Z)(function*(){var Qe;if(yield be._canUseIndexedDBPromise){const Ut=yield be.read();return R(be.app,{lastSentHeartbeatDate:null!==(Qe=F.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ut.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var be=this;return(0,S.Z)(function*(){var Qe;if(yield be._canUseIndexedDBPromise){const Ut=yield be.read();return R(be.app,{lastSentHeartbeatDate:null!==(Qe=F.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...F.heartbeats]})}})()}}function Qi($){return(0,Ye.L)(JSON.stringify({version:2,heartbeats:$})).length}!function ol($){Cn(new ie.wA("platform-logger",F=>new ei(F),"PRIVATE")),Cn(new ie.wA("heartbeat",F=>new sn(F),"PRIVATE")),go(ho,"0.9.23",$),go(ho,"0.9.23","esm2017"),go("fire-js","")}("")},537:(Xr,bi,rt)=>{rt.d(bi,{H0:()=>xn,wA:()=>j,zt:()=>ft});var S=rt(861),ie=rt(58);class j{constructor(ce,we,We){this.name=ce,this.instanceFactory=we,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ye="[DEFAULT]";class ft{constructor(ce,we){this.name=ce,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const we=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(we)){const We=new ie.BH;if(this.instancesDeferred.set(we,We),this.isInitialized(we)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:we});Ct&&We.resolve(Ct)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(ce){var we;const We=this.normalizeInstanceIdentifier(ce?.identifier),Ct=null!==(we=ce?.optional)&&void 0!==we&&we;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(rn){if(Ct)return null;throw rn}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function ui(Xt){return"EAGER"===Xt.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch{}for(const[we,We]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(we);try{const rn=this.getOrInitializeService({instanceIdentifier:Ct});We.resolve(rn)}catch{}}}}clearInstance(ce=Ye){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,S.Z)(function*(){const we=Array.from(ce.instances.values());yield Promise.all([...we.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...we.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ye){return this.instances.has(ce)}getOptions(ce=Ye){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:we={}}=ce,We=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:We,options:we});for(const[rn,Wn]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(rn)&&Wn.resolve(Ct);return Ct}onInit(ce,we){var We;const Ct=this.normalizeInstanceIdentifier(we),rn=null!==(We=this.onInitCallbacks.get(Ct))&&void 0!==We?We:new Set;rn.add(ce),this.onInitCallbacks.set(Ct,rn);const Wn=this.instances.get(Ct);return Wn&&ce(Wn,Ct),()=>{rn.delete(ce)}}invokeOnInitCallbacks(ce,we){const We=this.onInitCallbacks.get(we);if(We)for(const Ct of We)try{Ct(ce,we)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:we={}}){let We=this.instances.get(ce);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(Xt=ce,Xt===Ye?void 0:Xt),options:we}),this.instances.set(ce,We),this.instancesOptions.set(ce,we),this.invokeOnInitCallbacks(We,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,We)}catch{}var Xt;return We||null}normalizeInstanceIdentifier(ce=Ye){return this.component?this.component.multipleInstances?ce:Ye:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xn{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const we=this.getProvider(ce.name);if(we.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);we.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const we=new ft(ce,this);return this.providers.set(ce,we),we}getProviders(){return Array.from(this.providers.values())}}},879:(Xr,bi,rt)=>{rt.d(bi,{Am:()=>Xt,Ub:()=>xn,Yd:()=>ui,in:()=>ie});const S=[];var ie=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(ie||{});const j={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ye=ie.INFO,ft={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},$n=(ce,we,...We)=>{if(we<ce.logLevel)return;const Ct=(new Date).toISOString(),rn=ft[we];if(!rn)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[rn](`[${Ct}]  ${ce.name}:`,...We)};class ui{constructor(we){this.name=we,this._logLevel=Ye,this._logHandler=$n,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in ie))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?j[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...we),this._logHandler(this,ie.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...we),this._logHandler(this,ie.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...we),this._logHandler(this,ie.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...we),this._logHandler(this,ie.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...we),this._logHandler(this,ie.ERROR,...we)}}function xn(ce){S.forEach(we=>{we.setLogLevel(ce)})}function Xt(ce,we){for(const We of S){let Ct=null;we&&we.level&&(Ct=j[we.level]),We.userLogHandler=null===ce?null:(rn,Wn,...zt)=>{const pt=zt.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");Wn>=(Ct??rn.logLevel)&&ce({level:ie[Wn].toLowerCase(),message:pt,args:zt,type:rn.name})}}}},365:(Xr,bi,rt)=>{rt.r(bi);var S=rt(861),ie=rt(106),j=rt(562),Ye=rt(58),ui=(rt(534),rt(879),rt(537));function xn(){return window}function we(){return we=(0,S.Z)(function*(E,x,w){var R;const{BuildInfo:re}=xn();(0,j.au)(x.sessionId,"AuthEvent did not contain a session ID");const ze=yield function mt(E){return wi.apply(this,arguments)}(x.sessionId),Ue={};return(0,j.av)()?Ue.ibi=re.packageName:(0,j.aw)()?Ue.apn=re.packageName:(0,j.ax)(E,"operation-not-supported-in-this-environment"),re.displayName&&(Ue.appDisplayName=re.displayName),Ue.sessionId=ze,(0,j.ay)(E,w,x.type,void 0,null!==(R=x.eventId)&&void 0!==R?R:void 0,Ue)}),we.apply(this,arguments)}function Ct(){return(Ct=(0,S.Z)(function*(E){const{BuildInfo:x}=xn(),w={};(0,j.av)()?w.iosBundleId=x.packageName:(0,j.aw)()?w.androidPackageName=x.packageName:(0,j.ax)(E,"operation-not-supported-in-this-environment"),yield(0,j.az)(E,w)})).apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(E,x,w){const{cordova:R}=xn();let re=()=>{};try{yield new Promise((ze,Ue)=>{let lt=null;function sn(){var Je;ze();const Qi=null===(Je=R.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Qi&&Qi(),"function"==typeof w?.close&&w.close()}function Me(){lt||(lt=window.setTimeout(()=>{Ue((0,j.aB)(E,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&Me()}x.addPassiveListener(sn),document.addEventListener("resume",Me,!1),(0,j.aw)()&&document.addEventListener("visibilitychange",Rn,!1),re=()=>{x.removePassiveListener(sn),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",Rn,!1),lt&&window.clearTimeout(lt)}})}finally{re()}})).apply(this,arguments)}function wi(){return(wi=(0,S.Z)(function*(E){const x=function Gn(E){if((0,j.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const x=new ArrayBuffer(E.length),w=new Uint8Array(x);for(let R=0;R<E.length;R++)w[R]=E.charCodeAt(R);return w}(E),w=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(w)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $t extends j.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(x)),super.onEvent(x)}initialized(){var x=this;return(0,S.Z)(function*(){yield x.initPromise})()}}function xt(E){return ye.apply(this,arguments)}function ye(){return(ye=(0,S.Z)(function*(E){const x=yield ei()._get(qn(E));return x&&(yield ei()._remove(qn(E))),x})).apply(this,arguments)}function Dn(){const E=[];for(let w=0;w<20;w++){const R=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return E.join("")}function ei(){return(0,j.aE)(j.b)}function qn(E){return(0,j.aF)("authEvent",E.config.apiKey,E.name)}function at(E){if(!E?.includes("?"))return{};const[x,...w]=E.split("?");return(0,Ye.zd)(w.join("?"))}const Q=class po{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){const R=x._key();let re=w.eventManagers.get(R);return re||(re=new $t(x),w.eventManagers.set(R,re),w.attachCallbackListeners(x,re)),re})()}_openPopup(x){(0,j.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,w,R,re){var ze=this;return(0,S.Z)(function*(){!function pt(E){var x,w,R,re,ze,Ue,lt,sn,Me,Rn;const Je=xn();(0,j.aC)("function"==typeof(null===(x=Je?.universalLinks)||void 0===x?void 0:x.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aC)(typeof(null===(w=Je?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aC)("function"==typeof(null===(ze=null===(re=null===(R=Je?.cordova)||void 0===R?void 0:R.plugins)||void 0===re?void 0:re.browsertab)||void 0===ze?void 0:ze.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(sn=null===(lt=null===(Ue=Je?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===sn?void 0:sn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(Rn=null===(Me=Je?.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===Rn?void 0:Rn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ue=yield ze._initialize(x);yield Ue.initialized(),Ue.resetRedirect(),(0,j.aI)(),yield ze._originValidation(x);const lt=function gr(E,x,w=null){return{type:x,eventId:w,urlResponse:null,sessionId:Dn(),postBody:null,tenantId:E.tenantId,error:(0,j.aB)(E,"no-auth-event")}}(x,R,re);yield function Ei(E,x){return ei()._set(qn(E),x)}(x,lt);const sn=yield function ce(E,x,w){return we.apply(this,arguments)}(x,lt,w),Me=yield function rn(E){const{cordova:x}=xn();return new Promise(w=>{x.plugins.browsertab.isAvailable(R=>{let re=null;R?x.plugins.browsertab.openUrl(E):re=x.InAppBrowser.open(E,(0,j.aA)()?"_blank":"_system","location=yes"),w(re)})})}(sn);return function Wn(E,x,w){return zt.apply(this,arguments)}(x,Ue,Me)})()}_isIframeWebStorageSupported(x,w){throw new Error("Method not implemented.")}_originValidation(x){const w=x._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function We(E){return Ct.apply(this,arguments)}(x)),this.originValidationPromises[w]}attachCallbackListeners(x,w){const{universalLinks:R,handleOpenURL:re,BuildInfo:ze}=xn(),Ue=setTimeout((0,S.Z)(function*(){yield xt(x),w.onEvent(ne())}),500),lt=function(){var Rn=(0,S.Z)(function*(Je){clearTimeout(Ue);const Qi=yield xt(x);let ol=null;Qi&&Je?.url&&(ol=function Gt(E,x){var w,R;const re=function fo(E){const x=at(E),w=x.link?decodeURIComponent(x.link):void 0,R=at(w).link,re=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return at(re).link||re||R||w||E}(x);if(re.includes("/__/auth/callback")){const ze=at(re),Ue=ze.firebaseError?function ho(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(ze.firebaseError)):null,lt=null===(R=null===(w=Ue?.code)||void 0===w?void 0:w.split("auth/"))||void 0===R?void 0:R[1],sn=lt?(0,j.aB)(lt):null;return sn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:re,postBody:null}}return null}(Qi,Je.url)),w.onEvent(ol||ne())});return function(Qi){return Rn.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,lt);const sn=re,Me=`${ze.packageName.toLowerCase()}://`;xn().handleOpenURL=function(){var Rn=(0,S.Z)(function*(Je){if(Je.toLowerCase().startsWith(Me)&&lt({url:Je}),"function"==typeof sn)try{sn(Je)}catch(Qi){console.error(Qi)}});return function(Je){return Rn.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aB)("no-auth-event")}}function De(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Ie(E=(0,Ye.z$)()){return!("file:"!==De()&&"ionic:"!==De()&&"capacitor:"!==De()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bn(){try{const E=self.localStorage,x=j.aN();if(E)return E.setItem(x,"1"),E.removeItem(x),!function _n(E=(0,Ye.z$)()){return function Jt(){return(0,Ye.w1)()&&11===document?.documentMode}()||function Vn(E=(0,Ye.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Ye.hl)()}catch{return di()&&(0,Ye.hl)()}return!1}function di(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function z(){return(function kt(){return"http:"===De()||"https:"===De()}()||(0,Ye.ru)()||Ie())&&!function et(){return(0,Ye.b$)()||(0,Ye.UG)()}()&&Bn()&&!di()}function U(){return Ie()&&typeof document<"u"}function ue(){return(ue=(0,S.Z)(function*(){return!!U()&&new Promise(E=>{const x=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),E(!0)})})})).apply(this,arguments)}const ve={LOCAL:"local",NONE:"none",SESSION:"session"},Sn=j.aC,qt="persistence";function An(E){return ti.apply(this,arguments)}function ti(){return(ti=(0,S.Z)(function*(E){yield E._initializationPromise;const x=Yi(),w=j.aF(qt,E.config.apiKey,E.name);x&&x.setItem(w,E._getPersistence())})).apply(this,arguments)}function Yi(){var E;try{return(null===(E=function Se(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const nr=j.aC;class Cn{constructor(){this.browserResolver=j.aE(j.k),this.cordovaResolver=j.aE(Q),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,w,R,re){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(x,w,R,re)})()}_openRedirect(x,w,R,re){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(x,w,R,re)})()}_isIframeWebStorageSupported(x,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,w)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return U()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,S.Z)(function*(){if(x.underlyingResolver)return;const w=yield function ee(){return ue.apply(this,arguments)}();x.underlyingResolver=w?x.cordovaResolver:x.browserResolver})()}}function Kt(E){return E.unwrap()}function yn(E){return Un(E)}function Un(E){const{_tokenResponse:x}=E instanceof Ye.ZR?E.customData:E;if(!x)return null;if(!(E instanceof Ye.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return j.P.credentialFromResult(E);const w=x.providerId;if(!w||w===j.p.PASSWORD)return null;let R;switch(w){case j.p.GOOGLE:R=j.X;break;case j.p.FACEBOOK:R=j.W;break;case j.p.GITHUB:R=j.Y;break;case j.p.TWITTER:R=j.$;break;default:const{oauthIdToken:re,oauthAccessToken:ze,oauthTokenSecret:Ue,pendingToken:lt,nonce:sn}=x;return ze||Ue||re||lt?lt?w.startsWith("saml.")?j.aQ._create(w,lt):j.N._fromParams({providerId:w,signInMethod:w,pendingToken:lt,idToken:re,accessToken:ze}):new j.Z(w).credential({idToken:re,accessToken:ze,rawNonce:sn}):null}return E instanceof Ye.ZR?R.credentialFromError(E):R.credentialFromResult(E)}function Kn(E,x){return x.catch(w=>{throw w instanceof Ye.ZR&&function il(E,x){var w;const R=null===(w=x.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Xo(E,j.as(E,x));else if(R){const re=Un(x),ze=x;re&&(ze.credential=re,ze.tenantId=R.tenantId||void 0,ze.email=R.email||void 0,ze.phoneNumber=R.phoneNumber||void 0)}}(E,w),w}).then(w=>{const re=w.user;return{operationType:w.operationType,credential:yn(w),additionalUserInfo:j.aq(w),user:Hi.getOrCreate(re)}})}function Qo(E,x){return mo.apply(this,arguments)}function mo(){return(mo=(0,S.Z)(function*(E,x){const w=yield x;return{verificationId:w.verificationId,confirm:R=>Kn(E,w.confirm(R))}})).apply(this,arguments)}class Xo{constructor(x,w){this.resolver=w,this.auth=function cn(E){return E.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Kn(Kt(this.auth),this.resolver.resolveSignIn(x))}}class Hi{constructor(x){this._delegate=x,this.multiFactor=j.at(x)}static getOrCreate(x){return Hi.USER_MAP.has(x)||Hi.USER_MAP.set(x,new Hi(x)),Hi.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var w=this;return(0,S.Z)(function*(){return Kn(w.auth,j.a2(w._delegate,x))})()}linkWithPhoneNumber(x,w){var R=this;return(0,S.Z)(function*(){return Qo(R.auth,j.l(R._delegate,x,w))})()}linkWithPopup(x){var w=this;return(0,S.Z)(function*(){return Kn(w.auth,j.d(w._delegate,x,Cn))})()}linkWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield An(j.aJ(w.auth)),j.g(w._delegate,x,Cn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var w=this;return(0,S.Z)(function*(){return Kn(w.auth,j.a3(w._delegate,x))})()}reauthenticateWithPhoneNumber(x,w){return Qo(this.auth,j.r(this._delegate,x,w))}reauthenticateWithPopup(x){return Kn(this.auth,j.e(this._delegate,x,Cn))}reauthenticateWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield An(j.aJ(w.auth)),j.h(w._delegate,x,Cn)})()}sendEmailVerification(x){return j.ag(this._delegate,x)}unlink(x){var w=this;return(0,S.Z)(function*(){return yield j.ap(w._delegate,x),w})()}updateEmail(x){return j.al(this._delegate,x)}updatePassword(x){return j.am(this._delegate,x)}updatePhoneNumber(x){return j.u(this._delegate,x)}updateProfile(x){return j.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,w){return j.ah(this._delegate,x,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hi.USER_MAP=new WeakMap;const Oi=j.aC;let yr=(()=>{class E{constructor(w,R){if(this.app=w,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=w.options;Oi(re,"invalid-api-key",{appName:w.name}),Oi(re,"invalid-api-key",{appName:w.name});const ze=typeof window<"u"?Cn:void 0;this._delegate=R.initialize({options:{persistence:Ql(re,w.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(j.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,R){j.K(this._delegate,w,R)}applyActionCode(w){return j.a7(this._delegate,w)}checkActionCode(w){return j.a8(this._delegate,w)}confirmPasswordReset(w,R){return j.a6(this._delegate,w,R)}createUserWithEmailAndPassword(w,R){var re=this;return(0,S.Z)(function*(){return Kn(re._delegate,j.aa(re._delegate,w,R))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return j.af(this._delegate,w)}isSignInWithEmailLink(w){return j.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,S.Z)(function*(){Oi(z(),w._delegate,"operation-not-supported-in-this-environment");const R=yield j.j(w._delegate,Cn);return R?Kn(w._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function H(E,x){(0,j.aJ)(E)._logFramework(x)}(this._delegate,w)}onAuthStateChanged(w,R,re){const{next:ze,error:Ue,complete:lt}=go(w,R,re);return this._delegate.onAuthStateChanged(ze,Ue,lt)}onIdTokenChanged(w,R,re){const{next:ze,error:Ue,complete:lt}=go(w,R,re);return this._delegate.onIdTokenChanged(ze,Ue,lt)}sendSignInLinkToEmail(w,R){return j.ac(this._delegate,w,R)}sendPasswordResetEmail(w,R){return j.a5(this._delegate,w,R||void 0)}setPersistence(w){var R=this;return(0,S.Z)(function*(){let re;switch(function Bt(E,x){Sn(Object.values(ve).includes(x),E,"invalid-persistence-type"),(0,Ye.b$)()?Sn(x!==ve.SESSION,E,"unsupported-persistence-type"):(0,Ye.UG)()?Sn(x===ve.NONE,E,"unsupported-persistence-type"):di()?Sn(x===ve.NONE||x===ve.LOCAL&&(0,Ye.hl)(),E,"unsupported-persistence-type"):Sn(x===ve.NONE||Bn(),E,"unsupported-persistence-type")}(R._delegate,w),w){case ve.SESSION:re=j.a;break;case ve.LOCAL:re=(yield j.aE(j.i)._isAvailable())?j.i:j.b;break;case ve.NONE:re=j.U;break;default:return j.ax("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Kn(this._delegate,j.a0(this._delegate))}signInWithCredential(w){return Kn(this._delegate,j.a1(this._delegate,w))}signInWithCustomToken(w){return Kn(this._delegate,j.a4(this._delegate,w))}signInWithEmailAndPassword(w,R){return Kn(this._delegate,j.ab(this._delegate,w,R))}signInWithEmailLink(w,R){return Kn(this._delegate,j.ae(this._delegate,w,R))}signInWithPhoneNumber(w,R){return Qo(this._delegate,j.s(this._delegate,w,R))}signInWithPopup(w){var R=this;return(0,S.Z)(function*(){return Oi(z(),R._delegate,"operation-not-supported-in-this-environment"),Kn(R._delegate,j.c(R._delegate,w,Cn))})()}signInWithRedirect(w){var R=this;return(0,S.Z)(function*(){return Oi(z(),R._delegate,"operation-not-supported-in-this-environment"),yield An(R._delegate),j.f(R._delegate,w,Cn)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return j.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ve,E})();function go(E,x,w){let R=E;"function"!=typeof E&&({next:R,error:x,complete:w}=E);const re=R;return{next:Ue=>re(Ue&&Hi.getOrCreate(Ue)),error:x,complete:w}}function Ql(E,x){const w=function ji(E,x){const w=Yi();if(!w)return[];const R=j.aF(qt,E,x);switch(w.getItem(R)){case ve.NONE:return[j.U];case ve.LOCAL:return[j.i,j.a];case ve.SESSION:return[j.a];default:return[]}}(E,x);if(typeof self<"u"&&!w.includes(j.i)&&w.push(j.i),typeof window<"u")for(const R of[j.b,j.a])w.includes(R)||w.push(R);return w.includes(j.U)||w.push(j.U),w}class ya{constructor(){this.providerId="phone",this._delegate=new j.P(Kt(ie.Z.auth()))}static credential(x,w){return j.P.credential(x,w)}verifyPhoneNumber(x,w){return this._delegate.verifyPhoneNumber(x,w)}unwrap(){return this._delegate}}ya.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,ya.PROVIDER_ID=j.P.PROVIDER_ID;const rl=j.aC;class _s{constructor(x,w,R=ie.Z.app()){var re;rl(null===(re=R.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new j.R(R.auth(),x,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function k(E){E.INTERNAL.registerComponent(new ui.wA("auth-compat",x=>{const w=x.getProvider("app-compat").getImmediate(),R=x.getProvider("auth");return new yr(w,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.V,FacebookAuthProvider:j.W,GithubAuthProvider:j.Y,GoogleAuthProvider:j.X,OAuthProvider:j.Z,SAMLAuthProvider:j._,PhoneAuthProvider:ya,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:_s,TwitterAuthProvider:j.$,Auth:yr,AuthCredential:j.L,Error:Ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.9")}(ie.Z)},861:(Xr,bi,rt)=>{function S(j,Ye,ft,$n,ui,xn,Xt){try{var ce=j[xn](Xt),we=ce.value}catch(We){return void ft(We)}ce.done?Ye(we):Promise.resolve(we).then($n,ui)}function ie(j){return function(){var Ye=this,ft=arguments;return new Promise(function($n,ui){var xn=j.apply(Ye,ft);function Xt(we){S(xn,$n,ui,Xt,ce,"next",we)}function ce(we){S(xn,$n,ui,Xt,ce,"throw",we)}Xt(void 0)})}}rt.d(bi,{Z:()=>ie})},582:(Xr,bi,rt)=>{function Ye(Q,ne){var H={};for(var Y in Q)Object.prototype.hasOwnProperty.call(Q,Y)&&ne.indexOf(Y)<0&&(H[Y]=Q[Y]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Y=Object.getOwnPropertySymbols(Q);fe<Y.length;fe++)ne.indexOf(Y[fe])<0&&Object.prototype.propertyIsEnumerable.call(Q,Y[fe])&&(H[Y[fe]]=Q[Y[fe]])}return H}function We(Q,ne,H,Y){return new(H||(H=Promise))(function(se,De){function kt(Jt){try{et(Y.next(Jt))}catch(Vn){De(Vn)}}function Ie(Jt){try{et(Y.throw(Jt))}catch(Vn){De(Vn)}}function et(Jt){Jt.done?se(Jt.value):function fe(se){return se instanceof H?se:new H(function(De){De(se)})}(Jt.value).then(kt,Ie)}et((Y=Y.apply(Q,ne||[])).next())})}function Rt(Q){return this instanceof Rt?(this.v=Q,this):new Rt(Q)}function $t(Q,ne,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Y=H.apply(Q,ne||[]),se=[];return fe={},De("next"),De("throw"),De("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function De(_n){Y[_n]&&(fe[_n]=function(Bn){return new Promise(function(di,z){se.push([_n,Bn,di,z])>1||kt(_n,Bn)})})}function kt(_n,Bn){try{!function Ie(_n){_n.value instanceof Rt?Promise.resolve(_n.value.v).then(et,Jt):Vn(se[0][2],_n)}(Y[_n](Bn))}catch(di){Vn(se[0][3],di)}}function et(_n){kt("next",_n)}function Jt(_n){kt("throw",_n)}function Vn(_n,Bn){_n(Bn),se.shift(),se.length&&kt(se[0][0],se[0][1])}}function Ei(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function zt(Q){var ne="function"==typeof Symbol&&Symbol.iterator,H=ne&&Q[ne],Y=0;if(H)return H.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Y>=Q.length&&(Q=void 0),{value:Q&&Q[Y++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),H={},Y("next"),Y("throw"),Y("return"),H[Symbol.asyncIterator]=function(){return this},H);function Y(se){H[se]=Q[se]&&function(De){return new Promise(function(kt,Ie){!function fe(se,De,kt,Ie){Promise.resolve(Ie).then(function(et){se({value:et,done:kt})},De)}(kt,Ie,(De=Q[se](De)).done,De.value)})}}}rt.d(bi,{FC:()=>$t,KL:()=>Ei,_T:()=>Ye,mG:()=>We,qq:()=>Rt}),"function"==typeof SuppressedError&&SuppressedError}},Xr=>{var bi=S=>Xr(Xr.s=S);bi(614),bi(247)}]);