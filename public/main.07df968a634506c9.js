"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(eo,wi,ct)=>{ct.d(wi,{$:()=>r0,A:()=>Ce,G:()=>on,K:()=>FI,L:()=>_l,N:()=>Eo,P:()=>ff,R:()=>S0,U:()=>Ue,V:()=>Eg,W:()=>qh,X:()=>jo,Y:()=>Rs,Z:()=>Co,_:()=>wl,a:()=>Ps,a0:()=>xg,a1:()=>Xh,a2:()=>kg,a3:()=>c0,a4:()=>jI,a5:()=>ur,a6:()=>Cl,a7:()=>l0,a8:()=>Zu,a9:()=>HI,aA:()=>Ot,aB:()=>$t,aC:()=>ve,aD:()=>Fs,aE:()=>ae,aF:()=>ht,aG:()=>sd,aH:()=>N0,aI:()=>Ml,aJ:()=>fi,aN:()=>Pi,aQ:()=>ea,aa:()=>Oe,ab:()=>ii,ac:()=>cs,ad:()=>xr,ae:()=>Tl,af:()=>xt,ag:()=>u0,ah:()=>Ni,ak:()=>Yu,al:()=>Pa,am:()=>ta,ap:()=>o0,aq:()=>Xu,as:()=>VF,at:()=>zF,au:()=>Sn,av:()=>et,aw:()=>q,ax:()=>Rt,ay:()=>Pl,az:()=>L0,b:()=>$I,c:()=>Fa,d:()=>M0,e:()=>r1,f:()=>s1,g:()=>fr,h:()=>cn,i:()=>uf,j:()=>Os,k:()=>q0,l:()=>e1,m:()=>g1,o:()=>e2,p:()=>Dn,r:()=>t1,s:()=>A0,u:()=>Hn});var S=ct(861),re=ct(58),z=ct(534),Je=ct(879),pt=ct(582),Wn=ct(537);const Dn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const on=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gn=function Ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Je.Yd("@firebase/auth");function qn(p,...d){_t.logLevel<=Je.in.ERROR&&_t.error(`Auth (${z.SDK_VERSION}): ${p}`,...d)}function Rt(p,...d){throw It(p,...d)}function $t(p,...d){return It(p,...d)}function wr(p,d,h){const g=Object.assign(Object.assign({},Gn()),{[d]:h});return new re.LL("auth","Firebase",g).create(d,{appName:p.name})}function Ci(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Rt(p,"argument-error"),wr(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(p,...d){if("string"!=typeof p){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return zt.create(p,...d)}function ve(p,d,...h){if(!p)throw It(d,...h)}function Gt(p){const d="INTERNAL ASSERTION FAILED: "+p;throw qn(d),new Error(d)}function Sn(p,d){p||Gt(d)}function ei(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Kn(){return"http:"===go()||"https:"===go()}function go(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Er{constructor(d,h){this.shortDelay=d,this.longDelay=h,Sn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function _o(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kn()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yo(p,d){Sn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Q{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=new Er(3e4,6e4);function Y(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function me(p,d,h,g){return de.apply(this,arguments)}function de(){return(de=(0,S.Z)(function*(p,d,h,g,v={}){return Se(p,v,(0,S.Z)(function*(){let x={},B={};g&&("GET"===d?B=g:x={body:JSON.stringify(g)});const J=(0,re.xO)(Object.assign({key:p.config.apiKey},B)).slice(1),ye=yield p._getAdditionalHeaders();return ye["Content-Type"]="application/json",p.languageCode&&(ye["X-Firebase-Locale"]=p.languageCode),Q.fetch()(Jt(p,p.config.apiHost,h,J),Object.assign({method:d,headers:ye,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Se(p,d,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,S.Z)(function*(p,d,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ie),d);try{const v=new vn(p),x=yield Promise.race([h(),v.promise]);v.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw Un(p,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const J=x.ok?B.errorMessage:B.error.message,[ye,He]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw Un(p,"credential-already-in-use",B);if("EMAIL_EXISTS"===ye)throw Un(p,"email-already-in-use",B);if("USER_DISABLED"===ye)throw Un(p,"user-disabled",B);const ut=g[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw wr(p,ut,He);Rt(p,ut)}}catch(v){if(v instanceof re.ZR)throw v;Rt(p,"network-request-failed",{message:String(v)})}})).apply(this,arguments)}function we(p,d,h,g){return it.apply(this,arguments)}function it(){return(it=(0,S.Z)(function*(p,d,h,g,v={}){const x=yield me(p,d,h,g,v);return"mfaPendingCredential"in x&&Rt(p,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Jt(p,d,h,g){const v=`${d}${h}?${g}`;return p.config.emulator?yo(p.config,v):`${p.config.apiScheme}://${v}`}function Bn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g($t(this.auth,"network-request-failed")),$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(p,d,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const v=$t(p,d,g);return v.customData._tokenResponse=h,v}function hi(p){return void 0!==p&&void 0!==p.getResponse}function G(p){return void 0!==p&&void 0!==p.enterprise}class H{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Bn(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function fe(){return(fe=(0,S.Z)(function*(p){return(yield me(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(p,d){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(p,d){return me(p,"GET","/v2/recaptchaConfig",Y(p,d))})).apply(this,arguments)}function qt(){return(qt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Rn(){return(Rn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $i(){return($i=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function tr(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Kt(){return(Kt=(0,S.Z)(function*(p,d=!1){const h=(0,re.m9)(p),g=yield h.getIdToken(d),v=bn(g);ve(v&&v.exp&&v.auth_time&&v.iat,h.auth,"internal-error");const x="object"==typeof v.firebase?v.firebase:void 0,B=x?.sign_in_provider;return{claims:v,token:g,authTime:tr(dn(v.auth_time)),issuedAtTime:tr(dn(v.iat)),expirationTime:tr(dn(v.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(p){return 1e3*Number(p)}function bn(p){const[d,h,g]=p.split(".");if(void 0===d||void 0===h||void 0===g)return qn("JWT malformed, contained fewer than 3 sections"),null;try{const v=(0,re.tV)(h);return v?JSON.parse(v):(qn("Failed to decode base64 JWT payload"),null)}catch(v){return qn("Caught error parsing JWT payload as JSON",v?.toString()),null}}function jn(p,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,S.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof re.ZR&&function ss({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class vo{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const v=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,v)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,S.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class as{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wi(p){return ki.apply(this,arguments)}function ki(){return ki=(0,S.Z)(function*(p){var d;const h=p.auth,g=yield p.getIdToken(),v=yield jn(p,function ti(p,d){return $i.apply(this,arguments)}(h,{idToken:g}));ve(v?.users.length,h,"internal-error");const x=v.users[0];p._notifyReloadListener(x);const B=null!==(d=x.providerUserInfo)&&void 0!==d&&d.length?function Da(p){return p.map(d=>{var{providerId:h}=d,g=(0,pt._T)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(x.providerUserInfo):[],J=function gl(p,d){return[...p.filter(g=>!d.some(v=>v.providerId===g.providerId)),...d]}(p.providerData,B),ut=!!p.isAnonymous&&!(p.email&&x.passwordHash||J?.length),tn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:J,metadata:new as(x.createdAt,x.lastLoginAt),isAnonymous:ut};Object.assign(p,tn)}),ki.apply(this,arguments)}function bo(){return(bo=(0,S.Z)(function*(p){const d=(0,re.m9)(p);yield Wi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function As(){return(As=(0,S.Z)(function*(p,d){const h=yield Se(p,{},(0,S.Z)(function*(){const g=(0,re.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:v,apiKey:x}=p.config,B=Jt(p,v,"/v1/token",`key=${x}`),J=yield p._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(B,{method:"POST",headers:J,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function P(){return(P=(0,S.Z)(function*(p,d){return me(p,"POST","/v2/accounts:revokeToken",Y(p,d))})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ve(d.idToken,"internal-error"),ve(typeof d.idToken<"u","internal-error"),ve(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function _c(p){const d=bn(p);return ve(d,"internal-error"),ve(typeof d.exp<"u","internal-error"),ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var g=this;return(0,S.Z)(function*(){return ve(!g.accessToken||g.refreshToken,d,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,S.Z)(function*(){const{accessToken:v,refreshToken:x,expiresIn:B}=yield function yc(p,d){return As.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(v,x,Number(B))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:v,expirationTime:x}=h,B=new C;return g&&(ve("string"==typeof g,"internal-error",{appName:d}),B.refreshToken=g),v&&(ve("string"==typeof v,"internal-error",{appName:d}),B.accessToken=v),x&&(ve("number"==typeof x,"internal-error",{appName:d}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function I(p,d){ve("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class w{constructor(d){var{uid:h,auth:g,stsTokenManager:v}=d,x=(0,pt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=v,this.accessToken=v.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new as(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,S.Z)(function*(){const g=yield jn(h,h.stsTokenManager.getToken(h.auth,d));return ve(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function Tn(p){return Kt.apply(this,arguments)}(this,d)}reload(){return function Cr(p){return bo.apply(this,arguments)}(this)}_assign(d){this!==d&&(ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new w(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,S.Z)(function*(){let v=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),v=!0),h&&(yield Wi(g)),yield g.auth._persistUserIfCurrent(g),v&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,S.Z)(function*(){const h=yield d.getIdToken();return yield jn(d,function An(p,d){return qt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,v,x,B,J,ye,He,ut;const tn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Hr=null!==(v=h.email)&&void 0!==v?v:void 0,ra=null!==(x=h.phoneNumber)&&void 0!==x?x:void 0,dd=null!==(B=h.photoURL)&&void 0!==B?B:void 0,Z0=null!==(J=h.tenantId)&&void 0!==J?J:void 0,Ll=null!==(ye=h._redirectEventId)&&void 0!==ye?ye:void 0,Va=null!==(He=h.createdAt)&&void 0!==He?He:void 0,Y0=null!==(ut=h.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:Df,emailVerified:l_,isAnonymous:Vl,providerData:u_,stsTokenManager:Dr}=h;ve(Df&&Dr,d,"internal-error");const b1=C.fromJSON(this.name,Dr);ve("string"==typeof Df,d,"internal-error"),I(tn,d.name),I(Hr,d.name),ve("boolean"==typeof l_,d,"internal-error"),ve("boolean"==typeof Vl,d,"internal-error"),I(ra,d.name),I(dd,d.name),I(Z0,d.name),I(Ll,d.name),I(Va,d.name),I(Y0,d.name);const Mt=new w({uid:Df,auth:d,email:Hr,emailVerified:l_,displayName:tn,isAnonymous:Vl,photoURL:dd,phoneNumber:ra,tenantId:Z0,stsTokenManager:b1,createdAt:Va,lastLoginAt:Y0});return u_&&Array.isArray(u_)&&(Mt.providerData=u_.map(d_=>Object.assign({},d_))),Ll&&(Mt._redirectEventId=Ll),Mt}static _fromIdTokenResponse(d,h,g=!1){return(0,S.Z)(function*(){const v=new C;v.updateFromServerResponse(h);const x=new w({uid:h.localId,auth:d,stsTokenManager:v,isAnonymous:g});return yield Wi(x),x})()}}const k=new Map;function ae(p){Sn(p instanceof Function,"Expected a class definition");let d=k.get(p);return d?(Sn(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,k.set(p,d),d)}const Ue=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,g){var v=this;return(0,S.Z)(function*(){v.storage[h]=g})()}_get(h){var g=this;return(0,S.Z)(function*(){const v=g.storage[h];return void 0===v?null:v})()}_remove(h){var g=this;return(0,S.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function ht(p,d,h){return`firebase:${p}:${d}:${h}`}class an{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:v,name:x}=this.auth;this.fullUserKey=ht(this.userKey,v.apiKey,x),this.fullPersistenceKey=ht("persistence",v.apiKey,x),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?w._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,S.Z)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,S.Z)(function*(){if(!h.length)return new an(ae(Ue),d,g);const v=(yield Promise.all(h.map(function(){var He=(0,S.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return He.apply(this,arguments)}}()))).filter(He=>He);let x=v[0]||ae(Ue);const B=ht(g,d.config.apiKey,d.name);let J=null;for(const He of h)try{const ut=yield He._get(B);if(ut){const tn=w._fromJSON(d,ut);He!==x&&(J=tn),x=He;break}}catch{}const ye=v.filter(He=>He._shouldAllowMigration);return x._shouldAllowMigration&&ye.length?(x=ye[0],J&&(yield x._set(B,J.toJSON())),yield Promise.all(h.map(function(){var He=(0,S.Z)(function*(ut){if(ut!==x)try{yield ut._remove(B)}catch{}});return function(ut){return He.apply(this,arguments)}}())),new an(x,d,g)):new an(x,d,g)})()}}function Ne(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(vc(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(kn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(U(d))return"Blackberry";if(Ee(d))return"Webos";if(tt(d))return"Safari";if((d.includes("chrome/")||nr(d))&&!d.includes("edge/"))return"Chrome";if(q(d))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function kn(p=(0,re.z$)()){return/firefox\//i.test(p)}function tt(p=(0,re.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function nr(p=(0,re.z$)()){return/crios\//i.test(p)}function vc(p=(0,re.z$)()){return/iemobile/i.test(p)}function q(p=(0,re.z$)()){return/android/i.test(p)}function U(p=(0,re.z$)()){return/blackberry/i.test(p)}function Ee(p=(0,re.z$)()){return/webos/i.test(p)}function et(p=(0,re.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Ot(p=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Mi(p=(0,re.z$)()){return et(p)||q(p)||Ee(p)||U(p)||/windows phone/i.test(p)||vc(p)}function Wt(p,d=[]){let h;switch(p){case"Browser":h=Ne((0,re.z$)());break;case"Worker":h=`${Ne((0,re.z$)())}-${p}`;break;default:h=p}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${z.SDK_VERSION}/${g}`}class Wu{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=x=>new Promise((B,J)=>{try{B(d(x))}catch(ye){J(ye)}});g.onAbort=h,this.queue.push(g);const v=this.queue.length-1;return()=>{this.queue[v]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const v of h.queue)yield v(d),v.onAbort&&g.push(v.onAbort)}catch(v){g.reverse();for(const x of g)try{x()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:v?.message})}})()}}function ug(){return(ug=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v2/passwordPolicy",Y(p,d))})).apply(this,arguments)}class wo{constructor(d){var h,g,v,x;const B=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=B.minPasswordLength)&&void 0!==h?h:6,B.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=B.maxPasswordLength),void 0!==B.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=B.containsLowercaseCharacter),void 0!==B.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=B.containsUppercaseCharacter),void 0!==B.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=B.containsNumericCharacter),void 0!==B.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=B.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(v=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==v?v:"",this.forceUpgradeOnSignin=null!==(x=d.forceUpgradeOnSignin)&&void 0!==x&&x,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,v,x,B,J;const ye={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,ye),this.validatePasswordCharacterOptions(d,ye),ye.isValid&&(ye.isValid=null===(h=ye.meetsMinPasswordLength)||void 0===h||h),ye.isValid&&(ye.isValid=null===(g=ye.meetsMaxPasswordLength)||void 0===g||g),ye.isValid&&(ye.isValid=null===(v=ye.containsLowercaseLetter)||void 0===v||v),ye.isValid&&(ye.isValid=null===(x=ye.containsUppercaseLetter)||void 0===x||x),ye.isValid&&(ye.isValid=null===(B=ye.containsNumericCharacter)||void 0===B||B),ye.isValid&&(ye.isValid=null===(J=ye.containsNonAlphanumericCharacter)||void 0===J||J),ye}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,v=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),v&&(h.meetsMaxPasswordLength=d.length<=v)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let v=0;v<d.length;v++)g=d.charAt(v),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,v,x){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=v)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=x))}}class AF{constructor(d,h,g,v){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MI(this),this.idTokenSubscription=new MI(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=ae(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var v,x;if(!g._deleted&&(g.persistenceManager=yield an.create(g,d),!g._deleted)){if(null!==(v=g._popupRedirectResolver)&&void 0!==v&&v._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(x=g.currentUser)||void 0===x?void 0:x.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,S.Z)(function*(){var g;const v=yield h.assertedPersistence.getCurrentUser();let x=v,B=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,ye=x?._redirectEventId,He=yield h.tryRedirectSignIn(d);(!J||J===ye)&&He?.user&&(x=He.user,B=!0)}if(!x)return h.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield h.beforeStateQueue.runMiddleware(x)}catch(J){x=v,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(J))}return x?h.reloadAndSetCurrentUserOrClear(x):h.directlySetCurrentUser(null)}return ve(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===x._redirectEventId?h.directlySetCurrentUser(x):h.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(d){var h=this;return(0,S.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,S.Z)(function*(){try{yield Wi(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,S.Z)(function*(){const g=d?(0,re.m9)(d):null;return g&&ve(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,S.Z)(function*(){if(!g._deleted)return d&&ve(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,S.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(ae(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,S.Z)(function*(){const h=yield function SF(p){return ug.apply(this,arguments)}(d),g=new wo(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new re.LL("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),v={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(v.tenantId=h.tenantId),yield function F(p,d){return P.apply(this,arguments)}(h,v)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,S.Z)(function*(){const v=yield g.getOrInitRedirectPersistenceManager(h);return null===d?v.removeCurrentUser():v.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const g=d&&ae(d)||h._popupRedirectResolver;ve(g,h,"argument-error"),h.redirectPersistenceManager=yield an.create(h,[ae(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,S.Z)(function*(){var g,v;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,S.Z)(function*(){if(d===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,v){if(this._deleted)return()=>{};const x="function"==typeof h?h:h.next.bind(h);let B=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(J,this,"internal-error"),J.then(()=>{B||x(this.currentUser)}),"function"==typeof h){const ye=d.addObserver(h,g,v);return()=>{B=!0,ye()}}{const ye=d.addObserver(h);return()=>{B=!0,ye()}}}directlySetCurrentUser(d){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const v=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();v&&(g["X-Firebase-Client"]=v);const x=yield d._getAppCheckToken();return x&&(g["X-Firebase-AppCheck"]=x),g})()}_getAppCheckToken(){var d=this;return(0,S.Z)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function Ei(p,...d){_t.logLevel<=Je.in.WARN&&_t.warn(`Auth (${z.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function fi(p){return(0,re.m9)(p)}class MI{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,re.ne)(h=>this.observer=h)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kb(p){return new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=d,g.onerror=v=>{const x=$t("internal-error");x.customData=v,h(x)},g.type="text/javascript",g.charset="UTF-8",function bc(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(g)})}function NI(p){return`__${p}${Math.floor(1e6*Math.random())}`}class OI{constructor(d){this.type="recaptcha-enterprise",this.auth=fi(d)}verify(d="verify",h=!1){var g=this;return(0,S.Z)(function*(){function x(){return x=(0,S.Z)(function*(J){if(!h){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var ye=(0,S.Z)(function*(He,ut){Ae(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Hr=new H(tn);return null==J.tenantId?J._agentRecaptchaConfig=Hr:J._tenantRecaptchaConfigs[J.tenantId]=Hr,He(Hr.siteKey)}ut(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{ut(tn)})});return function(He,ut){return ye.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(J,ye,He){const ut=window.grecaptcha;G(ut)?ut.enterprise.ready(()=>{ut.enterprise.execute(J,{action:d}).then(tn=>{ye(tn)}).catch(()=>{ye("NO_RECAPTCHA")})}):He(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,ye)=>{(function v(J){return x.apply(this,arguments)})(g.auth).then(He=>{if(!h&&G(window.grecaptcha))B(He,J,ye);else{if(typeof window>"u")return void ye(new Error("RecaptchaVerifier is only supported in browser"));Kb("https://www.google.com/recaptcha/enterprise.js?render="+He).then(()=>{B(He,J,ye)}).catch(ut=>{ye(ut)})}}).catch(He=>{ye(He)})})})()}}function Zb(p,d,h){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,S.Z)(function*(p,d,h,g=!1){const v=new OI(p);let x;try{x=yield v.verify(h)}catch{x=yield v.verify(h,!0)}const B=Object.assign({},d);return Object.assign(B,g?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}function Tr(p,d,h,g){return mt.apply(this,arguments)}function mt(){return mt=(0,S.Z)(function*(p,d,h,g){var v;if(null!==(v=p._getRecaptchaConfig())&&void 0!==v&&v.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const x=yield Zb(p,d,h,"getOobCode"===h);return g(p,x)}return g(p,d).catch(function(){var x=(0,S.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield Zb(p,d,h,"getOobCode"===h);return g(p,J)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}())}),mt.apply(this,arguments)}function FI(p,d,h){const g=fi(p);ve(g._canInitEmulator,g,"emulator-config-failed"),ve(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const v=!!h?.disableWarnings,x=Ke(d),{host:B,port:J}=function Vh(p){const d=Ke(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",v=/^(\[[^\]]+\])(:|$)/.exec(g);if(v){const x=v[1];return{host:x,port:Xb(g.substr(x.length+1))}}{const[x,B]=g.split(":");return{host:x,port:Xb(B)}}}(d);g.config.emulator={url:`${x}//${B}${null===J?"":`:${J}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:B,port:J,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:v})}),v||function Jb(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Ke(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function Xb(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class _l{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Gt("not implemented")}_getIdTokenResponse(d){return Gt("not implemented")}_linkToIdToken(d,h){return Gt("not implemented")}_getReauthenticationResolver(d){return Gt("not implemented")}}function Gu(p,d){return yl.apply(this,arguments)}function yl(){return(yl=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:resetPassword",Y(p,d))})).apply(this,arguments)}function Bh(){return(Bh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function LI(p,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Uh(){return(Uh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",Y(p,d))})).apply(this,arguments)}function to(p,d){return jh.apply(this,arguments)}function jh(){return(jh=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPassword",Y(p,d))})).apply(this,arguments)}function pg(p,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendOobCode",Y(p,d))})).apply(this,arguments)}function e0(){return(e0=(0,S.Z)(function*(p,d){return pg(p,d)})).apply(this,arguments)}function oe(p,d){return qu.apply(this,arguments)}function qu(){return(qu=(0,S.Z)(function*(p,d){return pg(p,d)})).apply(this,arguments)}function mg(p,d){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,S.Z)(function*(p,d){return pg(p,d)})).apply(this,arguments)}function _g(){return(_g=(0,S.Z)(function*(p,d){return pg(p,d)})).apply(this,arguments)}function t0(){return(t0=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}function n0(){return(n0=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}class zh extends _l{constructor(d,h,g,v=null){super("password",g),this._email=d,this._password=h,this._tenantId=v}static _fromEmailAndPassword(d,h){return new zh(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new zh(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return Tr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function yg(p,d){return t0.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,S.Z)(function*(){switch(g.signInMethod){case"password":return Tr(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LI);case"emailLink":return function OF(p,d){return n0.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Sa(p,d){return wc.apply(this,arguments)}function wc(){return(wc=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithIdp",Y(p,d))})).apply(this,arguments)}class Eo extends _l{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new Eo(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Rt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:v}=h,x=(0,pt._T)(h,["providerId","signInMethod"]);if(!g||!v)return null;const B=new Eo(g,v);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(d){return Sa(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,Sa(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Sa(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,re.xO)(h)}return d}}function bg(){return(bg=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendVerificationCode",Y(p,d))})).apply(this,arguments)}function $h(){return($h=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d))})).apply(this,arguments)}function wg(){return(wg=(0,S.Z)(function*(p,d){const h=yield we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d));if(h.temporaryProof)throw Un(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Aa={USER_NOT_FOUND:"user-not-found"};function O(){return(O=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Aa)})).apply(this,arguments)}class Ra extends _l{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Ra({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Ra({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function BI(p,d){return $h.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function vl(p,d){return wg.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function UI(p,d){return O.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:v}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:v}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:v,temporaryProof:x}=d;return g||h||v||x?new Ra({verificationId:h,verificationCode:g,phoneNumber:v,temporaryProof:x}):null}}class Ec{constructor(d){var h,g,v,x,B,J;const ye=(0,re.zd)((0,re.pd)(d)),He=null!==(h=ye.apiKey)&&void 0!==h?h:null,ut=null!==(g=ye.oobCode)&&void 0!==g?g:null,tn=function Te(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(v=ye.mode)&&void 0!==v?v:null);ve(He&&ut&&tn,"argument-error"),this.apiKey=He,this.operation=tn,this.code=ut,this.continueUrl=null!==(x=ye.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=ye.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(J=ye.tenantId)&&void 0!==J?J:null}static parseLink(d){const h=function Wh(p){const d=(0,re.zd)((0,re.pd)(p)).link,h=d?(0,re.zd)((0,re.pd)(d)).deep_link_id:null,g=(0,re.zd)((0,re.pd)(p)).deep_link_id;return(g?(0,re.zd)((0,re.pd)(g)).link:null)||g||h||d||p}(d);try{return new Ec(h)}catch{return null}}}let Eg=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return zh._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const v=Ec.parseLink(g);return ve(v,"argument-error"),zh._fromEmailAndCode(h,v.code,v.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Js{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class bl extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Co extends bl{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ve("providerId"in h&&"signInMethod"in h,"argument-error"),Eo._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ve(d.idToken||d.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Co.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Co.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:v,pendingToken:x,nonce:B,providerId:J}=d;if(!g&&!v&&!h&&!x||!J)return null;try{return new Co(J)._credential({idToken:h,accessToken:g,nonce:B,pendingToken:x})}catch{return null}}}let qh=(()=>{class p extends bl{constructor(){super("facebook.com")}static credential(h){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),jo=(()=>{class p extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v}=h;if(!g&&!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Rs=(()=>{class p extends bl{constructor(){super("github.com")}static credential(h){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class ea extends _l{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return Sa(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,Sa(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,Sa(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:v,pendingToken:x}=h;return g&&v&&x&&g===v?new ea(g,x):null}static _create(d,h){return new ea(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wl extends Js{constructor(d){ve(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return wl.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return wl.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=ea.fromJSON(d);return ve(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return ea._create(g,h)}catch{return null}}}let r0=(()=>{class p extends bl{constructor(){super("twitter.com")}static credential(h,g){return Eo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:v}=h;if(!g||!v)return null;try{return p.credential(g,v)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function ks(p,d){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signUp",Y(p,d))})).apply(this,arguments)}class To{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,v=!1){return(0,S.Z)(function*(){const x=yield w._fromIdTokenResponse(d,g,v),B=Tg(g);return new To({user:x,providerId:B,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(g,!0);const v=Tg(g);return new To({user:d,providerId:v,_tokenResponse:g,operationType:h})})()}}function Tg(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function xg(p){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,S.Z)(function*(p){var d;const h=fi(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new To({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield ks(h,{returnSecureToken:!0}),v=yield To._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(v.user),v})).apply(this,arguments)}class Ku extends re.ZR{constructor(d,h,g,v){var x;super(h.code,h.message),this.operationType=g,this.user=v,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:d.name,tenantId:null!==(x=d.tenantId)&&void 0!==x?x:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,v){return new Ku(d,h,g,v)}}function El(p,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ku._fromErrorAndOperation(p,x,d,g):x})}function Ig(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function o0(p,d){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p);yield Yh(!0,h,d);const{providerUserInfo:g}=yield function Bt(p,d){return Rn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),v=Ig(g||[]);return h.providerData=h.providerData.filter(x=>v.has(x.providerId)),v.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Dg.apply(this,arguments)}function Zh(p,d){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,S.Z)(function*(p,d,h=!1){const g=yield jn(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return To._forOperation(p,"link",g)})).apply(this,arguments)}function Yh(p,d,h){return xo.apply(this,arguments)}function xo(){return(xo=(0,S.Z)(function*(p,d,h){yield Wi(d);const v=!1===p?"provider-already-linked":"no-such-provider";ve(Ig(d.providerData).has(h)===p,d.auth,v)})).apply(this,arguments)}function s0(p,d){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,S.Z)(function*(p,d,h=!1){const{auth:g}=p,v="reauthenticate";try{const x=yield jn(p,El(g,v,d,p),h);ve(x.idToken,g,"internal-error");const B=bn(x.idToken);ve(B,g,"internal-error");const{sub:J}=B;return ve(p.uid===J,g,"user-mismatch"),To._forOperation(p,v,x)}catch(x){throw"auth/user-not-found"===x?.code&&Rt(g,"user-mismatch"),x}})).apply(this,arguments)}function a0(p,d){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,S.Z)(function*(p,d,h=!1){const g="signIn",v=yield El(p,g,d),x=yield To._fromIdTokenResponse(p,g,v);return h||(yield p._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Xh(p,d){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,S.Z)(function*(p,d){return a0(fi(p),d)})).apply(this,arguments)}function kg(p,d){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p);return yield Yh(!1,h,d.providerId),Zh(h,d)})).apply(this,arguments)}function c0(p,d){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,S.Z)(function*(p,d){return s0((0,re.m9)(p),d)})).apply(this,arguments)}function Pg(){return(Pg=(0,S.Z)(function*(p,d){return we(p,"POST","/v1/accounts:signInWithCustomToken",Y(p,d))})).apply(this,arguments)}function jI(p,d){return Og.apply(this,arguments)}function Og(){return Og=(0,S.Z)(function*(p,d){const h=fi(p),g=yield function yt(p,d){return Pg.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),v=yield To._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(v.user),v}),Og.apply(this,arguments)}class $e{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?Fg._fromServerResponse(d,h):"totpInfo"in h?Jh._fromServerResponse(d,h):Rt(d,"internal-error")}}class Fg extends $e{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new Fg(h)}}class Jh extends $e{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new Jh(h)}}function X(p,d,h){var g;ve((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ve(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ve(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ve(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function Gi(p){return en.apply(this,arguments)}function en(){return(en=(0,S.Z)(function*(p){const d=fi(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function ur(p,d,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,S.Z)(function*(p,d,h){const g=fi(p),v={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&X(g,v,h),yield Tr(g,v,"getOobCode",oe)})).apply(this,arguments)}function Cl(p,d,h){return Br.apply(this,arguments)}function Br(){return Br=(0,S.Z)(function*(p,d,h){yield Gu((0,re.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var g=(0,S.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Gi(p),v});return function(v){return g.apply(this,arguments)}}())}),Br.apply(this,arguments)}function l0(p,d){return ef.apply(this,arguments)}function ef(){return ef=(0,S.Z)(function*(p,d){yield function fg(p,d){return Uh.apply(this,arguments)}((0,re.m9)(p),{oobCode:d})}),ef.apply(this,arguments)}function Zu(p,d){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p),g=yield Gu(h,{oobCode:d}),v=g.requestType;switch(ve(v,h,"internal-error"),v){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(g.mfaInfo,h,"internal-error");default:ve(g.email,h,"internal-error")}let x=null;return g.mfaInfo&&(x=$e._fromServerResponse(fi(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:x},operation:v}})).apply(this,arguments)}function HI(p,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,S.Z)(function*(p,d){const{data:h}=yield Zu((0,re.m9)(p),d);return h.email})).apply(this,arguments)}function Oe(p,d,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,S.Z)(function*(p,d,h){const g=fi(p),B=yield Tr(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ks).catch(ye=>{throw"auth/password-does-not-meet-requirements"===ye.code&&Gi(p),ye}),J=yield To._fromIdTokenResponse(g,"signIn",B);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}function ii(p,d,h){return Xh((0,re.m9)(p),Eg.credential(d,h)).catch(function(){var g=(0,S.Z)(function*(v){throw"auth/password-does-not-meet-requirements"===v.code&&Gi(p),v});return function(v){return g.apply(this,arguments)}}())}function cs(p,d,h){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,S.Z)(function*(p,d,h){const g=fi(p),v={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function x(B,J){ve(J.handleCodeInApp,g,"argument-error"),J&&X(g,B,J)})(v,h),yield Tr(g,v,"getOobCode",mg)})).apply(this,arguments)}function xr(p,d){const h=Ec.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function Tl(p,d,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),v=Eg.credentialWithLink(d,h||ei());return ve(v._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Xh(g,v)})).apply(this,arguments)}function Ma(){return(Ma=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:createAuthUri",Y(p,d))})).apply(this,arguments)}function xt(p,d){return xc.apply(this,arguments)}function xc(){return xc=(0,S.Z)(function*(p,d){const g={identifier:d,continueUri:Kn()?ei():"http://localhost"},{signinMethods:v}=yield function ka(p,d){return Ma.apply(this,arguments)}((0,re.m9)(p),g);return v||[]}),xc.apply(this,arguments)}function u0(p,d){return Na.apply(this,arguments)}function Na(){return Na=(0,S.Z)(function*(p,d){const h=(0,re.m9)(p),v={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&X(h.auth,v,d);const{email:x}=yield function PF(p,d){return e0.apply(this,arguments)}(h.auth,v);x!==p.email&&(yield p.reload())}),Na.apply(this,arguments)}function Ni(p,d,h){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&X(g.auth,x,h);const{email:B}=yield function gg(p,d){return _g.apply(this,arguments)}(g.auth,x);B!==p.email&&(yield p.reload())}),Ic.apply(this,arguments)}function Ho(){return(Ho=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Yu(p,d){return tf.apply(this,arguments)}function tf(){return tf=(0,S.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,re.m9)(p),x={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},B=yield jn(g,function xl(p,d){return Ho.apply(this,arguments)}(g.auth,x));g.displayName=B.displayName||null,g.photoURL=B.photoUrl||null;const J=g.providerData.find(({providerId:ye})=>"password"===ye);J&&(J.displayName=g.displayName,J.photoURL=g.photoURL),yield g._updateTokensIfNecessary(B)}),tf.apply(this,arguments)}function Pa(p,d){return Il((0,re.m9)(p),d,null)}function ta(p,d){return Il((0,re.m9)(p),null,d)}function Il(p,d,h){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,S.Z)(function*(p,d,h){const{auth:g}=p,x={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(x.email=d),h&&(x.password=h);const B=yield jn(p,function hg(p,d){return Bh.apply(this,arguments)}(g,x));yield p._updateTokensIfNecessary(B,!0)}),Dc.apply(this,arguments)}class Qu{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class nf extends Qu{constructor(d,h,g,v){super(d,h,g),this.username=v}}class d0 extends Qu{constructor(d,h){super(d,"facebook.com",h)}}class Ms extends nf{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class rf extends Qu{constructor(d,h){super(d,"google.com",h)}}class Dl extends nf{constructor(d,h,g){super(d,"twitter.com",h,g)}}function Xu(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Zt(p){var d,h;if(!p)return null;const{providerId:g}=p,v=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},x=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const B=null===(h=null===(d=bn(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(B)return new Qu(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!g)return null;switch(g){case"facebook.com":return new d0(x,v);case"github.com":return new Ms(x,v);case"google.com":return new rf(x,v);case"twitter.com":return new Dl(x,v,p.screenName||null);case"custom":case"anonymous":return new Qu(x,null);default:return new Qu(x,g,v)}}(h)}class Ac{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new Ac("enroll",d,h)}static _fromMfaPendingCredential(d){return new Ac("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Ac._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return Ac._fromIdtoken(d.multiFactorSession.idToken)}return null}}class f0{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=fi(d),v=h.customData._serverResponse,x=(v.mfaInfo||[]).map(J=>$e._fromServerResponse(g,J));ve(v.mfaPendingCredential,g,"internal-error");const B=Ac._fromMfaPendingCredential(v.mfaPendingCredential);return new f0(B,x,function(){var J=(0,S.Z)(function*(ye){const He=yield ye._process(g,B);delete v.mfaInfo,delete v.mfaPendingCredential;const ut=Object.assign(Object.assign({},v),{idToken:He.idToken,refreshToken:He.refreshToken});switch(h.operationType){case"signIn":const tn=yield To._fromIdTokenResponse(g,h.operationType,ut);return yield g._updateCurrentUser(tn.user),tn;case"reauthenticate":return ve(h.user,g,"internal-error"),To._forOperation(h.user,h.operationType,ut);default:Rt(g,"internal-error")}});return function(ye){return J.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,S.Z)(function*(){return h.signInResolver(d)})()}}function VF(p,d){var h;const g=(0,re.m9)(p),v=d;return ve(d.customData.operationType,g,"argument-error"),ve(null===(h=v.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),f0._fromError(g,v)}class p0{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>$e._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new p0(d)}getSession(){var d=this;return(0,S.Z)(function*(){return Ac._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,S.Z)(function*(){const v=d,x=yield g.getSession(),B=yield jn(g.user,v._process(g.user.auth,x,h));return yield g.user._updateTokensIfNecessary(B),g.user.reload()})()}unenroll(d){var h=this;return(0,S.Z)(function*(){const g="string"==typeof d?d:d.uid,v=yield h.user.getIdToken();try{const x=yield jn(h.user,function HF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(p,d))}(h.user.auth,{idToken:v,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:B})=>B!==g),yield h.user._updateTokensIfNecessary(x),yield h.user.reload()}catch(x){throw x}})()}}const m0=new WeakMap;function zF(p){const d=(0,re.m9)(p);return m0.has(d)||m0.set(d,p0._fromUser(d)),m0.get(d)}const jg="__sak";class zI{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(jg,"1"),this.storage.removeItem(jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const $I=(()=>{class p extends zI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function g0(){const p=(0,re.z$)();return tt(p)||et(p)}()&&function Ze(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const v=this.storage.getItem(g),x=this.localCache[g];v!==x&&h(g,x,v)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((J,ye,He)=>{this.notifyListeners(J,He)});const v=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(v);if(h.newValue!==J)null!==h.newValue?this.storage.setItem(v,h.newValue):this.storage.removeItem(v);else if(this.localCache[v]===h.newValue&&!g)return}const x=()=>{const J=this.storage.getItem(v);!g&&this.localCache[v]===J||this.notifyListeners(v,J)},B=this.storage.getItem(v);!function K(){return(0,re.w1)()&&10===document.documentMode}()||B===h.newValue||h.newValue===h.oldValue?x():setTimeout(x,10)}notifyListeners(h,g){this.localCache[h]=g;const v=this.listeners[h];if(v)for(const x of Array.from(v))x(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,v)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:v}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var v=()=>super._set,x=this;return(0,S.Z)(function*(){yield v().call(x,h,g),x.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,v=this;return(0,S.Z)(function*(){const x=yield g().call(v,h);return v.localCache[h]=JSON.stringify(x),x})()}_remove(h){var g=()=>super._remove,v=this;return(0,S.Z)(function*(){yield g().call(v,h),delete v.localCache[h]})()}}return p.type="LOCAL",p})(),Ps=(()=>{class p extends zI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let GF=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(x=>x.isListeningto(h));if(g)return g;const v=new p(h);return this.receivers.push(v),v}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,S.Z)(function*(){const v=h,{eventId:x,eventType:B,data:J}=v.data,ye=g.handlersMap[B];if(!ye?.size)return;v.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const He=Array.from(ye).map(function(){var tn=(0,S.Z)(function*(Hr){return Hr(v.origin,J)});return function(Hr){return tn.apply(this,arguments)}}()),ut=yield function WF(p){return Promise.all(p.map(function(){var d=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(He);v.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:ut})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Pi(p="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return p+h}class sf{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var v=this;return(0,S.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,J;return new Promise((ye,He)=>{const ut=Pi("",20);x.port1.start();const tn=setTimeout(()=>{He(new Error("unsupported_event"))},g);J={messageChannel:x,onMessage(Hr){const ra=Hr;if(ra.data.eventId===ut)switch(ra.data.status){case"ack":clearTimeout(tn),B=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),ye(ra.data.response);break;default:clearTimeout(tn),clearTimeout(B),He(new Error("invalid_response"))}}},v.handlers.add(J),x.port1.addEventListener("message",J.onMessage),v.target.postMessage({eventType:d,eventId:ut,data:h},[x.port2])}).finally(()=>{J&&v.removeMessageHandler(J)})})()}}function wn(){return window}function af(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function cf(){return(cf=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lf="firebaseLocalStorageDb",Ju="firebaseLocalStorage",$g="fbase_key";class Al{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Rc(p,d){return p.transaction([Ju],d?"readwrite":"readonly").objectStore(Ju)}function Oa(){const p=indexedDB.open(lf,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Ju,{keyPath:$g})}catch(v){h(v)}}),p.addEventListener("success",(0,S.Z)(function*(){const g=p.result;g.objectStoreNames.contains(Ju)?d(g):(g.close(),yield function ed(){const p=indexedDB.deleteDatabase(lf);return new Al(p).toPromise()}(),d(yield Oa()))}))})}function Wg(p,d,h){return w0.apply(this,arguments)}function w0(){return(w0=(0,S.Z)(function*(p,d,h){const g=Rc(p,!0).put({[$g]:d,value:h});return new Al(g).toPromise()})).apply(this,arguments)}function E0(){return(E0=(0,S.Z)(function*(p,d){const h=Rc(p,!1).get(d),g=yield new Al(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function C0(p,d){const h=Rc(p,!0).delete(d);return new Al(h).toPromise()}const uf=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield Oa()),h.db})()}_withRetries(h){var g=this;return(0,S.Z)(function*(){let v=0;for(;;)try{const x=yield g._openDb();return yield h(x)}catch(x){if(v++>3)throw x;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return af()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=GF._getInstance(function b0(){return af()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,S.Z)(function*(v,x){return{keyProcessed:(yield h._poll()).includes(x.key)}});return function(v,x){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,S.Z)(function*(v,x){return["keyChanged"]});return function(v,x){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var g,v;if(h.activeServiceWorker=yield function v0(){return cf.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new sf(h.activeServiceWorker);const x=yield h.sender._send("ping",{},800);x&&null!==(g=x[0])&&void 0!==g&&g.fulfilled&&null!==(v=x[0])&&void 0!==v&&v.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,S.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Hg(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Oa();return yield Wg(h,jg,"1"),yield C0(h,jg),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,S.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var v=this;return(0,S.Z)(function*(){return v._withPendingWrite((0,S.Z)(function*(){return yield v._withRetries(x=>Wg(x,h,g)),v.localCache[h]=g,v.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,S.Z)(function*(){const v=yield g._withRetries(x=>function qF(p,d){return E0.apply(this,arguments)}(x,h));return g.localCache[h]=v,v})()}_remove(h){var g=this;return(0,S.Z)(function*(){return g._withPendingWrite((0,S.Z)(function*(){return yield g._withRetries(v=>C0(v,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const g=yield h._withRetries(B=>{const J=Rc(B,!1).getAll();return new Al(J).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const v=[],x=new Set;for(const{fbase_key:B,value:J}of g)x.add(B),JSON.stringify(h.localCache[B])!==JSON.stringify(J)&&(h.notifyListeners(B,J),v.push(B));for(const B of Object.keys(h.localCache))h.localCache[B]&&!x.has(B)&&(h.notifyListeners(B,null),v.push(B));return v})()}notifyListeners(h,g){this.localCache[h]=g;const v=this.listeners[h];if(v)for(const x of Array.from(v))x(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),td=1e12;class T0{constructor(d){this.auth=d,this.counter=td,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new ZI(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||td;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||td))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,S.Z)(function*(){var g;return null===(g=h._widgets.get(d||td))||void 0===g||g.execute(),""})()}}class ZI{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const v="string"==typeof d?document.getElementById(d):d;ve(v,"argument-error",{appName:h}),this.container=v,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function YI(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qg=NI("rcb"),x0=new Er(3e4,6e4);class I0{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=wn().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ve(function XI(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&hi(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((g,v)=>{const x=wn().setTimeout(()=>{v($t(d,"network-request-failed"))},x0.get());wn()[qg]=()=>{wn().clearTimeout(x),delete wn()[qg];const J=wn().grecaptcha;if(!J||!hi(J))return void v($t(d,"internal-error"));const ye=J.render;J.render=(He,ut)=>{const tn=ye(He,ut);return this.counter++,tn},this.hostLanguage=h,g(J)},Kb(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:qg,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(x),v($t(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=wn().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class QF{load(d){return(0,S.Z)(function*(){return new T0(d)})()}clearedOneInstance(){}}const D0="recaptcha",Yn={theme:"light",type:"image"};class S0{constructor(d,h,g=Object.assign({},Yn)){this.parameters=g,this.type=D0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(d),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const v="string"==typeof h?document.getElementById(h):h;ve(v,this.auth,"argument-error"),this.container=v,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QF:new I0,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(x=>{const B=J=>{J&&(d.tokenChangeListeners.delete(B),x(J))};d.tokenChangeListeners.add(B),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=wn()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){ve(Kn()&&!af(),d.auth,"internal-error"),yield function JI(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ee(p){return fe.apply(this,arguments)}(d.auth);ve(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kg{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Ra._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function A0(p,d,h){return df.apply(this,arguments)}function df(){return(df=(0,S.Z)(function*(p,d,h){const g=fi(p),v=yield id(g,d,(0,re.m9)(h));return new Kg(v,x=>Xh(g,x))})).apply(this,arguments)}function e1(p,d,h){return nd.apply(this,arguments)}function nd(){return(nd=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);yield Yh(!1,g,"phone");const v=yield id(g.auth,d,(0,re.m9)(h));return new Kg(v,x=>kg(g,x))})).apply(this,arguments)}function t1(p,d,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p),v=yield id(g.auth,d,(0,re.m9)(h));return new Kg(v,x=>c0(g,x))})).apply(this,arguments)}function id(p,d,h){return hf.apply(this,arguments)}function hf(){return hf=(0,S.Z)(function*(p,d,h){var g;const v=yield h.verify();try{let x;if(ve("string"==typeof v,p,"argument-error"),ve(h.type===D0,p,"argument-error"),x="string"==typeof d?{phoneNumber:d}:d,"session"in x){const B=x.session;if("phoneNumber"in x)return ve("enroll"===B.type,p,"internal-error"),(yield function BF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:start",Y(p,d))}(p,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:v}})).phoneSessionInfo.sessionInfo;{ve("signin"===B.type,p,"internal-error");const J=(null===(g=x.multiFactorHint)||void 0===g?void 0:g.uid)||x.multiFactorUid;return ve(J,p,"missing-multi-factor-info"),(yield function qI(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:start",Y(p,d))}(p,{mfaPendingCredential:B.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:v}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function VI(p,d){return bg.apply(this,arguments)}(p,{phoneNumber:x.phoneNumber,recaptchaToken:v});return B}}finally{h._reset()}}),hf.apply(this,arguments)}function Hn(p,d){return rd.apply(this,arguments)}function rd(){return(rd=(0,S.Z)(function*(p,d){yield Zh((0,re.m9)(p),d)})).apply(this,arguments)}let ff=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=fi(h)}verifyPhoneNumber(h,g){return id(this.auth,h,(0,re.m9)(g))}static credential(h,g){return Ra._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:v}=h;return g&&v?Ra._fromTokenResponse(g,v):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Bi(p,d){return d?ae(d):(ve(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Zg extends _l{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Sa(d,this._buildIdpRequest())}_linkToIdToken(d,h){return Sa(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return Sa(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function R0(p){return a0(p.auth,new Zg(p),p.bypassAuthState)}function Rl(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),s0(h,new Zg(p),p.bypassAuthState)}function Do(p){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,S.Z)(function*(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),Zh(h,new Zg(p),p.bypassAuthState)})).apply(this,arguments)}class k0{constructor(d,h,g,v,x=!1){this.auth=d,this.resolver=g,this.user=v,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,S.Z)(function*(g,v){d.pendingPromise={resolve:g,reject:v};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(x){d.reject(x)}});return function(g,v){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,S.Z)(function*(){const{urlResponse:g,sessionId:v,postBody:x,tenantId:B,error:J,type:ye}=d;if(J)return void h.reject(J);const He={auth:h.auth,requestUri:g,sessionId:v,tenantId:B||void 0,postBody:x||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ye)(He))}catch(ut){h.reject(ut)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return R0;case"linkViaPopup":case"linkViaRedirect":return Do;case"reauthViaPopup":case"reauthViaRedirect":return Rl;default:Rt(this.auth,"internal-error")}}resolve(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n1=new Er(2e3,1e4);function Fa(p,d,h){return pf.apply(this,arguments)}function pf(){return(pf=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Js);const v=Bi(g,h);return new Qg(g,"signInViaPopup",d,v).executeNotNull()})).apply(this,arguments)}function r1(p,d,h){return mf.apply(this,arguments)}function mf(){return(mf=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js);const v=Bi(g.auth,h);return new Qg(g.auth,"reauthViaPopup",d,v,g).executeNotNull()})).apply(this,arguments)}function M0(p,d,h){return gf.apply(this,arguments)}function gf(){return(gf=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js);const v=Bi(g.auth,h);return new Qg(g.auth,"linkViaPopup",d,v,g).executeNotNull()})).apply(this,arguments)}let Qg=(()=>{class p extends k0{constructor(h,g,v,x,B){super(h,g,x,B),this.provider=v,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const g=yield h.execute();return ve(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,S.Z)(function*(){Sn(1===h.filter.length,"Popup operations only handle one event");const g=Pi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(v=>{h.reject(v)}),h.resolver._isIframeWebStorageSupported(h.auth,v=>{v||h.reject($t(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,v;this.pollId=null!==(v=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==v&&v.closed?window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,n1.get())};h()}}return p.currentPopupAction=null,p})();const vt="pendingRedirect",kl=new Map;class XF extends k0{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,S.Z)(function*(){let g=kl.get(h.auth._key());if(!g){try{const x=(yield function o1(p,d){return Xg.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(x)}catch(v){g=()=>Promise.reject(v)}kl.set(h.auth._key(),g)}return h.bypassAuthState||kl.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const v=yield g.auth._redirectUserForId(d.eventId);if(v)return g.user=v,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function Xg(){return(Xg=(0,S.Z)(function*(p,d){const h=O0(d),g=P0(p);if(!(yield g._isAvailable()))return!1;const v="true"===(yield g._get(h));return yield g._remove(h),v})).apply(this,arguments)}function Jg(p,d){return _f.apply(this,arguments)}function _f(){return(_f=(0,S.Z)(function*(p,d){return P0(p)._set(O0(d),"true")})).apply(this,arguments)}function Ml(){kl.clear()}function N0(p,d){kl.set(p._key(),d)}function P0(p){return ae(p._redirectPersistence)}function O0(p){return ht(vt,p.config.apiKey,p.name)}function s1(p,d,h){return function a1(p,d,h){return ge.apply(this,arguments)}(p,d,h)}function ge(){return(ge=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Js),yield g._initializationPromise;const v=Bi(g,h);return yield Jg(v,g),v._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function cn(p,d,h){return function Ye(p,d,h){return Ge.apply(this,arguments)}(p,d,h)}function Ge(){return(Ge=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js),yield g.auth._initializationPromise;const v=Bi(g.auth,h);yield Jg(v,g.auth);const x=yield c1(g);return v._openRedirect(g.auth,d,"reauthViaRedirect",x)})).apply(this,arguments)}function fr(p,d,h){return function F0(p,d,h){return kc.apply(this,arguments)}(p,d,h)}function kc(){return(kc=(0,S.Z)(function*(p,d,h){const g=(0,re.m9)(p);Ci(g.auth,d,Js),yield g.auth._initializationPromise;const v=Bi(g.auth,h);yield Yh(!1,g,d.providerId),yield Jg(v,g.auth);const x=yield c1(g);return v._openRedirect(g.auth,d,"linkViaRedirect",x)})).apply(this,arguments)}function Os(p,d){return od.apply(this,arguments)}function od(){return(od=(0,S.Z)(function*(p,d){return yield fi(p)._initializationPromise,sd(p,d,!1)})).apply(this,arguments)}function sd(p,d){return e_.apply(this,arguments)}function e_(){return(e_=(0,S.Z)(function*(p,d,h=!1){const g=fi(p),v=Bi(g,d),B=yield new XF(g,v,h).execute();return B&&!h&&(delete B.user._redirectEventId,yield g._persistUserIfCurrent(B.user),yield g._setRedirectUser(null,d)),B})).apply(this,arguments)}function c1(p){return yf.apply(this,arguments)}function yf(){return(yf=(0,S.Z)(function*(p){const d=Pi(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class Fs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function na(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mc(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!Mc(d)){const v=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError($t(this.auth,v))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(d))}saveEventToCache(d){this.cachedEventUids.add(t_(d)),this.lastProcessedEventTime=Date.now()}}function t_(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function Mc({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function L0(p){return vf.apply(this,arguments)}function vf(){return(vf=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v1/projects",d)})).apply(this,arguments)}const l1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u1=/^https?/;function ad(){return(ad=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield L0(p);for(const h of d)try{if(V0(h))return}catch{}Rt(p,"unauthorized-domain")})).apply(this,arguments)}function V0(p){const d=ei(),{protocol:h,hostname:g}=new URL(d);if(p.startsWith("chrome-extension://")){const B=new URL(p);return""===B.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&B.hostname===g}if(!u1.test(h))return!1;if(l1.test(p))return g===p;const v=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+v+"|"+v+")$","i").test(g)}const i_=new Er(3e4,6e4);function B0(){const p=wn().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Nl=null;const H0=new Er(5e3,15e3),z0="__/auth/iframe",$0="emulator/auth/iframe",r_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h1(p){const d=p.config;ve(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?yo(d,$0):`https://${p.config.authDomain}/${z0}`,g={apiKey:d.apiKey,appName:p.name,v:z.SDK_VERSION},v=d1.get(p.config.apiHost);v&&(g.eid=v);const x=p._getFrameworks();return x.length&&(g.fw=x.join(",")),`${h}?${(0,re.xO)(g).slice(1)}`}function ia(){return ia=(0,S.Z)(function*(p){const d=yield function j0(p){return Nl=Nl||function U0(p){return new Promise((d,h)=>{var g,v,x;function B(){B0(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{B0(),h($t(p,"network-request-failed"))},timeout:i_.get()})}if(null!==(v=null===(g=wn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==v&&v.Iframe)d(gapi.iframes.getContext());else{if(null===(x=wn().gapi)||void 0===x||!x.load){const J=NI("iframefcb");return wn()[J]=()=>{gapi.load?B():h($t(p,"network-request-failed"))},Kb(`https://apis.google.com/js/api.js?onload=${J}`).catch(ye=>h(ye))}B()}}).catch(d=>{throw Nl=null,d})}(p),Nl}(p),h=wn().gapi;return ve(h,p,"internal-error"),d.open({where:document.body,url:h1(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r_,dontclear:!0},g=>new Promise(function(){var v=(0,S.Z)(function*(x,B){yield g.restyle({setHideOnLeave:!1});const J=$t(p,"network-request-failed"),ye=wn().setTimeout(()=>{B(J)},H0.get());function He(){wn().clearTimeout(ye),x(g)}g.ping(He).then(He,()=>{B(J)})});return function(x,B){return v.apply(this,arguments)}}()))}),ia.apply(this,arguments)}const mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class s_{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const La="__/auth/handler",m1="emulator/auth/handler",Ef=encodeURIComponent("fac");function Pl(p,d,h,g,v,x){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,S.Z)(function*(p,d,h,g,v,x){ve(p.config.authDomain,p,"auth-domain-config-required"),ve(p.config.apiKey,p,"invalid-api-key");const B={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:z.SDK_VERSION,eventId:v};if(d instanceof Js){d.setDefaultLanguage(p.languageCode),B.providerId=d.providerId||"",(0,re.xb)(d.getCustomParameters())||(B.customParameters=JSON.stringify(d.getCustomParameters()));for(const[ut,tn]of Object.entries(x||{}))B[ut]=tn}if(d instanceof bl){const ut=d.getScopes().filter(tn=>""!==tn);ut.length>0&&(B.scopes=ut.join(","))}p.tenantId&&(B.tid=p.tenantId);const J=B;for(const ut of Object.keys(J))void 0===J[ut]&&delete J[ut];const ye=yield p._getAppCheckToken(),He=ye?`#${Ef}=${encodeURIComponent(ye)}`:"";return`${function a_({config:p}){return p.emulator?yo(p,m1):`https://${p.authDomain}/${La}`}(p)}?${(0,re.xO)(J).slice(1)}${He}`})).apply(this,arguments)}const Cf="webStorageSupport",q0=class G0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=sd,this._overrideRedirectResult=N0}_openPopup(d,h,g,v){var x=this;return(0,S.Z)(function*(){var B;Sn(null===(B=x.eventManagers[d._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const J=yield Pl(d,h,g,ei(),v);return function W0(p,d,h,g=500,v=600){const x=Math.max((window.screen.availHeight-v)/2,0).toString(),B=Math.max((window.screen.availWidth-g)/2,0).toString();let J="";const ye=Object.assign(Object.assign({},mi),{width:g.toString(),height:v.toString(),top:x,left:B}),He=(0,re.z$)().toLowerCase();h&&(J=nr(He)?"_blank":h),kn(He)&&(d=d||"http://localhost",ye.scrollbars="yes");const ut=Object.entries(ye).reduce((Hr,[ra,dd])=>`${Hr}${ra}=${dd},`,"");if(function Ut(p=(0,re.z$)()){var d;return et(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(He)&&"_self"!==J)return function wf(p,d){const h=document.createElement("a");h.href=p,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",J),new s_(null);const tn=window.open(d||"",J,ut);ve(tn,p,"popup-blocked");try{tn.focus()}catch{}return new s_(tn)}(d,J,Pi())})()}_openRedirect(d,h,g,v){var x=this;return(0,S.Z)(function*(){return yield x._originValidation(d),function y0(p){wn().location.href=p}(yield Pl(d,h,g,ei(),v)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:v,promise:x}=this.eventManagers[h];return v?Promise.resolve(v):(Sn(x,"If manager is not set, promise should be"),x)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,S.Z)(function*(){const g=yield function jr(p){return ia.apply(this,arguments)}(d),v=new Fs(d);return g.register("authEvent",x=>(ve(x?.authEvent,d,"invalid-auth-event"),{status:v.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:v},h.iframes[d._key()]=g,v})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Cf,{type:Cf},v=>{var x;const B=null===(x=v?.[0])||void 0===x?void 0:x[Cf];void 0!==B&&h(!!B),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function n_(p){return ad.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Mi()||tt()||et()}};class Fl{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class Nc extends Fl{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Nc(d)}_finalizeEnroll(d,h,g){return function UF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:finalize",Y(p,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function Gg(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:finalize",Y(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let g1=(()=>{class p{constructor(){}static assertion(h){return Nc._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var K0="@firebase/auth";class JF{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ud=(0,re.Pz)("authIdTokenMaxAge")||300;let xf=null;const If=p=>function(){var d=(0,S.Z)(function*(h){const g=h&&(yield h.getIdTokenResult()),v=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(v&&v>ud)return;const x=g?.token;xf!==x&&(xf=x,yield fetch(p,{method:x?"POST":"DELETE",headers:x?{Authorization:`Bearer ${x}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function e2(p=(0,z.getApp)()){const d=(0,z._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function NF(p,d){const h=(0,z._getProvider)(p,"auth");if(h.isInitialized()){const v=h.getImmediate(),x=h.getOptions();if((0,re.vZ)(x,d??{}))return v;Rt(v,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:q0,persistence:[uf,$I,Ps]}),g=(0,re.Pz)("authTokenSyncURL");if(g){const x=If(g);(function Sc(p,d,h){(0,re.m9)(p).beforeAuthStateChanged(d,h)})(h,x,()=>x(h.currentUser)),function Vg(p,d,h,g){(0,re.m9)(p).onIdTokenChanged(d,h,g)}(h,B=>x(B))}const v=(0,re.q4)("auth");return v&&FI(h,`http://${v}`),h}!function ld(p){(0,z._registerComponent)(new Wn.wA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),v=d.getProvider("heartbeat"),x=d.getProvider("app-check-internal"),{apiKey:B,authDomain:J}=g.options;ve(B&&!B.includes(":"),"invalid-api-key",{appName:g.name});const ye={apiKey:B,authDomain:J,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(p)},He=new AF(g,v,x,ye);return function pe(p,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(ae);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(g,d?.popupRedirectResolver)}(He,h),He},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Wn.wA("auth-internal",d=>{const h=fi(d.getProvider("auth").getImmediate());return new JF(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(K0,"1.4.0",function c_(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,z.registerVersion)(K0,"1.4.0","esm2017")}("Browser")},58:(eo,wi,ct)=>{ct.d(wi,{BH:()=>wr,DV:()=>H,Dv:()=>dn,G6:()=>yo,GJ:()=>hi,L:()=>Xt,LL:()=>de,Pz:()=>$t,Sg:()=>Ci,UG:()=>Gt,UI:()=>fe,US:()=>Wn,Wj:()=>jn,Wl:()=>it,Yr:()=>Er,ZB:()=>qe,ZR:()=>me,aH:()=>Rt,b$:()=>Kn,cI:()=>we,dS:()=>ss,eu:()=>ie,g5:()=>z,gK:()=>bn,gQ:()=>ti,h$:()=>Dn,hl:()=>Q,hu:()=>re,jU:()=>Sn,lb:()=>Zn,m9:()=>As,ne:()=>$i,p$:()=>Ce,pd:()=>Rn,q4:()=>Ei,r3:()=>G,ru:()=>ei,tV:()=>he,uI:()=>ve,ug:()=>vo,vZ:()=>Ae,w1:()=>_o,w9:()=>Un,xO:()=>qt,xb:()=>ee,z$:()=>It,zd:()=>Bt});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},re=function(F,P){if(!F)throw z(P)},z=function(F){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+F)},Je=function(F){const P=[];let C=0;for(let I=0;I<F.length;I++){let w=F.charCodeAt(I);w<128?P[C++]=w:w<2048?(P[C++]=w>>6|192,P[C++]=63&w|128):55296==(64512&w)&&I+1<F.length&&56320==(64512&F.charCodeAt(I+1))?(w=65536+((1023&w)<<10)+(1023&F.charCodeAt(++I)),P[C++]=w>>18|240,P[C++]=w>>12&63|128,P[C++]=w>>6&63|128,P[C++]=63&w|128):(P[C++]=w>>12|224,P[C++]=w>>6&63|128,P[C++]=63&w|128)}return P},Wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let w=0;w<F.length;w+=3){const k=F[w],ae=w+1<F.length,ze=ae?F[w+1]:0,Ue=w+2<F.length,ht=Ue?F[w+2]:0;let kn=(15&ze)<<2|ht>>6,tt=63&ht;Ue||(tt=64,ae||(kn=64)),I.push(C[k>>2],C[(3&k)<<4|ze>>4],C[kn],C[tt])}return I.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(Je(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let C=0,I=0;for(;C<F.length;){const w=F[C++];if(w<128)P[I++]=String.fromCharCode(w);else if(w>191&&w<224){const k=F[C++];P[I++]=String.fromCharCode((31&w)<<6|63&k)}else if(w>239&&w<365){const Ue=((7&w)<<18|(63&F[C++])<<12|(63&F[C++])<<6|63&F[C++])-65536;P[I++]=String.fromCharCode(55296+(Ue>>10)),P[I++]=String.fromCharCode(56320+(1023&Ue))}else{const k=F[C++],ae=F[C++];P[I++]=String.fromCharCode((15&w)<<12|(63&k)<<6|63&ae)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const C=P?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let w=0;w<F.length;){const k=C[F.charAt(w++)],ze=w<F.length?C[F.charAt(w)]:0;++w;const ht=w<F.length?C[F.charAt(w)]:64;++w;const Ne=w<F.length?C[F.charAt(w)]:64;if(++w,null==k||null==ze||null==ht||null==Ne)throw new di;I.push(k<<2|ze>>4),64!==ht&&(I.push(ze<<4&240|ht>>2),64!==Ne&&I.push(ht<<6&192|Ne))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class di extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dn=function(F){const P=Je(F);return Wn.encodeByteArray(P,!0)},Xt=function(F){return Dn(F).replace(/\./g,"")},he=function(F){try{return Wn.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function Ce(F){return qe(void 0,F)}function qe(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const C in P)!P.hasOwnProperty(C)||!Ct(C)||(F[C]=qe(F[C],P[C]));return F}function Ct(F){return"__proto__"!==F}const _t=()=>{try{return function on(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&he(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ei=F=>{var P,C;return null===(C=null===(P=_t())||void 0===P?void 0:P.emulatorHosts)||void 0===C?void 0:C[F]},Rt=()=>{var F;return null===(F=_t())||void 0===F?void 0:F.config},$t=F=>{var P;return null===(P=_t())||void 0===P?void 0:P[`_${F}`]};class wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,C)=>{this.resolve=P,this.reject=C})}wrapCallback(P){return(C,I)=>{C?this.reject(C):this.resolve(I),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(C):P(C,I))}}}function Ci(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=P||"demo-project",w=F.iat||0,k=F.sub||F.user_id;if(!k)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:w,exp:w+3600,auth_time:w,sub:k,user_id:k,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(ae)),""].join(".")}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Gt(){var F;const P=null===(F=_t())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Sn(){return"object"==typeof self&&self.self===self}function ei(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){const F=It();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Er(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function yo(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((F,P)=>{try{let C=!0;const I="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(I);w.onsuccess=()=>{w.result.close(),C||self.indexedDB.deleteDatabase(I),F(!0)},w.onupgradeneeded=()=>{C=!1},w.onerror=()=>{var k;P((null===(k=w.error)||void 0===k?void 0:k.message)||"")}}catch(C){P(C)}})}class me extends Error{constructor(P,C,I){super(C),this.code=P,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(P,C,I){this.service=P,this.serviceName=C,this.errors=I}create(P,...C){const I=C[0]||{},w=`${this.service}/${P}`,k=this.errors[P],ae=k?function Se(F,P){return F.replace(kt,(C,I)=>{const w=P[I];return null!=w?String(w):`<${I}?>`})}(k,I):"Error";return new me(w,`${this.serviceName}: ${ae} (${w}).`,I)}}const kt=/\{\$([^}]+)}/g;function we(F){return JSON.parse(F)}function it(F){return JSON.stringify(F)}const Jt=function(F){let P={},C={},I={},w="";try{const k=F.split(".");P=we(he(k[0])||""),C=we(he(k[1])||""),w=k[2],I=C.d||{},delete C.d}catch{}return{header:P,claims:C,data:I,signature:w}},Un=function(F){const C=Jt(F).claims;return!!C&&"object"==typeof C&&C.hasOwnProperty("iat")},hi=function(F){const P=Jt(F).claims;return"object"==typeof P&&!0===P.admin};function G(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function H(F,P){if(Object.prototype.hasOwnProperty.call(F,P))return F[P]}function ee(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function fe(F,P,C){const I={};for(const w in F)Object.prototype.hasOwnProperty.call(F,w)&&(I[w]=P.call(C,F[w],w,F));return I}function Ae(F,P){if(F===P)return!0;const C=Object.keys(F),I=Object.keys(P);for(const w of C){if(!I.includes(w))return!1;const k=F[w],ae=P[w];if(be(k)&&be(ae)){if(!Ae(k,ae))return!1}else if(k!==ae)return!1}for(const w of I)if(!C.includes(w))return!1;return!0}function be(F){return null!==F&&"object"==typeof F}function qt(F){const P=[];for(const[C,I]of Object.entries(F))Array.isArray(I)?I.forEach(w=>{P.push(encodeURIComponent(C)+"="+encodeURIComponent(w))}):P.push(encodeURIComponent(C)+"="+encodeURIComponent(I));return P.length?"&"+P.join("&"):""}function Bt(F){const P={};return F.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[w,k]=I.split("=");P[decodeURIComponent(w)]=decodeURIComponent(k)}}),P}function Rn(F){const P=F.indexOf("?");if(!P)return"";const C=F.indexOf("#",P);return F.substring(P,C>0?C:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let P=1;P<this.blockSize;++P)this.pad_[P]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(P,C){C||(C=0);const I=this.W_;if("string"==typeof P)for(let Ne=0;Ne<16;Ne++)I[Ne]=P.charCodeAt(C)<<24|P.charCodeAt(C+1)<<16|P.charCodeAt(C+2)<<8|P.charCodeAt(C+3),C+=4;else for(let Ne=0;Ne<16;Ne++)I[Ne]=P[C]<<24|P[C+1]<<16|P[C+2]<<8|P[C+3],C+=4;for(let Ne=16;Ne<80;Ne++){const kn=I[Ne-3]^I[Ne-8]^I[Ne-14]^I[Ne-16];I[Ne]=4294967295&(kn<<1|kn>>>31)}let ht,an,w=this.chain_[0],k=this.chain_[1],ae=this.chain_[2],ze=this.chain_[3],Ue=this.chain_[4];for(let Ne=0;Ne<80;Ne++){Ne<40?Ne<20?(ht=ze^k&(ae^ze),an=1518500249):(ht=k^ae^ze,an=1859775393):Ne<60?(ht=k&ae|ze&(k|ae),an=2400959708):(ht=k^ae^ze,an=3395469782);const kn=(w<<5|w>>>27)+ht+Ue+an+I[Ne]&4294967295;Ue=ze,ze=ae,ae=4294967295&(k<<30|k>>>2),k=w,w=kn}this.chain_[0]=this.chain_[0]+w&4294967295,this.chain_[1]=this.chain_[1]+k&4294967295,this.chain_[2]=this.chain_[2]+ae&4294967295,this.chain_[3]=this.chain_[3]+ze&4294967295,this.chain_[4]=this.chain_[4]+Ue&4294967295}update(P,C){if(null==P)return;void 0===C&&(C=P.length);const I=C-this.blockSize;let w=0;const k=this.buf_;let ae=this.inbuf_;for(;w<C;){if(0===ae)for(;w<=I;)this.compress_(P,w),w+=this.blockSize;if("string"==typeof P){for(;w<C;)if(k[ae]=P.charCodeAt(w),++ae,++w,ae===this.blockSize){this.compress_(k),ae=0;break}}else for(;w<C;)if(k[ae]=P[w],++ae,++w,ae===this.blockSize){this.compress_(k),ae=0;break}}this.inbuf_=ae,this.total_+=C}digest(){const P=[];let C=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let w=this.blockSize-1;w>=56;w--)this.buf_[w]=255&C,C/=256;this.compress_(this.buf_);let I=0;for(let w=0;w<5;w++)for(let k=24;k>=0;k-=8)P[I]=this.chain_[w]>>k&255,++I;return P}}function $i(F,P){const C=new tr(F,P);return C.subscribe.bind(C)}class tr{constructor(P,C){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=C,this.task.then(()=>{P(this)}).catch(I=>{this.error(I)})}next(P){this.forEachObserver(C=>{C.next(P)})}error(P){this.forEachObserver(C=>{C.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,C,I){let w;if(void 0===P&&void 0===C&&void 0===I)throw new Error("Missing Observer.");w=function Tn(F,P){if("object"!=typeof F||null===F)return!1;for(const C of P)if(C in F&&"function"==typeof F[C])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:C,complete:I},void 0===w.next&&(w.next=Kt),void 0===w.error&&(w.error=Kt),void 0===w.complete&&(w.complete=Kt);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),k}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let C=0;C<this.observers.length;C++)this.sendOne(C,P)}sendOne(P,C){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{C(this.observers[P])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}const dn=function(F,P,C,I){let w;if(I<P?w="at least "+P:I>C&&(w=0===C?"none":"no more than "+C),w)throw new Error(F+" failed: Was called with "+I+(1===I?" argument.":" arguments.")+" Expects "+w+".")};function bn(F,P){return`${F} failed: ${P} argument `}function jn(F,P,C,I){if((!I||C)&&"function"!=typeof C)throw new Error(bn(F,P)+"must be a valid function.")}function Zn(F,P,C,I){if((!I||C)&&("object"!=typeof C||null===C))throw new Error(bn(F,P)+"must be a valid context object.")}const ss=function(F){const P=[];let C=0;for(let I=0;I<F.length;I++){let w=F.charCodeAt(I);if(w>=55296&&w<=56319){const k=w-55296;I++,re(I<F.length,"Surrogate pair missing trail surrogate."),w=65536+(k<<10)+(F.charCodeAt(I)-56320)}w<128?P[C++]=w:w<2048?(P[C++]=w>>6|192,P[C++]=63&w|128):w<65536?(P[C++]=w>>12|224,P[C++]=w>>6&63|128,P[C++]=63&w|128):(P[C++]=w>>18|240,P[C++]=w>>12&63|128,P[C++]=w>>6&63|128,P[C++]=63&w|128)}return P},vo=function(F){let P=0;for(let C=0;C<F.length;C++){const I=F.charCodeAt(C);I<128?P++:I<2048?P+=2:I>=55296&&I<=56319?(P+=4,C++):P+=3}return P};function As(F){return F&&F._delegate?F._delegate:F}},168:(eo,wi,ct)=>{function S(n){return"function"==typeof n}function re(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const z=re(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Je(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(o){t=o instanceof z?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Dn(o)}catch(s){t=t??[],s instanceof z?t=[...t,...s.errors]:t.push(s)}}if(t)throw new z(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Dn(t);else{if(t instanceof pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Je(e,t)}remove(t){const{_finalizers:e}=this;e&&Je(e,t),t instanceof pt&&t._removeParent(this)}}pt.EMPTY=(()=>{const n=new pt;return n.closed=!0,n})();const Wn=pt.EMPTY;function di(n){return n instanceof pt||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function Dn(n){S(n)?n():n.unsubscribe()}const Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},he={setTimeout(n,t,...e){const{delegate:i}=he;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=he;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ce(n){he.setTimeout(()=>{const{onUnhandledError:t}=Xt;if(!t)throw n;t(n)})}function qe(){}const Ct=zt("C",void 0,void 0);function zt(n,t,e){return{kind:n,value:t,error:e}}let gt=null;function _t(n){if(Xt.useDeprecatedSynchronousErrorHandling){const t=!gt;if(t&&(gt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=gt;if(gt=null,e)throw i}}else n()}class qn extends pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,di(t)&&t.add(this)):this.destination=Sn}static create(t,e,i){return new Ci(t,e,i)}next(t){this.isStopped?Gt(function Gn(n){return zt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Gt(function on(n){return zt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gt(Ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function $t(n,t){return Rt.call(n,t)}class wr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){It(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){It(i)}else It(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){It(e)}}}class Ci extends qn{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$t(t.next,o),error:t.error&&$t(t.error,o),complete:t.complete&&$t(t.complete,o)}):r=t}this.destination=new wr(r)}}function It(n){Xt.useDeprecatedSynchronousErrorHandling?function Ei(n){Xt.useDeprecatedSynchronousErrorHandling&&gt&&(gt.errorThrown=!0,gt.error=n)}(n):Ce(n)}function Gt(n,t){const{onStoppedNotification:e}=Xt;e&&he.setTimeout(()=>e(n,t))}const Sn={closed:!0,next:qe,error:function ve(n){throw n},complete:qe},ei="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kn(n){return n}function _o(n){return 0===n.length?Kn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let lt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Q(n){return n&&n instanceof qn||function yo(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&di(n)}(e)?e:new Ci(e,i,r);return _t(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Er(i))((r,o)=>{const s=new Ci({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ei](){return this}pipe(...e){return _o(e)(this)}toPromise(e){return new(e=Er(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Er(n){var t;return null!==(t=n??Xt.Promise)&&void 0!==t?t:Promise}const ie=re(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Y(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ie}next(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Wn:(this.currentObservers=null,o.push(e),new pt(()=>{this.currentObservers=null,Je(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new lt;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends ${constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Wn}}function me(n){return S(n?.lift)}function de(n){return t=>{if(me(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new kt(n,t,e,i,r)}class kt extends qn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(n,t){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var it=ct(582);const Jt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bn(n){return S(n?.then)}function vn(n){return S(n[ei])}function Un(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function hi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const H=function G(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return S(n?.[H])}function fe(n){return(0,it.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,it.qq)(e.read());if(r)return yield(0,it.qq)(void 0);yield yield(0,it.qq)(i)}}finally{e.releaseLock()}})}function Ae(n){return S(n?.getReader)}function be(n){if(n instanceof lt)return n;if(null!=n){if(vn(n))return function An(n){return new lt(t=>{const e=n[ei]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Jt(n))return function qt(n){return new lt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bn(n))return function Bt(n){return new lt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ce)})}(n);if(Un(n))return ti(n);if(ee(n))return function Rn(n){return new lt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ae(n))return function $i(n){return ti(fe(n))}(n)}throw hi(n)}function ti(n){return new lt(t=>{(function tr(n,t){var e,i,r,o;return(0,it.mG)(this,void 0,void 0,function*(){try{for(e=(0,it.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function lr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,t,e=1/0){return S(t)?Kt((i,r)=>we((o,s)=>t(i,o,r,s))(be(n(i,r))),e):("number"==typeof t&&(e=t),de((i,r)=>function Tn(n,t,e,i,r,o,s,a){const c=[];let l=0,u=0,f=!1;const m=()=>{f&&!c.length&&!l&&t.complete()},_=b=>l<i?y(b):c.push(b),y=b=>{o&&t.next(b),l++;let E=!1;be(e(b,u++)).subscribe(Se(t,N=>{r?.(N),o?_(N):t.next(N)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<i;){const N=c.shift();s?lr(t,s,()=>y(N)):y(N)}m()}catch(N){t.error(N)}}))};return n.subscribe(Se(t,_,()=>{f=!0,m()})),()=>{a?.()}}(i,r,n,e)))}function dn(n=1/0){return Kt(Kn,n)}const bn=new lt(n=>n.complete());function Zn(n){return n&&S(n.schedule)}function ss(n){return n[n.length-1]}function vo(n){return S(ss(n))?n.pop():void 0}function as(n){return Zn(ss(n))?n.pop():void 0}function ki(n,t=0){return de((e,i)=>{e.subscribe(Se(i,r=>lr(i,n,()=>i.next(r),t),()=>lr(i,n,()=>i.complete(),t),r=>lr(i,n,()=>i.error(r),t)))})}function Cr(n,t=0){return de((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function As(n,t){if(!n)throw new Error("Iterable cannot be null");return new lt(e=>{lr(e,t,()=>{const i=n[Symbol.asyncIterator]();lr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function C(n,t){return t?function P(n,t){if(null!=n){if(vn(n))return function bo(n,t){return be(n).pipe(Cr(t),ki(t))}(n,t);if(Jt(n))return function Da(n,t){return new lt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Bn(n))return function gl(n,t){return be(n).pipe(Cr(t),ki(t))}(n,t);if(Un(n))return As(n,t);if(ee(n))return function yc(n,t){return new lt(e=>{let i;return lr(e,t,()=>{i=n[H](),lr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(n,t);if(Ae(n))return function F(n,t){return As(fe(n),t)}(n,t)}throw hi(n)}(n,t):be(n)}function I(...n){const t=as(n),e=function Wi(n,t){return"number"==typeof ss(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?be(i[0]):dn(e)(C(i,t)):bn}class w extends ${constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function k(...n){return C(n,as(n))}function ae(n={}){const{connector:t=(()=>new $),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,u=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=c=void 0,u=f=!1},y=()=>{const b=s;_(),b?.unsubscribe()};return de((b,E)=>{l++,!f&&!u&&m();const N=c=c??t();E.add(()=>{l--,0===l&&!f&&!u&&(a=ze(y,r))}),N.subscribe(E),!s&&l>0&&(s=new Ci({next:A=>N.next(A),error:A=>{f=!0,m(),a=ze(_,e,A),N.error(A)},complete:()=>{u=!0,m(),a=ze(_,i),N.complete()}}),be(b).subscribe(s))})(o)}}function ze(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return be(t(...e)).subscribe(i)}function Ue(n,t){return de((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Se(i,c=>{r?.unsubscribe();let l=0;const u=o++;be(n(c,u)).subscribe(r=Se(i,f=>i.next(t?t(c,f,u,l++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ht(n,t=Kn){return n=n??an,de((e,i)=>{let r,o=!0;e.subscribe(Se(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function an(n,t){return n===t}function Ne(n){for(let t in n)if(n[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function kn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function nr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const vc=Ne({__forward_ref__:Ne});function q(n){return n.__forward_ref__=q,n.toString=function(){return tt(this())},n}function U(n){return Ee(n)?n():n}function Ee(n){return"function"==typeof n&&n.hasOwnProperty(vc)&&n.__forward_ref__===q}function et(n){return n&&!!n.\u0275providers}const Ut="https://g.co/ng/security#xss";class K extends Error{constructor(t,e){super(function Mi(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ze(n){return"string"==typeof n?n:null==n?"":String(n)}function dg(n,t){throw new K(-201,!1)}function Tr(n,t){null==n&&function mt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vh(n){return Jb(n,yl)||Jb(n,Bh)}function Jb(n,t){return n.hasOwnProperty(t)?n[t]:null}function Gu(n){return n&&(n.hasOwnProperty(hg)||n.hasOwnProperty(LI))?n[hg]:null}const yl=Ne({\u0275prov:Ne}),hg=Ne({\u0275inj:Ne}),Bh=Ne({ngInjectableDef:Ne}),LI=Ne({ngInjectorDef:Ne});var jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(jt||{});let fg;function to(n){const t=fg;return fg=n,t}function jh(n,t,e){const i=Vh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&jt.Optional?null:void 0!==t?t:void dg(tt(n))}const Mn=globalThis;class oe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wc={},vg="__NG_DI_FLAG__",Eo="ngTempTokenPath",bg=/\n/gm,$h="__source";let vl;function Aa(n){const t=vl;return vl=n,t}function UI(n,t=jt.Default){if(void 0===vl)throw new K(-203,!1);return null===vl?jh(n,void 0,t):vl.get(n,t&jt.Optional?null:void 0,t)}function O(n,t=jt.Default){return(function Uh(){return fg}()||UI)(U(n),t)}function Te(n,t=jt.Default){return O(n,Wh(t))}function Wh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ec(n){const t=[];for(let e=0;e<n.length;e++){const i=U(n[e]);if(Array.isArray(i)){if(0===i.length)throw new K(900,!1);let r,o=jt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=Eg(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(O(r,o))}else t.push(O(i))}return t}function Gh(n,t){return n[vg]=t,n.prototype[vg]=t,n}function Eg(n){return n[vg]}function Co(n){return{toString:n}.toString()}var qh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(qh||{}),jo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jo||{});const Rs={},hn=[],ea=Ne({\u0275cmp:Ne}),Cg=Ne({\u0275dir:Ne}),wl=Ne({\u0275pipe:Ne}),r0=Ne({\u0275mod:Ne}),ks=Ne({\u0275fac:Ne}),Cc=Ne({__NG_ELEMENT_ID__:Ne}),To=Ne({__NG_ENV_ID__:Ne});function Tg(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function xg(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Ku(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Kh(n){return 3===n||4===n||6===n}function Ku(n){return 64===n.charCodeAt(0)}function El(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Ig(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Ig(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const o0="ng-template";function Dg(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Tg(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Zh(n){return 4===n.type&&n.value!==o0}function Sg(n,t,e){return t===(4!==n.type||e?n.value:o0)}function Yh(n,t,e){let i=4;const r=n.attrs||[],o=function Ag(n){for(let t=0;t<n.length;t++)if(Kh(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!Sg(n,c,e)||""===c&&1===t.length){if(xo(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!Dg(n.attrs,l,e)){if(xo(i))return!1;s=!0}continue}const f=s0(8&i?"class":c,r,Zh(n),e);if(-1===f){if(xo(i))return!1;s=!0;continue}if(""!==l){let m;m=f>o?"":r[f+1].toLowerCase();const _=8&i?m:null;if(_&&-1!==Tg(_,l,0)||2&i&&l!==m){if(xo(i))return!1;s=!0}}}}else{if(!s&&!xo(i)&&!xo(c))return!1;if(s&&xo(c))continue;s=!1,i=c|1&i}}return xo(i)||s}function xo(n){return 0==(1&n)}function s0(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Xh(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Qh(n,t,e=!1){for(let i=0;i<t.length;i++)if(Yh(n,t[i],e))return!0;return!1}function Rg(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function kg(n,t){return n?":not("+t.trim()+")":t}function Mg(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!xo(s)&&(t+=kg(o,r),r=""),i=s,o=o||!xo(i);e++}return""!==r&&(t+=kg(o,r)),t}function yt(n){return Co(()=>{const t=l0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jo.Emulated,styles:n.styles||hn,_:null,schemas:n.schemas||null,tView:null,id:""};ef(e);const i=n.dependencies;return e.directiveDefs=Zu(i,!1),e.pipeDefs=Zu(i,!0),e.id=function HI(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function jI(n){return en(n)||ur(n)}function Og(n){return null!==n}function $e(n){return Co(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jh(n,t){if(null==n)return Rs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function X(n){return Co(()=>{const t=l0(n);return ef(t),t})}function Gi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[ea]||null}function ur(n){return n[Cg]||null}function dr(n){return n[wl]||null}function Br(n,t){const e=n[r0]||null;if(!e&&!0===t)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return e}function l0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Rs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jh(n.inputs,t),outputs:Jh(n.outputs)}}function ef(n){n.features?.forEach(t=>t(n))}function Zu(n,t){if(!n)return null;const e=t?dr:jI;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Og)}const ni=0,Oe=1,Tt=2,ii=3,cs=4,Tc=5,xr=6,Tl=7,pi=8,ka=9,Ma=10,xt=11,xc=12,u0=13,Na=14,Ni=15,Ic=16,xl=17,Ho=18,Yu=19,tf=20,Pa=21,ta=22,Il=23,Dc=24,Zt=25,nf=1,d0=2,Ms=7,Dl=9,Ir=11;function Io(n){return Array.isArray(n)&&"object"==typeof n[nf]}function hr(n){return Array.isArray(n)&&!0===n[nf]}function Vg(n){return 0!=(4&n.flags)}function Sc(n){return n.componentOffset>-1}function Bg(n){return 1==(1&n.flags)}function Ns(n){return!!n.template}function h0(n){return 0!=(512&n[Tt])}function Sl(n,t){return n.hasOwnProperty(ks)?n[ks]:null}let Pi=null,sf=!1;function wn(n){const t=Pi;return Pi=n,t}const y0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function v0(n){if(!ed(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Ju(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function b0(n){n.dirty=!0,function cf(n){if(void 0===n.liveConsumerNode)return;const t=sf;sf=!0;try{for(const e of n.liveConsumerNode)e.dirty||b0(e)}finally{sf=t}}(n),n.consumerMarkedDirty?.(n)}function lf(n){return n&&(n.nextProducerIndex=0),wn(n)}function zg(n,t){if(wn(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ed(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Rc(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ju(n){Oa(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(v0(e),i!==e.version))return!0}return!1}function $g(n){if(Oa(n),ed(n))for(let t=0;t<n.producerNode.length;t++)Rc(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Rc(n,t){if(function Wg(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Oa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Rc(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Oa(r),r.producerIndexOfThis[i]=t}}function ed(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Oa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let GI=null;const I0=()=>{},XI=(()=>({...y0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:I0}))();class D0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yn(){return S0}function S0(n){return n.type.prototype.ngOnChanges&&(n.setInput=Kg),JI}function JI(){const n=df(this),t=n?.current;if(t){const e=n.previous;if(e===Rs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Kg(n,t,e,i){const r=this.declaredInputs[e],o=df(n)||function e1(n,t){return n[A0]=t}(n,{previous:Rs,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new D0(c&&c.currentValue,t,a===Rs),n[i]=t}Yn.ngInherit=!0;const A0="__ngSimpleChanges__";function df(n){return n[A0]||null}const zo=function(n,t,e){},id="svg";function Hn(n){for(;Array.isArray(n);)n=n[ni];return n}function ff(n,t){return Hn(t[n])}function Bi(n,t){return Hn(t[n.index])}function R0(n,t){return n.data[t]}function Rl(n,t){return n[t]}function Do(n,t){const e=t[n];return Io(e)?e:e[ni]}function Fa(n,t){return null==t?null:n[t]}function pf(n){n[xl]=0}function r1(n){1024&n[Tt]||(n[Tt]|=1024,M0(n,1))}function mf(n){1024&n[Tt]&&(n[Tt]&=-1025,M0(n,-1))}function M0(n,t){let e=n[ii];if(null===e)return;e[Tc]+=t;let i=e;for(e=e[ii];null!==e&&(1===t&&1===i[Tc]||-1===t&&0===i[Tc]);)e[Tc]+=t,i=e,e=e[ii]}const vt={lFrame:H0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _f(){return vt.bindingsEnabled}function Ml(){return null!==vt.skipHydrationRootTNode}function ge(){return vt.lFrame.lView}function cn(){return vt.lFrame.tView}function Ye(n){return vt.lFrame.contextLView=n,n[pi]}function Ge(n){return vt.lFrame.contextLView=null,n}function fr(){let n=F0();for(;null!==n&&64===n.type;)n=n.parent;return n}function F0(){return vt.lFrame.currentTNode}function Os(n,t){const e=vt.lFrame;e.currentTNode=n,e.isParent=t}function od(){return vt.lFrame.isParent}function sd(){vt.lFrame.isParent=!1}function Ur(){const n=vt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Fs(){return vt.lFrame.bindingIndex}function Mc(){return vt.lFrame.bindingIndex++}function na(n){const t=vt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function l1(n,t){const e=vt.lFrame;e.bindingIndex=e.bindingRootIndex=n,n_(t)}function n_(n){vt.lFrame.currentDirectiveIndex=n}function V0(){return vt.lFrame.currentQueryIndex}function i_(n){vt.lFrame.currentQueryIndex=n}function B0(n){const t=n[Oe];return 2===t.type?t.declTNode:1===t.type?n[xr]:null}function U0(n,t,e){if(e&jt.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&jt.Host||(r=B0(o),null===r||(o=o[Na],10&r.type))););if(null===r)return!1;t=r,n=o}const i=vt.lFrame=j0();return i.currentTNode=t,i.lView=n,!0}function Nl(n){const t=j0(),e=n[Oe];vt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function j0(){const n=vt.lFrame,t=null===n?null:n.child;return null===t?H0(n):t}function H0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function z0(){const n=vt.lFrame;return vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $0=z0;function r_(){const n=z0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jr(){return vt.lFrame.selectedIndex}function ia(n){vt.lFrame.selectedIndex=n}function mi(){const n=vt.lFrame;return R0(n.tView,n.selectedIndex)}function bf(){vt.lFrame.currentNamespace=id}let W0=!0;function wf(){return W0}function La(n){W0=n}function Ef(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Pl(n,t,e){Cf(n,t,3,e)}function Ol(n,t,e,i){(3&n[Tt])===e&&Cf(n,t,e,i)}function a_(n,t){let e=n[Tt];(3&e)===t&&(e&=8191,e+=1,n[Tt]=e)}function Cf(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[xl]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[xl]+=65536),(a<o||-1==o)&&(q0(n,e,t,c),n[xl]=(4294901760&n[xl])+c+2),c++}function G0(n,t){zo(4,n,t);const e=wn(null);try{t.call(n)}finally{wn(e),zo(5,n,t)}}function q0(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Tt]>>13<n[xl]>>16&&(3&n[Tt])===t&&(n[Tt]+=8192,G0(a,o)):G0(a,o)}const Fl=-1;class Nc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function c_(n){return n!==Fl}function ld(n){return 32767&n}function ud(n,t){let e=function v1(n){return n>>16}(n),i=t;for(;e>0;)i=i[Na],e--;return i}let xf=!0;function If(n){const t=xf;return xf=n,t}const p=255,d=5;let h=0;const g={};function x(n,t){const e=J(n,t);if(-1!==e)return e;const i=t[Oe];i.firstCreatePass&&(n.injectorIndex=t.length,B(i.data,n),B(t,null),B(i.blueprint,null));const r=ye(n,t),o=n.injectorIndex;if(c_(r)){const s=ld(r),a=ud(r,t),c=a[Oe].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function B(n,t){n.push(0,0,0,0,0,0,0,0,t)}function J(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ye(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=t2(r),null===i)return Fl;if(e++,r=r[Na],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Fl}function He(n,t,e){!function v(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Cc)&&(i=e[Cc]),null==i&&(i=e[Cc]=h++);const r=i&p;t.data[n+(r>>d)]|=1<<r}(n,t,e)}function tn(n,t,e){if(e&jt.Optional||void 0!==n)return n;dg()}function Hr(n,t,e,i){if(e&jt.Optional&&void 0===i&&(i=null),!(e&(jt.Self|jt.Host))){const r=n[ka],o=to(void 0);try{return r?r.get(t,i,e&jt.Optional):jh(t,i,e&jt.Optional)}finally{to(o)}}return tn(i,0,e)}function ra(n,t,e,i=jt.Default,r){if(null!==n){if(2048&t[Tt]&&!(i&jt.Self)){const s=function yY(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Tt]&&!(512&s[Tt]);){const a=dd(o,s,e,i|jt.Self,g);if(a!==g)return a;let c=o.parent;if(!c){const l=s[tf];if(l){const u=l.get(e,g,i);if(u!==g)return u}c=t2(s),s=s[Na]}o=c}return r}(n,t,e,i,g);if(s!==g)return s}const o=dd(n,t,e,i,g);if(o!==g)return o}return Hr(t,e,i,r)}function dd(n,t,e,i,r){const o=function Y0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Cc)?n[Cc]:void 0;return"number"==typeof t?t>=0?t&p:b1:t}(e);if("function"==typeof o){if(!U0(t,n,i))return i&jt.Host?tn(r,0,i):Hr(t,e,i,r);try{let s;if(s=o(i),null!=s||i&jt.Optional)return s;dg()}finally{$0()}}else if("number"==typeof o){let s=null,a=J(n,t),c=Fl,l=i&jt.Host?t[Ni][xr]:null;for((-1===a||i&jt.SkipSelf)&&(c=-1===a?ye(n,t):t[a+8],c!==Fl&&l_(i,!1)?(s=t[Oe],a=ld(c),t=ud(c,t)):a=-1);-1!==a;){const u=t[Oe];if(Df(o,a,u.data)){const f=Z0(a,t,e,s,i,l);if(f!==g)return f}c=t[a+8],c!==Fl&&l_(i,t[Oe].data[a+8]===l)&&Df(o,a,t)?(s=u,a=ld(c),t=ud(c,t)):a=-1}}return r}function Z0(n,t,e,i,r,o){const s=t[Oe],a=s.data[n+8],u=Ll(a,s,e,null==i?Sc(a)&&xf:i!=s&&0!=(3&a.type),r&jt.Host&&o===a);return null!==u?Va(t,s,u,a):g}function Ll(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,u=o>>20,m=r?a+u:n.directiveEnd;for(let _=i?a:a+u;_<m;_++){const y=s[_];if(_<c&&e===y||_>=c&&y.type===e)return _}if(r){const _=s[c];if(_&&Ns(_)&&_.type===e)return c}return null}function Va(n,t,e,i){let r=n[e];const o=t.data;if(function g1(n){return n instanceof Nc}(r)){const s=r;s.resolving&&function Wu(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ze(n)}(o[e]));const a=If(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?to(s.injectImpl):null;U0(n,i,jt.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function m1(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=S0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&to(l),If(a),s.resolving=!1,$0()}}return r}function Df(n,t,e){return!!(e[t+(n>>d)]&1<<n)}function l_(n,t){return!(n&jt.Self||n&jt.Host&&t)}class Dr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ra(this._tNode,this._lView,t,Wh(i),e)}}function b1(){return new Dr(fr(),ge())}function Mt(n){return Co(()=>{const t=n.prototype.constructor,e=t[ks]||d_(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[ks]||d_(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function d_(n){return Ee(n)?()=>{const t=d_(U(n));return t&&t()}:Sl(n)}function t2(n){const t=n[Oe],e=t.type;return 2===e?t.declTNode:1===e?n[xr]:null}function Ls(n){return function ut(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Kh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(fr(),n)}const Af="__parameters__";function kf(n,t,e){return Co(()=>{const i=function w1(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const f=c.hasOwnProperty(Af)?c[Af]:Object.defineProperty(c,Af,{value:[]})[Af];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Nf(n,t){n.forEach(e=>Array.isArray(e)?Nf(e,t):t(e))}function r2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Q0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function f_(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ls(n,t,e){let i=Pf(n,t);return i>=0?n[1|i]=e:(i=~i,function xY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function E1(n,t){const e=Pf(n,t);if(e>=0)return n[1|e]}function Pf(n,t){return function o2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Bs=Gh(kf("Optional"),8),p_=Gh(kf("SkipSelf"),4);function iw(n){return 128==(128&n.flags)}var Bl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Bl||{});const GY=/^>|^->|<!--|-->|--!>|<!-$/g,qY=/(<|>)/g,KY="\u200b$1\u200b";const D1=new Map;let ZY=0;const A1="__ngContext__";function no(n,t){Io(t)?(n[A1]=t[Yu],function QY(n){D1.set(n[Yu],n)}(t)):n[A1]=t}let R1;function k1(n,t){return R1(n,t)}function __(n){const t=n[ii];return hr(t)?t[ii]:t}function x2(n){return D2(n[xc])}function I2(n){return D2(n[cs])}function D2(n){for(;null!==n&&!hr(n);)n=n[cs];return n}function Lf(n,t,e,i,r){if(null!=i){let o,s=!1;hr(i)?o=i:Io(i)&&(s=!0,i=i[ni]);const a=Hn(i);0===n&&null!==e?null==r?k2(t,e,a):hd(t,e,a,r||null,!0):1===n&&null!==e?hd(t,e,a,r||null,!0):2===n?function uw(n,t,e){const i=cw(n,t);i&&function gQ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function vQ(n,t,e,i,r){const o=e[Ms];o!==Hn(e)&&Lf(t,n,i,o,r);for(let a=Ir;a<e.length;a++){const c=e[a];v_(c[Oe],c,n,t,i,o)}}(t,n,o,e,r)}}function M1(n,t){return n.createComment(function _2(n){return n.replace(GY,t=>t.replace(qY,KY))}(t))}function sw(n,t,e){return n.createElement(t,e)}function A2(n,t){const e=n[Dl],i=e.indexOf(t);mf(t),e.splice(i,1)}function aw(n,t){if(n.length<=Ir)return;const e=Ir+t,i=n[e];if(i){const r=i[Ic];null!==r&&r!==n&&A2(r,i),t>0&&(n[e-1][cs]=i[cs]);const o=Q0(n,Ir+t);!function cQ(n,t){v_(n,t,t[xt],2,null,null),t[ni]=null,t[xr]=null}(i[Oe],i);const s=o[Ho];null!==s&&s.detachView(o[Oe]),i[ii]=null,i[cs]=null,i[Tt]&=-129}return i}function N1(n,t){if(!(256&t[Tt])){const e=t[xt];t[Il]&&$g(t[Il]),t[Dc]&&$g(t[Dc]),e.destroyNode&&v_(n,t,e,3,null,null),function dQ(n){let t=n[xc];if(!t)return P1(n[Oe],n);for(;t;){let e=null;if(Io(t))e=t[xc];else{const i=t[Ir];i&&(e=i)}if(!e){for(;t&&!t[cs]&&t!==n;)Io(t)&&P1(t[Oe],t),t=t[ii];null===t&&(t=n),Io(t)&&P1(t[Oe],t),e=t&&t[cs]}t=e}}(t)}}function P1(n,t){if(!(256&t[Tt])){t[Tt]&=-129,t[Tt]|=256,function mQ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Nc)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];zo(4,a,c);try{c.call(a)}finally{zo(5,a,c)}}else{zo(4,r,o);try{o.call(r)}finally{zo(5,r,o)}}}}}(n,t),function pQ(n,t){const e=n.cleanup,i=t[Tl];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Tl]=null);const r=t[Pa];if(null!==r){t[Pa]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Oe].type&&t[xt].destroy();const e=t[Ic];if(null!==e&&hr(t[ii])){e!==t[ii]&&A2(e,t);const i=t[Ho];null!==i&&i.detachView(n)}!function XY(n){D1.delete(n[Yu])}(t)}}function O1(n,t,e){return function R2(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ni];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===jo.None||o===jo.Emulated)return null}return Bi(i,e)}}(n,t.parent,e)}function hd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function k2(n,t,e){n.appendChild(t,e)}function M2(n,t,e,i,r){null!==i?hd(n,t,e,i,r):k2(n,t,e)}function cw(n,t){return n.parentNode(t)}function N2(n,t,e){return O2(n,t,e)}let F1,dw,U1,hw,O2=function P2(n,t,e){return 40&n.type?Bi(n,e):null};function lw(n,t,e,i){const r=O1(n,i,t),o=t[xt],a=N2(i.parent||t[xr],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)M2(o,r,e[c],a,!1);else M2(o,r,e,a,!1);void 0!==F1&&F1(o,i,t,e,r)}function y_(n,t){if(null!==t){const e=t.type;if(3&e)return Bi(t,n);if(4&e)return L1(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return y_(n,i);{const r=n[t.index];return hr(r)?L1(-1,r):Hn(r)}}if(32&e)return k1(t,n)()||Hn(n[t.index]);{const i=L2(n,t);return null!==i?Array.isArray(i)?i[0]:y_(__(n[Ni]),i):y_(n,t.next)}}return null}function L2(n,t){return null!==t?n[Ni][xr].projection[t.projection]:null}function L1(n,t){const e=Ir+n+1;if(e<t.length){const i=t[e],r=i[Oe].firstChild;if(null!==r)return y_(i,r)}return t[Ms]}function V1(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],c=e.type;if(s&&0===t&&(a&&no(Hn(a),i),e.flags|=2),32!=(32&e.flags))if(8&c)V1(n,t,e.child,i,r,o,!1),Lf(t,n,r,a,o);else if(32&c){const l=k1(e,i);let u;for(;u=l();)Lf(t,n,r,u,o);Lf(t,n,r,a,o)}else 16&c?B2(n,t,i,e,r,o):Lf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function v_(n,t,e,i,r,o){V1(e,i,n.firstChild,t,r,o,!1)}function B2(n,t,e,i,r,o){const s=e[Ni],c=s[xr].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Lf(t,n,r,c[l],o);else{let l=c;const u=s[ii];iw(i)&&(l.flags|=128),V1(n,t,l,u,r,o,!0)}}function U2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function j2(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&xg(n,t,i),null!==r&&U2(n,t,r),null!==o&&function wQ(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Vf(n){return function B1(){if(void 0===dw&&(dw=null,Mn.trustedTypes))try{dw=Mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dw}()?.createHTML(n)||n}function $2(n){return function j1(){if(void 0===hw&&(hw=null,Mn.trustedTypes))try{hw=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hw}()?.createScriptURL(n)||n}class fd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class IQ extends fd{getTypeName(){return"HTML"}}class DQ extends fd{getTypeName(){return"Style"}}class SQ extends fd{getTypeName(){return"Script"}}class AQ extends fd{getTypeName(){return"URL"}}class RQ extends fd{getTypeName(){return"ResourceURL"}}function us(n){return n instanceof fd?n.changingThisBreaksApplicationSecurity:n}function Ba(n,t){const e=function kQ(n){return n instanceof fd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ut})`)}return e===t}class LQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Vf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class VQ{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Vf(t),e}}const UQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fw(n){return(n=String(n)).match(UQ)?n:"unsafe:"+n}function Pc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function b_(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const G2=Pc("area,br,col,hr,img,wbr"),q2=Pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K2=Pc("rp,rt"),H1=b_(G2,b_(q2,Pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),b_(K2,Pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),b_(K2,q2)),z1=Pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z2=b_(z1,Pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jQ=Pc("script,style,template");class HQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!H1.hasOwnProperty(e))return this.sanitizedSomething=!0,!jQ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Z2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;z1[a]&&(c=fw(c)),this.buf.push(" ",s,'="',Y2(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();H1.hasOwnProperty(e)&&!G2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Y2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const zQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$Q=/([^\#-~ |!])/g;function Y2(n){return n.replace(/&/g,"&amp;").replace(zQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($Q,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pw;function Q2(n,t){let e=null;try{pw=pw||function W2(n){const t=new VQ(n);return function BQ(){try{return!!(new window.DOMParser).parseFromString(Vf(""),"text/html")}catch{return!1}}()?new LQ(t):t}(n);let i=t?String(t):"";e=pw.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=pw.getInertBodyElement(i)}while(i!==o);return Vf((new HQ).sanitizeChildren($1(e)||e))}finally{if(e){const i=$1(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function $1(n){return"content"in n&&function WQ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zr||{});function Uf(n){const t=w_();return t?t.sanitize(zr.URL,n)||"":Ba(n,"URL")?us(n):fw(Ze(n))}function X2(n){const t=w_();if(t)return $2(t.sanitize(zr.RESOURCE_URL,n)||"");if(Ba(n,"ResourceURL"))return $2(us(n));throw new K(904,!1)}function w_(){const n=ge();return n&&n[Ma].sanitizer}const E_=new oe("ENVIRONMENT_INITIALIZER"),eL=new oe("INJECTOR",-1),tL=new oe("INJECTOR_DEF_TYPES");class W1{get(t,e=wc){if(e===wc){const i=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw i.name="NullInjectorError",i}return e}}function XQ(...n){return{\u0275providers:nL(0,n),\u0275fromNgModule:!0}}function nL(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Nf(t,s=>{const a=s;mw(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&iL(r,o),e}function iL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];q1(r,o=>{t(o,i)})}}function mw(n,t,e,i){if(!(n=U(n)))return!1;let r=null,o=Gu(n);const s=!o&&en(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Gu(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)mw(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Nf(o.imports,u=>{mw(u,t,e,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&iL(l,t)}if(!a){const l=Sl(r)||(()=>new r);t({provide:r,useFactory:l,deps:hn},r),t({provide:tL,useValue:r,multi:!0},r),t({provide:E_,useValue:()=>O(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;q1(c,u=>{t(u,l)})}}}return r!==n&&void 0!==n.providers}function q1(n,t){for(let e of n)et(e)&&(e=e.\u0275providers),Array.isArray(e)?q1(e,t):t(e)}const JQ=Ne({provide:String,useValue:Ne});function K1(n){return null!==n&&"object"==typeof n&&JQ in n}function pd(n){return"function"==typeof n}const Z1=new oe("Set Injector scope."),gw={},tX={};let Y1;function _w(){return void 0===Y1&&(Y1=new W1),Y1}class So{}class jf extends So{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X1(t,s=>this.processProvider(s)),this.records.set(eL,Hf(void 0,this)),r.has("environment")&&this.records.set(So,Hf(void 0,this));const o=this.records.get(Z1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tL.multi,hn,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Aa(this),i=to(void 0);try{return t()}finally{Aa(e),to(i)}}get(t,e=wc,i=jt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(To))return t[To](this);i=Wh(i);const o=Aa(this),s=to(void 0);try{if(!(i&jt.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function sX(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(t)&&Vh(t);c=l&&this.injectableDefInScope(l)?Hf(Q1(t),gw):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&jt.Self?_w():this.parent).get(t,e=i&jt.Optional&&e===wc?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Eo]=a[Eo]||[]).unshift(tt(t)),o)throw a;return function Js(n,t,e,i){const r=n[Eo];throw t[$h]&&r.unshift(t[$h]),n.message=function bl(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=tt(t);if(Array.isArray(t))r=t.map(tt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(bg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Eo]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{to(s),Aa(o)}}resolveInjectorInitializers(){const t=Aa(this),e=to(void 0);try{const r=this.get(E_.multi,hn,jt.Self);for(const o of r)o()}finally{Aa(t),to(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(tt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(t){let e=pd(t=U(t))?t:U(t&&t.provide);const i=function iX(n){return K1(n)?Hf(void 0,n.useValue):Hf(sL(n),gw)}(t);if(pd(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Hf(void 0,gw,!0),r.factory=()=>Ec(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===gw&&(e.value=tX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=U(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Q1(n){const t=Vh(n),e=null!==t?t.factory:Sl(n);if(null!==e)return e;if(n instanceof oe)throw new K(204,!1);if(n instanceof Function)return function nX(n){const t=n.length;if(t>0)throw f_(t,"?"),new K(204,!1);const e=function _l(n){return n&&(n[yl]||n[Bh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new K(204,!1)}function sL(n,t,e){let i;if(pd(n)){const r=U(n);return Sl(r)||Q1(r)}if(K1(n))i=()=>U(n.useValue);else if(function oL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ec(n.deps||[]));else if(function rL(n){return!(!n||!n.useExisting)}(n))i=()=>O(U(n.useExisting));else{const r=U(n&&(n.useClass||n.provide));if(!function rX(n){return!!n.deps}(n))return Sl(r)||Q1(r);i=()=>new r(...Ec(n.deps))}return i}function Hf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function X1(n,t){for(const e of n)Array.isArray(e)?X1(e,t):e&&et(e)?X1(e.\u0275providers,t):t(e)}const C_=new oe("AppId",{providedIn:"root",factory:()=>aX}),aX="ng",aL=new oe("Platform Initializer"),ds=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oa=new oe("AnimationModuleType"),J1=new oe("CSP nonce",{providedIn:"root",factory:()=>function Bf(){if(void 0!==U1)return U1;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cL=(n,t,e)=>null;function aD(n,t,e=!1){return cL(n,t,e)}class _X{}class dL{}class vX{resolveComponentFactory(t){throw function yX(n){const t=Error(`No component factory found for ${tt(n)}.`);return t.ngComponent=n,t}(t)}}let I_=(()=>{class n{static#e=this.NULL=new vX}return n})();function bX(){return Wf(fr(),ge())}function Wf(n,t){return new st(Bi(n,t))}let st=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=bX}return n})();function wX(n){return n instanceof st?n.nativeElement:n}class Gf{}let Wo=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function EX(){const n=ge(),e=Do(fr().index,n);return(Io(e)?e:n)[xt]}()}return n})(),CX=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();class Ul{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fL=new Ul("16.2.12"),uD={};function _L(n,t=null,e=null,i){const r=yL(n,t,e,i);return r.resolveInjectorInitializers(),r}function yL(n,t=null,e=null,i,r=new Set){const o=[e||hn,XQ(n)];return i=i||("object"==typeof n?void 0:tt(n)),new jf(o,t||_w(),i||null,r)}let qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=wc;static#t=this.NULL=new W1;static create(e,i){if(Array.isArray(e))return _L({name:""},i,e,"");{const r=e.name??"";return _L({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>O(eL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function dD(n){return n.ngOriginalError}class Us{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&dD(t);for(;e&&dD(e);)e=dD(e);return e||null}}function hD(n){return t=>{setTimeout(n,void 0,t)}}const Fe=class kX extends ${constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=hD(o),r&&(r=hD(r)),s&&(s=hD(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof pt&&t.add(a),a}};function bL(...n){}class je{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function MX(){const n="function"==typeof Mn.requestAnimationFrame;let t=Mn[n?"requestAnimationFrame":"setTimeout"],e=Mn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function OX(n){const t=()=>{!function PX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pD(n),n.isCheckStableRunning=!0,fD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function LX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return wL(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),EL(n)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return wL(n),e.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),EL(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pD(n),fD(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new K(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,NX,bL,bL);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const NX={};function fD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EL(n){n._nesting--,fD(n)}class FX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const CL=new oe("",{providedIn:"root",factory:TL});function TL(){const n=Te(je);let t=!0;return I(new lt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new lt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{je.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(ae()))}function Oc(n){return n instanceof Function?n():n}let mD=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function D_(n){for(;n;){n[Tt]|=64;const t=__(n);if(h0(n)&&!t)return n;n=t}return null}const AL=new oe("",{providedIn:"root",factory:()=>!1});let xw=null;function NL(n,t){return n[t]??FL()}function PL(n,t){const e=FL();e.producerNode?.length&&(n[t]=xw,e.lView=n,xw=OL())}const qX={...y0,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{D_(n.lView)},lView:null};function OL(){return Object.create(qX)}function FL(){return xw??=OL(),xw}const At={};function V(n){LL(cn(),ge(),jr()+n,!1)}function LL(n,t,e,i){if(!i)if(3==(3&t[Tt])){const o=n.preOrderCheckHooks;null!==o&&Pl(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Ol(t,o,0,e)}ia(e)}function T(n,t=jt.Default){const e=ge();return null===e?O(n,t):ra(fr(),e,U(n),t)}function Yf(){throw new Error("invalid")}function Iw(n,t,e,i,r,o,s,a,c,l,u){const f=t.blueprint.slice();return f[ni]=r,f[Tt]=140|i,(null!==l||n&&2048&n[Tt])&&(f[Tt]|=2048),pf(f),f[ii]=f[Na]=n,f[pi]=e,f[Ma]=s||n&&n[Ma],f[xt]=a||n&&n[xt],f[ka]=c||n&&n[ka]||null,f[xr]=o,f[Yu]=function YY(){return ZY++}(),f[ta]=u,f[tf]=l,f[Ni]=2==t.type?n[Ni]:f,f}function Qf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function gD(n,t,e,i,r){const o=F0(),s=od(),c=n.data[t]=function tJ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Ml()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,i,r),function L0(){return vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function kc(){const n=vt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Os(o,!0),o}function S_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function VL(n,t,e,i,r){const o=NL(t,Il),s=jr(),a=2&i;try{ia(-1),a&&t.length>Zt&&LL(n,t,Zt,!1),zo(a?2:0,r);const l=a?o:null,u=lf(l);try{null!==l&&(l.dirty=!1),e(i,r)}finally{zg(l,u)}}finally{a&&null===t[Il]&&PL(t,Il),ia(s),zo(a?3:1,r)}}function _D(n,t,e){if(Vg(t)){const i=wn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{wn(i)}}}function yD(n,t,e){_f()&&(function cJ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;Sc(e)&&function mJ(n,t,e){const i=Bi(t,n),r=BL(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=Dw(n,Iw(n,r,null,s,i,t,null,n[Ma].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||x(e,t),no(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Va(t,n,a,e);no(l,t),null!==s&&gJ(0,a-r,l,c,0,s),Ns(c)&&(Do(e.index,t)[pi]=Va(t,n,a,e))}}(n,t,e,Bi(e,t)),64==(64&e.flags)&&$L(n,t,e))}function vD(n,t,e=Bi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function BL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=bD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function bD(n,t,e,i,r,o,s,a,c,l,u){const f=Zt+i,m=f+r,_=function ZX(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:At);return e}(f,m),y="function"==typeof l?l():l;return _[Oe]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let UL=n=>null;function jL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?HL(e,t,r,o):i.hasOwnProperty(r)&&HL(e,t,i[r],o)}return e}function HL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function hs(n,t,e,i,r,o,s,a){const c=Bi(t,e);let u,l=t.inputs;!a&&null!=l&&(u=l[i])?(xD(n,e,u,i,r),Sc(t)&&function rJ(n,t){const e=Do(t,n);16&e[Tt]||(e[Tt]|=64)}(e,t.index)):3&t.type&&(i=function iJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function wD(n,t,e,i){if(_f()){const r=null===i?null:{"":-1},o=function uJ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Qh(t,s.selectors,!1))if(i||(i=[]),Ns(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),ED(n,t,a.length)}else i.unshift(s),ED(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&zL(n,t,e,s,r,a),r&&function dJ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new K(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=El(e.mergedAttrs,e.attrs)}function zL(n,t,e,i,r,o){for(let l=0;l<i.length;l++)He(x(e,t),n,i[l].type);!function fJ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=S_(n,t,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];e.mergedAttrs=El(e.mergedAttrs,u.hostAttrs),pJ(n,e,t,c,u),hJ(c,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function nJ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],m=e?e.get(f):null,y=m?m.outputs:null;c=jL(f.inputs,u,c,m?m.inputs:null),l=jL(f.outputs,u,l,y);const b=null===c||null===s||Zh(t)?null:_J(c,u,s);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function $L(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function u1(){return vt.lFrame.currentDirectiveIndex}();try{ia(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];n_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&lJ(c,l)}}finally{ia(-1),n_(s)}}function lJ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ED(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function hJ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ns(t)&&(e[""]=n)}}function pJ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Sl(r.type)),s=new Nc(o,Ns(r),T);n.blueprint[i]=s,e[i]=s,function sJ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function aJ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,S_(n,e,r.hostVars,At),r)}function Ua(n,t,e,i,r,o){const s=Bi(n,t);!function CD(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ze(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[xt],s,o,n.value,e,i,r)}function gJ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)WL(i,e,s[a++],s[a++],s[a++])}function WL(n,t,e,i,r){const o=wn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{wn(o)}}function _J(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function GL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function qL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];i_(e[i]),s.contentQueries(2,t[o],o)}}}function Dw(n,t){return n[xc]?n[u0][cs]=t:n[xc]=t,n[u0]=t,t}function TD(n,t,e){i_(0);const i=wn(null);try{t(n,e)}finally{wn(i)}}function KL(n){return n[Tl]||(n[Tl]=[])}function ZL(n){return n.cleanup||(n.cleanup=[])}function QL(n,t){const e=n[ka],i=e?e.get(Us,null):null;i&&i.handleError(t)}function xD(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];WL(n.data[s],t[s],i,a,r)}}function Fc(n,t,e){const i=ff(t,n);!function S2(n,t,e){n.setValue(t,e)}(n[xt],i,e)}function yJ(n,t){const e=Do(t,n),i=e[Oe];!function vJ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ni];null!==r&&null===e[ta]&&(e[ta]=aD(r,e[ka])),ID(i,e,e[pi])}function ID(n,t,e){Nl(t);try{const i=n.viewQuery;null!==i&&TD(1,i,e);const r=n.template;null!==r&&VL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qL(n,t),n.staticViewQueries&&TD(2,n.viewQuery,e);const o=n.components;null!==o&&function bJ(n,t){for(let e=0;e<t.length;e++)yJ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Tt]&=-5,r_()}}let XL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function QI(n,t,e){const i=Object.create(XI);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>b0(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Ju(i))return;i.hasRun=!0;const s=lf(i);try{i.cleanupFn(),i.cleanupFn=I0,i.fn(r)}finally{zg(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=nr(r,a):2==o&&(i=nr(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function A_(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(Hn(o)),hr(o)&&JL(o,i);const s=e.type;if(8&s)A_(n,t,e.child,i);else if(32&s){const a=k1(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=L2(t,e);if(Array.isArray(a))i.push(...a);else{const c=__(t[Ni]);A_(c[Oe],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function JL(n,t){for(let e=Ir;e<n.length;e++){const i=n[e],r=i[Oe].firstChild;null!==r&&A_(i[Oe],i,r,t)}n[Ms]!==n[ni]&&t.push(n[Ms])}function Aw(n,t,e,i=!0){const r=t[Ma],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{eV(n,t,n.template,e)}catch(c){throw i&&QL(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function eV(n,t,e,i){const r=t[Tt];if(256!=(256&r)){t[Ma].effectManager?.flush(),Nl(t);try{pf(t),function t_(n){return vt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&VL(n,t,e,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&Pl(t,l,null)}else{const l=n.preOrderHooks;null!==l&&Ol(t,l,0,null),a_(t,0)}if(function CJ(n){for(let t=x2(n);null!==t;t=I2(t)){if(!t[d0])continue;const e=t[Dl];for(let i=0;i<e.length;i++){r1(e[i])}}}(t),tV(t,2),null!==n.contentQueries&&qL(n,t),s){const l=n.contentCheckHooks;null!==l&&Pl(t,l)}else{const l=n.contentHooks;null!==l&&Ol(t,l,1),a_(t,1)}!function KX(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=NL(t,Dc);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)ia(~o);else{const s=o,a=e[++r],c=e[++r];l1(a,s),i.dirty=!1;const l=lf(i);try{c(2,t[s])}finally{zg(i,l)}}}}finally{null===t[Dc]&&PL(t,Dc),ia(-1)}}(n,t);const a=n.components;null!==a&&iV(t,a,0);const c=n.viewQuery;if(null!==c&&TD(2,c,i),s){const l=n.viewCheckHooks;null!==l&&Pl(t,l)}else{const l=n.viewHooks;null!==l&&Ol(t,l,2),a_(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Tt]&=-73,mf(t)}finally{r_()}}}function tV(n,t){for(let e=x2(n);null!==e;e=I2(e))for(let i=Ir;i<e.length;i++)nV(e[i],t)}function TJ(n,t,e){nV(Do(t,n),e)}function nV(n,t){if(!function k0(n){return 128==(128&n[Tt])}(n))return;const e=n[Oe],i=n[Tt];if(80&i&&0===t||1024&i||2===t)eV(e,n,e.template,n[pi]);else if(n[Tc]>0){tV(n,1);const r=e.components;null!==r&&iV(n,r,1)}}function iV(n,t,e){for(let i=0;i<t.length;i++)TJ(n,t[i],e)}class R_{get rootNodes(){const t=this._lView,e=t[Oe];return A_(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pi]}set context(t){this._lView[pi]=t}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ii];if(hr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(aw(t,i),Q0(e,i))}this._attachedToViewContainer=!1}N1(this._lView[Oe],this._lView)}onDestroy(t){!function gf(n,t){if(256==(256&n[Tt]))throw new K(911,!1);null===n[Pa]&&(n[Pa]=[]),n[Pa].push(t)}(this._lView,t)}markForCheck(){D_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){Aw(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uQ(n,t){v_(n,t,t[xt],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=t}}class xJ extends R_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Aw(t[Oe],t,t[pi],!1)}checkNoChanges(){}get context(){return null}}class rV extends I_{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=en(t);return new k_(e,this.ngModule)}}function oV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class DJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Wh(i);const r=this.injector.get(t,uD,i);return r!==uD||e===uD?r:this.parentInjector.get(t,e,i)}}class k_ extends dL{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=oV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return oV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function c0(n){return n.map(Mg).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof So?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new DJ(t,o):t,a=s.get(Gf,null);if(null===a)throw new K(407,!1);const f={rendererFactory:a,sanitizer:s.get(CX,null),effectManager:s.get(XL,null),afterRenderEventManager:s.get(mD,null)},m=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=i?function YX(n,t,e,i){const o=i.get(AL,!1)||e===jo.ShadowDom,s=n.selectRootElement(t,o);return function QX(n){UL(n)}(s),s}(m,i,this.componentDef.encapsulation,s):sw(m,_,function IJ(n){const t=n.toLowerCase();return"svg"===t?id:"math"===t?"math":null}(_)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==y&&(A=aD(y,s,!0));const L=bD(0,null,null,1,0,null,null,null,null,null,null),W=Iw(null,L,null,N,null,null,f,m,s,null,A);let le,De;Nl(W);try{const Me=this.componentDef;let nt,rn=null;Me.findHostDirectiveDefs?(nt=[],rn=new Map,Me.findHostDirectiveDefs(Me,nt,rn),nt.push(Me)):nt=[Me];const yn=function AJ(n,t){const e=n[Oe],i=Zt;return n[i]=t,Qf(e,i,2,"#host",null)}(W,y),Ji=function RJ(n,t,e,i,r,o,s){const a=r[Oe];!function kJ(n,t,e,i){for(const r of n)t.mergedAttrs=El(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Sw(t,t.mergedAttrs,!0),null!==e&&j2(i,e,t))}(i,n,t,s);let c=null;null!==t&&(c=aD(t,r[ka]));const l=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=Iw(r,BL(e),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&ED(a,n,i.length-1),Dw(r,f),r[n.index]=f}(yn,y,Me,nt,W,f,m);De=R0(L,Zt),y&&function NJ(n,t,e,i){if(i)xg(n,e,["ng-version",fL.full]);else{const{attrs:r,classes:o}=function Ng(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!xo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&xg(n,e,r),o&&o.length>0&&U2(n,e,o.join(" "))}}(m,Me,y,i),void 0!==e&&function PJ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(De,this.ngContentSelectors,e),le=function MJ(n,t,e,i,r,o){const s=fr(),a=r[Oe],c=Bi(s,r);zL(a,r,s,e,null,i);for(let u=0;u<e.length;u++)no(Va(r,a,s.directiveStart+u,s),r);$L(a,r,s),c&&no(c,r);const l=Va(r,a,s.directiveStart+s.componentOffset,s);if(n[pi]=r[pi]=l,null!==o)for(const u of o)u(l,t);return _D(a,s,n),l}(Ji,Me,nt,rn,W,[OJ]),ID(L,W,null)}finally{r_()}return new SJ(this.componentType,le,Wf(De,W),W,De)}}class SJ extends _X{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new xJ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;xD(o[Oe],o,r,t,e),this.previousInputValues.set(t,e),D_(Do(this._tNode.index,o))}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OJ(){const n=fr();Ef(ge()[Oe],n)}function Qe(n){let t=function sV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ns(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Rw(n.inputs),s.inputTransforms=Rw(n.inputTransforms),s.declaredInputs=Rw(n.declaredInputs),s.outputs=Rw(n.outputs);const a=r.hostBindings;a&&BJ(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&LJ(n,c),l&&VJ(n,l),kn(n.inputs,r.inputs),kn(n.declaredInputs,r.declaredInputs),kn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),kn(s.inputTransforms,r.inputTransforms)),Ns(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function FJ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=El(r.hostAttrs,e=El(e,r.hostAttrs))}}(i)}function Rw(n){return n===Rs?{}:n===hn?[]:n}function LJ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function VJ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function BJ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function uV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function kw(n){return!!DD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function DD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ja(n,t,e){return n[t]=e}function io(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function md(n,t,e,i){const r=io(n,t,e);return io(n,t+1,i)||r}function Mw(n,t,e,i,r){const o=md(n,t,e,i);return io(n,t+2,r)||o}function Nt(n,t,e,i){const r=ge();return io(r,Mc(),t)&&(cn(),Ua(mi(),r,n,t,e,i)),Nt}function Jf(n,t,e,i){return io(n,Mc(),e)?t+Ze(e)+i:At}function se(n,t,e,i,r,o,s,a){const c=ge(),l=cn(),u=n+Zt,f=l.firstCreatePass?function lee(n,t,e,i,r,o,s,a,c){const l=t.consts,u=Qf(t,n,4,s||null,Fa(l,a));wD(t,e,u,Fa(l,c)),Ef(t,u);const f=u.tView=bD(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,e,i,r,o,s):l.data[u];Os(f,!1);const m=CV(l,c,f,n);wf()&&lw(l,c,m,f),no(m,c),Dw(c,c[u]=GL(m,c,m,f)),Bg(f)&&yD(l,c,f),null!=s&&vD(c,f,a)}let CV=function TV(n,t,e,i){return La(!0),t[xt].createComment("")};function Ki(n){return Rl(function e_(){return vt.lFrame.contextLView}(),Zt+n)}function j(n,t,e){const i=ge();return io(i,Mc(),t)&&hs(cn(),mi(),i,n,t,i[xt],e,!1),j}function ND(n,t,e,i,r){const s=r?"class":"style";xD(n,e,t.inputs[s],s,i)}function R(n,t,e,i){const r=ge(),o=cn(),s=Zt+n,a=r[xt],c=o.firstCreatePass?function fee(n,t,e,i,r,o){const s=t.consts,c=Qf(t,n,2,i,Fa(s,r));return wD(t,e,c,Fa(s,o)),null!==c.attrs&&Sw(c,c.attrs,!1),null!==c.mergedAttrs&&Sw(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,i):o.data[s],l=xV(o,r,c,a,t,n);r[s]=l;const u=Bg(c);return Os(c,!0),j2(a,l,c),32!=(32&c.flags)&&wf()&&lw(o,r,l,c),0===function o1(){return vt.lFrame.elementDepthCount}()&&no(l,r),function Xg(){vt.lFrame.elementDepthCount++}(),u&&(yD(o,r,c),_D(o,c,r)),null!==i&&vD(r,c),R}function M(){let n=fr();od()?sd():(n=n.parent,Os(n,!1));const t=n;(function N0(n){return vt.skipHydrationRootTNode===n})(t)&&function a1(){vt.skipHydrationRootTNode=null}(),function Jg(){vt.lFrame.elementDepthCount--}();const e=cn();return e.firstCreatePass&&(Ef(e,n),Vg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Tf(n){return 0!=(8&n.flags)}(t)&&ND(e,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function K0(n){return 0!=(16&n.flags)}(t)&&ND(e,t,ge(),t.stylesWithoutHost,!1),M}function rt(n,t,e,i){return R(n,t,e,i),M(),rt}let xV=(n,t,e,i,r,o)=>(La(!0),sw(i,r,function s_(){return vt.lFrame.currentNamespace}()));function Go(n,t,e){const i=ge(),r=cn(),o=n+Zt,s=r.firstCreatePass?function gee(n,t,e,i,r){const o=t.consts,s=Fa(o,i),a=Qf(t,n,8,"ng-container",s);return null!==s&&Sw(a,s,!0),wD(t,e,a,Fa(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Os(s,!0);const a=IV(r,i,s,n);return i[o]=a,wf()&&lw(r,i,a,s),no(a,i),Bg(s)&&(yD(r,i,s),_D(r,s,i)),null!=e&&vD(i,s),Go}function qo(){let n=fr();const t=cn();return od()?sd():(n=n.parent,Os(n,!1)),t.firstCreatePass&&(Ef(t,n),Vg(n)&&t.queries.elementEnd(n)),qo}let IV=(n,t,e,i)=>(La(!0),M1(t[xt],""));function ln(){return ge()}function L_(n){return!!n&&"function"==typeof n.then}function DV(n){return!!n&&"function"==typeof n.subscribe}function Ie(n,t,e,i){const r=ge(),o=cn(),s=fr();return function AV(n,t,e,i,r,o,s){const a=Bg(i),l=n.firstCreatePass&&ZL(n),u=t[pi],f=KL(t);let m=!0;if(3&i.type||s){const b=Bi(i,t),E=s?s(b):b,N=f.length,A=s?W=>s(Hn(W[i.index])):i.index;let L=null;if(!s&&a&&(L=function vee(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Tl],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,m=!1;else{o=kV(i,t,u,o,!1);const W=e.listen(E,r,o);f.push(o,W),l&&l.push(r,A,N,N+1)}}else o=kV(i,t,u,o,!1);const _=i.outputs;let y;if(m&&null!==_&&(y=_[r])){const b=y.length;if(b)for(let E=0;E<b;E+=2){const le=t[y[E]][y[E+1]].subscribe(o),De=f.length;f.push(o,le),l&&l.push(r,i.index,De,-(De+1))}}}(o,r,r[xt],s,n,t,i),Ie}function RV(n,t,e,i){try{return zo(6,t,e),!1!==e(i)}catch(r){return QL(n,r),!1}finally{zo(7,t,e)}}function kV(n,t,e,i,r){return function o(s){if(s===Function)return i;D_(n.componentOffset>-1?Do(n.index,t):t);let c=RV(t,e,i,s),l=o.__ngNextListenerFn__;for(;l;)c=RV(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function ne(n=1){return function d1(n){return(vt.lFrame.contextLView=function h1(n,t){for(;n>0;)t=t[Na],n--;return t}(n,vt.lFrame.contextLView))[pi]}(n)}function bee(n,t){let e=null;const i=function a0(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Qh(n,o,!0):Rg(i,o))return r}else e=r}return e}function ro(n){const t=ge()[Ni][xr];if(!t.projection){const i=t.projection=f_(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?bee(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function fn(n,t=0,e){const i=ge(),r=cn(),o=Qf(r,Zt+n,16,null,e||null);null===o.projection&&(o.projection=t),sd(),(!i[ta]||Ml())&&32!=(32&o.flags)&&function yQ(n,t,e){B2(t[xt],0,t,e,O1(n,e,t),N2(e.parent||t[xr],e,t))}(r,i,o)}function Fw(n,t,e){return Lw(n,"",t,"",e),Fw}function Lw(n,t,e,i,r){const o=ge(),s=Jf(o,t,e,i);return s!==At&&hs(cn(),mi(),o,n,s,o[xt],r,!1),Lw}function Vw(n,t){return n<<17|t<<2}function jl(n){return n>>17&32767}function PD(n){return 2|n}function gd(n){return(131068&n)>>2}function OD(n,t){return-131069&n|t<<2}function FD(n){return 1|n}function UV(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?jl(o):gd(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];Iee(n[a],t)&&(c=!0,n[a+1]=i?FD(u):PD(u)),a=i?jl(u):gd(u)}c&&(n[e+1]=i?PD(o):FD(o))}function Iee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Pf(n,t)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jV(n){return n.substring(mr.key,mr.keyEnd)}function Dee(n){return n.substring(mr.value,mr.valueEnd)}function HV(n,t){const e=mr.textEnd;return e===t?-1:(t=mr.keyEnd=function Ree(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,mr.key=t,e),ap(n,t,e))}function zV(n,t){const e=mr.textEnd;let i=mr.key=ap(n,t,e);return e===i?-1:(i=mr.keyEnd=function kee(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=WV(n,i,e),i=mr.value=ap(n,i,e),i=mr.valueEnd=function Mee(n,t,e){let i=-1,r=-1,o=-1,s=t,a=s;for(;s<e;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=GV(n,c,s,e):t===s-4&&85===o&&82===r&&76===i&&40===c?a=s=GV(n,41,s,e):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(n,i,e),WV(n,i,e))}function $V(n){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=n.length}function ap(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function WV(n,t,e,i){return(t=ap(n,t,e))<e&&t++,t}function GV(n,t,e,i){let r=-1,o=e;for(;o<i;){const s=n.charCodeAt(o++);if(s==t&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function _d(n,t,e){return aa(n,t,e,!1),_d}function dt(n,t){return aa(n,t,null,!0),dt}function Nee(n,t){for(let e=function Aee(n){return $V(n),zV(n,ap(n,0,mr.textEnd))}(t);e>=0;e=zV(t,e))ZV(n,jV(t),Dee(t))}function Hl(n){ca(Bee,za,n,!0)}function za(n,t){for(let e=function See(n){return $V(n),HV(n,ap(n,0,mr.textEnd))}(t);e>=0;e=HV(t,e))ls(n,jV(t),!0)}function aa(n,t,e,i){const r=ge(),o=cn(),s=na(2);o.firstUpdatePass&&KV(o,n,s,i),t!==At&&io(r,s,t)&&YV(o,o.data[jr()],r,r[xt],n,r[s+1]=function jee(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=tt(us(n)))),n}(t,e),i,s)}function ca(n,t,e,i){const r=cn(),o=na(2);r.firstUpdatePass&&KV(r,null,o,i);const s=ge();if(e!==At&&io(s,o,e)){const a=r.data[jr()];if(XV(a,i)&&!qV(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=nr(c,e||"")),ND(r,a,s,e,i)}else!function Uee(n,t,e,i,r,o,s,a){r===At&&(r=hn);let c=0,l=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const m=c<r.length?r[c+1]:void 0,_=l<o.length?o[l+1]:void 0;let b,y=null;u===f?(c+=2,l+=2,m!==_&&(y=f,b=_)):null===f||null!==u&&u<f?(c+=2,y=u):(l+=2,y=f,b=_),null!==y&&YV(n,t,e,i,y,b,s,a),u=c<r.length?r[c]:null,f=l<o.length?o[l]:null}}(r,a,s,s[xt],s[o+1],s[o+1]=function Vee(n,t,e){if(null==e||""===e)return hn;const i=[],r=us(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function qV(n,t){return t>=n.expandoStartIndex}function KV(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[jr()],s=qV(n,e);XV(o,i)&&null===t&&!s&&(t=!1),t=function Pee(n,t,e,i){const r=function ad(n){const t=vt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=V_(e=LD(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=LD(r,n,t,e,i),null===o){let c=function Oee(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==gd(i))return n[jl(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=LD(null,n,t,c[1],i),c=V_(c,t.attrs,i),function Fee(n,t,e,i){n[jl(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function Lee(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=V_(i,n[o].hostAttrs,e);return V_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Tee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=jl(s),c=gd(s);n[i]=e;let u,l=!1;if(Array.isArray(e)?(u=e[1],(null===u||Pf(e,u)>0)&&(l=!0)):u=e,r)if(0!==c){const m=jl(n[a+1]);n[i+1]=Vw(m,a),0!==m&&(n[m+1]=OD(n[m+1],i)),n[a+1]=function Eee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Vw(a,0),0!==a&&(n[a+1]=OD(n[a+1],i)),a=i;else n[i+1]=Vw(c,0),0===a?a=i:n[c+1]=OD(n[c+1],i),c=i;l&&(n[i+1]=PD(n[i+1])),UV(n,u,i,!0),UV(n,u,i,!1),function xee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Pf(o,t)>=0&&(e[i+1]=FD(e[i+1]))}(t,u,n,i,o),s=Vw(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function LD(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=V_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function V_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ls(n,s,!!e||t[++o]))}return void 0===n?null:n}function ZV(n,t,e){ls(n,t,us(e))}function Bee(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ls(n,i,e)}function YV(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],u=function Cee(n){return 1==(1&n)}(l)?QV(c,t,e,r,gd(l),s):void 0;Bw(u)||(Bw(o)||function wee(n){return 2==(2&n)}(l)&&(o=QV(c,null,e,r,a,s)),function bQ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Bl.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bl.Important),n.setStyle(e,i,r,o))}}(i,s,ff(jr(),e),r,o))}function QV(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let m=e[r+1];m===At&&(m=f?hn:void 0);let _=f?E1(m,i):u===i?m:void 0;if(l&&!Bw(_)&&(_=E1(c,i)),Bw(_)&&(a=_,s))return a;const y=n[r+1];r=s?jl(y):gd(y)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=E1(c,i))}return a}function Bw(n){return void 0!==n}function XV(n,t){return 0!=(n.flags&(t?8:16))}function ce(n,t=""){const e=ge(),i=cn(),r=n+Zt,o=i.firstCreatePass?Qf(i,r,1,t,null):i.data[r],s=JV(i,e,o,t,n);e[r]=s,wf()&&lw(i,e,s,o),Os(o,!1)}let JV=(n,t,e,i,r)=>(La(!0),function ow(n,t){return n.createText(t)}(t[xt],i));function ri(n){return Ti("",n,""),ri}function Ti(n,t,e){const i=ge(),r=Jf(i,n,t,e);return r!==At&&Fc(i,jr(),r),Ti}function VD(n,t,e,i,r){const o=ge(),s=function ep(n,t,e,i,r,o){const a=md(n,Fs(),e,r);return na(2),a?t+Ze(e)+i+Ze(r)+o:At}(o,n,t,e,i,r);return s!==At&&Fc(o,jr(),s),VD}function BD(n,t,e,i,r,o,s){const a=ge(),c=function tp(n,t,e,i,r,o,s,a){const l=Mw(n,Fs(),e,r,s);return na(3),l?t+Ze(e)+i+Ze(r)+o+Ze(s)+a:At}(a,n,t,e,i,r,o,s);return c!==At&&Fc(a,jr(),c),BD}function $r(n,t,e){const i=ge();return io(i,Mc(),t)&&hs(cn(),mi(),i,n,t,i[xt],e,!0),$r}const yd=void 0;var cte=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ate(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let cp={};function Ao(n){const t=function lte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=yB(t);if(e)return e;const i=t.split("-")[0];if(e=yB(i),e)return e;if("en"===i)return cte;throw new K(701,!1)}function yB(n){return n in cp||(cp[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),cp[n]}var oi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(oi||{});const lp="en-US";let vB=lp;function HD(n,t,e,i,r){if(n=U(n),Array.isArray(n))for(let o=0;o<n.length;o++)HD(n[o],t,e,i,r);else{const o=cn(),s=ge(),a=fr();let c=pd(n)?n:U(n.provide);const l=sL(n),u=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(pd(n)||!n.multi){const _=new Nc(l,r,T),y=$D(c,t,r?u:u+m,f);-1===y?(He(x(a,s),o,c),zD(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[y]=_,s[y]=_)}else{const _=$D(c,t,u+m,f),y=$D(c,t,u,u+m),E=y>=0&&e[y];if(r&&!E||!r&&!(_>=0&&e[_])){He(x(a,s),o,c);const N=function sne(n,t,e,i,r){const o=new Nc(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,$B(o,r,i&&!e),o}(r?one:rne,e.length,r,i,l);!r&&E&&(e[y].providerFactory=N),zD(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),s.push(N)}else zD(o,n,_>-1?_:y,$B(e[r?y:_],l,!r&&i));!r&&i&&E&&e[y].componentProviders++}}}function zD(n,t,e,i){const r=pd(t),o=function eX(n){return!!n.useClass}(t);if(r||o){const c=(o?U(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=l.indexOf(e);-1===u?l.push(e,[i,c]):l[u+1].push(i,c)}else l.push(e,c)}}}function $B(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function $D(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function rne(n,t,e,i){return WD(this.multi,[])}function one(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Va(e,e[Oe],this.providerFactory.index,i);o=a.slice(0,s),WD(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],WD(r,o);return o}function WD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function ine(n,t,e){const i=cn();if(i.firstCreatePass){const r=Ns(n);HD(e,i.data,i.blueprint,r,!0),HD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class vd{}class WB{}class GD extends vd{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rV(this);const r=Br(t);this._bootstrapComponents=Oc(r.bootstrap),this._r3Injector=yL(t,e,[{provide:vd,useValue:this},{provide:I_,useValue:this.componentFactoryResolver},...i],tt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qD extends WB{constructor(t){super(),this.moduleType=t}create(t){return new GD(this.moduleType,t,[])}}class GB extends vd{constructor(t){super(),this.componentFactoryResolver=new rV(this),this.instance=null;const e=new jf([...t.providers,{provide:vd,useValue:this},{provide:I_,useValue:this.componentFactoryResolver}],t.parent||_w(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function KD(n,t,e=null){return new GB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let lne=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=nL(0,e.type),r=i.length>0?KD([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(O(So))})}return n})();function Zo(n){n.getStandaloneInjector=t=>t.get(lne).getOrCreateStandaloneInjector(n)}function $w(n,t,e){const i=Ur()+n,r=ge();return r[i]===At?ja(r,i,e?t.call(e):t()):function N_(n,t){return n[t]}(r,i)}function $a(n,t,e,i){return function JB(n,t,e,i,r,o){const s=t+e;return io(n,s,r)?ja(n,s+1,o?i.call(o,r):i(r)):W_(n,s+1)}(ge(),Ur(),n,t,e,i)}function bd(n,t,e,i,r){return eU(ge(),Ur(),n,t,e,i,r)}function Ww(n,t,e,i,r,o){return function tU(n,t,e,i,r,o,s,a){const c=t+e;return Mw(n,c,r,o,s)?ja(n,c+3,a?i.call(a,r,o,s):i(r,o,s)):W_(n,c+3)}(ge(),Ur(),n,t,e,i,r,o)}function W_(n,t){const e=n[t];return e===At?void 0:e}function eU(n,t,e,i,r,o,s){const a=t+e;return md(n,a,r,o)?ja(n,a+2,s?i.call(s,r,o):i(r,o)):W_(n,a+2)}function wd(n,t){const e=cn();let i;const r=n+Zt;e.firstCreatePass?(i=function Tne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Sl(i.type)),a=to(T);try{const c=If(!1),l=o();return If(c),function hee(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ge(),r,l),l}finally{to(a)}}function Ed(n,t,e,i){const r=n+Zt,o=ge(),s=Rl(o,r);return function G_(n,t){return n[Oe].data[t].pure}(o,r)?eU(o,Ur(),t,s.transform,e,i,s):s.transform(e,i)}function Ane(){return this._results[Symbol.iterator]()}class q_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Fe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=q_.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Ane)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Vs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function CY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function kne(n,t,e,i=!0){const r=t[Oe];if(function hQ(n,t,e,i){const r=Ir+i,o=e.length;i>0&&(e[r-1][cs]=t),i<o-Ir?(t[cs]=e[r],r2(e,Ir+i,t)):(e.push(t),t[cs]=null),t[ii]=e;const s=t[Ic];null!==s&&e!==s&&function fQ(n,t){const e=n[Dl];t[Ni]!==t[ii][ii][Ni]&&(n[d0]=!0),null===e?n[Dl]=[t]:e.push(t)}(s,t);const a=t[Ho];null!==a&&a.insertView(n),t[Tt]|=128}(r,t,n,e),i){const o=L1(e,n),s=t[xt],a=cw(s,n[Ms]);null!==a&&function lQ(n,t,e,i,r,o){i[ni]=r,i[xr]=t,v_(n,i,e,1,r,o)}(r,n[xr],s,t,a,o)}}let pn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Pne}return n})();const Mne=pn,Nne=class extends Mne{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Rne(n,t,e,i){const r=t.tView,a=Iw(n,r,e,4096&n[Tt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ic]=n[t.index];const l=n[Ho];return null!==l&&(a[Ho]=l.createEmbeddedView(r)),ID(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new R_(r)}};function Pne(){return Gw(fr(),ge())}function Gw(n,t){return 4&n.type?new Nne(t,n,Wf(n,t)):null}let ir=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Une}return n})();function Une(){return uU(fr(),ge())}const jne=ir,cU=class extends jne{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ye(this._hostTNode,this._hostLView);if(c_(t)){const e=ud(t,this._hostLView),i=ld(t);return new Dr(e[Oe].data[i+8],e)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=lU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function h_(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?t:new k_(en(t)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(So,null);E&&(o=E)}en(c.componentType??{});const _=c.create(l,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function n1(n){return hr(n[ii])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[ii],u=new cU(l,l[xr],l[ii]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return kne(a,r,s,!i),t.attachToViewContainerRef(),r2(YD(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=lU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=aw(this._lContainer,e);i&&(Q0(YD(this._lContainer),e),N1(i[Oe],i))}detach(t){const e=this._adjustIndex(t,-1),i=aw(this._lContainer,e);return i&&null!=Q0(YD(this._lContainer),e)?new R_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function lU(n){return n[8]}function YD(n){return n[8]||(n[8]=[])}function uU(n,t){let e;const i=t[n.index];return hr(i)?e=i:(e=GL(i,t,null,n),t[n.index]=e,Dw(t,e)),dU(e,t,n,i),new cU(e,n,t)}let dU=function hU(n,t,e,i){if(n[Ms])return;let r;r=8&e.type?Hn(i):function Hne(n,t){const e=n[xt],i=e.createComment(""),r=Bi(t,n);return hd(e,cw(e,r),i,function _Q(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ms]=r};class QD{constructor(t){this.queryList=t,this.matches=null}clone(){return new QD(this.queryList)}setDirty(){this.queryList.setDirty()}}class XD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new XD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_U(t,e).matches&&this.queries[e].setDirty()}}class fU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class JD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new JD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,Wne(e,o)),this.matchTNodeWithReadOption(t,e,Ll(e,t,o,!1,!1))}else i===pn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ll(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===st||r===ir||r===pn&&4&e.type)this.addMatch(e.index,-2);else{const o=Ll(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wne(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function qne(n,t,e,i){return-1===e?function Gne(n,t){return 11&n.type?Wf(n,t):4&n.type?Gw(n,t):null}(t,n):-2===e?function Kne(n,t,e){return e===st?Wf(t,n):e===pn?Gw(t,n):e===ir?uU(t,n):void 0}(n,t,i):Va(n,n[Oe],e,t)}function pU(n,t,e,i){const r=t[Ho].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:qne(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function tS(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=pU(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let f=Ir;f<u.length;f++){const m=u[f];m[Ic]===m[ii]&&tS(m[Oe],m,l,i)}if(null!==u[Dl]){const f=u[Dl];for(let m=0;m<f.length;m++){const _=f[m];tS(_[Oe],_,l,i)}}}}}return i}function Le(n){const t=ge(),e=cn(),i=V0();i_(i+1);const r=_U(e,i);if(n.dirty&&function Yg(n){return 4==(4&n[Tt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?tS(e,t,i,[]):pU(e,t,r,i);n.reset(o,wX),n.notifyOnChanges()}return!0}return!1}function mn(n,t,e){const i=cn();i.firstCreatePass&&(gU(i,new fU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),mU(i,ge(),t)}function Ft(n,t,e,i){const r=cn();if(r.firstCreatePass){const o=fr();gU(r,new fU(t,e,i),o.index),function Yne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}mU(r,ge(),e)}function Ve(){return function Zne(n,t){return n[Ho].queries[t].queryList}(ge(),V0())}function mU(n,t,e){const i=new q_(4==(4&e));(function eJ(n,t,e,i){const r=KL(t);r.push(e),n.firstCreatePass&&ZL(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ho]&&(t[Ho]=new XD),t[Ho].queries.push(new QD(i))}function gU(n,t,e){null===n.queries&&(n.queries=new JD),n.queries.track(new eS(t,e))}function _U(n,t){return n.queries.getByIndex(t)}function Ro(n,t){return Gw(n,t)}const aS=new oe("Application Initializer");let cS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Te(aS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(L_(o))e.push(o);else if(DV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Hs=new oe("LocaleId",{providedIn:"root",factory:()=>Te(Hs,jt.Optional|jt.SkipSelf)||function _ie(){return typeof $localize<"u"&&$localize.locale||lp}()});let Zw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let OU=(()=>{class n{compileModuleSync(e){return new qD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Oc(Br(e).declarations).reduce((s,a)=>{const c=en(a);return c&&s.push(new k_(c)),s},[]);return new bie(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BU=new oe(""),Qw=new oe("");let fS,dS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fS||(function Hie(n){fS=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(je),O(hS),O(Qw))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),hS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return fS?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),zl=null;const UU=new oe("AllowMultipleToken"),pS=new oe("PlatformDestroyListeners"),mS=new oe("appBootstrapListener");class HU{constructor(t,e){this.name=t,this.token=e}}function $U(n,t,e=[]){const i=`Platform: ${t}`,r=new oe(i);return(o=[])=>{let s=gS();if(!s||s.injector.get(UU,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function Wie(n){if(zl&&!zl.get(UU,!1))throw new K(400,!1);(function jU(){!function qI(n){GI=n}(()=>{throw new K(600,!1)})})(),zl=n;const t=n.get(GU);(function zU(n){n.get(aL,null)?.forEach(e=>e())})(n)}(function WU(n=[],t){return qi.create({name:t,providers:[{provide:Z1,useValue:"platform"},{provide:pS,useValue:new Set([()=>zl=null])},...n]})}(a,i))}return function qie(n){const t=gS();if(!t)throw new K(401,!1);return t}()}}function gS(){return zl?.get(GU)??null}let GU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Kie(n="zone.js",t){return"noop"===n?new FX:"zone.js"===n?new je(t):n}(i?.ngZone,function qU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function cne(n,t,e){return new GD(n,t,e)}(e.moduleType,this.injector,function XU(n){return[{provide:je,useFactory:n},{provide:E_,multi:!0,useFactory:()=>{const t=Te(Yie,{optional:!0});return()=>t.initialize()}},{provide:QU,useFactory:Zie},{provide:CL,useFactory:TL}]}(()=>r)),s=o.injector.get(Us,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Xw(this._modules,o),a.unsubscribe()})}),function KU(n,t,e){try{const i=e();return L_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(cS);return a.runInitializers(),a.donePromise.then(()=>(function bB(n){Tr(n,"Expected localeId to be defined"),"string"==typeof n&&(vB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Hs,lp)||lp),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=ZU({},i);return function zie(n,t,e){const i=new qD(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(la);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new K(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(pS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(qi))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ZU(n,t){return Array.isArray(t)?t.reduce(ZU,n):{...n,...t}}let la=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(QU),this.zoneIsStable=Te(CL),this.componentTypes=[],this.components=[],this.isStable=Te(Zw).hasPendingTasks.pipe(Ue(e=>e?k(!1):this.zoneIsStable),ht(),ae()),this._injector=Te(So)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof dL;if(!this._injector.get(cS).done)throw!r&&function Cl(n){const t=en(n)||ur(n)||dr(n);return null!==t&&t.standalone}(e),new K(405,!1);let s;s=r?e:this._injector.get(I_).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function $ie(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vd),l=s.create(qi.NULL,[],i||s.selector,a),u=l.location.nativeElement,f=l.injector.get(BU,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Xw(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Xw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(mS,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Xw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new K(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const QU=new oe("",{providedIn:"root",factory:()=>Te(Us).handleError.bind(void 0)});function Zie(){const n=Te(je),t=Te(Us);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Yie=(()=>{class n{constructor(){this.zone=Te(je),this.applicationRef=Te(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let gr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Xie}return n})();function Xie(n){return function Jie(n,t,e){if(Sc(n)&&!e){const i=Do(n.index,t);return new R_(i,i)}return 47&n.type?new R_(t[Ni],t):null}(fr(),ge(),16==(16&n))}class ij{constructor(){}supports(t){return kw(t)}create(t){return new ore(t)}}const rre=(n,t)=>t;class ore{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<oj(i,r,o)?e:i,a=oj(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let m=0;m<l;m++){const _=m<o.length?o[m]:o[m]=0,y=_+m;u<=y&&y<l&&(o[m]=_+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!kw(t))throw new K(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function WJ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new sre(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new rj),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rj),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class are{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class rj{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new are,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oj(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class sj{constructor(){}supports(t){return t instanceof Map||DD(t)}create(){return new cre}}class cre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||DD(t)))throw new K(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new lre(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class lre{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aj(){return new Lc([new ij])}let Lc=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:aj});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||aj()),deps:[[n,new p_,new Bs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new K(901,!1)}}return n})();function cj(){return new Y_([new sj])}let Y_=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:cj});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cj()),deps:[[n,new p_,new Bs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new K(901,!1)}}return n})();const hre=$U(null,"core",[]);let fre=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(O(la))};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();function hp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function ES(n,t){const e=en(n),i=t.elementInjector||_w();return new k_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let CS=null;function $l(){return CS}class Dre{}const wt=new oe("DocumentToken");let TS=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(Are)},providedIn:"platform"})}return n})();const Sre=new oe("Location Initialized");let Are=(()=>{class n extends TS{constructor(){super(),this._doc=Te(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $l().getBaseHref(this._doc)}onPopState(e){const i=$l().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$l().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function xS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _j(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vc(n){return n&&"?"!==n[0]?"?"+n:n}let Td=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(vj)},providedIn:"root"})}return n})();const yj=new oe("appBaseHref");let vj=(()=>{class n extends Td{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Te(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Vc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Vc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(TS),O(yj,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rre=(()=>{class n extends Td{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(TS),O(yj,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),nE=(()=>{class n{constructor(e){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Nre(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(_j(bj(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vc(i))}normalize(e){return n.stripTrailingSlash(function Mre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,bj(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Vc;static#t=this.joinWithSlash=xS;static#n=this.stripTrailingSlash=_j;static#i=this.\u0275fac=function(i){return new(i||n)(O(Td))};static#r=this.\u0275prov=pe({token:n,factory:function(){return function kre(){return new nE(O(Td))}()},providedIn:"root"})}return n})();function bj(n){return n.replace(/\/index.html$/,"")}var Sr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Sr||{}),En=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(En||{}),fs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(fs||{}),Zi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Zi||{});function rE(n,t){return $s(Ao(n)[oi.DateFormat],t)}function oE(n,t){return $s(Ao(n)[oi.TimeFormat],t)}function sE(n,t){return $s(Ao(n)[oi.DateTimeFormat],t)}function zs(n,t){const e=Ao(n),i=e[oi.NumberSymbols][t];if(typeof i>"u"){if(t===Zi.CurrencyDecimal)return e[oi.NumberSymbols][Zi.Decimal];if(t===Zi.CurrencyGroup)return e[oi.NumberSymbols][Zi.Group]}return i}function Cj(n){if(!n[oi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[oi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $s(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function SS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Wre=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Q_={},Gre=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Bc||{}),xn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(xn||{}),In=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(In||{});function Tj(n,t,e,i){let r=function toe(n){if(Dj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return aE(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Wre))return function noe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,c,l),t}(i)}const t=new Date(n);if(!Dj(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Uc(e,t)||t;let a,s=[];for(;t;){if(a=Gre.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let c=r.getTimezoneOffset();i&&(c=Ij(i,c),r=function eoe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Jre(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Ij(t,r)-r))}(r,i,!0));let l="";return s.forEach(u=>{const f=function Xre(n){if(RS[n])return RS[n];let t;switch(n){case"G":case"GG":case"GGG":t=si(In.Eras,En.Abbreviated);break;case"GGGG":t=si(In.Eras,En.Wide);break;case"GGGGG":t=si(In.Eras,En.Narrow);break;case"y":t=rr(xn.FullYear,1,0,!1,!0);break;case"yy":t=rr(xn.FullYear,2,0,!0,!0);break;case"yyy":t=rr(xn.FullYear,3,0,!1,!0);break;case"yyyy":t=rr(xn.FullYear,4,0,!1,!0);break;case"Y":t=dE(1);break;case"YY":t=dE(2,!0);break;case"YYY":t=dE(3);break;case"YYYY":t=dE(4);break;case"M":case"L":t=rr(xn.Month,1,1);break;case"MM":case"LL":t=rr(xn.Month,2,1);break;case"MMM":t=si(In.Months,En.Abbreviated);break;case"MMMM":t=si(In.Months,En.Wide);break;case"MMMMM":t=si(In.Months,En.Narrow);break;case"LLL":t=si(In.Months,En.Abbreviated,Sr.Standalone);break;case"LLLL":t=si(In.Months,En.Wide,Sr.Standalone);break;case"LLLLL":t=si(In.Months,En.Narrow,Sr.Standalone);break;case"w":t=AS(1);break;case"ww":t=AS(2);break;case"W":t=AS(1,!0);break;case"d":t=rr(xn.Date,1);break;case"dd":t=rr(xn.Date,2);break;case"c":case"cc":t=rr(xn.Day,1);break;case"ccc":t=si(In.Days,En.Abbreviated,Sr.Standalone);break;case"cccc":t=si(In.Days,En.Wide,Sr.Standalone);break;case"ccccc":t=si(In.Days,En.Narrow,Sr.Standalone);break;case"cccccc":t=si(In.Days,En.Short,Sr.Standalone);break;case"E":case"EE":case"EEE":t=si(In.Days,En.Abbreviated);break;case"EEEE":t=si(In.Days,En.Wide);break;case"EEEEE":t=si(In.Days,En.Narrow);break;case"EEEEEE":t=si(In.Days,En.Short);break;case"a":case"aa":case"aaa":t=si(In.DayPeriods,En.Abbreviated);break;case"aaaa":t=si(In.DayPeriods,En.Wide);break;case"aaaaa":t=si(In.DayPeriods,En.Narrow);break;case"b":case"bb":case"bbb":t=si(In.DayPeriods,En.Abbreviated,Sr.Standalone,!0);break;case"bbbb":t=si(In.DayPeriods,En.Wide,Sr.Standalone,!0);break;case"bbbbb":t=si(In.DayPeriods,En.Narrow,Sr.Standalone,!0);break;case"B":case"BB":case"BBB":t=si(In.DayPeriods,En.Abbreviated,Sr.Format,!0);break;case"BBBB":t=si(In.DayPeriods,En.Wide,Sr.Format,!0);break;case"BBBBB":t=si(In.DayPeriods,En.Narrow,Sr.Format,!0);break;case"h":t=rr(xn.Hours,1,-12);break;case"hh":t=rr(xn.Hours,2,-12);break;case"H":t=rr(xn.Hours,1);break;case"HH":t=rr(xn.Hours,2);break;case"m":t=rr(xn.Minutes,1);break;case"mm":t=rr(xn.Minutes,2);break;case"s":t=rr(xn.Seconds,1);break;case"ss":t=rr(xn.Seconds,2);break;case"S":t=rr(xn.FractionalSeconds,1);break;case"SS":t=rr(xn.FractionalSeconds,2);break;case"SSS":t=rr(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=lE(Bc.Short);break;case"ZZZZZ":t=lE(Bc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=lE(Bc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=lE(Bc.Long);break;default:return null}return RS[n]=t,t}(u);l+=f?f(r,e,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function aE(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Uc(n,t){const e=function Ore(n){return Ao(n)[oi.LocaleId]}(n);if(Q_[e]=Q_[e]||{},Q_[e][t])return Q_[e][t];let i="";switch(t){case"shortDate":i=rE(n,fs.Short);break;case"mediumDate":i=rE(n,fs.Medium);break;case"longDate":i=rE(n,fs.Long);break;case"fullDate":i=rE(n,fs.Full);break;case"shortTime":i=oE(n,fs.Short);break;case"mediumTime":i=oE(n,fs.Medium);break;case"longTime":i=oE(n,fs.Long);break;case"fullTime":i=oE(n,fs.Full);break;case"short":const r=Uc(n,"shortTime"),o=Uc(n,"shortDate");i=cE(sE(n,fs.Short),[r,o]);break;case"medium":const s=Uc(n,"mediumTime"),a=Uc(n,"mediumDate");i=cE(sE(n,fs.Medium),[s,a]);break;case"long":const c=Uc(n,"longTime"),l=Uc(n,"longDate");i=cE(sE(n,fs.Long),[c,l]);break;case"full":const u=Uc(n,"fullTime"),f=Uc(n,"fullDate");i=cE(sE(n,fs.Full),[u,f])}return i&&(Q_[e][t]=i),i}function cE(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ua(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function rr(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function Kre(n,t){switch(n){case xn.FullYear:return t.getFullYear();case xn.Month:return t.getMonth();case xn.Date:return t.getDate();case xn.Hours:return t.getHours();case xn.Minutes:return t.getMinutes();case xn.Seconds:return t.getSeconds();case xn.FractionalSeconds:return t.getMilliseconds();case xn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===xn.Hours)0===a&&-12===e&&(a=12);else if(n===xn.FractionalSeconds)return function qre(n,t){return ua(n,3).substring(0,t)}(a,t);const c=zs(s,Zi.MinusSign);return ua(a,t,c,i,r)}}function si(n,t,e=Sr.Format,i=!1){return function(r,o){return function Zre(n,t,e,i,r,o){switch(e){case In.Months:return function IS(n,t,e){const i=Ao(n),o=$s([i[oi.MonthsFormat],i[oi.MonthsStandalone]],t);return $s(o,e)}(t,r,i)[n.getMonth()];case In.Days:return function Ej(n,t,e){const i=Ao(n),o=$s([i[oi.DaysFormat],i[oi.DaysStandalone]],t);return $s(o,e)}(t,r,i)[n.getDay()];case In.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function Ure(n){const t=Ao(n);return Cj(t),(t[oi.ExtraData][2]||[]).map(i=>"string"==typeof i?SS(i):[SS(i[0]),SS(i[1])])}(t),u=function jre(n,t,e){const i=Ao(n);Cj(i);const o=$s([i[oi.ExtraData][0],i[oi.ExtraData][1]],t)||[];return $s(o,e)||[]}(t,r,i),f=l.findIndex(m=>{if(Array.isArray(m)){const[_,y]=m,b=s>=_.hours&&a>=_.minutes,E=s<y.hours||s===y.hours&&a<y.minutes;if(_.hours<y.hours){if(b&&E)return!0}else if(b||E)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return function Fre(n,t,e){const i=Ao(n),o=$s([i[oi.DayPeriodsFormat],i[oi.DayPeriodsStandalone]],t);return $s(o,e)}(t,r,i)[s<12?0:1];case In.Eras:return function Lre(n,t){return $s(Ao(n)[oi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function lE(n){return function(t,e,i){const r=-1*i,o=zs(e,Zi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bc.Short:return(r>=0?"+":"")+ua(s,2,o)+ua(Math.abs(r%60),2,o);case Bc.ShortGMT:return"GMT"+(r>=0?"+":"")+ua(s,1,o);case Bc.Long:return"GMT"+(r>=0?"+":"")+ua(s,2,o)+":"+ua(Math.abs(r%60),2,o);case Bc.Extended:return 0===i?"Z":(r>=0?"+":"")+ua(s,2,o)+":"+ua(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Yre=0,uE=4;function xj(n){return aE(n.getFullYear(),n.getMonth(),n.getDate()+(uE-n.getDay()))}function AS(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=xj(e),s=function Qre(n){const t=aE(n,Yre,1).getDay();return aE(n,0,1+(t<=uE?uE:uE+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ua(r,n,zs(i,Zi.MinusSign))}}function dE(n,t=!1){return function(e,i){return ua(xj(e).getFullYear(),n,zs(i,Zi.MinusSign),t)}}const RS={};function Ij(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Dj(n){return n instanceof Date&&!isNaN(n.valueOf())}function kj(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const FS=/\s+/,Mj=[];let jc=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Mj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(FS):Mj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(FS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(FS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Lc),T(Y_),T(st),T(Wo))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class moe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new moe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Pj(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Pj(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(Lc))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Pj(n,t){n.context.$implicit=t.item}let or=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new goe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Oj("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Oj("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class goe{constructor(){this.$implicit=null,this.ngIf=null}}function Oj(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(t)}'.`)}class LS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let J_=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),VS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new LS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(J_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Fj=(()=>{class n{constructor(e,i,r){r._addDefault(new LS(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir),T(pn),T(J_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Wl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(T(ir))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yn]})}return n})();const Aoe=new oe("DATE_PIPE_DEFAULT_TIMEZONE"),Roe=new oe("DATE_PIPE_DEFAULT_OPTIONS");let Vj=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return Tj(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function da(n,t){return new K(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(T(Hs,16),T(Aoe,24),T(Roe,24))};static#t=this.\u0275pipe=Gi({name:"date",type:n,pure:!0,standalone:!0})}return n})(),xd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const Uj="browser";function fE(n){return"server"===n}let jj=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new $oe(O(wt),window)})}return n})();class $oe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Woe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Hj{}class pse extends Dre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zS extends pse{static makeCurrent(){!function Ire(n){CS||(CS=n)}(new zS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function mse(){return ty=ty||document.querySelector("base"),ty?ty.getAttribute("href"):null}();return null==e?null:function gse(n){gE=gE||document.createElement("a"),gE.setAttribute("href",n);const t=gE.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ty=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return kj(document.cookie,t)}}let gE,ty=null,yse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const $S=new oe("EventManagerPlugins");let qj=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O($S),O(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class Kj{constructor(t){this._doc=t}}const WS="ng-app-id";let Zj=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${WS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(WS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(WS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(C_),O(J1,8),O(ds))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const GS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qS=/%COMP%/g,Ese=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Qj(n,t){return t.map(e=>e.replace(qS,n))}let KS=(()=>{class n{constructor(e,i,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=fE(a),this.defaultRenderer=new ZS(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jo.ShadowDom&&(i={...i,encapsulation:jo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Jj?r.applyToHost(e):r instanceof YS&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case jo.Emulated:o=new Jj(c,l,i,this.appId,u,s,a,f);break;case jo.ShadowDom:return new Ise(c,l,e,i,s,a,this.nonce,f);default:o=new YS(c,l,i,u,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(qj),O(Zj),O(C_),O(Ese),O(wt),O(ds),O(je),O(J1))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class ZS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(GS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Xj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Xj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new K(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=GS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=GS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Bl.DashCase|Bl.Important)?t.style.setProperty(e,i,r&Bl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Bl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=$l().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Xj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ise extends ZS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Qj(r.id,r.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class YS extends ZS{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?Qj(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jj extends YS{constructor(t,e,i,r,o,s,a,c){const l=r+"-"+i.id;super(t,e,i,o,s,a,c,l),this.contentAttr=function Cse(n){return"_ngcontent-%COMP%".replace(qS,n)}(l),this.hostAttr=function Tse(n){return"_nghost-%COMP%".replace(qS,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Dse=(()=>{class n extends Kj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const e3=["alt","control","meta","shift"],Sse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ase={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rse=(()=>{class n extends Kj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$l().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),e3.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=Sse[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),e3.forEach(s=>{s!==r&&(0,Ase[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const n3=[{provide:ds,useValue:Uj},{provide:aL,useValue:function kse(){zS.makeCurrent()},multi:!0},{provide:wt,useFactory:function Nse(){return function xQ(n){U1=n}(document),document},deps:[]}],Pse=$U(hre,"browser",n3),Ose=new oe(""),i3=[{provide:Qw,useClass:class _se{addToWindow(t){Mn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new K(5103,!1);return o},Mn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mn.getAllAngularRootElements=()=>t.getAllRootElements(),Mn.frameworkStabilizers||(Mn.frameworkStabilizers=[]),Mn.frameworkStabilizers.push(i=>{const r=Mn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?$l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:BU,useClass:dS,deps:[je,hS,Qw]},{provide:dS,useClass:dS,deps:[je,hS,Qw]}],r3=[{provide:Z1,useValue:"root"},{provide:Us,useFactory:function Mse(){return new Us},deps:[]},{provide:$S,useClass:Dse,multi:!0,deps:[wt,je,ds]},{provide:$S,useClass:Rse,multi:!0,deps:[wt]},KS,Zj,qj,{provide:Gf,useExisting:KS},{provide:Hj,useClass:yse,deps:[]},[]];let o3=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:C_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ose,12))};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[...r3,...i3],imports:[xd,fre]})}return n})(),s3=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function Lse(){return new s3(O(wt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let XS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):O(l3),r},providedIn:"root"})}return n})(),l3=(()=>{class n extends XS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case zr.NONE:return i;case zr.HTML:return Ba(i,"HTML")?us(i):Q2(this._doc,String(i)).toString();case zr.STYLE:return Ba(i,"Style")?us(i):i;case zr.SCRIPT:if(Ba(i,"Script"))return us(i);throw new K(5200,!1);case zr.URL:return Ba(i,"URL")?us(i):fw(String(i));case zr.RESOURCE_URL:if(Ba(i,"ResourceURL"))return us(i);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(e){return function MQ(n){return new IQ(n)}(e)}bypassSecurityTrustStyle(e){return function NQ(n){return new DQ(n)}(e)}bypassSecurityTrustScript(e){return function PQ(n){return new SQ(n)}(e)}bypassSecurityTrustUrl(e){return function OQ(n){return new AQ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function FQ(n){return new RQ(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function jse(n){return new l3(n.get(wt))}(O(qi)),r},providedIn:"root"})}return n})();const{isArray:Hse}=Array,{getPrototypeOf:zse,prototype:$se,keys:Wse}=Object;function d3(n){if(1===n.length){const t=n[0];if(Hse(t))return{args:t,keys:null};if(function Gse(n){return n&&"object"==typeof n&&zse(n)===$se}(t)){const e=Wse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:qse}=Array;function JS(n){return we(t=>function Kse(n,t){return qse(t)?n(...t):n(t)}(n,t))}function h3(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function f3(...n){const t=vo(n),{args:e,keys:i}=d3(n),r=new lt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let f=!1;be(e[u]).subscribe(Se(o,m=>{f||(f=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(i?h3(i,a):a),o.complete())}))}});return t?r.pipe(JS(t)):r}let p3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Wo),T(st))};static#t=this.\u0275dir=X({type:n})}return n})(),Id=(()=>{class n extends p3{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,features:[Qe]})}return n})();const ps=new oe("NgValueAccessor"),Zse={provide:ps,useExisting:q(()=>eA),multi:!0};let eA=(()=>{class n extends Id{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Ie("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[bt([Zse]),Qe]})}return n})();const Yse={provide:ps,useExisting:q(()=>Wa),multi:!0},Xse=new oe("CompositionEventMode");let Wa=(()=>{class n extends p3{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qse(){const n=$l()?$l().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Wo),T(st),T(Xse,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ie("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bt([Yse]),Qe]})}return n})();function ql(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function m3(n){return null!=n&&"number"==typeof n.length}const Ar=new oe("NgValidators"),Kl=new oe("NgAsyncValidators"),Jse=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ny{static min(t){return function g3(n){return t=>{if(ql(t.value)||ql(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _3(n){return t=>{if(ql(t.value)||ql(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return y3(t)}static requiredTrue(t){return function v3(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return b3(t)}static minLength(t){return function w3(n){return t=>ql(t.value)||!m3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function E3(n){return t=>m3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function C3(n){if(!n)return _E;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ql(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return A3(t)}static composeAsync(t){return R3(t)}}function y3(n){return ql(n.value)?{required:!0}:null}function b3(n){return ql(n.value)||Jse.test(n.value)?null:{email:!0}}function _E(n){return null}function T3(n){return null!=n}function x3(n){return L_(n)?C(n):n}function I3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function D3(n,t){return t.map(e=>e(n))}function S3(n){return n.map(t=>function eae(n){return!n.validate}(t)?t:e=>t.validate(e))}function A3(n){if(!n)return null;const t=n.filter(T3);return 0==t.length?null:function(e){return I3(D3(e,t))}}function tA(n){return null!=n?A3(S3(n)):null}function R3(n){if(!n)return null;const t=n.filter(T3);return 0==t.length?null:function(e){return f3(D3(e,t).map(x3)).pipe(we(I3))}}function nA(n){return null!=n?R3(S3(n)):null}function k3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function M3(n){return n._rawValidators}function N3(n){return n._rawAsyncValidators}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function yE(n,t){return Array.isArray(n)?n.includes(t):n===t}function P3(n,t){const e=iA(t);return iA(n).forEach(r=>{yE(e,r)||e.push(r)}),e}function O3(n,t){return iA(t).filter(e=>!yE(n,e))}class F3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Mo extends F3{get formDirective(){return null}get path(){return null}}class Ga extends F3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hc=(()=>{class n extends L3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ga,2))};static#t=this.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&dt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Qe]})}return n})(),pp=(()=>{class n extends L3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Mo,10))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&dt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Qe]})}return n})();const iy="VALID",bE="INVALID",mp="PENDING",ry="DISABLED";function sA(n){return(wE(n)?n.validators:n)||null}function aA(n,t){return(wE(t)?t.asyncValidators:n)||null}function wE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class j3{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===iy}get invalid(){return this.status===bE}get pending(){return this.status==mp}get disabled(){return this.status===ry}get enabled(){return this.status!==ry}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(P3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(P3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(O3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(O3(t,this._rawAsyncValidators))}hasValidator(t){return yE(this._rawValidators,t)}hasAsyncValidator(t){return yE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ry,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=iy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iy||this.status===mp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ry:iy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mp,this._hasOwnPendingAsyncValidator=!0;const e=x3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ry:this.errors?bE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mp)?mp:this._anyControlsHaveStatus(bE)?bE:iy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function rae(n){return Array.isArray(n)?tA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function oae(n){return Array.isArray(n)?nA(n):n||null}(this._rawAsyncValidators)}}class EE extends j3{constructor(t,e,i){super(sA(e),aA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function U3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new K(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function B3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new K(1e3,"");if(!i[e])throw new K(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Dd=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>oy}),oy="always";function CE(n,t){return[...t.path,n]}function sy(n,t,e=oy){cA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function cae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&H3(n,t)})}(n,t),function uae(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function lae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&H3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function aae(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function TE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),IE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cA(n,t){const e=M3(n);null!==t.validator?n.setValidators(k3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=N3(n);null!==t.asyncValidator?n.setAsyncValidators(k3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();xE(t._rawValidators,r),xE(t._rawAsyncValidators,r)}function IE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=M3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=N3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return xE(t._rawValidators,i),xE(t._rawAsyncValidators,i),e}function H3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z3(n,t){cA(n,t)}function uA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function $3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Wa?e=o:function fae(n){return Object.getPrototypeOf(n.constructor)===Id}(o)?i=o:r=o}),r||i||e||null}const mae={provide:Mo,useExisting:q(()=>zc)},ay=(()=>Promise.resolve())();let zc=(()=>{class n extends Mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new EE({},tA(e),nA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ay.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),sy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ay.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ay.then(()=>{const i=this._findContainer(e.path),r=new EE({});z3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ay.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ay.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ar,10),T(Kl,10),T(Dd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Ie("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([mae]),Qe]})}return n})();function W3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function G3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zl=class extends j3{constructor(t=null,e,i){super(sA(e),aA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=G3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){W3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){W3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){G3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},yae={provide:Ga,useExisting:q(()=>$c)},Z3=(()=>Promise.resolve())();let $c=(()=>{class n extends Ga{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Zl,this._registered=!1,this.name="",this.update=new Fe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Z3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&hp(i);Z3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?CE(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(T(Mo,9),T(Ar,10),T(Kl,10),T(ps,10),T(gr,8),T(Dd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([yae]),Qe,Yn]})}return n})(),gp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const vae={provide:ps,useExisting:q(()=>hA),multi:!0};let hA=(()=>{class n extends Id{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Ie("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[bt([vae]),Qe]})}return n})();const bae={provide:ps,useExisting:q(()=>DE),multi:!0};let Y3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),wae=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:Y3})}return n})(),DE=(()=>{class n extends Id{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Te(Dd,{optional:!0})??oy}ngOnInit(){this._control=this._injector.get(Ga),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Wo),T(st),T(wae),T(qi))};static#t=this.\u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Ie("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[bt([bae]),Qe]})}return n})();const fA=new oe("NgModelWithFormControlWarning"),Tae={provide:Mo,useExisting:q(()=>_p)};let _p=(()=>{class n extends Mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(IE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return sy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){TE(e.control||null,e,!1),function pae(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$3(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(TE(i||null,e),(n=>n instanceof Zl)(r)&&(sy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);z3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function dae(n,t){return IE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cA(this.form,this),this._oldForm&&IE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ar,10),T(Kl,10),T(Dd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Ie("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Tae]),Qe,Yn]})}return n})();const Dae={provide:Ga,useExisting:q(()=>gA)};let gA=(()=>{class n extends Ga{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,o)}ngOnChanges(e){this._added||this._setUpControl(),uA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return CE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(T(Mo,13),T(Ar,10),T(Kl,10),T(ps,10),T(fA,8))};static#n=this.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([Dae]),Qe,Yn]})}return n})(),Sd=(()=>{class n{constructor(){this._validator=_E}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_E,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,features:[Yn]})}return n})();const Fae={provide:Ar,useExisting:q(()=>cy),multi:!0};let cy=(()=>{class n extends Sd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=hp,this.createValidator=e=>y3}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Nt("required",r._enabled?"":null)},inputs:{required:"required"},features:[bt([Fae]),Qe]})}return n})();const Vae={provide:Ar,useExisting:q(()=>SE),multi:!0};let SE=(()=>{class n extends Sd{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=hp,this.createValidator=e=>b3}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[bt([Vae]),Qe]})}return n})(),lH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Y3]})}return n})(),zae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Dd,useValue:e.callSetDisabledState??oy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[lH]})}return n})(),$ae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Dd,useValue:e.callSetDisabledState??oy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[lH]})}return n})();function AE(...n){const t=as(n),e=vo(n),{args:i,keys:r}=d3(n);if(0===i.length)return C([],t);const o=new lt(function Wae(n,t,e=Kn){return i=>{dH(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)dH(t,()=>{const l=C(n[c],t);let u=!1;l.subscribe(Se(i,f=>{o[c]=f,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>h3(r,s):Kn));return e?o.pipe(JS(e)):o}function dH(n,t,e){n?lr(e,n,t):t()}const RE=re(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yp(...n){return function Gae(){return dn(1)}()(C(n,as(n)))}function bA(n){return new lt(t=>{be(n()).subscribe(t)})}function Ad(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new lt(t?r=>t.schedule(i,0,r):i)}function wA(){return de((n,t)=>{let e=null;n._refCount++;const i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class EA extends lt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pt;const e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pt.EMPTY)}return t}refCount(){return wA()(this)}}function Qn(n){return n<=0?()=>bn:de((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Yl(...n){const t=as(n);return de((e,i)=>{(t?yp(n,e,t):yp(n,e)).subscribe(i)})}function zn(n,t){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function kE(n){return de((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function hH(n=qae){return de((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function qae(){return new RE}function Ql(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,Qn(1),e?kE(t):hH(()=>new RE))}function vp(n,t){return S(t)?Kt(n,t,1):Kt(n,1)}function gi(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?de((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Se(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Kn}function Wc(n){return de((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Se(e,void 0,void 0,s=>{o=be(n(s,Wc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function bp(n,t){return de(function Kae(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Se(s,u=>{const f=l++;c=a?n(c,u,f):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}function CA(n){return n<=0?()=>bn:de((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function fH(n){return we(()=>n)}function Rd(n){return de((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Et(n){return de((t,e)=>{be(n).subscribe(Se(e,()=>e.complete(),qe)),!e.closed&&t.subscribe(e)})}const Lt="primary",ly=Symbol("RouteTitle");class Yae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wp(n){return new Yae(n)}function Qae(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function qa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!pH(n[r],t[r]))return!1;return!0}function pH(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function mH(n){return n.length>0?n[n.length-1]:null}function Xl(n){return function uH(n){return!!n&&(n instanceof lt||S(n.lift)&&S(n.subscribe))}(n)?n:L_(n)?C(Promise.resolve(n)):k(n)}const Jae={exact:function yH(n,t,e){if(!kd(n.segments,t.segments)||!ME(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!yH(n.children[i],t.children[i],e))return!1;return!0},subset:vH},gH={exact:function ece(n,t){return qa(n,t)},subset:function tce(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pH(n[e],t[e]))},ignored:()=>!0};function _H(n,t,e){return Jae[e.paths](n.root,t.root,e.matrixParams)&&gH[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vH(n,t,e){return bH(n,t,t.segments,e)}function bH(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!kd(r,e)||t.hasChildren()||!ME(r,e,i))}if(n.segments.length===e.length){if(!kd(n.segments,e)||!ME(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!vH(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(kd(n.segments,r)&&ME(n.segments,r,i)&&n.children[Lt])&&bH(n.children[Lt],t,o,i)}}function ME(n,t,e){return t.every((i,r)=>gH[e](n[r].parameters,i.parameters))}class Ep{constructor(t=new On([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wp(this.queryParams)),this._queryParamMap}toString(){return rce.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return NE(this)}}class uy{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wp(this.parameters)),this._parameterMap}toString(){return CH(this)}}function kd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let dy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new TA},providedIn:"root"})}return n})();class TA{parse(t){const e=new mce(t);return new Ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hy(t.root,!0)}`,i=function ace(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${PE(e)}=${PE(r)}`).join("&"):`${PE(e)}=${PE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function oce(n){return encodeURI(n)}(t.fragment)}`:""}`}}const rce=new TA;function NE(n){return n.segments.map(t=>CH(t)).join("/")}function hy(n,t){if(!n.hasChildren())return NE(n);if(t){const e=n.children[Lt]?hy(n.children[Lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Lt&&i.push(`${r}:${hy(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ice(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Lt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Lt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Lt?[hy(n.children[Lt],!1)]:[`${r}:${hy(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${NE(n)}/${e[0]}`:`${NE(n)}/(${e.join("//")})`}}function wH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function PE(n){return wH(n).replace(/%3B/gi,";")}function xA(n){return wH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function OE(n){return decodeURIComponent(n)}function EH(n){return OE(n.replace(/\+/g,"%20"))}function CH(n){return`${xA(n.path)}${function sce(n){return Object.keys(n).map(t=>`;${xA(t)}=${xA(n[t])}`).join("")}(n.parameters)}`}const cce=/^[^\/()?;#]+/;function IA(n){const t=n.match(cce);return t?t[0]:""}const lce=/^[^\/()?;=#]+/,dce=/^[^=?&#]+/,fce=/^[^&#]+/;class mce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new On(t,e)),i}parseSegment(){const t=IA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(t),new uy(OE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function uce(n){const t=n.match(lce);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=IA(this.remaining);r&&(i=r,this.capture(i))}t[OE(e)]=OE(i)}parseQueryParam(t){const e=function hce(n){const t=n.match(dce);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function pce(n){const t=n.match(fce);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=EH(e),o=EH(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=IA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new K(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Lt]:new On([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new K(4011,!1)}}function TH(n){return n.segments.length>0?new On([],{[Lt]:n}):n}function xH(n){const t={};for(const i of Object.keys(n.children)){const o=xH(n.children[i]);if(i===Lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function gce(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new On(n.segments.concat(t.segments),t.children)}return n}(new On(n.segments,t))}function Md(n){return n instanceof Ep}function IH(n){let t;const r=TH(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new On(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function DH(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return DA(r,r,r,e,i);const o=function yce(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new AH(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new AH(e,t,i)}(t);if(o.toRoot())return DA(r,r,new On([],{}),e,i);const s=function vce(n,t,e){if(n.isAbsolute)return new LE(t,!0,0);if(!e)return new LE(t,!1,NaN);if(null===e.parent)return new LE(e,!0,0);const i=FE(n.commands[0])?0:1;return function bce(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new LE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?py(s.segmentGroup,s.index,o.commands):RH(s.segmentGroup,s.index,o.commands);return DA(r,s.segmentGroup,a,e,i)}function FE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fy(n){return"object"==typeof n&&null!=n&&n.outlets}function DA(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:SH(n,t,e);const a=TH(xH(s));return new Ep(a,o,r)}function SH(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:SH(o,t,e)}),new On(n.segments,i)}class AH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&FE(i[0]))throw new K(4003,!1);const r=i.find(fy);if(r&&r!==mH(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class LE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function RH(n,t,e){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return py(n,t,e);const i=function Ece(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(fy(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!MH(c,l,s))return o;i+=2}else{if(!MH(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new On(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new On(n.segments.slice(i.pathIndex),n.children),py(o,0,r)}return i.match&&0===r.length?new On(n.segments,{}):i.match&&!n.hasChildren()?SA(n,t,e):i.match?py(n,0,r):SA(n,t,e)}function py(n,t,e){if(0===e.length)return new On(n.segments,{});{const i=function wce(n){return fy(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Lt)&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const o=py(n.children[Lt],t,e);return new On(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=RH(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new On(n.segments,r)}}function SA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(fy(o)){const c=Cce(o.outlets);return new On(i,c)}if(0===r&&FE(e[0])){i.push(new uy(n.segments[t].path,kH(e[0]))),r++;continue}const s=fy(o)?o.outlets[Lt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&FE(a)?(i.push(new uy(s,kH(a))),r+=2):(i.push(new uy(s,{})),r++)}return new On(i,{})}function Cce(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=SA(new On([],{}),0,i))}),t}function kH(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function MH(n,t,e){return n==e.path&&qa(t,e.parameters)}const my="imperative";class Ka{constructor(t,e){this.id=t,this.url=e}}class VE extends Ka{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jl extends Ka{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gy extends Ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cp extends Ka{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class BE extends Ka{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NH extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tce extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xce extends Ka{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ice extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dce extends Ka{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sce{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ace{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AA{}class RA{constructor(t){this.url=t}}class Pce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _y,this.attachRef=null}}let _y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Pce,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class OH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=MA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return MA(t,this._root).map(e=>e.value)}}function kA(n,t){if(n===t.value)return t;for(const e of t.children){const i=kA(n,e);if(i)return i}return null}function MA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=MA(n,e);if(i.length)return i.unshift(t),i}return[]}class Gc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class FH extends OH{constructor(t,e){super(t),this.snapshot=e,NA(this,t)}toString(){return this.snapshot.toString()}}function LH(n,t){const e=function Oce(n,t){const s=new UE([],{},{},"",{},Lt,t,null,{});return new BH("",new Gc(s,[]))}(0,t),i=new w([new uy("",{})]),r=new w({}),o=new w({}),s=new w({}),a=new w(""),c=new Za(i,r,s,a,o,Lt,t,e.root);return c.snapshot=e.root,new FH(new Gc(c,[]),e)}class Za{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(we(l=>l[ly]))??k(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>wp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>wp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Fce(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class UE{get title(){return this.data?.[ly]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BH extends OH{constructor(t,e){super(e),this.url=t,NA(this,e)}toString(){return UH(this._root)}}function NA(n,t){t.value._routerState=n,t.children.forEach(e=>NA(n,e))}function UH(n){const t=n.children.length>0?` { ${n.children.map(UH).join(", ")} } `:"";return`${n.value}${t}`}function PA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,qa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),qa(t.params,e.params)||n.paramsSubject.next(e.params),function Xae(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!qa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),qa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function OA(n,t){const e=qa(n.params,t.params)&&function nce(n,t){return kd(n,t)&&n.every((e,i)=>qa(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||OA(n.parent,t.parent))}let jE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=Te(_y),this.location=Te(ir),this.changeDetector=Te(gr),this.environmentInjector=Te(So),this.inputBinder=Te(HE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lce(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}return n})();class Lce{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Za?this.route:t===_y?this.childContexts:this.parent.get(t,e)}}const HE=new oe("");let jH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=AE([i.queryParams,i.params,i.data]).pipe(Ue(([o,s,a],c)=>(a={...o,...s,...a},0===c?k(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function xre(n){const t=en(n);if(!t)return null;const e=new k_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function yy(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Bce(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yy(n,i,r);return yy(n,i)})}(n,t,e);return new Gc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>yy(n,a)),s}}const i=function Uce(n){return new Za(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>yy(n,o));return new Gc(i,r)}}const FA="ngNavigationCancelingError";function HH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Md(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=zH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function zH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[FA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function $H(n){return n&&n[FA]}let WH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Zo],decls:1,vars:0,template:function(i,r){1&i&&rt(0,"router-outlet")},dependencies:[jE],encapsulation:2})}return n})();function LA(n){const t=n.children&&n.children.map(LA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=WH),e}function ha(n){return n.outlet||Lt}function vy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Kce{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),PA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Tp(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Tp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Tp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Tp(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Nce(o.value.snapshot))}),t.children.length&&this.forwardEvent(new kce(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(PA(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),PA(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=vy(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class GH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zE{constructor(t,e){this.component=t,this.route=e}}function Zce(n,t,e){const i=n._root;return by(i,t?t._root:null,e,[i.value])}function xp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Xb(n){return null!==Vh(n)}(n)?t.get(n):n:i}function by(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Tp(t);return n.children.forEach(s=>{(function Qce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Xce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!kd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!kd(n.url,t.url)||!qa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!OA(n,t)||!qa(n.queryParams,t.queryParams);default:return!OA(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new GH(i)):(o.data=s.data,o._resolvedData=s._resolvedData),by(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new zE(a.outlet.component,s))}else s&&wy(t,a,r),r.canActivateChecks.push(new GH(i)),by(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wy(a,e.getContext(s),r)),r}function wy(n,t,e){const i=Tp(n),r=n.value;Object.entries(i).forEach(([o,s])=>{wy(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new zE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ey(n){return"function"==typeof n}function qH(n){return n instanceof RE||"EmptyError"===n?.name}const $E=Symbol("INITIAL_VALUE");function Ip(){return Ue(n=>AE(n.map(t=>t.pipe(Qn(1),Yl($E)))).pipe(we(t=>{for(const e of t)if(!0!==e){if(e===$E)return $E;if(!1===e||e instanceof Ep)return e}return!0}),zn(t=>t!==$E),Qn(1)))}function KH(n){return function go(...n){return _o(n)}(gi(t=>{if(Md(t))throw HH(0,t)}),we(t=>!0===t))}class WE{constructor(t){this.segmentGroup=t||null}}class ZH{constructor(t){this.urlTree=t}}function Dp(n){return Ad(new WE(n))}function YH(n){return Ad(new ZH(n))}class yle{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new K(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return k(i);if(r.numberOfChildren>1||!r.children[Lt])return Ad(new K(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Ep(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new On(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const VA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vle(n,t,e,i,r){const o=BA(n,t,e);return o.matched?(i=function Hce(n,t){return n.providers&&!n._injector&&(n._injector=KD(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function mle(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?k(r.map(s=>{const a=xp(s,n);return Xl(function rle(n){return n&&Ey(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ip(),KH()):k(!0)}(i,t,e).pipe(we(s=>!0===s?o:{...VA}))):k(o)}function BA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...VA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Qae)(e,n,t);if(!r)return{...VA};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function QH(n,t,e,i){return e.length>0&&function Ele(n,t,e){return e.some(i=>GE(n,t,i)&&ha(i)!==Lt)}(n,e,i)?{segmentGroup:new On(t,wle(i,new On(e,n.children))),slicedSegments:[]}:0===e.length&&function Cle(n,t,e){return e.some(i=>GE(n,t,i))}(n,e,i)?{segmentGroup:new On(n.segments,ble(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new On(n.segments,n.children),slicedSegments:e}}function ble(n,t,e,i,r){const o={};for(const s of i)if(GE(n,e,s)&&!r[ha(s)]){const a=new On([],{});o[ha(s)]=a}return{...r,...o}}function wle(n,t){const e={};e[Lt]=t;for(const i of n)if(""===i.path&&ha(i)!==Lt){const r=new On([],{});e[ha(i)]=r}return e}function GE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Dle{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new yle(this.urlSerializer,this.urlTree)}noMatchError(t){return new K(4002,!1)}recognize(){const t=QH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe(Wc(e=>{if(e instanceof ZH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof WE?this.noMatchError(e):e}),we(e=>{const i=new UE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new Gc(i,e),o=new BH("",r),s=function _ce(n,t,e=null,i=null){return DH(IH(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Lt).pipe(Wc(i=>{throw i instanceof WE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=VH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return C(r).pipe(vp(o=>{const s=i.children[o],a=function Gce(n,t){const e=n.filter(i=>ha(i)===t);return e.push(...n.filter(i=>ha(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),bp((o,s)=>(o.push(...s),o)),kE(null),function Zae(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,CA(1),e?kE(t):hH(()=>new RE))}(),Kt(o=>{if(null===o)return Dp(i);const s=XH(o);return function Sle(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),k(s)}))}processSegment(t,e,i,r,o,s){return C(e).pipe(vp(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Wc(c=>{if(c instanceof WE)return k(null);throw c}))),Ql(a=>!!a),Wc(a=>{if(qH(a))return function xle(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?k([]):Dp(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Tle(n,t,e,i){return!!(ha(n)===i||i!==Lt&&GE(t,e,n))&&("**"===n.path||BA(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):Dp(r):Dp(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?YH(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new On(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=BA(e,r,o);if(!a)return Dp(e);const f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?YH(f):this.applyRedirects.lineralizeSegments(r,f).pipe(Kt(m=>this.processSegment(t,i,e,m.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?mH(r).parameters:{};a=k({snapshot:new UE(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JH(i),ha(i),i.component??i._loadedComponent??null,i,ez(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=vle(e,i,r,t).pipe(we(({matched:c,consumedSegments:l,remainingSegments:u,parameters:f})=>c?{snapshot:new UE(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JH(i),ha(i),i.component??i._loadedComponent??null,i,ez(i)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Ue(c=>null===c?Dp(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ue(({routes:l})=>{const u=i._loadedInjector??t,{snapshot:f,consumedSegments:m,remainingSegments:_}=c,{segmentGroup:y,slicedSegments:b}=QH(e,m,_,l);if(0===b.length&&y.hasChildren())return this.processChildren(u,l,y).pipe(we(N=>null===N?null:[new Gc(f,N)]));if(0===l.length&&0===b.length)return k([new Gc(f,[])]);const E=ha(i)===o;return this.processSegment(u,l,y,b,E?Lt:o,!0).pipe(we(N=>[new Gc(f,N)]))}))))}getChildConfig(t,e,i){return e.children?k({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?k({routes:e._loadedRoutes,injector:e._loadedInjector}):function ple(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?k(!0):k(r.map(s=>{const a=xp(s,n);return Xl(function ele(n){return n&&Ey(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ip(),KH())}(t,e,i).pipe(Kt(r=>r?this.configLoader.loadChildren(t,e).pipe(gi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function _le(n){return Ad(zH(!1,3))}())):k({routes:[],injector:t})}}function Ale(n){const t=n.value.routeConfig;return t&&""===t.path}function XH(n){const t=[],e=new Set;for(const i of n){if(!Ale(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=XH(i.children);t.push(new Gc(i.value,r))}return t.filter(i=>!e.has(i))}function JH(n){return n.data||{}}function ez(n){return n.resolve||{}}function tz(n){return"string"==typeof n.title||null===n.title}function UA(n){return Ue(t=>{const e=n(t);return e?C(e).pipe(we(()=>t)):k(t)})}const Sp=new oe("ROUTES");let jA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(OU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return k(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Xl(e.loadComponent()).pipe(we(nz),gi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Rd(()=>{this.componentLoaders.delete(e)})),r=new EA(i,()=>new $).pipe(wA());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Fle(n,t,e,i){return Xl(n.loadChildren()).pipe(we(nz),Kt(r=>r instanceof WB||Array.isArray(r)?k(r):C(t.compileModuleAsync(r))),we(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Sp,[],{optional:!0,self:!0}).flat()),{routes:s.map(LA),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Rd(()=>{this.childrenLoaders.delete(i)})),s=new EA(o,()=>new $).pipe(wA());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nz(n){return function Lle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=Te(jA),this.environmentInjector=Te(So),this.urlSerializer=Te(dy),this.rootContexts=Te(_y),this.inputBindingEnabled=null!==Te(HE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Ace(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Sce(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new w({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:my,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zn(o=>0!==o.id),we(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{this.currentTransition=o;let s=!1,a=!1;return k(o).pipe(gi(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ue(c=>{const l=c.currentBrowserUrl.toString(),u=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new Cp(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),bn}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe(Ue(m=>{const _=this.transitions?.getValue();return this.events.next(new VE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?bn:Promise.resolve(m)}),function Rle(n,t,e,i,r,o){return Kt(s=>function Ile(n,t,e,i,r,o,s="emptyOnly"){return new Dle(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(we(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),gi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new NH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:_,source:y,restoredState:b,extras:E}=c,N=new VE(m,this.urlSerializer.serialize(_),y,b);this.events.next(N);const A=LH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:A,urlAfterRedirects:_,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},k(o)}{const m="";return this.events.next(new Cp(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),bn}}),gi(c=>{const l=new Tce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),we(c=>(this.currentTransition=o={...c,guards:Zce(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function sle(n,t){return Kt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?k({...e,guardsResult:!0}):function ale(n,t,e,i){return C(n).pipe(Kt(r=>function fle(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?k(o.map(a=>{const c=vy(t)??r,l=xp(a,c);return Xl(function ile(n){return n&&Ey(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):c.runInContext(()=>l(n,t,e,i))).pipe(Ql())})).pipe(Ip()):k(!0)}(r.component,r.route,e,t,i)),Ql(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function Jce(n){return"boolean"==typeof n}(a)?function cle(n,t,e,i){return C(t).pipe(vp(r=>yp(function ule(n,t){return null!==n&&t&&t(new Rce(n)),k(!0)}(r.route.parent,i),function lle(n,t){return null!==n&&t&&t(new Mce(n)),k(!0)}(r.route,i),function hle(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Yce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>bA(()=>k(s.guards.map(c=>{const l=vy(s.node)??e,u=xp(c,l);return Xl(function nle(n){return n&&Ey(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(Ql())})).pipe(Ip())));return k(o).pipe(Ip())}(n,r.path,e),function dle(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return k(!0);const r=i.map(o=>bA(()=>{const s=vy(t)??e,a=xp(o,s);return Xl(function tle(n){return n&&Ey(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Ql())}));return k(r).pipe(Ip())}(n,r.route,e))),Ql(r=>!0!==r,!0))}(i,o,n,t):k(a)),we(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),gi(c=>{if(o.guardsResult=c.guardsResult,Md(c.guardsResult))throw HH(0,c.guardsResult);const l=new xce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),zn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),UA(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe(gi(l=>{const u=new Ice(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ue(l=>{let u=!1;return k(l).pipe(function kle(n,t){return Kt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return k(e);let o=0;return C(r).pipe(vp(s=>function Mle(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!tz(r)&&(o[ly]=r.title),function Nle(n,t,e,i){const r=function Ple(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return k({});const o={};return C(r).pipe(Kt(s=>function Ole(n,t,e,i){const r=vy(t)??i,o=xp(n,r);return Xl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Ql(),gi(a=>{o[s]=a}))),CA(1),fH(o),Wc(s=>qH(s)?bn:Ad(s)))}(o,n,t,i).pipe(we(s=>(n._resolvedData=s,n.data=VH(n,e).resolve,r&&tz(r)&&(n.data[ly]=r.title),null)))}(s.route,i,n,t)),gi(()=>o++),CA(1),Kt(s=>o===r.length?k(e):bn))})}(e.paramsInheritanceStrategy,this.environmentInjector),gi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),gi(l=>{const u=new Dce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),UA(c=>{const l=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(gi(m=>{u.component=m}),we(()=>{})));for(const m of u.children)f.push(...l(m));return f};return AE(l(c.targetSnapshot.root)).pipe(kE(),Qn(1))}),UA(()=>this.afterPreactivation()),we(c=>{const l=function Vce(n,t,e){const i=yy(n,t._root,e?e._root:void 0);return new FH(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),gi(()=>{this.events.next(new AA)}),((n,t,e,i)=>we(r=>(new Kce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qn(1),gi({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Et(this.transitionAbortSubject.pipe(gi(c=>{throw c}))),Rd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Wc(c=>{if(a=!0,$H(c))this.events.next(new gy(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function jce(n){return $H(n)&&Md(n.url)}(c)?this.events.next(new RA(c.url)):o.resolve(!1);else{this.events.next(new BE(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return bn}))}))}cancelNavigationTransition(e,i,r){const o=new gy(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iz(n){return n!==my}let rz=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[ly]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(Vle)},providedIn:"root"})}return n})(),Vle=(()=>{class n extends rz{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(s3))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ble=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(jle)},providedIn:"root"})}return n})();class Ule{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jle=(()=>{class n extends Ule{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KE=new oe("",{providedIn:"root",factory:()=>({})});let Hle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(zle)},providedIn:"root"})}return n})(),zle=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cy=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Cy||{});function oz(n,t){n.events.pipe(zn(e=>e instanceof Jl||e instanceof gy||e instanceof BE||e instanceof Cp),we(e=>e instanceof Jl||e instanceof Cp?Cy.COMPLETE:e instanceof gy&&(0===e.code||1===e.code)?Cy.REDIRECTING:Cy.FAILED),zn(e=>e!==Cy.REDIRECTING),Qn(1)).subscribe(()=>{t()})}function $le(n){throw n}function Wle(n,t,e){return t.parse("/")}const Gle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(PU),this.isNgZoneEnabled=!1,this._events=new $,this.options=Te(KE,{optional:!0})||{},this.pendingTasks=Te(Zw),this.errorHandler=this.options.errorHandler||$le,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Wle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te(Hle),this.routeReuseStrategy=Te(Ble),this.titleStrategy=Te(rz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Te(Sp,{optional:!0})?.flat()??[],this.navigationTransitions=Te(qE),this.urlSerializer=Te(dy),this.location=Te(nE),this.componentInputBindingEnabled=!!Te(HE,{optional:!0}),this.eventsSubscription=new pt,this.isNgZoneEnabled=Te(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ep,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(sz(i)&&this._events.next(i));if(i instanceof VE)iz(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Cp)this.rawUrlTree=r.rawUrl;else if(i instanceof NH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof AA)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof gy)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof RA){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iz(r.source)};this.scheduleNavigation(o,my,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof BE&&this.restoreHistory(r,!0),i instanceof Jl&&(this.navigated=!0),sz(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),my,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(LA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=IH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return DH(f,e,u,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Md(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,my,null,i)}navigate(e,i={skipLocationChange:!1}){return function Kle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new K(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Gle}:!1===i?{...qle}:i,Md(e))return _H(this.currentUrlTree,e,r);const o=this.parseUrl(e);return _H(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,m)=>{a=f,c=m});const u=this.pendingTasks.add();return oz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sz(n){return!(n instanceof AA||n instanceof RA)}let eu=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof Jl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function J2(n,t,e){return function QQ(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?X2:Uf}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(T(sr),T(Za),Ls("tabindex"),T(Wo),T(st),T(Td))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Ie("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Nt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",hp],skipLocationChange:["skipLocationChange","skipLocationChange",hp],replaceUrl:["replaceUrl","replaceUrl",hp],routerLink:"routerLink"},standalone:!0,features:[uV,Yn]})}return n})(),az=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Jl&&this.update()})}ngAfterContentInit(){k(this.links.changes,k(null)).pipe(dn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=C(e).pipe(dn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Zle(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(sr),T(st),T(Wo),T(gr),T(eu,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&Ft(o,eu,5),2&i){let s;Le(s=Ve())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yn]})}return n})();class cz{}let Yle=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zn(e=>e instanceof Jl),vp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=KD(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return C(r).pipe(dn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):k(null);const o=r.pipe(Kt(s=>null===s?k(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?C([o,this.loader.loadComponent(i)]).pipe(dn()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(O(sr),O(OU),O(So),O(cz),O(jA))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HA=new oe("");let lz=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof VE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Cp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof PH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Yf()};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function qc(n,t){return{\u0275kind:n,\u0275providers:t}}function dz(){const n=Te(qi);return t=>{const e=n.get(la);if(t!==e.components[0])return;const i=n.get(sr),r=n.get(hz);1===n.get(zA)&&i.initialNavigation(),n.get(fz,null,jt.Optional)?.setUpPreloading(),n.get(HA,null,jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const hz=new oe("",{factory:()=>new $}),zA=new oe("",{providedIn:"root",factory:()=>1}),fz=new oe("");function eue(n){return qc(0,[{provide:fz,useExisting:Yle},{provide:cz,useExisting:n}])}const pz=new oe("ROUTER_FORROOT_GUARD"),nue=[nE,{provide:dy,useClass:TA},sr,_y,{provide:Za,useFactory:function uz(n){return n.routerState.root},deps:[sr]},jA,[]];function iue(){return new HU("Router",sr)}let mz=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[nue,[],{provide:Sp,multi:!0,useValue:e},{provide:pz,useFactory:aue,deps:[[sr,new Bs,new p_]]},{provide:KE,useValue:i||{}},i?.useHash?{provide:Td,useClass:Rre}:{provide:Td,useClass:vj},{provide:HA,useFactory:()=>{const n=Te(jj),t=Te(je),e=Te(KE),i=Te(qE),r=Te(dy);return e.scrollOffset&&n.setOffset(e.scrollOffset),new lz(r,i,n,t,e)}},i?.preloadingStrategy?eue(i.preloadingStrategy).\u0275providers:[],{provide:HU,multi:!0,useFactory:iue},i?.initialNavigation?cue(i):[],i?.bindToComponentInputs?qc(8,[jH,{provide:HE,useExisting:jH}]).\u0275providers:[],[{provide:gz,useFactory:dz},{provide:mS,multi:!0,useExisting:gz}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Sp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(pz,8))};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();function aue(n){return"guarded"}function cue(n){return["disabled"===n.initialNavigation?qc(3,[{provide:aS,multi:!0,useFactory:()=>{const t=Te(sr);return()=>{t.setUpLocationChangeListener()}}},{provide:zA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qc(2,[{provide:zA,useValue:0},{provide:aS,multi:!0,deps:[qi],useFactory:t=>{const e=t.get(Sre,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(sr),o=t.get(hz);oz(r,()=>{i(!0)}),t.get(qE).afterPreactivation=()=>(i(!0),o.closed?k(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const gz=new oe(""),uue=["addListener","removeListener"],due=["addEventListener","removeEventListener"],hue=["on","off"];function Rr(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return Rr(n,t,e).pipe(JS(i));const[r,o]=function mue(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?due.map(s=>a=>n[s](t,a,e)):function fue(n){return S(n.addListener)&&S(n.removeListener)}(n)?uue.map(_z(n,t)):function pue(n){return S(n.on)&&S(n.off)}(n)?hue.map(_z(n,t)):[];if(!r&&Jt(n))return Kt(s=>Rr(s,t,e))(be(n));if(!r)throw new TypeError("Invalid event target");return new lt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function _z(n,t){return e=>i=>n[e](t,i)}class gue extends pt{constructor(t,e){super()}schedule(t,e=0){return this}}const ZE={setInterval(n,t,...e){const{delegate:i}=ZE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=ZE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class YE extends gue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return ZE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&ZE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Je(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const $A={now:()=>($A.delegate||Date).now(),delegate:void 0};class Ty{constructor(t,e=Ty.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ty.now=$A.now;class QE extends Ty{constructor(t,e=Ty.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Nd=new QE(YE),_ue=Nd;function WA(n=0,t,e=_ue){let i=-1;return null!=t&&(Zn(t)?e=t:i=t),new lt(r=>{let o=function yue(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:vue}=Array;function yz(n){return 1===n.length&&vue(n[0])?n[0]:n}function vz(...n){return 1===(n=yz(n)).length?be(n[0]):new lt(function bue(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(be(n[i]).subscribe(Se(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function GA(...n){const t=vo(n),e=yz(n);return e.length?new lt(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)be(e[s]).subscribe(Se(i,a=>{if(r[s].push(a),r.every(c=>c.length)){const c=r.map(l=>l.shift());i.next(t?t(...c):c),r.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):bn}function XE(...n){const t=vo(n);return de((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)be(n[c]).subscribe(Se(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Kn))&&(s=null))},qe));e.subscribe(Se(i,c=>{if(a){const l=[c,...o];i.next(t?t(...l):l)}}))})}function bz(n,t){return t?e=>yp(t.pipe(Qn(1),function Eue(){return de((n,t)=>{n.subscribe(Se(t,qe))})}()),e.pipe(bz(n))):Kt((e,i)=>be(n(e,i)).pipe(Qn(1),fH(e)))}function qA(n){return zn((t,e)=>n<=e)}var Uue={left:"right",right:"left",bottom:"top",top:"bottom"};function nC(n){return n.replace(/left|right|bottom|top/g,function(t){return Uue[t]})}function Ya(n){return n.split("-")[0]}var jue={start:"end",end:"start"};function kz(n){return n.replace(/start|end/g,function(t){return jue[t]})}var ms="top",fa="bottom",pa="right",gs="left",XA="auto",Iy=[ms,fa,pa,gs],Rp="start",Dy="end",Mz="viewport",Sy="popper",Nz=Iy.reduce(function(n,t){return n.concat([t+"-"+Rp,t+"-"+Dy])},[]),Pz=[].concat(Iy,[XA]).reduce(function(n,t){return n.concat([t,t+"-"+Rp,t+"-"+Dy])},[]),Jue=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function _s(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Pd(n){return n instanceof _s(n).Element||n instanceof Element}function Ws(n){return n instanceof _s(n).HTMLElement||n instanceof HTMLElement}function JA(n){return!(typeof ShadowRoot>"u")&&(n instanceof _s(n).ShadowRoot||n instanceof ShadowRoot)}function nu(n){return((Pd(n)?n.ownerDocument:n.document)||window.document).documentElement}var Od=Math.max,iC=Math.min,kp=Math.round;function eR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Oz(){return!/^((?!chrome|android).)*safari/i.test(eR())}function Mp(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&Ws(n)&&(r=n.offsetWidth>0&&kp(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&kp(i.height)/n.offsetHeight||1);var a=(Pd(n)?_s(n):window).visualViewport,c=!Oz()&&e,l=(i.left+(c&&a?a.offsetLeft:0))/r,u=(i.top+(c&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:u,right:l+f,bottom:u+m,left:l,x:l,y:u}}function tR(n){var t=_s(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nR(n){return Mp(nu(n)).left+tR(n).scrollLeft}function Kc(n){return _s(n).getComputedStyle(n)}function Qa(n){return n?(n.nodeName||"").toLowerCase():null}function rC(n){return"html"===Qa(n)?n:n.assignedSlot||n.parentNode||(JA(n)?n.host:null)||nu(n)}function iR(n){var t=Kc(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Fz(n){return["html","body","#document"].indexOf(Qa(n))>=0?n.ownerDocument.body:Ws(n)&&iR(n)?n:Fz(rC(n))}function Ay(n,t){var e;void 0===t&&(t=[]);var i=Fz(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),o=_s(i),s=r?[o].concat(o.visualViewport||[],iR(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(Ay(rC(s)))}function nde(n){return["table","td","th"].indexOf(Qa(n))>=0}function Lz(n){return Ws(n)&&"fixed"!==Kc(n).position?n.offsetParent:null}function Ry(n){for(var t=_s(n),e=Lz(n);e&&nde(e)&&"static"===Kc(e).position;)e=Lz(e);return e&&("html"===Qa(e)||"body"===Qa(e)&&"static"===Kc(e).position)?t:e||function ide(n){var t=/firefox/i.test(eR());if(/Trident/i.test(eR())&&Ws(n)&&"fixed"===Kc(n).position)return null;var r=rC(n);for(JA(r)&&(r=r.host);Ws(r)&&["html","body"].indexOf(Qa(r))<0;){var o=Kc(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(n)||t}function Vz(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&JA(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Bz(n,t,e){return t===Mz?rR(function ede(n,t){var e=_s(n),i=nu(n),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;var l=Oz();(l||!l&&"fixed"===t)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:a+nR(n),y:c}}(n,e)):Pd(t)?function rde(n,t){var e=Mp(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):rR(function tde(n){var t,e=nu(n),i=tR(n),r=null==(t=n.ownerDocument)?void 0:t.body,o=Od(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Od(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+nR(n),c=-i.scrollTop;return"rtl"===Kc(r||e).direction&&(a+=Od(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}(nu(n)))}function Np(n){return n.split("-")[1]}function oR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Uz(n){var c,t=n.reference,e=n.element,i=n.placement,r=i?Ya(i):null,o=i?Np(i):null,s=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(r){case ms:c={x:s,y:t.y-e.height};break;case fa:c={x:s,y:t.y+t.height};break;case pa:c={x:t.x+t.width,y:a};break;case gs:c={x:t.x-e.width,y:a};break;default:c={x:t.x,y:t.y}}var l=r?oR(r):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case Rp:c[l]=c[l]-(t[u]/2-e[u]/2);break;case Dy:c[l]=c[l]+(t[u]/2-e[u]/2)}}return c}function Hz(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function zz(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function sR(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,o=t.strategy,s=void 0===o?n.strategy:o,a=t.boundary,c=void 0===a?"clippingParents":a,l=t.rootBoundary,u=void 0===l?Mz:l,f=t.elementContext,m=void 0===f?Sy:f,_=t.altBoundary,y=void 0!==_&&_,b=t.padding,E=void 0===b?0:b,N=Hz("number"!=typeof E?E:zz(E,Iy)),L=n.rects.popper,W=n.elements[y?m===Sy?"reference":Sy:m],le=function sde(n,t,e,i){var r="clippingParents"===t?function ode(n){var t=Ay(rC(n)),i=["absolute","fixed"].indexOf(Kc(n).position)>=0&&Ws(n)?Ry(n):n;return Pd(i)?t.filter(function(r){return Pd(r)&&Vz(r,i)&&"body"!==Qa(r)}):[]}(n):[].concat(t),o=[].concat(r,[e]),a=o.reduce(function(c,l){var u=Bz(n,l,i);return c.top=Od(u.top,c.top),c.right=iC(u.right,c.right),c.bottom=iC(u.bottom,c.bottom),c.left=Od(u.left,c.left),c},Bz(n,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Pd(W)?W:W.contextElement||nu(n.elements.popper),c,u,s),De=Mp(n.elements.reference),Me=Uz({reference:De,element:L,strategy:"absolute",placement:r}),nt=rR(Object.assign({},L,Me)),rn=m===Sy?nt:De,yn={top:le.top-rn.top+N.top,bottom:rn.bottom-le.bottom+N.bottom,left:le.left-rn.left+N.left,right:rn.right-le.right+N.right},Ji=n.modifiersData.offset;if(m===Sy&&Ji){var Jr=Ji[r];Object.keys(yn).forEach(function(Li){var mc=[pa,fa].indexOf(Li)>=0?1:-1,gc=[ms,fa].indexOf(Li)>=0?"y":"x";yn[Li]+=Jr[gc]*mc})}return yn}const ude={name:"flip",enabled:!0,phase:"main",fn:function lde(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,c=e.fallbackPlacements,l=e.padding,u=e.boundary,f=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,y=void 0===_||_,b=e.allowedAutoPlacements,E=t.options.placement,N=Ya(E),L=c||(N!==E&&y?function cde(n){if(Ya(n)===XA)return[];var t=nC(n);return[kz(n),t,kz(t)]}(E):[nC(E)]),W=[E].concat(L).reduce(function(Pn,Ia){return Pn.concat(Ya(Ia)===XA?function ade(n,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,l=void 0===c?Pz:c,u=Np(t.placement),f=u?a?Nz:Nz.filter(function(y){return Np(y)===u}):Iy,m=f.filter(function(y){return l.indexOf(y)>=0});0===m.length&&(m=f);var _=m.reduce(function(y,b){return y[b]=sR(n,{placement:b,boundary:r,rootBoundary:o,padding:s})[Ya(b)],y},{});return Object.keys(_).sort(function(y,b){return _[y]-_[b]})}(t,{placement:Ia,boundary:u,rootBoundary:f,padding:l,flipVariations:y,allowedAutoPlacements:b}):Ia)},[]),le=t.rects.reference,De=t.rects.popper,Me=new Map,nt=!0,rn=W[0],yn=0;yn<W.length;yn++){var Ji=W[yn],Jr=Ya(Ji),Li=Np(Ji)===Rp,mc=[ms,fa].indexOf(Jr)>=0,gc=mc?"width":"height",Pe=sR(t,{placement:Ji,boundary:u,rootBoundary:f,altBoundary:m,padding:l}),Xe=mc?Li?pa:gs:Li?fa:ms;le[gc]>De[gc]&&(Xe=nC(Xe));var ft=nC(Xe),Ht=[];if(o&&Ht.push(Pe[Jr]<=0),a&&Ht.push(Pe[Xe]<=0,Pe[ft]<=0),Ht.every(function(Pn){return Pn})){rn=Ji,nt=!1;break}Me.set(Ji,Ht)}if(nt)for(var os=function(Ia){var Oh=W.find(function(er){var Uo=Me.get(er);if(Uo)return Uo.slice(0,Ia).every(function(mo){return mo})});if(Oh)return rn=Oh,"break"},br=y?3:1;br>0&&"break"!==os(br);br--);t.placement!==rn&&(t.modifiersData[i]._skip=!0,t.placement=rn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ky(n,t,e){return Od(n,iC(t,e))}function aR(n){var t=Mp(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const pde={name:"preventOverflow",enabled:!0,phase:"main",fn:function fde(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,m=e.tether,_=void 0===m||m,y=e.tetherOffset,b=void 0===y?0:y,E=sR(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Ya(t.placement),A=Np(t.placement),L=!A,W=oR(N),le=function dde(n){return"x"===n?"y":"x"}(W),De=t.modifiersData.popperOffsets,Me=t.rects.reference,nt=t.rects.popper,rn="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,yn="number"==typeof rn?{mainAxis:rn,altAxis:rn}:Object.assign({mainAxis:0,altAxis:0},rn),Ji=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Jr={x:0,y:0};if(De){if(o){var Li,mc="y"===W?ms:gs,gc="y"===W?fa:pa,Pe="y"===W?"height":"width",Xe=De[W],ft=Xe+E[mc],Ht=Xe-E[gc],Vi=_?-nt[Pe]/2:0,os=A===Rp?Me[Pe]:nt[Pe],br=A===Rp?-nt[Pe]:-Me[Pe],Ss=t.elements.arrow,Pn=_&&Ss?aR(Ss):{width:0,height:0},Ia=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Oh=Ia[mc],er=Ia[gc],Uo=ky(0,Me[Pe],Pn[Pe]),mo=L?Me[Pe]/2-Vi-Uo-Oh-yn.mainAxis:os-Uo-Oh-yn.mainAxis,lg=L?-Me[Pe]/2+Vi+Uo+er+yn.mainAxis:br+Uo+er+yn.mainAxis,Fh=t.elements.arrow&&Ry(t.elements.arrow),jNe=Fh?"y"===W?Fh.clientTop||0:Fh.clientLeft||0:0,rY=null!=(Li=Ji?.[W])?Li:0,zNe=Xe+lg-rY,oY=ky(_?iC(ft,Xe+mo-rY-jNe):ft,Xe,_?Od(Ht,zNe):Ht);De[W]=oY,Jr[W]=oY-Xe}if(a){var sY,Lh=De[le],kI="y"===le?"height":"width",aY=Lh+E["x"===W?ms:gs],cY=Lh-E["x"===W?fa:pa],DF=-1!==[ms,gs].indexOf(N),lY=null!=(sY=Ji?.[le])?sY:0,uY=DF?aY:Lh-Me[kI]-nt[kI]-lY+yn.altAxis,dY=DF?Lh+Me[kI]+nt[kI]-lY-yn.altAxis:cY,hY=_&&DF?function hde(n,t,e){var i=ky(n,t,e);return i>e?e:i}(uY,Lh,dY):ky(_?uY:aY,Lh,_?dY:cY);De[le]=hY,Jr[le]=hY-Lh}t.modifiersData[i]=Jr}},requiresIfExists:["offset"]},yde={name:"arrow",enabled:!0,phase:"main",fn:function gde(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Ya(e.placement),c=oR(a),u=[gs,pa].indexOf(a)>=0?"height":"width";if(o&&s){var f=function(t,e){return Hz("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:zz(t,Iy))}(r.padding,e),m=aR(o),_="y"===c?ms:gs,y="y"===c?fa:pa,b=e.rects.reference[u]+e.rects.reference[c]-s[c]-e.rects.popper[u],E=s[c]-e.rects.reference[c],N=Ry(o),A=N?"y"===c?N.clientHeight||0:N.clientWidth||0:0,De=A/2-m[u]/2+(b/2-E/2),Me=ky(f[_],De,A-m[u]-f[y]);e.modifiersData[i]=((t={})[c]=Me,t.centerOffset=Me-De,t)}},effect:function _de(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||Vz(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ede(n,t,e){void 0===e&&(e=!1);var i=Ws(t),r=Ws(t)&&function wde(n){var t=n.getBoundingClientRect(),e=kp(t.width)/n.offsetWidth||1,i=kp(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),o=nu(t),s=Mp(n,r,e),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!e)&&(("body"!==Qa(t)||iR(o))&&(a=function bde(n){return n!==_s(n)&&Ws(n)?function vde(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):tR(n)}(t)),Ws(t)?((c=Mp(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=nR(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Cde(n){var t=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var c=t.get(a);c&&r(c)}}),i.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||r(o)}),i}function xde(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var $z={placement:"bottom",modifiers:[],strategy:"absolute"};function Wz(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Dde(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,o=void 0===r?$z:r;return function(a,c,l){void 0===l&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},$z,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],m=!1,_={state:u,setOptions:function(N){var A="function"==typeof N?N(u.options):N;b(),u.options=Object.assign({},o,u.options,A),u.scrollParents={reference:Pd(a)?Ay(a):a.contextElement?Ay(a.contextElement):[],popper:Ay(c)};var L=function Tde(n){var t=Cde(n);return Jue.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function Ide(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=L.filter(function(W){return W.enabled}),function y(){u.orderedModifiers.forEach(function(E){var A=E.options,W=E.effect;if("function"==typeof W){var le=W({state:u,name:E.name,instance:_,options:void 0===A?{}:A});f.push(le||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var N=u.elements,A=N.reference,L=N.popper;if(Wz(A,L)){u.rects={reference:Ede(A,Ry(L),"fixed"===u.options.strategy),popper:aR(L)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(yn){return u.modifiersData[yn.name]=Object.assign({},yn.data)});for(var W=0;W<u.orderedModifiers.length;W++)if(!0!==u.reset){var le=u.orderedModifiers[W],De=le.fn,Me=le.options;"function"==typeof De&&(u=De({state:u,options:void 0===Me?{}:Me,name:le.name,instance:_})||u)}else u.reset=!1,W=-1}}},update:xde(function(){return new Promise(function(E){_.forceUpdate(),E(u)})}),destroy:function(){b(),m=!0}};if(!Wz(a,c))return _;function b(){f.forEach(function(E){return E()}),f=[]}return _.setOptions(l).then(function(E){!m&&l.onFirstUpdate&&l.onFirstUpdate(E)}),_}}var oC={passive:!0};const Ade={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Sde(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,c=_s(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",e.update,oC)}),a&&c.addEventListener("resize",e.update,oC),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",e.update,oC)}),a&&c.removeEventListener("resize",e.update,oC)}},data:{}},kde={name:"popperOffsets",enabled:!0,phase:"read",fn:function Rde(n){var t=n.state;t.modifiersData[n.name]=Uz({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Mde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gz(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,c=n.gpuAcceleration,l=n.adaptive,u=n.roundOffsets,f=n.isFixed,m=s.x,_=void 0===m?0:m,y=s.y,b=void 0===y?0:y,E="function"==typeof u?u({x:_,y:b}):{x:_,y:b};_=E.x,b=E.y;var N=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),L=gs,W=ms,le=window;if(l){var De=Ry(e),Me="clientHeight",nt="clientWidth";De===_s(e)&&"static"!==Kc(De=nu(e)).position&&"absolute"===a&&(Me="scrollHeight",nt="scrollWidth"),(r===ms||(r===gs||r===pa)&&o===Dy)&&(W=fa,b-=(f&&De===le&&le.visualViewport?le.visualViewport.height:De[Me])-i.height,b*=c?1:-1),r!==gs&&(r!==ms&&r!==fa||o!==Dy)||(L=pa,_-=(f&&De===le&&le.visualViewport?le.visualViewport.width:De[nt])-i.width,_*=c?1:-1)}var Li,Ji=Object.assign({position:a},l&&Mde),Jr=!0===u?function Nde(n,t){var i=n.y,r=t.devicePixelRatio||1;return{x:kp(n.x*r)/r||0,y:kp(i*r)/r||0}}({x:_,y:b},_s(e)):{x:_,y:b};return _=Jr.x,b=Jr.y,Object.assign({},Ji,c?((Li={})[W]=A?"0":"",Li[L]=N?"0":"",Li.transform=(le.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",Li):((t={})[W]=A?b+"px":"",t[L]=N?_+"px":"",t.transform="",t))}const Ode={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Pde(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,c=void 0===a||a,l={placement:Ya(t.placement),variation:Np(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Gz(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gz(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Vde=[Ade,kde,Ode,{name:"applyStyles",enabled:!0,phase:"write",fn:function Fde(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Ws(o)||!Qa(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function Lde(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(c,l){return c[l]="",c},{});!Ws(r)||!Qa(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(c){r.removeAttribute(c)}))})}},requires:["computeStyles"]}],Bde=Dde({defaultModifiers:Vde});const cR=["*"],xhe=["dialog"];function cfe(n,t){if(1&n&&(R(0,"strong",3),ce(1),M()),2&n){const e=ne();V(1),ri(e.header)}}function lfe(n,t){}function ufe(n,t){if(1&n){const e=ln();R(0,"div",4),se(1,lfe,0,0,"ng-template",5),R(2,"button",6),Ie("click",function(){return Ye(e),Ge(ne().hide())}),M()()}if(2&n){const e=ne(),i=Ki(1);V(1),j("ngTemplateOutlet",e.contentHeaderTpl||i)}}function iu(n){return"string"==typeof n}function Fd(n){return null!=n}function Pp(n){return(n||document.body).getBoundingClientRect()}const Qz={animation:!0,transitionTimerDelayMs:5},vfe=()=>{},{transitionTimerDelayMs:bfe}=Qz,My=new Map,oo=(n,t,e,i)=>{let r=i.context||{};const o=My.get(t);if(o)switch(i.runningTransition){case"continue":return bn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),My.delete(t)}const s=e(t,i.animation,r)||vfe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),k(void 0).pipe(function _fe(n){return t=>new lt(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new $,c=new $,l=a.pipe(function wue(...n){return t=>yp(t,k(...n))}(!0));My.set(t,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});const u=function yfe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Rr(t,"transitionend").pipe(Et(l),zn(({target:_})=>_===t));vz(WA(u+bfe).pipe(Et(l)),f,c).pipe(Et(l)).subscribe(()=>{My.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},uR=(n,t,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:s}=n;function a(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return r||(r=function wfe(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,o),e.maxSize=r,n.style[o]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),Pp(n),s.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{a(),s.remove("collapsing"),n.style[o]=""};a()};let Op=(()=>{class n{constructor(){this.animation=Qz.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tfe=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Op))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=(()=>{class n{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Fe,this.shown=new Fe,this.hidden=new Fe,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return oo(this._zone,this._element.nativeElement,uR,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(Tfe),T(je))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&dt("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),s4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),l4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),u4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();var Xn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Xn||{});const dC=(n,t)=>!!t&&t.some(e=>e.contains(n)),m4=(n,t)=>!t||null!=function gfe(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),Zfe=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function bR(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>Zfe?()=>setTimeout(()=>n(),100):n)(()=>{const l=Rr(t,"keydown").pipe(Et(r),zn(m=>m.which===Xn.Escape),gi(m=>m.preventDefault())),u=Rr(t,"mousedown").pipe(we(m=>{const _=m.target;return 2!==m.button&&!dC(_,s)&&("inside"===e?dC(_,o)&&m4(_,a):"outside"===e?!dC(_,o):m4(_,a)||!dC(_,o))}),Et(r)),f=Rr(t,"mouseup").pipe(XE(u),zn(([m,_])=>_),function Cue(n,t=Nd){const e=WA(n,t);return bz(()=>e)}(0),Et(r));vz([l.pipe(we(m=>0)),f.pipe(we(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}const g4=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _4(n){const t=Array.from(n.querySelectorAll(g4)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let Qfe=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Xfe=/\s+/,Jfe=/  +/gi,epe={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},npe=/^left/,ipe=/^right/,rpe=/^start/,ope=/^end/;function v4({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(Xfe),o=i.findIndex(l=>"auto"===l);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(l){null==i.find(u=>-1!==u.search("^"+l))&&i.splice(o++,1,l)});const s=i.map(l=>function tpe(n,t){const[e,i]=epe[n];return t&&i||e}(l,e.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:l}){const u=new RegExp(t+"(-[a-z]+)*","gi"),f=l.elements.popper,m=l.placement;let _=f.className;_=_.replace(u,""),_+=` ${function spe(n,t){let[e,i]=t.split("-");const r=e.replace(npe,"start").replace(ipe,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(rpe,"top").replace(ope,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}(t,m)}`,_=_.trim().replace(Jfe," "),f.className=_}},ude,pde,yde,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function b4(n){return n}new Date(1882,10,12),new Date(2174,10,25);let A4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),M4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();class jd{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class vpe{constructor(t,e,i,r,o,s){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Qn(1),Kt(()=>oo(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?oo(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(gi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):k(void 0)}_getContentRef(t,e){if(t){if(t instanceof pn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new jd([i.rootNodes],i)}return new jd([[this._renderer.createText(`${t}`)]])}return new jd([])}}let bpe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{oo(this._zone,this._el.nativeElement,(e,i)=>{i&&Pp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Hl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),dt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Zo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class N4{update(t){}close(t){}dismiss(t){}}const wpe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Epe=["animation","backdropClass"];class Cpe{_applyWindowOptions(t,e){wpe.forEach(i=>{Fd(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){Epe.forEach(i=>{Fd(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $,this._dismissed=new $,this._hidden=new $,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Kz(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():k(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),GA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var xR=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(xR||{});let Tpe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new $,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Fe,this.shown=new $,this.hidden=new $}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=GA(oo(this._zone,e,()=>e.classList.remove("show"),i),oo(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};GA(oo(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Pp(o),o.classList.add("show")},e),oo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Rr(e,"keydown").pipe(Et(this._closed$),zn(r=>r.which===Xn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(xR.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Rr(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),gi(()=>i=!1),Ue(()=>Rr(e,"mouseup").pipe(Et(this._closed$),Qn(1))),zn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Rr(e,"click").pipe(Et(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(xR.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=_4(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(wt),T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&mn(xhe,7),2&i){let o;Le(o=Ve())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Nt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Hl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),dt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Zo],ngContentSelectors:cR,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(ro(),R(0,"div",0,1)(2,"div",2),fn(3),M()()),2&i&&Hl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),xpe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ipe=(()=>{class n{constructor(e,i,r,o,s,a,c){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new $,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Fe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Rr(t,"focusin").pipe(Et(e),we(o=>o.target));Rr(t,"keydown").pipe(Et(e),zn(o=>o.which===Xn.Tab),XE(r)).subscribe(([o,s])=>{const[a,c]=_4(t);(s===a||s===t)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Rr(t,"click").pipe(Et(e),XE(r),we(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:Fd(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new N4,c=(e=r.injector||e).get(So,null)||this._environmentInjector,l=this._getContentRef(e,c,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,l.nodes),m=new Cpe(f,l,u,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(Qn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=ES(bpe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=ES(Tpe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof pn?this._createFromTemplateRef(r,o):iu(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new jd([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new jd([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new jd([[i]])}_createFromComponent(e,i,r,o,s){const c=ES(r,{environmentInjector:i,elementInjector:qi.create({providers:[{provide:N4,useValue:o}],parent:e})}),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new jd([[l]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(O(la),O(qi),O(So),O(wt),O(xpe),O(Gf),O(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dpe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Op))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Spe=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(O(qi),O(Ipe),O(Dpe))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[Spe]})}return n})(),L4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),W4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const Lpe={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let G4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),q4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),K4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Z4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Y4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const $pe=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),Pp(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},Wpe=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let Gpe=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Op))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),Kpe=(()=>{class n{constructor(e,i,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new Fe,this.hidden=new Fe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=oo(this._zone,this._element.nativeElement,Wpe,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=oo(this._zone,this._element.nativeElement,$pe,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ls("aria-live"),T(Gpe),T(je),T(st))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(1&i&&Ft(o,qpe,7,pn),2&i){let s;Le(s=Ve())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(Nt("aria-live",r.ariaLive),dt("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Yn,Zo],ngContentSelectors:cR,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(ro(),se(0,cfe,2,1,"ng-template",null,0,Ro),se(2,ufe,3,1,"ng-template",1),R(3,"div",2),fn(4),M()),2&i&&(V(2),j("ngIf",r.contentHeaderTpl||r.header))},dependencies:[or,Wl],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),Q4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),DR=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Op))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zpe=0,Ype=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&($r("id",r.id),Hl("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),dt("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Zo],ngContentSelectors:cR,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(ro(),rt(0,"div",0),R(1,"div",1),fn(2),M())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Qpe=(()=>{class n{constructor(e,i,r,o,s,a,c,l,u){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=c,this._changeDetector=l,this.shown=new Fe,this.hidden=new Fe,this._ngbTooltipWindowId="ngb-tooltip-"+Zpe++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.popperOptions=s.popperOptions,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new vpe(Ype,r,o,i,this._ngZone,u),this._positioning=function wR(){const n=Te(Qfe);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||b4)(v4(e,n));t=Bde(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||b4)(v4(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),bR(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Bpe(n,t,e,i,r,o=0,s=0){const a=function Vpe(n){const t=(n||"").trim();if(0===t.length)return[];const e=t.split(/\s+/).map(r=>r.split(":")).map(r=>Lpe[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(t);if(0===a.length)return()=>{};const c=new Set,l=[];let u;function f(_,y){n.addEventListener(_,y),l.push(()=>n.removeEventListener(_,y))}function m(_,y){clearTimeout(u),y>0?u=setTimeout(_,y):_()}for(const[_,y]of a)y?(f(_,()=>{c.add(_),m(()=>c.size>0&&i(),o)}),f(y,()=>{c.delete(_),m(()=>0===c.size&&r(),s)})):f(_,()=>e()?m(r,s):m(i,o));return()=>l.forEach(_=>_())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(iu(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(Wo),T(qi),T(ir),T(DR),T(je),T(wt),T(gr),T(la))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Yn]})}return n})(),SR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();new oe("live announcer delay",{providedIn:"root",factory:function Xpe(){return 100}});let X4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),J4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const eme=[o4,s4,l4,u4,A4,M4,P4,L4,J4,W4,G4,q4,K4,Z4,Y4,Q4,SR,X4];let tme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[eme,o4,s4,l4,u4,A4,M4,P4,L4,J4,W4,G4,q4,K4,Z4,Y4,Q4,SR,X4]})}return n})();var Ly=ct(562),D=ct(58),so=ct(534),ys=ct(879),ga=ct(537);(0,so.registerVersion)("firebase","10.6.0","app");const sme=new class ome extends QE{}(class rme extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Bp=new Ul("ANGULARFIRE2_VERSION");class yC{constructor(){return((n,t)=>{const e=t?[t]:(0,so.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(cme)}}const cme="app-check";function Up(){}class t${zone;delegate;constructor(t,e=sme){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class lme{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Up,{},Up,Up)),e.pipe(gi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new t$(Zone.current)),this.insideAngular=e.run(()=>new t$(Zone.current,Nd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(je))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Hd(n){return jp().ngZone.run(()=>n())}function n$(n){return n.pipe(ki(jp().outsideAngular))}function Yi(n){return function dme(n){return function(e){return(e=e.lift(new lme(n.ngZone))).pipe(Cr(n.outsideAngular),ki(n.insideAngular))}}(jp())(n)}const hme=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Hd(()=>n.apply(void 0,i))},fme=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=Hd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Up,{},Up,Up))),i[o]=hme(i[o],e));const r=function ume(n){return jp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof lt){const o=jp();return r.pipe(Cr(o.outsideAngular),ki(o.insideAngular))}return Hd(()=>r)}return r instanceof lt?r.pipe(Yi):r instanceof Promise?Hd(()=>new Promise((o,s)=>r.then(a=>Hd(()=>o(a)),a=>Hd(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Hd(()=>r)},Eme=fme(Ly.o,!0);class wC{}class EC{}class Gs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Cme{encodeKey(t){return r$(t)}encodeValue(t){return r$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const xme=/%(\d[a-f0-9])/gi,Ime={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function r$(n){return encodeURIComponent(n).replace(xme,(t,e)=>Ime[e]??t)}function CC(n){return`${n}`}class ru{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Cme,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tme(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(CC):[CC(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ru({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(CC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(CC(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Dme{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function o$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function s$(n){return typeof Blob<"u"&&n instanceof Blob}function a$(n){return typeof FormData<"u"&&n instanceof FormData}class Vy{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Sme(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Gs),this.context||(this.context=new Dme),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new ru,this.urlWithParams=e}serializeBody(){return null===this.body?null:o$(this.body)||s$(this.body)||a$(this.body)||function Ame(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a$(this.body)?null:s$(this.body)?this.body.type||null:o$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),l)),new Vy(e,i,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var zd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(zd||{});class MR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class NR extends MR{constructor(t={}){super(t),this.type=zd.ResponseHeader}clone(t={}){return new NR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hp extends MR{constructor(t={}){super(t),this.type=zd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class c$ extends MR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function PR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let By=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Vy)o=e;else{let c,l;c=r.headers instanceof Gs?r.headers:new Gs(r.headers),r.params&&(l=r.params instanceof ru?r.params:new ru({fromObject:r.params})),o=new Vy(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=k(o).pipe(vp(c=>this.handler.handle(c)));if(e instanceof Vy||"events"===r.observe)return s;const a=s.pipe(zn(c=>c instanceof Hp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(we(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(we(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ru).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,PR(r,i))}post(e,i,r={}){return this.request("POST",e,PR(r,i))}put(e,i,r={}){return this.request("PUT",e,PR(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(wC))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function d$(n,t){return t(n)}function kme(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const h$=new oe(""),Uy=new oe(""),f$=new oe("");function Nme(){let n=null;return(t,e)=>{null===n&&(n=(Te(h$,{optional:!0})??[]).reduceRight(kme,d$));const i=Te(Zw),r=i.add();return n(t,e).pipe(Rd(()=>i.remove(r)))}}let p$=(()=>{class n extends wC{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Te(Zw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Uy),...this.injector.get(f$,[])]));this.chain=r.reduceRight((o,s)=>function Mme(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),d$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Rd(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(EC),O(So))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const Lme=/^\)\]\}',?\n/;let g$=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new K(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?C(i.\u0275loadImpl()):k(null)).pipe(Ue(()=>new lt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,E)=>s.setRequestHeader(b,E.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const b=s.statusText||"OK",E=new Gs(s.getAllResponseHeaders()),N=function Vme(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new NR({headers:E,status:s.status,statusText:b,url:N}),c},u=()=>{let{headers:b,status:E,statusText:N,url:A}=l(),L=null;204!==E&&(L=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=L?200:0);let W=E>=200&&E<300;if("json"===e.responseType&&"string"==typeof L){const le=L;L=L.replace(Lme,"");try{L=""!==L?JSON.parse(L):null}catch(De){L=le,W&&(W=!1,L={error:De,text:L})}}W?(o.next(new Hp({body:L,headers:b,status:E,statusText:N,url:A||void 0})),o.complete()):o.error(new c$({error:L,headers:b,status:E,statusText:N,url:A||void 0}))},f=b=>{const{url:E}=l(),N=new c$({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(N)};let m=!1;const _=b=>{m||(o.next(l()),m=!0);let E={type:zd.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),"text"===e.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},y=b=>{let E={type:zd.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:zd.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(Hj))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const OR=new oe("XSRF_ENABLED"),_$=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),y$=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class v${}let jme=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=kj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(ds),O(_$))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function Hme(n,t){const e=n.url.toLowerCase();if(!Te(OR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Te(v$).getToken(),r=Te(y$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var ou=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ou||{});function zme(...n){const t=[By,g$,p$,{provide:wC,useExisting:p$},{provide:EC,useExisting:g$},{provide:Uy,useValue:Hme,multi:!0},{provide:OR,useValue:!0},{provide:v$,useClass:jme}];for(const e of n)t.push(...e.\u0275providers);return function G1(n){return{\u0275providers:n}}(t)}const b$=new oe("LEGACY_INTERCEPTOR_FN");function $me(){return function $d(n,t){return{\u0275kind:n,\u0275providers:t}}(ou.LegacyInterceptors,[{provide:b$,useFactory:Nme},{provide:Uy,useExisting:b$,multi:!0}])}let Wme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[zme($me())]})}return n})();ct(365);var vs=ct(106);vs.Z.registerVersion("firebase","10.6.0","app-compat");const Jme=["ngOnDestroy"];class w${constructor(t){return t}}const zp=new oe("angularfire2.app.options"),$p=new oe("angularfire2.app.name");function jy(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=vs.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>vs.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;nge("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new w$(s)}const nge=(n,...t)=>{},ige={provide:w$,useFactory:jy,deps:[zp,je,[new Bs,$p]]};let rge=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:zp,useValue:e},{provide:$p,useValue:i}]}}constructor(e){vs.Z.registerVersion("angularfire",Bp.full,"core"),vs.Z.registerVersion("angularfire",Bp.full,"app-compat"),vs.Z.registerVersion("angular",fL.full,e.toString())}static \u0275fac=function(i){return new(i||n)(O(ds))};static \u0275mod=$e({type:n});static \u0275inj=Ke({providers:[ige]})}return n})();function xC(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function oge(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(E$("error",`${t} was already initialized on the ${e} Firebase App with different settings.${sge?" You may need to reload as Firebase is not HMR aware.":""}`),E$("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const sge=typeof module<"u"&&!!module.hot,E$=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class age extends ${constructor(t=1/0,e=1/0,i=$A){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function FR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,ae({connector:()=>new age(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function C$(n,t){return S(t)?Ue(()=>n,t):Ue(()=>n)}const LR=new oe("angularfire2.auth.use-emulator"),VR=new oe("angularfire2.auth.settings"),BR=new oe("angularfire2.auth.tenant-id"),UR=new oe("angularfire2.auth.langugage-code"),jR=new oe("angularfire2.auth.use-device-language"),HR=new oe("angularfire.auth.persistence"),zR=(n,t,e,i,r,o,s,a)=>xC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[e,i,r,o,s,a]);let $R,Hy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,c,l,u,f,m,_){const y=new $,b=k(void 0).pipe(ki(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>Promise.resolve().then(ct.bind(ct,365)))),we(()=>jy(e,o,i)),we(E=>zR(E,o,a,l,u,f,c,m)),FR({bufferSize:1,refCount:!1}));if(fE(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=k(null);else{b.pipe(Ql()).subscribe();const E=b.pipe(Ue(L=>L.getRedirectResult().then(W=>W,()=>null)),Yi,FR({bufferSize:1,refCount:!1})),N=b.pipe(Ue(L=>new lt(W=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(le=>W.next(le),le=>W.error(le),()=>W.complete()))})))),A=b.pipe(Ue(L=>new lt(W=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(le=>W.next(le),le=>W.error(le),()=>W.complete()))}))));this.authState=E.pipe(C$(N),Cr(s.outsideAngular),ki(s.insideAngular)),this.user=E.pipe(C$(A),Cr(s.outsideAngular),ki(s.insideAngular)),this.idToken=this.user.pipe(Ue(L=>L?C(L.getIdToken()):k(null))),this.idTokenResult=this.user.pipe(Ue(L=>L?C(L.getIdTokenResult()):k(null))),this.credential=I(E,y,this.authState.pipe(zn(L=>!L))).pipe(we(L=>L?.user?L:null),Cr(s.outsideAngular),ki(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Jme.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{const f=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,f),f})})})}))(this,b,o,{spy:{apply:(E,N,A)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&A.then(L=>y.next(L))}}})}static \u0275fac=function(i){return new(i||n)(O(zp),O($p,8),O(ds),O(je),O(vC),O(LR,8),O(VR,8),O(BR,8),O(UR,8),O(jR,8),O(HR,8),O(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),lge=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Bp.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=$e({type:n});static \u0275inj=Ke({providers:[Hy]})}return n})(),Zc=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new w(!1),this.navDisappear=new w(!1),this.httpHeaders=new Gs,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),this.userLoggedInSubject=new w(this.user),r?.getIdToken().then(o=>{this.user.idToken=o,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(s=>{s?(this.user.claims=s,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin),this.getUsers().subscribe(a=>{this.usersSubject=new w(a)})):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getUsersSubject(){return this.usersSubject}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Gs).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return k([])}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new Ly.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new Ly.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new Ly.R(Eme(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Hy),O(By))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{$R=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$R=!1}let Wp,kr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function zoe(n){return n===Uj}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$R)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(ds))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function x$(){if(Wp)return Wp;if("object"!=typeof document||!document)return Wp=new Set(T$),Wp;let n=document.createElement("input");return Wp=new Set(T$.filter(t=>(n.setAttribute("type",t),n.type===t))),Wp}let zy,Wd,WR;function Gp(n){return function uge(){if(null==zy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zy=!0}))}finally{zy=zy||!1}return zy}()?n:!!n.capture}function dge(){if(null==Wd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wd=!1,Wd;if("scrollBehavior"in document.documentElement.style)Wd=!0;else{const n=Element.prototype.scrollTo;Wd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wd}function su(n){return n.composedPath?n.composedPath()[0]:n.target}function GR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function qp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function QR(n,t=Nd){return de((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=t.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}e.subscribe(Se(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Fn(n){return null!=n&&"false"!=`${n}`}function DC(n,t=0){return function Dge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function SC(n){return Array.isArray(n)?n:[n]}function ar(n){return null==n?"":"string"==typeof n?n:`${n}px`}function au(n){return n instanceof st?n.nativeElement:n}let Sge=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[Sge]})}return n})();const k$=new Set;let Gd,Age=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kge}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rge(n,t){if(!k$.has(n))try{Gd||(Gd=document.createElement("style"),t&&(Gd.nonce=t),Gd.setAttribute("type","text/css"),document.head.appendChild(Gd)),Gd.sheet&&(Gd.sheet.insertRule(`@media ${n} {body{ }}`,0),k$.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(kr),O(J1,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Mge=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return M$(SC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=AE(M$(SC(e)).map(s=>this._registerQuery(s).observable));return o=yp(o.pipe(Qn(1)),o.pipe(qA(1),QR(0))),o.pipe(we(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new lt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Yl(i),we(({matches:s})=>({query:e,matches:s})),Et(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(O(Age),O(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M$(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function P$(n,t,e){const i=AC(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function XR(n,t,e){const r=AC(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function AC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const O$="cdk-describedby-message",RC="cdk-describedby-host";let JR=0,Nge=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+JR++,this._document=e,this._id=Te(C_)+"-"+JR++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=ek(i,r);"string"!=typeof i?(F$(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=ek(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${RC}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(RC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");F$(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ek(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=AC(e,"aria-describedby").filter(r=>0!=r.indexOf(O$));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);P$(e,"aria-describedby",r.messageElement.id),e.setAttribute(RC,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,XR(e,"aria-describedby",r.messageElement.id),e.removeAttribute(RC)}_isElementDescribedByMessage(e,i){const r=AC(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(kr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ek(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function F$(n,t){n.id||(n.id=`${O$}-${t}-${JR++}`)}class Pge{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $,this._typeaheadSubscription=pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new $,this.change=new $,t instanceof q_&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gi(e=>this._pressedLetters.push(e)),QR(t),zn(()=>this._pressedLetters.length>0),we(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||qp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof q_?this._items.toArray():this._items}}class Oge extends Pge{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function V$(n){return 0===n.buttons||0===n.detail}function B$(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const jge=new oe("cdk-input-modality-detector-options"),Hge={ignoreKeys:[18,17,224,91,16]},Kp=Gp({passive:!0,capture:!0});let zge=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=su(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V$(s)?"keyboard":"mouse"),this._mostRecentTarget=su(s))},this._onTouchstart=s=>{B$(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=su(s))},this._options={...Hge,...o},this.modalityDetected=this._modality.pipe(qA(1)),this.modalityChanged=this.modalityDetected.pipe(ht()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Kp),r.addEventListener("mousedown",this._onMousedown,Kp),r.addEventListener("touchstart",this._onTouchstart,Kp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kp),document.removeEventListener("mousedown",this._onMousedown,Kp),document.removeEventListener("touchstart",this._onTouchstart,Kp))}static#e=this.\u0275fac=function(i){return new(i||n)(O(kr),O(je),O(wt),O(jge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $ge=new oe("liveAnnouncerElement",{providedIn:"root",factory:function Wge(){return null}}),Gge=new oe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qge=0,Kge=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+qge++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(O($ge,8),O(je),O(wt),O(Gge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zge=new oe("cdk-focus-monitor-default-options"),kC=Gp({passive:!0,capture:!0});let j$=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=a=>{for(let l=su(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=au(e);if(!this._platform.isBrowser||1!==r.nodeType)return k();const o=function fge(n){if(function hge(){if(null==WR){const n=typeof document<"u"?document.head:null;WR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return WR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new $,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=au(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=au(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=su(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(O(je),O(kr),O(zge),O(wt,8),O(Zge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const H$="cdk-high-contrast-black-on-white",z$="cdk-high-contrast-white-on-black",tk="cdk-high-contrast-active";let $$=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Te(Mge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(tk,H$,z$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(tk,H$):2===i&&e.add(tk,z$)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(kr),O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yge=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(O($$))};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[R$]})}return n})();const Qge=new oe("cdk-dir-doc",{providedIn:"root",factory:function Xge(){return Te(wt)}}),Jge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Zp=(()=>{class n{constructor(e){this.value="ltr",this.change=new Fe,e&&(this.value=function e_e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Jge.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Qge,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const t_e=["text"];function n_e(n,t){if(1&n&&rt(0,"mat-pseudo-checkbox",6),2&n){const e=ne();j("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function i_e(n,t){1&n&&rt(0,"mat-pseudo-checkbox",7),2&n&&j("disabled",ne().disabled)}function r_e(n,t){if(1&n&&(R(0,"span",8),ce(1),M()),2&n){const e=ne();V(1),Ti("(",e.group.label,")")}}const o_e=[[["mat-icon"]],"*"],s_e=["mat-icon","*"],c_e=new oe("mat-sanity-checks",{providedIn:"root",factory:function a_e(){return!0}});let Ii=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!GR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(O($$),O(c_e,8),O(wt))};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[$y,$y]})}return n})();function nk(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}constructor(...t){super(...t),this._disabled=!1}}}function ik(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function rk(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function q$(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?DC(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function K$(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let Z$=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class u_e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y$=Gp({passive:!0,capture:!0});class d_e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=su(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Y$)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Y$)))}}const Q$={enterDuration:225,exitDuration:150},X$=Gp({passive:!0,capture:!0}),J$=["mousedown","touchstart"],e5=["mouseup","mouseleave","touchend","touchcancel"];class MC{static#e=this._eventManager=new d_e;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=au(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Q$,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function f_e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),_=f.transitionDuration,y="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new u_e(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let E=null;return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(b),A=()=>this._destroyRipple(b);u.addEventListener("transitionend",N),u.addEventListener("transitioncancel",A),E={onTransitionEnd:N,onTransitionCancel:A}}),this._activeRipples.set(b,E),(y||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Q$,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=au(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,J$.forEach(i=>{MC._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{e5.forEach(e=>{this._triggerElement.addEventListener(e,this,X$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=V$(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!B$(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(J$.forEach(e=>MC._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&e5.forEach(e=>t.removeEventListener(e,this,X$)))}}const t5=new oe("mat-ripple-global-options");let NC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new MC(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je),T(kr),T(t5,8),T(oa,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),ok=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,Ii]})}return n})(),p_e=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&dt("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),m_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii]})}return n})();const n5=new oe("MAT_OPTION_PARENT_COMPONENT"),i5=new oe("MatOptgroup");let g_e=0;class __e{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let y_e=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Fn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+g_e++,this.onSelectionChange=new Fe,this._stateChanges=new $}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!qp(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new __e(this,e))}static#e=this.\u0275fac=function(i){Yf()};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&mn(t_e,7),2&i){let o;Le(o=Ve())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),r5=(()=>{class n extends y_e{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(gr),T(n5,8),T(i5,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Ie("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&($r("id",r.id),Nt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),dt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Qe],ngContentSelectors:s_e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(ro(o_e),se(0,n_e,1,2,"mat-pseudo-checkbox",0),fn(1),R(2,"span",1,2),fn(4,1),M(),se(5,i_e,1,1,"mat-pseudo-checkbox",3),se(6,r_e,2,1,"span",4),rt(7,"div",5)),2&i&&(j("ngIf",r.multiple),V(5),j("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),V(1),j("ngIf",r.group&&r.group._inert),V(1),j("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[NC,or,p_e],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),o5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[ok,xd,Ii,m_e]})}return n})();const s5={capture:!0},a5=["focus","click","mouseenter","touchstart"],sk="mat-ripple-loader-uninitialized",ak="mat-ripple-loader-class-name",c5="mat-ripple-loader-centered",PC="mat-ripple-loader-disabled";let w_e=(()=>{class n{constructor(){this._document=Te(wt,{optional:!0}),this._animationMode=Te(oa,{optional:!0}),this._globalRippleOptions=Te(t5,{optional:!0}),this._platform=Te(kr),this._ngZone=Te(je),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${sk}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of a5)this._document?.addEventListener(e,this._onInteraction,s5)})}ngOnDestroy(){for(const e of a5)this._document?.removeEventListener(e,this._onInteraction,s5)}configureRipple(e,i){e.setAttribute(sk,""),(i.className||!e.hasAttribute(ak))&&e.setAttribute(ak,i.className||""),i.centered&&e.setAttribute(c5,""),i.disabled&&e.setAttribute(PC,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(PC,""):e.removeAttribute(PC)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(ak)),e.append(i);const r=new NC(new st(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(c5),r.disabled=e.hasAttribute(PC),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(sk),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const E_e=["mat-button",""],C_e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],T_e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],x_e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],I_e=ik(nk(rk(class{constructor(n){this._elementRef=n}})));let D_e=(()=>{class n extends I_e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Fn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Te(j$),this._rippleLoader=Te(w_e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of x_e)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Yf()};static#t=this.\u0275dir=X({type:n,features:[Qe]})}return n})(),cu=(()=>{class n extends D_e{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(kr),T(je),T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Nt("disabled",r.disabled||null),dt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Qe],attrs:E_e,ngContentSelectors:T_e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ro(C_e),rt(0,"span",0),fn(1),R(2,"span",1),fn(3,1),M(),fn(4,2),rt(5,"span",2)(6,"span",3)),2&i&&dt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),R_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,ok,Ii]})}return n})();const k_e=["*"];let OC;function Gy(n){return function M_e(){if(void 0===OC&&(OC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(OC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return OC}()?.createHTML(n)||n}function l5(n){return Error(`Unable to find icon with the name "${n}"`)}function u5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class qd{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let FC=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new qd(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(zr.HTML,r);if(!s)throw d5(r);const a=Gy(s);return this._addSvgIconConfig(e,i,new qd("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new qd(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(zr.HTML,i);if(!o)throw d5(i);const s=Gy(o);return this._addSvgIconSetConfig(e,new qd("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(zr.RESOURCE_URL,e);if(!i)throw u5(e);const r=this._cachedIconsByUrl.get(i);return r?k(LC(r)):this._loadSvgIconFromConfig(new qd(e,null)).pipe(gi(o=>this._cachedIconsByUrl.set(i,o)),we(o=>LC(o)))}getNamedSvgIcon(e,i=""){const r=h5(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ad(l5(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?k(LC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(we(i=>LC(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?k(r):f3(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Wc(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(zr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),k(null)})))).pipe(we(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw l5(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gi(i=>e.svgText=i),we(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?k(null):this._fetchIcon(e).pipe(gi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Gy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Gy("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function N_e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(zr.RESOURCE_URL,i);if(!s)throw u5(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(we(l=>Gy(l)),Rd(()=>this._inProgressUrlFetches.delete(s)),ae());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(h5(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return O_e(o)?new qd(o.url,null,o.options):new qd(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(O(By,8),O(XS),O(wt,8),O(Us))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LC(n){return n.cloneNode(!0)}function h5(n,t){return n+":"+t}function O_e(n){return!(!n.url||!n.options)}const F_e=ik(class{constructor(n){this._elementRef=n}}),L_e=new oe("MAT_ICON_DEFAULT_OPTIONS"),V_e=new oe("mat-icon-location",{providedIn:"root",factory:function B_e(){const n=Te(wt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),f5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],U_e=f5.map(n=>`[${n}]`).join(", "),j_e=/^url\(['"]?#(.*?)['"]?\)$/;let p5=(()=>{class n extends F_e{get inline(){return this._inline}set inline(e){this._inline=Fn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(U_e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)f5.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(j_e):null;if(l){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(FC),Ls("aria-hidden"),T(V_e),T(Us),T(L_e,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Nt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),dt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Qe],ngContentSelectors:k_e,decls:1,vars:0,template:function(i,r){1&i&&(ro(),fn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),H_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,Ii]})}return n})();function z_e(n,t){1&n&&(Go(0),R(1,"div",1)(2,"div",2)(3,"ngb-toast",3)(4,"button",4)(5,"span",5)(6,"mat-icon"),ce(7,"restaurant"),M()(),R(8,"h3",6),ce(9,"Receptek"),M(),R(10,"span",5)(11,"mat-icon"),ce(12,"menu_book"),M()()()()(),R(13,"div",2)(14,"ngb-toast",7)(15,"button",8)(16,"span",5)(17,"mat-icon"),ce(18,"chat"),M()(),R(19,"h3",6),ce(20,"Chat"),M(),R(21,"span",5)(22,"mat-icon"),ce(23,"groups"),M()()()()(),R(24,"div",2)(25,"ngb-toast",9)(26,"button",10)(27,"span",5)(28,"mat-icon"),ce(29,"sunny"),M()(),R(30,"h3",6),ce(31,"Id\u0151j\xe1r\xe1s"),M(),R(32,"span",5),rt(33,"mat-icon"),M()()()(),R(34,"div",2)(35,"ngb-toast",11)(36,"button",12)(37,"span",5)(38,"mat-icon"),ce(39,"notes"),M()(),R(40,"h3",6),ce(41,"Jegyzetek"),M(),R(42,"span",5),rt(43,"mat-icon"),M()()()()(),qo()),2&n&&(V(3),j("autohide",!1),V(11),j("autohide",!1),V(11),j("autohide",!1),V(10),j("autohide",!1))}function $_e(n,t){1&n&&(Go(0),R(1,"div",1)(2,"div",2)(3,"ngb-toast",13)(4,"button",14)(5,"span",5)(6,"mat-icon"),ce(7,"notes"),M()(),R(8,"h3",6),ce(9,"Regisztr\xe1ci\xf3"),M(),R(10,"span",5),rt(11,"mat-icon"),M()()()(),R(12,"div",2)(13,"ngb-toast",15)(14,"button",16)(15,"span",5)(16,"mat-icon"),ce(17,"notes"),M()(),R(18,"h3",6),ce(19,"Bejelentkez\xe9s"),M(),R(20,"span",5),rt(21,"mat-icon"),M()()()()(),qo()),2&n&&(V(3),j("autohide",!1),V(10),j("autohide",!1))}let W_e=(()=>{class n{constructor(e,i){this.ngbTConfig=e,this.auth=i,this.userLoggedIn={},e.placement="bottom",e.tooltipClass="tooltippp",e.animation=!0,e.closeDelay=2e3}ngOnInit(){this.auth.isLoggedIn().subscribe(e=>this.userLoggedIn=e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(DR),T(Zc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget1","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget1","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button",1,"greenButton"],[1,"icons"],[1,"d-inline"],["header","Chatelj az ismer\u0151seiddel",1,"tooltipTarget2","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget2","ngbTooltip","Egy chat-app, ahol felh\u0151tlen a besz\xe9lget\xe9s!","routerLink","chat","mat-raised-button","","color","accent","type","button",1,"blueButton"],["header","Tekintsd meg a jelenlegi id\u0151j\xe1r\xe1st",1,"tooltipTarget3","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget3","ngbTooltip","Id\u0151j\xe1r\xe1sjelent\xe9s","routerLink","weather","mat-raised-button","","color","accent","type","button",1,"orangeButton"],["header","Jegyzetek \xedr\xe1sa",1,"tooltipTarget4","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget4","ngbTooltip","\xcdrd meg a saj\xe1t jegyzeteid","routerLink","notes","mat-raised-button","","color","accent","type","button",1,"yellowButton"],["header","Regisztr\xe1ci\xf3",1,"tooltipTarget5","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget5","ngbTooltip","Regisztr\xe1lj e-mail c\xedmmel, vagy l\xe9pj be egy gombnyom\xe1sra Google-fi\xf3kkal","routerLink","signup","mat-raised-button","","color","accent","type","button",1,"greenButton"],["header","Bejelentkez\xe9s",1,"tooltipTarget6","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget6","ngbTooltip","L\xe9pj be e-mail c\xedmeddel, vagy Google-fi\xf3koddal, vagy telefonsz\xe1moddal egyszer\u0171en  ","routerLink","login","mat-raised-button","","color","accent","type","button",1,"blueButton"]],template:function(i,r){1&i&&(se(0,z_e,44,4,"ng-container",0),se(1,$_e,22,2,"ng-container",0)),2&i&&(j("ngIf",r.userLoggedIn),V(1),j("ngIf",!r.userLoggedIn))},dependencies:[or,eu,Kpe,Qpe,cu,p5],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}.greenButton{background-color:#2d752db3!important}.blueButton{background-color:#0f0fb4b3!important}.orangeButton{background-color:#c98913b3!important}\n"],encapsulation:2})}return n})();var ue=ct(861);const m5="@firebase/database";let ck="";function lk(n){ck=n}class q_e{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,D.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,D.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class K_e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,D.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new q_e(t)}}catch{}return new K_e},Kd=_5("localStorage"),uk=_5("sessionStorage"),Yp=new ys.Yd("@firebase/database"),y5=function(){let n=1;return function(){return n++}}(),v5=function(n){const t=(0,D.dS)(n),e=new D.gQ;e.update(t);const i=e.digest();return D.US.encodeByteArray(i)},qy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=qy.apply(null,i):t+="object"==typeof i?(0,D.Wl)(i):i,t+=" "}return t};let Zd=null,b5=!0;const w5=function(n,t){(0,D.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yp.logLevel=ys.in.VERBOSE,Zd=Yp.log.bind(Yp),t&&uk.set("logging_enabled",!0)):"function"==typeof n?Zd=n:(Zd=null,uk.remove("logging_enabled"))},Mr=function(...n){if(!0===b5&&(b5=!1,null===Zd&&!0===uk.get("logging_enabled")&&w5(!0)),Zd){const t=qy.apply(null,n);Zd(t)}},Ky=function(n){return function(...t){Mr(n,...t)}},dk=function(...n){const t="FIREBASE INTERNAL ERROR: "+qy(...n);Yp.error(t)},Xa=function(...n){const t=`FIREBASE FATAL ERROR: ${qy(...n)}`;throw Yp.error(t),new Error(t)},ao=function(...n){const t="FIREBASE WARNING: "+qy(...n);Yp.warn(t)},VC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},lu="[MIN_NAME]",Yc="[MAX_NAME]",Yd=function(n,t){if(n===t)return 0;if(n===lu||t===Yc)return-1;if(t===lu||n===Yc)return 1;{const e=T5(n),i=T5(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Q_e=function(n,t){return n===t?0:n<t?-1:1},Zy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(t))},hk=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,D.Wl)(t[i]),e+=":",e+=hk(n[t[i]]);return e+="}",e},E5=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Nr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const C5=function(n){(0,D.hu)(!VC(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let f="";for(c=0;c<64;c+=8){let m=parseInt(u.substr(c,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},tye=new RegExp("^-?(0*)\\d{1,10}$"),T5=function(n){if(tye.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Qp=function(n){try{n()}catch(t){setTimeout(()=>{throw ao("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Yy=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class oye{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ao(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sye{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Mr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ao(t)}}let Qy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const A5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M5="websocket",N5="long_polling";class pk{constructor(t,e,i,r,o=!1,s="",a=!1,c=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function P5(n,t,e){let i;if((0,D.hu)("string"==typeof t,"typeof type must == string"),(0,D.hu)("object"==typeof e,"typeof params must == object"),t===M5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==N5)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function aye(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Nr(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class cye{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,D.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,D.p$)(this.counters_)}}const mk={},gk={};function _k(n){const t=n.toString();return mk[t]||(mk[t]=new cye),mk[t]}class uye{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Qp(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class uu{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ky(t),this.stats_=_k(e),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),P5(e,N5,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new uye(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yk((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uu.forceAllow_=!0}static forceDisallow(){uu.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!uu.forceAllow_&&(uu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,D.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,D.h$)(e),r=E5(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,D.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class yk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=y5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=yk.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Mr("frame writing exception"),a.stack&&Mr(a.stack),Mr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Mr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,D.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Mr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let UC=null;typeof MozWebSocket<"u"?UC=MozWebSocket:typeof WebSocket<"u"&&(UC=WebSocket);let Xp=(()=>{class n{constructor(e,i,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ky(this.connId),this.stats_=_k(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&A5.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),P5(e,M5,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kd.set("previous_websocket_failure",!0);try{let r;if((0,D.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ck}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new UC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==UC&&!n.forceDisallow_}static previouslyFailed(){return Kd.isInMemoryStorage||!0===Kd.get("previous_websocket_failure")}markConnectionHealthy(){Kd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,D.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,D.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=E5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),j5=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uu,Xp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Xp&&Xp.isAvailable();let r=i&&!Xp.previouslyFailed();if(e.webSocketOnly&&(i||ao("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xp];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class K5{constructor(t,e,i,r,o,s,a,c,l,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ky("c:"+this.id+":"),this.transportManager_=new j5(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Zy("t",t),i=Zy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Zy("t",t),i=Zy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Zy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?dk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ao("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Yy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Z5{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Y5{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,D.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,D.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jC extends Y5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jC}getInitialEvent(t){return(0,D.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Cn(){return new Nn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function du(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Nn(n.pieces_,t)}function bk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Xy(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function J5(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Nn(t,0)}function Di(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Nn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Nn(e,0)}function Qt(n){return n.pieceNum_>=n.pieces_.length}function No(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return No(Jn(n),Jn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Mye(n,t){const e=Xy(n,0),i=Xy(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Yd(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function wk(n,t){if(du(n)!==du(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function qs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(du(n)>du(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Nye{constructor(t,e){this.errorPrefix_=e,this.parts_=Xy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,D.ug)(this.parts_[i]);e8(this)}}function e8(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qd(n))}function Qd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ek extends Y5{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ek}getInitialEvent(t){return(0,D.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Jy=1e3;let zC,Xd=(()=>{class n extends Z5{constructor(e,i,r,o,s,a,c,l){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Ky("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ek.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,D.Wl)(s)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new D.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,D.r3)(e,"w")){const r=(0,D.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ao(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,D.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,D.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,D.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):dk("Unrecognized action received from server: "+(0,D.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ue.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};e.realtime_={close:u,sendRequest:function(_){(0,D.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(_)}};const m=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,y]=yield Promise.all([e.authTokenProvider_.getToken(m),e.appCheckTokenProvider_.getToken(m)]);c?Mr("getToken() completed but was canceled"):(Mr("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=y&&y.token,l=new K5(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,b=>{ao(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),c||(e.repoInfo_.nodeAdmin&&ao(_),u())}}})()}interrupt(e){Mr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Jy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>hk(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Nn(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Mr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Mr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,D.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+ck.replace(/\./g,"-")]=1,(0,D.uI)()?e["framework.cordova"]=1:(0,D.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jC.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new nn(t,e)}}class HC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new nn(lu,t),r=new nn(lu,e);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class i8 extends HC{static get __EMPTY_NODE(){return zC}static set __EMPTY_NODE(t){zC=t}compare(t,e){return Yd(t.name,e.name)}isDefinedOn(t){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Yc,zC)}makePost(t,e){return(0,D.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new nn(t,zC)}toString(){return".key"}}const Ja=new i8;class $C{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Tk,_a=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??es.EMPTY_NODE,this.right=s??es.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return es.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return es.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class es{constructor(t,e=es.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new es(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_a.BLACK,null,null))}remove(t){return new es(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_a.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $C(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $C(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $C(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $C(this.root_,null,this.comparator_,!0,t)}}function jye(n,t){return Yd(n.name,t.name)}function Ck(n,t){return Yd(n,t)}es.EMPTY_NODE=new class Uye{copy(t,e,i,r,o){return this}insert(t,e,i){return new _a(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const r8=function(n){return"number"==typeof n?"number:"+C5(n):"string:"+n},o8=function(n){if(n.isLeafNode()){const t=n.val();(0,D.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,D.r3)(t,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===Tk||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===Tk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let s8,a8,c8,Jp=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),o8(this.priorityNode_)}static set __childrenNodeConstructor(e){s8=e}static get __childrenNodeConstructor(){return s8}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Yt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,D.hu)(".priority"!==r||1===du(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+r8(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?C5(this.value_):this.value_,this.lazyHash_=v5(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,D.hu)(o>=0,"Unknown leaf type: "+i),(0,D.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ai=new class Wye extends HC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Yd(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Yc,new Jp("[PRIORITY-POST]",c8))}makePost(t,e){const i=a8(t);return new nn(e,new Jp("[PRIORITY-POST]",i))}toString(){return".priority"}},Gye=Math.log(2);class qye{constructor(t){this.count=parseInt(Math.log(t+1)/Gye,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const WC=function(n,t,e,i){n.sort(t);const r=function(c,l){const u=l-c;let f,m;if(0===u)return null;if(1===u)return f=n[c],m=e?e(f):f,new _a(m,f.node,_a.BLACK,null,null);{const _=parseInt(u/2,10)+c,y=r(c,_),b=r(_+1,l);return f=n[_],m=e?e(f):f,new _a(m,f.node,_a.BLACK,y,b)}},a=function(c){let l=null,u=null,f=n.length;const m=function(y,b){const E=f-y,N=f;f-=y;const A=r(E+1,N),L=n[E],W=e?e(L):L;_(new _a(W,L.node,b,null,A))},_=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){const b=c.nextBitIsOne(),E=Math.pow(2,c.count-(y+1));b?m(E,_a.BLACK):(m(E,_a.BLACK),m(E,_a.RED))}return u}(new qye(n.length));return new es(i||t,a)};let xk;const em={};class Qc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,D.hu)(em&&ai,"ChildrenNode.ts has not been loaded"),xk=xk||new Qc({".priority":em},{".priority":ai}),xk}get(t){const e=(0,D.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof es?e:null}hasIndex(t){return(0,D.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,D.hu)(t!==Ja,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(nn.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?WC(i,t.getCompare()):em;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=a,new Qc(u,l)}addToIndexes(t,e){const i=(0,D.UI)(this.indexes_,(r,o)=>{const s=(0,D.DV)(this.indexSet_,o);if((0,D.hu)(s,"Missing index implementation for "+o),r===em){if(s.isDefinedOn(t.node)){const a=[],c=e.getIterator(nn.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),WC(a,s.getCompare())}return em}{const a=e.get(t.name);let c=r;return a&&(c=c.remove(new nn(t.name,a))),c.insert(t,t.node)}});return new Qc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,D.UI)(this.indexes_,r=>{if(r===em)return r;{const o=e.get(t.name);return o?r.remove(new nn(t.name,o)):r}});return new Qc(i,this.indexSet_)}}let ev,Pt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&o8(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ev||(ev=new n(new es(Ck),null,Qc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ev}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ev:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(Jn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,D.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new nn(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?ev:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=Yt(e);if(null===r)return i;{(0,D.hu)(".priority"!==Yt(e)||1===du(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(ai,(a,c)=>{i[a]=c.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+r8(this.getPriority().val())+":"),this.forEachChild(ai,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":v5(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new nn(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new nn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tv?-1:0}withIndex(e){if(e===Ja||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ja||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ai),o=i.getIterator(ai);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Ja?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const tv=new class Kye extends Pt{constructor(){super(new es(Ck),Pt.EMPTY_NODE,Qc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Pt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(lu,Pt.EMPTY_NODE)},MAX:{value:new nn(Yc,tv)}}),i8.__EMPTY_NODE=Pt.EMPTY_NODE,Jp.__childrenNodeConstructor=Pt,function Hye(n){Tk=n}(tv),function $ye(n){c8=n}(tv);const Zye=!0;function Oi(n,t=null){if(null===n)return Pt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,D.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Jp(n,Oi(t));if(n instanceof Array||!Zye){let e=Pt.EMPTY_NODE;return Nr(n,(i,r)=>{if((0,D.r3)(n,i)&&"."!==i.substring(0,1)){const o=Oi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Oi(t))}{const e=[];let i=!1;if(Nr(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Oi(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),e.push(new nn(s,c)))}}),0===e.length)return Pt.EMPTY_NODE;const o=WC(e,jye,s=>s.name,Ck);if(i){const s=WC(e,ai.getCompare());return new Pt(o,Oi(t),new Qc({".priority":s},{".priority":ai}))}return new Pt(o,Oi(t),Qc.Default)}}!function zye(n){a8=n}(Oi);class Ik extends HC{constructor(t){super(),this.indexPath_=t,(0,D.hu)(!Qt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Yd(t.name,e.name):o}makePost(t,e){const i=Oi(t),r=Pt.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(e,r)}maxPost(){const t=Pt.EMPTY_NODE.updateChild(this.indexPath_,tv);return new nn(Yc,t)}toString(){return Xy(this.indexPath_,0).join("/")}}const Dk=new class Yye extends HC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Yd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(t,e){const i=Oi(t);return new nn(e,i)}toString(){return".value"}};function l8(n){return{type:"value",snapshotNode:n}}function tm(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function nv(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function iv(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Sk{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,D.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(nv(e,a)):(0,D.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(tm(e,i)):s.trackChildChange(iv(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ai,(r,o)=>{e.hasChild(r)||i.trackChildChange(nv(r,o))}),e.isLeafNode()||e.forEachChild(ai,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(iv(r,o,s))}else i.trackChildChange(tm(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Pt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rv{constructor(t){this.indexedFilter_=new Sk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rv.getStartPost_(t),this.endPost_=rv.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new nn(e,i))||(i=Pt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Pt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Pt.EMPTY_NODE);const o=this;return e.forEachChild(ai,(s,a)=>{o.matches(new nn(s,a))||(r=r.updateImmediateChild(s,Pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Xye{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new rv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new nn(e,i))||(i=Pt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Pt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Pt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(m,_)=>f(_,m)}else s=this.index_.getCompare();const a=t;(0,D.hu)(a.numChildren()===this.limit_,"");const c=new nn(e,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(e)){const f=a.getImmediateChild(e);let m=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=m&&(m.name===e||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:s(m,c);if(u&&!i.isEmpty()&&_>=0)return o?.trackChildChange(iv(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(nv(e,f));const b=a.updateImmediateChild(e,Pt.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(tm(m.name,m.node)),b.updateImmediateChild(m.name,m.node)):b}}return i.isEmpty()?t:u&&s(l,c)>=0?(null!=o&&(o.trackChildChange(nv(l.name,l.node)),o.trackChildChange(tm(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(l.name,Pt.EMPTY_NODE)):t}}class GC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const t=new GC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ak(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Rk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function qC(n,t){const e=n.copy();return e.index_=t,e}function u8(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ai?e="$priority":n.index_===Dk?e="$value":n.index_===Ja?e="$key":((0,D.hu)(n.index_ instanceof Ik,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,D.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function d8(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ai&&(t.i=n.index_.toString()),t}class KC extends Z5{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ky("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,D.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=KC.getListenId_(t,i),a={};this.listens_[s]=a;const c=u8(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let f=u;if(404===l&&(f=null,l=null),null===l&&this.onDataUpdate_(o,f,!1,i),(0,D.DV)(this.listens_,s)===a){let m;m=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(m,null)}})}unlisten(t,e){const i=KC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=u8(t._queryParams),i=t._path.toString(),r=new D.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,D.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=(0,D.cI)(a.responseText)}catch{ao("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&ao("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class rve{constructor(){this.rootNode_=Pt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ZC(){return{value:null,children:new Map}}function nm(n,t,e){if(Qt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,ZC()),nm(n.children.get(i),t=Jn(t),e)}}function kk(n,t){if(Qt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ai,(i,r)=>{nm(n,new Nn(i),r)}),kk(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Jn(t),n.children.has(e)&&kk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Mk(n,t,e){null!==n.value?e(t,n.value):function ove(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Mk(r,new Nn(t.toString()+"/"+i),e)})}class sve{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Nr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class lve{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new sve(t);const i=1e4+2e4*Math.random();Yy(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Nr(t,(r,o)=>{o>0&&(0,D.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Yy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ec=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ec||{});function Ok(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class YC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ec.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Nn(t));return new YC(Cn(),e,this.revert)}}return(0,D.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new YC(Jn(this.path),this.affectedTree,this.revert)}}class ov{constructor(t,e){this.source=t,this.path=e,this.type=ec.LISTEN_COMPLETE}operationForChild(t){return Qt(this.path)?new ov(this.source,Cn()):new ov(this.source,Jn(this.path))}}class Jd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ec.OVERWRITE}operationForChild(t){return Qt(this.path)?new Jd(this.source,Cn(),this.snap.getImmediateChild(t)):new Jd(this.source,Jn(this.path),this.snap)}}class im{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ec.MERGE}operationForChild(t){if(Qt(this.path)){const e=this.children.subtree(new Nn(t));return e.isEmpty()?null:e.value?new Jd(this.source,Cn(),e.value):new im(this.source,Cn(),e)}return(0,D.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new im(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class uve{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sv(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,c)=>function fve(n,t,e){if(null==t.childName||null==e.childName)throw(0,D.g5)("Should only compare child_ events.");const i=new nn(t.childName,t.snapshotNode),r=new nn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function hve(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,n.query_))})})}function QC(n,t){return{eventCache:n,serverCache:t}}function av(n,t,e,i){return QC(new hu(t,e,i),n.serverCache)}function f8(n,t,e,i){return QC(n.eventCache,new hu(t,e,i))}function XC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function eh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Fk;class ci{constructor(t,e=(()=>(Fk||(Fk=new es(Q_e)),Fk))()){this.value=t,this.children=e}static fromObject(t){let e=new ci(null);return Nr(t,(i,r)=>{e=e.set(new Nn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Cn(),value:this.value};if(Qt(t))return null;{const i=Yt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(t),e);return null!=o?{path:Di(new Nn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(Jn(t)):new ci(null)}}set(t,e){if(Qt(t))return new ci(e,this.children);{const i=Yt(t),o=(this.children.get(i)||new ci(null)).set(Jn(t),e),s=this.children.insert(i,o);return new ci(this.value,s)}}remove(t){if(Qt(t))return this.children.isEmpty()?new ci(null):new ci(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const r=i.remove(Jn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new ci(null):new ci(this.value,o)}return this}}get(t){if(Qt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(Jn(t)):null}}setTree(t,e){if(Qt(t))return e;{const i=Yt(t),o=(this.children.get(i)||new ci(null)).setTree(Jn(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ci(this.value,s)}}fold(t){return this.fold_(Cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Di(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Qt(t))return null;{const o=Yt(t),s=this.children.get(o);return s?s.findOnPath_(Jn(t),Di(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Cn(),e)}foreachOnPath_(t,e,i){if(Qt(t))return this;{this.value&&i(e,this.value);const r=Yt(t),o=this.children.get(r);return o?o.foreachOnPath_(Jn(t),Di(e,r),i):new ci(null)}}foreach(t){this.foreach_(Cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Di(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ya{constructor(t){this.writeTree_=t}static empty(){return new ya(new ci(null))}}function cv(n,t,e){if(Qt(t))return new ya(new ci(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=No(r,t);return o=o.updateChild(s,e),new ya(n.writeTree_.set(r,o))}{const r=new ci(e),o=n.writeTree_.setTree(t,r);return new ya(o)}}}function Lk(n,t,e){let i=n;return Nr(e,(r,o)=>{i=cv(i,Di(t,r),o)}),i}function p8(n,t){if(Qt(t))return ya.empty();{const e=n.writeTree_.setTree(t,new ci(null));return new ya(e)}}function Vk(n,t){return null!=th(n,t)}function th(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(No(e.path,t)):null}function m8(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ai,(i,r)=>{t.push(new nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new nn(i,r.value))}),t}function fu(n,t){if(Qt(t))return n;{const e=th(n,t);return new ya(null!=e?new ci(e):n.writeTree_.subtree(t))}}function Bk(n){return n.writeTree_.isEmpty()}function rm(n,t){return g8(Cn(),n.writeTree_,t)}function g8(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,D.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=g8(Di(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Di(n,".priority"),i)),e}}function JC(n,t){return w8(t,n)}function vve(n,t){if(n.snap)return qs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&qs(Di(n.path,e),t))return!0;return!1}function wve(n){return n.visible}function _8(n,t,e){let i=ya.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)qs(e,s)?(a=No(e,s),i=cv(i,a,o.snap)):qs(s,e)&&(a=No(s,e),i=cv(i,Cn(),o.snap.getChild(a)));else{if(!o.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(qs(e,s))a=No(e,s),i=Lk(i,a,o.children);else if(qs(s,e))if(a=No(s,e),Qt(a))i=Lk(i,Cn(),o.children);else{const c=(0,D.DV)(o.children,Yt(a));if(c){const l=c.getChild(Jn(a));i=cv(i,Cn(),l)}}}}}return i}function y8(n,t,e,i,r){if(i||r){const o=fu(n.visibleWrites,t);return!r&&Bk(o)?e:r||null!=e||Vk(o,Cn())?rm(_8(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(qs(l.path,t)||qs(t,l.path))},t),e||Pt.EMPTY_NODE):null}{const o=th(n.visibleWrites,t);if(null!=o)return o;{const s=fu(n.visibleWrites,t);return Bk(s)?e:null!=e||Vk(s,Cn())?rm(s,e||Pt.EMPTY_NODE):null}}}function eT(n,t,e,i){return y8(n.writeTree,n.treePath,t,e,i)}function Uk(n,t){return function Eve(n,t,e){let i=Pt.EMPTY_NODE;const r=th(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ai,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=fu(n.visibleWrites,t);return e.forEachChild(ai,(s,a)=>{const c=rm(fu(o,new Nn(s)),a);i=i.updateImmediateChild(s,c)}),m8(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return m8(fu(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function v8(n,t,e,i){return function Cve(n,t,e,i,r){(0,D.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Di(t,e);if(Vk(n.visibleWrites,o))return null;{const s=fu(n.visibleWrites,o);return Bk(s)?r.getChild(e):rm(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function tT(n,t){return function xve(n,t){return th(n.visibleWrites,t)}(n.writeTree,Di(n.treePath,t))}function jk(n,t,e){return function Tve(n,t,e,i){const r=Di(t,e),o=th(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?rm(fu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function b8(n,t){return w8(Di(n.treePath,t),n.writeTree)}function w8(n,t){return{treePath:n,writeTree:t}}class Ave{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,D.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,iv(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,nv(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,tm(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,D.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,iv(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const E8=new class Rve{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Hk{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new hu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eh(this.viewCache_),o=function Sve(n,t,e,i,r,o){return function Ive(n,t,e,i,r,o,s){let a;const c=fu(n.visibleWrites,t),l=th(c,Cn());if(null!=l)a=l;else{if(null==e)return[];a=rm(c,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let _=m.getNext();for(;_&&u.length<r;)0!==f(_,i)&&u.push(_),_=m.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function C8(n,t,e,i,r,o){const s=t.eventCache;if(null!=tT(i,e))return t;{let a,c;if(Qt(e))if((0,D.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=eh(t),f=Uk(i,l instanceof Pt?l:Pt.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const l=eT(i,eh(t));a=n.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=Yt(e);if(".priority"===l){(0,D.hu)(1===du(e),"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const f=v8(i,e,u,c);a=null!=f?n.filter.updatePriority(u,f):s.getNode()}else{const u=Jn(e);let f;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const m=v8(i,e,s.getNode(),c);f=null!=m?s.getNode().getImmediateChild(l).updateChild(u,m):s.getNode().getImmediateChild(l)}else f=jk(i,l,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),l,f,u,r,o):s.getNode()}}return av(t,a,s.isFullyInitialized()||Qt(e),n.filter.filtersNodes())}}function nT(n,t,e,i,r,o,s,a){const c=t.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(Qt(e))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(e,i);l=u.updateFullNode(c.getNode(),_,null)}else{const _=Yt(e);if(!c.isCompleteForPath(e)&&du(e)>1)return t;const y=Jn(e),E=c.getNode().getImmediateChild(_).updateChild(y,i);l=".priority"===_?u.updatePriority(c.getNode(),E):u.updateChild(c.getNode(),_,E,y,E8,null)}const f=f8(t,l,c.isFullyInitialized()||Qt(e),u.filtersNodes());return C8(n,f,e,r,new Hk(r,f,o),a)}function zk(n,t,e,i,r,o,s){const a=t.eventCache;let c,l;const u=new Hk(r,t,o);if(Qt(e))l=n.filter.updateFullNode(t.eventCache.getNode(),i,s),c=av(t,l,!0,n.filter.filtersNodes());else{const f=Yt(e);if(".priority"===f)l=n.filter.updatePriority(t.eventCache.getNode(),i),c=av(t,l,a.isFullyInitialized(),a.isFiltered());else{const m=Jn(e),_=a.getNode().getImmediateChild(f);let y;if(Qt(m))y=i;else{const b=u.getCompleteChild(f);y=null!=b?".priority"===bk(m)&&b.getChild(J5(m)).isEmpty()?b:b.updateChild(m,i):Pt.EMPTY_NODE}c=_.equals(y)?t:av(t,n.filter.updateChild(a.getNode(),f,y,m,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function T8(n,t){return n.eventCache.isCompleteForChild(t)}function x8(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function $k(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Qt(e)?i:new ci(null).setTree(e,i);const u=t.serverCache.getNode();return l.children.inorderTraversal((f,m)=>{if(u.hasChild(f)){const y=x8(0,t.serverCache.getNode().getImmediateChild(f),m);c=nT(n,c,new Nn(f),y,r,o,s,a)}}),l.children.inorderTraversal((f,m)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===m.value;if(!u.hasChild(f)&&!_){const b=x8(0,t.serverCache.getNode().getImmediateChild(f),m);c=nT(n,c,new Nn(f),b,r,o,s,a)}}),c}class Bve{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Sk(i.getIndex()),o=function Jye(n){return n.loadsAllData()?new Sk(n.getIndex()):n.hasLimit()?new Xye(n):new rv(n)}(i);this.processor_=function kve(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,c=r.updateFullNode(Pt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Pt.EMPTY_NODE,a.getNode(),null),u=new hu(c,s.isFullyInitialized(),r.filtersNodes()),f=new hu(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=QC(f,u),this.eventGenerator_=new uve(this.query_)}get query(){return this.query_}}function Hve(n,t){const e=eh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Qt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function I8(n){return 0===n.eventRegistrations_.length}function D8(n,t,e){const i=[];if(e){(0,D.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function S8(n,t,e,i){t.type===ec.MERGE&&null!==t.source.queryId&&((0,D.hu)(eh(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(XC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Nve(n,t,e,i,r){const o=new Ave;let s,a;if(e.type===ec.OVERWRITE){const l=e;l.source.fromUser?s=zk(n,t,l.path,l.snap,i,r,o):((0,D.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Qt(l.path),s=nT(n,t,l.path,l.snap,i,r,a,o))}else if(e.type===ec.MERGE){const l=e;l.source.fromUser?s=function Ove(n,t,e,i,r,o,s){let a=t;return i.foreach((c,l)=>{const u=Di(e,c);T8(t,Yt(u))&&(a=zk(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=Di(e,c);T8(t,Yt(u))||(a=zk(n,a,u,l,r,o,s))}),a}(n,t,l.path,l.children,i,r,o):((0,D.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=$k(n,t,l.path,l.children,i,r,a,o))}else if(e.type===ec.ACK_USER_WRITE){const l=e;s=l.revert?function Vve(n,t,e,i,r,o){let s;if(null!=tT(i,e))return t;{const a=new Hk(i,t,r),c=t.eventCache.getNode();let l;if(Qt(e)||".priority"===Yt(e)){let u;if(t.serverCache.isFullyInitialized())u=eT(i,eh(t));else{const f=t.serverCache.getNode();(0,D.hu)(f instanceof Pt,"serverChildren would be complete if leaf node"),u=Uk(i,f)}l=n.filter.updateFullNode(c,u,o)}else{const u=Yt(e);let f=jk(i,u,t.serverCache);null==f&&t.serverCache.isCompleteForChild(u)&&(f=c.getImmediateChild(u)),l=null!=f?n.filter.updateChild(c,u,f,Jn(e),a,o):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Pt.EMPTY_NODE,Jn(e),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=eT(i,eh(t)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=tT(i,Cn()),av(t,l,s,n.filter.filtersNodes())}}(n,t,l.path,i,r,o):function Fve(n,t,e,i,r,o,s){if(null!=tT(r,e))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=i.value){if(Qt(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return nT(n,t,e,c.getNode().getChild(e),r,o,a,s);if(Qt(e)){let l=new ci(null);return c.getNode().forEachChild(Ja,(u,f)=>{l=l.set(new Nn(u),f)}),$k(n,t,e,l,r,o,a,s)}return t}{let l=new ci(null);return i.foreach((u,f)=>{const m=Di(e,u);c.isCompleteForPath(m)&&(l=l.set(u,c.getNode().getChild(m)))}),$k(n,t,e,l,r,o,a,s)}}(n,t,l.path,l.affectedTree,i,r,o)}else{if(e.type!==ec.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+e.type);s=function Lve(n,t,e,i,r){const o=t.serverCache;return C8(n,f8(t,o.getNode(),o.isFullyInitialized()||Qt(e),o.isFiltered()),e,i,E8,r)}(n,t,e.path,i,o)}const c=o.getChanges();return function Pve(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=XC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(l8(XC(t)))}}(t,s,c),{viewCache:s,changes:c}}(n.processor_,r,t,e,i);return function Mve(n,t){(0,D.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,D.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,A8(n,o.changes,o.viewCache.eventCache.getNode(),null)}function A8(n,t,e,i){return function dve(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Qye(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),sv(n,r,"child_removed",t,i,e),sv(n,r,"child_added",t,i,e),sv(n,r,"child_moved",o,i,e),sv(n,r,"child_changed",t,i,e),sv(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let iT,oT;class R8{constructor(){this.views=new Map}}function Wk(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,D.hu)(null!=o,"SyncTree gave us an op for an invalid query."),S8(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(S8(s,t,e,i));return o}}function k8(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=eT(e,r?i:null),c=!1;a?c=!0:i instanceof Pt?(a=Uk(e,i),c=!1):(a=Pt.EMPTY_NODE,c=!1);const l=QC(new hu(a,c,!1),new hu(i,r,!1));return new Bve(t,l)}return s}function M8(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function pu(n,t){let e=null;for(const i of n.views.values())e=e||Hve(i,t);return e}function N8(n,t){return t._queryParams.loadsAllData()?rT(n):n.views.get(t._queryIdentifier)}function P8(n,t){return null!=N8(n,t)}function mu(n){return null!=rT(n)}function rT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Xve=1;class O8{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ci(null),this.pendingWriteTree_=function Dve(){return{visibleWrites:ya.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gk(n,t,e,i,r){return function mve(n,t,e,i,r){(0,D.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=cv(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?om(n,new Jd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function gu(n,t,e=!1){const i=function _ve(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function yve(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,D.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&vve(a,i.path)?r=!1:qs(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function bve(n){n.visibleWrites=_8(n.allWrites,wve,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=p8(n.visibleWrites,i.path):Nr(i.children,c=>{n.visibleWrites=p8(n.visibleWrites,Di(i.path,c))}),!0))}(n.pendingWriteTree_,t)){let o=new ci(null);return null!=i.snap?o=o.set(Cn(),!0):Nr(i.children,s=>{o=o.set(new Nn(s),!0)}),om(n,new YC(i.path,o,e))}return[]}function lv(n,t,e){return om(n,new Jd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function sT(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||P8(s,t))){const c=function Zve(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=mu(n);if("default"===r)for(const[c,l]of n.views.entries())s=s.concat(D8(l,e,i)),I8(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=n.views.get(r);c&&(s=s.concat(D8(c,e,i)),I8(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!mu(n)&&o.push(new(function Gve(){return(0,D.hu)(iT,"Reference.ts has not been loaded"),iT}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function qve(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!r){const u=-1!==l.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(m,_)=>mu(_));if(u&&!f){const m=n.syncPointTree_.subtree(o);if(!m.isEmpty()){const _=function obe(n){return n.fold((t,e,i)=>{if(e&&mu(e))return[rT(e)];{let r=[];return e&&(r=M8(e)),Nr(i,(o,s)=>{r=r.concat(s)}),r}})}(m);for(let y=0;y<_.length;++y){const b=_[y],E=b.query,N=B8(n,b);n.listenProvider_.startListening(dv(E),uv(n,E),N.hashFn,N.onComplete)}}}!f&&l.length>0&&!i&&(u?n.listenProvider_.stopListening(dv(t),null):l.forEach(m=>{const _=n.queryToTagMap.get(cT(m));n.listenProvider_.stopListening(dv(m),_)}))}!function sbe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=cT(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,l)}return a}function F8(n,t,e,i){const r=Kk(n,i);if(null!=r){const o=Zk(r),s=o.path,a=o.queryId,c=No(s,t);return Yk(n,s,new Jd(Ok(a),c,e))}return[]}function qk(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const y=No(m,r);o=o||pu(_,y),s=s||mu(_)});let c,a=n.syncPointTree_.get(r);a?(s=s||mu(a),o=o||pu(a,Cn())):(a=new R8,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?c=!0:(c=!1,o=Pt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,y)=>{const b=pu(y,Cn());b&&(o=o.updateImmediateChild(_,b))}));const l=P8(a,t);if(!l&&!t._queryParams.loadsAllData()){const m=cT(t);(0,D.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function abe(){return Xve++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function Kve(n,t,e,i,r,o){const s=k8(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function zve(n,t){n.eventRegistrations_.push(t)}(s,e),function $ve(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ai,(o,s)=>{i.push(tm(o,s))}),e.isFullyInitialized()&&i.push(l8(e.getNode())),A8(n,i,e.getNode(),t)}(s,e)}(a,t,e,JC(n.pendingWriteTree_,r),o,c);if(!l&&!s&&!i){const m=N8(a,t);f=f.concat(function cbe(n,t,e){const i=t._path,r=uv(n,t),o=B8(n,e),s=n.listenProvider_.startListening(dv(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,D.hu)(!mu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,f)=>{if(!Qt(l)&&u&&mu(u))return[rT(u).query];{let m=[];return u&&(m=m.concat(M8(u).map(_=>_.query))),Nr(f,(_,y)=>{m=m.concat(y)}),m}});for(let l=0;l<c.length;++l){const u=c[l];n.listenProvider_.stopListening(dv(u),uv(n,u))}}return s}(n,t,m))}return f}function aT(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const l=pu(a,No(s,t));if(l)return l});return y8(r,t,o,e,!0)}function om(n,t){return L8(t,n.syncPointTree_,null,JC(n.pendingWriteTree_,Cn()))}function L8(n,t,e,i){if(Qt(n.path))return V8(n,t,e,i);{const r=t.get(Cn());null==e&&null!=r&&(e=pu(r,Cn()));let o=[];const s=Yt(n.path),a=n.operationForChild(s),c=t.children.get(s);if(c&&a){const l=e?e.getImmediateChild(s):null,u=b8(i,s);o=o.concat(L8(a,c,l,u))}return r&&(o=o.concat(Wk(r,n,i,e))),o}}function V8(n,t,e,i){const r=t.get(Cn());null==e&&null!=r&&(e=pu(r,Cn()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=e?e.getImmediateChild(s):null,l=b8(i,s),u=n.operationForChild(s);u&&(o=o.concat(V8(u,a,c,l)))}),r&&(o=o.concat(Wk(r,n,i,e))),o}function B8(n,t){const e=t.query,i=uv(n,e);return{hashFn:()=>(function Uve(n){return n.viewCache_.serverCache.getNode()}(t)||Pt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function nbe(n,t,e){const i=Kk(n,e);if(i){const r=Zk(i),o=r.path,s=r.queryId,a=No(o,t);return Yk(n,o,new ov(Ok(s),a))}return[]}(n,e._path,i):function tbe(n,t){return om(n,new ov({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function eye(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return sT(n,e,null,o)}}}}function uv(n,t){const e=cT(t);return n.queryToTagMap.get(e)}function cT(n){return n._path.toString()+"$"+n._queryIdentifier}function Kk(n,t){return n.tagToQueryMap.get(t)}function Zk(n){const t=n.indexOf("$");return(0,D.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Nn(n.substr(0,t))}}function Yk(n,t,e){const i=n.syncPointTree_.get(t);return(0,D.hu)(i,"Missing sync point for query tag that we're tracking"),Wk(i,e,JC(n.pendingWriteTree_,t),null)}function dv(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Qve(){return(0,D.hu)(oT,"Reference.ts has not been loaded"),oT}())(n._repo,n._path):n}class Qk{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Qk(e)}node(){return this.node_}}class Xk{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Di(this.path_,t);return new Xk(this.syncTree_,e)}node(){return aT(this.syncTree_,this.path_)}}const lbe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},U8=function(n,t,e){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ube(n[".sv"],t,e):"object"==typeof n[".sv"]?dbe(n[".sv"],t):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ube=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},dbe=function(n,t,e){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,D.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,D.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},j8=function(n,t,e,i){return eM(t,new Xk(e,n),i)},Jk=function(n,t,e){return eM(n,new Qk(t),e)};function eM(n,t,e){const i=n.getPriority().val(),r=U8(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=U8(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Jp(a,Oi(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Jp(r))),s.forEachChild(ai,(a,c)=>{const l=eM(c,t.getImmediateChild(a),e);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class tM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function lT(n,t){let e=t instanceof Nn?t:new Nn(t),i=n,r=Yt(e);for(;null!==r;){const o=(0,D.DV)(i.node.children,r)||{children:{},childCount:0};i=new tM(r,i,o),e=Jn(e),r=Yt(e)}return i}function nh(n){return n.node.value}function nM(n,t){n.node.value=t,iM(n)}function H8(n){return n.node.childCount>0}function uT(n,t){Nr(n.node.children,(e,i)=>{t(new tM(e,n,i))})}function z8(n,t,e,i){e&&!i&&t(n),uT(n,r=>{z8(r,t,!0,i)}),e&&i&&t(n)}function hv(n){return new Nn(null===n.parent?n.name:hv(n.parent)+"/"+n.name)}function iM(n){null!==n.parent&&function pbe(n,t,e){const i=function hbe(n){return void 0===nh(n)&&!H8(n)}(e),r=(0,D.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,iM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,iM(n))}(n.parent,n.name,n)}const mbe=/[\[\].#$\/\u0000-\u001F\u007F]/,gbe=/[\[\].#$\u0000-\u001F\u007F]/,rM=10485760,dT=function(n){return"string"==typeof n&&0!==n.length&&!mbe.test(n)},$8=function(n){return"string"==typeof n&&0!==n.length&&!gbe.test(n)},fv=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!VC(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},tc=function(n,t,e,i){i&&void 0===t||pv((0,D.gK)(n,"value"),t,e)},pv=function(n,t,e){const i=e instanceof Nn?new Nye(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Qd(i));if("function"==typeof t)throw new Error(n+"contains a function "+Qd(i)+" with contents = "+t.toString());if(VC(t))throw new Error(n+"contains "+t.toString()+" "+Qd(i));if("string"==typeof t&&t.length>rM/3&&(0,D.ug)(t)>rM)throw new Error(n+"contains a string greater than "+rM+" utf8 bytes "+Qd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Nr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!dT(s)))throw new Error(n+" contains an invalid key ("+s+") "+Qd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pye(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,D.ug)(t),e8(n)})(i,s),pv(n,a,i),function Oye(n){const t=n.parts_.pop();n.byteLength_-=(0,D.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Qd(i)+" in addition to actual children.")}},W8=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,D.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Nr(t,(s,a)=>{const c=new Nn(s);if(pv(r,a,Di(e,c)),".priority"===bk(c)&&!fv(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Xy(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!dT(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mye);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&qs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},oM=function(n,t,e){if(!e||void 0!==t){if(VC(t))throw new Error((0,D.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fv(t))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mv=function(n,t,e,i){if(!(i&&void 0===e||dT(e)))throw new Error((0,D.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gv=function(n,t,e,i){if(!(i&&void 0===e||$8(e)))throw new Error((0,D.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vbe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gv(n,t,e,i)},Ks=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},G8=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!dT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$8(n)}(e))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bbe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!wk(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function q8(n,t,e){hT(n,e),K8(n,i=>wk(i,t))}function bs(n,t,e){hT(n,e),K8(n,i=>qs(i,t)||qs(t,i))}function K8(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(wbe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wbe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Zd&&Mr("event: "+e.toString()),Qp(i)}}}const Z8="repo_interrupt",Ebe=25;class Cbe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bbe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ZC(),this.transactionQueueTree_=new tM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y8(n){const e=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _v(n){return lbe({timestamp:Y8(n)})}function Q8(n,t,e,i,r){n.dataUpdateCount++;const o=new Nn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const c=(0,D.UI)(e,l=>Oi(l));s=function ibe(n,t,e,i){const r=Kk(n,i);if(r){const o=Zk(r),s=o.path,a=o.queryId,c=No(s,t),l=ci.fromObject(e);return Yk(n,s,new im(Ok(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Oi(e);s=F8(n.serverSyncTree_,o,c,r)}else if(i){const c=(0,D.UI)(e,l=>Oi(l));s=function ebe(n,t,e){const i=ci.fromObject(e);return om(n,new im({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,c)}else{const c=Oi(e);s=lv(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=am(n,o)),bs(n.eventQueue_,a,s)}function X8(n,t){sM(n,"connected",t),!1===t&&function Sbe(n){sm(n,"onDisconnectEvents");const t=_v(n),e=ZC();Mk(n.onDisconnect_,Cn(),(r,o)=>{const s=j8(r,o,n.serverSyncTree_,t);nm(e,r,s)});let i=[];Mk(e,Cn(),(r,o)=>{i=i.concat(lv(n.serverSyncTree_,r,o));const s=uM(n,r);am(n,s)}),n.onDisconnect_=ZC(),bs(n.eventQueue_,Cn(),i)}(n)}function sM(n,t,e){const i=new Nn("/.info/"+t),r=Oi(e);n.infoData_.updateSnapshot(i,r);const o=lv(n.infoSyncTree_,i,r);bs(n.eventQueue_,i,o)}function fT(n){return n.nextWriteId_++}function aM(n,t,e,i,r){sm(n,"set",{path:t.toString(),value:e,priority:i});const o=_v(n),s=Oi(e,i),a=aT(n.serverSyncTree_,t),c=Jk(s,a,o),l=fT(n),u=Gk(n.serverSyncTree_,t,c,l,!0);hT(n.eventQueue_,u),n.server_.put(t.toString(),s.val(!0),(m,_)=>{const y="ok"===m;y||ao("set at "+t+" failed: "+m);const b=gu(n.serverSyncTree_,l,!y);bs(n.eventQueue_,t,b),_u(0,r,m,_)});const f=uM(n,t);am(n,f),bs(n.eventQueue_,f,[])}function Abe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&kk(n.onDisconnect_,t),_u(0,e,i,r)})}function J8(n,t,e,i){const r=Oi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&nm(n.onDisconnect_,t,r),_u(0,i,o,s)})}function cM(n,t,e){let i;i=".info"===Yt(t._path)?sT(n.infoSyncTree_,t,e):sT(n.serverSyncTree_,t,e),q8(n.eventQueue_,t._path,i)}function eW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Z8)}function sm(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Mr(e,...t)}function _u(n,t,e,i){t&&Qp(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function lM(n,t,e){return aT(n.serverSyncTree_,t,e)||Pt.EMPTY_NODE}function pT(n,t=n.transactionQueueTree_){if(t||mT(n,t),nh(t)){const e=nW(n,t);(0,D.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Obe(n,t,e){const i=e.map(l=>l.currentWriteId),r=lM(n,t,i);let o=r;const s=r.hash();for(let l=0;l<e.length;l++){const u=e[l];(0,D.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=No(t,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;n.server_.put(c.toString(),a,l=>{sm(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const f=[];for(let m=0;m<e.length;m++)e[m].status=2,u=u.concat(gu(n.serverSyncTree_,e[m].currentWriteId)),e[m].onComplete&&f.push(()=>e[m].onComplete(null,!0,e[m].currentOutputSnapshotResolved)),e[m].unwatcher();mT(n,lT(n.transactionQueueTree_,t)),pT(n,n.transactionQueueTree_),bs(n.eventQueue_,t,u);for(let m=0;m<f.length;m++)Qp(f[m])}else{if("datastale"===l)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{ao("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=l}am(n,t)}},s)}(n,hv(t),e)}else H8(t)&&uT(t,e=>{pT(n,e)})}function am(n,t){const e=tW(n,t),i=hv(e);return function Fbe(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=No(e,c.path);let f,u=!1;if((0,D.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,f=c.abortReason,r=r.concat(gu(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Ebe)u=!0,f="maxretry",r=r.concat(gu(n.serverSyncTree_,c.currentWriteId,!0));else{const m=lM(n,c.path,s);c.currentInputSnapshot=m;const _=t[a].update(m.val());if(void 0!==_){pv("transaction failed: Data returned ",_,c.path);let y=Oi(_);"object"==typeof _&&null!=_&&(0,D.r3)(_,".priority")||(y=y.updatePriority(m.getPriority()));const E=c.currentWriteId,N=_v(n),A=Jk(y,m,N);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=A,c.currentWriteId=fT(n),s.splice(s.indexOf(E),1),r=r.concat(Gk(n.serverSyncTree_,c.path,A,c.currentWriteId,c.applyLocally)),r=r.concat(gu(n.serverSyncTree_,E,!0))}else u=!0,f="nodata",r=r.concat(gu(n.serverSyncTree_,c.currentWriteId,!0))}bs(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}mT(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Qp(i[a]);pT(n,n.transactionQueueTree_)}(n,nW(n,e),i),i}function tW(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===nh(i);)i=lT(i,e),e=Yt(t=Jn(t));return i}function nW(n,t){const e=[];return iW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function iW(n,t,e){const i=nh(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);uT(t,r=>{iW(n,r,e)})}function mT(n,t){const e=nh(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,nM(t,e.length>0?e:void 0)}uT(t,i=>{mT(n,i)})}function uM(n,t){const e=hv(tW(n,t)),i=lT(n.transactionQueueTree_,t);return function fbe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{dM(n,r)}),dM(n,i),z8(i,r=>{dM(n,r)}),e}function dM(n,t){const e=nh(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,D.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,D.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(gu(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?nM(t,void 0):e.length=o+1,bs(n.eventQueue_,hv(t),r);for(let s=0;s<i.length;s++)Qp(i[s])}}const hM=function(n,t){const e=Bbe(n),i=e.namespace;return"firebase.com"===e.domain&&Xa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ao("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Nn(e.pathString)}},Bbe=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(u,f)),u<f&&(r=function Lbe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(u,f)));const m=function Vbe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ao(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const _=t.slice(0,l);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const y=t.indexOf(".");i=t.substring(0,y).toLowerCase(),e=t.substring(y+1),o=i}"ns"in m&&(o=m.ns)}return{host:t,port:c,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},rW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ube=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=rW.charAt(e%64),e=Math.floor(e/64);(0,D.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=rW.charAt(t[r]);return(0,D.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class oW{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class sW{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class fM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class aW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new D.BH;return Abe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ks("OnDisconnect.remove",this._path);const t=new D.BH;return J8(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ks("OnDisconnect.set",this._path),tc("OnDisconnect.set",t,this._path,!1);const e=new D.BH;return J8(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ks("OnDisconnect.setWithPriority",this._path),tc("OnDisconnect.setWithPriority",t,this._path,!1),oM("OnDisconnect.setWithPriority",e,!1);const i=new D.BH;return function Rbe(n,t,e,i,r){const o=Oi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&nm(n.onDisconnect_,t,o),_u(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ks("OnDisconnect.update",this._path),W8("OnDisconnect.update",t,this._path,!1);const e=new D.BH;return function kbe(n,t,e,i){if((0,D.xb)(e))return Mr("onDisconnect().update() called with empty data.  Don't do anything."),void _u(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Nr(e,(s,a)=>{const c=Oi(a);nm(n.onDisconnect_,Di(t,s),c)}),_u(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ts{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Qt(this._path)?null:bk(this._path)}get ref(){return new Zs(this._repo,this._path)}get _queryIdentifier(){const t=d8(this._queryParams),e=hk(t);return"{}"===e?"default":e}get _queryObject(){return d8(this._queryParams)}isEqual(t){if(!((t=(0,D.m9)(t))instanceof ts))return!1;const e=this._repo===t._repo,i=wk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kye(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function gT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ja){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==lu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Yc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ai){if(null!=t&&!fv(t)||null!=e&&!fv(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof Ik||n.getIndex()===Dk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _T(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zs extends ts{constructor(t,e){super(t,e,new GC,!1)}get parent(){const t=J5(this._path);return null===t?null:new Zs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ih{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Nn(t),i=rh(this.ref,t);return new ih(this._node.getChild(e),i,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new ih(r,rh(this.ref,i),ai)))}hasChild(t){const e=new Nn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cW(n,t){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==t?rh(n._root,t):n._root}function lW(n,t){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const e=hM(t,n._repo.repoInfo_.nodeAdmin);G8("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xa("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),cW(n,e.path.toString())}function rh(n,t){return null===Yt((n=(0,D.m9)(n))._path)?vbe("child","path",t,!1):gv("child","path",t,!1),new Zs(n._repo,Di(n._path,t))}function pM(n,t){n=(0,D.m9)(n),Ks("set",n._path),tc("set",t,n._path,!1);const e=new D.BH;return aM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Wbe(n,t){W8("update",t,n._path,!1);const e=new D.BH;return function Dbe(n,t,e,i){sm(n,"update",{path:t.toString(),value:e});let r=!0;const o=_v(n),s={};if(Nr(e,(a,c)=>{r=!1,s[a]=j8(Di(t,a),Oi(c),n.serverSyncTree_,o)}),r)Mr("update() called with empty data.  Don't do anything."),_u(0,i,"ok",void 0);else{const a=fT(n),c=function Jve(n,t,e,i){!function gve(n,t,e,i){(0,D.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Lk(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ci.fromObject(e);return om(n,new im({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);hT(n.eventQueue_,c),n.server_.merge(t.toString(),e,(l,u)=>{const f="ok"===l;f||ao("update at "+t+" failed: "+l);const m=gu(n.serverSyncTree_,a,!f),_=m.length>0?am(n,t):t;bs(n.eventQueue_,_,m),_u(0,i,l,u)}),Nr(e,l=>{const u=uM(n,Di(t,l));am(n,u)}),bs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Gbe(n){n=(0,D.m9)(n);const t=new fM(()=>{}),e=new yv(t);return function Ibe(n,t,e){const i=function rbe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(l,u)=>{const f=No(l,e);i=i||pu(u,f)});let r=n.syncPointTree_.get(e);r?i=i||pu(r,Cn()):(r=new R8,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new hu(i,!0,!1):null;return function jve(n){return XC(n.viewCache_)}(k8(r,t,JC(n.pendingWriteTree_,t._path),o?s.getNode():Pt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Oi(r).withIndex(t._queryParams.getIndex());let s;if(qk(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=lv(n.serverSyncTree_,t._path,o);else{const a=uv(n.serverSyncTree_,t);s=F8(n.serverSyncTree_,t._path,o,a)}return bs(n.eventQueue_,t._path,s),sT(n.serverSyncTree_,t,e,null,!0),o},r=>(sm(n,"get for query "+(0,D.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new ih(i,new Zs(n._repo,n._path),n._queryParams.getIndex()))}class yv{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new oW("value",this,new ih(t.snapshotNode,new Zs(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sW(this,t,e):null}matches(t){return t instanceof yv&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sW(this,t,e):null}createEvent(t,e){(0,D.hu)(null!=t.childName,"Child events should have a childName.");const i=rh(new Zs(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new oW(t.type,this,new ih(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof yT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function vv(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const c=e,l=(u,f)=>{cM(n._repo,n,a),c(u,f)};l.userCallback=e.userCallback,l.context=e.context,e=l}const s=new fM(e,o||void 0),a="value"===t?new yv(s):new yT(t,s);return function Mbe(n,t,e){let i;i=".info"===Yt(t._path)?qk(n.infoSyncTree_,t,e):qk(n.serverSyncTree_,t,e),q8(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>cM(n._repo,n,a)}function mM(n,t,e,i){return vv(n,"value",t,e,i)}function uW(n,t,e,i){return vv(n,"child_added",t,e,i)}function dW(n,t,e,i){return vv(n,"child_changed",t,e,i)}function hW(n,t,e,i){return vv(n,"child_moved",t,e,i)}function fW(n,t,e,i){return vv(n,"child_removed",t,e,i)}function pW(n,t,e){let i=null;const r=e?new fM(e):null;"value"===t?i=new yv(r):t&&(i=new yT(t,r)),cM(n._repo,n,i)}class va{}class mW extends va{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tc("endAt",this._value,t._path,!0);const e=Rk(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Kbe extends va{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tc("endBefore",this._value,t._path,!1);const e=function ive(n,t,e){let i;return i=Rk(n,t,n.index_===Ja||e?e:lu),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class gW extends va{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tc("startAt",this._value,t._path,!0);const e=Ak(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Qbe extends va{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tc("startAfter",this._value,t._path,!1);const e=function nve(n,t,e){let i;return i=Ak(n,t,n.index_===Ja||e?e:Yc),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(_T(e),yu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ts(t._repo,t._path,e,t._orderByCalled)}}class Jbe extends va{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ts(t._repo,t._path,function eve(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class t0e extends va{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ts(t._repo,t._path,function tve(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class i0e extends va{constructor(t){super(),this._path=t}_apply(t){gT(t,"orderByChild");const e=new Nn(this._path);if(Qt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Ik(e),r=qC(t._queryParams,i);return yu(r),new ts(t._repo,t._path,r,!0)}}class o0e extends va{_apply(t){gT(t,"orderByKey");const e=qC(t._queryParams,Ja);return yu(e),new ts(t._repo,t._path,e,!0)}}class a0e extends va{_apply(t){gT(t,"orderByPriority");const e=qC(t._queryParams,ai);return yu(e),new ts(t._repo,t._path,e,!0)}}class l0e extends va{_apply(t){gT(t,"orderByValue");const e=qC(t._queryParams,Dk);return yu(e),new ts(t._repo,t._path,e,!0)}}class d0e extends va{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(tc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mW(this._value,this._key)._apply(new gW(this._value,this._key)._apply(t))}}function ba(n,...t){let e=(0,D.m9)(n);for(const i of t)e=i._apply(e);return e}(function Wve(n){(0,D.hu)(!iT,"__referenceConstructor has already been defined"),iT=n})(Zs),function Yve(n){(0,D.hu)(!oT,"__referenceConstructor has already been defined"),oT=n}(Zs);const gM={};function _M(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Xa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=hM(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=hM(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Qy(Qy.OWNER):new sye(n.name,n.options,t);G8("Invalid Firebase Database URL",s),Qt(s.path)||Xa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function g0e(n,t,e,i){let r=gM[t.name];r||(r={},gM[t.name]=r);let o=r[n.toURLString()];return o&&Xa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cbe(n,false,e,i),r[n.toURLString()]=o,o}(a,n,u,new oye(n.name,e));return new y0e(f,n)}class y0e{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Tbe(n,t,e){if(n.stats_=_k(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new KC(n.repoInfo_,(i,r,o,s)=>{Q8(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>X8(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Xd(n.repoInfo_,t,(i,r,o,s)=>{Q8(n,i,r,o,s)},i=>{X8(n,i)},i=>{!function xbe(n,t){Nr(t,(e,i)=>{sM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function lye(n,t){const e=n.toString();return gk[e]||(gk[e]=t()),gk[e]}(n.repoInfo_,()=>new lve(n.stats_,n.server_)),n.infoData_=new rve,n.infoSyncTree_=new O8({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=lv(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),sM(n,"connected",!1),n.serverSyncTree_=new O8({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);bs(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zs(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function m0e(n,t){const e=gM[t];(!e||e[n.key]!==n)&&Xa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),eW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xa("Cannot call "+t+" on a deleted database.")}}function yW(){j5.IS_TRANSPORT_INITIALIZED&&ao("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function v0e(){yW(),uu.forceDisallow()}function b0e(){yW(),Xp.forceDisallow(),uu.forceAllow()}function C0e(n,t){w5(n,t)}const x0e={".sv":"timestamp"};class S0e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Xd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Xd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function T0e(n){lk(so.SDK_VERSION),(0,so._registerComponent)(new ga.wA("database",(t,{instanceIdentifier:e})=>_M(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(m5,"1.0.1",n),(0,so.registerVersion)(m5,"1.0.1","esm2017")}();const M0e=new ys.Yd("@firebase/database-compat"),bW=function(n){M0e.warn("FIREBASE WARNING: "+n)};class O0e{constructor(t){this._delegate=t}cancel(t){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class F0e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),gv("DataSnapshot.child","path",t,!1),new vu(this._database,this._delegate.child(t))}hasChild(t){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gv("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new vu(this._database,e)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new ws(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class qr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",e,!1);const s=qr.getCancelAndContextArgs_("Query.on",i,r),a=(l,u)=>{e.call(s.context,new vu(this.database,l),u)};a.userCallback=e,a.context=s.context;const c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return mM(this._delegate,a,c),e;case"child_added":return uW(this._delegate,a,c),e;case"child_removed":return fW(this._delegate,a,c),e;case"child_changed":return dW(this._delegate,a,c),e;case"child_moved":return hW(this._delegate,a,c),e;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,D.Wj)("Query.off","callback",e,!0),(0,D.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,pW(this._delegate,t,r)}else pW(this._delegate,t)}get(){return Gbe(this._delegate).then(t=>new vu(this.database,t))}once(t,e,i,r){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",e,!0);const o=qr.getCancelAndContextArgs_("Query.once",i,r),s=new D.BH,a=(l,u)=>{const f=new vu(this.database,l);e&&e.call(o.context,f,u),s.resolve(f)};a.userCallback=e,a.context=o.context;const c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(t){case"value":mM(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":uW(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":fW(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":dW(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":hW(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new qr(this.database,ba(this._delegate,function e0e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jbe(n)}(t)))}limitToLast(t){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new qr(this.database,ba(this._delegate,function n0e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new t0e(n)}(t)))}orderByChild(t){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new qr(this.database,ba(this._delegate,function r0e(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gv("orderByChild","path",n,!1),new i0e(n)}(t)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new qr(this.database,ba(this._delegate,function s0e(){return new o0e}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new qr(this.database,ba(this._delegate,function c0e(){return new a0e}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new qr(this.database,ba(this._delegate,function u0e(){return new l0e}()))}startAt(t=null,e){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new qr(this.database,ba(this._delegate,function Ybe(n=null,t){return mv("startAt","key",t,!0),new gW(n,t)}(t,e)))}startAfter(t=null,e){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new qr(this.database,ba(this._delegate,function Xbe(n,t){return mv("startAfter","key",t,!0),new Qbe(n,t)}(t,e)))}endAt(t=null,e){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new qr(this.database,ba(this._delegate,function qbe(n,t){return mv("endAt","key",t,!0),new mW(n,t)}(t,e)))}endBefore(t=null,e){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new qr(this.database,ba(this._delegate,function Zbe(n,t){return mv("endBefore","key",t,!0),new Kbe(n,t)}(t,e)))}equalTo(t,e){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new qr(this.database,ba(this._delegate,function h0e(n,t){return mv("equalTo","key",t,!0),new d0e(n,t)}(t,e)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,D.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,D.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,D.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ws(this.database,new Zs(this._delegate._repo,this._delegate._path))}}class ws extends qr{constructor(t,e){super(t,new ts(e._repo,e._path,new GC,!1)),this.database=t,this._delegate=e}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ws(this.database,rh(this._delegate,t))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ws(this.database,t):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new ws(this.database,this._delegate.root)}set(t,e){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",e,!0);const i=pM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",e,!0);const i=Wbe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function $be(n,t,e){if(Ks("setWithPriority",n._path),tc("setWithPriority",t,n._path,!1),oM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new D.BH;return aM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",t,!0);const e=function Hbe(n){return Ks("remove",n._path),pM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,D.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function A0e(n,t,e){var i;if(n=(0,D.m9)(n),Ks("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new D.BH,a=mM(n,()=>{});return function Pbe(n,t,e,i,r,o){sm(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:y5(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=lM(n,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{pv("transaction failed: Data returned ",c,s.path),s.status=0;const l=lT(n.transactionQueueTree_,t),u=nh(l)||[];let f;u.push(s),nM(l,u),"object"==typeof c&&null!==c&&(0,D.r3)(c,".priority")?(f=(0,D.DV)(c,".priority"),(0,D.hu)(fv(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(aT(n.serverSyncTree_,t)||Pt.EMPTY_NODE).getPriority().val();const m=_v(n),_=Oi(c,f),y=Jk(_,a,m);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=fT(n);const b=Gk(n.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);bs(n.eventQueue_,t,b),pT(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(c,l,u)=>{let f=null;c?o.reject(c):(f=new ih(u,new Zs(n._repo,n._path),ai),o.resolve(new S0e(l,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new F0e(o.committed,new vu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",e,!0);const i=function zbe(n,t){n=(0,D.m9)(n),Ks("setPriority",n._path),oM("setPriority",t,!1);const e=new D.BH;return aM(n._repo,Di(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",e,!0);const i=function jbe(n,t){n=(0,D.m9)(n),Ks("push",n._path),tc("push",t,n._path,!0);const e=Y8(n._repo),i=Ube(e),r=rh(n,i),o=rh(n,i);let s;return s=null!=t?pM(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new ws(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ws(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ks("Reference.onDisconnect",this._delegate._path),new O0e(new aW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bv{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:v0e,forceLongPolling:b0e}}useEmulator(t,e,i={}){!function vW(n,t,e,i={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xa("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qy(Qy.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,D.Sg)(i.mockUserToken,n.app.options.projectId);o=new Qy(s)}!function p0e(n,t,e,i){n.repoInfo_=new pk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,D.Dv)("database.ref",0,1,arguments.length),t instanceof ws){const e=lW(this._delegate,t.toString());return new ws(this,e)}{const e=cW(this._delegate,t);return new ws(this,e)}}refFromURL(t){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const i=lW(this._delegate,t);return new ws(this,i)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function w0e(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),eW(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function E0e(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function Nbe(n){n.persistentConnection_&&n.persistentConnection_.resume(Z8)}(n._repo)}(this._delegate)}}bv.ServerValue={TIMESTAMP:function I0e(){return x0e}(),increment:n=>function D0e(n){return{".sv":{increment:n}}}(n)};var V0e=Object.freeze({__proto__:null,initStandalone:function L0e({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){lk(e);const a=new ga.H0("database-standalone"),c=new ga.zt("auth-internal",a);let l;return c.setComponent(new ga.wA("auth-internal",()=>i,"PRIVATE")),r&&(l=new ga.zt("app-check-internal",a),l.setComponent(new ga.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new bv(_M(n,c,l,t,s),n),namespace:o}}});const B0e=bv.ServerValue;function wv(n,t,e="on",i=Nd){return new lt(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(we(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),ae())}function wW(n){return null==n}function EW(n){return"function"==typeof n.set}function CW(n,t){return EW(t)?t:n.ref(t)}function TW(n,t){if(function j0e(n){return"string"==typeof n}(n))return t.stringCase();if(EW(n))return t.firebaseCase();if(function H0e(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function xW(n){return(wW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function IW(n,t,e){return I(...(t=xW(t)).map(r=>wv(n,r,"on",e)))}function DW(n,t){return function(i,r){return TW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function G0e(n){return function(e){return e?TW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function SW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Z0e(n,t){const{payload:e,prevKey:i,key:r}=t,o=SW(n,r),s=function K0e(n,t){if(wW(t))return 0;{const e=SW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(c=>{const l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,n=[...n,l],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(c=>c.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function AW(n,t,e){return function q0e(n,t,e){return wv(n,"value","once",e).pipe(Ue(i=>{const r=[k(i)];return t.forEach(o=>r.push(wv(n,o,"on",e))),I(...r).pipe(bp(Z0e,[]))}),ht())}(n,t=xW(t),e)}function RW(n,t){return function(){return wv(n,"value","on",t)}}!function U0e(n){n.INTERNAL.registerComponent(new ga.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new bv(r,i)},"PUBLIC").setServiceProps({Reference:ws,Query:qr,Database:bv,DataSnapshot:vu,enableLogging:C0e,INTERNAL:V0e,ServerValue:B0e}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(vs.Z);const X0e=new oe("angularfire2.realtimeDatabaseURL"),J0e=new oe("angularfire2.database.use-emulator");let kW=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,c,l,u,f,m,_,y,b,E){this.schedulers=a;const N=c,A=jy(e,s,i);l&&zR(A,s,u,m,_,y,f,b),this.database=xC(`${A.name}.database.${r}`,"AngularFireDatabase",A.name,()=>{const L=s.runOutsideAngular(()=>A.database(r||void 0));return N&&L.useEmulator(...N),L},[N])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>CW(this.database,e));let o=r;return i&&(o=i(r)),function Y0e(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:DW(i,"update"),set:DW(i,"set"),push:r=>i.push(r),remove:G0e(i),snapshotChanges:r=>AW(n,r,e).pipe(Yi),stateChanges:r=>IW(n,r,e).pipe(Yi),auditTrail:r=>function z0e(n,t,e){return function W0e(n,t,e){return function $0e(n,t){return wv(n,"value","on",t).pipe(we(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(XE(t),we(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function G_e(n){return de((t,e)=>{let i=!1,r=0;t.subscribe(Se(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),we(r=>r.actions))}(n,IW(n,t).pipe(bp((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Yi),valueChanges:(r,o)=>AW(n,r,e).pipe(we(a=>a.map(c=>o&&o.idField?{...c.payload.val(),[o.idField]:c.key}:c.payload.val())),Yi)}}(o,this)}object(e){return function Q0e(n,t){return{query:n,snapshotChanges:()=>RW(n,t.schedulers.outsideAngular)().pipe(Yi),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>RW(n,t.schedulers.outsideAngular)().pipe(Yi,we(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>CW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(O(zp),O($p,8),O(X0e,8),O(ds),O(je),O(vC),O(J0e,8),O(Hy,8),O(LR,8),O(VR,8),O(BR,8),O(UR,8),O(jR,8),O(HR,8),O(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ewe=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Bp.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=$e({type:n});static \u0275inj=Ke({providers:[kW]})}return n})();const MW="firebasestorage.googleapis.com",NW="storageBucket";class Fi extends D.ZR{constructor(t,e,i=0){super(yM(t),`Firebase Storage: ${e} (${yM(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Si=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Si||{});function yM(n){return"storage/"+n}function vM(){return new Fi(Si.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function PW(){return new Fi(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OW(){return new Fi(Si.CANCELED,"User canceled the upload/download.")}function FW(){return new Fi(Si.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cm(n){return new Fi(Si.INVALID_ARGUMENT,n)}function LW(){return new Fi(Si.APP_DELETED,"The Firebase app was deleted.")}function VW(n){return new Fi(Si.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ev(n,t){return new Fi(Si.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Cv(n){throw new Fi(Si.INTERNAL_ERROR,"Internal error: "+n)}class co{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=co.makeFromUrl(t,e)}catch{return new co(t,"")}if(""===i.path)return i;throw function uwe(n){return new Fi(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function l(W){W.path_=decodeURIComponent(W.path)}const f=e.replace(/[.]/g,"\\."),L=[{regex:a,indices:{bucket:1,path:3},postModify:function o(W){"/"===W.path.charAt(W.path.length-1)&&(W.path_=W.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${e===MW?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let W=0;W<L.length;W++){const le=L[W],De=le.regex.exec(t);if(De){let nt=De[le.indices.path];nt||(nt=""),i=new co(De[le.indices.bucket],nt),le.postModify(i);break}}if(null==i)throw function lwe(n){return new Fi(Si.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class mwe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function vT(n){return"string"==typeof n||n instanceof String}function BW(n){return bM()&&n instanceof Blob}function bM(){return typeof Blob<"u"&&!(0,D.UG)()}function wM(n,t,e,i){if(i<t)throw cm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw cm(`Invalid value for '${n}'. Expected ${e} or less.`)}function Xc(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function UW(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var lm=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(lm||{});function jW(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class wwe{constructor(t,e,i,r,o,s,a,c,l,u,f,m=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,y)=>{this.resolve_=_,this.reject_=y,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function ywe(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=vM();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(r.canceled?this.appDelete_?LW():OW():PW())};this.canceled_?e(0,new bT(!1,null,!0)):this.backoffId_=function gwe(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...E){l||(l=!0,t.apply(null,E))}function f(E){r=setTimeout(()=>{r=null,n(_,c())},E)}function m(){o&&clearTimeout(o)}function _(E,...N){if(l)return void m();if(E)return m(),void u.call(null,E,...N);if(c()||s)return m(),void u.call(null,E,...N);let L;i<64&&(i*=2),1===a?(a=2,L=0):L=1e3*(i+Math.random()),f(L)}let y=!1;function b(E){y||(y=!0,m(),!l&&(null!==r?(E||(a=2),clearTimeout(r),f(0)):E||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},e),b}((i,r)=>{if(r)return void i(!1,new bT(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===lm.NO_ERROR,c=o.getStatus();if(!a||jW(c,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===lm.ABORT;return void i(!1,new bT(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);i(!0,new bT(l,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function _we(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Swe(...n){const t=function Dwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(bM())return new Blob(n);throw new Fi(Si.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class EM{constructor(t,e){this.data=t,this.contentType=e||null}}function CM(n,t){switch(n){case Es.RAW:return new EM(HW(t));case Es.BASE64:case Es.BASE64URL:return new EM(zW(n,t));case Es.DATA_URL:return new EM(function Mwe(n){const t=new $W(n);return t.base64?zW(Es.BASE64,t.rest):function kwe(n){let t;try{t=decodeURIComponent(n)}catch{throw Ev(Es.DATA_URL,"Malformed data URL.")}return HW(t)}(t.rest)}(t),function Nwe(n){return new $W(n).contentType}(t))}throw vM()}function HW(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function zW(n,t){switch(n){case Es.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Ev(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Es.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Ev(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Rwe(n){if(typeof atob>"u")throw function pwe(n){return new Fi(Si.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Ev(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class $W{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ev(Es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Pwe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class nc{constructor(t,e){let i=0,r="";BW(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(BW(this.data_)){const r=function Awe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new nc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new nc(i,!0)}}static getBlob(...t){if(bM()){const e=t.map(i=>i instanceof nc?i.data_:i);return new nc(Swe.apply(null,e))}{const e=t.map(s=>vT(s)?CM(Es.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new nc(r,!0)}}uploadData(){return this.data_}}function TM(n){let t;try{t=JSON.parse(n)}catch{return null}return function bwe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function WW(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Lwe(n,t){return t}class Po{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Lwe}}let wT=null;function Tv(){if(wT)return wT;const n=[];n.push(new Po("bucket")),n.push(new Po("generation")),n.push(new Po("metageneration")),n.push(new Po("name","fullPath",!0));const e=new Po("name");e.xform=function t(o,s){return function Vwe(n){return!vT(n)||n.length<2?n:WW(n)}(s)},n.push(e);const r=new Po("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Po("timeCreated")),n.push(new Po("updated")),n.push(new Po("md5Hash",null,!0)),n.push(new Po("cacheControl",null,!0)),n.push(new Po("contentDisposition",null,!0)),n.push(new Po("contentEncoding",null,!0)),n.push(new Po("contentLanguage",null,!0)),n.push(new Po("contentType",null,!0)),n.push(new Po("metadata","customMetadata",!0)),wT=n,wT}function GW(n,t,e){const i=TM(t);return null===i?null:function Uwe(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function Bwe(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new co(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function xM(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const qW="prefixes",KW="items";class ic{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rc(n){if(!n)throw vM()}function ET(n,t){return function e(i,r){const o=GW(n,r,t);return rc(null!==o),o}}function um(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function awe(){return new Fi(Si.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function swe(){return new Fi(Si.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function owe(n){return new Fi(Si.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function cwe(n){return new Fi(Si.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function xv(n){const t=um(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function rwe(n){return new Fi(Si.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function ZW(n,t,e){const r=Xc(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new ic(r,"GET",ET(n,e),s);return a.errorHandler=xv(t),a}function Gwe(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const a=Xc(t.bucketOnlyServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,u=new ic(a,"GET",function $we(n,t){return function e(i,r){const o=function zwe(n,t,e){const i=TM(e);return null===i?null:function Hwe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[qW])for(const r of e[qW]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new co(t,o));i.prefixes.push(s)}if(e[KW])for(const r of e[KW]){const o=n._makeStorageReference(new co(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return rc(null!==o),o}}(n,t.bucket),l);return u.urlParams=o,u.errorHandler=um(t),u}function QW(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Ywe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class CT{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function IM(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{rc(!1)}return rc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const eEe={STATE_CHANGED:"state_changed"},Oo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DM(n){switch(n){case"running":case"pausing":case"canceling":return Oo.RUNNING;case"paused":return Oo.PAUSED;case"success":return Oo.SUCCESS;case"canceled":return Oo.CANCELED;default:return Oo.ERROR}}class tEe{constructor(t,e,i){if(function vwe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function dm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let eG=null;class nEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Cv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class iEe extends nEe{initXhr(){this.xhr_.responseType="text"}}function wa(){return eG?eG():new iEe}class tG{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Tv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Si.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(jW(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=PW()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Si.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Qwe(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=QW(t,i,r),a={name:s.fullPath},c=Xc(o,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=xM(s,e),y=new ic(c,"POST",function _(b){let E;IM(b);try{E=b.getResponseHeader("X-Goog-Upload-URL")}catch{rc(!1)}return rc(vT(E)),E},n.maxUploadRetryTime);return y.urlParams=a,y.headers=u,y.body=f,y.errorHandler=um(t),y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,wa,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Xwe(n,t,e,i){const c=new ic(e,"POST",function o(l){const u=IM(l,["active","final"]);let f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rc(!1)}f||rc(!1);const m=Number(f);return rc(!isNaN(m)),new CT(m,i.size(),"final"===u)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=um(t),c}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,wa,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new CT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function Jwe(n,t,e,i,r,o,s,a){const c=new CT(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw function hwe(){return new Fi(Si.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let u=l;r>0&&(u=Math.min(u,r));const f=c.current;let _="";_=0===u?"finalize":l===u?"upload, finalize":"upload";const y={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${c.current}`},b=i.slice(f,f+u);if(null===b)throw FW();const L=new ic(e,"POST",function E(W,le){const De=IM(W,["active","final"]),Me=c.current+u,nt=i.size();let rn;return rn="final"===De?ET(t,o)(W,le):null,new CT(Me,nt,"final"===De,rn)},t.maxUploadRetryTime);return L.headers=y,L.body=b.uploadData(),L.progressCallback=a||null,L.errorHandler=um(n),L}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,wa,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=ZW(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,wa,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function XW(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let L="";for(let W=0;W<2;W++)L+=Math.random().toString().slice(2);return L}();s["Content-Type"]="multipart/related; boundary="+c;const l=QW(t,i,r),u=xM(l,e),_=nc.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+c+"--");if(null===_)throw FW();const y={name:l.fullPath},b=Xc(o,n.host,n._protocol),N=n.maxUploadRetryTime,A=new ic(b,"POST",ET(n,e),N);return A.urlParams=y,A.headers=s,A.body=_.uploadData(),A.errorHandler=um(t),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,wa,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=OW(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=DM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new tEe(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(DM(this._state)){case Oo.SUCCESS:dm(this._resolve.bind(null,this.snapshot))();break;case Oo.CANCELED:case Oo.ERROR:dm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(DM(this._state)){case Oo.RUNNING:case Oo.PAUSED:t.next&&dm(t.next.bind(t,this.snapshot))();break;case Oo.SUCCESS:t.complete&&dm(t.complete.bind(t))();break;default:t.error&&dm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class oh{constructor(t,e){this._service=t,this._location=e instanceof co?e:co.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new oh(t,e)}get root(){const t=new co(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WW(this._location.path)}get storage(){return this._service}get parent(){const t=function Owe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new co(this._location.bucket,t);return new oh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw VW(t)}}function iG(n,t,e){return SM.apply(this,arguments)}function SM(){return(SM=(0,ue.Z)(function*(n,t,e){const r=yield rG(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield iG(n,t,r.nextPageToken))})).apply(this,arguments)}function rG(n,t){null!=t&&"number"==typeof t.maxResults&&wM("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Gwe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,wa)}function mEe(n){n._throwIfRoot("getDownloadURL");const t=function qwe(n,t,e){const r=Xc(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new ic(r,"GET",function Wwe(n,t){return function e(i,r){const o=GW(n,r,t);return rc(null!==o),function jwe(n,t,e,i){const r=TM(t);if(null===r||!vT(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const f=n.fullPath;return Xc("/b/"+s(n.bucket)+"/o/"+s(f),e,i)+UW({alt:"media",token:l})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return a.errorHandler=xv(t),a}(n.storage,n._location,Tv());return n.storage.makeRequestWithTokens(t,wa).then(e=>{if(null===e)throw function fwe(){return new Fi(Si.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function oG(n,t){const e=function Fwe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new co(n._location.bucket,e);return new oh(n.storage,i)}function sG(n,t){if(n instanceof AM){const e=n;if(null==e._bucket)throw function dwe(){return new Fi(Si.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NW+"' property when initializing the app?")}();const i=new oh(e,e._bucket);return null!=t?sG(i,t):i}return void 0!==t?oG(n,t):n}function vEe(n,t){if(t&&function _Ee(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof AM)return function yEe(n,t){return new oh(n,t)}(n,t);throw cm("To use ref(service, url), the first argument must be a Storage instance.")}return sG(n,t)}function aG(n,t){const e=t?.[NW];return null==e?null:co.makeFromBucketSpec(e,n)}class AM{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=MW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?co.makeFromBucketSpec(r,this._host):aG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?co.makeFromBucketSpec(this._url,t):aG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ue.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ue.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new oh(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new mwe(LW());{const s=function Iwe(n,t,e,i,r,o,s=!0){const a=UW(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function Twe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(l,t),function Ewe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(l,e),function Cwe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(l,o),function xwe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(l,i),new wwe(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,ue.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const cG="@firebase/storage";function dG(n,t){return vEe(n=(0,D.m9)(n),t)}function AEe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new AM(e,i,r,t,so.SDK_VERSION)}!function REe(){(0,so._registerComponent)(new ga.wA("storage",AEe,"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(cG,"0.11.2",""),(0,so.registerVersion)(cG,"0.11.2","esm2017")}();class TT{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fG{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TT(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new TT(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new TT(s,this,this._ref)):{next:e.next?s=>e.next(new TT(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class pG{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Jc(t,this._service))}get items(){return this._delegate.items.map(t=>new Jc(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jc{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function SEe(n,t){return oG(n,t)}(this._delegate,t);return new Jc(e,this.storage)}get root(){return new Jc(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Jc(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new fG(function wEe(n,t,e){return function uEe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new tG(n,new nc(t),e)}(n=(0,D.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Es.RAW,i){this._throwIfRoot("putString");const r=CM(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new fG(new tG(this._delegate,new nc(r.data,!0),o),this)}listAll(){return function xEe(n){return function hEe(n){const t={prefixes:[],items:[]};return iG(n,t).then(()=>t)}(n=(0,D.m9)(n))}(this._delegate).then(t=>new pG(t,this.storage))}list(t){return function TEe(n,t){return rG(n=(0,D.m9)(n),t)}(this._delegate,t||void 0).then(e=>new pG(e,this.storage))}getMetadata(){return function EEe(n){return function fEe(n){n._throwIfRoot("getMetadata");const t=ZW(n.storage,n._location,Tv());return n.storage.makeRequestWithTokens(t,wa)}(n=(0,D.m9)(n))}(this._delegate)}updateMetadata(t){return function CEe(n,t){return function pEe(n,t){n._throwIfRoot("updateMetadata");const e=function Kwe(n,t,e,i){const o=Xc(t.fullServerUrl(),n.host,n._protocol),a=xM(e,i),l=n.maxOperationRetryTime,u=new ic(o,"PATCH",ET(n,i),l);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=xv(t),u}(n.storage,n._location,t,Tv());return n.storage.makeRequestWithTokens(e,wa)}(n=(0,D.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function IEe(n){return mEe(n=(0,D.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function DEe(n){return function gEe(n){n._throwIfRoot("deleteObject");const t=function Zwe(n,t){const i=Xc(t.fullServerUrl(),n.host,n._protocol),a=new ic(i,"DELETE",function s(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=xv(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,wa)}(n=(0,D.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw VW(t)}}class mG{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(gG(t))throw cm("ref() expected a child path but got a URL, use refFromURL instead.");return new Jc(dG(this._delegate,t),this)}refFromURL(t){if(!gG(t))throw cm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{co.makeFromUrl(t,this._delegate.host)}catch{throw cm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jc(dG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function hG(n,t,e,i={}){!function bEe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,D.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function gG(n){return/^[A-Za-z]+:\/\//.test(n)}function PEe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new mG(e,i)}function _G(n){const t=function FEe(n){return new lt(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(QR(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(we(e=>e.bytesTransferred/e.totalBytes*100))}}function xT(n){return{getDownloadURL:()=>k(void 0).pipe(n$,Ue(()=>n.getDownloadURL()),Yi),getMetadata:()=>k(void 0).pipe(n$,Ue(()=>n.getMetadata()),Yi),delete:()=>C(n.delete()),child:t=>xT(n.child(t)),updateMetadata:t=>C(n.updateMetadata(t)),put:(t,e)=>_G(n.put(t,e)),putString:(t,e,i)=>_G(n.putString(t,e,i)),list:t=>C(n.list(t)),listAll:()=>C(n.listAll())}}!function OEe(n){const t={TaskState:Oo,TaskEvent:eEe,StringFormat:Es,Storage:mG,Reference:Jc};n.INTERNAL.registerComponent(new ga.wA("storage-compat",PEe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(vs.Z);const LEe=new oe("angularfire2.storageBucket"),VEe=new oe("angularfire2.storage.maxUploadRetryTime"),BEe=new oe("angularfire2.storage.maxOperationRetryTime"),UEe=new oe("angularfire2.storage.use-emulator");let yG=(()=>{class n{storage;constructor(e,i,r,o,s,a,c,l,u,f){const m=jy(e,s,i);this.storage=xC(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{const _=s.runOutsideAngular(()=>m.storage(r||void 0)),y=u;return y&&_.useEmulator(...y),c&&_.setMaxUploadRetryTime(c),l&&_.setMaxOperationRetryTime(l),_},[c,l])}ref(e){return xT(this.storage.ref(e))}refFromURL(e){return xT(this.storage.refFromURL(e))}upload(e,i,r){return xT(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(O(zp),O($p,8),O(LEe,8),O(ds),O(je),O(vC),O(VEe,8),O(BEe,8),O(UEe,8),O(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),jEe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=$e({type:n});static \u0275inj=Ke({})}return n})(),HEe=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Bp.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=$e({type:n});static \u0275inj=Ke({providers:[yG],imports:[jEe]})}return n})(),el=(()=>{class n{constructor(e,i,r,o){this.realTimeDatabase=e,this.fireStorage=i,this.http=r,this.authService=o,this.profilePicUrlSubject=new $,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.userProfileSubject=new $,this.refNotes=e.list("/notes"),this.refRecipeList=e.list("/recipes"),this.refChats=e.list("/chats"),this.refUsers=e.list("/users")}ngOnInit(){}getUserProfiles(){return this.refUsers.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addUserData(e){this.refUsers.push(e)}updateUserData(e,i){this.refUsers.update(i,e)}addProfilePicture(e){const i="profilePictures/"+e.name,r=this.fireStorage.ref(i),o=this.fireStorage.upload(i,e);return o.snapshotChanges().pipe(Rd(()=>r.getDownloadURL().subscribe(s=>{this.profilePicUrlSubject.next(s)}))).subscribe(),o.percentageChanges()}addMessage(e){this.refChats.push(e)}updateMessage(e,i){this.refChats.update(e,i)}deleteMessage(e){return this.refChats.remove(e.key)}deleteMessages(){this.refChats.remove()}getMessages(){return this.refChats.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getNotes(){return this.refNotes.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))),Wc(e=>Ad(e)))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(e,i){this.refNotes.update(e,i)}getRecipe(e){return this.refRecipeList.snapshotChanges().pipe(we(i=>i.map(r=>({key:e,Recipe:r.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addRecipe(e){this.refRecipeList.push(e)}updateRecipe(e,i){this.refRecipeList.update(e,i)}deleteRecipe(e){this.refRecipeList.remove(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(kW),O(yG),O(By),O(Zc))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vG=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body?r.body.toLowerCase().includes(i):r.displayName.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"filter",type:n,pure:!0})}return n})();function zEe(n,t){if(1&n){const e=ln();R(0,"div",10)(1,"button",14),Ie("click",function(){return Ye(e),Ge(ne(2).deleteAllNotes())}),ce(2,"Osszes jegyzet torlese"),M()()}}function $Ee(n,t){1&n&&rt(0,"div",10)}function WEe(n,t){1&n&&rt(0,"span",15)}const GEe=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function qEe(n,t){if(1&n){const e=ln();R(0,"div",8),se(1,zEe,3,0,"div",9),R(2,"div",10)(3,"label",11),ce(4,"Keres\xe9s"),M()(),se(5,$Ee,1,0,"div",9),R(6,"div",10)(7,"input",12),Ie("keyup",function(){return Ye(e),Ge(ne().inputClass=!1)})("keypress",function(){return Ye(e),Ge(ne().inputClass=!0)})("ngModelChange",function(r){return Ye(e),Ge(ne().searchWord=r)}),M(),se(8,WEe,1,0,"span",13),M()()}if(2&n){const e=ne();V(1),j("ngIf",e.isSuperAdmin),V(4),j("ngIf",e.isSuperAdmin),V(2),j("ngClass",Ww(5,GEe,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),V(1),j("ngIf",e.searchWord)}}function KEe(n,t){1&n&&rt(0,"span",24)}function ZEe(n,t){1&n&&rt(0,"span",25)}const YEe=function(n,t){return{"btn-success":n,"btn-warning":t}};function QEe(n,t){if(1&n){const e=ln();R(0,"form",16)(1,"label",17),ce(2,"C\xedm"),M(),R(3,"input",18),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().title=r)}),M(),R(4,"label",19),ce(5,"Tennival\xf3"),M(),R(6,"textarea",20),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().body=r)}),M(),R(7,"button",21),Ie("click",function(){return Ye(e),Ge(ne().createUpdateControl())}),se(8,KEe,1,0,"span",22),se(9,ZEe,1,0,"span",23),ce(10),M()()}if(2&n){const e=ne();V(3),j("ngModel",e.title),V(3),j("ngModel",e.body),V(1),j("ngClass",bd(6,YEe,e.key,!e.key)),V(1),j("ngIf",!e.key),V(1),j("ngIf",e.key),V(1),Ti(" ",e.buttonText,"")}}const XEe=function(n){return{warning:n}};function JEe(n,t){if(1&n&&(R(0,"div",26)(1,"b"),ce(2),M()()),2&n){const e=ne();j("ngClass",$a(2,XEe,1==e.isLoading)),V(2),ri(e.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function eCe(n,t){if(1&n){const e=ln();R(0,"div",28)(1,"b"),ce(2," Hiba tortent az adatok lekeresekor: "),M(),ce(3),R(4,"button",29),Ie("click",function(){return Ye(e),Ge(ne(2).onHandleError())}),ce(5,"Rendben"),M()()}if(2&n){const e=ne(2);V(3),Ti(" ",e.errorm," ")}}function tCe(n,t){1&n&&se(0,eCe,6,1,"div",27),2&n&&j("ngIf",ne().errorm)}function nCe(n,t){if(1&n){const e=ln();R(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),ce(4),M(),R(5,"p",36),ce(6),M()(),R(7,"div",37),ce(8),wd(9,"date"),M(),R(10,"div",38)(11,"div",39)(12,"span",40),Ie("click",function(){const o=Ye(e).$implicit;return Ge(ne(2).putDataToInput(o))}),M()(),R(13,"div",41)(14,"span",42),Ie("click",function(){const o=Ye(e).$implicit;return Ge(ne(2).deleteNote(o))}),M()()()()()}if(2&n){const e=t.$implicit;V(4),ri(e.title),V(2),ri(e.body),V(2),VD(" ",0===e.counter?"Letrehozva: ":"Modositva: "," ",Ed(9,4,e.timeStamp,"medium")," ")}}function iCe(n,t){if(1&n&&(R(0,"div",30),se(1,nCe,15,7,"div",31),wd(2,"filter"),M()),2&n){const e=ne();V(1),j("ngForOf",Ed(2,1,e.notes,e.searchWord))}}const rCe=function(n,t){return{fg:n,"text-warning":t}};let oCe=(()=>{class n{constructor(e,i){this.baseService=e,this.authService=i,this.isOpen=!1,this.isSuperAdmin=!1,this.subscription=new pt,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:e=>{this.isLoading=!1,this.notes=e,this.subscription=this.authService.isSuperAdmin.subscribe(i=>this.isSuperAdmin=i),console.log(this.subscription)},error:e=>{this.errorm=e.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(e),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(e=>{this.notes=[]})}updateNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,e),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}ngOnDestroy(){this.subscription.unsubscribe(),console.log(this.subscription)}static#e=this.\u0275fac=function(i){return new(i||n)(T(el),T(Zc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search d-flex justify-content-center text-center align-items-center row",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","d-flex","justify-content-center","text-center","align-items-center","row"],["class","col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){if(1&i&&(R(0,"div",0),se(1,qEe,9,9,"div",1),R(2,"button",2),Ie("click",function(){return r.isOpen=!r.isOpen}),rt(3,"span",3),M(),se(4,QEe,11,9,"form",4),M(),se(5,JEe,3,4,"div",5),se(6,tCe,1,1,"ng-template",null,6,Ro),se(8,iCe,3,4,"div",7)),2&i){const o=Ki(7);V(1),j("ngIf",!r.isOpen),V(2),j("ngClass",bd(6,rCe,r.isOpen,!r.isOpen)),V(1),j("ngIf",r.isOpen),V(1),j("ngIf",r.notes.length<1&&!r.errorm&&!r.clearError)("ngIfElse",o),V(3),j("ngIf",!r.isUpdating&&r.notes.length>=1)}},dependencies:[jc,Qo,or,gp,Wa,Hc,pp,$c,zc,Vj,vG],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return n})();class sCe{constructor(t){this._box=t,this._destroyed=new $,this._resizeSubject=new $,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new lt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(zn(e=>e.some(i=>i.target===t)),FR({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let aCe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Te(je)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new sCe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bG{}class cCe{}const tl="*";function IT(n,t){return{type:7,name:n,definitions:t,options:{}}}function Iv(n,t=null){return{type:4,styles:t,timings:n}}function wG(n,t=null){return{type:2,steps:n,options:t}}function nl(n){return{type:6,styles:n,offset:null}}function DT(n,t,e){return{type:0,name:n,styles:t,options:e}}function hm(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function lCe(n=null){return{type:9,options:n}}function uCe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class Dv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EG{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const dCe=["notch"],hCe=["matFormFieldNotchedOutline",""],fCe=["*"],pCe=["textField"],mCe=["iconPrefixContainer"],gCe=["textPrefixContainer"];function _Ce(n,t){1&n&&rt(0,"span",19)}function yCe(n,t){if(1&n&&(R(0,"label",17),fn(1,1),se(2,_Ce,1,0,"span",18),M()),2&n){const e=ne(2);j("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Nt("for",e._control.id),V(2),j("ngIf",!e.hideRequiredMarker&&e._control.required)}}function vCe(n,t){1&n&&se(0,yCe,3,5,"label",16),2&n&&j("ngIf",ne()._hasFloatingLabel())}function bCe(n,t){1&n&&rt(0,"div",20)}function wCe(n,t){}function ECe(n,t){1&n&&se(0,wCe,0,0,"ng-template",22),2&n&&(ne(2),j("ngTemplateOutlet",Ki(1)))}function CCe(n,t){if(1&n&&(R(0,"div",21),se(1,ECe,1,1,"ng-template",9),M()),2&n){const e=ne();j("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),V(1),j("ngIf",!e._forceDisplayInfixLabel())}}function TCe(n,t){1&n&&(R(0,"div",23,24),fn(2,2),M())}function xCe(n,t){1&n&&(R(0,"div",25,26),fn(2,3),M())}function ICe(n,t){}function DCe(n,t){1&n&&se(0,ICe,0,0,"ng-template",22),2&n&&(ne(),j("ngTemplateOutlet",Ki(1)))}function SCe(n,t){1&n&&(R(0,"div",27),fn(1,4),M())}function ACe(n,t){1&n&&(R(0,"div",28),fn(1,5),M())}function RCe(n,t){1&n&&rt(0,"div",29)}function kCe(n,t){1&n&&(R(0,"div",30),fn(1,6),M()),2&n&&j("@transitionMessages",ne()._subscriptAnimationState)}function MCe(n,t){if(1&n&&(R(0,"mat-hint",34),ce(1),M()),2&n){const e=ne(2);j("id",e._hintLabelId),V(1),ri(e.hintLabel)}}function NCe(n,t){if(1&n&&(R(0,"div",31),se(1,MCe,2,2,"mat-hint",32),fn(2,7),rt(3,"div",33),fn(4,8),M()),2&n){const e=ne();j("@transitionMessages",e._subscriptAnimationState),V(1),j("ngIf",e.hintLabel)}}const PCe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OCe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let bu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-label"]]})}return n})();const FCe=new oe("MatError");let LCe=0,CG=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+LCe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&($r("id",r.id),Nt("align",null),dt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const VCe=new oe("MatPrefix"),TG=new oe("MatSuffix");let BCe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[bt([{provide:TG,useExisting:n}])]})}return n})();const xG=new oe("FloatingLabelParent");let IG=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Te(aCe),this._ngZone=Te(je),this._parent=Te(xG),this._resizeSubscription=new pt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function UCe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(T(st))};static#t=this.\u0275dir=X({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const DG="mdc-line-ripple--active",ST="mdc-line-ripple--deactivating";let SG=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(ST);"opacity"===r.propertyName&&s&&o.remove(DG,ST)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ST),e.add(DG)}deactivate(){this._elementRef.nativeElement.classList.add(ST)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275dir=X({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),AG=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(je))};static#t=this.\u0275cmp=yt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&mn(dCe,5),2&i){let o;Le(o=Ve())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:hCe,ngContentSelectors:fCe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(ro(),rt(0,"div",0),R(1,"div",1,2),fn(3),M(),rt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const jCe={transitionMessages:IT("transitionMessages",[DT("enter",nl({opacity:1,transform:"translateY(0%)"})),hm("void => enter",[nl({opacity:0,transform:"translateY(-5px)"}),Iv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n})}return n})();const MM=new oe("MatFormField"),HCe=new oe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let RG=0,fm=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+RG++,this._hintLabelId="mat-mdc-hint-"+RG++,this._subscriptAnimationState="",this._destroyed=new $,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),I(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(gr),T(je),T(Zp),T(kr),T(HCe,8),T(oa,8),T(wt))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,bu,5),Ft(o,bu,7),Ft(o,kM,5),Ft(o,VCe,5),Ft(o,TG,5),Ft(o,FCe,5),Ft(o,CG,5)),2&i){let s;Le(s=Ve())&&(r._labelChildNonStatic=s.first),Le(s=Ve())&&(r._labelChildStatic=s.first),Le(s=Ve())&&(r._formFieldControl=s.first),Le(s=Ve())&&(r._prefixChildren=s),Le(s=Ve())&&(r._suffixChildren=s),Le(s=Ve())&&(r._errorChildren=s),Le(s=Ve())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(mn(pCe,5),mn(mCe,5),mn(gCe,5),mn(IG,5),mn(AG,5),mn(SG,5)),2&i){let o;Le(o=Ve())&&(r._textField=o.first),Le(o=Ve())&&(r._iconPrefixContainer=o.first),Le(o=Ve())&&(r._textPrefixContainer=o.first),Le(o=Ve())&&(r._floatingLabel=o.first),Le(o=Ve())&&(r._notchedOutline=o.first),Le(o=Ve())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&dt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[bt([{provide:MM,useExisting:n},{provide:xG,useExisting:n}])],ngContentSelectors:OCe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(ro(PCe),se(0,vCe,1,1,"ng-template",null,0,Ro),R(2,"div",1,2),Ie("click",function(s){return r._control.onContainerClick(s)}),se(4,bCe,1,0,"div",3),R(5,"div",4),se(6,CCe,2,2,"div",5),se(7,TCe,3,0,"div",6),se(8,xCe,3,0,"div",7),R(9,"div",8),se(10,DCe,1,1,"ng-template",9),fn(11),M(),se(12,SCe,2,0,"div",10),se(13,ACe,2,0,"div",11),M(),se(14,RCe,1,0,"div",12),M(),R(15,"div",13),se(16,kCe,2,1,"div",14),se(17,NCe,5,2,"div",15),M()),2&i&&(V(2),dt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),V(2),j("ngIf",!r._hasOutline()&&!r._control.disabled),V(2),j("ngIf",r._hasOutline()),V(1),j("ngIf",r._hasIconPrefix),V(1),j("ngIf",r._hasTextPrefix),V(2),j("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),V(2),j("ngIf",r._hasTextSuffix),V(1),j("ngIf",r._hasIconSuffix),V(1),j("ngIf",!r._hasOutline()),V(1),dt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),j("ngSwitch",r._getDisplayedMessages()),V(1),j("ngSwitchCase","error"),V(1),j("ngSwitchCase","hint"))},dependencies:[or,Wl,J_,VS,CG,IG,AG,SG],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[jCe.transitionMessages]},changeDetection:0})}return n})(),AT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,xd,R$,Ii]})}return n})();const NG=Gp({passive:!0});let WCe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return bn;const i=au(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new $,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,NG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,NG)}}),o}stopMonitoring(e){const i=au(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(kr),O(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const qCe=new oe("MAT_INPUT_VALUE_ACCESSOR"),KCe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ZCe=0;const YCe=K$(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new $}});let pm=(()=>{class n extends YCe{get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ny.required)??!1}set required(e){this._required=Fn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&x$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fn(e)}constructor(e,i,r,o,s,a,c,l,u,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=l,this._formField=f,this._uid="mat-input-"+ZCe++,this.focused=!1,this.stateChanges=new $,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(y=>x$().has(y)),this._iOSKeyupListener=y=>{const b=y.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,_=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){KCe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(T(st),T(kr),T(Ga,10),T(zc,8),T(_p,8),T(Z$),T(qCe,10),T(WCe),T(je),T(MM,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Ie("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&($r("id",r.id)("disabled",r.disabled)("required",r.required),Nt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),dt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[bt([{provide:kM,useExisting:n}]),Qe,Yn]})}return n})(),QCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,AT,AT,GCe,Ii]})}return n})();const Sv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Sv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new pt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Sv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Sv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class JCe extends QE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class XCe extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Sv.cancelAnimationFrame(e),t._scheduled=void 0)}});let NM,tTe=1;const RT={};function PG(n){return n in RT&&(delete RT[n],!0)}const nTe={setImmediate(n){const t=tTe++;return RT[t]=!0,NM||(NM=Promise.resolve()),NM.then(()=>PG(t)&&n()),t},clearImmediate(n){PG(n)}},{setImmediate:iTe,clearImmediate:rTe}=nTe,kT={setImmediate(...n){const{delegate:t}=kT;return(t?.setImmediate||iTe)(...n)},clearImmediate(n){const{delegate:t}=kT;return(t?.clearImmediate||rTe)(n)},delegate:void 0};new class sTe extends QE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class oTe extends YE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(kT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function OG(n,t=Nd){return function cTe(n){return de((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Se(e,l=>{i=!0,r=l,o||be(n(l)).subscribe(o=Se(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>WA(n,t))}let FG=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new lt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(OG(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):k()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=au(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(je),O(kr),O(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(OG(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(kr),O(je),O(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),PM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[$y,NT,$y,NT]})}return n})();class OM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class LG extends OM{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class VG extends OM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class hTe extends OM{constructor(t){super(),this.element=t instanceof st?t.nativeElement:t}}class fTe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof LG?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof VG?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof hTe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pTe extends fTe{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let mTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})();const BG=dge();class gTe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ar(-this._previousScrollPosition.left),t.style.top=ar(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),BG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class _Te{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(zn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UG{enable(){}disable(){}attach(){}}function FM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jG(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class yTe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();FM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vTe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new UG,this.close=s=>new _Te(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new gTe(this._viewportRuler,this._document),this.reposition=s=>new yTe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(O(FG),O(MT),O(je),O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class HG{constructor(t){if(this.scrollStrategy=new UG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class bTe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let zG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wTe=(()=>{class n extends zG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(je,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ETe=(()=>{class n extends zG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=su(o)},this._clickListener=o=>{const s=su(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(kr),O(je,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$G=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||GR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),GR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(kr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CTe{constructor(t,e,i,r,o,s,a,c,l,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=pt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ar(this._config.width),t.height=ar(this._config.height),t.minWidth=ar(this._config.minWidth),t.minHeight=ar(this._config.minHeight),t.maxWidth=ar(this._config.maxWidth),t.maxHeight=ar(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=SC(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Et(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WG="cdk-overlay-connected-position-bounding-box",TTe=/([A-Za-z%]+)$/;class xTe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(WG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),u=this._getOverlayFit(l,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=qG(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let m=0-a,_=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,m,_),E=y*b;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=GG(this._overlayRef.getConfig().minHeight),a=GG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=qG(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new bTe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,f,m;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),y=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),y=this._lastBoundingBoxSize.width;u=2*_,f=t.x-_,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-y/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ar(i.height),r.top=ar(i.top),r.bottom=ar(i.bottom),r.width=ar(i.width),r.left=ar(i.left),r.right=ar(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ar(o)),s&&(r.maxWidth=ar(s))}this._lastBoundingBoxSize=i,sh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();sh(i,this._getExactOverlayY(e,t,u)),sh(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ar(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ar(s.maxWidth):o&&(i.maxWidth="")),sh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ar(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ar(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jG(t,i),isOriginOutsideView:FM(t,i),isOverlayClipped:jG(e,i),isOverlayOutsideView:FM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&SC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof st)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function sh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function GG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(TTe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function qG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const KG="cdk-global-overlay-wrapper";class ITe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(KG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let _="",y="",b="";c?b="flex-start":"center"===u?(b="center",m?y=f:_=f):m?"left"===u||"end"===u?(b="flex-end",_=f):("right"===u||"start"===u)&&(b="flex-start",y=f):"left"===u||"start"===u?(b="flex-start",_=f):("right"===u||"end"===u)&&(b="flex-end",y=f),t.position=this._cssPosition,t.marginLeft=c?"0":_,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":y,e.justifyContent=b,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(KG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let DTe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new ITe}flexibleConnectedTo(e){return new xTe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(MT),O(wt),O(kr),O($G))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),STe=0,mm=(()=>{class n{constructor(e,i,r,o,s,a,c,l,u,f,m,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new HG(e);return s.direction=s.direction||this._directionality.value,new CTe(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+STe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(la)),new pTe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(vTe),O($G),O(I_),O(DTe),O(wTe),O(qi),O(je),O(wt),O(Zp),O(nE),O(ETe),O(oa,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ATe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZG=new oe("cdk-connected-overlay-scroll-strategy");let LM=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(T(st))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),YG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Fn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Fn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Fn(e)}get push(){return this._push}set push(e){this._push=Fn(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=pt.EMPTY,this._attachSubscription=pt.EMPTY,this._detachSubscription=pt.EMPTY,this._positionSubscription=pt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Fe,this.positionChange=new Fe,this.attach=new Fe,this.detach=new Fe,this.overlayKeydown=new Fe,this.overlayOutsideClick=new Fe,this._templatePortal=new VG(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ATe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!qp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new HG({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof LM?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function dTe(n,t=!1){return de((e,i)=>{let r=0;e.subscribe(Se(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(mm),T(pn),T(ir),T(ZG),T(Zp,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Yn]})}return n})();const kTe={provide:ZG,deps:[mm],useFactory:function RTe(n){return()=>n.scrollStrategies.reposition()}};let QG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[mm,kTe],imports:[$y,mTe,PM,PM]})}return n})();const MTe=["tooltip"],XG=new oe("mat-tooltip-scroll-strategy"),OTe={provide:XG,deps:[mm],useFactory:function PTe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},LTe=new oe("mat-tooltip-default-options",{providedIn:"root",factory:function FTe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),JG="tooltip-panel",e6=Gp({passive:!0});let zTe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Fn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=DC(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=DC(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,c,l,u,f,m,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new $,this._scrollStrategy=u,this._document=_,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),f.change.pipe(Et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,e6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new LG(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof st)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Et(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${JG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Et(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!qp(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qn(1),Et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${JG}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,e6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Yf()};static#t=this.\u0275dir=X({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),t6=(()=>{class n extends zTe{constructor(e,i,r,o,s,a,c,l,u,f,m,_){super(e,i,r,o,s,a,c,l,u,f,m,_),this._tooltipComponent=WTe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(T(mm),T(st),T(FG),T(ir),T(je),T(kr),T(Nge),T(j$),T(XG),T(Zp,8),T(LTe,8),T(wt))};static#t=this.\u0275dir=X({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Qe]})}return n})(),$Te=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new $,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(T(gr),T(oa,8))};static#t=this.\u0275dir=X({type:n})}return n})(),WTe=(()=>{class n extends $Te{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(T(gr),T(st),T(oa,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&mn(MTe,7),2&i){let o;Le(o=Ve())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Ie("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&_d("zoom",r.isVisible()?1:null)},features:[Qe],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(R(0,"div",0,1),Ie("animationend",function(s){return r._handleAnimationEnd(s)}),R(2,"div",2),ce(3),M()()),2&i&&(dt("mdc-tooltip--multiline",r._isMultiline),j("ngClass",r.tooltipClass),V(3),ri(r.message))},dependencies:[jc],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),GTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[OTe],imports:[Yge,xd,QG,Ii,Ii,NT]})}return n})();const qTe=["f"];function KTe(n,t){1&n&&(R(0,"span"),ce(1,"Kerlek adj meg egy ervenyes e-mail cimet"),M())}function ZTe(n,t){if(1&n){const e=ln();R(0,"div")(1,"label")(2,"input",16),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().genderr=r)}),M(),ce(3),M()()}if(2&n){const e=t.$implicit,i=ne();V(2),j("ngModel",i.genderr)("value",e),V(1),Ti(" ",e," ")}}let YTe=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.router.navigate(["login"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zc),T(sr),T(el))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-signup"]],viewQuery:function(i,r){if(1&i&&mn(qTe,5),2&i){let o;Le(o=Ve())&&(r.signupForm=o.first)}},decls:24,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[1,"text-center","mt-0","container-2"],[4,"ngIf"],["mat-raised-button","","type","button",1,"mb-3",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],[1,"container-0","container-1"],["routerLink","/login","matTooltipPosition","left","matTooltip","Gyorsabb bel\xe9p\xe9s regisztr\xe1ci\xf3 n\xe9lk\xfcl"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"]],template:function(i,r){if(1&i&&(R(0,"div",0)(1,"h2",1),ce(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),M()(),R(3,"form",2,3),Ie("ngSubmit",function(){return r.createUserWithEmAndPa()}),R(5,"mat-form-field")(6,"mat-label",4),ce(7,"Email"),M(),R(8,"input",5,6),Ie("ngModelChange",function(s){return r.email=s}),M()(),R(10,"div",7),se(11,KTe,2,0,"span",8),R(12,"button",9),Ie("click",function(){return r.emailSuggestion()}),ce(13,"Mutass egy peldat a megfelelo formatumu email cimre!"),M()(),R(14,"mat-form-field")(15,"mat-label",10),ce(16,"Jelsz\xf3"),M(),R(17,"input",11),Ie("ngModelChange",function(s){return r.password=s}),M()(),se(18,ZTe,4,3,"div",12),R(19,"button",13),ce(20,"Regisztr\xe1ci\xf3"),M()(),R(21,"div",14)(22,"h2",15),ce(23,"Vagy l\xe9pj be Google fi\xf3kkal, vagy telefonsz\xe1mmal"),M()()),2&i){const o=Ki(4),s=Ki(9);V(8),j("ngModel",r.email),V(3),j("ngIf",!s.valid&&s.touched),V(6),j("ngModel",r.password),V(1),j("ngForOf",r.genders),V(1),j("disabled",!o.valid)}},dependencies:[Qo,or,eu,gp,Wa,DE,Hc,pp,cy,SE,$c,zc,fm,bu,cu,pm,t6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.container-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px!important;height:-moz-fit-content;height:fit-content;background-color:#0a7e0ab3;border-radius:10px}.container-2[_ngcontent-%COMP%], .container-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function QTe(n,t){1&n&&(R(0,"div",3)(1,"h2",4),ce(2," Bejelentkez\xe9s Email c\xedmmel "),M()())}function XTe(n,t){if(1&n){const e=ln();R(0,"form",5),Ie("ngSubmit",function(){return Ye(e),Ge(ne().loginWithEmAndPa())}),R(1,"mat-form-field")(2,"mat-label",6),ce(3,"Email"),M(),R(4,"input",7),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().email=r)}),M()(),R(5,"mat-form-field")(6,"mat-label",8),ce(7,"Jelsz\xf3"),M(),R(8,"input",9),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().password=r)}),M()(),R(9,"button",10),ce(10,"Bejelentkez\xe9s"),M(),R(11,"h4",11),ce(12," Vagy bejelentkez\xe9s egyszer\u0171en "),R(13,"a",12),Ie("click",function(){Ye(e);const r=ne();return r.facebookOrGoogle=!0,Ge(r.booleanFunction())}),rt(14,"i",13),M(),R(15,"button",14),Ie("click",function(){Ye(e);const r=ne();return r.booleanFunction(),Ge(r.isPhone=!r.isPhone)}),rt(16,"span",15),M()()()}if(2&n){const e=ne();V(4),j("ngModel",e.email),V(4),j("ngModel",e.password)}}function JTe(n,t){if(1&n){const e=ln();R(0,"div",17)(1,"button",18),Ie("click",function(){return Ye(e),Ge(ne(2).loginWithGoogle())}),rt(2,"i",19),ce(3," Bejelentkez\xe9s "),M()()}if(2&n){const e=ne(2);V(1),j("disabled",!e.facebookOrGoogle)}}function exe(n,t){if(1&n&&(Go(0),se(1,JTe,4,1,"div",16),qo()),2&n){const e=ne();V(1),j("ngIf",e.emailOrGoogle)}}function txe(n,t){if(1&n){const e=ln();Go(0),rt(1,"div",20),R(2,"div",21)(3,"div",22)(4,"input",23),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().phoneNumber=r)}),M(),R(5,"label",24),ce(6,"+36"),M()(),R(7,"div",25),rt(8,"span",26),M(),R(9,"div",27)(10,"button",28),Ie("click",function(){return Ye(e),Ge(ne().startLoginWithPhoneNumber())}),rt(11,"i",29),ce(12," Bejelentkez\xe9s "),M()()(),qo()}if(2&n){const e=ne();V(2),j("ngClass",e.isPhone?"d-flex":"d-none"),V(2),j("ngModel",e.phoneNumber)}}function nxe(n,t){if(1&n){const e=ln();Go(0),R(1,"div",30)(2,"input",31),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().verificationCode=r)}),M(),R(3,"label",32),ce(4,"Meger\u0151s\xedt\u0151 k\xf3d"),M()(),R(5,"div",33)(6,"button",34),Ie("click",function(){return Ye(e),Ge(ne().verifyPhoneNumberAndLogin())}),ce(7," K\xf3d meger\u0151s\xedt\xe9se "),M()(),qo()}if(2&n){const e=ne();V(2),j("ngModel",e.verificationCode)}}let ixe=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1,this.userProfiles=[]}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(o=>o.uid===e.uid);if(console.log(r),this.base.userProfileSubject.next(r),0===r.length){r.push(e);for(let o=0;o<1;o++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("ciklus lefutott")}else console.log("van m\xe1r ilyen user");0!=r.length&&console.log("siker",r.length),this.router.navigate(["profile/"+e.uid])})})}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>{this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(o=>o.uid===e.uid);if(console.log(r),0===r.length){r.push(e);for(let o=0;o<1;o++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("felhaszn\xe1l\xf3 hozz\xe1adva")}else console.log("van m\xe1r ilyen user");this.router.navigate(void 0===r[0].birthDate||""===r[0].birthDate?["profile/"+e.uid]:[""])})})})}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate([""]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber("+36"+this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=Ly.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>{this.authService.isLoggedIn().subscribe(i=>{this.base.getUserProfiles().subscribe(r=>{let o=r.filter(s=>s.uid===i.uid);0===o.length&&(o.push(i),this.base.addUserData({uid:i.uid,phoneNumber:i.phoneNumber})),this.router.navigate(void 0===o[0].birthDate||""===o[0].birthDate?["profile/"+i.uid]:[""])})})})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zc),T(sr),T(el))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(se(0,QTe,3,0,"div",0),se(1,XTe,17,2,"form",1),se(2,exe,2,1,"ng-container",2),se(3,txe,13,2,"ng-container",2),se(4,nxe,8,1,"ng-container",2)),2&i&&(j("ngIf",!r.emailOrGoogle),V(1),j("ngIf",!r.emailOrGoogle),V(1),j("ngIf",r.emailOrGoogle&&!r.isPhone),V(1),j("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),V(1),j("ngIf",r.verificationId))},dependencies:[jc,or,gp,Wa,Hc,pp,$c,zc,fm,bu,cu,pm,t6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:30%;width:40%}"]})}return n})();const rxe=["saveChanges"];function oxe(n,t){if(1&n&&(R(0,"div",3)(1,"b"),ce(2),M()()),2&n){const e=t.$implicit;V(2),ri(e)}}function sxe(n,t){if(1&n){const e=ln();R(0,"div",9)(1,"div",3),ce(2),M(),R(3,"div",3),rt(4,"img",10),M(),R(5,"div",3),ce(6),M(),R(7,"div",3)(8,"div",11)(9,"input",12),Ie("change",function(){const o=Ye(e).$implicit;return Ge(ne(2).changeClaims(o))})("ngModelChange",function(r){return Ge(Ye(e).$implicit.claims.superAdmin=r)}),M(),R(10,"label",13),ce(11,"Super Admin"),M()(),R(12,"div",11)(13,"input",12),Ie("change",function(){const o=Ye(e).$implicit;return Ge(ne(2).changeClaims(o))})("ngModelChange",function(r){return Ge(Ye(e).$implicit.claims.admin=r)}),M(),R(14,"label",13),ce(15,"Admin"),M()(),R(16,"div",11)(17,"input",12),Ie("change",function(){const o=Ye(e).$implicit;return Ge(ne(2).changeClaims(o))})("ngModelChange",function(r){return Ge(Ye(e).$implicit.claims.basic=r)}),M(),R(18,"label",13),ce(19,"Alap jogosults\xe1g"),M()()()()}if(2&n){const e=t.$implicit;V(2),ri(e.displayName),V(2),Fw("src",e.profilePicture,Uf),V(2),ri(e.email),V(3),j("ngModel",e.claims.superAdmin),V(4),j("ngModel",e.claims.admin),V(4),j("ngModel",e.claims.basic)}}function axe(n,t){if(1&n){const e=ln();Go(0),se(1,sxe,20,6,"div",4),R(2,"div",5)(3,"div",6)(4,"button",7,8),Ie("click",function(){return Ye(e),Ge(ne().save())}),ce(6,"Modositasok mentese"),M()()(),qo()}if(2&n){const e=ne();V(1),j("ngForOf",e.users)}}let cxe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(e=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zc),T(sr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&mn(rxe,5),2&i){let o;Le(o=Ve())&&(r.saveChanges=o.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(R(0,"div",0),se(1,oxe,3,1,"div",1),M(),se(2,axe,7,1,"ng-container",2)),2&i&&(V(1),j("ngForOf",r.columns),V(1),j("ngIf",r.users))},dependencies:[Qo,or,eA,Hc,$c]})}return n})();const lxe=["*"],uxe=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],dxe=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],hxe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fxe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],pxe=new oe("MAT_CARD_CONFIG");let PT=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(T(pxe,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&dt("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:lxe,decls:1,vars:0,template:function(i,r){1&i&&(ro(),fn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),OT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),n6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:dxe,decls:4,vars:0,template:function(i,r){1&i&&(ro(uxe),R(0,"div"),fn(1),M(),fn(2,1),fn(3,2))},encapsulation:2,changeDetection:0})}return n})(),FT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),VM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),BM=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&dt("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),LT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:fxe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(ro(hxe),fn(0),R(1,"div",0),fn(2,1),M(),fn(3,2))},encapsulation:2,changeDetection:0})}return n})(),UM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),i6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})(),gxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,xd,Ii]})}return n})();function _xe(n,t){if(1&n&&(Go(0),R(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),ce(5),M()(),R(6,"mat-card-content")(7,"p"),ce(8),M()()()(),qo()),2&n){const e=ne();V(5),ri(e.weather.location),V(3),ri(e.weather.forecast)}}let yxe=(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(T(el))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(R(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),ce(3,"Hely neve"),M(),R(4,"input",2),Ie("ngModelChange",function(s){return r.location=s}),M()(),R(5,"button",3),Ie("click",function(){return r.getWeather(r.location)}),ce(6,"Keres\xe9s"),M()(),se(7,_xe,9,2,"ng-container",4)),2&i&&(V(4),j("ngModel",r.location),V(3),j("ngIf",r.weather.location))},dependencies:[or,Wa,Hc,$c,fm,bu,PT,FT,LT,OT,cu,pm]})}return n})(),r6=(()=>{class n{transform(e,i){return e.sort((r,o)=>r[i]>o[i]?1:-1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"sort",type:n,pure:!0})}return n})(),vxe=(()=>{class n{transform(e,i){return e.length>i?e.substr(0,i)+"...":e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Gi({name:"shorten",type:n,pure:!0})}return n})();const bxe=function(n){return{active:n}};function wxe(n,t){if(1&n){const e=ln();R(0,"div",6)(1,"ul",7)(2,"li",8),Ie("click",function(){const o=Ye(e).$implicit;return Ge(ne().recipeDetail(o.key))}),ce(3),wd(4,"shorten"),M()()()}if(2&n){const e=t.$implicit,i=ne();V(2),j("ngClass",$a(5,bxe,e.key===i.key)),V(1),Ti(" ",Ed(4,2,e.name,15)," ")}}let Exe=(()=>{class n{constructor(e,i,r){this.baseService=e,this.router=i,this.route=r,this.recipeEdit=!1,this.key="",this.recipes=[]}ngOnInit(){this.baseService.getRecipes().subscribe(e=>{this.recipes=e})}recipeDetail(e){this.key=e,this.router.navigate(["detail"],{relativeTo:this.route,queryParams:{key:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(T(el),T(sr),T(Za))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipes"]],decls:10,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"text-center","col-12","col-md-4","col-lg-4","col-xl-4"],["routerLink","create","type","button",1,"btn","btn-secondary","mt-3"],[1,"mt-3","mb-0","border-top","border-success","border-5"],["class","mt-0 text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-8","col-lg-8","col-xl-8"],[1,"mt-0","text-center"],[1,"list-group","text-center","mt-0"],[1,"list-group-item","list-group-item-light","mb-1",2,"cursor","pointer",3,"ngClass","click"]],template:function(i,r){1&i&&(R(0,"div",0)(1,"div",1)(2,"button",2),ce(3," Uj recept hozzaadasa "),M(),R(4,"h2",3),ce(5,"Receptek"),M(),se(6,wxe,5,7,"div",4),wd(7,"sort"),M(),R(8,"div",5),rt(9,"router-outlet"),M()()),2&i&&(V(6),j("ngForOf",Ed(7,1,r.recipes,"name")))},dependencies:[jc,Qo,jE,eu,r6,vxe],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.active[_ngcontent-%COMP%]{background-color:#7e037eb3;border:2px solid purple}.border-success[_ngcontent-%COMP%]{border-color:#0d6a0d80!important}"]})}return n})();class Cxe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new $,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Txe=["trigger"],xxe=["panel"];function Ixe(n,t){if(1&n&&(R(0,"span",10),ce(1),M()),2&n){const e=ne();V(1),ri(e.placeholder)}}function Dxe(n,t){if(1&n&&(R(0,"span",14),ce(1),M()),2&n){const e=ne(2);V(1),ri(e.triggerValue)}}function Sxe(n,t){1&n&&fn(0,0,["*ngSwitchCase","true"])}function Axe(n,t){1&n&&(R(0,"span",11),se(1,Dxe,2,1,"span",12),se(2,Sxe,1,0,"ng-content",13),M()),2&n&&(j("ngSwitch",!!ne().customTrigger),V(2),j("ngSwitchCase",!0))}function Rxe(n,t){if(1&n){const e=ln();bf(),function o_(){!function p1(){vt.lFrame.currentNamespace=null}()}(),R(0,"div",15,16),Ie("@transformPanel.done",function(r){return Ye(e),Ge(ne()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ye(e),Ge(ne()._handleKeydown(r))}),fn(2,1),M()}if(2&n){const e=ne();(function sB(n,t,e){ca(ls,za,Jf(ge(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),j("ngClass",e.panelClass)("@transformPanel","showing"),Nt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const kxe=[[["mat-select-trigger"]],"*"],Mxe=["mat-select-trigger","*"],Nxe={transformPanelWrap:IT("transformPanelWrap",[hm("* => void",uCe("@transformPanel",[lCe()],{optional:!0}))]),transformPanel:IT("transformPanel",[DT("void",nl({opacity:0,transform:"scale(1, 0.8)"})),hm("void => showing",Iv("120ms cubic-bezier(0, 0, 0.2, 1)",nl({opacity:1,transform:"scale(1, 1)"}))),hm("* => void",Iv("100ms linear",nl({opacity:0})))])};let a6=0;const c6=new oe("mat-select-scroll-strategy"),Oxe=new oe("MAT_SELECT_CONFIG"),Fxe={provide:c6,deps:[mm],useFactory:function Pxe(n){return()=>n.scrollStrategies.reposition()}},Lxe=new oe("MatSelectTrigger");class Vxe{constructor(t,e){this.source=t,this.value=e}}const Bxe=rk(q$(nk(K$(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new $}}))));let Uxe=(()=>{class n extends Bxe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ny.required)??!1}set required(e){this._required=Fn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Fn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Fn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=DC(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,c,l,u,f,m,_,y,b){super(s,o,c,l,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=y,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(E,N)=>E===N,this._uid="mat-select-"+a6++,this._triggerAriaLabelledBy=null,this._destroy=new $,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+a6++,this._panelDoneAnimatingStream=new $,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=bA(()=>{const E=this.options;return E?E.changes.pipe(Yl(E),Ue(()=>I(...E.map(N=>N.onSelectionChange)))):this._ngZone.onStable.pipe(Qn(1),Ue(()=>this.optionSelectionChanges))}),this.openedChange=new Fe,this._openedStream=this.openedChange.pipe(zn(E=>E),we(()=>{})),this._closedStream=this.openedChange.pipe(zn(E=>!E),we(()=>{})),this.selectionChange=new Fe,this.valueChange=new Fe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Cxe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ht(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yl(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&XR(this._trackedModal,"aria-owns",i),P$(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(XR(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!qp(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||qp(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Oge(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=I(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),I(...this.options.map(i=>i._stateChanges)).pipe(Et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(T(MT),T(gr),T(je),T(Z$),T(st),T(Zp,8),T(zc,8),T(_p,8),T(MM,8),T(Ga,10),Ls("tabindex"),T(c6),T(Kge),T(Oxe,8))};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&(mn(Txe,5),mn(xxe,5),mn(YG,5)),2&i){let o;Le(o=Ve())&&(r.trigger=o.first),Le(o=Ve())&&(r.panel=o.first),Le(o=Ve())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Qe,Yn]})}return n})(),jxe=(()=>{class n extends Uxe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function v_e(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function b_e(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Vxe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof LM?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Fn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,Lxe,5),Ft(o,r5,5),Ft(o,i5,5)),2&i){let s;Le(s=Ve())&&(r.customTrigger=s.first),Le(s=Ve())&&(r.options=s),Le(s=Ve())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Ie("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Nt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),dt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[bt([{provide:kM,useExisting:n},{provide:n5,useExisting:n}]),Qe],ngContentSelectors:Mxe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(ro(kxe),R(0,"div",0,1),Ie("click",function(){return r.toggle()}),R(3,"div",2),se(4,Ixe,2,1,"span",3),se(5,Axe,3,2,"span",4),M(),R(6,"div",5)(7,"div",6),bf(),R(8,"svg",7),rt(9,"path",8),M()()()(),se(10,Rxe,3,9,"ng-template",9),Ie("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=Ki(1);V(3),j("ngSwitch",r.empty),Nt("id",r._valueId),V(1),j("ngSwitchCase",!0),V(1),j("ngSwitchCase",!1),V(5),j("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[jc,J_,VS,Fj,YG,LM],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Nxe.transformPanel]},changeDetection:0})}return n})(),Hxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:[Fxe],imports:[xd,QG,o5,Ii,NT,AT,o5,Ii]})}return n})();const zxe=["f"];function $xe(n,t){1&n&&(R(0,"span"),ce(1,"Kerem adjon meg egy recept nevet!"),M())}function Wxe(n,t){1&n&&(R(0,"mat-form-field",16),rt(1,"mat-label"),R(2,"span",17),ce(3,"Kerem adjon meg valos adatokat!"),M(),rt(4,"input",18),M())}let l6=(()=>{class n{constructor(e,i,r){this.baseService=e,this.route=i,this.router=r,this.key="",this.defaultDifficulty="Kozepes",this.submitButtonValue="Recept hozzaadasa",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.recipeForm=new EE({name:new Zl(null,ny.required),ingredients:new Zl(null,[ny.required,ny.minLength(5)]),howToMake:new Zl(null),timeToMake:new Zl(null),portion:new Zl(null),difficulty:new Zl("kozepes")}),this.route.queryParams.subscribe(e=>{e.key&&(this.submitButtonValue="Recept modositasa"),console.log(e),this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&this.recipeForm.patchValue(r)})})}onSubmit(){this.recipe=this.recipeForm.value,"Recept hozzaadasa"===this.submitButtonValue?this.baseService.addRecipe(this.recipe):this.baseService.updateRecipe(this.key,this.recipe),this.router.navigate(["recipes"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(el),T(Za),T(sr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-edit"]],viewQuery:function(i,r){if(1&i&&mn(zxe,5),2&i){let o;Le(o=Ve())&&(r.formData=o.first)}},decls:44,vars:5,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],["f","ngForm"],["matSuffix",""],["formControlName","name","matInput","","type","text"],[4,"ngIf"],["formControlName","ingredients","matInput","","rows","5"],["formControlName","howToMake","matInput","","rows","5"],["formControlName","timeToMake","matInput","","type","number"],["formControlName","portion","matInput","","type","number"],[1,"select-container"],["formControlName","difficulty","id","difficulty"],["ngClass","green","value","konnyu"],["ngClass","yellow","value","kozepes"],["ngClass","red","value","nehez"],["class","text-center border border-danger",4,"ngIf"],["mat-button","","type","submit",3,"disabled"],[1,"text-center","border","border-danger"],[1,"text-danger"],["matInput","","disabled",""]],template:function(i,r){if(1&i&&(R(0,"form",0,1),Ie("ngSubmit",function(){return r.onSubmit()}),R(2,"mat-form-field")(3,"mat-label"),ce(4,"Recept neve"),M(),R(5,"mat-icon",2),ce(6,"menu_book"),M(),rt(7,"input",3),se(8,$xe,2,0,"span",4),M(),R(9,"mat-form-field")(10,"mat-label"),ce(11,"Hozz\xe1val\xf3k"),M(),rt(12,"textarea",5),M(),R(13,"mat-form-field")(14,"mat-label"),ce(15,"Elk\xe9szit\xe9s"),M(),rt(16,"textarea",6),M(),R(17,"mat-form-field")(18,"mat-label"),ce(19,"Elk\xe9szit\xe9si id\u0151"),M(),R(20,"mat-icon",2),ce(21,"schedule"),M(),rt(22,"input",7),M(),R(23,"mat-form-field")(24,"mat-label"),ce(25,"Adag"),M(),R(26,"mat-icon",2),ce(27,"restaurant"),M(),rt(28,"input",8),M(),R(29,"mat-form-field",9)(30,"mat-icon",2),ce(31,"sentiment_very_satisfied"),M(),R(32,"mat-label"),ce(33,"Nehezseg"),M(),R(34,"mat-select",10)(35,"mat-option",11),ce(36,"Konnyu"),M(),R(37,"mat-option",12),ce(38,"Kozepes"),M(),R(39,"mat-option",13),ce(40,"Nehez"),M()()(),se(41,Wxe,5,0,"mat-form-field",14),R(42,"button",15),ce(43),M()()),2&i){const o=Ki(1);let s;j("formGroup",r.recipeForm),V(8),j("ngIf",!(null!=(s=r.recipeForm.get("name"))&&s.valid)&&(null==(s=r.recipeForm.get("name"))?null:s.touched)),V(33),j("ngIf",!r.recipeForm.valid&&r.recipeForm.touched),V(1),j("disabled",!o.valid),V(1),ri(r.submitButtonValue)}},dependencies:[jc,or,gp,Wa,hA,Hc,pp,_p,gA,fm,bu,BCe,cu,p5,pm,jxe,r5],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px;border-style:solid;border-color:#fe1717df;border-top:0;border-right:0;border-left:0}form[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{margin-top:10px;background-color:#791679b3;color:#fff!important}button[_ngcontent-%COMP%]:hover{background-color:#791679}.example-panel-red.mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}.select-container[_ngcontent-%COMP%]{border-top:2px solid rgba(119,255,0,.5)!important;border-radius:5px}.red[_ngcontent-%COMP%]{background-color:#f60b0b80}.green[_ngcontent-%COMP%]{background:rgba(3,141,3,.5)}.yellow[_ngcontent-%COMP%]{background:rgba(246,246,6,.5)}.red[_ngcontent-%COMP%]:hover{background:rgba(167,16,16,.8)!important}.green[_ngcontent-%COMP%]:hover{background:rgba(3,81,3,.8)!important}.yellow[_ngcontent-%COMP%]:hover{background:rgba(157,157,15,.8)!important}"]})}return n})();const Gxe=function(n){return{key:n}};let qxe=(()=>{class n{constructor(e,i,r){this.route=e,this.baseService=i,this.router=r,this.key="",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&(this.recipe=r)})})}deleteRecipe(){this.baseService.deleteRecipe(this.key),this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Za),T(el),T(sr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-detail"]],decls:22,vars:9,consts:[[1,"mt-3"],[1,"recipe-making-container"],[1,"card-content"],[1,"justify-content-end"],["routerLink","/recipes/edit","mat-raised-button","","color","accent","type","button",1,"me-2",3,"queryParams"],["mat-raised-button","","type","button",1,"deleteButton",3,"click"]],template:function(i,r){1&i&&(R(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),ce(3),M()(),R(4,"div",1)(5,"mat-card-content")(6,"mat-card-subtitle"),ce(7,"Elkeszites: "),M(),ce(8),M(),R(9,"mat-card-content",2)(10,"mat-card-subtitle"),ce(11,"Hozz\xe1val\xf3k: "),M(),ce(12),M()(),R(13,"mat-card-footer")(14,"mat-card-content")(15,"mat-card-subtitle"),ce(16),M()()(),R(17,"mat-card-actions",3)(18,"button",4),ce(19,"Modositas"),M(),R(20,"button",5),Ie("click",function(){return r.deleteRecipe()}),ce(21,"Torles"),M()()()),2&i&&(V(3),Ti(" ",r.recipe.name,""),V(5),Ti(" ",r.recipe.howToMake," "),V(4),Ti(" ",r.recipe.ingredients," "),V(4),BD("Adag: ",r.recipe.portion," Nehezseg: ",r.recipe.difficulty," Elkeszitesi ido: ",r.recipe.timeToMake," perc"),V(2),j("queryParams",$a(7,Gxe,r.recipe.key)))},dependencies:[eu,PT,BM,FT,UM,LT,VM,OT,cu],styles:[".recipe-making-container[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{padding-top:16px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#e33!important;border:2px solid rgb(142,19,19)}"]})}return n})();class Kxe{static increaseCount(t){return t++}constructor(t="",e="",i="",r="",o="",s="",a=0){this.id=t,this.uid=e,this.displayName=i,this.email=r,this.message=o,this.date=s,this.count=a}}const Zxe=["spanAnchor"];function Yxe(n,t){if(1&n){const e=ln();R(0,"button",28),Ie("click",function(){Ye(e);const r=ne(3).$implicit;return Ge(ne().navigateToUpdateMessage(r))}),ce(1," M\xf3dos\xedt\xe1s "),M()}2&n&&j("id",ne(3).$implicit.key)}function Qxe(n,t){if(1&n){const e=ln();R(0,"span",29),Ie("click",function(){Ye(e);const r=ne(3).$implicit;return Ge(ne().deleteMessage(r))}),M()}}function Xxe(n,t){if(1&n&&(Go(0),R(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),ce(4),M(),rt(5,"img",16,17),M()(),R(7,"div",18)(8,"mat-card-content")(9,"b"),ce(10),M()(),R(11,"mat-card-content",19),rt(12,"mat-card-subtitle"),M()(),R(13,"mat-card-footer")(14,"mat-card-content",20),rt(15,"hr"),R(16,"mat-card-title-group",21)(17,"div",22)(18,"mat-card-subtitle",23),ce(19),M(),R(20,"mat-card-subtitle",23),ce(21),M()()(),R(22,"div",24)(23,"mat-card-actions",25),se(24,Yxe,2,1,"button",26),se(25,Qxe,1,0,"span",27),M()()()(),qo()),2&n){const e=ne().$implicit,i=ne().$implicit,r=ne();V(4),Ti(" ",i.displayName," "),V(1),j("id",i.key)("src",i.profilePicture,Uf),V(5),ri(i.message),V(8),j("ngClass",e.uid===r.user.userId?"grey":"right"),V(1),ri(i.email),V(1),j("ngClass",e.uid===r.user.userId?"grey":"right"),V(1),ri(i.date),V(3),j("ngIf",r.user.userId===i.uid),V(1),j("ngIf",r.user.userId===i.uid)}}function Jxe(n,t){if(1&n&&(R(0,"mat-card",14),se(1,Xxe,26,10,"ng-container",15),M()),2&n){const e=t.$implicit,i=ne().$implicit,r=ne();j("ngClass",e.uid===r.user.userId?"left messagesCard":"right"),V(1),j("ngIf",i.uid===e.uid)}}function eIe(n,t){if(1&n&&(R(0,"div",12),se(1,Jxe,2,2,"mat-card",13),M()),2&n){const e=t.$implicit,i=ne();j("ngClass",e.uid===i.user.userId?"justify-content-start mainDivUser":"justify-content-end mainDivUsers"),V(1),j("ngForOf",i.userProfiles)}}let u6=(()=>{class n{constructor(e,i,r,o){this.auth=e,this.base=i,this.viewPortScroller=r,this.router=o,this.users=[],this.isSAdmin=!1,this.message=new Kxe,this.messages=[],this.editMessage=!1,this.updateMessageKey="",this.userProfiles=[],this.userProfile=[],this.count=0,this.searchWord="",this.user={messageId:"",userId:"",displayName:"",email:""}}ngOnInit(){setTimeout(()=>{this.base.getMessages().subscribe(e=>{if(0===this.messages.length)for(let i of e)i.uid===this.user.userId&&(this.user.messageId=i.uid),i.id=i.key,i.id=i.uid,this.count=Math.max(i.count),this.messages=e,this.base.updateMessage(i.key,i)}),this.userLoggedInSubscription=this.auth.userLoggedInSubject.subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i,this.userProfile=i.filter(r=>r.uid===e.uid),this.user.userId=this.userProfile[0].uid,this.user.displayName=this.userProfile[0].displayName,this.user.email=this.userProfile[0].email})})},2e3),this.isSuperAdminSubscription=this.auth.isSuperAdmin.subscribe(e=>this.isSAdmin=e)}addMessage(){this.message.uid||(this.message.uid=this.user.userId);let e=new Date,i=e.toLocaleDateString()+"  "+e.toLocaleTimeString();this.message.date=i,this.message.displayName=this.userProfile[0].displayName,this.message.email=this.userProfile[0].email,console.log(this.count),this.message.count=this.count+1,this.count++,this.message.profilePicture=this.userProfile[0].profilePicture,this.base.addMessage(this.message),this.base.getMessages().subscribe(r=>{this.messages=r})}clearInput(){this.message.message=""}deleteMessage(e){this.base.deleteMessage(e).then(i=>this.base.getMessages().subscribe(r=>this.messages=r))}deleteMessages(){this.base.deleteMessages()}navigateToUpdateMessage(e){this.updateMessageKey=e.key,this.editMessage=!0,this.message.message=e.message,this.viewPortScroller.scrollToPosition([0,0])}updateMessage(){this.message.uid||(this.message.uid=this.user.userId);let e=new Date,i=e.toLocaleDateString()+"  "+e.toLocaleTimeString();this.message.date=i,this.message.displayName=this.userProfile[0].displayName,this.message.email=this.userProfile[0].email,this.message.profilePicture=this.userProfile[0].profilePicture,this.message.displayName=this.userProfile[0].displayName,this.base.updateMessage(this.updateMessageKey,this.message),this.base.getMessages().subscribe(r=>this.messages=r),this.viewPortScroller.scrollToAnchor(this.updateMessageKey),this.editMessage=!1}ngOnDestroy(){this.userLoggedInSubscription&&this.userLoggedInSubscription.unsubscribe(),this.isSuperAdminSubscription&&this.isSuperAdminSubscription.unsubscribe(),this.usersSubscription&&this.usersSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zc),T(el),T(jj),T(sr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-chat"]],viewQuery:function(i,r){if(1&i&&mn(Zxe,5),2&i){let o;Le(o=Ve())&&(r.toCreated=o.first)}},decls:21,vars:11,consts:[[1,"text-center"],[1,"text-center","searchContainer"],[1,"mb-2","w-50"],["type","text","id","floatingInput","name","search","placeholder","Felhaszn\xe1l\xf3 keres\xe9se",1,"form-control",3,"ngModel","ngModelChange"],[1,"messageCardDiv","d-grid","justify-content-center"],[1,"messageCard","mb-5"],[1,"justify-content-center"],[1,"messageInput"],["matInput","","rows","2",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","",1,"me-2","mt-2",3,"click"],["mat-raised-button","",1,"mt-2","deleteButton",3,"click"],["class","d-grid mainDiv",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-grid","mainDiv",3,"ngClass"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],[4,"ngIf"],["mat-card-sm-image","","alt","Profilk\xe9p",1,"ms-2","overflow-auto",2,"border-radius","10px",3,"id","src"],["spanAnchor",""],[1,"recipe-making-container"],[1,"card-content"],[1,"pad"],[1,"mat-card-title-group"],[1,"emailDateDiv","d-grid","justify-content-start"],[3,"ngClass"],[1,"buttonCont"],[1,"d-flex","flex-wrap","justify-content-end"],["class","me-2","class","updateButton me-2","mat-raised-button","","color","accent","type","button",3,"id","click",4,"ngIf"],["class","ms-2 mt-2 bi bi-trash3-fill h3 text-danger rounded",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",1,"updateButton","me-2",3,"id","click"],[1,"ms-2","mt-2","bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){1&i&&(R(0,"h1",0),ce(1,"Flame Chat"),M(),R(2,"div",1)(3,"div",2)(4,"input",3),Ie("ngModelChange",function(s){return r.searchWord=s}),M()()(),R(5,"div",4)(6,"mat-card",5)(7,"mat-card-header",6)(8,"mat-card-title")(9,"mat-form-field",7)(10,"mat-label"),ce(11,"\xdczenet \xedr\xe1sa"),M(),R(12,"textarea",8),Ie("ngModelChange",function(s){return r.message.message=s}),M()()()(),R(13,"mat-card-content",0)(14,"button",9),Ie("click",function(){return r.editMessage?r.updateMessage():r.addMessage()}),ce(15),M(),R(16,"button",10),Ie("click",function(){return r.isSAdmin?r.deleteMessages():r.clearInput()}),ce(17),M()()()(),se(18,eIe,2,2,"div",11),wd(19,"filter"),wd(20,"sort")),2&i&&(V(4),j("ngModel",r.searchWord),V(8),j("ngModel",r.message.message),V(3),Ti(" ",r.editMessage?"Uzenet Modositasa":"\xdczenet k\xfcld\xe9se"," "),V(2),Ti(" ",r.isSAdmin?"\xdczenetek t\xf6rl\xe9se":"Mez\xf6 t\xf6rl\xe9se"," "),V(1),j("ngForOf",Ed(19,5,Ed(20,8,r.messages,r.message.date),r.searchWord)))},dependencies:[jc,Qo,or,Wa,Hc,$c,fm,bu,PT,BM,FT,UM,LT,i6,VM,OT,n6,cu,pm,vG,r6],styles:[".card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:80vw;height:30vh}.searchContainer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.searchContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#7d20d44d;overflow:auto}.searchContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#7d20d480}.left[_ngcontent-%COMP%]{background-color:#17178f80;color:#fff;width:50vw}.right[_ngcontent-%COMP%]{width:100vw}.buttonCont[_ngcontent-%COMP%]{text-align:center;width:100%;display:inline-flex;justify-content:end}.pad[_ngcontent-%COMP%]{padding:0}.emailDateDiv[_ngcontent-%COMP%]{text-align:left;width:-moz-fit-content;width:fit-content;overflow:auto;justify-content:start}.emailDateDiv[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.mat-card-title-group[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:wrap;justify-content:end}.messageCardDiv[_ngcontent-%COMP%]{position:fixed;bottom:0%;left:50%;z-index:2;transform:translate(-50%,40%);height:45vh}.grey[_ngcontent-%COMP%]{color:#201f1f}.mainDiv[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.mainDivUser[_ngcontent-%COMP%], .mainDivUsers[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (max-width: 400px){.right[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.left[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;justify-content:start}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:45vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:30vh}}@media screen and (min-width: 400px) and (max-width: 800px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:40vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}@media screen and (min-width: 800px) and (max-width: 1250px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:40vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}@media screen and (min-width: 1250px) and (max-width: 1900px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:50vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}.deleteButton[_ngcontent-%COMP%]{background-color:red!important;color:#f5f5f5!important}.matHeader[_ngcontent-%COMP%]{width:max-content!important}.delCont[_ngcontent-%COMP%]{margin-left:100px;padding-left:20px}.updateButton[_ngcontent-%COMP%]{background-color:#06065cb3}"]})}return n})();const tIe=["f"];function nIe(n,t){if(1&n){const e=ln();R(0,"div")(1,"label")(2,"input",23),Ie("ngModelChange",function(r){return Ye(e),Ge(ne().$implicit.gender=r)}),M(),ce(3),M()()}if(2&n){const e=t.$implicit,i=ne().$implicit;V(2),j("ngModel",i.gender)("value",e),V(1),Ti(" ",e," ")}}const iIe=function(n){return{width:n}};function rIe(n,t){if(1&n&&(R(0,"div",24)(1,"div",25)(2,"h4",26),ce(3),M()()()),2&n){const e=ne(2);V(1),function sa(n){ca(ZV,Nee,n,!1)}($a(5,iIe,e.percent+"%")),Nt("aria-valuenow",e.percent)("aria-valuemin",e.percent),V(2),Ti("",e.percent,"%")}}function oIe(n,t){if(1&n&&(R(0,"div",27),rt(1,"img",28),M()),2&n){const e=ne().$implicit;V(1),j("src",e.profilePicture,Uf)("alt",e.profilePicture)}}function sIe(n,t){if(1&n&&(R(0,"div",19)(1,"div",27),rt(2,"img",29),M()()),2&n){const e=ne(2);V(2),j("src",e.profilePhotoUrl,Uf)}}function aIe(n,t){if(1&n){const e=ln();R(0,"form",3,4),Ie("ngSubmit",function(){return Ye(e),Ge(ne().saveProfile())}),R(2,"mat-form-field")(3,"mat-label",5),ce(4,"Email"),M(),R(5,"input",6,7),Ie("ngModelChange",function(r){return Ge(Ye(e).$implicit.email=r)}),M()(),R(7,"mat-form-field")(8,"mat-label",8),ce(9,"Felhaszn\xe1l\xf3n\xe9v"),M(),R(10,"input",9),Ie("ngModelChange",function(r){return Ge(Ye(e).$implicit.displayName=r)}),M()(),R(11,"mat-form-field")(12,"mat-label",10),ce(13,"Sz\xfclet\xe9si id\u0151"),M(),R(14,"input",11),Ie("ngModelChange",function(r){return Ge(Ye(e).$implicit.birthDate=r)}),M()(),se(15,nIe,4,3,"div",12),R(16,"div",13)(17,"h2",14)(18,"label",15),ce(19,"Profilk\xe9p kiv\xe1laszt\xe1sa:"),M()(),R(20,"input",16),Ie("change",function(r){return Ye(e),Ge(ne().selectFile(r))})("ngModelChange",function(r){return Ye(e),Ge(ne().profilePhoto=r)}),M(),R(21,"button",17),Ie("click",function(){const o=Ye(e).$implicit,s=ne();return Ge(o.profilePicture?s.changeProfilePic():s.addProfilePic())}),ce(22),M()(),se(23,rIe,4,7,"div",18),R(24,"div",19),se(25,oIe,2,2,"div",20),M(),se(26,sIe,3,1,"ng-template",null,21,Ro),R(28,"button",22),ce(29," Adatok ment\xe9se "),M()()}if(2&n){const e=t.$implicit,i=Ki(1),r=Ki(27),o=ne();V(5),j("ngModel",e.email),V(5),j("ngModel",e.displayName),V(4),j("ngModel",e.birthDate),V(1),j("ngForOf",o.genders),V(5),j("ngModel",o.profilePhoto)("required",!e.profilePicture),V(2),Ti(" ","Profilk\xe9p Felt\xf6lt\xe9se"," "),V(1),j("ngIf",o.percent>0),V(2),j("ngIf",0===o.percent)("ngIfElse",r),V(3),j("disabled",!i.valid)}}const cIe=[{path:"",component:W_e},{path:"notes",component:oCe},{path:"signup",component:YTe},{path:"login",component:ixe},{path:"users",component:cxe},{path:"weather",component:yxe},{path:"chat",component:u6},{path:"chat/:uid",component:u6},{path:"profile/:uid",component:(()=>{class n{ngOnDestroy(){this.profilePicSub.unsubscribe()}constructor(e,i,r,o){this.router=e,this.auth=i,this.base=r,this.route=o,this.users=[],this.genders=["F\xe9rfi","N\u0151"],this.userProfile=[],this.percent=0}ngOnInit(){this.profilePicSub=this.base.profilePicUrlSubject.subscribe(e=>{console.log(e),this.profilePhotoUrl=e})}ngAfterViewInit(){setTimeout(()=>{this.router.params.subscribe(e=>{console.log(e.uid),this.auth.getUsers().subscribe(i=>{const r=i.filter(o=>o.uid===e.uid);this.users=r,console.log(r)}),this.base.getUserProfiles().subscribe(i=>{const r=i.filter(o=>o.uid===e.uid);this.userProfile=r})})},5e3)}selectFile(e){this.profilePhoto=e.target.files[0]}saveProfile(){this.auth.isLoggedIn().subscribe(e=>{console.log(e),this.base.getUserProfiles().subscribe(i=>{let r=i.filter(a=>a.uid===e?.uid),o=r[0].key;console.log(r);let s=this.form.value;s.uid=e?.uid,s.profilePicture=""==this.userProfile[0].profilePicture||null==this.userProfile[0].profilePicture?this.profilePhotoUrl:r[0].profilePicture,this.base.updateUserData(s,o)}),setTimeout(()=>{this.route.navigate([""])},1e3)})}addProfilePic(){this.base.addProfilePicture(this.profilePhoto).subscribe(e=>this.percent=e)}changeProfilePic(){this.userProfile[0].profilePicture="",this.base.addProfilePicture(this.profilePhoto).subscribe(e=>this.percent=e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Za),T(Zc),T(el),T(sr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-user-profile"]],viewQuery:function(i,r){if(1&i&&mn(tIe,5),2&i){let o;Le(o=Ve())&&(r.form=o.first)}},decls:3,vars:1,consts:[[1,"row"],[1,"col-12"],["class","d-grid justify-content-center",3,"ngSubmit",4,"ngFor","ngForOf"],[1,"d-grid","justify-content-center",3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],["for","displayName"],["matInput","","type","text","name","displayName","required","",3,"ngModel","ngModelChange"],["for","birthDate"],["matInput","","type","date","name","birthDate","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"text-center"],["id","profilePicture","for","profilePicture",1,"form-label"],["id","profilePicture","type","file","name","profilePicture",1,"form-control",3,"ngModel","required","change","ngModelChange"],["type","button",1,"btn","btn-primary","mt-1",3,"click"],["class","progress mt-2 progressC","style","height: 50px; width: 100%",4,"ngIf"],[1,"d-grid","justify-content-center"],["class","profilePicContainer",4,"ngIf","ngIfElse"],["newPic",""],["color","accent","mat-raised-button","","type","submit",3,"disabled"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"],[1,"progress","mt-2","progressC",2,"height","50px","width","100%"],["role","progressbar","aria-valuemax","100",1,"progress-bar","progressC"],[1,"pt-2"],[1,"profilePicContainer"],[3,"src","alt"],["alt","Profilkep",3,"src"]],template:function(i,r){1&i&&(R(0,"div",0)(1,"div",1),se(2,aIe,30,11,"form",2),M()()),2&i&&(V(2),j("ngForOf",r.userProfile))},dependencies:[Qo,or,gp,Wa,DE,Hc,pp,cy,SE,$c,zc,fm,bu,cu,pm],styles:[".profilePicContainer[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;text-align:center;width:50vw;height:25vh}.profilePicContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.progressC[_ngcontent-%COMP%]{background-color:#20208199!important}"]})}return n})()},{path:"recipes",component:Exe,children:[{path:"create",component:l6},{path:"detail",component:qxe},{path:"edit",component:l6}]},{path:"**",redirectTo:""}];let lIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[mz.forRoot(cIe),mz]})}return n})();function HM(){return de((n,t)=>{let e,i=!1;n.subscribe(Se(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Be,uIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={},zM=zM||{},St=uIe||self;function VT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Rv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var $M="closure_uid_"+(1e9*Math.random()>>>0),hIe=0;function fIe(n,t,e){return n.call.apply(n.bind,arguments)}function pIe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function lo(n,t,e){return(lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fIe:pIe).apply(null,arguments)}function BT(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Pr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(i,s)}}function wu(){this.s=this.s,this.o=this.o}wu.prototype.s=!1,wu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dIe(n){Object.prototype.hasOwnProperty.call(n,$M)&&n[$M]||(n[$M]=++hIe)}(this)},wu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d6=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function WM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function h6(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(VT(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function uo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}uo.prototype.h=function(){this.defaultPrevented=!0};var gIe=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",()=>{},t),St.removeEventListener("test",()=>{},t)}catch{}return n}();function kv(n){return/^[\s\xa0]*$/.test(n)}function UT(){var n=St.navigator;return n&&(n=n.userAgent)?n:""}function oc(n){return-1!=UT().indexOf(n)}function GM(n){return GM[" "](n),n}GM[" "]=function(){};var KM,n,yIe=oc("Opera"),gm=oc("Trident")||oc("MSIE"),f6=oc("Edge"),qM=f6||gm,p6=oc("Gecko")&&!(-1!=UT().toLowerCase().indexOf("webkit")&&!oc("Edge"))&&!(oc("Trident")||oc("MSIE"))&&!oc("Edge"),vIe=-1!=UT().toLowerCase().indexOf("webkit")&&!oc("Edge");function m6(){var n=St.document;return n?n.documentMode:void 0}e:{var ZM="",YM=(n=UT(),p6?/rv:([^\);]+)(\)|;)/.exec(n):f6?/Edge\/([\d\.]+)/.exec(n):gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vIe?/WebKit\/(\S+)/.exec(n):yIe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YM&&(ZM=YM?YM[1]:""),gm){var QM=m6();if(null!=QM&&QM>parseFloat(ZM)){KM=String(QM);break e}}KM=ZM}var bIe=St.document&&gm&&(m6()||parseInt(KM,10))||void 0;function Mv(n,t){if(uo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(p6){e:{try{GM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wIe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mv.$.h.call(this)}}Pr(Mv,uo);var wIe={2:"touch",3:"pen",4:"mouse"};Mv.prototype.h=function(){Mv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nv="closure_listenable_"+(1e6*Math.random()|0),EIe=0;function CIe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++EIe,this.fa=this.ia=!1}function jT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function _6(n){const t={};for(const e in n)t[e]=n[e];return t}const y6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v6(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<y6.length;o++)e=y6[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function HT(n){this.src=n,this.g={},this.h=0}function eN(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=d6(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(jT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function tN(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}HT.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=tN(n,t,i,r);return-1<s?(t=n[s],e||(t.ia=!1)):((t=new CIe(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var nN="closure_lm_"+(1e6*Math.random()|0),iN={};function b6(n,t,e,i,r){if(i&&i.once)return E6(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)b6(n,t[o],e,i,r);return null}return e=aN(e),n&&n[Nv]?n.O(t,e,Rv(i)?!!i.capture:!!i,r):w6(n,t,e,!1,i,r)}function w6(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=Rv(r)?!!r.capture:!!r,a=oN(n);if(a||(n[nN]=a=new HT(n)),(e=a.add(t,e,i,s,o)).proxy)return e;if(i=function xIe(){const t=IIe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)gIe||(r=s),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(T6(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function E6(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)E6(n,t[o],e,i,r);return null}return e=aN(e),n&&n[Nv]?n.P(t,e,Rv(i)?!!i.capture:!!i,r):w6(n,t,e,!0,i,r)}function C6(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)C6(n,t[o],e,i,r);else i=Rv(i)?!!i.capture:!!i,e=aN(e),n&&n[Nv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=tN(o=n.g[t],e,i,r))&&(jT(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=oN(n))&&(t=n.g[t.toString()],n=-1,t&&(n=tN(t,e,i,r)),(e=-1<n?t[n]:null)&&rN(e))}function rN(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Nv])eN(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(T6(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=oN(t))?(eN(e,n),0==e.h&&(e.src=null,t[nN]=null)):jT(n)}}}function T6(n){return n in iN?iN[n]:iN[n]="on"+n}function IIe(n,t){if(n.fa)n=!0;else{t=new Mv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&rN(n),n=e.call(i,t)}return n}function oN(n){return(n=n[nN])instanceof HT?n:null}var sN="__closure_events_fn_"+(1e9*Math.random()>>>0);function aN(n){return"function"==typeof n?n:(n[sN]||(n[sN]=function(t){return n.handleEvent(t)}),n[sN])}function Or(){wu.call(this),this.i=new HT(this),this.S=this,this.J=null}function Kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new uo(t,n);else if(t instanceof uo)t.target=t.target||n;else{var r=t;v6(t=new uo(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=zT(s,i,!0,t)&&r}if(r=zT(s=t.g=n,i,!0,t)&&r,r=zT(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=zT(s=t.g=e[o],i,!1,t)&&r}function zT(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,c=s.la||s.src;s.ia&&eN(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Pr(Or,wu),Or.prototype[Nv]=!0,Or.prototype.removeEventListener=function(n,t,e,i){C6(this,n,t,e,i)},Or.prototype.N=function(){if(Or.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)jT(e[i]);delete n.g[t],n.h--}}this.J=null},Or.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Or.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var cN=St.JSON.stringify;function SIe(){var n=lN;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var x6=new class DIe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new RIe,n=>n.reset());class RIe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function kIe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function MIe(n){St.setTimeout(()=>{throw n},0)}let Pv,Ov=!1,lN=new class AIe{constructor(){this.h=this.g=null}add(t,e){const i=x6.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},I6=()=>{const n=St.Promise.resolve(void 0);Pv=()=>{n.then(NIe)}};var NIe=()=>{for(var n;n=SIe();){try{n.h.call(n.g)}catch(e){MIe(e)}var t=x6;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ov=!1};function $T(n,t){Or.call(this),this.h=n||1,this.g=t||St,this.j=lo(this.qb,this),this.l=Date.now()}function uN(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dN(n,t,e){if("function"==typeof n)e&&(n=lo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=lo(n.handleEvent,n)}return 2147483647<Number(t)?-1:St.setTimeout(n,t||0)}function D6(n){n.g=dN(()=>{n.g=null,n.i&&(n.i=!1,D6(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Pr($T,Or),(Be=$T.prototype).ga=!1,Be.T=null,Be.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(uN(this),this.start()))}},Be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.N=function(){$T.$.N.call(this),uN(this),delete this.g};class PIe extends wu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:D6(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fv(n){wu.call(this),this.h=n,this.g={}}Pr(Fv,wu);var S6=[];function A6(n,t,e,i){Array.isArray(e)||(e&&(S6[0]=e.toString()),e=S6);for(var r=0;r<e.length;r++){var o=b6(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function R6(n){JM(n.g,function(t,e){this.g.hasOwnProperty(e)&&rN(t)},n),n.g={}}function WT(){this.g=!0}function _m(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function VIe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return cN(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Fv.prototype.N=function(){Fv.$.N.call(this),R6(this)},Fv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},WT.prototype.Ea=function(){this.g=!1},WT.prototype.info=function(){};var ah={},k6=null;function GT(){return k6=k6||new Or}function M6(n){uo.call(this,ah.Ta,n)}function Lv(n){const t=GT();Kr(t,new M6(t))}function N6(n,t){uo.call(this,ah.STAT_EVENT,n),this.stat=t}function Fo(n){const t=GT();Kr(t,new N6(t,n))}function P6(n,t){uo.call(this,ah.Ua,n),this.size=t}function Vv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},t)}ah.Ta="serverreachability",Pr(M6,uo),ah.STAT_EVENT="statevent",Pr(N6,uo),ah.Ua="timingevent",Pr(P6,uo);var qT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},O6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hN(){}function L6(){}hN.prototype.h=null;var mN,Bv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fN(){uo.call(this,"d")}function pN(){uo.call(this,"c")}function KT(){}function Uv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Fv(this),this.P=BIe,this.V=new $T(n=qM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new V6}function V6(){this.i=null,this.g="",this.h=!1}Pr(fN,uo),Pr(pN,uo),Pr(KT,hN),KT.prototype.g=function(){return new XMLHttpRequest},KT.prototype.i=function(){return{}},mN=new KT;var BIe=45e3,gN={},ZT={};function _N(n,t,e){n.L=1,n.v=JT(il(t)),n.s=e,n.S=!0,B6(n,null)}function B6(n,t){n.G=Date.now(),jv(n),n.A=il(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Z6(e.i,"t",i),n.C=0,e=n.l.J,n.h=new V6,n.g=v9(n.l,e?t:null,!n.s),0<n.O&&(n.M=new PIe(lo(n.Pa,n,n.g),n.O)),A6(n.U,n.g,"readystatechange",n.nb),t=n.I?_6(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Lv(),function OIe(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");s=2<=f.length&&"type"==f[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function U6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function j6(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=UIe(n,e),r==ZT){4==t&&(n.o=4,Fo(14),i=!1),_m(n.j,n.m,null,"[Incomplete Response]");break}if(r==gN){n.o=4,Fo(15),_m(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}_m(n.j,n.m,r,null),yN(n,r)}U6(n)&&r!=ZT&&r!=gN&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Fo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),xN(t),t.M=!0,Fo(11))):(_m(n.j,n.m,e,"[Invalid Chunked Response]"),ch(n),Hv(n))}function UIe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?ZT:(e=Number(t.substring(e,i)),isNaN(e)?gN:(i+=1)+e>t.length?ZT:(t=t.slice(i,i+e),n.C=i+e,t))}function jv(n){n.Y=Date.now()+n.P,H6(n,n.P)}function H6(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vv(lo(n.lb,n),t)}function YT(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function Hv(n){0==n.l.H||n.J||m9(n.l,n)}function ch(n){YT(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,uN(n.V),R6(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function yN(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||vN(e.i,n)))if(!n.K&&vN(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;ox(e),ix(e)}TN(e),Fo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Vv(lo(e.ib,e),6e3));if(1>=X6(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else uh(e,11)}else if((n.K||e.g==n)&&ox(e),!kv(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(e.V=l[0],l=l[1],2==e.H)if("c"==l[0]){e.K=l[1],e.pa=l[2];const u=l[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const f=l[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(e.L=i=1.5*m,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const y=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(bN(o,o.h),o.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,_i(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=n;if((i=e).wa=y9(i,i.J?i.pa:null,i.Y),s.K){J6(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(YT(a),jv(a)),i.g=s}else f9(i);0<e.j.length&&rx(e)}else"stop"!=l[0]&&"close"!=l[0]||uh(e,7);else 3==e.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?uh(e,7):CN(e):"noop"!=l[0]&&e.h&&e.h.Aa(l),e.A=0)}Lv()}catch{}}function z6(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(VT(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function HIe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(VT(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function jIe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(VT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Be=Uv.prototype).setTimeout=function(n){this.P=n},Be.nb=function(n){n=n.target;const t=this.M;t&&3==sc(n)?t.l():this.Pa(n)},Be.Pa=function(n){try{if(n==this.g)e:{const u=sc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||qM||this.g&&(this.h.h||this.g.ja()||a9(this.g)))){this.J||4!=u||7==t||Lv(),YT(this);var e=this.g.da();this.ca=e;t:if(U6(this)){var i=a9(this.g);n="";var r=i.length,o=4==sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ch(this),Hv(this);var s="";break t}this.h.i=new St.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function FIe(n,t,e,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kv(a)){var l=a;break t}}l=null}if(!(e=l)){this.i=!1,this.o=3,Fo(12),ch(this),Hv(this);break e}_m(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yN(this,e)}this.S?(j6(this,u,s),qM&&this.i&&3==u&&(A6(this.U,this.V,"tick",this.mb),this.V.start())):(_m(this.j,this.m,s,null),yN(this,s)),4==u&&ch(this),this.i&&!this.J&&(4==u?m9(this.l,this):(this.i=!1,jv(this)))}else(function s1e(n){const t={};n=(n.g&&2<=sc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(kv(n[i]))continue;var e=kIe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function TIe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,Fo(12)):(this.o=0,Fo(13)),ch(this),Hv(this)}}}catch{}},Be.mb=function(){if(this.g){var n=sc(this.g),t=this.g.ja();this.C<t.length&&(YT(this),j6(this,n,t),this.i&&4!=n&&jv(this))}},Be.cancel=function(){this.J=!0,ch(this)},Be.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function LIe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Lv(),Fo(17)),ch(this),this.o=2,Hv(this)):H6(this,this.Y-n)};var $6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof lh){this.h=n.h,QT(this,n.j),this.s=n.s,this.g=n.g,XT(this,n.m),this.l=n.l;var t=n.i,e=new Wv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),W6(this,e),this.o=n.o}else n&&(t=String(n).match($6))?(this.h=!1,QT(this,t[1]||"",!0),this.s=zv(t[2]||""),this.g=zv(t[3]||"",!0),XT(this,t[4]),this.l=zv(t[5]||"",!0),W6(this,t[6]||"",!0),this.o=zv(t[7]||"")):(this.h=!1,this.i=new Wv(null,this.h))}function il(n){return new lh(n)}function QT(n,t,e){n.j=e?zv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function XT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function W6(n,t,e){t instanceof Wv?(n.i=t,function ZIe(n,t){t&&!n.j&&(Eu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(q6(this,i),Z6(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=$v(t,qIe)),n.i=new Wv(t,n.h))}function _i(n,t,e){n.i.set(t,e)}function JT(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $v(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,$Ie),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $Ie(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lh.prototype.toString=function(){var n=[],t=this.j;t&&n.push($v(t,G6,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push($v(t,G6,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push($v(e,"/"==e.charAt(0)?GIe:WIe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",$v(e,KIe)),n.join("")};var G6=/[#\/\?@]/g,WIe=/[#\?:]/g,GIe=/[#\?]/g,qIe=/[#\?@]/g,KIe=/#/g;function Wv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Eu(n){n.g||(n.g=new Map,n.h=0,n.i&&function zIe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function q6(n,t){Eu(n),t=ym(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function K6(n,t){return Eu(n),t=ym(n,t),n.g.has(t)}function Z6(n,t,e){q6(n,t),0<e.length&&(n.i=null,n.g.set(ym(n,t),WM(e)),n.h+=e.length)}function ym(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Y6(n){this.l=n||QIe,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Be=Wv.prototype).add=function(n,t){Eu(this),this.i=null,n=ym(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Be.forEach=function(n,t){Eu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Be.ta=function(){Eu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Be.Z=function(n){Eu(this);let t=[];if("string"==typeof n)K6(this,n)&&(t=t.concat(this.g.get(ym(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Be.set=function(n,t){return Eu(this),this.i=null,K6(this,n=ym(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Be.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var QIe=10;function Q6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function X6(n){return n.h?1:n.g?n.g.size:0}function vN(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function bN(n,t){n.g?n.g.add(t):n.h=t}function J6(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function e9(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return WM(n.i)}Y6.prototype.cancel=function(){if(this.i=e9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var XIe=class{stringify(n){return St.JSON.stringify(n,void 0)}parse(n){return St.JSON.parse(n,void 0)}};function JIe(){this.g=new XIe}function e1e(n,t,e){const i=e||"";try{z6(n,function(r,o){let s=r;Rv(r)&&(s=cN(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ex(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Gv(n){this.l=n.ec||null,this.j=n.ob||!1}function tx(n,t){Or.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=wN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pr(Gv,hN),Gv.prototype.g=function(){return new tx(this.l,this.j)},Gv.prototype.i=function(n){return function(){return n}}({}),Pr(tx,Or);var wN=0;function t9(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kv(n)}function Kv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Be=tx.prototype).open=function(n,t){if(this.readyState!=wN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Kv(this)},Be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qv(this)),this.readyState=wN},Be.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kv(this)),this.g&&(this.readyState=3,Kv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t9(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Be.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?qv(this):Kv(this),3==this.readyState&&t9(this)}},Be.Za=function(n){this.g&&(this.response=this.responseText=n,qv(this))},Be.Ya=function(n){this.g&&(this.response=n,qv(this))},Be.ka=function(){this.g&&qv(this)},Be.setRequestHeader=function(n,t){this.v.append(n,t)},Be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(tx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var n1e=St.JSON.parse;function ji(n){Or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n9,this.L=this.M=!1}Pr(ji,Or);var n9="",i1e=/^https?$/i,r1e=["POST","PUT"];function i9(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,r9(n),nx(n)}function r9(n){n.F||(n.F=!0,Kr(n,"complete"),Kr(n,"error"))}function o9(n){if(n.h&&typeof zM<"u"&&(!n.C[1]||4!=sc(n)||2!=n.da()))if(n.v&&4==sc(n))dN(n.La,0,n);else if(Kr(n,"readystatechange"),4==sc(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===s){var r=String(n.I).match($6)[1]||null;!r&&St.self&&St.self.location&&(r=St.self.location.protocol.slice(0,-1)),i=!i1e.test(r?r.toLowerCase():"")}e=i}if(e)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var o=2<sc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",r9(n)}}finally{nx(n)}}}function nx(n,t){if(n.g){s9(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Kr(n,"ready");try{e.onreadystatechange=i}catch{}}}function s9(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function sc(n){return n.g?n.g.readyState:0}function a9(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n9:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function c9(n){let t="";return JM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function EN(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=c9(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):_i(n,t,e))}function Zv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function l9(n){this.Ga=0,this.j=[],this.l=new WT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zv("baseRetryDelayMs",5e3,n),this.hb=Zv("retryDelaySeedMs",1e4,n),this.eb=Zv("forwardChannelMaxRetries",2,n),this.xa=Zv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Y6(n&&n.concurrentRequestLimit),this.Ja=new JIe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CN(n){if(u9(n),3==n.H){var t=n.W++,e=il(n.I);if(_i(e,"SID",n.K),_i(e,"RID",t),_i(e,"TYPE","terminate"),Yv(n,e),(t=new Uv(n,n.l,t)).L=2,t.v=JT(il(e)),e=!1,St.navigator&&St.navigator.sendBeacon)try{e=St.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&St.Image&&((new Image).src=t.v,e=!0),e||(t.g=v9(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jv(t)}_9(n)}function ix(n){n.g&&(xN(n),n.g.cancel(),n.g=null)}function u9(n){ix(n),n.u&&(St.clearTimeout(n.u),n.u=null),ox(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function rx(n){if(!Q6(n.i)&&!n.m){n.m=!0;var t=n.Na;Pv||I6(),Ov||(Pv(),Ov=!0),lN.add(t,n),n.C=0}}function d9(n,t){var e;e=t?t.m:n.W++;const i=il(n.I);_i(i,"SID",n.K),_i(i,"RID",e),_i(i,"AID",n.V),Yv(n,i),n.o&&n.s&&EN(i,n.o,n.s),e=new Uv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=h9(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bN(n.i,e),_N(e,i,t)}function Yv(n,t){n.na&&JM(n.na,function(e,i){_i(t,i,e)}),n.h&&z6({},function(e,i){_i(t,i,e)})}function h9(n,t,e){e=Math.min(n.j.length,e);var i=n.h?lo(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<e;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{e1e(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function f9(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Pv||I6(),Ov||(Pv(),Ov=!0),lN.add(t,n),n.A=0}}function TN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Vv(lo(n.Ma,n),g9(n,n.A)),n.A++,0))}function xN(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function p9(n){n.g=new Uv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=il(n.wa);_i(t,"RID","rpc"),_i(t,"SID",n.K),_i(t,"AID",n.V),_i(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&_i(t,"TO",n.qa),_i(t,"TYPE","xmlhttp"),Yv(n,t),n.o&&n.s&&EN(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=JT(il(t)),e.s=null,e.S=!0,B6(e,n)}function ox(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function m9(n,t){var e=null;if(n.g==t){ox(n),xN(n),n.g=null;var i=2}else{if(!vN(n.i,t))return;e=t.F,J6(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Kr(i=GT(),new P6(i,e)),rx(n)}else f9(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function a1e(n,t){return!(X6(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Vv(lo(n.Na,n,t),g9(n,n.C)),n.C++,0)))}(n,t)||2==i&&TN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:uh(n,5);break;case 4:uh(n,10);break;case 3:uh(n,6);break;default:uh(n,2)}}function g9(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function uh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=lo(n.pb,n);e||(e=new lh("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||QT(e,"https"),JT(e)),function t1e(n,t){const e=new WT;if(St.Image){const i=new Image;i.onload=BT(ex,e,i,"TestLoadImage: loaded",!0,t),i.onerror=BT(ex,e,i,"TestLoadImage: error",!1,t),i.onabort=BT(ex,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=BT(ex,e,i,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Fo(2);n.H=0,n.h&&n.h.za(t),_9(n),u9(n)}function _9(n){if(n.H=0,n.ma=[],n.h){const t=e9(n.i);(0!=t.length||0!=n.j.length)&&(h6(n.ma,t),h6(n.ma,n.j),n.i.i.length=0,WM(n.j),n.j.length=0),n.h.ya()}}function y9(n,t,e){var i=e instanceof lh?il(e):new lh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),XT(i,i.m);else{var r=St.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new lh(null);i&&QT(o,i),t&&(o.g=t),r&&XT(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&_i(i,e,t),_i(i,"VER",n.ra),Yv(n,i),i}function v9(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ji(e&&n.Ha&&!n.va?new Gv({ob:!0}):n.va)).Oa(n.J),t}function b9(){}function sx(){if(gm&&!(10<=Number(bIe)))throw Error("Environmental error: no available transport.")}function Cs(n,t){Or.call(this),this.g=new l9(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!kv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kv(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new vm(this)}function w9(n){fN.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function E9(){pN.call(this),this.status=1}function vm(n){this.g=n}function Ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function IN(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],s=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ln(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Be=ji.prototype).Oa=function(n){this.M=n},Be.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mN.g(),this.C=function F6(n){return n.h||(n.h=n.i())}(this.u?this.u:mN),this.g.onreadystatechange=lo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void i9(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=St.FormData&&n instanceof St.FormData,!(0<=d6(r1e,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{s9(this),0<this.B&&((this.L=function o1e(n){return gm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lo(this.ua,this)):this.A=dN(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){i9(this,o)}},Be.ua=function(){typeof zM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),nx(this))},Be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nx(this,!0)),ji.$.N.call(this)},Be.La=function(){this.s||(this.G||this.v||this.l?o9(this):this.kb())},Be.kb=function(){o9(this)},Be.isActive=function(){return!!this.g},Be.da=function(){try{return 2<sc(this)?this.g.status:-1}catch{return-1}},Be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Be.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),n1e(t)}},Be.Ia=function(){return this.m},Be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=l9.prototype).ra=8,Be.H=1,Be.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Uv(this,this.l,n);let o=this.s;if(this.U&&(o?(o=_6(o),v6(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=h9(this,r,t),_i(e=il(this.I),"RID",n),_i(e,"CVER",22),this.F&&_i(e,"X-HTTP-Session-Id",this.F),Yv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(c9(o)))+"&"+t:this.o&&EN(e,this.o,o)),bN(this.i,r),this.bb&&_i(e,"TYPE","init"),this.P?(_i(e,"$req",t),_i(e,"SID","null"),r.aa=!0,_N(r,e,null)):_N(r,e,t),this.H=2}}else 3==this.H&&(n?d9(this,n):0==this.j.length||Q6(this.i)||d9(this))},Be.Ma=function(){if(this.u=null,p9(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vv(lo(this.jb,this),n)}},Be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fo(10),ix(this),p9(this))},Be.ib=function(){null!=this.v&&(this.v=null,ix(this),TN(this),Fo(19))},Be.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fo(2)):(this.l.info("Failed to ping google.com"),Fo(1))},Be.isActive=function(){return!!this.h&&this.h.isActive(this)},(Be=b9.prototype).Ba=function(){},Be.Aa=function(){},Be.za=function(){},Be.ya=function(){},Be.isActive=function(){return!0},Be.Va=function(){},sx.prototype.g=function(n,t){return new Cs(n,t)},Pr(Cs,Or),Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Fo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=y9(n,null,n.Y),rx(n)},Cs.prototype.close=function(){CN(this.g)},Cs.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=cN(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&rx(t)},Cs.prototype.N=function(){this.g.h=null,delete this.j,CN(this.g),delete this.g,Cs.$.N.call(this)},Pr(w9,fN),Pr(E9,pN),Pr(vm,b9),vm.prototype.Ba=function(){Kr(this.g,"a")},vm.prototype.Aa=function(n){Kr(this.g,new w9(n))},vm.prototype.za=function(n){Kr(this.g,new E9)},vm.prototype.ya=function(){Kr(this.g,"b")},Pr(Ca,function c1e(){this.blockSize=-1}),Ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ca.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)IN(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){IN(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){IN(this,i),r=0;break}}this.h=r,this.i+=t},Ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var l1e={};function DN(n){return-128<=n&&128>n?function _Ie(n,t){var e=l1e;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ln([0|t],0>t?-1:0)}):new Ln([0|n],0>n?-1:0)}function ac(n){if(isNaN(n)||!isFinite(n))return bm;if(0>n)return Zr(ac(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=SN;return new Ln(t,0)}var SN=4294967296,bm=DN(0),AN=DN(1),T9=DN(16777216);function rl(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ys(n){return-1==n.h}function Zr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ln(e,~n.h).add(AN)}function ax(n,t){return n.add(Zr(t))}function cx(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Qv(n,t){this.g=n,this.h=t}function lx(n,t){if(rl(t))throw Error("division by zero");if(rl(n))return new Qv(bm,bm);if(Ys(n))return t=lx(Zr(n),t),new Qv(Zr(t.g),Zr(t.h));if(Ys(t))return t=lx(n,Zr(t)),new Qv(Zr(t.g),t.h);if(30<n.g.length){if(Ys(n)||Ys(t))throw Error("slowDivide_ only works with positive integers.");for(var e=AN,i=t;0>=i.X(n);)e=x9(e),i=x9(i);var r=wm(e,1),o=wm(i,1);for(i=wm(i,2),e=wm(e,2);!rl(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(e),o=s),i=wm(i,1),e=wm(e,1)}return t=ax(n,r.R(t)),new Qv(r,t)}for(r=bm;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),s=(o=ac(e)).R(t);Ys(s)||0<s.X(n);)s=(o=ac(e-=i)).R(t);rl(o)&&(o=AN),r=r.add(o),n=ax(n,s)}return new Qv(r,n)}function x9(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ln(e,n.h)}function wm(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Ln(r,n.h)}(Be=Ln.prototype).ea=function(){if(Ys(this))return-Zr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:SN+i)*t,t*=SN}return n},Be.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(rl(this))return"0";if(Ys(this))return"-"+Zr(this).toString(n);for(var t=ac(Math.pow(n,6)),e=this,i="";;){var r=lx(e,t).g,o=((0<(e=ax(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(rl(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Be.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Be.X=function(n){return Ys(n=ax(this,n))?-1:rl(n)?0:1},Be.abs=function(){return Ys(this)?Zr(this):this},Be.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new Ln(e,-2147483648&e[e.length-1]?-1:0)},Be.R=function(n){if(rl(this)||rl(n))return bm;if(Ys(this))return Ys(n)?Zr(this).R(Zr(n)):Zr(Zr(this).R(n));if(Ys(n))return Zr(this.R(Zr(n)));if(0>this.X(T9)&&0>n.X(T9))return ac(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);e[2*i+2*r]+=s*c,cx(e,2*i+2*r),e[2*i+2*r+1]+=o*c,cx(e,2*i+2*r+1),e[2*i+2*r+1]+=s*a,cx(e,2*i+2*r+1),e[2*i+2*r+2]+=o*a,cx(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ln(e,0)},Be.gb=function(n){return lx(this,n).h},Be.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ln(e,this.h&n.h)},Be.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ln(e,this.h|n.h)},Be.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ln(e,this.h^n.h)},sx.prototype.createWebChannel=sx.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,qT.NO_ERROR=0,qT.TIMEOUT=8,qT.HTTP_ERROR=6,O6.COMPLETE="complete",L6.EventType=Bv,Bv.OPEN="a",Bv.CLOSE="b",Bv.ERROR="c",Bv.MESSAGE="d",Or.prototype.listen=Or.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,Ca.prototype.digest=Ca.prototype.l,Ca.prototype.reset=Ca.prototype.reset,Ca.prototype.update=Ca.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=ac,Ln.fromString=function C9(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Zr(C9(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ac(Math.pow(t,8)),i=bm,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),t);8>o?(o=ac(Math.pow(t,o)),i=i.R(o).add(ac(s))):i=(i=i.R(e)).add(ac(s))}return i};var u1e=Ea.createWebChannelTransport=function(){return new sx},d1e=Ea.getStatEventTarget=function(){return GT()},RN=Ea.ErrorCode=qT,h1e=Ea.EventType=O6,f1e=Ea.Event=ah,I9=Ea.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},p1e=Ea.FetchXmlHttpFactory=Gv,ux=Ea.WebChannel=L6,m1e=Ea.XhrIo=ji,g1e=Ea.Md5=Ca,Em=Ea.Integer=Ln;const D9="@firebase/firestore";class Fr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Cm="10.5.2";const Cu=new ys.Yd("@firebase/firestore");function Tm(){return Cu.logLevel}function xe(n,...t){if(Cu.logLevel<=ys.in.DEBUG){const e=t.map(kN);Cu.debug(`Firestore (${Cm}): ${n}`,...e)}}function Qi(n,...t){if(Cu.logLevel<=ys.in.ERROR){const e=t.map(kN);Cu.error(`Firestore (${Cm}): ${n}`,...e)}}function ns(n,...t){if(Cu.logLevel<=ys.in.WARN){const e=t.map(kN);Cu.warn(`Firestore (${Cm}): ${n}`,...e)}}function kN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function We(n="Unexpected state"){const t=`FIRESTORE (${Cm}) INTERNAL ASSERTION FAILED: `+n;throw Qi(t),new Error(t)}function ot(n,t){n||We()}function Re(n,t){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends D.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class S9{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class v1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fr.UNAUTHENTICATED))}shutdown(){}}class b1e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class w1e{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,ue.Z)(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot("string"==typeof i.accessToken),new S9(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ot(null===t||"string"==typeof t),new Fr(t)}}class E1e{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class C1e{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new E1e(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1e{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ot("string"==typeof e.token),this.R=e.token,new A9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function x1e(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class R9{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=x1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Dt(n,t){return n<t?-1:n>t?1:0}function xm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function k9(n){return n+"\0"}class Ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class at{constructor(t){this.timestamp=t}static fromTimestamp(t){return new at(t)}static min(){return new at(new Ai(0,0))}static max(){return new at(new Ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xv{constructor(t,e,i){void 0===e?e=0:e>t.length&&We(),void 0===i?i=t.length-e:i>t.length-e&&We(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Xv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gn extends Xv{construct(t,e,i){return new gn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new gn(e)}static emptyPath(){return new gn([])}}const I1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Xv{construct(t,e,i){return new yi(t,e,i)}static isValidIdentifier(t){return I1e.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(e)}static emptyPath(){return new yi([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(gn.fromString(t))}static fromName(t){return new ke(gn.fromString(t).popFirst(5))}static empty(){return new ke(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===gn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new gn(t.slice()))}}class Im{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function MN(n){return n.fields.find(t=>2===t.kind)}function dh(n){return n.fields.filter(t=>2!==t.kind)}Im.UNKNOWN_ID=-1;class hh{constructor(t,e){this.fieldPath=t,this.kind=e}}class Dm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Dm(0,Ts.min())}}function M9(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=at.fromTimestamp(1e9===i?new Ai(e+1,0):new Ai(e,i));return new Ts(r,ke.empty(),t)}function N9(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ts(at.min(),ke.empty(),-1)}static max(){return new Ts(at.max(),ke.empty(),-1)}}function NN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ke.comparator(n.documentKey,t.documentKey),0!==e?e:Dt(n.largestBatchId,t.largestBatchId))}const P9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tu(n){return PN.apply(this,arguments)}function PN(){return PN=(0,ue.Z)(function*(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==P9)throw n;xe("LocalStore","Unexpectedly lost primary lease")}),PN.apply(this,arguments)}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.reject(e)}static resolve(t){return new Z((e,i)=>{e(t)})}static reject(t){return new Z((e,i)=>{i(t)})}static waitFor(t){return new Z((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>i(c))}),s=!0,o===r&&e()})}static or(t){let e=Z.resolve(!1);for(const i of t)e=e.next(r=>r?Z.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Z((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new Z((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class dx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Jv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=ON(i.target.error);this.V.reject(new Jv(t,r))}}static open(t,e,i,r){try{return new dx(e,t.transaction(r,i))}catch(o){throw new Jv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(xe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new R1e(e)}}class Ta{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Ta.S((0,D.z$)())&&Qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return xe("SimpleDb","Removing database:",t),fh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,D.hl)())return!1;if(Ta.C())return!0;const t=(0,D.z$)(),e=Ta.S(t),i=0<e&&e<10,r=Ta.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,ue.Z)(function*(){return e.db||(xe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Jv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new _e(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Jv(t,a))},o.onupgradeneeded=s=>{xe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{xe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ue.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const c=dx.open(o.db,t,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),Z.reject(u))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(xe("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A1e{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return fh(this.k.delete())}}class Jv extends _e{constructor(t,e){super(te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function xu(n){return"IndexedDbTransactionError"===n.name}class R1e{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(xe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),fh(i)}add(t){return xe("SimpleDb","ADD",this.store.name,t,t),fh(this.store.add(t))}get(t){return fh(this.store.get(t)).next(e=>(void 0===e&&(e=null),xe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return xe("SimpleDb","DELETE",this.store.name,t),fh(this.store.delete(t))}count(){return xe("SimpleDb","COUNT",this.store.name),fh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Z((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Z((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(t,e){xe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Z((i,r)=>{e.onerror=o=>{const s=ON(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(t,e){const i=[];return new Z((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new A1e(a),l=e(a.primaryKey,a.value,c);if(l instanceof Z){const u=l.catch(f=>(c.done(),Z.reject(f)));i.push(u)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>Z.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function fh(n){return new Z((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ON(i.target.error);e(r)}})}let F9=!1;function ON(n){const t=Ta.S((0,D.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F9||(F9=!0,setTimeout(()=>{throw i},0)),i}}return n}class k1e{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;xe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ue.Z)(function*(){e.task=null;try{xe("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){xu(i)?xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tu(i)}yield e.ee(6e4)}))}}class M1e{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,ue.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,o=!0;return Z.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return xe("IndexBackiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(xe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=N9(o);NN(s,i)>0&&(i=s)}),new Ts(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let xs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function eb(n){return null==n}function tb(n){return 0===n&&1/n==-1/0}function L9(n){return"number"==typeof n&&Number.isInteger(n)&&!tb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ho(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=V9(t)),t=N1e(n.get(e),t);return V9(t)}function N1e(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function V9(n){return n+"\x01\x01"}function cc(n){const t=n.length;if(ot(t>=2),2===t)return ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&We(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:We()}o=s+2}return new gn(i)}const B9=["userId","batchId"];function hx(n,t){return[n,ho(t)]}function U9(n,t,e){return[n,ho(t),e]}const P1e={},O1e=["prefixPath","collectionGroup","readTime","documentId"],F1e=["prefixPath","collectionGroup","documentId"],L1e=["collectionGroup","readTime","prefixPath","documentId"],V1e=["canonicalId","targetId"],B1e=["targetId","path"],U1e=["path","targetId"],j1e=["collectionId","parent"],H1e=["indexId","uid"],z1e=["uid","sequenceNumber"],$1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W1e=["indexId","uid","orderedDocumentKey"],G1e=["userId","collectionPath","documentId"],q1e=["userId","collectionPath","largestBatchId"],K1e=["userId","collectionGroup","largestBatchId"],j9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z1e=[...j9,"documentOverlays"],H9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],z9=H9,Y1e=[...z9,"indexConfiguration","indexState","indexEntries"];class FN extends O9{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Lr(n,t){const e=Re(n);return Ta.M(e.ae,t)}function $9(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Iu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function W9(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class li{constructor(t,e){this.comparator=t,this.root=e||Yr.EMPTY}insert(t,e){return new li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(t){return new li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fx(this.root,t,this.comparator,!1)}getReverseIterator(){return new fx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fx(this.root,t,this.comparator,!0)}}class fx{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Yr.RED,this.left=r??Yr.EMPTY,this.right=o??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Yr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const t=this.left.check();if(t!==this.right.check())throw We();return t+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Yr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(t){this.comparator=t,this.data=new li(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new G9(this.data.getIterator())}getIteratorFrom(t){return new G9(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $n)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $n(this.comparator);return e.data=t,e}}class G9{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sm(n){return n.hasNext()?n.getNext():void 0}class is{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new is([])}unionWith(t){let e=new $n(yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new is(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class q9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q9("Invalid base64 string: "+o):o}}(t);return new vr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const X1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Du(n){if(ot(!!n),"string"==typeof n){let t=0;const e=X1e.exec(n);if(ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ol(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function px(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function mx(n){const t=n.mapValue.fields.__previous_value__;return px(t)?mx(t):t}function nb(n){const t=Du(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class J1e{constructor(t,e,i,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Su{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Su&&t.projectId===this.projectId&&t.database===this.database}}const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gx={nullValue:"NULL_VALUE"};function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?px(n)?4:Q9(n)?9007199254740991:10:We()}function lc(n,t){if(n===t)return!0;const e=Ru(n);if(e!==Ru(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nb(n).isEqual(nb(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Du(r.timestampValue),a=Du(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,ol(n.bytesValue).isEqual(ol(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Hi(r.geoPointValue.latitude)===Hi(o.geoPointValue.latitude)&&Hi(r.geoPointValue.longitude)===Hi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Hi(r.integerValue)===Hi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Hi(r.doubleValue),a=Hi(o.doubleValue);return s===a?tb(s)===tb(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return xm(n.arrayValue.values||[],t.arrayValue.values||[],lc);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if($9(s)!==$9(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!lc(s[c],a[c])))return!1;return!0}(n,t);default:return We()}var o}function ib(n,t){return void 0!==(n.values||[]).find(e=>lc(e,t))}function ku(n,t){if(n===t)return 0;const e=Ru(n),i=Ru(t);if(e!==i)return Dt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Hi(o.integerValue||o.doubleValue),c=Hi(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return K9(n.timestampValue,t.timestampValue);case 4:return K9(nb(n),nb(t));case 5:return Dt(n.stringValue,t.stringValue);case 6:return function(o,s){const a=ol(o),c=ol(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Dt(a[l],c[l]);if(0!==u)return u}return Dt(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Dt(Hi(o.latitude),Hi(s.latitude));return 0!==a?a:Dt(Hi(o.longitude),Hi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ku(a[l],c[l]);if(u)return u}return Dt(a.length,c.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Au.mapValue&&s===Au.mapValue)return 0;if(o===Au.mapValue)return 1;if(s===Au.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const m=Dt(c[f],u[f]);if(0!==m)return m;const _=ku(a[c[f]],l[u[f]]);if(0!==_)return _}return Dt(c.length,u.length)}(n.mapValue,t.mapValue);default:throw We()}}function K9(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Dt(n,t);const e=Du(n),i=Du(t),r=Dt(e.seconds,i.seconds);return 0!==r?r:Dt(e.nanos,i.nanos)}function Am(n){return LN(n)}function LN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Du(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ol(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=LN(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${LN(e.fields[s])}`;return r+"}"}(n.mapValue):We()}function ph(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function VN(n){return!!n&&"integerValue"in n}function rb(n){return!!n&&"arrayValue"in n}function Z9(n){return!!n&&"nullValue"in n}function Y9(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yx(n){return!!n&&"mapValue"in n}function ob(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Iu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ob(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ob(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Q9(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eDe(n){return"nullValue"in n?gx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ph(Su.empty(),ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:We()}function tDe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ph(Su.empty(),ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Au:We()}function X9(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function J9(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Qr{constructor(t){this.value=t}static empty(){return new Qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ob(e)}setAll(t){let e=yi.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=ob(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());yx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Iu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Qr(ob(this.value))}}function eq(n){const t=[];return Iu(n.fields,(e,i)=>{const r=new yi([e]);if(yx(i)){const o=eq(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new is(t)}class vi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new vi(t,0,at.min(),at.min(),at.min(),Qr.empty(),0)}static newFoundDocument(t,e,i,r){return new vi(t,1,e,at.min(),i,r,0)}static newNoDocument(t,e){return new vi(t,2,e,at.min(),at.min(),Qr.empty(),0)}static newUnknownDocument(t,e){return new vi(t,3,e,at.min(),at.min(),Qr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(at.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(t,e){this.position=t,this.inclusive=e}}function tq(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ke.comparator(ke.fromName(s.referenceValue),e.key):ku(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function nq(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!lc(n.position[e],t.position[e]))return!1;return!0}class sb{constructor(t,e="asc"){this.field=t,this.dir=e}}function nDe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class iq{}class un extends iq{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new iDe(t,e,i):"array-contains"===e?new sDe(t,i):"in"===e?new lq(t,i):"not-in"===e?new aDe(t,i):"array-contains-any"===e?new cDe(t,i):new un(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new rDe(t,i):new oDe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ku(e,this.value)):null!==e&&Ru(this.value)===Ru(e)&&this.matchesComparison(ku(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends iq{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Vn(t,e)}matches(t){return Rm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Rm(n){return"and"===n.op}function BN(n){return"or"===n.op}function UN(n){return rq(n)&&Rm(n)}function rq(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function jN(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Am(n.value);if(UN(n))return n.filters.map(t=>jN(t)).join(",");{const t=n.filters.map(e=>jN(e)).join(",");return`${n.op}(${t})`}}function oq(n,t){return n instanceof un?(i=n,(r=t)instanceof un&&i.op===r.op&&i.field.isEqual(r.field)&&lc(i.value,r.value)):n instanceof Vn?function(i,r){return r instanceof Vn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&oq(s,r.filters[a]),!0)}(n,t):void We();var i,r}function sq(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function aq(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${Am(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(aq).join(" ,")+"}"}(n):"Filter";var e}class iDe extends un{constructor(t,e,i){super(t,e,i),this.key=ke.fromName(i.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class rDe extends un{constructor(t,e){super(t,"in",e),this.keys=cq(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class oDe extends un{constructor(t,e){super(t,"not-in",e),this.keys=cq(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cq(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ke.fromName(i.referenceValue))}class sDe extends un{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return rb(e)&&ib(e.arrayValue,this.value)}}class lq extends un{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ib(this.value.arrayValue,e)}}class aDe extends un{constructor(t,e){super(t,"not-in",e)}matches(t){if(ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ib(this.value.arrayValue,e)}}class cDe extends un{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!rb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ib(this.value.arrayValue,i))}}class lDe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function HN(n,t=null,e=[],i=[],r=null,o=null,s=null){return new lDe(n,t,e,i,r,o,s)}function mh(n){const t=Re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>jN(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),eb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Am(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Am(i)).join(",")),t.ce=e}return t.ce}function ab(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!nDe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!oq(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nq(n.startAt,t.startAt)&&nq(n.endAt,t.endAt)}function vx(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bx(n,t){return n.filters.filter(e=>e instanceof un&&e.field.isEqual(t))}function uq(n,t,e){let i=gx,r=!0;for(const o of bx(n,t)){let s=gx,a=!0;switch(o.op){case"<":case"<=":s=eDe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=gx}X9({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];X9({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function dq(n,t,e){let i=Au,r=!0;for(const o of bx(n,t)){let s=Au,a=!0;switch(o.op){case">=":case">":s=tDe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Au}J9({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];J9({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class sl{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function hq(n,t,e,i,r,o,s,a){return new sl(n,t,e,i,r,o,s,a)}function km(n){return new sl(n)}function fq(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zN(n){return null!==n.collectionGroup}function Mm(n){const t=Re(n);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $n(yi.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new sb(o,i))}),e.has(yi.keyField().canonicalString())||t.le.push(new sb(yi.keyField(),i))}return t.le}function Lo(n){const t=Re(n);return t.he||(t.he=function pq(n,t){if("F"===n.limitType)return HN(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new sb(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Mu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mu(n.startAt.position,n.startAt.inclusive):null;return HN(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Mm(n))),t.he}function $N(n,t){const e=n.filters.concat([t]);return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wx(n,t,e){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cb(n,t){return ab(Lo(n),Lo(t))&&n.limitType===t.limitType}function mq(n){return`${mh(Lo(n))}|lt:${n.limitType}`}function Nm(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>aq(r)).join(", ")}]`),eb(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Am(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Am(r)).join(",")),`Target(${i})`}(Lo(n))}; limitType=${n.limitType})`}function lb(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ke.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Mm(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,c){const l=tq(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Mm(i),r)||i.endAt&&!function(s,a,c){const l=tq(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Mm(i),r)));var i,r}function gq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _q(n){return(t,e)=>{let i=!1;for(const r of Mm(n)){const o=uDe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function uDe(n,t,e){const i=n.field.isKeyField()?ke.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?ku(c,l):We()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We()}}class al{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Iu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return W9(this.inner)}size(){return this.innerSize}}const dDe=new li(ke.comparator);function rs(){return dDe}const yq=new li(ke.comparator);function ub(...n){let t=yq;for(const e of n)t=t.insert(e.key,e);return t}function vq(n){let t=yq;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function uc(){return db()}function bq(){return db()}function db(){return new al(n=>n.toString(),(n,t)=>n.isEqual(t))}const hDe=new li(ke.comparator),fDe=new $n(ke.comparator);function Vt(...n){let t=fDe;for(const e of n)t=t.add(e);return t}const pDe=new $n(Dt);function WN(){return pDe}function wq(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tb(t)?"-0":t}}function Eq(n){return{integerValue:""+n}}function Cq(n,t){return L9(t)?Eq(t):wq(n,t)}class Ex{constructor(){this._=void 0}}function mDe(n,t,e){return n instanceof Pm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&px(o)&&(o=mx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof gh?xq(n,t):n instanceof _h?Iq(n,t):function(r,o){const s=Tq(r,o),a=Dq(s)+Dq(r.Ie);return VN(s)&&VN(r.Ie)?Eq(a):wq(r.serializer,a)}(n,t)}function gDe(n,t,e){return n instanceof gh?xq(n,t):n instanceof _h?Iq(n,t):e}function Tq(n,t){return n instanceof Om?VN(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Pm extends Ex{}class gh extends Ex{constructor(t){super(),this.elements=t}}function xq(n,t){const e=Sq(t);for(const i of n.elements)e.some(r=>lc(r,i))||e.push(i);return{arrayValue:{values:e}}}class _h extends Ex{constructor(t){super(),this.elements=t}}function Iq(n,t){let e=Sq(t);for(const i of n.elements)e=e.filter(r=>!lc(r,i));return{arrayValue:{values:e}}}class Om extends Ex{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Dq(n){return Hi(n.integerValue||n.doubleValue)}function Sq(n){return rb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hb{constructor(t,e){this.field=t,this.transform=e}}class yDe{constructor(t,e){this.version=t,this.transformResults=e}}class Ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cx(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Tx{}function Aq(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Lm(n.key,Ri.none()):new Fm(n.key,n.data,Ri.none());{const e=n.data,i=Qr.empty();let r=new $n(yi.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new cl(n.key,i,new is(r.toArray()),Ri.none())}}function vDe(n,t,e){n instanceof Fm?function(r,o,s){const a=r.value.clone(),c=Mq(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof cl?function(r,o,s){if(!Cx(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Mq(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(kq(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function fb(n,t,e,i){return n instanceof Fm?function(o,s,a,c){if(!Cx(o.precondition,s))return a;const l=o.value.clone(),u=Nq(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof cl?function(o,s,a,c){if(!Cx(o.precondition,s))return a;const l=Nq(o.fieldTransforms,c,s),u=s.data;return u.setAll(kq(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,Cx(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function bDe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Tq(i.transform,r||null);null!=o&&(null===e&&(e=Qr.empty()),e.set(i.field,o))}return e||null}function Rq(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&xm(i,r,(o,s)=>function _De(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof gh&&r instanceof gh||i instanceof _h&&r instanceof _h?xm(i.elements,r.elements,lc):i instanceof Om&&r instanceof Om?lc(i.Ie,r.Ie):i instanceof Pm&&r instanceof Pm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Fm extends Tx{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cl extends Tx{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kq(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Mq(n,t,e){const i=new Map;ot(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,gDe(s,a,e[r]))}return i}function Nq(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,mDe(o,s,t))}return i}class Lm extends Tx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GN extends Tx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&vDe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bq();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=Aq(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(at.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&xm(this.mutations,t.mutations,(e,i)=>Rq(e,i))&&xm(this.baseMutations,t.baseMutations,(e,i)=>Rq(e,i))}}class KN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ot(t.mutations.length===i.length);let r=hDe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new KN(t,e,i,r)}}class ZN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class EDe{constructor(t,e){this.count=t,this.unchangedNames=e}}var cr,_n;function Pq(n){switch(n){default:return We();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Oq(n){if(void 0===n)return Qi("GRPC error has no .code"),te.UNKNOWN;switch(n){case cr.OK:return te.OK;case cr.CANCELLED:return te.CANCELLED;case cr.UNKNOWN:return te.UNKNOWN;case cr.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case cr.INTERNAL:return te.INTERNAL;case cr.UNAVAILABLE:return te.UNAVAILABLE;case cr.UNAUTHENTICATED:return te.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case cr.NOT_FOUND:return te.NOT_FOUND;case cr.ALREADY_EXISTS:return te.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return te.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case cr.ABORTED:return te.ABORTED;case cr.OUT_OF_RANGE:return te.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return te.UNIMPLEMENTED;case cr.DATA_LOSS:return te.DATA_LOSS;default:return We()}}(_n=cr||(cr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";function Fq(){return new TextEncoder}const CDe=new Em([4294967295,4294967295],0);function Lq(n){const t=Fq().encode(n),e=new g1e;return e.update(t),new Uint8Array(e.digest())}function Vq(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Em([e,i],0),new Em([r,o],0)]}class YN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pb(`Invalid padding: ${e}`);if(i<0)throw new pb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new pb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new pb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Em.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Em.fromNumber(i)));return 1===r.compare(CDe)&&(r=new Em([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=Lq(t),[i,r]=Vq(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new YN(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=Lq(t),[i,r]=Vq(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,gb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new mb(at.min(),r,new li(Dt),rs(),Vt())}}class gb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new gb(i,e,Vt(),Vt(),Vt())}}class Ix{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class Bq{constructor(t,e){this.targetId=t,this.fe=e}}class Uq{constructor(t,e,i=vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class jq{constructor(){this.ge=0,this.pe=zq(),this.ye=vr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Vt(),e=Vt(),i=Vt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:We()}}),new gb(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=zq()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class TDe{constructor(t){this.Le=t,this.ke=new Map,this.qe=rs(),this.Qe=Hq(),this.Ke=new li(Dt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:We()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(vx(o))if(0===i){const s=new ke(o.path);this.We(e,s,vi.newNoDocument(s,at.min()))}else ot(1===i);else{const s=this.Ze(e);if(s!==i){const a=this.Xe(t),c=a?this.et(a,t,s):1;0!==c&&(this.He(e),this.Ke=this.Ke.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=ol(i).toUint8Array()}catch(c){if(c instanceof q9)return ns("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new YN(s,r,o)}catch(c){return ns(c instanceof pb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&vx(a.target)){const c=new ke(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,vi.newNoDocument(c,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let i=Vt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new mb(t,e,this.Ke,this.qe,i);return this.qe=rs(),this.Qe=Hq(),this.Ke=new li(Dt),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new jq,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new $n(Dt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||xe("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new jq),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Hq(){return new li(ke.comparator)}function zq(){return new li(ke.comparator)}const xDe={asc:"ASCENDING",desc:"DESCENDING"},IDe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DDe={and:"AND",or:"OR"};class SDe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function QN(n,t){return n.useProto3Json||eb(t)?t:{value:t}}function Vm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $q(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ADe(n,t){return Vm(n,t.toTimestamp())}function Xi(n){return ot(!!n),at.fromTimestamp(function(e){const i=Du(e);return new Ai(i.seconds,i.nanos)}(n))}function XN(n,t){return(i=n,new gn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function Wq(n){const t=gn.fromString(n);return ot(e7(t)),t}function _b(n,t){return XN(n.databaseId,t.path)}function dc(n,t){const e=Wq(t);if(e.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(qq(e))}function JN(n,t){return XN(n.databaseId,t)}function Gq(n){const t=Wq(n);return 4===t.length?gn.emptyPath():qq(t)}function yb(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qq(n){return ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Kq(n,t,e){return{name:_b(n,t),fields:e.value.mapValue.fields}}function Zq(n,t,e){const i=dc(n,t.name),r=Xi(t.updateTime),o=t.createTime?Xi(t.createTime):at.min(),s=new Qr({mapValue:{fields:t.fields}}),a=vi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function vb(n,t){let e;if(t instanceof Fm)e={update:Kq(n,t.key,t.value)};else if(t instanceof Lm)e={delete:_b(n,t.key)};else if(t instanceof cl)e={update:Kq(n,t.key,t.data),updateMask:LDe(t.fieldMask)};else{if(!(t instanceof GN))return We();e={verify:_b(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Pm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _h)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Om)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw We()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:ADe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),e;var o}function eP(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Ri.updateTime(Xi(o.updateTime)):void 0!==o.exists?Ri.exists(o.exists):Ri.none():Ri.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(ot("REQUEST_TIME"===a.setToServerValue),c=new Pm):"appendMissingElements"in a?c=new gh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new _h(a.removeAllFromArray.values||[]):"increment"in a?c=new Om(s,a.increment):We();const l=yi.fromServerFormat(a.fieldPath);return new hb(l,c)}(n,r)):[];var o;if(t.update){const r=dc(n,t.update.name),o=new Qr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new is((t.updateMask.fieldPaths||[]).map(u=>yi.fromServerFormat(u)));return new cl(r,o,s,e,i)}return new Fm(r,o,e,i)}if(t.delete){const r=dc(n,t.delete);return new Lm(r,e)}if(t.verify){const r=dc(n,t.verify);return new GN(r,e)}return We()}function Yq(n,t){return{documents:[JN(n,t.path)]}}function tP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=JN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return Jq(Vn.create(c,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Nu((f=l).field),direction:PDe(f.dir)};var f})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=QN(n,t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),e;var c}function Qq(n){let t=Gq(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ot(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(f){const m=Xq(f);return m instanceof Vn&&UN(m)?m.getFilters():[m]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(m=>{return new sb(Bm((y=m).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;e.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,eb(m)?null:m}(e.limit));let c=null;var f;e.startAt&&(c=new Mu((f=e.startAt).values||[],!!f.before));let l=null;return e.endAt&&(l=function(f){return new Mu(f.values||[],!f.before)}(e.endAt)),hq(t,r,s,o,a,"F",c,l)}function Xq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Bm(e.unaryFilter.field);return un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bm(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bm(e.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bm(e.unaryFilter.field);return un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(n):void 0!==n.fieldFilter?un.create(Bm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(i=>Xq(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return We()}}(e.compositeFilter.op))}(n):We();var e}function PDe(n){return xDe[n]}function ODe(n){return IDe[n]}function FDe(n){return DDe[n]}function Nu(n){return{fieldPath:n.canonicalString()}}function Bm(n){return yi.fromServerFormat(n.fieldPath)}function Jq(n){return n instanceof un?function(e){if("=="===e.op){if(Y9(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NAN"}};if(Z9(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Y9(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NAN"}};if(Z9(e.value))return{unaryFilter:{field:Nu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(e.field),op:ODe(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const i=e.getFilters().map(r=>Jq(r));return 1===i.length?i[0]:{compositeFilter:{op:FDe(e.op),filters:i}}}(n):We()}function LDe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function e7(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ll{constructor(t,e,i,r,o=at.min(),s=at.min(),a=vr.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new ll(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class t7{constructor(t){this.ut=t}}function n7(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Dx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:_b(o=n.ut,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Vm(o,s.version.toTimestamp()),createTime:Vm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:yh(t.version)};else{if(!t.isUnknownDocument())return We();i.unknownDocument={path:e.path.toArray(),version:yh(t.version)}}var o,s;return i}function Dx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function yh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function vh(n){const t=new Ai(n.seconds,n.nanoseconds);return at.fromTimestamp(t)}function bh(n,t){const e=(t.baseMutations||[]).map(o=>eP(n.ut,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>eP(n.ut,o)),r=Ai.fromMillis(t.localWriteTimeMs);return new qN(t.batchId,r,e,i)}function bb(n){const t=vh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?vh(n.lastLimboFreeSnapshotVersion):at.min();let i;return i=void 0!==n.query.documents?(ot(1===(o=n.query).documents.length),Lo(km(Gq(o.documents[0])))):function(o){return Lo(Qq(o))}(n.query),new ll(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,vr.fromBase64String(n.resumeToken));var o}function i7(n,t){const e=yh(t.snapshotVersion),i=yh(t.lastLimboFreeSnapshotVersion);let r;r=vx(t.target)?Yq(n.ut,t.target):tP(n.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mh(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nP(n){const t=Qq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wx(t,t.limit,"L"):t}function iP(n,t){return new ZN(t.largestBatchId,eP(n.ut,t.overlayMutation))}function r7(n,t){const e=t.path.lastSegment();return[n,ho(t.path.popLast()),e]}function o7(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:yh(i.readTime),documentKey:ho(i.documentKey.path),largestBatchId:i.largestBatchId}}class BDe{getBundleMetadata(t,e){return s7(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:vh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return s7(t).put({bundleId:(r=e).id,createTime:yh(Xi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return a7(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:nP(o.bundledQuery),readTime:vh(o.readTime)};var o})}saveNamedQuery(t,e){return a7(t).put({name:(r=e).name,readTime:yh(Xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function s7(n){return Lr(n,"bundles")}function a7(n){return Lr(n,"namedQueries")}class Sx{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new Sx(t,e.uid||"")}getOverlay(t,e){return wb(t).get(r7(this.userId,e)).next(i=>i?iP(this.serializer,i):null)}getOverlays(t,e){const i=uc();return Z.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new ZN(e,s);r.push(this.lt(t,a))}),Z.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(ho(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(wb(t).H("collectionPathOverlayIndex",a))}),Z.waitFor(o)}getOverlaysForCollection(t,e,i){const r=uc(),o=ho(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return wb(t).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=iP(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=uc();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return wb(t).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const f=iP(this.serializer,l);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}lt(t,e){return wb(t).put(function(r,o,s){const[a,c,l]=r7(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:vb(r.ut,s.mutation)}}(this.serializer,this.userId,e))}}function wb(n){return Lr(n,"documentOverlays")}class wh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Hi(t.integerValue));else if("doubleValue"in t){const i=Hi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),tb(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(ol(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?Q9(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):We()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),ke.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function UDe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function c7(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=UDe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}wh.St=new wh;class jDe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=c7(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=c7(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class HDe{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class zDe{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Eb{constructor(){this.Wt=new jDe,this.Gt=new HDe(this.Wt),this.zt=new zDe(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Eh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Eh(this.indexId,this.documentKey,this.arrayValue,i)}}function Pu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=l7(n.arrayValue,t.arrayValue),0!==e?e:(e=l7(n.directionalValue,t.directionalValue),0!==e?e:ke.comparator(n.documentKey,t.documentKey)))}function l7(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class u7{constructor(t){this.Jt=new $n((e,i)=>yi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(ot(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=MN(t);if(void 0!==e&&!this.tn(e))return!1;const i=dh(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let t=new $n(yi.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new hh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new hh(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new hh(i.field,"asc"===i.dir?0:1)));return new Im(Im.UNKNOWN_ID,this.collectionId,e,Dm.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function d7(n){var t,e;if(ot(n instanceof un||n instanceof Vn),n instanceof un){if(n instanceof lq){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>un.create(n.field,"==",o)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>d7(r));return Vn.create(i,n.op)}function $De(n){if(0===n.getFilters().length)return[];const t=sP(d7(n));return ot(h7(t)),rP(t)||oP(t)?[t]:t.getFilters()}function rP(n){return n instanceof un}function oP(n){return n instanceof Vn&&UN(n)}function h7(n){return rP(n)||oP(n)||function(e){if(e instanceof Vn&&BN(e)){for(const i of e.getFilters())if(!rP(i)&&!oP(i))return!1;return!0}return!1}(n)}function sP(n){if(ot(n instanceof un||n instanceof Vn),n instanceof un)return n;if(1===n.filters.length)return sP(n.filters[0]);const t=n.filters.map(i=>sP(i));let e=Vn.create(t,n.op);return e=Ax(e),h7(e)?e:(ot(e instanceof Vn),ot(Rm(e)),ot(e.filters.length>1),e.filters.reduce((i,r)=>aP(i,r)))}function aP(n,t){let e;return ot(n instanceof un||n instanceof Vn),ot(t instanceof un||t instanceof Vn),e=n instanceof un?t instanceof un?Vn.create([n,t],"and"):f7(n,t):t instanceof un?f7(t,n):function(r,o){if(ot(r.filters.length>0&&o.filters.length>0),Rm(r)&&Rm(o))return sq(r,o.getFilters());const s=BN(r)?r:o,a=BN(r)?o:r,c=s.filters.map(l=>aP(l,a));return Vn.create(c,"or")}(n,t),Ax(e)}function f7(n,t){if(Rm(t))return sq(t,n.getFilters());{const e=t.filters.map(i=>aP(n,i));return Vn.create(e,"or")}}function Ax(n){if(ot(n instanceof un||n instanceof Vn),n instanceof un)return n;const t=n.getFilters();if(1===t.length)return Ax(t[0]);if(rq(n))return n;const e=t.map(r=>Ax(r)),i=[];return e.forEach(r=>{r instanceof un?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class WDe{constructor(){this.on=new cP}addToCollectionParentIndex(t,e){return this.on.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(Ts.min())}updateCollectionGroup(t,e,i){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class cP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $n(gn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $n(gn.comparator)).toArray()}}const Rx=new Uint8Array(0);class GDe{constructor(t,e){this.user=t,this.databaseId=e,this._n=new cP,this.an=new al(i=>mh(i),(i,r)=>ab(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const o={collectionId:i,parent:ho(r)};return p7(t).put(o)}return Z.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[k9(e),""],!1,!0);return p7(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(cc(s.parent))}return i})}addFieldIndex(t,e){const i=Cb(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=jm(t);return o.next(a=>{s.put(o7(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Cb(t),r=jm(t),o=Um(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Cb(t),i=Um(t),r=jm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Z.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new u7(i).sn();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=Um(t);let r=!0;const o=new Map;return Z.forEach(this.un(e),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Vt();const a=[];return Z.forEach(o,(c,l)=>{var L;xe("IndexedDbIndexManager",`Using index ${L=c,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`} to execute ${mh(e)}`);const u=function(L,W){const le=MN(W);if(void 0===le)return null;for(const De of bx(L,le.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(l,c),f=function(L,W){const le=new Map;for(const De of dh(W))for(const Me of bx(L,De.fieldPath))switch(Me.op){case"==":case"in":le.set(De.fieldPath.canonicalString(),Me.value);break;case"not-in":case"!=":return le.set(De.fieldPath.canonicalString(),Me.value),Array.from(le.values())}return null}(l,c),m=function(L,W){const le=[];let De=!0;for(const Me of dh(W)){const nt=0===Me.kind?uq(L,Me.fieldPath,L.startAt):dq(L,Me.fieldPath,L.startAt);le.push(nt.value),De&&(De=nt.inclusive)}return new Mu(le,De)}(l,c),_=function(L,W){const le=[];let De=!0;for(const Me of dh(W)){const nt=0===Me.kind?dq(L,Me.fieldPath,L.endAt):uq(L,Me.fieldPath,L.endAt);le.push(nt.value),De&&(De=nt.inclusive)}return new Mu(le,De)}(l,c),y=this.ln(c,l,m),b=this.ln(c,l,_),E=this.hn(c,l,f),N=this.Pn(c.indexId,u,y,m.inclusive,b,_.inclusive,E);return Z.forEach(N,A=>i.j(A,e.limit).next(L=>{L.forEach(W=>{const le=ke.fromSegments(W.documentKey);s.has(le)||(s=s.add(le),a.push(le))})}))}).next(()=>a)}return Z.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:$De(Vn.create(t.filters,"and")).map(i=>HN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(i.length,o.length),l=c/(null!=e?e.length:1),u=[];for(let f=0;f<c;++f){const m=e?this.In(e[f/l]):Rx,_=this.Tn(t,m,i[f%l],r),y=this.En(t,m,o[f%l],s),b=a.map(E=>this.Tn(t,m,E,!0));u.push(...this.createRange(_,y,b))}return u}Tn(t,e,i,r){const o=new Eh(t,ke.empty(),e,i);return r?o:o.Ht()}En(t,e,i,r){const o=new Eh(t,ke.empty(),e,i);return r?o.Ht():o}cn(t,e){const i=new u7(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.un(e);return Z.forEach(r,o=>this.cn(t,o).next(s=>{s?0!==i&&s.fields.length<function(c){let l=new $n(yi.comparator),u=!1;for(const f of c.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?u=!0:l=l.add(m.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Eb;for(const r of dh(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);wh.St.ht(o,s)}return i.Ut()}In(t){const e=new Eb;return wh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Eb;return wh.St.ht(ph(this.databaseId,e),i.jt(function(o){const s=dh(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Eb);let o=0;for(const s of dh(t)){const a=i[o++];for(const c of r)if(this.Rn(e,s.fieldPath)&&rb(a))r=this.Vn(r,s,a);else{const l=c.jt(s.kind);wh.St.ht(a,l)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new Eb;c.seed(a.Ut()),wh.St.ht(s,c.jt(e.kind)),o.push(c)}return o}Rn(t,e){return!!t.filters.find(i=>i instanceof un&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Cb(t),r=jm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const s=[];return Z.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,f){const m=f?new Dm(f.sequenceNumber,new Ts(vh(f.readTime),new ke(cc(f.documentKey)),f.largestBatchId)):Dm.empty(),_=u.fields.map(([y,b])=>new hh(yi.fromServerFormat(y),b));return new Im(u.indexId,u.collectionGroup,_,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Dt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Cb(t),o=jm(t);return this.fn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>Z.forEach(a,c=>o.put(o7(c.indexId,this.user,s,i)))))}updateIndexEntries(t,e){const i=new Map;return Z.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?Z.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),Z.forEach(a,c=>this.gn(t,r,c).next(l=>{const u=this.pn(o,c);return l.isEqual(u)?Z.resolve():this.yn(t,o,c,l,u)}))))})}wn(t,e,i,r){return Um(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Um(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Um(t);let o=new $n(Pu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(s,a)=>{o=o.add(new Eh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,e){let i=new $n(Pu);const r=this.dn(e,t);if(null==r)return i;const o=MN(e);if(null!=o){const s=t.data.field(o.fieldPath);if(rb(s))for(const a of s.arrayValue.values||[])i=i.add(new Eh(e.indexId,t.key,this.In(a),r))}else i=i.add(new Eh(e.indexId,t.key,Rx,r));return i}yn(t,e,i,r,o){xe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,u,f,m){const _=c.getIterator(),y=l.getIterator();let b=Sm(_),E=Sm(y);for(;b||E;){let N=!1,A=!1;if(b&&E){const L=u(b,E);L<0?A=!0:L>0&&(N=!0)}else null!=b?A=!0:N=!0;N?(f(E),E=Sm(y)):A?(m(b),b=Sm(_)):(b=Sm(_),E=Sm(y))}}(r,o,Pu,a=>{s.push(this.wn(t,e,i,a))},a=>{s.push(this.Sn(t,e,i,a))}),Z.waitFor(s)}fn(t){let e=1;return jm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Pu(s,a)).filter((s,a,c)=>!a||0!==Pu(s,c[a-1]));const r=[];r.push(t);for(const s of i){const a=Pu(s,t),c=Pu(s,e);if(0===a)r[0]=t.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Rx,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Rx,[]]))}return o}bn(t,e){return Pu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(m7)}getMinOffset(t,e){return Z.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||We())).next(m7)}}function p7(n){return Lr(n,"collectionParents")}function Um(n){return Lr(n,"indexEntries")}function Cb(n){return Lr(n,"indexConfiguration")}function jm(n){return Lr(n,"indexState")}function m7(n){ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;NN(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ts(t.readTime,t.documentKey,e)}const g7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new fo(t,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _7(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(c.next(()=>{ot(1===a)}));const l=[];for(const u of e.mutations){const f=U9(t,u.key.path,e.batchId);o.push(r.delete(f)),l.push(u.key)}return Z.waitFor(o).next(()=>l)}function kx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw We();t=n.noDocument}return JSON.stringify(t).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class Mx{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){ot(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Mx(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ou(t).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Hm(t),s=Ou(t);return s.add({}).next(a=>{ot("number"==typeof a);const c=new qN(a,e,i,r),l=function(_,y,b){const E=b.baseMutations.map(A=>vb(_.ut,A)),N=b.mutations.map(A=>vb(_.ut,A));return{userId:y,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:N}}(this.serializer,this.userId,c),u=[];let f=new $n((m,_)=>Dt(m.canonicalString(),_.canonicalString()));for(const m of r){const _=U9(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(l)),u.push(o.put(_,P1e))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),Z.waitFor(u).next(()=>c)})}lookupMutationBatch(t,e){return Ou(t).get(e).next(i=>i?(ot(i.userId===this.userId),bh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Z.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ou(t).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ot(a.batchId>=i),o=bh(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ou(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ou(t).W("userMutationsIndex",e).next(i=>i.map(r=>bh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Hm(t).Y({range:r},(s,a,c)=>{const[l,u,f]=s,m=cc(u);if(l===this.userId&&e.path.isEqual(m))return Ou(t).get(f).next(_=>{if(!_)throw We();ot(_.userId===this.userId),o.push(bh(this.serializer,_))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);const r=[];return e.forEach(o=>{const s=hx(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Hm(t).Y({range:a},(l,u,f)=>{const[m,_,y]=l,b=cc(_);m===this.userId&&o.path.isEqual(b)?i=i.add(y):f.done()});r.push(c)}),Z.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=hx(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new $n(Dt);return Hm(t).Y({range:s},(c,l,u)=>{const[f,m,_]=c,y=cc(m);f===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(_)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Ou(t).get(o).next(s=>{if(null===s)throw We();ot(s.userId===this.userId),i.push(bh(this.serializer,s))}))}),Z.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return _7(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Z.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Z.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Hm(t).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=cc(o[1]);r.push(c)}else a.done()}).next(()=>{ot(0===r.length)})})}containsKey(t,e){return y7(t,this.userId,e)}Mn(t){return v7(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function y7(n,t,e){const i=hx(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Hm(n).Y({range:o,J:!0},(a,c,l)=>{const[u,f,m]=a;u===t&&f===r&&(s=!0),l.done()}).next(()=>s)}function Ou(n){return Lr(n,"mutations")}function Hm(n){return Lr(n,"documentMutations")}function v7(n){return Lr(n,"mutationQueues")}class Ch{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ch(0)}static Nn(){return new Ch(-1)}}class qDe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Ch(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>at.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(ot(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return zm(t).Y((s,a)=>{const c=bb(a);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>Z.waitFor(o)).next(()=>r)}forEachTarget(t,e){return zm(t).Y((i,r)=>{const o=bb(r);e(o)})}Bn(t){return b7(t).get("targetGlobalKey").next(e=>(ot(null!==e),e))}Ln(t,e){return b7(t).put("targetGlobalKey",e)}kn(t,e){return zm(t).put(i7(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=mh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return zm(t).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=bb(a);ab(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Fu(t);return e.forEach(s=>{const a=ho(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),Z.waitFor(r)}removeMatchingKeys(t,e,i){const r=Fu(t);return Z.forEach(e,o=>{const s=ho(o.path);return Z.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Fu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fu(t);let o=Vt();return r.Y({range:i,J:!0},(s,a,c)=>{const l=cc(s[1]),u=new ke(l);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=ho(e.path),r=IDBKeyRange.bound([i],[k9(i)],!1,!0);let o=0;return Fu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(t,e){return zm(t).get(e).next(i=>i?bb(i):null)}}function zm(n){return Lr(n,"targets")}function b7(n){return Lr(n,"targetGlobal")}function Fu(n){return Lr(n,"targetDocuments")}function w7([n,t],[e,i]){const r=Dt(n,e);return 0===r?Dt(t,i):r}class KDe{constructor(t){this.Qn=t,this.buffer=new $n(w7),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();w7(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class E7{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ue.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){xu(i)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tu(i)}yield e.Gn(3e5)}))}}class ZDe{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Z.resolve(xs._e);const i=new KDe(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(g7)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g7):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(l=Date.now(),Tm()<=ys.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class YDe{constructor(t,e){this.db=t,this.garbageCollector=function C7(n,t){return new ZDe(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return Nx(t,i)}removeReference(t,e,i){return Nx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Nx(t,e)}Xn(t,e){return function(r,o){let s=!1;return v7(r).Z(a=>y7(r,a,o).next(c=>(c&&(s=!0),Z.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(t,(s,a)=>{if(a<=e){const c=this.Xn(t,s).next(l=>{if(!l)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,at.min()),Fu(t).delete([0,ho(s.path)])))});r.push(c)}}).next(()=>Z.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Nx(t,e)}Zn(t,e){const i=Fu(t);let r,o=xs._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==xs._e&&e(new ke(cc(r)),o),o=l,r=c):o=xs._e}).next(()=>{o!==xs._e&&e(new ke(cc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Nx(n,t){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ho(t.path),sequenceNumber:r}));var r}class T7{constructor(){this.changes=new al(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class QDe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Th(t).put(i)}removeEntry(t,e,i){return Th(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Dx(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=vi.newInvalidDocument(e);return Th(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(e))},(r,o)=>{i=this.tr(e,o)}).next(()=>i)}nr(t,e){let i={size:0,document:vi.newInvalidDocument(e)};return Th(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Tb(e))},(r,o)=>{i={document:this.tr(e,o),size:kx(o)}}).next(()=>i)}getEntries(t,e){let i=rs();return this.rr(t,e,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(t,e){let i=rs(),r=new li(ke.comparator);return this.rr(t,e,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,kx(s))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Z.resolve();let r=new $n(S7);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(Tb(r.first()),Tb(r.last())),s=r.getIterator();let a=s.getNext();return Th(t).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{const f=ke.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&S7(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.U(Tb(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),Dx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Th(t).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=rs();for(const f of l){const m=this.tr(ke.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(lb(e,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=rs();const s=D7(e,i),a=D7(e,Ts.max());return Th(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const f=this.tr(ke.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new XDe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return I7(t).get("remoteDocumentGlobalKey").next(e=>(ot(!!e),e))}er(t,e){return I7(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function VDe(n,t){let e;if(t.document)e=Zq(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ke.fromSegments(t.noDocument.path),r=vh(t.noDocument.readTime);e=vi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return We();{const i=ke.fromSegments(t.unknownDocument.path),r=vh(t.unknownDocument.version);e=vi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new Ai(r[0],r[1]);return at.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(at.min()))return i}return vi.newInvalidDocument(t)}}function x7(n){return new QDe(n)}class XDe extends T7{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new al(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new $n((o,s)=>Dt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(e.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=n7(this._r.serializer,s);r=r.add(o.path.popLast());const l=kx(c);i+=l-a.size,e.push(this._r.addEntry(t,o,c))}else if(i-=a.size,this.trackRemovals){const c=n7(this._r.serializer,s.convertToNoDocument(at.min()));e.push(this._r.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),e.push(this._r.updateMetadata(t,i)),Z.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function I7(n){return Lr(n,"remoteDocumentGlobal")}function Th(n){return Lr(n,"remoteDocumentsV14")}function Tb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function D7(n,t){const e=t.documentKey.path.toArray();return[n,Dx(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function S7(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Dt(e[o],i[o]),r)return r;return r=Dt(e.length,i.length),r||(r=Dt(e[e.length-2],i[i.length-2]),r||Dt(e[e.length-1],i[i.length-1]))}class JDe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class A7{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&fb(i.mutation,r,is.empty(),Ai.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=uc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=ub();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=uc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=rs();const s=db(),a=db();return e.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof cl)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),fb(u.mutation,l,u.mutation.getFieldMask(),Ai.now())):s.set(l.key,is.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),e.forEach((l,u)=>{var f;return a.set(l,new JDe(u,null!==(f=s.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=db();let r=new li((s,a)=>s-a),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let u=i.get(c)||is.empty();u=a.applyToLocalView(l,u),i.set(c,u);const f=(r.get(a.batchId)||Vt()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=bq();u.forEach(m=>{if(!o.has(m)){const _=Aq(e.get(m),i.get(m));null!==_&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Z.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ke.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Z.resolve(uc());let a=-1,c=o;return s.next(l=>Z.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(t,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,Vt())).next(u=>({batchId:a,changes:vq(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next(i=>{let r=ub();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=ub();return this.indexManager.getCollectionParents(t,o).next(a=>Z.forEach(a,c=>{const l=(f=e,m=c.child(o),new sl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(t,l,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,vi.newInvalidDocument(u)))});let a=ub();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&fb(u.mutation,l,is.empty(),Ai.now()),lb(e,l)&&(a=a.insert(c,l))}),a})}}class eSe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Z.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Xi(r.createTime)}),Z.resolve();var r}getNamedQuery(t,e){return Z.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:nP(r.bundledQuery),readTime:Xi(r.readTime)}),Z.resolve();var r}}class tSe{constructor(){this.overlays=new li(ke.comparator),this.lr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=uc();return Z.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.lt(t,e,o)}),Z.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),Z.resolve()}getOverlaysForCollection(t,e,i){const r=uc(),o=e.length+1,s=new ke(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return Z.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new li((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=uc(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=uc(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return Z.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ZN(e,i));let o=this.lr.get(e);void 0===o&&(o=Vt(),this.lr.set(e,o)),this.lr.set(e,o.add(i.key))}}class lP{constructor(){this.hr=new $n(Vr.Pr),this.Ir=new $n(Vr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Vr(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Vr(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new ke(new gn([])),i=new Vr(e,t),r=new Vr(e,t+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new ke(new gn([])),i=new Vr(e,t),r=new Vr(e,t+1);let o=Vt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Vr(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Vr{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return ke.comparator(t.key,e.key)||Dt(t.gr,e.gr)}static Tr(t,e){return Dt(t.gr,e.gr)||ke.comparator(t.key,e.key)}}class nSe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new $n(Vr.Pr)}checkEmpty(t){return Z.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.pr;this.pr++;const s=new qN(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Vr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(t,e){return Z.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),o=r<0?0:r;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vr(e,0),r=new Vr(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);return e.forEach(r=>{const o=new Vr(r,0),s=new Vr(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),Z.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ke.isDocumentKey(o)||(o=o.child(""));const s=new Vr(new ke(o),0);let a=new $n(Dt);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),Z.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ot(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Z.forEach(e.mutations,r=>{const o=new Vr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Vr(e,0),r=this.yr.firstAfterOrEqual(i);return Z.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Z.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class iSe{constructor(t){this.Cr=t,this.docs=new li(ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Z.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(e))}getEntries(t,e){let i=rs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():vi.newInvalidDocument(r))}),Z.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=rs();const s=e.path,a=new ke(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||NN(N9(u),i)<=0||(r.has(u.key)||lb(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(t,e,i,r){We()}vr(t,e){return Z.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new rSe(this)}getSize(t){return Z.resolve(this.size)}}class rSe extends T7{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Z.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class oSe{constructor(t){this.persistence=t,this.Fr=new al(e=>mh(e),ab),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Mr=0,this.Or=new lP,this.targetCount=0,this.Nr=Ch.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Z.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Ch(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.kn(e),Z.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Z.waitFor(o).next(()=>r)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Z.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Z.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Z.resolve(i)}containsKey(t,e){return Z.resolve(this.Or.containsKey(e))}}class uP{constructor(t,e){this.Br={},this.overlays={},this.Lr=new xs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new oSe(this),this.indexManager=new WDe,this.remoteDocumentCache=new iSe(i=>this.referenceDelegate.Qr(i)),this.serializer=new t7(e),this.Kr=new eSe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tSe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new nSe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){xe("MemoryPersistence","Starting transaction:",t);const r=new sSe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,e){return Z.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class sSe extends O9{constructor(t){super(),this.currentSequenceNumber=t}}class Px{constructor(t){this.persistence=t,this.Gr=new lP,this.zr=null}static jr(t){return new Px(t)}get Hr(){if(this.zr)return this.zr;throw We()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Z.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Hr,i=>{const r=ke.fromPath(i);return this.Jr(t,r).next(o=>{o||e.removeEntry(r,at.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Z.or([()=>Z.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class aSe{constructor(t){this.serializer=t}N(t,e,i,r){const o=new dx("createOrUpgrade",e);var c;i<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B9,{unique:!0}),c.createObjectStore("documentMutations"),R7(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=Z.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),R7(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:at.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B9,{unique:!0});const f=l.store("mutations"),m=u.map(_=>f.put(_));return Z.waitFor(m)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:G1e});l.createIndex("collectionPathOverlayIndex",q1e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",K1e,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:O1e});l.createIndex("documentKeyIndex",F1e),l.createIndex("collectionGroupIndex",L1e)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:H1e}).createIndex("sequenceNumberIndex",z1e,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:$1e}).createIndex("documentKeyIndex",W1e,{unique:!1})}(t))),s}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=kx(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Z.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>Z.forEach(a,c=>{ot(c.userId===o.userId);const l=bh(this.serializer,c);return _7(t,o.userId,l).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new gn(s),l=[0,ho(c)];o.push(e.get(l).next(u=>u?Z.resolve():e.put({targetId:0,path:ho(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Z.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:j1e});const i=e.store("collectionParents"),r=new cP,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ho(c)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new gn(s);return o(c.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const u=cc(a);return o(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const o=bb(r),s=i7(this.serializer,o);return e.put(s)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(f=s,f.document?new ke(gn.fromString(f.document.name).popFirst(5)):f.noDocument?ke.fromSegments(f.noDocument.path):f.unknownDocument?ke.fromSegments(f.unknownDocument.path):We()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(l))}).next(()=>Z.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=x7(this.serializer),o=new uP(Px.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Vt();bh(this.serializer,c).keys().forEach(f=>u=u.add(f)),a.set(c.userId,u)}),Z.forEach(a,(c,l)=>{const u=new Fr(l),f=Sx.ct(this.serializer,u),m=o.getIndexManager(u),_=Mx.ct(u,this.serializer,m,o.referenceDelegate);return new A7(r,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new FN(e,xs._e),c).next()})})}}function R7(n){n.createObjectStore("targetDocuments",{keyPath:B1e}).createIndex("documentTargetsIndex",U1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V1e,{unique:!0}),n.createObjectStore("targetGlobal")}const dP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hP{constructor(t,e,i,r,o,s,a,c,l,u,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!hP.D())throw new _e(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YDe(this,r),this.Ii=e+"main",this.serializer=new t7(c),this.Ti=new Ta(this.Ii,this.ai,new aSe(this.serializer)),this.qr=new qDe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=x7(this.serializer),this.Kr=new BDe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,dP);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new xs(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,ue.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,ue.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,ue.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Fx(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(xu(t))return xe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return xb(t).get("owner").next(e=>Z.resolve(this.wi(e)))}Si(t){return Fx(t).delete(this.clientId)}bi(){var t=this;return(0,ue.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Lr(i,"clientMetadata");return r.W().next(o=>{const s=t.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return Z.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Z.resolve(!0):xb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,dP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fx(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&xe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ue.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new FN(e,xs._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>Fx(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return Mx.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new GDe(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return Sx.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){xe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ai)?Y1e:14===c?z9:13===c?H9:12===c?Z1e:11===c?j9:void We();var c;let s;return this.Ti.runTransaction(t,r,o,a=>(s=new FN(a,this.Lr?this.Lr.next():xs._e),"readwrite-primary"===e?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Qi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _e(te.FAILED_PRECONDITION,P9);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(t){return xb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _e(te.FAILED_PRECONDITION,dP)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xb(t).put("owner",e)}static D(){return Ta.D()}pi(t){const e=xb(t);return e.get("owner").next(i=>this.wi(i)?(xe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Z.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Qi(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,D.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return xe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Qi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Qi("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function xb(n){return Lr(n,"owner")}function Fx(n){return Lr(n,"clientMetadata")}function fP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pP(t,e.fromCache,i,r)}}class cSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class k7{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.zi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new cSe;return this.Hi(t,e,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,e,s,a.size)})}).next(()=>o.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Tm()<=ys.in.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Nm(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Z.resolve()):(Tm()<=ys.in.DEBUG&&xe("QueryEngine","Query:",Nm(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Tm()<=ys.in.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Nm(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Lo(e))):Z.resolve())}zi(t,e){if(fq(e))return Z.resolve(null);let i=Lo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=wx(e,null,"F"),i=Lo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Vt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{const l=this.Yi(e,a);return this.Zi(e,l,s,c.readTime)?this.zi(t,wx(e,null,"F")):this.Xi(t,l,e,c)}))})))}ji(t,e,i,r){return fq(e)||r.isEqual(at.min())?Z.resolve(null):this.Gi.getDocuments(t,i).next(o=>{const s=this.Yi(e,o);return this.Zi(e,s,i,r)?Z.resolve(null):(Tm()<=ys.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nm(e)),this.Xi(t,s,e,M9(r,-1)).next(a=>a))})}Yi(t,e){let i=new $n(_q(t));return e.forEach((r,o)=>{lb(t,o)&&(i=i.add(o))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,e,i){return Tm()<=ys.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Nm(e)),this.Gi.getDocumentsMatchingQuery(t,e,Ts.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class lSe{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new li(Dt),this.ns=new al(o=>mh(o),ab),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A7(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function M7(n,t,e,i){return new lSe(n,t,e,i)}function N7(n,t){return mP.apply(this,arguments)}function mP(){return mP=(0,ue.Z)(function*(n,t){const e=Re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Vt();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),mP.apply(this,arguments)}function P7(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function O7(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=rs();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(at.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function hSe(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $m(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(o=>o?(r=o,Z.resolve(r)):e.qr.allocateTargetId(i).next(s=>(r=new ll(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function Wm(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=i.ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!xu(s))throw s;xe("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),gP.apply(this,arguments)}function Lx(n,t,e){const i=Re(n);let r=at.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const f=Re(c),m=f.ns.get(u);return void 0!==m?Z.resolve(f.ts.get(m)):f.qr.getTargetData(l,u)}(i,s,Lo(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,t,e?r:at.min(),e?o:Vt())).next(a=>(V7(i,gq(t),a),{documents:a,ls:o})))}function F7(n,t){const e=Re(n),i=Re(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i._t(o,t).next(s=>s?s.target:null))}function L7(n,t){const e=Re(n),i=e.rs.get(t)||at.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,M9(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(V7(e,t,r),r))}function V7(n,t,e){let i=n.rs.get(t)||at.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(t,i)}function _P(){return _P=(0,ue.Z)(function*(n,t,e,i){const r=Re(n);let o=Vt(),s=rs();for(const l of e){const u=t.hs(l.metadata.name);l.document&&(o=o.add(u));const f=t.Ps(l);f.setReadTime(t.Is(l.metadata.readTime)),s=s.insert(u,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield $m(r,(u=i,Lo(km(gn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>O7(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.us,u.cs)).next(()=>u.us)))}),_P.apply(this,arguments)}function pSe(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,ue.Z)(function*(n,t,e=Vt()){const i=yield $m(n,Lo(nP(t.bundledQuery))),r=Re(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Xi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,t);const a=i.withResumeToken(vr.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,t))})}),yP.apply(this,arguments)}function B7(n,t){return`firestore_clients_${n}_${t}`}function U7(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vP(n,t){return`firestore_targets_${n}_${t}`}class Vx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new _e(r.error.code,r.error.message))),s?new Vx(t,e,r.state,o):(Qi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ib{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new _e(i.error.code,i.error.message))),o?new Ib(t,i.state,r):(Qi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=WN();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=L9(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Bx(t,o):(Qi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bP{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bP(e.clientId,e.onlineState):(Qi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wP{constructor(){this.activeTargetIds=WN()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EP{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new li(Dt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=B7(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new wP),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ue.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const o=t.getItem(B7(t.persistenceKey,r));if(o){const s=Bx.Ts(r,o);s&&(t.gs=t.gs.insert(s.clientId,s))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vP(this.persistenceKey,t));if(i){const r=Ib.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vP(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return xe("SharedClientState","READ",t,e),e}setItem(t,e){xe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){xe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(xe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ue.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(s){let a=xs._e;if(null!=s)try{const c=JSON.parse(s);ot("number"==typeof c),a=c}catch(c){Qi("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==xs._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Js(o)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new Vx(this.currentUser,t,e,i),o=U7(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Bs(t){const e=U7(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=vP(this.persistenceKey,t),o=new Ib(t,e,i);this.setItem(r,o.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return Bx.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return Vx.Ts(new Fr(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return Ib.Ts(r,e)}Ms(t){return bP.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,ue.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);xe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=WN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class j7{constructor(){this.eo=new wP,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new wP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mSe{ro(t){}shutdown(){}}class H7{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ux=null;function CP(){return null===Ux?Ux=268435456+Math.round(2147483648*Math.random()):Ux++,"0x"+Ux.toString(16)}const gSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _Se{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const po="WebChannelConnection";class ySe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(e,i,r,o,s){const a=CP(),c=this.So(e,i);xe("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(e,c,l,r).then(u=>(xe("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw ns("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(e,i,r,o,s,a){return this.wo(e,i,r,o,s)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}So(e,i){return`${this.mo}/v1/${i}:${gSe[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const o=CP();return new Promise((s,a)=>{const c=new m1e;c.setWithCredentials(!0),c.listenOnce(h1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case RN.NO_ERROR:const u=c.getResponseJson();xe(po,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case RN.TIMEOUT:xe(po,`RPC '${t}' ${o} timed out`),a(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case RN.HTTP_ERROR:const f=c.getStatus();if(xe(po,`RPC '${t}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const y=function(E){const N=E.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN}(_.status);a(new _e(y,_.message))}else a(new _e(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _e(te.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{xe(po,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);xe(po,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,i,15)})}vo(t,e,i){const r=CP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=u1e(),a=d1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new p1e({})),this.bo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const u=o.join("");xe(po,`Creating RPC '${t}' stream ${r}: ${u}`,c);const f=s.createWebChannel(u,c);let m=!1,_=!1;const y=new _Se({co:E=>{_?xe(po,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(m||(xe(po,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),xe(po,`RPC '${t}' stream ${r} sending:`,E),f.send(E))},lo:()=>f.close()}),b=(E,N,A)=>{E.listen(N,L=>{try{A(L)}catch(W){setTimeout(()=>{throw W},0)}})};return b(f,ux.EventType.OPEN,()=>{_||xe(po,`RPC '${t}' stream ${r} transport opened.`)}),b(f,ux.EventType.CLOSE,()=>{_||(_=!0,xe(po,`RPC '${t}' stream ${r} transport closed`),y.Ro())}),b(f,ux.EventType.ERROR,E=>{_||(_=!0,ns(po,`RPC '${t}' stream ${r} transport errored:`,E),y.Ro(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,ux.EventType.MESSAGE,E=>{var N;if(!_){const A=E.data[0];ot(!!A);const W=A.error||(null===(N=A[0])||void 0===N?void 0:N.error);if(W){xe(po,`RPC '${t}' stream ${r} received error:`,W);const le=W.status;let De=function(rn){const yn=cr[rn];if(void 0!==yn)return Oq(yn)}(le),Me=W.message;void 0===De&&(De=te.INTERNAL,Me="Unknown error status: "+le+" with message "+W.message),_=!0,y.Ro(new _e(De,Me)),f.close()}else xe(po,`RPC '${t}' stream ${r} received:`,A),y.Vo(A)}}),b(a,f1e.STAT_EVENT,E=>{E.stat===I9.PROXY?xe(po,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===I9.NOPROXY&&xe(po,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function z7(){return typeof window<"u"?window:null}function jx(){return typeof document<"u"?document:null}function Db(n){return new SDe(n,!0)}class TP{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class $7{constructor(t,e,i,r,o,s,a,c){this.si=t,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new TP(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,ue.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,ue.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,ue.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===te.RESOURCE_EXHAUSTED?(Qi(e.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new _e(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,ue.Z)(function*(){t.state=0,t.start()}))}o_(t){return xe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vSe extends $7{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function kDe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:We(),r=t.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(ot(void 0===u||"string"==typeof u),vr.fromBase64String(u||"")):(ot(void 0===u||u instanceof Uint8Array),vr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const u=void 0===l.code?te.UNKNOWN:Oq(l.code);return new _e(u,l.message||"")}(s);e=new Uq(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=dc(n,i.document.name),o=Xi(i.document.updateTime),s=i.document.createTime?Xi(i.document.createTime):at.min(),a=new Qr({mapValue:{fields:i.document.fields}}),c=vi.newFoundDocument(r,o,s,a);e=new Ix(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const i=t.documentDelete,r=dc(n,i.document),o=i.readTime?Xi(i.readTime):at.min(),s=vi.newNoDocument(r,o);e=new Ix([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=dc(n,i.document);e=new Ix([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return We();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new EDe(r,o);e=new Bq(i.targetId,s)}}var l;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return at.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?at.min():s.readTime?Xi(s.readTime):at.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=yb(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=vx(c)?{documents:Yq(o,c)}:{query:tP(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$q(o,s.resumeToken);const l=QN(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(at.min())>0){a.readTime=Vm(o,s.snapshotVersion.toTimestamp());const l=QN(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const i=function NDe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=yb(this.serializer),e.removeTarget=t,this.e_(e)}}class bSe extends $7{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function MDe(n,t){return n&&n.length>0?(ot(void 0!==t),n.map(e=>function(r,o){let s=Xi(r.updateTime?r.updateTime:o);return s.isEqual(at.min())&&(s=Xi(o)),new yDe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Xi(t.commitTime);return this.listener.I_(i,e)}return ot(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=yb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vb(this.serializer,i))};this.e_(e)}}class wSe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new _e(te.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,e,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(te.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class CSe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qi(e),this.f_=!1):xe("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class TSe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,ue.Z)(function*(){var c;Lu(s)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,ue.Z)(function*(u){const f=Re(u);f.C_.add(4),yield Gm(f),f.M_.set("Unknown"),f.C_.delete(4),yield Sb(f)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.M_=new CSe(i,r)}}function Sb(n){return IP.apply(this,arguments)}function IP(){return IP=(0,ue.Z)(function*(n){if(Lu(n))for(const t of n.v_)yield t(!0)}),IP.apply(this,arguments)}function Gm(n){return DP.apply(this,arguments)}function DP(){return DP=(0,ue.Z)(function*(n){for(const t of n.v_)yield t(!1)}),DP.apply(this,arguments)}function Hx(n,t){const e=Re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),RP(e)?AP(e):Km(e).Ho()&&SP(e,t))}function Ab(n,t){const e=Re(n),i=Km(e);e.D_.delete(t),i.Ho()&&W7(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Lu(e)&&e.M_.set("Unknown"))}function SP(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Km(n).u_(t)}function W7(n,t){n.x_.Oe(t),Km(n).c_(t)}function AP(n){n.x_=new TDe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Km(n).start(),n.M_.g_()}function RP(n){return Lu(n)&&!Km(n).jo()&&n.D_.size>0}function Lu(n){return 0===Re(n).C_.size}function G7(n){n.x_=void 0}function xSe(n){return kP.apply(this,arguments)}function kP(){return kP=(0,ue.Z)(function*(n){n.D_.forEach((t,e)=>{SP(n,t)})}),kP.apply(this,arguments)}function ISe(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,ue.Z)(function*(n,t){G7(n),RP(n)?(n.M_.w_(t),AP(n)):n.M_.set("Unknown")}),MP.apply(this,arguments)}function DSe(n,t,e){return NP.apply(this,arguments)}function NP(){return NP=(0,ue.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof Uq&&2===t.state&&t.cause)try{yield(i=(0,ue.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){xe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zx(n,i)}else if(t instanceof Ix?n.x_.$e(t):t instanceof Bq?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(at.min()))try{const i=yield P7(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(vr.EMPTY_BYTE_STRING,u.snapshotVersion)),W7(o,c);const f=new ll(u.target,c,l,u.sequenceNumber);SP(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){xe("RemoteStore","Failed to raise snapshot:",i),yield zx(n,i)}var i}),NP.apply(this,arguments)}function zx(n,t,e){return PP.apply(this,arguments)}function PP(){return PP=(0,ue.Z)(function*(n,t,e){if(!xu(t))throw t;n.C_.add(1),yield Gm(n),n.M_.set("Offline"),e||(e=()=>P7(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Sb(n)}))}),PP.apply(this,arguments)}function q7(n,t){return t().catch(e=>zx(n,e,t))}function qm(n){return OP.apply(this,arguments)}function OP(){return OP=(0,ue.Z)(function*(n){const t=Re(n),e=Vu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;SSe(t);)try{const r=yield hSe(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,ASe(t,r)}catch(r){yield zx(t,r)}K7(t)&&Z7(t)}),OP.apply(this,arguments)}function SSe(n){return Lu(n)&&n.b_.length<10}function ASe(n,t){n.b_.push(t);const e=Vu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function K7(n){return Lu(n)&&!Vu(n).jo()&&n.b_.length>0}function Z7(n){Vu(n).start()}function RSe(n){return FP.apply(this,arguments)}function FP(){return FP=(0,ue.Z)(function*(n){Vu(n).E_()}),FP.apply(this,arguments)}function kSe(n){return LP.apply(this,arguments)}function LP(){return LP=(0,ue.Z)(function*(n){const t=Vu(n);for(const e of n.b_)t.P_(e.mutations)}),LP.apply(this,arguments)}function MSe(n,t,e){return VP.apply(this,arguments)}function VP(){return VP=(0,ue.Z)(function*(n,t,e){const i=n.b_.shift(),r=KN.from(i,t,e);yield q7(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield qm(n)}),VP.apply(this,arguments)}function NSe(n,t){return BP.apply(this,arguments)}function BP(){return BP=(0,ue.Z)(function*(n,t){var e;t&&Vu(n).h_&&(yield(e=(0,ue.Z)(function*(r,o){if(Pq(a=o.code)&&a!==te.ABORTED){const s=r.b_.shift();Vu(r).Yo(),yield q7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield qm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),K7(n)&&Z7(n)}),BP.apply(this,arguments)}function Y7(n,t){return UP.apply(this,arguments)}function UP(){return UP=(0,ue.Z)(function*(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const i=Lu(e);e.C_.add(3),yield Gm(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Sb(e)}),UP.apply(this,arguments)}function jP(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,ue.Z)(function*(n,t){const e=Re(n);t?(e.C_.delete(2),yield Sb(e)):t||(e.C_.add(2),yield Gm(e),e.M_.set("Unknown"))}),HP.apply(this,arguments)}function Km(n){return n.O_||(n.O_=function(e,i,r){const o=Re(e);return o.A_(),new vSe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:xSe.bind(null,n),Io:ISe.bind(null,n),a_:DSe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.O_.Yo(),RP(n)?AP(n):n.M_.set("Unknown")):(yield n.O_.stop(),G7(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Vu(n){return n.N_||(n.N_=function(e,i,r){const o=Re(e);return o.A_(),new bSe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:RSe.bind(null,n),Io:NSe.bind(null,n),T_:kSe.bind(null,n),I_:MSe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.N_.Yo(),yield qm(n)):(yield n.N_.stop(),n.b_.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class zP{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new zP(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(n,t){if(Qi("AsyncQueue",`${t}: ${n}`),xu(n))return new _e(te.UNAVAILABLE,`${t}: ${n}`);throw n}class Ym{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ke.comparator(e.key,i.key):(e,i)=>ke.comparator(e.key,i.key),this.keyedMap=ub(),this.sortedSet=new li(this.comparator)}static emptySet(t){return new Ym(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ym)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ym;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Q7{constructor(){this.B_=new li(ke.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):We():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Qm{constructor(t,e,i,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Qm(t,e,Ym.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class PSe{constructor(){this.k_=void 0,this.listeners=[]}}class OSe{constructor(){this.queries=new al(t=>mq(t),cb),this.onlineState="Unknown",this.q_=new Set}}function $P(n,t){return WP.apply(this,arguments)}function WP(){return WP=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new PSe),r)try{o.k_=yield e.onListen(i)}catch(s){const a=Zm(s,`Initialization of query '${Nm(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,o),o.listeners.push(t),t.Q_(e.onlineState),o.k_&&t.K_(o.k_)&&KP(e)}),WP.apply(this,arguments)}function GP(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),qP.apply(this,arguments)}function FSe(n,t){const e=Re(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&KP(e)}function LSe(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function KP(n){n.q_.forEach(t=>{t.next()})}class ZP{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Qm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Qm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class VSe{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class X7{constructor(t){this.serializer=t}hs(t){return dc(this.serializer,t)}Ps(t){return t.metadata.exists?Zq(this.serializer,t.document,!1):vi.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return Xi(t)}}class BSe{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=J7(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=gn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new X7(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Vt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,ue.Z)(function*(){const e=yield function fSe(n,t,e,i){return _P.apply(this,arguments)}(t.localStore,new X7(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield pSe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function J7(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class eK{constructor(t){this.key=t}}class tK{constructor(t){this.key=t}}class nK{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vt(),this.mutatedKeys=Vt(),this._a=_q(t),this.aa=new Ym(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new Q7,r=e?e.aa:this.aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,f)=>{const m=r.get(u),_=lb(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;m&&_?m.data.isEqual(_.data)?y!==b&&(i.track({type:3,doc:_}),E=!0):this.ha(m,_)||(i.track({type:2,doc:_}),E=!0,(c&&this._a(_,c)>0||l&&this._a(_,l)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),E=!0):m&&!_&&(i.track({type:1,doc:m}),E=!0,(c||l)&&(a=!0)),E&&(_?(s=s.add(_),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((l,u)=>function(m,_){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return y(m)-y(_)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(i);const s=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Qm(this.query,t.aa,r,o,t.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new Q7,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Vt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new tK(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new eK(i))}),e}da(t){this.ia=t.ls,this.oa=Vt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Qm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class USe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class jSe{constructor(t){this.key=t,this.Ra=!1}}class HSe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new al(a=>mq(a),cb),this.fa=new Map,this.ga=new Set,this.pa=new li(ke.comparator),this.ya=new Map,this.wa=new lP,this.Sa={},this.ba=new Map,this.Da=Ch.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function zSe(n,t){return YP.apply(this,arguments)}function YP(){return YP=(0,ue.Z)(function*(n,t){const e=vO(n);let i,r;const o=e.ma.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield $m(e.localStore,Lo(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield QP(e,t,i,"current"===a,s.resumeToken),e.isPrimaryClient&&Hx(e.remoteStore,s)}return r}),YP.apply(this,arguments)}function QP(n,t,e,i,r){return XP.apply(this,arguments)}function XP(){return XP=(0,ue.Z)(function*(n,t,e,i,r){n.va=(f,m,_)=>{return(y=(0,ue.Z)(function*(E,N,A,L){let W=N.view.ca(A);W.Zi&&(W=yield Lx(E.localStore,N.query,!1).then(({documents:Me})=>N.view.ca(Me,W)));const le=L&&L.targetChanges.get(N.targetId),De=N.view.applyChanges(W,E.isPrimaryClient,le);return cO(E,N.targetId,De.Ta),De.snapshot}),function b(E,N,A,L){return y.apply(this,arguments)})(n,f,m,_);var y};const o=yield Lx(n.localStore,t,!0),s=new nK(t,o.ls),a=s.ca(o.documents),c=gb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);cO(n,e,l.Ta);const u=new USe(t,e,s);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),l.snapshot}),XP.apply(this,arguments)}function $Se(n,t){return JP.apply(this,arguments)}function JP(){return JP=(0,ue.Z)(function*(n,t){const e=Re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(o=>!cb(o,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Ab(e.remoteStore,i.targetId),Xm(e,i.targetId)}).catch(Tu))):(Xm(e,i.targetId),yield Wm(e.localStore,i.targetId,!0))}),JP.apply(this,arguments)}function eO(){return eO=(0,ue.Z)(function*(n,t,e){const i=bO(n);try{const r=yield function(s,a){const c=Re(s),l=Ai.now(),u=a.reduce((_,y)=>_.add(y.key),Vt());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let y=rs(),b=Vt();return c.ss.getEntries(_,u).next(E=>{y=E,y.forEach((N,A)=>{A.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,y)).next(E=>{f=E;const N=[];for(const A of a){const L=bDe(A,f.get(A.key).overlayedDocument);null!=L&&N.push(new cl(A.key,L,eq(L.value.mapValue),Ri.exists(!0)))}return c.mutationQueue.addMutationBatch(_,l,N,a)}).next(E=>{m=E;const N=E.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(_,E.batchId,N)})}).then(()=>({batchId:m.batchId,changes:vq(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new li(Dt)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,e),yield ul(i,r.changes),yield qm(i.remoteStore)}catch(r){const o=Zm(r,"Failed to persist write");e.reject(o)}}),eO.apply(this,arguments)}function iK(n,t){return tO.apply(this,arguments)}function tO(){return tO=(0,ue.Z)(function*(n,t){const e=Re(n);try{const i=yield function dSe(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,f)=>{const m=r.get(f);if(!m)return;a.push(e.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>e.qr.addMatchingKeys(o,u.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);var b,E,N;null!==t.targetMismatches.get(f)?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,i)),r=r.insert(f,_),E=_,N=u,(0===(b=m).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(o,_))});let c=rs(),l=Vt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(O7(o,s,t.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual(at.min())){const u=e.qr.getLastRemoteSnapshotVersion(o).next(f=>e.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.ts=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.ya.get(o);s&&(ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?ot(s.Ra):r.removedDocuments.size>0&&(ot(s.Ra),s.Ra=!1))}),yield ul(e,i,t)}catch(i){yield Tu(i)}}),tO.apply(this,arguments)}function rK(n,t,e){const i=Re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Re(s);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(const m of f.listeners)m.Q_(a)&&(l=!0)}),l&&KP(c)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function GSe(n,t,e){return nO.apply(this,arguments)}function nO(){return nO=(0,ue.Z)(function*(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),o=r&&r.key;if(o){let s=new li(ke.comparator);s=s.insert(o,vi.newNoDocument(o,at.min()));const a=Vt().add(o),c=new mb(at.min(),new Map,new li(Dt),s,a);yield iK(i,c),i.pa=i.pa.remove(o),i.ya.delete(t),lO(i)}else yield Wm(i.localStore,t,!1).then(()=>Xm(i,t,e)).catch(Tu)}),nO.apply(this,arguments)}function qSe(n,t){return iO.apply(this,arguments)}function iO(){return iO=(0,ue.Z)(function*(n,t){const e=Re(n),i=t.batch.batchId;try{const r=yield function uSe(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const f=l.batch,m=f.keys();let _=Z.resolve();return m.forEach(y=>{_=_.next(()=>u.getEntry(c,y)).next(b=>{const E=l.docVersions.get(y);ot(null!==E),b.version.compareTo(E)<0&&(f.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),u.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Vt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);aO(e,i,null),sO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ul(e,r)}catch(r){yield Tu(r)}}),iO.apply(this,arguments)}function KSe(n,t,e){return rO.apply(this,arguments)}function rO(){return rO=(0,ue.Z)(function*(n,t,e){const i=Re(n);try{const r=yield function(s,a){const c=Re(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(ot(null!==f),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,t);aO(i,t,e),sO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ul(i,r)}catch(r){yield Tu(r)}}),rO.apply(this,arguments)}function oO(){return oO=(0,ue.Z)(function*(n,t){const e=Re(n);Lu(e.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=Zm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),oO.apply(this,arguments)}function sO(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function aO(n,t,e){const i=Re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Xm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||oK(n,i)})}function oK(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Ab(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),lO(n))}function cO(n,t,e){for(const i of e)i instanceof eK?(n.wa.addReference(i.key,t),YSe(n,i)):i instanceof tK?(xe("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||oK(n,i.key)):We()}function YSe(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(xe("SyncEngine","New document in limbo: "+e),n.ga.add(i),lO(n))}function lO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new ke(gn.fromString(t)),i=n.Da.next();n.ya.set(i,new jSe(e)),n.pa=n.pa.insert(e,i),Hx(n.remoteStore,new ll(Lo(km(e.path)),i,"TargetPurposeLimboResolution",xs._e))}}function ul(n,t,e){return uO.apply(this,arguments)}function uO(){return uO=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,t,e).then(l=>{if((l||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=pP.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,ue.Z)(function*(l,u){const f=Re(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Z.forEach(u,_=>Z.forEach(_.ki,y=>f.persistence.referenceDelegate.addReference(m,_.targetId,y)).next(()=>Z.forEach(_.qi,y=>f.persistence.referenceDelegate.removeReference(m,_.targetId,y)))))}catch(m){if(!xu(m))throw m;xe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const y=f.ts.get(_),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);f.ts=f.ts.insert(_,E)}}}),function c(l,u){return a.apply(this,arguments)})(i.localStore,o))}),uO.apply(this,arguments)}function QSe(n,t){return dO.apply(this,arguments)}function dO(){return dO=(0,ue.Z)(function*(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){xe("SyncEngine","User change. New user:",t.toKey());const i=yield N7(e.localStore,t);e.currentUser=t,(o=e).ba.forEach(a=>{a.forEach(c=>{c.reject(new _e(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ul(e,i._s)}var o}),dO.apply(this,arguments)}function XSe(n,t){const e=Re(n),i=e.ya.get(t);if(i&&i.Ra)return Vt().add(i.key);{let r=Vt();const o=e.fa.get(t);if(!o)return r;for(const s of o){const a=e.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function JSe(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,ue.Z)(function*(n,t){const e=Re(n),i=yield Lx(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&cO(e,t.targetId,r.Ta),r}),hO.apply(this,arguments)}function eAe(n,t){return fO.apply(this,arguments)}function fO(){return fO=(0,ue.Z)(function*(n,t){const e=Re(n);return L7(e.localStore,t).then(i=>ul(e,i))}),fO.apply(this,arguments)}function tAe(n,t,e,i){return pO.apply(this,arguments)}function pO(){return pO=(0,ue.Z)(function*(n,t,e,i){const r=Re(n),o=yield function(a,c){const l=Re(a),u=Re(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):Z.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield qm(r.remoteStore):"acknowledged"===e||"rejected"===e?(aO(r,t,i||null),sO(r,t),c=t,Re(Re(r.localStore).mutationQueue).Fn(c)):We(),yield ul(r,o)):xe("SyncEngine","Cannot apply mutation batch with id: "+t)}),pO.apply(this,arguments)}function mO(){return mO=(0,ue.Z)(function*(n,t){const e=Re(n);if(vO(e),bO(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield sK(e,i.toArray());e.Ca=!0,yield jP(e.remoteStore,!0);for(const o of r)Hx(e.remoteStore,o)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Xm(e,s),Wm(e.localStore,s,!0))),Ab(e.remoteStore,s)}),yield r,yield sK(e,i),function(s){const a=Re(s);a.ya.forEach((c,l)=>{Ab(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new li(ke.comparator)}(e),e.Ca=!1,yield jP(e.remoteStore,!1)}}),mO.apply(this,arguments)}function sK(n,t,e){return gO.apply(this,arguments)}function gO(){return gO=(0,ue.Z)(function*(n,t,e){const i=Re(n),r=[],o=[];for(const s of t){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield $m(i.localStore,Lo(c[0]));for(const l of c){const u=i.ma.get(l),f=yield JSe(i,u);f.snapshot&&o.push(f.snapshot)}}else{const l=yield F7(i.localStore,s);a=yield $m(i.localStore,l),yield QP(i,aK(l),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),gO.apply(this,arguments)}function aK(n){return hq(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iAe(n){return e=Re(n).localStore,Re(Re(e).persistence).Bi();var e}function rAe(n,t,e,i){return _O.apply(this,arguments)}function _O(){return _O=(0,ue.Z)(function*(n,t,e,i){const r=Re(n);if(r.Ca)return void xe("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield L7(r.localStore,gq(o[0])),a=mb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,vr.EMPTY_BYTE_STRING);yield ul(r,s,a);break}case"rejected":yield Wm(r.localStore,t,!0),Xm(r,t,i);break;default:We()}}),_O.apply(this,arguments)}function oAe(n,t,e){return yO.apply(this,arguments)}function yO(){return yO=(0,ue.Z)(function*(n,t,e){const i=vO(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){xe("SyncEngine","Adding an already active target "+r);continue}const o=yield F7(i.localStore,r),s=yield $m(i.localStore,o);yield QP(i,aK(o),s.targetId,!1,s.resumeToken),Hx(i.remoteStore,s)}for(const r of e)i.fa.has(r)&&(yield Wm(i.localStore,r,!1).then(()=>{Ab(i.remoteStore,r),Xm(i,r)}).catch(Tu))}}),yO.apply(this,arguments)}function vO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=iK.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XSe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GSe.bind(null,t),t.Va.a_=FSe.bind(null,t.eventManager),t.Va.Fa=LSe.bind(null,t.eventManager),t}function bO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qSe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KSe.bind(null,t),t}class Rb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ue.Z)(function*(){e.serializer=Db(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return M7(this.persistence,new k7,t.initialUser,this.serializer)}createPersistence(t){return new uP(Px.jr,this.serializer)}createSharedClientState(t){return new j7}terminate(){var t=this;return(0,ue.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wO extends Rb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield bO(i.xa.syncEngine),yield qm(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return M7(this.persistence,new k7,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new E7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new M1e(e,this.persistence);return new k1e(t.asyncQueue,i)}createPersistence(t){const e=fP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new hP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,z7(),jx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new j7}}class cK extends wO{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof EP&&(i.sharedClientState.syncEngine={Ys:tAe.bind(null,r),Zs:rAe.bind(null,r),Xs:oAe.bind(null,r),Bi:iAe.bind(null,r),Js:eAe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,ue.Z)(function*(s){yield function nAe(n,t){return mO.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=z7();if(!EP.D(e))throw new _e(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new EP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Jm{initialize(t,e){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>rK(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=QSe.bind(null,i.syncEngine),yield jP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new OSe}createDatastore(t){const e=Db(t.databaseInfo.databaseId),i=new ySe(t.databaseInfo);return new wSe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>rK(this.syncEngine,e,0),a=H7.D()?new H7:new mSe,new TSe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,c,l,u){const f=new HSe(r,o,s,a,c,l);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ue.Z)(function*(i){const r=Re(i);xe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Gm(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function lK(n,t=10240){let e=0;return{read:()=>(0,ue.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $x{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class cAe{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new yr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,ue.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,ue.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,ue.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const o=yield t.Ka(r);return new VSe(JSON.parse(o),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,ue.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,ue.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,ue.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class lAe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new _e(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ue.Z)(function*(s,a){const c=Re(s),l=yb(c.serializer)+"/documents",u={documents:a.map(y=>_b(c.serializer,y))},f=yield c.Co("BatchGetDocuments",l,u,a.length),m=new Map;f.forEach(y=>{const b=function RDe(n,t){return"found"in t?function(i,r){ot(!!r.found);const o=dc(i,r.found.name),s=Xi(r.found.updateTime),a=r.found.createTime?Xi(r.found.createTime):at.min(),c=new Qr({mapValue:{fields:r.found.fields}});return vi.newFoundDocument(o,s,a,c)}(n,t):"missing"in t?function(i,r){ot(!!r.missing),ot(!!r.readTime);const o=dc(i,r.missing),s=Xi(r.readTime);return vi.newNoDocument(o,s)}(n,t):We()}(c.serializer,y);m.set(b.key.toString(),b)});const _=[];return a.forEach(y=>{const b=m.get(y.toString());ot(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Lm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ke.fromPath(r);t.mutations.push(new GN(o,t.precondition(o)))}),yield(i=(0,ue.Z)(function*(o,s){const a=Re(o),c=yb(a.serializer)+"/documents",l={writes:s.map(u=>vb(a.serializer,u))};yield a.wo("Commit",c,l)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw We();e=at.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new _e(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(at.min())?Ri.exists(!1):Ri.updateTime(e):Ri.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(at.min()))throw new _e(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(e)}return Ri.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class uAe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new TP(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,ue.Z)(function*(){const e=new lAe(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ja(o)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!eb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Pq(e)}return!1}}class dAe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Fr.UNAUTHENTICATED,this.clientId=R9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,ue.Z)(function*(a){xe("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,ue.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Zm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Wx(n,t){return EO.apply(this,arguments)}function EO(){return EO=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ue.Z)(function*(o){i.isEqual(o)||(yield N7(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),EO.apply(this,arguments)}function CO(n,t){return TO.apply(this,arguments)}function TO(){return TO=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield xO(n);xe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Y7(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Y7(t.remoteStore,o)),n._onlineComponents=t}),TO.apply(this,arguments)}function uK(n){return"FirebaseError"===n.name?n.code===te.FAILED_PRECONDITION||n.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function xO(n){return IO.apply(this,arguments)}function IO(){return IO=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wx(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!uK(e))throw e;ns("Error using user provided cache. Falling back to memory cache: "+e),yield Wx(n,new Rb)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield Wx(n,new Rb);return n._offlineComponents}),IO.apply(this,arguments)}function Gx(n){return DO.apply(this,arguments)}function DO(){return DO=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield CO(n,n._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield CO(n,new Jm))),n._onlineComponents}),DO.apply(this,arguments)}function dK(n){return xO(n).then(t=>t.persistence)}function eg(n){return xO(n).then(t=>t.localStore)}function hK(n){return Gx(n).then(t=>t.remoteStore)}function SO(n){return Gx(n).then(t=>t.syncEngine)}function tg(n){return AO.apply(this,arguments)}function AO(){return AO=(0,ue.Z)(function*(n){const t=yield Gx(n),e=t.eventManager;return e.onListen=zSe.bind(null,t.syncEngine),e.onUnlisten=$Se.bind(null,t.syncEngine),e}),AO.apply(this,arguments)}function pK(n,t,e={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(o,s,a,c,l){const u=new $x({next:m=>{s.enqueueAndForget(()=>GP(o,f));const _=m.docs.has(a);!_&&m.fromCache?l.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&"server"===c.source?l.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new ZP(km(a.path),u,{includeMetadataChanges:!0,J_:!0});return $P(o,f)}(yield tg(n),n.asyncQueue,t,e,i)})),i.promise}function mK(n,t,e={}){const i=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(o,s,a,c,l){const u=new $x({next:m=>{s.enqueueAndForget(()=>GP(o,f)),m.fromCache&&"server"===c.source?l.reject(new _e(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new ZP(a,u,{includeMetadataChanges:!0,J_:!0});return $P(o,f)}(yield tg(n),n.asyncQueue,t,e,i)})),i.promise}function gK(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const _K=new Map;function RO(n,t,e){if(!e)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function yK(n,t,e,i){if(!0===t&&!0===i)throw new _e(te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function vK(n){if(!ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bK(n){if(ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":We()}function sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qx(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function wK(n,t){if(t<=0)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class EK{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gK(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EK(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new v1e;switch(i.type){case"firstParty":return new C1e(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=_K.get(e);i&&(xe("ComponentProvider","Removing Datastore"),_K.delete(e),i.terminate())}(this),Promise.resolve()}}class Xr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xr(this.firestore,t,this._query)}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class hc extends Xr{constructor(t,e,i){super(t,e,km(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new ke(t))}withConverter(t){return new hc(this.firestore,t,this._path)}}function TK(n,t,...e){if(n=(0,D.m9)(n),RO("collection","path",t),n instanceof kb){const i=gn.fromString(t,...e);return bK(i),new hc(n,null,i)}{if(!(n instanceof bi||n instanceof hc))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gn.fromString(t,...e));return bK(i),new hc(n.firestore,null,i)}}function Kx(n,t,...e){if(n=(0,D.m9)(n),1===arguments.length&&(t=R9.newId()),RO("doc","path",t),n instanceof kb){const i=gn.fromString(t,...e);return vK(i),new bi(n,null,new ke(i))}{if(!(n instanceof bi||n instanceof hc))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gn.fromString(t,...e));return vK(i),new bi(n.firestore,n instanceof hc?n.converter:null,new ke(i))}}function xK(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),(n instanceof bi||n instanceof hc)&&(t instanceof bi||t instanceof hc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function kO(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),n instanceof Xr&&t instanceof Xr&&n.firestore===t.firestore&&cb(n._query,t._query)&&n.converter===t.converter}class CAe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new TP(this,"async_queue_retry"),this.iu=()=>{const e=jx();e&&xe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=jx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=jx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new yr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,ue.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!xu(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Qi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=zP.createAndSchedule(this,t,e,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&We()}verifyOperationInProgress(){}uu(){var t=this;return(0,ue.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function MO(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class TAe{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ui extends kb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new CAe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IK(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||IK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IK(n){var t,e,i;const r=n._freezeSettings(),o=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new J1e(n._databaseId,c,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gK(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;n._firestoreClient=new dAe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function DK(n,t,e){const i=new yr;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield Wx(n,e),yield CO(n,t),i.resolve()}catch(r){const o=r;if(!uK(o))throw o;ns("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function SK(n){if(n._initialized||n._terminated)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fc(vr.fromBase64String(t))}catch(e){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new fc(vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xh{constructor(t){this._methodName=t}}class Zx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}const OAe=/^__.*__$/;class FAe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new cl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fm(t,this.data,e,this.fieldTransforms)}}class AK{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new cl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function RK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Yx{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Yx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Jx(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(RK(this.Iu)&&OAe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class LAe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Db(t)}pu(t,e,i,r=!1){return new Yx({Iu:t,methodName:e,gu:i,path:yi.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(n){const t=n._freezeSettings(),e=Db(n._databaseId);return new LAe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Qx(n,t,e,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,t,e,r);FO("Data must be an object, but it was:",s,i);const a=NK(i,s);let c,l;if(o.merge)c=new is(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const m=Pb(t,f,e);if(!s.contains(m))throw new _e(te.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OK(u,m)||u.push(m)}c=new is(u),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new FAe(new Qr(a),c,l)}class Nb extends xh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nb}}function kK(n,t,e){return new Yx({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class NO extends xh{_toFieldTransform(t){return new hb(t.path,new Pm)}isEqual(t){return t instanceof NO}}class VAe extends xh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=kK(this,t,!0),i=this.yu.map(o=>Dh(o,e)),r=new gh(i);return new hb(t.path,r)}isEqual(t){return this===t}}class BAe extends xh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=kK(this,t,!0),i=this.yu.map(o=>Dh(o,e)),r=new _h(i);return new hb(t.path,r)}isEqual(t){return this===t}}class UAe extends xh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new Om(t.serializer,Cq(t.serializer,this.wu));return new hb(t.path,e)}isEqual(t){return this===t}}function PO(n,t,e,i){const r=n.pu(1,t,e);FO("Data must be an object, but it was:",r,i);const o=[],s=Qr.empty();Iu(i,(c,l)=>{const u=Xx(t,c,e);l=(0,D.m9)(l);const f=r.Ru(u);if(l instanceof Nb)o.push(u);else{const m=Dh(l,f);null!=m&&(o.push(u),s.set(u,m))}});const a=new is(o);return new AK(s,a,r.fieldTransforms)}function OO(n,t,e,i,r,o){const s=n.pu(1,t,e),a=[Pb(t,i,e)],c=[r];if(o.length%2!=0)throw new _e(te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Pb(t,o[m])),c.push(o[m+1]);const l=[],u=Qr.empty();for(let m=a.length-1;m>=0;--m)if(!OK(l,a[m])){const _=a[m];let y=c[m];y=(0,D.m9)(y);const b=s.Ru(_);if(y instanceof Nb)l.push(_);else{const E=Dh(y,b);null!=E&&(l.push(_),u.set(_,E))}}const f=new is(l);return new AK(u,f,s.fieldTransforms)}function MK(n,t,e,i=!1){return Dh(e,n.pu(i?4:3,t))}function Dh(n,t){if(PK(n=(0,D.m9)(n)))return FO("Unsupported field value:",t,n),NK(n,t);if(n instanceof xh)return function(i,r){if(!RK(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=Dh(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,D.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Cq(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Ai.fromDate(i);return{timestampValue:Vm(r.serializer,o)}}if(i instanceof Ai){const o=new Ai(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vm(r.serializer,o)}}if(i instanceof Zx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fc)return{bytesValue:$q(r.serializer,i._byteString)};if(i instanceof bi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XN(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${qx(i)}`)}(n,t)}function NK(n,t){const e={};return W9(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iu(n,(i,r)=>{const o=Dh(r,t.Eu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function PK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof Zx||n instanceof fc||n instanceof bi||n instanceof xh)}function FO(n,t,e){if(!PK(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=qx(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Pb(n,t,e){if((t=(0,D.m9)(t))instanceof dl)return t._internalPath;if("string"==typeof t)return Xx(n,t);throw Jx("Field path arguments must be of type string or ",n,!1,void 0,e)}const jAe=new RegExp("[~\\*/\\[\\]]");function Xx(n,t,e){if(t.search(jAe)>=0)throw Jx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dl(...t.split("."))._internalPath}catch{throw Jx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Jx(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new _e(te.INVALID_ARGUMENT,a+n+c)}function OK(n,t){return n.some(e=>e.isEqual(t))}class Ob{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new HAe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(eI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class HAe extends Ob{data(){return super.data()}}function eI(n,t){return"string"==typeof t?Xx(n,t):t instanceof dl?t._internalPath:t._delegate._internalPath}function FK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LO{}class Fb extends LO{}function Bu(n,t,...e){let i=[];t instanceof LO&&i.push(t),i=i.concat(e),function(o){const s=o.filter(c=>c instanceof ng).length,a=o.filter(c=>c instanceof Lb).length;if(s>1||s>0&&a>0)throw new _e(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Lb extends Fb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Lb(t,e,i)}_apply(t){const e=this._parse(t);return UK(t._query,e),new Xr(t.firestore,t.converter,$N(t._query,e))}_parse(t){const e=Ih(t.firestore);return function(o,s,a,c,l,u,f){let m;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){BK(f,u);const _=[];for(const y of f)_.push(VK(c,o,y));m={arrayValue:{values:_}}}else m=VK(c,o,f)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||BK(f,u),m=MK(a,"where",f,"in"===u||"not-in"===u);return un.create(l,u,m)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends LO{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ng(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)UK(s,c),s=$N(s,c)}(t._query,e),new Xr(t.firestore,t.converter,$N(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VO extends Fb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new VO(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sb(o,s)}(t._query,this._field,this._direction);return new Xr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new sl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class tI extends Fb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new tI(t,e,i)}_apply(t){return new Xr(t.firestore,t.converter,wx(t._query,this._limit,this._limitType))}}class nI extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nI(t,e,i)}_apply(t){const e=LK(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new sl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class iI extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new iI(t,e,i)}_apply(t){const e=LK(t,this.type,this._docOrFields,this._inclusive);return new Xr(t.firestore,t.converter,(o=e,new sl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function LK(n,t,e,i){if(e[0]=(0,D.m9)(e[0]),e[0]instanceof Ob)return function(o,s,a,c,l){if(!c)throw new _e(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Mm(o))if(f.field.isKeyField())u.push(ph(s,c.key));else{const m=c.data.field(f.field);if(px(m))throw new _e(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const _=f.field.canonicalString();throw new _e(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}u.push(m)}return new Mu(u,l)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ih(n.firestore);return function(s,a,c,l,u,f){const m=s.explicitOrderBy;if(u.length>m.length)throw new _e(te.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let y=0;y<u.length;y++){const b=u[y];if(m[y].field.isKeyField()){if("string"!=typeof b)throw new _e(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!zN(s)&&-1!==b.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const E=s.path.child(gn.fromString(b));if(!ke.isDocumentKey(E))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const N=new ke(E);_.push(ph(a,N))}else{const E=MK(c,l,b);_.push(E)}}return new Mu(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function VK(n,t,e){if("string"==typeof(e=(0,D.m9)(e))){if(""===e)throw new _e(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(t)&&-1!==e.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(gn.fromString(e));if(!ke.isDocumentKey(i))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ph(n,new ke(i))}if(e instanceof bi)return ph(n,e._key);throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qx(e)}.`)}function BK(n,t){if(!Array.isArray(n)||0===n.length)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UK(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new _e(te.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class BO{convertValue(t,e="none"){switch(Ru(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw We()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Iu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Zx(Hi(t.latitude),Hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=mx(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(nb(t));default:return null}}convertTimestamp(t){const e=Du(t);return new Ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=gn.fromString(t);ot(e7(i));const r=new Su(i.get(1),i.get(3)),o=new ke(i.popFirst(5));return r.isEqual(e)||Qi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function rI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class QAe extends BO{constructor(t){super(),this.firestore=t}convertBytes(t){return new fc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class Sh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hl extends Ob{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(eI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Vb extends hl{data(t={}){return super.data(t)}}class Uu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vb(this._firestore,this._userDataWriter,i.key,i,new Sh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _e(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Sh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new Vb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Sh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:JAe(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function JAe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function HK(n,t){return n instanceof hl&&t instanceof hl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Uu&&t instanceof Uu&&n._firestore===t._firestore&&kO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ju extends BO{constructor(t){super(),this.firestore=t}convertBytes(t){return new fc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function zK(n,t,e){n=sn(n,bi);const i=sn(n.firestore,ui),r=rI(n.converter,t,e);return ig(i,[Qx(Ih(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ri.none())])}function $K(n,t,e,...i){n=sn(n,bi);const r=sn(n.firestore,ui),o=Ih(r);let s;return s="string"==typeof(t=(0,D.m9)(t))||t instanceof dl?OO(o,"updateDoc",n._key,t,e,i):PO(o,"updateDoc",n._key,t),ig(r,[s.toMutation(n._key,Ri.exists(!0))])}function WK(n,...t){var e,i,r;n=(0,D.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||MO(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(MO(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let c,l,u;if(n instanceof bi)l=sn(n.firestore,ui),u=km(n._key.path),c={next:f=>{t[s]&&t[s](UO(l,n,f))},error:t[s+1],complete:t[s+2]};else{const f=sn(n,Xr);l=sn(f.firestore,ui),u=f._query;const m=new ju(l);c={next:_=>{t[s]&&t[s](new Uu(l,m,f,_))},error:t[s+1],complete:t[s+2]},FK(n._query)}return function(m,_,y,b){const E=new $x(b),N=new ZP(_,E,y);return m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return $P(yield tg(m),N)})),()=>{E.Na(),m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return GP(yield tg(m),N)}))}}(zi(l),u,a,c)}function ig(n,t){return function(i,r){const o=new yr;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function WSe(n,t,e){return eO.apply(this,arguments)}(yield SO(i),r,o)})),o.promise}(zi(n),t)}function UO(n,t,e){const i=e.docs.get(t._key),r=new ju(n);return new hl(n,r,t._key,i,new Sh(e.hasPendingWrites,e.fromCache),t.converter)}const _Re={maxAttempts:5};class GK{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ih(t)}set(t,e,i){this._verifyNotCommitted();const r=Hu(t,this._firestore),o=rI(r.converter,e,i),s=Qx(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Ri.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Hu(t,this._firestore);let s;return s="string"==typeof(e=(0,D.m9)(e))||e instanceof dl?OO(this._dataReader,"WriteBatch.update",o._key,e,i,r):PO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ri.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Hu(t,this._firestore);return this._mutations=this._mutations.concat(new Lm(e._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(n,t){if((n=(0,D.m9)(n)).firestore!==t)throw new _e(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yRe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ih(e)}get(e){const i=Hu(e,this._firestore),r=new QAe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return We();const s=o[0];if(s.isFoundDocument())return new Ob(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Ob(this._firestore,r,i._key,null,i.converter);throw We()})}set(e,i,r){const o=Hu(e,this._firestore),s=rI(o.converter,i,r),a=Qx(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Hu(e,this._firestore);let a;return a="string"==typeof(i=(0,D.m9)(i))||i instanceof dl?OO(this._dataReader,"Transaction.update",s._key,i,r,o):PO(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Hu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Hu(t,this._firestore),i=new ju(this._firestore);return super.get(t).then(r=>new hl(this._firestore,i,e._key,r._document,new Sh(!1,!1),e.converter))}}function HO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function YK(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function QK(){if(!function Q1e(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Cm=so.SDK_VERSION,(0,so._registerComponent)(new ga.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ui(new w1e(i.getProvider("auth-internal")),new T1e(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(D9,"4.3.2",t),(0,so.registerVersion)(D9,"4.3.2","esm2017")}();class Bb{constructor(t){this._delegate=t}static fromBase64String(t){return QK(),new Bb(fc.fromBase64String(t))}static fromUint8Array(t){return YK(),new Bb(fc.fromUint8Array(t))}toBase64(){return QK(),this._delegate.toBase64()}toUint8Array(){return YK(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zO(n){return function SRe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class ARe{enableIndexedDbPersistence(t,e){return function IAe(n,t){SK(n=sn(n,ui));const e=zi(n);if(e._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Jm;return DK(e,r,new wO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function DAe(n){SK(n=sn(n,ui));const t=zi(n);if(t._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");ns("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Jm;return DK(t,i,new cK(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function SAe(n){if(n._initialized&&!n._terminated)throw new _e(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(e=(0,ue.Z)(function*(r){if(!Ta.D())return Promise.resolve();const o=r+"main";yield Ta.delete(o)}),function i(r){return e.apply(this,arguments)})(fP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class XK{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Su||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ns("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function CK(n,t,e,i={}){var r;const o=(n=sn(n,kb))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Fr.MOCK_USER;else{a=(0,D.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fr(l)}n._authCredentials=new b1e(new S9(a,c))}}(this._delegate,t,e,i)}enableNetwork(){return function RAe(n){return function hAe(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield dK(n),e=yield hK(n);return t.setNetworkEnabled(!0),function(r){const o=Re(r);return o.C_.delete(0),Sb(o)}(e)}))}(zi(n=sn(n,ui)))}(this._delegate)}disableNetwork(){return function kAe(n){return function fAe(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield dK(n),e=yield hK(n);return t.setNetworkEnabled(!1),(i=(0,ue.Z)(function*(o){const s=Re(o);s.C_.add(0),yield Gm(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(zi(n=sn(n,ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,yK("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function AAe(n){return function(e){const i=new yr;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function ZSe(n,t){return oO.apply(this,arguments)}(yield SO(e),i)})),i.promise}(zi(n=sn(n,ui)))}(this._delegate)}onSnapshotsInSync(t){return function cRe(n,t){return function gAe(n,t){const e=new $x(t);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield tg(n),o=e,Re(r).q_.add(o),void o.next();var r,o})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield tg(n),o=e,void Re(r).q_.delete(o);var r,o}))}}(zi(n=sn(n,ui)),MO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new rg(this,TK(this._delegate,t))}catch(e){throw Vo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Qs(this,Kx(this._delegate,t))}catch(e){throw Vo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Bo(this,function EAe(n,t){if(n=sn(n,kb),RO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(i=t,new sl(gn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Vo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function vRe(n,t,e){n=sn(n,ui);const i=Object.assign(Object.assign({},_Re),e);return function(o){if(o.maxAttempts<1)throw new _e(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new yr;return o.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const l=yield function fK(n){return Gx(n).then(t=>t.datastore)}(o);new uAe(o.asyncQueue,l,a,s,c).run()})),c.promise}(zi(n),r=>t(new yRe(n,r)),i)}(this._delegate,e=>t(new JK(this,e)))}batch(){return zi(this._delegate),new eZ(new GK(this._delegate,t=>ig(this._delegate,t)))}loadBundle(t){return function MAe(n,t){const e=zi(n=sn(n,ui)),i=new TAe;return function _Ae(n,t,e,i){const r=function(s,a){let c;return c="string"==typeof s?Fq().encode(s):s,u=function(u,f){if(u instanceof Uint8Array)return lK(u,f);if(u instanceof ArrayBuffer)return lK(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new cAe(u,a);var u}(e,Db(t));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function sAe(n,t,e){const i=Re(n);var r;(r=(0,ue.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(y,b){const E=Re(y),N=Xi(b.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",A=>E.Kr.getBundleMetadata(A,b.id)).then(A=>!!A&&A.createTime.compareTo(N)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(y=l).totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}),Promise.resolve(new Set);c._updateProgress(J7(l));const u=new BSe(l,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield u.ea(f);_&&c._updateProgress(_),f=yield a.Ma()}const m=yield u.complete();return yield ul(s,m.ra,void 0),yield function(y,b){const E=Re(y);return E.persistence.runTransaction("Save bundle","readwrite",N=>E.Kr.saveBundleMetadata(N,b))}(s.localStore,l),c._completeWith(m.progress),Promise.resolve(m.na)}catch(l){return ns("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var y}),function o(s,a,c){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function NAe(n,t){return function yAe(n,t){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(i,r){const o=Re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield eg(n),t)}))}(zi(n=sn(n,ui)),t).then(e=>e?new Xr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Bo(this,e):null)}}class sI extends BO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bb(new fc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Qs.forKey(e,this.firestore,null)}}class JK{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sI(t)}get(t){const e=Rh(t);return this._delegate.get(e).then(i=>new Ub(this._firestore,new hl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Rh(t);return i?(HO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Rh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Rh(t);return this._delegate.delete(e),this}}class eZ{constructor(t){this._delegate=t}set(t,e,i){const r=Rh(t);return i?(HO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Rh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Rh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ah{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Vb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ah.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Ah(t,new sI(t),e),r.set(e,o)),o}}Ah.INSTANCES=new WeakMap;class Qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qs(e,new bi(e._delegate,i,new ke(t)))}static forKey(t,e,i){return new Qs(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new rg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new rg(this.firestore,TK(this._delegate,t))}catch(e){throw Vo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,D.m9)(t))instanceof bi&&xK(this._delegate,t)}set(t,e){e=HO("DocumentReference.set",e);try{return e?zK(this._delegate,t,e):zK(this._delegate,t)}catch(i){throw Vo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?$K(this._delegate,t):$K(this._delegate,t,e,...i)}catch(r){throw Vo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function sRe(n){return ig(sn(n.firestore,ui),[new Lm(n._key,Ri.none())])}(this._delegate)}onSnapshot(...t){const e=tZ(t),i=nZ(t,r=>new Ub(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return WK(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function tRe(n){n=sn(n,bi);const t=sn(n.firestore,ui),e=zi(t),i=new ju(t);return function pAe(n,t){const e=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(o,s,a){try{const c=yield function(u,f){const m=Re(u);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,f))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new _e(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Zm(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield eg(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hl(t,i,n._key,r,new Sh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function nRe(n){n=sn(n,bi);const t=sn(n.firestore,ui);return pK(zi(t),n._key,{source:"server"}).then(e=>UO(t,n,e))}(this._delegate):function eRe(n){n=sn(n,bi);const t=sn(n.firestore,ui);return pK(zi(t),n._key).then(e=>UO(t,n,e))}(this._delegate),e.then(i=>new Ub(this.firestore,new hl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Qs(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}function Vo(n,t,e){return n.message=n.message.replace(t,e),n}function tZ(n){for(const t of n)if("object"==typeof t&&!zO(t))return t;return{}}function nZ(n,t){var e,i;let r;return r=zO(n[0])?n[0]:zO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ub{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Qs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return HK(this._delegate,t._delegate)}}class jb extends Ub{data(t){const e=this._delegate.data(t);return this._delegate._converter||function y1e(n,t){n||We()}(void 0!==e),e}}class Bo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sI(t)}where(t,e,i){try{return new Bo(this.firestore,Bu(this._delegate,function zAe(n,t,e){const i=t,r=eI("where",n);return Lb._create(r,i,e)}(t,e,i)))}catch(r){throw Vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Bo(this.firestore,Bu(this._delegate,function $Ae(n,t="asc"){const e=t,i=eI("orderBy",n);return VO._create(i,e)}(t,e)))}catch(i){throw Vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Bo(this.firestore,Bu(this._delegate,function WAe(n){return wK("limit",n),tI._create("limit",n,"F")}(t)))}catch(e){throw Vo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Bo(this.firestore,Bu(this._delegate,function GAe(n){return wK("limitToLast",n),tI._create("limitToLast",n,"L")}(t)))}catch(e){throw Vo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Bo(this.firestore,Bu(this._delegate,function qAe(...n){return nI._create("startAt",n,!0)}(...t)))}catch(e){throw Vo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Bo(this.firestore,Bu(this._delegate,function KAe(...n){return nI._create("startAfter",n,!1)}(...t)))}catch(e){throw Vo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Bo(this.firestore,Bu(this._delegate,function ZAe(...n){return iI._create("endBefore",n,!1)}(...t)))}catch(e){throw Vo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Bo(this.firestore,Bu(this._delegate,function YAe(...n){return iI._create("endAt",n,!0)}(...t)))}catch(e){throw Vo(e,"endAt()","Query.endAt()")}}isEqual(t){return kO(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function rRe(n){n=sn(n,Xr);const t=sn(n.firestore,ui),e=zi(t),i=new ju(t);return function mAe(n,t){const e=new yr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(o,s,a){try{const c=yield Lx(o,s,!0),l=new nK(s,c.ls),u=l.ca(c.documents),f=l.applyChanges(u,!1);a.resolve(f.snapshot)}catch(c){const l=Zm(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield eg(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Uu(t,i,n,r))}(this._delegate):"server"===t?.source?function oRe(n){n=sn(n,Xr);const t=sn(n.firestore,ui),e=zi(t),i=new ju(t);return mK(e,n._query,{source:"server"}).then(r=>new Uu(t,i,n,r))}(this._delegate):function iRe(n){n=sn(n,Xr);const t=sn(n.firestore,ui),e=zi(t),i=new ju(t);return FK(n._query),mK(e,n._query).then(r=>new Uu(t,i,n,r))}(this._delegate),e.then(i=>new $O(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=tZ(t),i=nZ(t,r=>new $O(this.firestore,new Uu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return WK(this._delegate,e,i)}withConverter(t){return new Bo(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}class kRe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $O{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new jb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new kRe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new jb(this._firestore,i))})}isEqual(t){return HK(this._delegate,t._delegate)}}class rg extends Bo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qs(this.firestore,t):null}doc(t){try{return new Qs(this.firestore,void 0===t?Kx(this._delegate):Kx(this._delegate,t))}catch(e){throw Vo(e,"doc()","CollectionReference.doc()")}}add(t){return function aRe(n,t){const e=sn(n.firestore,ui),i=Kx(n),r=rI(n.converter,t);return ig(e,[Qx(Ih(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Qs(this.firestore,e))}isEqual(t){return xK(this._delegate,t._delegate)}withConverter(t){return new rg(this.firestore,this._delegate.withConverter(t?Ah.getInstance(this.firestore,t):null))}}function Rh(n){return sn(n,bi)}class WO{constructor(...t){this._delegate=new dl(...t)}static documentId(){return new WO(yi.keyField().canonicalString())}isEqual(t){return(t=(0,D.m9)(t))instanceof dl&&this._delegate._internalPath.isEqual(t._internalPath)}}class kh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function wRe(){return new NO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new kh(t)}static delete(){const t=function bRe(){return new Nb("deleteField")}();return t._methodName="FieldValue.delete",new kh(t)}static arrayUnion(...t){const e=function ERe(...n){return new VAe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new kh(e)}static arrayRemove(...t){const e=function CRe(...n){return new BAe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new kh(e)}static increment(t){const e=function TRe(n){return new UAe("increment",n)}(t);return e._methodName="FieldValue.increment",new kh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const MRe={Firestore:XK,GeoPoint:Zx,Timestamp:Ai,Blob:Bb,Transaction:JK,WriteBatch:eZ,DocumentReference:Qs,DocumentSnapshot:Ub,Query:Bo,QueryDocumentSnapshot:jb,QuerySnapshot:$O,CollectionReference:rg,FieldPath:WO,FieldValue:kh,setLogLevel:function RRe(n){!function _1e(n){Cu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function iZ(n,t){return function ORe(n,t=Nd){return new lt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function GO(n,t){return iZ(n,t).pipe(we(e=>({payload:e,type:"query"})))}!function PRe(n){(function NRe(n,t){n.INTERNAL.registerComponent(new ga.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},MRe)))})(n,(t,e)=>new XK(t,e,new ARe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(vs.Z);class rZ{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=uZ(i,e);return new aZ(r,o,this.afs)}snapshotChanges(){return function FRe(n,t){return iZ(n,t).pipe(Yl(void 0),HM(),we(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yi)}valueChanges(t={}){return this.snapshotChanges().pipe(we(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return C(this.ref.get(t)).pipe(Yi)}}function aI(n,t){return GO(n,t).pipe(Yl(void 0),HM(),we(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function oZ(n,t,e){return aI(n,e).pipe(bp((i,r)=>function LRe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function VRe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return qO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return qO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ht(),we(i=>i.map(r=>({type:r.type,payload:r}))))}function qO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function sZ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class aZ{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(we(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Yl(void 0),HM(),zn(([i,r])=>r.length>0||!i),we(([,i])=>i),Yi)}auditTrail(t){return this.stateChanges(t).pipe(bp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=sZ(t);return oZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yi)}valueChanges(t={}){return GO(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),Yi)}get(t){return C(this.query.get(t)).pipe(Yi)}add(t){return this.ref.add(t)}doc(t){return new rZ(this.ref.doc(t),this.afs)}}class BRe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aI(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.filter(i=>t.indexOf(i.type)>-1)),zn(e=>e.length>0),Yi):aI(this.query,this.afs.schedulers.outsideAngular).pipe(Yi)}auditTrail(t){return this.stateChanges(t).pipe(bp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=sZ(t);return oZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(Yi)}valueChanges(t={}){return GO(this.query,this.afs.schedulers.outsideAngular).pipe(we(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Yi)}get(t){return C(this.query.get(t)).pipe(Yi)}}const cZ=new oe("angularfire2.enableFirestorePersistence"),lZ=new oe("angularfire2.firestore.persistenceSettings"),URe=new oe("angularfire2.firestore.settings"),jRe=new oe("angularfire2.firestore.use-emulator");function uZ(n,t=(e=>e)){return{query:t(n),ref:n}}let HRe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,c,l,u,f,m,_,y,b,E,N,A){this.schedulers=c;const L=jy(e,a,i),W=u;f&&zR(L,a,m,y,b,E,_,N),[this.firestore,this.persistenceEnabled$]=xC(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const le=a.runOutsideAngular(()=>L.firestore());if(o&&le.settings(o),W&&le.useEmulator(...W),r&&!fE(s)){const De=()=>{try{return C(le.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Me){return typeof console<"u"&&console.warn(Me),k(!1)}};return[le,a.runOutsideAngular(De)]}return[le,k(!1)]},[o,W,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=uZ(r,i),a=this.schedulers.ngZone.run(()=>o);return new aZ(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new BRe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new rZ(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(O(zp),O($p,8),O(cZ,8),O(URe,8),O(ds),O(je),O(vC),O(lZ,8),O(jRe,8),O(Hy,8),O(LR,8),O(VR,8),O(BR,8),O(UR,8),O(jR,8),O(HR,8),O(yC,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),zRe=(()=>{class n{constructor(){vs.Z.registerVersion("angularfire",Bp.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:cZ,useValue:!0},{provide:lZ,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=$e({type:n});static \u0275inj=Ke({providers:[HRe]})}return n})();const $Re_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};let fZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({})}return n})(),ike=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,ok,fZ,Ii,fZ]})}return n})(),_ke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[PM]})}return n})(),Ike=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii,_ke,Ii]})}return n})(),Ake=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[Ii]})}return n})(),Mke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({imports:[xd,Ii]})}return n})();function Nke(n,t){if(1&n){const e=ln();R(0,"a",16),Ie("click",function(){return Ye(e),Ge(ne(2).navDisappear())}),R(1,"span"),ce(2,"Felhaszn\xe1l\xf3k"),M()()}}function Pke(n,t){if(1&n){const e=ln();R(0,"li",13),Ie("click",function(){Ye(e);const r=ne(2);return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",17),ce(2,"Id\u0151j\xe1r\xe1s"),M()()}}function Oke(n,t){if(1&n){const e=ln();R(0,"li",13),Ie("click",function(){Ye(e);const r=ne(2);return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",18),ce(2,"Chat"),M()()}}const Fke=function(){return["recipes"]};function Lke(n,t){if(1&n){const e=ln();R(0,"li",13),Ie("click",function(){Ye(e);const r=ne(2);return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",19),ce(2,"Receptek"),M()()}2&n&&(V(1),j("routerLink",$w(1,Fke)))}function Vke(n,t){if(1&n){const e=ln();R(0,"li",13),Ie("click",function(){Ye(e);const r=ne(2);return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",20),ce(2,"Jegyzetek"),M()()}}function Bke(n,t){if(1&n){const e=ln();R(0,"li",13),Ie("click",function(){Ye(e);const r=ne(2);return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(1,"a",21),Ie("click",function(){return Ye(e),Ge(ne(2).signOut())}),ce(2,"Kijelentkez\xe9s "),M()()}}const Uke=function(n){return{"mt-3":n}},TZ=function(){return{exact:!0}};function jke(n,t){if(1&n){const e=ln();Go(0),R(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),Ie("click",function(){Ye(e);const r=ne();return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(5,"span"),ce(6,"Menu "),M(),rt(7,"span",4),M()(),R(8,"div",5)(9,"ul",6)(10,"li",7),Ie("click",function(){Ye(e);const r=ne();return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(11,"a",8),rt(12,"span",9),ce(13," Kezd\u0151lap"),M()(),R(14,"li",10),se(15,Nke,3,0,"a",11),M(),se(16,Pke,3,0,"li",12),se(17,Oke,3,0,"li",12),se(18,Lke,3,2,"li",12),se(19,Vke,3,0,"li",12),R(20,"li",13),Ie("click",function(){Ye(e);const r=ne();return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(21,"a",14),ce(22," Regisztr\xe1ci\xf3 "),M()(),R(23,"li",13),Ie("click",function(){Ye(e);const r=ne();return Ge(r.isMenuClicked=!r.isMenuClicked)}),R(24,"a",15),ce(25,"Bejelentkez\xe9s"),M()(),se(26,Bke,3,0,"li",12),M()()()(),qo()}if(2&n){const e=ne();V(8),j("ngbCollapse",!e.isMenuClicked),V(1),j("ngClass",$a(10,Uke,e.isMenuClicked)),V(2),j("routerLinkActiveOptions",$w(12,TZ)),V(4),j("ngIf",e.isSuperAdmin),V(1),j("ngIf",e.isLoggedIn),V(1),j("ngIf",e.isLoggedIn),V(1),j("ngIf",e.isLoggedIn),V(1),j("ngIf",e.isLoggedIn),V(5),j("routerLinkActiveOptions",$w(13,TZ)),V(2),j("ngIf",e.isLoggedIn)}}let Hke=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{1==e?.emailVerified||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>{this.isNavDisappeared=e})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center",3,"click"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","chat",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&se(0,jke,27,14,"ng-container",0),2&i&&j("ngIf",!r.isNavDisappeared)},dependencies:[jc,or,eu,az,fR],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),zke=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(i,r){1&i&&(rt(0,"app-nav"),R(1,"div",0),rt(2,"img",1),M(),R(3,"div",2),rt(4,"router-outlet"),M())},dependencies:[jE,Hke],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return n})();function xZ(n){return new K(3e3,!1)}function zu(n){switch(n.length){case 0:return new Dv;case 1:return n[0];default:return new EG(n)}}function IZ(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),u=l==s,f=u&&a||new Map;c.forEach((m,_)=>{let y=_,b=m;if("offset"!==_)switch(y=n.normalizePropertyName(y,r),b){case"!":b=e.get(_);break;case tl:b=i.get(_);break;default:b=n.normalizeStyleValue(_,y,b,r)}f.set(y,b)}),u||o.push(f),a=f,s=l}),r.length)throw function hMe(n){return new K(3502,!1)}();return o}function rF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&oF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&oF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&oF(e,"destroy",n)))}}function oF(n,t,e){const o=sF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function sF(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Is(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function DZ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const TMe=(()=>typeof document>"u"?null:document.documentElement)();function aF(n){const t=n.parentNode||n.host||null;return t===TMe?null:t}let Mh=null,SZ=!1;function AZ(n,t){for(;t;){if(t===n)return!0;t=aF(t)}return!1}function RZ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let kZ=(()=>{class n{validateStyleProperty(e){return function IMe(n){Mh||(Mh=function DMe(){return typeof document<"u"?document.body:null}()||{},SZ=!!Mh.style&&"WebkitAppearance"in Mh.style);let t=!0;return Mh.style&&!function xMe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Mh.style,!t&&SZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return AZ(e,i)}getParentElement(e){return aF(e)}query(e,i,r){return RZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Dv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),cF=(()=>{class n{static#e=this.NOOP=new kZ}return n})();const SMe=1e3,lF="ng-enter",_I="ng-leave",yI="ng-trigger",vI=".ng-trigger",NZ="ng-animating",uF=".ng-animating";function ml(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dF(parseFloat(t[1]),t[2])}function dF(n,t){return"s"===t?n*SMe:n}function bI(n,t,e){return n.hasOwnProperty("duration")?n:function RMe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(xZ()),{duration:0,delay:0,easing:""};r=dF(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=dF(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function $ke(){return new K(3100,!1)}()),a=!0),o<0&&(t.push(function Wke(){return new K(3101,!1)}()),a=!0),a&&t.splice(c,0,xZ())}return{duration:r,delay:o,easing:s}}(n,t,e)}function $b(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function PZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $u(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function pc(n,t,e){t.forEach((i,r)=>{const o=fF(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Nh(n,t){t.forEach((e,i)=>{const r=fF(i);n.style[r]=""})}function Wb(n){return Array.isArray(n)?1==n.length?n[0]:wG(n):n}const hF=new RegExp("{{\\s*(.+?)\\s*}}","g");function FZ(n){let t=[];if("string"==typeof n){let e;for(;e=hF.exec(n);)t.push(e[1]);hF.lastIndex=0}return t}function Gb(n,t,e){const i=n.toString(),r=i.replace(hF,(o,s)=>{let a=t[s];return null==a&&(e.push(function qke(n){return new K(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function wI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const NMe=/-+([a-z0-9])/g;function fF(n){return n.replace(NMe,(...t)=>t[1].toUpperCase())}function Ds(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Kke(n){return new K(3004,!1)}()}}function LZ(n,t){return window.getComputedStyle(n)[t]}const EI="*";function FMe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function LMe(n,t,e){if(":"==n[0]){const c=function VMe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function cMe(n){return new K(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function aMe(n){return new K(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(VZ(r,s));"<"==o[0]&&!(r==EI&&s==EI)&&t.push(VZ(s,r))}(i,e,t)):e.push(n),e}const CI=new Set(["true","1"]),TI=new Set(["false","0"]);function VZ(n,t){const e=CI.has(n)||TI.has(n),i=CI.has(t)||TI.has(t);return(r,o)=>{let s=n==EI||n==r,a=t==EI||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?CI.has(n):TI.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?CI.has(t):TI.has(t)),s&&a}}const BMe=new RegExp("s*:selfs*,?","g");function pF(n,t,e,i){return new UMe(n).build(t,e,i)}class UMe{constructor(t){this._driver=t}build(t,e,i){const r=new zMe(e);return this._resetContextStyleTimingState(r),Ds(this,Wb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Yke(){return new K(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function Qke(){return new K(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{FZ(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(wI(o.values()),e.errors.push(function Xke(n,t){return new K(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ds(this,Wb(t.animation),e);return{type:1,matchers:FMe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ph(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ds(this,i,e)),options:Ph(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Ds(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Ph(t.options)}}visitAnimate(t,e){const i=function WMe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mF(bI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=bI(e,t);return mF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:nl({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=nl(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===tl?i.push(a):e.errors.push(new K(3002,!1)):i.push(PZ(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function eMe(n,t,e,i,r){return new K(3010,!1)}()),f=!1),o=u.startTime),f&&l.set(c,{startTime:o,endTime:r}),e.options&&function MMe(n,t,e){const i=t.params||{},r=FZ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Gke(n){return new K(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function tMe(){return new K(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(N=>{const A=this._makeStyleAst(N,e);let L=null!=A.offset?A.offset:function $Me(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(A.styles),W=0;return null!=L&&(o++,W=A.offset=L),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),A});c&&e.errors.push(function nMe(){return new K(3012,!1)}()),a&&e.errors.push(function iMe(){return new K(3200,!1)}());const f=t.steps.length;let m=0;o>0&&o<f?e.errors.push(function rMe(){return new K(3202,!1)}()):0==o&&(m=1/(f-1));const _=f-1,y=e.currentTime,b=e.currentAnimateTimings,E=b.duration;return u.forEach((N,A)=>{const L=m>0?A==_?1:m*A:s[A],W=L*E;e.currentTime=y+b.delay+W,b.duration=W,this._validateStyleAst(N,e),N.offset=L,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:Ds(this,Wb(t.animation),e),options:Ph(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ph(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ph(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function jMe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(BMe,"")),n=n.replace(/@\*/g,vI).replace(/@\w+/g,e=>vI+"-"+e.slice(1)).replace(/:animating/g,uF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Is(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ds(this,Wb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ph(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function oMe(){return new K(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:bI(t.timings,e.errors,!0);return{type:12,animation:Ds(this,Wb(t.animation),e),timings:i,options:null}}}class zMe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ph(n){return n?(n=$b(n)).params&&(n.params=function HMe(n){return n?$b(n):null}(n.params)):n={},n}function mF(n,t,e){return{duration:n,delay:t,easing:e}}function gF(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class xI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const KMe=new RegExp(":enter","g"),YMe=new RegExp(":leave","g");function _F(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new QMe).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class QMe{buildKeyframes(t,e,i,r,o,s,a,c,l,u=[]){l=l||new xI;const f=new yF(t,e,l,r,o,u,[]);f.options=c;const m=c.delay?ml(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,c),Ds(this,i,f);const _=f.timelines.filter(y=>y.containsAnimation());if(_.length&&a.size){let y;for(let b=_.length-1;b>=0;b--){const E=_[b];if(E.element===e){y=E;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,f.errors,c)}return _.length?_.map(y=>y.buildKeyframes()):[gF(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:ml(Gb(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?ml(i.duration):null,a=null!=i.delay?ml(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ds(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=II);const s=ml(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ds(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ml(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ds(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return bI(e.params?Gb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ml(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=II);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,l);o&&f.delayNextStep(o),l===e.element&&(c=f.currentTimeline),Ds(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=e.currentTimeline;c&&u.delayNextStep(c);const f=u.currentTime;Ds(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const II={};class yF{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=II,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new DI(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ml(i.duration)),null!=i.delay&&(r.delay=ml(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Gb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new yF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=II,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new XMe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(KMe,"."+this._enterClassName)).replace(YMe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function sMe(n){return new K(3014,!1)}()),a}}class DI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new DI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||tl),this._currentKeyframe.set(e,tl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function JMe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,tl)}else $u(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=Gb(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??tl),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=$u(a,new Map,this._backFill);l.forEach((u,f)=>{"!"===u?t.add(f):u===tl&&e.add(f)}),i||l.set("offset",c/this.duration),r.push(l)});const o=t.size?wI(t.values()):[],s=e.size?wI(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return gF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class XMe extends DI{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=$u(t[0]);c.set("offset",0),o.push(c);const l=$u(t[0]);l.set("offset",jZ(a)),o.push(l);const u=t.length-1;for(let f=1;f<=u;f++){let m=$u(t[f]);const _=m.get("offset");m.set("offset",jZ((e+_*i)/s)),o.push(m)}i=s,e=0,r="",t=o}return gF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vF{}const eNe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class tNe extends vF{normalizePropertyName(t,e){return fF(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(eNe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Zke(n,t){return new K(3005,!1)}())}return s+o}}function HZ(n,t,e,i,r,o,s,a,c,l,u,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:f,errors:m}}const bF={};class zZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function nNe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,u){const f=[],m=this.ast.options&&this.ast.options.params||bF,y=this.buildStyles(i,a&&a.params||bF,f),b=c&&c.params||bF,E=this.buildStyles(r,b,f),N=new Set,A=new Map,L=new Map,W="void"===r,le={params:iNe(b,m),delay:this.ast.options?.delay},De=u?[]:_F(t,e,this.ast.animation,o,s,y,E,le,l,f);let Me=0;if(De.forEach(rn=>{Me=Math.max(rn.duration+rn.delay,Me)}),f.length)return HZ(e,this._triggerName,i,r,W,y,E,[],[],A,L,Me,f);De.forEach(rn=>{const yn=rn.element,Ji=Is(A,yn,new Set);rn.preStyleProps.forEach(Li=>Ji.add(Li));const Jr=Is(L,yn,new Set);rn.postStyleProps.forEach(Li=>Jr.add(Li)),yn!==e&&N.add(yn)});const nt=wI(N.values());return HZ(e,this._triggerName,i,r,W,y,E,De,nt,A,L,Me)}}function iNe(n,t){const e=$b(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class rNe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=$b(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gb(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class sNe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new rNe(r.style,r.options&&r.options.params||{},i))}),$Z(this.states,"true","1"),$Z(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zZ(t,r,this.states))}),this.fallbackTransition=function aNe(n,t,e){return new zZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $Z(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const cNe=new xI;class lNe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=pF(this._driver,e,i,[]);if(i.length)throw function fMe(n){return new K(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=IZ(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=_F(this._driver,e,o,lF,_I,new Map,new Map,i,cNe,r),s.forEach(u=>{const f=Is(a,u.element,new Map);u.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function pMe(){return new K(3300,!1)}()),s=[]),r.length)throw function mMe(n){return new K(3504,!1)}();a.forEach((u,f)=>{u.forEach((m,_)=>{u.set(_,this._driver.computeStyle(f,_,tl))})});const l=zu(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function gMe(n){return new K(3301,!1)}();return e}listen(t,e,i,r){const o=sF(e,"","","");return rF(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WZ="ng-animate-queued",wF="ng-animate-disabled",pNe=[],GZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mNe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xa="__ng_removed";class EF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function vNe(n){return n??null}(i?t.value:t),i){const o=$b(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const qb="void",CF=new EF(qb);class gNe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function _Me(n,t){return new K(3302,!1)}();if(null==i||0==i.length)throw function yMe(n){return new K(3303,!1)}();if(!function bNe(n){return"start"==n||"done"==n}(i))throw function vMe(n,t){return new K(3400,!1)}();const o=Is(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Is(this._engine.statesByElement,t,new Map);return a.has(e)||(Xs(t,yI),Xs(t,yI+"-"+e),a.set(e,CF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function bMe(n){return new K(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new TF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Xs(t,yI),Xs(t,yI+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new EF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=CF),l.value!==qb&&c.value===l.value){if(!function CNe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const b=[],E=o.matchStyles(c.value,c.params,b),N=o.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Nh(t,E),pc(t,N)})}return}const m=Is(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=o.matchTransition(c.value,l.value,t,l.params),y=!1;if(!_){if(!r)return;_=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(Xs(t,WZ),s.onStart(()=>{cg(t,WZ)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const E=this._engine.playersByElement.get(t);if(E){let N=E.indexOf(s);N>=0&&E.splice(N,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,vI,!0);i.forEach(r=>{if(r[xa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,qb,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&zu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||CF,u=new EF(qb),f=new TF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[xa];(!o||o===GZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Xs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=sF(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,rF(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class _Ne{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gNe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(SI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!SI(e))return;const o=e[xa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xs(t,wF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cg(t,wF))}removeNode(t,e,i){if(SI(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[xa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return SI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,vI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[xa];if(e&&e.setForRemoval){if(t[xa]=GZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?zu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function wMe(n){return new K(3402,!1)}()}_flushAnimations(t,e){const i=new xI,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(Pe=>{u.add(Pe);const Xe=this.driver.query(Pe,".ng-animate-queued",!0);for(let ft=0;ft<Xe.length;ft++)u.add(Xe[ft])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=ZZ(m,this.collectedEnterElements),y=new Map;let b=0;_.forEach((Pe,Xe)=>{const ft=lF+b++;y.set(Xe,ft),Pe.forEach(Ht=>Xs(Ht,ft))});const E=[],N=new Set,A=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const Xe=this.collectedLeaveElements[Pe],ft=Xe[xa];ft&&ft.setForRemoval&&(E.push(Xe),N.add(Xe),ft.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(Ht=>N.add(Ht)):A.add(Xe))}const L=new Map,W=ZZ(m,Array.from(N));W.forEach((Pe,Xe)=>{const ft=_I+b++;L.set(Xe,ft),Pe.forEach(Ht=>Xs(Ht,ft))}),t.push(()=>{_.forEach((Pe,Xe)=>{const ft=y.get(Xe);Pe.forEach(Ht=>cg(Ht,ft))}),W.forEach((Pe,Xe)=>{const ft=L.get(Xe);Pe.forEach(Ht=>cg(Ht,ft))}),E.forEach(Pe=>{this.processLeaveNode(Pe)})});const le=[],De=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(ft=>{const Ht=ft.player,Vi=ft.element;if(le.push(Ht),this.collectedEnterElements.length){const er=Vi[xa];if(er&&er.setForMove){if(er.previousTriggersValues&&er.previousTriggersValues.has(ft.triggerName)){const Uo=er.previousTriggersValues.get(ft.triggerName),mo=this.statesByElement.get(ft.element);if(mo&&mo.has(ft.triggerName)){const lg=mo.get(ft.triggerName);lg.value=Uo,mo.set(ft.triggerName,lg)}}return void Ht.destroy()}}const os=!f||!this.driver.containsElement(f,Vi),br=L.get(Vi),Ss=y.get(Vi),Pn=this._buildInstruction(ft,i,Ss,br,os);if(Pn.errors&&Pn.errors.length)return void De.push(Pn);if(os)return Ht.onStart(()=>Nh(Vi,Pn.fromStyles)),Ht.onDestroy(()=>pc(Vi,Pn.toStyles)),void r.push(Ht);if(ft.isFallbackTransition)return Ht.onStart(()=>Nh(Vi,Pn.fromStyles)),Ht.onDestroy(()=>pc(Vi,Pn.toStyles)),void r.push(Ht);const Ia=[];Pn.timelines.forEach(er=>{er.stretchStartingKeyframe=!0,this.disabledNodes.has(er.element)||Ia.push(er)}),Pn.timelines=Ia,i.append(Vi,Pn.timelines),s.push({instruction:Pn,player:Ht,element:Vi}),Pn.queriedElements.forEach(er=>Is(a,er,[]).push(Ht)),Pn.preStyleProps.forEach((er,Uo)=>{if(er.size){let mo=c.get(Uo);mo||c.set(Uo,mo=new Set),er.forEach((lg,Fh)=>mo.add(Fh))}}),Pn.postStyleProps.forEach((er,Uo)=>{let mo=l.get(Uo);mo||l.set(Uo,mo=new Set),er.forEach((lg,Fh)=>mo.add(Fh))})});if(De.length){const Pe=[];De.forEach(Xe=>{Pe.push(function EMe(n,t){return new K(3505,!1)}())}),le.forEach(Xe=>Xe.destroy()),this.reportError(Pe)}const Me=new Map,nt=new Map;s.forEach(Pe=>{const Xe=Pe.element;i.has(Xe)&&(nt.set(Xe,Xe),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,Me))}),r.forEach(Pe=>{const Xe=Pe.element;this._getPreviousPlayers(Xe,!1,Pe.namespaceId,Pe.triggerName,null).forEach(Ht=>{Is(Me,Xe,[]).push(Ht),Ht.destroy()})});const rn=E.filter(Pe=>QZ(Pe,c,l)),yn=new Map;KZ(yn,this.driver,A,l,tl).forEach(Pe=>{QZ(Pe,c,l)&&rn.push(Pe)});const Jr=new Map;_.forEach((Pe,Xe)=>{KZ(Jr,this.driver,new Set(Pe),c,"!")}),rn.forEach(Pe=>{const Xe=yn.get(Pe),ft=Jr.get(Pe);yn.set(Pe,new Map([...Xe?.entries()??[],...ft?.entries()??[]]))});const Li=[],mc=[],gc={};s.forEach(Pe=>{const{element:Xe,player:ft,instruction:Ht}=Pe;if(i.has(Xe)){if(u.has(Xe))return ft.onDestroy(()=>pc(Xe,Ht.toStyles)),ft.disabled=!0,ft.overrideTotalTime(Ht.totalTime),void r.push(ft);let Vi=gc;if(nt.size>1){let br=Xe;const Ss=[];for(;br=br.parentNode;){const Pn=nt.get(br);if(Pn){Vi=Pn;break}Ss.push(br)}Ss.forEach(Pn=>nt.set(Pn,Vi))}const os=this._buildAnimation(ft.namespaceId,Ht,Me,o,Jr,yn);if(ft.setRealPlayer(os),Vi===gc)Li.push(ft);else{const br=this.playersByElement.get(Vi);br&&br.length&&(ft.parentPlayer=zu(br)),r.push(ft)}}else Nh(Xe,Ht.fromStyles),ft.onDestroy(()=>pc(Xe,Ht.toStyles)),mc.push(ft),u.has(Xe)&&r.push(ft)}),mc.forEach(Pe=>{const Xe=o.get(Pe.element);if(Xe&&Xe.length){const ft=zu(Xe);Pe.setRealPlayer(ft)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<E.length;Pe++){const Xe=E[Pe],ft=Xe[xa];if(cg(Xe,_I),ft&&ft.hasAnimation)continue;let Ht=[];if(a.size){let os=a.get(Xe);os&&os.length&&Ht.push(...os);let br=this.driver.query(Xe,uF,!0);for(let Ss=0;Ss<br.length;Ss++){let Pn=a.get(br[Ss]);Pn&&Pn.length&&Ht.push(...Pn)}}const Vi=Ht.filter(os=>!os.destroyed);Vi.length?wNe(this,Xe,Vi):this.processLeaveNode(Xe)}return E.length=0,Li.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const Xe=this.players.indexOf(Pe);this.players.splice(Xe,1)}),Pe.play()}),Li}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==qb;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,u=l!==o,f=Is(i,l,[]);this._getPreviousPlayers(l,u,s,a,e.toState).forEach(_=>{const y=_.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),_.destroy(),f.push(_)})}Nh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],u=new Set,f=new Set,m=e.timelines.map(y=>{const b=y.element;u.add(b);const E=b[xa];if(E&&E.removedBeforeQueried)return new Dv(y.duration,y.delay);const N=b!==c,A=function ENe(n){const t=[];return YZ(n,t),t}((i.get(b)||pNe).map(Me=>Me.getRealPlayer())).filter(Me=>!!Me.element&&Me.element===b),L=o.get(b),W=s.get(b),le=IZ(this._normalizer,y.keyframes,L,W),De=this._buildPlayer(y,le,A);if(y.subTimeline&&r&&f.add(b),N){const Me=new TF(t,a,b);Me.setRealPlayer(De),l.push(Me)}return De});l.forEach(y=>{Is(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function yNe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Xs(y,NZ));const _=zu(m);return _.onDestroy(()=>{u.forEach(y=>cg(y,NZ)),pc(c,e.toStyles)}),f.forEach(y=>{Is(r,y,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Dv(t.duration,t.delay)}}class TF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Dv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>rF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Is(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function SI(n){return n&&1===n.nodeType}function qZ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function KZ(n,t,e,i,r){const o=[];e.forEach(c=>o.push(qZ(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(f=>{const m=t.computeStyle(l,f,r);u.set(f,m),(!m||0==m.length)&&(l[xa]=mNe,s.push(l))}),n.set(l,u)});let a=0;return e.forEach(c=>qZ(c,o[a++])),s}function ZZ(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function Xs(n,t){n.classList?.add(t)}function cg(n,t){n.classList?.remove(t)}function wNe(n,t,e){zu(e).onDone(()=>n.processLeaveNode(t))}function YZ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof EG?YZ(i.players,t):t.push(i)}}function QZ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class AI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new _Ne(t,e,i),this._timelineEngine=new lNe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=pF(this._driver,o,c,[]);if(c.length)throw function dMe(n,t){return new K(3404,!1)}();a=function oNe(n,t,e){return new sNe(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=DZ(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=DZ(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let xNe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pc(this._element,this._initialStyles),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nh(this._element,this._endStyles),this._endStyles=null),pc(this._element,this._initialStyles),this._state=3)}}return n})();function xF(n){let t=null;return n.forEach((e,i)=>{(function INe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class XZ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:LZ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class DNe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return AZ(t,e)}getParentElement(t){return aF(t)}query(t,e,i){return RZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(_=>_ instanceof XZ);(function PMe(n,t){return 0===n||0===t})(i,r)&&u.forEach(_=>{_.currentSnapshot.forEach((y,b)=>l.set(b,y))});let f=function kMe(n){return n.length?n[0]instanceof Map?n:n.map(t=>PZ(t)):[]}(e).map(_=>$u(_));f=function OMe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,LZ(n,a)))}}return t}(t,f,l);const m=function TNe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xF(t[0]),t.length>1&&(i=xF(t[t.length-1]))):t instanceof Map&&(e=xF(t)),e||i?new xNe(n,e,i):null}(t,f);return new XZ(t,f,c,m)}}let SNe=(()=>{class n extends bG{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?wG(e):e;return JZ(this._renderer,null,i,"register",[r]),new ANe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gf),O(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class ANe extends cCe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new RNe(this._id,t,e||{},this._renderer)}}class RNe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return JZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JZ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const eY="@.disabled";let kNe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new tY("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(c),new MNe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gf),O(AI),O(je))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class tY{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==eY?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class MNe extends tY{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==eY?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function NNe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function PNe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let ONe=(()=>{class n extends AI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wt),O(cF),O(vF),O(la))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const nY=[{provide:bG,useClass:SNe},{provide:vF,useFactory:function FNe(){return new tNe}},{provide:AI,useClass:ONe},{provide:Gf,useFactory:function LNe(n,t,e){return new kNe(n,t,e)},deps:[KS,AI,je]}],IF=[{provide:cF,useFactory:()=>new DNe},{provide:oa,useValue:"BrowserAnimations"},...nY],iY=[{provide:cF,useClass:kZ},{provide:oa,useValue:"NoopAnimations"},...nY];let VNe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?iY:IF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n});static#n=this.\u0275inj=Ke({providers:IF,imports:[o3]})}return n})();class BNe{intercept(t,e){return e.handle(t).pipe(gi(i=>{}))}}let UNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$e({type:n,bootstrap:[zke]});static#n=this.\u0275inj=Ke({providers:[{provide:h$,useClass:BNe,multi:!0},DR],imports:[o3,lIe,tme,zae,$ae,Wme,rge.initializeApp($Re_firebaseConfig),ewe,lge,zRe,HEe,VNe,AT,gxe,R_e,H_e,ike,QCe,GTe,Hxe,Ike,Ake,Mke,SR]})}return n})();Pse().bootstrapModule(UNe).catch(n=>console.error(n))},614:()=>{const eo=":";const vn=function(G,...H){if(vn.translate){const fe=vn.translate(G,H);G=fe[0],H=fe[1]}let ee=hi(G[0],G.raw[0]);for(let fe=1;fe<G.length;fe++)ee+=H[fe-1]+hi(G[fe],G.raw[fe]);return ee},Un=":";function hi(G,H){return H.charAt(0)===Un?G.substring(function ie(G,H){for(let ee=1,fe=1;ee<G.length;ee++,fe++)if("\\"===H[fe])fe++;else if(G[ee]===eo)return ee;throw new Error(`Unterminated $localize metadata block in "${H}".`)}(G,H)+1):G}globalThis.$localize=vn},106:(eo,wi,ct)=>{ct.d(wi,{Z:()=>Gn});var S=ct(58),re=ct(537),z=ct(534),Je=ct(879);class pt{constructor(gt,_t){this._delegate=gt,this.firebase=_t,(0,z._addComponent)(gt,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=gt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this._delegate.automaticDataCollectionEnabled=gt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(gt=>{this._delegate.checkDestroyed(),gt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(gt,_t=z._DEFAULT_ENTRY_NAME){var Ei;this._delegate.checkDestroyed();const qn=this._delegate.container.getProvider(gt);return!qn.isInitialized()&&"EXPLICIT"===(null===(Ei=qn.getComponent())||void 0===Ei?void 0:Ei.instantiationMode)&&qn.initialize(),qn.getImmediate({identifier:_t})}_removeServiceInstance(gt,_t=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(gt).clearInstance(_t)}_addComponent(gt){(0,z._addComponent)(this._delegate,gt)}_addOrOverwriteComponent(gt){(0,z._addOrOverwriteComponent)(this._delegate,gt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const di=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Xt(){const zt=function Dn(zt){const gt={},_t={__esModule:!0,initializeApp:function Rt(It,ve={}){const Gt=z.initializeApp(It,ve);if((0,S.r3)(gt,Gt.name))return gt[Gt.name];const Sn=new zt(Gt,_t);return gt[Gt.name]=Sn,Sn},app:qn,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function wr(It){const ve=It.name,Gt=ve.replace("-compat","");if(z._registerComponent(It)&&"PUBLIC"===It.type){const Sn=(ei=qn())=>{if("function"!=typeof ei[Gt])throw di.create("invalid-app-argument",{appName:ve});return ei[Gt]()};void 0!==It.serviceProps&&(0,S.ZB)(Sn,It.serviceProps),_t[Gt]=Sn,zt.prototype[Gt]=function(...ei){return this._getService.bind(this,ve).apply(this,It.multipleInstances?ei:[])}}return"PUBLIC"===It.type?_t[Gt]:null},removeApp:function Ei(It){delete gt[It]},useAsService:function Ci(It,ve){return"serverAuth"===ve?null:ve},modularAPIs:z}};function qn(It){if(!(0,S.r3)(gt,It=It||z._DEFAULT_ENTRY_NAME))throw di.create("no-app",{appName:It});return gt[It]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function $t(){return Object.keys(gt).map(It=>gt[It])}}),qn.App=zt,_t}(pt);return zt.INTERNAL=Object.assign(Object.assign({},zt.INTERNAL),{createFirebaseNamespace:Xt,extendNamespace:function gt(_t){(0,S.ZB)(zt,_t)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),zt}(),Ce=new Je.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const zt=self.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gn=he;!function on(zt){(0,z.registerVersion)("@firebase/app-compat","0.2.23",zt)}()},534:(eo,wi,ct)=>{ct.r(wi),ct.d(wi,{FirebaseError:()=>Je.ZR,SDK_VERSION:()=>ss,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>tr,_addOrOverwriteComponent:()=>lr,_apps:()=>ti,_clearComponents:()=>bn,_components:()=>$i,_getProvider:()=>Kt,_registerComponent:()=>Tn,_removeServiceInstance:()=>dn,deleteApp:()=>ki,getApp:()=>as,getApps:()=>Wi,initializeApp:()=>vo,onLog:()=>gl,registerVersion:()=>bo,setLogLevel:()=>Da});var S=ct(861),re=ct(537),z=ct(879),Je=ct(58);const pt=(q,U)=>U.some(Ee=>q instanceof Ee);let Wn,di;const he=new WeakMap,Ce=new WeakMap,qe=new WeakMap,Ct=new WeakMap,on=new WeakMap;let gt={get(q,U,Ee){if(q instanceof IDBTransaction){if("done"===U)return Ce.get(q);if("objectStoreNames"===U)return q.objectStoreNames||qe.get(q);if("store"===U)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return Rt(q[U])},set:(q,U,Ee)=>(q[U]=Ee,!0),has:(q,U)=>q instanceof IDBTransaction&&("done"===U||"store"===U)||U in q};function qn(q){return"function"==typeof q?function Ei(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xt(){return di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...U){return q.apply($t(this),U),Rt(he.get(this))}:function(...U){return Rt(q.apply($t(this),U))}:function(U,...Ee){const et=q.call($t(this),U,...Ee);return qe.set(et,U.sort?U.sort():[U]),Rt(et)}}(q):(q instanceof IDBTransaction&&function zt(q){if(Ce.has(q))return;const U=new Promise((Ee,et)=>{const Ot=()=>{q.removeEventListener("complete",Ut),q.removeEventListener("error",K),q.removeEventListener("abort",K)},Ut=()=>{Ee(),Ot()},K=()=>{et(q.error||new DOMException("AbortError","AbortError")),Ot()};q.addEventListener("complete",Ut),q.addEventListener("error",K),q.addEventListener("abort",K)});Ce.set(q,U)}(q),pt(q,function Dn(){return Wn||(Wn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,gt):q)}function Rt(q){if(q instanceof IDBRequest)return function Gn(q){const U=new Promise((Ee,et)=>{const Ot=()=>{q.removeEventListener("success",Ut),q.removeEventListener("error",K)},Ut=()=>{Ee(Rt(q.result)),Ot()},K=()=>{et(q.error),Ot()};q.addEventListener("success",Ut),q.addEventListener("error",K)});return U.then(Ee=>{Ee instanceof IDBCursor&&he.set(Ee,q)}).catch(()=>{}),on.set(U,q),U}(q);if(Ct.has(q))return Ct.get(q);const U=qn(q);return U!==q&&(Ct.set(q,U),on.set(U,q)),U}const $t=q=>on.get(q),It=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Gt=new Map;function Sn(q,U){if(!(q instanceof IDBDatabase)||U in q||"string"!=typeof U)return;if(Gt.get(U))return Gt.get(U);const Ee=U.replace(/FromIndex$/,""),et=U!==Ee,Ot=ve.includes(Ee);if(!(Ee in(et?IDBIndex:IDBObjectStore).prototype)||!Ot&&!It.includes(Ee))return;const Ut=function(){var K=(0,S.Z)(function*(Mi,...Ze){const Wt=this.transaction(Mi,Ot?"readwrite":"readonly");let Wu=Wt.store;return et&&(Wu=Wu.index(Ze.shift())),(yield Promise.all([Wu[Ee](...Ze),Ot&&Wt.done]))[0]});return function(Ze){return K.apply(this,arguments)}}();return Gt.set(U,Ut),Ut}!function _t(q){gt=q(gt)}(q=>({...q,get:(U,Ee,et)=>Sn(U,Ee)||q.get(U,Ee,et),has:(U,Ee)=>!!Sn(U,Ee)||q.has(U,Ee)}));class ei{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Kn(q){const U=q.getComponent();return"VERSION"===U?.type}(Ee)){const et=Ee.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ee=>Ee).join(" ")}}const go="@firebase/app",lt=new z.Yd("@firebase/app"),Bt="[DEFAULT]",Rn={[go]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,$i=new Map;function tr(q,U){try{q.container.addComponent(U)}catch(Ee){lt.debug(`Component ${U.name} failed to register with FirebaseApp ${q.name}`,Ee)}}function lr(q,U){q.container.addOrOverwriteComponent(U)}function Tn(q){const U=q.name;if($i.has(U))return lt.debug(`There were multiple attempts to register component ${U}.`),!1;$i.set(U,q);for(const Ee of ti.values())tr(Ee,q);return!0}function Kt(q,U){const Ee=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),q.container.getProvider(U)}function dn(q,U,Ee=Bt){Kt(q,U).clearInstance(Ee)}function bn(){$i.clear()}const jn=new Je.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(U,Ee,et){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const ss="10.6.0";function vo(q,U={}){let Ee=q;"object"!=typeof U&&(U={name:U});const et=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},U),Ot=et.name;if("string"!=typeof Ot||!Ot)throw jn.create("bad-app-name",{appName:String(Ot)});if(Ee||(Ee=(0,Je.aH)()),!Ee)throw jn.create("no-options");const Ut=ti.get(Ot);if(Ut){if((0,Je.vZ)(Ee,Ut.options)&&(0,Je.vZ)(et,Ut.config))return Ut;throw jn.create("duplicate-app",{appName:Ot})}const K=new re.H0(Ot);for(const Ze of $i.values())K.addComponent(Ze);const Mi=new Zn(Ee,et,K);return ti.set(Ot,Mi),Mi}function as(q=Bt){const U=ti.get(q);if(!U&&q===Bt&&(0,Je.aH)())return vo();if(!U)throw jn.create("no-app",{appName:q});return U}function Wi(){return Array.from(ti.values())}function ki(q){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,S.Z)(function*(q){const U=q.name;ti.has(U)&&(ti.delete(U),yield Promise.all(q.container.getProviders().map(Ee=>Ee.delete())),q.isDeleted=!0)})).apply(this,arguments)}function bo(q,U,Ee){var et;let Ot=null!==(et=Rn[q])&&void 0!==et?et:q;Ee&&(Ot+=`-${Ee}`);const Ut=Ot.match(/\s|\//),K=U.match(/\s|\//);if(Ut||K){const Mi=[`Unable to register library "${Ot}" with version "${U}":`];return Ut&&Mi.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Ut&&K&&Mi.push("and"),K&&Mi.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void lt.warn(Mi.join(" "))}Tn(new re.wA(`${Ot}-version`,()=>({library:Ot,version:U}),"VERSION"))}function gl(q,U){if(null!==q&&"function"!=typeof q)throw jn.create("invalid-log-argument");(0,z.Am)(q,U)}function Da(q){(0,z.Ub)(q)}const yc="firebase-heartbeat-database",As=1,F="firebase-heartbeat-store";let P=null;function C(){return P||(P=function wr(q,U,{blocked:Ee,upgrade:et,blocking:Ot,terminated:Ut}={}){const K=indexedDB.open(q,U),Mi=Rt(K);return et&&K.addEventListener("upgradeneeded",Ze=>{et(Rt(K.result),Ze.oldVersion,Ze.newVersion,Rt(K.transaction),Ze)}),Ee&&K.addEventListener("blocked",Ze=>Ee(Ze.oldVersion,Ze.newVersion,Ze)),Mi.then(Ze=>{Ut&&Ze.addEventListener("close",()=>Ut()),Ot&&Ze.addEventListener("versionchange",Wt=>Ot(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Mi}(yc,As,{upgrade:(q,U)=>{0===U&&q.createObjectStore(F)}}).catch(q=>{throw jn.create("idb-open",{originalErrorMessage:q.message})})),P}function w(){return(w=(0,S.Z)(function*(q){try{return yield(yield C()).transaction(F).objectStore(F).get(ze(q))}catch(U){if(U instanceof Je.ZR)lt.warn(U.message);else{const Ee=jn.create("idb-get",{originalErrorMessage:U?.message});lt.warn(Ee.message)}}})).apply(this,arguments)}function k(q,U){return ae.apply(this,arguments)}function ae(){return(ae=(0,S.Z)(function*(q,U){try{const et=(yield C()).transaction(F,"readwrite");yield et.objectStore(F).put(U,ze(q)),yield et.done}catch(Ee){if(Ee instanceof Je.ZR)lt.warn(Ee.message);else{const et=jn.create("idb-set",{originalErrorMessage:Ee?.message});lt.warn(et.message)}}})).apply(this,arguments)}function ze(q){return`${q.name}!${q.options.appId}`}class an{constructor(U){this.container=U,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new tt(Ee),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var U=this;return(0,S.Z)(function*(){var Ee;const Ot=U.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Ne();if(null==(null===(Ee=U._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)&&(U._heartbeatsCache=yield U._heartbeatsCachePromise),U._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!U._heartbeatsCache.heartbeats.some(K=>K.date===Ut))return U._heartbeatsCache.heartbeats.push({date:Ut,agent:Ot}),U._heartbeatsCache.heartbeats=U._heartbeatsCache.heartbeats.filter(K=>{const Mi=new Date(K.date).valueOf();return Date.now()-Mi<=2592e6}),U._storage.overwrite(U._heartbeatsCache)})()}getHeartbeatsHeader(){var U=this;return(0,S.Z)(function*(){var Ee;if(null===U._heartbeatsCache&&(yield U._heartbeatsCachePromise),null==(null===(Ee=U._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)||0===U._heartbeatsCache.heartbeats.length)return"";const et=Ne(),{heartbeatsToSend:Ot,unsentEntries:Ut}=function kn(q,U=1024){const Ee=[];let et=q.slice();for(const Ot of q){const Ut=Ee.find(K=>K.agent===Ot.agent);if(Ut){if(Ut.dates.push(Ot.date),nr(Ee)>U){Ut.dates.pop();break}}else if(Ee.push({agent:Ot.agent,dates:[Ot.date]}),nr(Ee)>U){Ee.pop();break}et=et.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:et}}(U._heartbeatsCache.heartbeats),K=(0,Je.L)(JSON.stringify({version:2,heartbeats:Ot}));return U._heartbeatsCache.lastSentHeartbeatDate=et,Ut.length>0?(U._heartbeatsCache.heartbeats=Ut,yield U._storage.overwrite(U._heartbeatsCache)):(U._heartbeatsCache.heartbeats=[],U._storage.overwrite(U._heartbeatsCache)),K})()}}function Ne(){return(new Date).toISOString().substring(0,10)}class tt{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Je.hl)()&&(0,Je.eu)().then(()=>!0).catch(()=>!1)})()}read(){var U=this;return(0,S.Z)(function*(){return(yield U._canUseIndexedDBPromise)&&(yield function I(q){return w.apply(this,arguments)}(U.app))||{heartbeats:[]}})()}overwrite(U){var Ee=this;return(0,S.Z)(function*(){var et;if(yield Ee._canUseIndexedDBPromise){const Ut=yield Ee.read();return k(Ee.app,{lastSentHeartbeatDate:null!==(et=U.lastSentHeartbeatDate)&&void 0!==et?et:Ut.lastSentHeartbeatDate,heartbeats:U.heartbeats})}})()}add(U){var Ee=this;return(0,S.Z)(function*(){var et;if(yield Ee._canUseIndexedDBPromise){const Ut=yield Ee.read();return k(Ee.app,{lastSentHeartbeatDate:null!==(et=U.lastSentHeartbeatDate)&&void 0!==et?et:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...U.heartbeats]})}})()}}function nr(q){return(0,Je.L)(JSON.stringify({version:2,heartbeats:q})).length}!function vc(q){Tn(new re.wA("platform-logger",U=>new ei(U),"PRIVATE")),Tn(new re.wA("heartbeat",U=>new an(U),"PRIVATE")),bo(go,"0.9.23",q),bo(go,"0.9.23","esm2017"),bo("fire-js","")}("")},537:(eo,wi,ct)=>{ct.d(wi,{H0:()=>Dn,wA:()=>z,zt:()=>pt});var S=ct(861),re=ct(58);class z{constructor(he,Ce,qe){this.name=he,this.instanceFactory=Ce,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Je="[DEFAULT]";class pt{constructor(he,Ce){this.name=he,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const Ce=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(Ce)){const qe=new re.BH;if(this.instancesDeferred.set(Ce,qe),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:Ce});Ct&&qe.resolve(Ct)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(he){var Ce;const qe=this.normalizeInstanceIdentifier(he?.identifier),Ct=null!==(Ce=he?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(on){if(Ct)return null;throw on}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function di(Xt){return"EAGER"===Xt.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Je})}catch{}for(const[Ce,qe]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(Ce);try{const on=this.getOrInitializeService({instanceIdentifier:Ct});qe.resolve(on)}catch{}}}}clearInstance(he=Je){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,S.Z)(function*(){const Ce=Array.from(he.instances.values());yield Promise.all([...Ce.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...Ce.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Je){return this.instances.has(he)}getOptions(he=Je){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:Ce={}}=he,qe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:qe,options:Ce});for(const[on,Gn]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(on)&&Gn.resolve(Ct);return Ct}onInit(he,Ce){var qe;const Ct=this.normalizeInstanceIdentifier(Ce),on=null!==(qe=this.onInitCallbacks.get(Ct))&&void 0!==qe?qe:new Set;on.add(he),this.onInitCallbacks.set(Ct,on);const Gn=this.instances.get(Ct);return Gn&&he(Gn,Ct),()=>{on.delete(he)}}invokeOnInitCallbacks(he,Ce){const qe=this.onInitCallbacks.get(Ce);if(qe)for(const Ct of qe)try{Ct(he,Ce)}catch{}}getOrInitializeService({instanceIdentifier:he,options:Ce={}}){let qe=this.instances.get(he);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Xt=he,Xt===Je?void 0:Xt),options:Ce}),this.instances.set(he,qe),this.instancesOptions.set(he,Ce),this.invokeOnInitCallbacks(qe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,qe)}catch{}var Xt;return qe||null}normalizeInstanceIdentifier(he=Je){return this.component?this.component.multipleInstances?he:Je:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dn{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const Ce=this.getProvider(he.name);if(Ce.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);Ce.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const Ce=new pt(he,this);return this.providers.set(he,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},879:(eo,wi,ct)=>{ct.d(wi,{Am:()=>Xt,Ub:()=>Dn,Yd:()=>di,in:()=>re});const S=[];var re=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(re||{});const z={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Je=re.INFO,pt={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Wn=(he,Ce,...qe)=>{if(Ce<he.logLevel)return;const Ct=(new Date).toISOString(),on=pt[Ce];if(!on)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[on](`[${Ct}]  ${he.name}:`,...qe)};class di{constructor(Ce){this.name=Ce,this._logLevel=Je,this._logHandler=Wn,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in re))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?z[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...Ce),this._logHandler(this,re.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...Ce),this._logHandler(this,re.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,re.INFO,...Ce),this._logHandler(this,re.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,re.WARN,...Ce),this._logHandler(this,re.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...Ce),this._logHandler(this,re.ERROR,...Ce)}}function Dn(he){S.forEach(Ce=>{Ce.setLogLevel(he)})}function Xt(he,Ce){for(const qe of S){let Ct=null;Ce&&Ce.level&&(Ct=z[Ce.level]),qe.userLogHandler=null===he?null:(on,Gn,...zt)=>{const gt=zt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Gn>=(Ct??on.logLevel)&&he({level:re[Gn].toLowerCase(),message:gt,args:zt,type:on.name})}}}},365:(eo,wi,ct)=>{ct.r(wi);var S=ct(861),re=ct(106),z=ct(562),Je=ct(58),di=(ct(534),ct(879),ct(537));function Dn(){return window}function Ce(){return Ce=(0,S.Z)(function*(C,I,w){var k;const{BuildInfo:ae}=Dn();(0,z.au)(I.sessionId,"AuthEvent did not contain a session ID");const ze=yield function _t(C){return Ei.apply(this,arguments)}(I.sessionId),Ue={};return(0,z.av)()?Ue.ibi=ae.packageName:(0,z.aw)()?Ue.apn=ae.packageName:(0,z.ax)(C,"operation-not-supported-in-this-environment"),ae.displayName&&(Ue.appDisplayName=ae.displayName),Ue.sessionId=ze,(0,z.ay)(C,w,I.type,void 0,null!==(k=I.eventId)&&void 0!==k?k:void 0,Ue)}),Ce.apply(this,arguments)}function Ct(){return(Ct=(0,S.Z)(function*(C){const{BuildInfo:I}=Dn(),w={};(0,z.av)()?w.iosBundleId=I.packageName:(0,z.aw)()?w.androidPackageName=I.packageName:(0,z.ax)(C,"operation-not-supported-in-this-environment"),yield(0,z.az)(C,w)})).apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(C,I,w){const{cordova:k}=Dn();let ae=()=>{};try{yield new Promise((ze,Ue)=>{let ht=null;function an(){var tt;ze();const nr=null===(tt=k.plugins.browsertab)||void 0===tt?void 0:tt.close;"function"==typeof nr&&nr(),"function"==typeof w?.close&&w.close()}function Ne(){ht||(ht=window.setTimeout(()=>{Ue((0,z.aB)(C,"redirect-cancelled-by-user"))},2e3))}function kn(){"visible"===document?.visibilityState&&Ne()}I.addPassiveListener(an),document.addEventListener("resume",Ne,!1),(0,z.aw)()&&document.addEventListener("visibilitychange",kn,!1),ae=()=>{I.removePassiveListener(an),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",kn,!1),ht&&window.clearTimeout(ht)}})}finally{ae()}})).apply(this,arguments)}function Ei(){return(Ei=(0,S.Z)(function*(C){const I=function qn(C){if((0,z.au)(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const I=new ArrayBuffer(C.length),w=new Uint8Array(I);for(let k=0;k<C.length;k++)w[k]=C.charCodeAt(k);return w}(C),w=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(w)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $t extends z.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(I)),super.onEvent(I)}initialized(){var I=this;return(0,S.Z)(function*(){yield I.initPromise})()}}function It(C){return ve.apply(this,arguments)}function ve(){return(ve=(0,S.Z)(function*(C){const I=yield ei()._get(Kn(C));return I&&(yield ei()._remove(Kn(C))),I})).apply(this,arguments)}function Sn(){const C=[];for(let w=0;w<20;w++){const k=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(k))}return C.join("")}function ei(){return(0,z.aE)(z.b)}function Kn(C){return(0,z.aF)("authEvent",C.config.apiKey,C.name)}function lt(C){if(!C?.includes("?"))return{};const[I,...w]=C.split("?");return(0,Je.zd)(w.join("?"))}const Q=class yo{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(I){var w=this;return(0,S.Z)(function*(){const k=I._key();let ae=w.eventManagers.get(k);return ae||(ae=new $t(I),w.eventManagers.set(k,ae),w.attachCallbackListeners(I,ae)),ae})()}_openPopup(I){(0,z.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,w,k,ae){var ze=this;return(0,S.Z)(function*(){!function gt(C){var I,w,k,ae,ze,Ue,ht,an,Ne,kn;const tt=Dn();(0,z.aC)("function"==typeof(null===(I=tt?.universalLinks)||void 0===I?void 0:I.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.aC)(typeof(null===(w=tt?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.aC)("function"==typeof(null===(ze=null===(ae=null===(k=tt?.cordova)||void 0===k?void 0:k.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===ze?void 0:ze.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(an=null===(ht=null===(Ue=tt?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===an?void 0:an.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.aC)("function"==typeof(null===(kn=null===(Ne=tt?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===kn?void 0:kn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Ue=yield ze._initialize(I);yield Ue.initialized(),Ue.resetRedirect(),(0,z.aI)(),yield ze._originValidation(I);const ht=function wr(C,I,w=null){return{type:I,eventId:w,urlResponse:null,sessionId:Sn(),postBody:null,tenantId:C.tenantId,error:(0,z.aB)(C,"no-auth-event")}}(I,k,ae);yield function Ci(C,I){return ei()._set(Kn(C),I)}(I,ht);const an=yield function he(C,I,w){return Ce.apply(this,arguments)}(I,ht,w),Ne=yield function on(C){const{cordova:I}=Dn();return new Promise(w=>{I.plugins.browsertab.isAvailable(k=>{let ae=null;k?I.plugins.browsertab.openUrl(C):ae=I.InAppBrowser.open(C,(0,z.aA)()?"_blank":"_system","location=yes"),w(ae)})})}(an);return function Gn(C,I,w){return zt.apply(this,arguments)}(I,Ue,Ne)})()}_isIframeWebStorageSupported(I,w){throw new Error("Method not implemented.")}_originValidation(I){const w=I._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function qe(C){return Ct.apply(this,arguments)}(I)),this.originValidationPromises[w]}attachCallbackListeners(I,w){const{universalLinks:k,handleOpenURL:ae,BuildInfo:ze}=Dn(),Ue=setTimeout((0,S.Z)(function*(){yield It(I),w.onEvent(ie())}),500),ht=function(){var kn=(0,S.Z)(function*(tt){clearTimeout(Ue);const nr=yield It(I);let vc=null;nr&&tt?.url&&(vc=function Gt(C,I){var w,k;const ae=function _o(C){const I=lt(C),w=I.link?decodeURIComponent(I.link):void 0,k=lt(w).link,ae=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return lt(ae).link||ae||k||w||C}(I);if(ae.includes("/__/auth/callback")){const ze=lt(ae),Ue=ze.firebaseError?function go(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(ze.firebaseError)):null,ht=null===(k=null===(w=Ue?.code)||void 0===w?void 0:w.split("auth/"))||void 0===k?void 0:k[1],an=ht?(0,z.aB)(ht):null;return an?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:ae,postBody:null}}return null}(nr,tt.url)),w.onEvent(vc||ie())});return function(nr){return kn.apply(this,arguments)}}();typeof k<"u"&&"function"==typeof k.subscribe&&k.subscribe(null,ht);const an=ae,Ne=`${ze.packageName.toLowerCase()}://`;Dn().handleOpenURL=function(){var kn=(0,S.Z)(function*(tt){if(tt.toLowerCase().startsWith(Ne)&&ht({url:tt}),"function"==typeof an)try{an(tt)}catch(nr){console.error(nr)}});return function(tt){return kn.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aB)("no-auth-event")}}function Se(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function we(C=(0,Je.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const C=self.localStorage,I=z.aN();if(C)return C.setItem(I,"1"),C.removeItem(I),!function vn(C=(0,Je.z$)()){return function Jt(){return(0,Je.w1)()&&11===document?.documentMode}()||function Bn(C=(0,Je.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,Je.hl)()}catch{return hi()&&(0,Je.hl)()}return!1}function hi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function G(){return(function kt(){return"http:"===Se()||"https:"===Se()}()||(0,Je.ru)()||we())&&!function it(){return(0,Je.b$)()||(0,Je.UG)()}()&&Un()&&!hi()}function H(){return we()&&typeof document<"u"}function fe(){return(fe=(0,S.Z)(function*(){return!!H()&&new Promise(C=>{const I=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),C(!0)})})})).apply(this,arguments)}const be={LOCAL:"local",NONE:"none",SESSION:"session"},An=z.aC,qt="persistence";function Rn(C){return ti.apply(this,arguments)}function ti(){return(ti=(0,S.Z)(function*(C){yield C._initializationPromise;const I=tr(),w=z.aF(qt,C.config.apiKey,C.name);I&&I.setItem(w,C._getPersistence())})).apply(this,arguments)}function tr(){var C;try{return(null===(C=function Ae(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const lr=z.aC;class Tn{constructor(){this.browserResolver=z.aE(z.k),this.cordovaResolver=z.aE(Q),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aG,this._overrideRedirectResult=z.aH}_initialize(I){var w=this;return(0,S.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,w,k,ae){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(I,w,k,ae)})()}_openRedirect(I,w,k,ae){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(I,w,k,ae)})()}_isIframeWebStorageSupported(I,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,w)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return H()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,S.Z)(function*(){if(I.underlyingResolver)return;const w=yield function ee(){return fe.apply(this,arguments)}();I.underlyingResolver=w?I.cordovaResolver:I.browserResolver})()}}function Kt(C){return C.unwrap()}function bn(C){return jn(C)}function jn(C){const{_tokenResponse:I}=C instanceof Je.ZR?C.customData:C;if(!I)return null;if(!(C instanceof Je.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return z.P.credentialFromResult(C);const w=I.providerId;if(!w||w===z.p.PASSWORD)return null;let k;switch(w){case z.p.GOOGLE:k=z.X;break;case z.p.FACEBOOK:k=z.W;break;case z.p.GITHUB:k=z.Y;break;case z.p.TWITTER:k=z.$;break;default:const{oauthIdToken:ae,oauthAccessToken:ze,oauthTokenSecret:Ue,pendingToken:ht,nonce:an}=I;return ze||Ue||ae||ht?ht?w.startsWith("saml.")?z.aQ._create(w,ht):z.N._fromParams({providerId:w,signInMethod:w,pendingToken:ht,idToken:ae,accessToken:ze}):new z.Z(w).credential({idToken:ae,accessToken:ze,rawNonce:an}):null}return C instanceof Je.ZR?k.credentialFromError(C):k.credentialFromResult(C)}function Zn(C,I){return I.catch(w=>{throw w instanceof Je.ZR&&function _c(C,I){var w;const k=null===(w=I.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new as(C,z.as(C,I));else if(k){const ae=jn(I),ze=I;ae&&(ze.credential=ae,ze.tenantId=k.tenantId||void 0,ze.email=k.email||void 0,ze.phoneNumber=k.phoneNumber||void 0)}}(C,w),w}).then(w=>{const ae=w.user;return{operationType:w.operationType,credential:bn(w),additionalUserInfo:z.aq(w),user:Wi.getOrCreate(ae)}})}function ss(C,I){return vo.apply(this,arguments)}function vo(){return(vo=(0,S.Z)(function*(C,I){const w=yield I;return{verificationId:w.verificationId,confirm:k=>Zn(C,w.confirm(k))}})).apply(this,arguments)}class as{constructor(I,w){this.resolver=w,this.auth=function dn(C){return C.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return Zn(Kt(this.auth),this.resolver.resolveSignIn(I))}}class Wi{constructor(I){this._delegate=I,this.multiFactor=z.at(I)}static getOrCreate(I){return Wi.USER_MAP.has(I)||Wi.USER_MAP.set(I,new Wi(I)),Wi.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.a2(w._delegate,I))})()}linkWithPhoneNumber(I,w){var k=this;return(0,S.Z)(function*(){return ss(k.auth,z.l(k._delegate,I,w))})()}linkWithPopup(I){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.d(w._delegate,I,Tn))})()}linkWithRedirect(I){var w=this;return(0,S.Z)(function*(){return yield Rn(z.aJ(w.auth)),z.g(w._delegate,I,Tn)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,z.a3(w._delegate,I))})()}reauthenticateWithPhoneNumber(I,w){return ss(this.auth,z.r(this._delegate,I,w))}reauthenticateWithPopup(I){return Zn(this.auth,z.e(this._delegate,I,Tn))}reauthenticateWithRedirect(I){var w=this;return(0,S.Z)(function*(){return yield Rn(z.aJ(w.auth)),z.h(w._delegate,I,Tn)})()}sendEmailVerification(I){return z.ag(this._delegate,I)}unlink(I){var w=this;return(0,S.Z)(function*(){return yield z.ap(w._delegate,I),w})()}updateEmail(I){return z.al(this._delegate,I)}updatePassword(I){return z.am(this._delegate,I)}updatePhoneNumber(I){return z.u(this._delegate,I)}updateProfile(I){return z.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,w){return z.ah(this._delegate,I,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const ki=z.aC;let Cr=(()=>{class C{constructor(w,k){if(this.app=w,k.isInitialized())return this._delegate=k.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=w.options;ki(ae,"invalid-api-key",{appName:w.name}),ki(ae,"invalid-api-key",{appName:w.name});const ze=typeof window<"u"?Tn:void 0;this._delegate=k.initialize({options:{persistence:gl(ae,w.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(z.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,k){z.K(this._delegate,w,k)}applyActionCode(w){return z.a7(this._delegate,w)}checkActionCode(w){return z.a8(this._delegate,w)}confirmPasswordReset(w,k){return z.a6(this._delegate,w,k)}createUserWithEmailAndPassword(w,k){var ae=this;return(0,S.Z)(function*(){return Zn(ae._delegate,z.aa(ae._delegate,w,k))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return z.af(this._delegate,w)}isSignInWithEmailLink(w){return z.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,S.Z)(function*(){ki(G(),w._delegate,"operation-not-supported-in-this-environment");const k=yield z.j(w._delegate,Tn);return k?Zn(w._delegate,Promise.resolve(k)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function $(C,I){(0,z.aJ)(C)._logFramework(I)}(this._delegate,w)}onAuthStateChanged(w,k,ae){const{next:ze,error:Ue,complete:ht}=bo(w,k,ae);return this._delegate.onAuthStateChanged(ze,Ue,ht)}onIdTokenChanged(w,k,ae){const{next:ze,error:Ue,complete:ht}=bo(w,k,ae);return this._delegate.onIdTokenChanged(ze,Ue,ht)}sendSignInLinkToEmail(w,k){return z.ac(this._delegate,w,k)}sendPasswordResetEmail(w,k){return z.a5(this._delegate,w,k||void 0)}setPersistence(w){var k=this;return(0,S.Z)(function*(){let ae;switch(function Bt(C,I){An(Object.values(be).includes(I),C,"invalid-persistence-type"),(0,Je.b$)()?An(I!==be.SESSION,C,"unsupported-persistence-type"):(0,Je.UG)()?An(I===be.NONE,C,"unsupported-persistence-type"):hi()?An(I===be.NONE||I===be.LOCAL&&(0,Je.hl)(),C,"unsupported-persistence-type"):An(I===be.NONE||Un(),C,"unsupported-persistence-type")}(k._delegate,w),w){case be.SESSION:ae=z.a;break;case be.LOCAL:ae=(yield z.aE(z.i)._isAvailable())?z.i:z.b;break;case be.NONE:ae=z.U;break;default:return z.ax("argument-error",{appName:k._delegate.name})}return k._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Zn(this._delegate,z.a0(this._delegate))}signInWithCredential(w){return Zn(this._delegate,z.a1(this._delegate,w))}signInWithCustomToken(w){return Zn(this._delegate,z.a4(this._delegate,w))}signInWithEmailAndPassword(w,k){return Zn(this._delegate,z.ab(this._delegate,w,k))}signInWithEmailLink(w,k){return Zn(this._delegate,z.ae(this._delegate,w,k))}signInWithPhoneNumber(w,k){return ss(this._delegate,z.s(this._delegate,w,k))}signInWithPopup(w){var k=this;return(0,S.Z)(function*(){return ki(G(),k._delegate,"operation-not-supported-in-this-environment"),Zn(k._delegate,z.c(k._delegate,w,Tn))})()}signInWithRedirect(w){var k=this;return(0,S.Z)(function*(){return ki(G(),k._delegate,"operation-not-supported-in-this-environment"),yield Rn(k._delegate),z.f(k._delegate,w,Tn)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return z.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=be,C})();function bo(C,I,w){let k=C;"function"!=typeof C&&({next:k,error:I,complete:w}=C);const ae=k;return{next:Ue=>ae(Ue&&Wi.getOrCreate(Ue)),error:I,complete:w}}function gl(C,I){const w=function $i(C,I){const w=tr();if(!w)return[];const k=z.aF(qt,C,I);switch(w.getItem(k)){case be.NONE:return[z.U];case be.LOCAL:return[z.i,z.a];case be.SESSION:return[z.a];default:return[]}}(C,I);if(typeof self<"u"&&!w.includes(z.i)&&w.push(z.i),typeof window<"u")for(const k of[z.b,z.a])w.includes(k)||w.push(k);return w.includes(z.U)||w.push(z.U),w}class Da{constructor(){this.providerId="phone",this._delegate=new z.P(Kt(re.Z.auth()))}static credential(I,w){return z.P.credential(I,w)}verifyPhoneNumber(I,w){return this._delegate.verifyPhoneNumber(I,w)}unwrap(){return this._delegate}}Da.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Da.PROVIDER_ID=z.P.PROVIDER_ID;const yc=z.aC;class As{constructor(I,w,k=re.Z.app()){var ae;yc(null===(ae=k.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:k.name}),this._delegate=new z.R(k.auth(),I,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(C){C.INTERNAL.registerComponent(new di.wA("auth-compat",I=>{const w=I.getProvider("app-compat").getImmediate(),k=I.getProvider("auth");return new Cr(w,k)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.V,FacebookAuthProvider:z.W,GithubAuthProvider:z.Y,GoogleAuthProvider:z.X,OAuthProvider:z.Z,SAMLAuthProvider:z._,PhoneAuthProvider:Da,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:As,TwitterAuthProvider:z.$,Auth:Cr,AuthCredential:z.L,Error:Je.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.9")}(re.Z)},861:(eo,wi,ct)=>{function S(z,Je,pt,Wn,di,Dn,Xt){try{var he=z[Dn](Xt),Ce=he.value}catch(qe){return void pt(qe)}he.done?Je(Ce):Promise.resolve(Ce).then(Wn,di)}function re(z){return function(){var Je=this,pt=arguments;return new Promise(function(Wn,di){var Dn=z.apply(Je,pt);function Xt(Ce){S(Dn,Wn,di,Xt,he,"next",Ce)}function he(Ce){S(Dn,Wn,di,Xt,he,"throw",Ce)}Xt(void 0)})}}ct.d(wi,{Z:()=>re})},582:(eo,wi,ct)=>{function Je(Q,ie){var $={};for(var Y in Q)Object.prototype.hasOwnProperty.call(Q,Y)&&ie.indexOf(Y)<0&&($[Y]=Q[Y]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Y=Object.getOwnPropertySymbols(Q);me<Y.length;me++)ie.indexOf(Y[me])<0&&Object.prototype.propertyIsEnumerable.call(Q,Y[me])&&($[Y[me]]=Q[Y[me]])}return $}function qe(Q,ie,$,Y){return new($||($=Promise))(function(de,Se){function kt(Jt){try{it(Y.next(Jt))}catch(Bn){Se(Bn)}}function we(Jt){try{it(Y.throw(Jt))}catch(Bn){Se(Bn)}}function it(Jt){Jt.done?de(Jt.value):function me(de){return de instanceof $?de:new $(function(Se){Se(de)})}(Jt.value).then(kt,we)}it((Y=Y.apply(Q,ie||[])).next())})}function Rt(Q){return this instanceof Rt?(this.v=Q,this):new Rt(Q)}function $t(Q,ie,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Y=$.apply(Q,ie||[]),de=[];return me={},Se("next"),Se("throw"),Se("return"),me[Symbol.asyncIterator]=function(){return this},me;function Se(vn){Y[vn]&&(me[vn]=function(Un){return new Promise(function(hi,G){de.push([vn,Un,hi,G])>1||kt(vn,Un)})})}function kt(vn,Un){try{!function we(vn){vn.value instanceof Rt?Promise.resolve(vn.value.v).then(it,Jt):Bn(de[0][2],vn)}(Y[vn](Un))}catch(hi){Bn(de[0][3],hi)}}function it(vn){kt("next",vn)}function Jt(vn){kt("throw",vn)}function Bn(vn,Un){vn(Un),de.shift(),de.length&&kt(de[0][0],de[0][1])}}function Ci(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,ie=Q[Symbol.asyncIterator];return ie?ie.call(Q):(Q=function zt(Q){var ie="function"==typeof Symbol&&Symbol.iterator,$=ie&&Q[ie],Y=0;if($)return $.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Y>=Q.length&&(Q=void 0),{value:Q&&Q[Y++],done:!Q}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),$={},Y("next"),Y("throw"),Y("return"),$[Symbol.asyncIterator]=function(){return this},$);function Y(de){$[de]=Q[de]&&function(Se){return new Promise(function(kt,we){!function me(de,Se,kt,we){Promise.resolve(we).then(function(it){de({value:it,done:kt})},Se)}(kt,we,(Se=Q[de](Se)).done,Se.value)})}}}ct.d(wi,{FC:()=>$t,KL:()=>Ci,_T:()=>Je,mG:()=>qe,qq:()=>Rt}),"function"==typeof SuppressedError&&SuppressedError}},eo=>{var wi=S=>eo(eo.s=S);wi(614),wi(168)}]);