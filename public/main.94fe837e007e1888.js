"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(rs,xi,ct)=>{ct.d(xi,{$:()=>_0,A:()=>xe,G:()=>an,K:()=>oT,L:()=>Sc,N:()=>xs,P:()=>Df,R:()=>j0,U:()=>$e,V:()=>Og,W:()=>af,X:()=>Gs,Y:()=>Fo,Z:()=>Ds,_:()=>Mc,a:()=>Uo,a0:()=>Lg,a1:()=>hf,a2:()=>zg,a3:()=>w0,a4:()=>uT,a5:()=>fr,a6:()=>Oc,a7:()=>C0,a8:()=>cu,a9:()=>hT,aA:()=>Lt,aB:()=>Gt,aC:()=>be,aD:()=>Ho,aE:()=>le,aF:()=>pt,aG:()=>bu,aH:()=>W0,aI:()=>zc,aJ:()=>mi,aN:()=>Fi,aQ:()=>oa,aa:()=>je,ab:()=>oi,ac:()=>fo,ad:()=>kr,ae:()=>Nc,af:()=>Tt,ag:()=>E0,ah:()=>Ni,ak:()=>du,al:()=>ja,am:()=>aa,ap:()=>v0,aq:()=>hu,as:()=>w2,at:()=>T2,au:()=>kn,av:()=>tt,aw:()=>K,ax:()=>Ot,ay:()=>Gc,az:()=>Z0,b:()=>pT,c:()=>za,d:()=>G0,e:()=>IT,f:()=>AT,g:()=>gr,h:()=>un,i:()=>Cf,j:()=>jo,k:()=>ow,l:()=>xT,m:()=>BT,o:()=>L2,p:()=>Rn,r:()=>DT,s:()=>H0,u:()=>Wn});var S=ct(861),ae=ct(58),$=ct(534),et=ct(879),dt=ct(582),Zn=ct(537);const Rn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const an=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Qn=function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$t=new ae.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new et.Yd("@firebase/auth");function Xn(p,...u){bt.logLevel<=et.in.ERROR&&bt.error(`Auth (${$.SDK_VERSION}): ${p}`,...u)}function Ot(p,...u){throw It(p,...u)}function Gt(p,...u){return It(p,...u)}function Ir(p,u,h){const g=Object.assign(Object.assign({},Qn()),{[u]:h});return new ae.LL("auth","Firebase",g).create(u,{appName:p.name})}function Ti(p,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&Ot(p,"argument-error"),Ir(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(p,...u){if("string"!=typeof p){const h=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return $t.create(p,...u)}function be(p,u,...h){if(!p)throw It(u,...h)}function Kt(p){const u="INTERNAL ASSERTION FAILED: "+p;throw Xn(u),new Error(u)}function kn(p,u){p||Kt(u)}function ii(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Jn(){return"http:"===vs()||"https:"===vs()}function vs(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Sr{constructor(u,h){this.shortDelay=u,this.longDelay=h,kn(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,ae.uI)()||(0,ae.b$)()}get(){return function ys(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jn()||(0,ae.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bs(p,u){kn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class ee{static initialize(u,h,g){this.fetchImpl=u,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},H=new Sr(3e4,6e4);function J(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function me(p,u,h,g){return he.apply(this,arguments)}function he(){return(he=(0,S.Z)(function*(p,u,h,g,y={}){return Se(p,y,(0,S.Z)(function*(){let D={},U={};g&&("GET"===u?U=g:D={body:JSON.stringify(g)});const te=(0,ae.xO)(Object.assign({key:p.config.apiKey},U)).slice(1),ye=yield p._getAdditionalHeaders();return ye["Content-Type"]="application/json",p.languageCode&&(ye["X-Firebase-Locale"]=p.languageCode),ee.fetch()(tn(p,p.config.apiHost,h,te),Object.assign({method:u,headers:ye,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function Se(p,u,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,S.Z)(function*(p,u,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},oe),u);try{const y=new Cn(p),D=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const U=yield D.json();if("needConfirmation"in U)throw $n(p,"account-exists-with-different-credential",U);if(D.ok&&!("errorMessage"in U))return U;{const te=D.ok?U.errorMessage:U.error.message,[ye,qe]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw $n(p,"credential-already-in-use",U);if("EMAIL_EXISTS"===ye)throw $n(p,"email-already-in-use",U);if("USER_DISABLED"===ye)throw $n(p,"user-disabled",U);const ft=g[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Ir(p,ft,qe);Ot(p,ft)}}catch(y){if(y instanceof ae.ZR)throw y;Ot(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function we(p,u,h,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,S.Z)(function*(p,u,h,g,y={}){const D=yield me(p,u,h,g,y);return"mfaPendingCredential"in D&&Ot(p,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function tn(p,u,h,g){const y=`${u}${h}?${g}`;return p.config.emulator?bs(p.config,y):`${p.config.apiScheme}://${y}`}function zn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g(Gt(this.auth,"network-request-failed")),H.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(p,u,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const y=Gt(p,u,g);return y.customData._tokenResponse=h,y}function pi(p){return void 0!==p&&void 0!==p.getResponse}function q(p){return void 0!==p&&void 0!==p.enterprise}class z{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return zn(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function pe(){return(pe=(0,S.Z)(function*(p){return(yield me(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(p,u){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,S.Z)(function*(p,u){return me(p,"GET","/v2/recaptchaConfig",J(p,u))})).apply(this,arguments)}function Yt(){return(Yt=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Pn(){return(Pn=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ki(){return(Ki=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function sr(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Zt(){return(Zt=(0,S.Z)(function*(p,u=!1){const h=(0,ae.m9)(p),g=yield h.getIdToken(u),y=_n(g);be(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const D="object"==typeof y.firebase?y.firebase:void 0,U=D?.sign_in_provider;return{claims:y,token:g,authTime:sr(mn(y.auth_time)),issuedAtTime:sr(mn(y.iat)),expirationTime:sr(mn(y.exp)),signInProvider:U||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function mn(p){return 1e3*Number(p)}function _n(p){const[u,h,g]=p.split(".");if(void 0===u||void 0===h||void 0===g)return Xn("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,ae.tV)(h);return y?JSON.parse(y):(Xn("Failed to decode base64 JWT payload"),null)}catch(y){return Xn("Caught error parsing JWT payload as JSON",y?.toString()),null}}function Gn(p,u){return ei.apply(this,arguments)}function ei(){return(ei=(0,S.Z)(function*(p,u,h=!1){if(h)return u;try{return yield u}catch(g){throw g instanceof ae.ZR&&function uo({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class ws{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),g)}iteration(){var u=this;return(0,S.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&u.schedule(!0))}u.schedule()})()}}class ho{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yi(p){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,S.Z)(function*(p){var u;const h=p.auth,g=yield p.getIdToken(),y=yield Gn(p,function ri(p,u){return Ki.apply(this,arguments)}(h,{idToken:g}));be(y?.users.length,h,"internal-error");const D=y.users[0];p._notifyReloadListener(D);const U=null!==(u=D.providerUserInfo)&&void 0!==u&&u.length?function Oa(p){return p.map(u=>{var{providerId:h}=u,g=(0,dt._T)(u,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(D.providerUserInfo):[],te=function Ic(p,u){return[...p.filter(g=>!u.some(y=>y.providerId===g.providerId)),...u]}(p.providerData,U),ft=!!p.isAnonymous&&!(p.email&&D.passwordHash||te?.length),rn={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:te,metadata:new ho(D.createdAt,D.lastLoginAt),isAnonymous:ft};Object.assign(p,rn)}),Pi.apply(this,arguments)}function Cs(){return(Cs=(0,S.Z)(function*(p){const u=(0,ae.m9)(p);yield Yi(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function No(){return(No=(0,S.Z)(function*(p,u){const h=yield Se(p,{},(0,S.Z)(function*(){const g=(0,ae.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:y,apiKey:D}=p.config,U=tn(p,y,"/v1/token",`key=${D}`),te=yield p._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(U,{method:"POST",headers:te,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,S.Z)(function*(p,u){return me(p,"POST","/v2/accounts:revokeToken",J(p,u))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){be(u.idToken,"internal-error"),be(typeof u.idToken<"u","internal-error"),be(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Dl(p){const u=_n(p);return be(u,"internal-error"),be(typeof u.exp<"u","internal-error"),be(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}getToken(u,h=!1){var g=this;return(0,S.Z)(function*(){return be(!g.accessToken||g.refreshToken,u,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var g=this;return(0,S.Z)(function*(){const{accessToken:y,refreshToken:D,expiresIn:U}=yield function Tl(p,u){return No.apply(this,arguments)}(u,h);g.updateTokensAndExpiration(y,D,Number(U))})()}updateTokensAndExpiration(u,h,g){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,h){const{refreshToken:g,accessToken:y,expirationTime:D}=h,U=new x;return g&&(be("string"==typeof g,"internal-error",{appName:u}),U.refreshToken=g),y&&(be("string"==typeof y,"internal-error",{appName:u}),U.accessToken=y),D&&(be("number"==typeof D,"internal-error",{appName:u}),U.expirationTime=D),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Kt("not implemented")}}function T(p,u){be("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class C{constructor(u){var{uid:h,auth:g,stsTokenManager:y}=u,D=(0,dt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new ho(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,S.Z)(function*(){const g=yield Gn(h,h.stsTokenManager.getToken(h.auth,u));return be(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(u){return function In(p){return Zt.apply(this,arguments)}(this,u)}reload(){return function Ar(p){return Cs.apply(this,arguments)}(this)}_assign(u){this!==u&&(be(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new C(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var g=this;return(0,S.Z)(function*(){let y=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),y=!0),h&&(yield Yi(g)),yield g.auth._persistUserIfCurrent(g),y&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,S.Z)(function*(){const h=yield u.getIdToken();return yield Gn(u,function Mn(p,u){return Yt.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var g,y,D,U,te,ye,qe,ft;const rn=null!==(g=h.displayName)&&void 0!==g?g:void 0,qr=null!==(y=h.email)&&void 0!==y?y:void 0,da=null!==(D=h.phoneNumber)&&void 0!==D?D:void 0,Du=null!==(U=h.photoURL)&&void 0!==U?U:void 0,lw=null!==(te=h.tenantId)&&void 0!==te?te:void 0,Kc=null!==(ye=h._redirectEventId)&&void 0!==ye?ye:void 0,Ga=null!==(qe=h.createdAt)&&void 0!==qe?qe:void 0,cw=null!==(ft=h.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:Bf,emailVerified:w_,isAnonymous:Yc,providerData:C_,stsTokenManager:Pr}=h;be(Bf&&Pr,u,"internal-error");const zT=x.fromJSON(this.name,Pr);be("string"==typeof Bf,u,"internal-error"),T(rn,u.name),T(qr,u.name),be("boolean"==typeof w_,u,"internal-error"),be("boolean"==typeof Yc,u,"internal-error"),T(da,u.name),T(Du,u.name),T(lw,u.name),T(Kc,u.name),T(Ga,u.name),T(cw,u.name);const kt=new C({uid:Bf,auth:u,email:qr,emailVerified:w_,displayName:rn,isAnonymous:Yc,photoURL:Du,phoneNumber:da,tenantId:lw,stsTokenManager:zT,createdAt:Ga,lastLoginAt:cw});return C_&&Array.isArray(C_)&&(kt.providerData=C_.map(E_=>Object.assign({},E_))),Kc&&(kt._redirectEventId=Kc),kt}static _fromIdTokenResponse(u,h,g=!1){return(0,S.Z)(function*(){const y=new x;y.updateFromServerResponse(h);const D=new C({uid:h.localId,auth:u,stsTokenManager:y,isAnonymous:g});return yield Yi(D),D})()}}const M=new Map;function le(p){kn(p instanceof Function,"Expected a class definition");let u=M.get(p);return u?(kn(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,M.set(p,u),u)}const $e=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,g){var y=this;return(0,S.Z)(function*(){y.storage[h]=g})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=g.storage[h];return void 0===y?null:y})()}_remove(h){var g=this;return(0,S.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function pt(p,u,h){return`firebase:${p}:${u}:${h}`}class dn{constructor(u,h,g){this.persistence=u,this.auth=h,this.userKey=g;const{config:y,name:D}=this.auth;this.fullUserKey=pt(this.userKey,y.apiKey,D),this.fullPersistenceKey=pt("persistence",y.apiKey,D),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,S.Z)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?C._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,S.Z)(function*(){if(h.persistence===u)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,g="authUser"){return(0,S.Z)(function*(){if(!h.length)return new dn(le($e),u,g);const y=(yield Promise.all(h.map(function(){var qe=(0,S.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let D=y[0]||le($e);const U=pt(g,u.config.apiKey,u.name);let te=null;for(const qe of h)try{const ft=yield qe._get(U);if(ft){const rn=C._fromJSON(u,ft);qe!==D&&(te=rn),D=qe;break}}catch{}const ye=y.filter(qe=>qe._shouldAllowMigration);return D._shouldAllowMigration&&ye.length?(D=ye[0],te&&(yield D._set(U,te.toJSON())),yield Promise.all(h.map(function(){var qe=(0,S.Z)(function*(ft){if(ft!==D)try{yield ft._remove(U)}catch{}});return function(ft){return qe.apply(this,arguments)}}())),new dn(D,u,g)):new dn(D,u,g)})()}}function Ve(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Il(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(On(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(j(u))return"Blackberry";if(Ee(u))return"Webos";if(rt(u))return"Safari";if((u.includes("chrome/")||or(u))&&!u.includes("edge/"))return"Chrome";if(K(u))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function On(p=(0,ae.z$)()){return/firefox\//i.test(p)}function rt(p=(0,ae.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function or(p=(0,ae.z$)()){return/crios\//i.test(p)}function Il(p=(0,ae.z$)()){return/iemobile/i.test(p)}function K(p=(0,ae.z$)()){return/android/i.test(p)}function j(p=(0,ae.z$)()){return/blackberry/i.test(p)}function Ee(p=(0,ae.z$)()){return/webos/i.test(p)}function tt(p=(0,ae.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Lt(p=(0,ae.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Oi(p=(0,ae.z$)()){return tt(p)||K(p)||Ee(p)||j(p)||/windows phone/i.test(p)||Il(p)}function Wt(p,u=[]){let h;switch(p){case"Browser":h=Ve((0,ae.z$)());break;case"Worker":h=`${Ve((0,ae.z$)())}-${p}`;break;default:h=p}const g=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${$.SDK_VERSION}/${g}`}class su{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const g=D=>new Promise((U,te)=>{try{U(u(D))}catch(ye){te(ye)}});g.onAbort=h,this.queue.push(g);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===u)return;const g=[];try{for(const y of h.queue)yield y(u),y.onAbort&&g.push(y.onAbort)}catch(y){g.reverse();for(const D of g)try{D()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function Cg(){return(Cg=(0,S.Z)(function*(p,u={}){return me(p,"GET","/v2/passwordPolicy",J(p,u))})).apply(this,arguments)}class Es{constructor(u){var h,g,y,D;const U=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=U.minPasswordLength)&&void 0!==h?h:6,U.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=U.maxPasswordLength),void 0!==U.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=U.containsLowercaseCharacter),void 0!==U.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=U.containsUppercaseCharacter),void 0!==U.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=U.containsNumericCharacter),void 0!==U.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=U.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(D=u.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,g,y,D,U,te;const ye={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ye),this.validatePasswordCharacterOptions(u,ye),ye.isValid&&(ye.isValid=null===(h=ye.meetsMinPasswordLength)||void 0===h||h),ye.isValid&&(ye.isValid=null===(g=ye.meetsMaxPasswordLength)||void 0===g||g),ye.isValid&&(ye.isValid=null===(y=ye.containsLowercaseLetter)||void 0===y||y),ye.isValid&&(ye.isValid=null===(D=ye.containsUppercaseLetter)||void 0===D||D),ye.isValid&&(ye.isValid=null===(U=ye.containsNumericCharacter)||void 0===U||U),ye.isValid&&(ye.isValid=null===(te=ye.containsNonAlphanumericCharacter)||void 0===te||te),ye}validatePasswordLengthOptions(u,h){const g=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=u.length>=g),y&&(h.meetsMaxPasswordLength=u.length<=y)}validatePasswordCharacterOptions(u,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<u.length;y++)g=u.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,h,g,y,D){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=D))}}class h2{constructor(u,h,g,y){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new su(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(u,h){var g=this;return h&&(this._popupRedirectResolver=le(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var y,D;if(!g._deleted&&(g.persistenceManager=yield dn.create(g,u),!g._deleted)){if(null!==(y=g._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(D=g.currentUser)||void 0===D?void 0:D.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,S.Z)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUser(u){var h=this;return(0,S.Z)(function*(){var g;const y=yield h.assertedPersistence.getCurrentUser();let D=y,U=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const te=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,ye=D?._redirectEventId,qe=yield h.tryRedirectSignIn(u);(!te||te===ye)&&qe?.user&&(D=qe.user,U=!0)}if(!D)return h.directlySetCurrentUser(null);if(!D._redirectEventId){if(U)try{yield h.beforeStateQueue.runMiddleware(D)}catch(te){D=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(te))}return D?h.reloadAndSetCurrentUserOrClear(D):h.directlySetCurrentUser(null)}return be(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===D._redirectEventId?h.directlySetCurrentUser(D):h.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(u){var h=this;return(0,S.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,S.Z)(function*(){try{yield Yi(u)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,S.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,S.Z)(function*(){const g=u?(0,ae.m9)(u):null;return g&&be(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(u,h=!1){var g=this;return(0,S.Z)(function*(){if(!g._deleted)return u&&be(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,S.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,S.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(le(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,S.Z)(function*(){const h=yield function u2(p){return Cg.apply(this,arguments)}(u),g=new Es(h);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new ae.LL("auth","Firebase",u())}onAuthStateChanged(u,h,g){return this.registerStateListener(this.authStateSubscription,u,h,g)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,g){return this.registerStateListener(this.idTokenSubscription,u,h,g)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function V(p,u){return F.apply(this,arguments)}(h,y)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var g=this;return(0,S.Z)(function*(){const y=yield g.getOrInitRedirectPersistenceManager(h);return null===u?y.removeCurrentUser():y.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const g=u&&le(u)||h._popupRedirectResolver;be(g,h,"argument-error"),h.redirectPersistenceManager=yield dn.create(h,[le(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,S.Z)(function*(){var g,y;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===u?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,S.Z)(function*(){if(u===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,g,y){if(this._deleted)return()=>{};const D="function"==typeof h?h:h.next.bind(h);let U=!1;const te=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(te,this,"internal-error"),te.then(()=>{U||D(this.currentUser)}),"function"==typeof h){const ye=u.addObserver(h,g,y);return()=>{U=!0,ye()}}{const ye=u.addObserver(h);return()=>{U=!0,ye()}}}directlySetCurrentUser(u){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,S.Z)(function*(){var h;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const y=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(g["X-Firebase-Client"]=y);const D=yield u._getAppCheckToken();return D&&(g["X-Firebase-AppCheck"]=D),g})()}_getAppCheckToken(){var u=this;return(0,S.Z)(function*(){var h;const g=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function Di(p,...u){bt.logLevel<=et.in.WARN&&bt.warn(`Auth (${$.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function mi(p){return(0,ae.m9)(p)}class nT{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,ae.ne)(h=>this.observer=h)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function l0(p){return new Promise((u,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=u,g.onerror=y=>{const D=Gt("internal-error");D.customData=y,h(D)},g.type="text/javascript",g.charset="UTF-8",function Sl(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(g)})}function iT(p){return`__${p}${Math.floor(1e6*Math.random())}`}class sT{constructor(u){this.type="recaptcha-enterprise",this.auth=mi(u)}verify(u="verify",h=!1){var g=this;return(0,S.Z)(function*(){function D(){return D=(0,S.Z)(function*(te){if(!h){if(null==te.tenantId&&null!=te._agentRecaptchaConfig)return te._agentRecaptchaConfig.siteKey;if(null!=te.tenantId&&void 0!==te._tenantRecaptchaConfigs[te.tenantId])return te._tenantRecaptchaConfigs[te.tenantId].siteKey}return new Promise(function(){var ye=(0,S.Z)(function*(qe,ft){Ae(te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rn=>{if(void 0!==rn.recaptchaKey){const qr=new z(rn);return null==te.tenantId?te._agentRecaptchaConfig=qr:te._tenantRecaptchaConfigs[te.tenantId]=qr,qe(qr.siteKey)}ft(new Error("recaptcha Enterprise site key undefined"))}).catch(rn=>{ft(rn)})});return function(qe,ft){return ye.apply(this,arguments)}}())}),D.apply(this,arguments)}function U(te,ye,qe){const ft=window.grecaptcha;q(ft)?ft.enterprise.ready(()=>{ft.enterprise.execute(te,{action:u}).then(rn=>{ye(rn)}).catch(()=>{ye("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((te,ye)=>{(function y(te){return D.apply(this,arguments)})(g.auth).then(qe=>{if(!h&&q(window.grecaptcha))U(qe,te,ye);else{if(typeof window>"u")return void ye(new Error("RecaptchaVerifier is only supported in browser"));l0("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{U(qe,te,ye)}).catch(ft=>{ye(ft)})}}).catch(qe=>{ye(qe)})})})()}}function c0(p,u,h){return d0.apply(this,arguments)}function d0(){return(d0=(0,S.Z)(function*(p,u,h,g=!1){const y=new sT(p);let D;try{D=yield y.verify(h)}catch{D=yield y.verify(h,!0)}const U=Object.assign({},u);return Object.assign(U,g?{captchaResp:D}:{captchaResponse:D}),Object.assign(U,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(U,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),U})).apply(this,arguments)}function Rr(p,u,h,g){return vt.apply(this,arguments)}function vt(){return vt=(0,S.Z)(function*(p,u,h,g){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield c0(p,u,h,"getOobCode"===h);return g(p,D)}return g(p,u).catch(function(){var D=(0,S.Z)(function*(U){if("auth/missing-recaptcha-token"===U.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const te=yield c0(p,u,h,"getOobCode"===h);return g(p,te)}return Promise.reject(U)});return function(U){return D.apply(this,arguments)}}())}),vt.apply(this,arguments)}function oT(p,u,h){const g=mi(p);be(g._canInitEmulator,g,"emulator-config-failed"),be(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const y=!!h?.disableWarnings,D=Ge(u),{host:U,port:te}=function Zh(p){const u=Ge(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(g);if(y){const D=y[1];return{host:D,port:h0(g.substr(D.length+1))}}{const[D,U]=g.split(":");return{host:D,port:h0(U)}}}(u);g.config.emulator={url:`${D}//${U}${null===te?"":`:${te}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:U,port:te,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function f0(){function p(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Ge(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function h0(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Sc{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return Kt("not implemented")}_getIdTokenResponse(u){return Kt("not implemented")}_linkToIdToken(u,h){return Kt("not implemented")}_getReauthenticationResolver(u){return Kt("not implemented")}}function ou(p,u){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:resetPassword",J(p,u))})).apply(this,arguments)}function Qh(){return(Qh=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function aT(p,u){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Xh(){return(Xh=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:update",J(p,u))})).apply(this,arguments)}function ss(p,u){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithPassword",J(p,u))})).apply(this,arguments)}function Tg(p,u){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:sendOobCode",J(p,u))})).apply(this,arguments)}function p0(){return(p0=(0,S.Z)(function*(p,u){return Tg(p,u)})).apply(this,arguments)}function ie(p,u){return au.apply(this,arguments)}function au(){return(au=(0,S.Z)(function*(p,u){return Tg(p,u)})).apply(this,arguments)}function Ig(p,u){return ef.apply(this,arguments)}function ef(){return(ef=(0,S.Z)(function*(p,u){return Tg(p,u)})).apply(this,arguments)}function Ag(){return(Ag=(0,S.Z)(function*(p,u){return Tg(p,u)})).apply(this,arguments)}function m0(){return(m0=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithEmailLink",J(p,u))})).apply(this,arguments)}function g0(){return(g0=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithEmailLink",J(p,u))})).apply(this,arguments)}class tf extends Sc{constructor(u,h,g,y=null){super("password",g),this._email=u,this._password=h,this._tenantId=y}static _fromEmailAndPassword(u,h){return new tf(u,h,"password")}static _fromEmailAndCode(u,h,g=null){return new tf(u,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return Rr(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ss);case"emailLink":return function Rg(p,u){return m0.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:Ot(u,"internal-error")}})()}_linkToIdToken(u,h){var g=this;return(0,S.Z)(function*(){switch(g.signInMethod){case"password":return Rr(u,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aT);case"emailLink":return function v2(p,u){return g0.apply(this,arguments)}(u,{idToken:h,email:g._email,oobCode:g._password});default:Ot(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Na(p,u){return Al.apply(this,arguments)}function Al(){return(Al=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithIdp",J(p,u))})).apply(this,arguments)}class xs extends Sc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new xs(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):Ot("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:y}=h,D=(0,dt._T)(h,["providerId","signInMethod"]);if(!g||!y)return null;const U=new xs(g,y);return U.idToken=D.idToken||void 0,U.accessToken=D.accessToken||void 0,U.secret=D.secret,U.nonce=D.nonce,U.pendingToken=D.pendingToken||null,U}_getIdTokenResponse(u){return Na(u,this.buildRequest())}_linkToIdToken(u,h){const g=this.buildRequest();return g.idToken=h,Na(u,g)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Na(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,ae.xO)(h)}return u}}function Mg(){return(Mg=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:sendVerificationCode",J(p,u))})).apply(this,arguments)}function nf(){return(nf=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",J(p,u))})).apply(this,arguments)}function Pg(){return(Pg=(0,S.Z)(function*(p,u){const h=yield we(p,"POST","/v1/accounts:signInWithPhoneNumber",J(p,u));if(h.temporaryProof)throw $n(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Fa={USER_NOT_FOUND:"user-not-found"};function P(){return(P=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithPhoneNumber",J(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Fa)})).apply(this,arguments)}class La extends Sc{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new La({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new La({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function cT(p,u){return nf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function Rc(p,u){return Pg.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function dT(p,u){return P.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:g,verificationCode:y}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:g,code:y}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:D}=u;return g||h||y||D?new La({verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:D}):null}}class Rl{constructor(u){var h,g,y,D,U,te;const ye=(0,ae.zd)((0,ae.pd)(u)),qe=null!==(h=ye.apiKey)&&void 0!==h?h:null,ft=null!==(g=ye.oobCode)&&void 0!==g?g:null,rn=function De(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=ye.mode)&&void 0!==y?y:null);be(qe&&ft&&rn,"argument-error"),this.apiKey=qe,this.operation=rn,this.code=ft,this.continueUrl=null!==(D=ye.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(U=ye.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(te=ye.tenantId)&&void 0!==te?te:null}static parseLink(u){const h=function rf(p){const u=(0,ae.zd)((0,ae.pd)(p)).link,h=u?(0,ae.zd)((0,ae.pd)(u)).deep_link_id:null,g=(0,ae.zd)((0,ae.pd)(p)).deep_link_id;return(g?(0,ae.zd)((0,ae.pd)(g)).link:null)||g||h||u||p}(u);try{return new Rl(h)}catch{return null}}}let Og=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return tf._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const y=Rl.parseLink(g);return be(y,"argument-error"),tf._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class sa{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class kc extends sa{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Ds extends kc{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return be("providerId"in h&&"signInMethod"in h,"argument-error"),xs._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return be(u.idToken||u.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Ds.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Ds.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:y,pendingToken:D,nonce:U,providerId:te}=u;if(!g&&!y&&!h&&!D||!te)return null;try{return new Ds(te)._credential({idToken:h,accessToken:g,nonce:U,pendingToken:D})}catch{return null}}}let af=(()=>{class p extends kc{constructor(){super("facebook.com")}static credential(h){return xs._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Gs=(()=>{class p extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return xs._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y}=h;if(!g&&!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Fo=(()=>{class p extends kc{constructor(){super("github.com")}static credential(h){return xs._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class oa extends Sc{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return Na(u,this.buildRequest())}_linkToIdToken(u,h){const g=this.buildRequest();return g.idToken=h,Na(u,g)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Na(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:y,pendingToken:D}=h;return g&&y&&D&&g===y?new oa(g,D):null}static _create(u,h){return new oa(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mc extends sa{constructor(u){be(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Mc.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Mc.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=oa.fromJSON(u);return be(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:g}=u;if(!h||!g)return null;try{return oa._create(g,h)}catch{return null}}}let _0=(()=>{class p extends kc{constructor(){super("twitter.com")}static credential(h,g){return xs._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:y}=h;if(!g||!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Lo(p,u){return kl.apply(this,arguments)}function kl(){return(kl=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signUp",J(p,u))})).apply(this,arguments)}class Ts{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,g,y=!1){return(0,S.Z)(function*(){const D=yield C._fromIdTokenResponse(u,g,y),U=Fg(g);return new Ts({user:D,providerId:U,_tokenResponse:g,operationType:h})})()}static _forOperation(u,h,g){return(0,S.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const y=Fg(g);return new Ts({user:u,providerId:y,_tokenResponse:g,operationType:h})})()}}function Fg(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Lg(p){return lf.apply(this,arguments)}function lf(){return(lf=(0,S.Z)(function*(p){var u;const h=mi(p);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new Ts({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield Lo(h,{returnSecureToken:!0}),y=yield Ts._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class lu extends ae.ZR{constructor(u,h,g,y){var D;super(h.code,h.message),this.operationType=g,this.user=y,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:u.name,tenantId:null!==(D=u.tenantId)&&void 0!==D?D:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,h,g,y){return new lu(u,h,g,y)}}function Pc(p,u,h,g){return("reauthenticate"===u?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?lu._fromErrorAndOperation(p,D,u,g):D})}function Vg(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function v0(p,u){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,S.Z)(function*(p,u){const h=(0,ae.m9)(p);yield df(!0,h,u);const{providerUserInfo:g}=yield function Ut(p,u){return Pn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),y=Vg(g||[]);return h.providerData=h.providerData.filter(D=>y.has(D.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Bg.apply(this,arguments)}function cf(p,u){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,S.Z)(function*(p,u,h=!1){const g=yield Gn(p,u._linkToIdToken(p.auth,yield p.getIdToken()),h);return Ts._forOperation(p,"link",g)})).apply(this,arguments)}function df(p,u,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,S.Z)(function*(p,u,h){yield Yi(u);const y=!1===p?"provider-already-linked":"no-such-provider";be(Vg(u.providerData).has(h)===p,u.auth,y)})).apply(this,arguments)}function y0(p,u){return uf.apply(this,arguments)}function uf(){return(uf=(0,S.Z)(function*(p,u,h=!1){const{auth:g}=p,y="reauthenticate";try{const D=yield Gn(p,Pc(g,y,u,p),h);be(D.idToken,g,"internal-error");const U=_n(D.idToken);be(U,g,"internal-error");const{sub:te}=U;return be(p.uid===te,g,"user-mismatch"),Ts._forOperation(p,y,D)}catch(D){throw"auth/user-not-found"===D?.code&&Ot(g,"user-mismatch"),D}})).apply(this,arguments)}function b0(p,u){return jg.apply(this,arguments)}function jg(){return(jg=(0,S.Z)(function*(p,u,h=!1){const g="signIn",y=yield Pc(p,g,u),D=yield Ts._fromIdTokenResponse(p,g,y);return h||(yield p._updateCurrentUser(D.user)),D})).apply(this,arguments)}function hf(p,u){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,S.Z)(function*(p,u){return b0(mi(p),u)})).apply(this,arguments)}function zg(p,u){return $g.apply(this,arguments)}function $g(){return($g=(0,S.Z)(function*(p,u){const h=(0,ae.m9)(p);return yield df(!1,h,u.providerId),cf(h,u)})).apply(this,arguments)}function w0(p,u){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,S.Z)(function*(p,u){return y0((0,ae.m9)(p),u)})).apply(this,arguments)}function Wg(){return(Wg=(0,S.Z)(function*(p,u){return we(p,"POST","/v1/accounts:signInWithCustomToken",J(p,u))})).apply(this,arguments)}function uT(p,u){return qg.apply(this,arguments)}function qg(){return qg=(0,S.Z)(function*(p,u){const h=mi(p),g=yield function ht(p,u){return Wg.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),y=yield Ts._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(y.user),y}),qg.apply(this,arguments)}class Be{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?Kg._fromServerResponse(u,h):"totpInfo"in h?ff._fromServerResponse(u,h):Ot(u,"internal-error")}}class Kg extends Be{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new Kg(h)}}class ff extends Be{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new ff(h)}}function X(p,u,h){var g;be((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),be(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(be(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(be(h.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function Zi(p){return nn.apply(this,arguments)}function nn(){return(nn=(0,S.Z)(function*(p){const u=mi(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function fr(p,u,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,S.Z)(function*(p,u,h){const g=mi(p),y={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&X(g,y,h),yield Rr(g,y,"getOobCode",ie)})).apply(this,arguments)}function Oc(p,u,h){return $r.apply(this,arguments)}function $r(){return $r=(0,S.Z)(function*(p,u,h){yield ou((0,ae.m9)(p),{oobCode:u,newPassword:h}).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&Zi(p),y});return function(y){return g.apply(this,arguments)}}())}),$r.apply(this,arguments)}function C0(p,u){return pf.apply(this,arguments)}function pf(){return pf=(0,S.Z)(function*(p,u){yield function Dg(p,u){return Xh.apply(this,arguments)}((0,ae.m9)(p),{oobCode:u})}),pf.apply(this,arguments)}function cu(p,u){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,S.Z)(function*(p,u){const h=(0,ae.m9)(p),g=yield ou(h,{oobCode:u}),y=g.requestType;switch(be(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(g.mfaInfo,h,"internal-error");default:be(g.email,h,"internal-error")}let D=null;return g.mfaInfo&&(D=Be._fromServerResponse(mi(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:D},operation:y}})).apply(this,arguments)}function hT(p,u){return si.apply(this,arguments)}function si(){return(si=(0,S.Z)(function*(p,u){const{data:h}=yield cu((0,ae.m9)(p),u);return h.email})).apply(this,arguments)}function je(p,u,h){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,S.Z)(function*(p,u,h){const g=mi(p),U=yield Rr(g,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lo).catch(ye=>{throw"auth/password-does-not-meet-requirements"===ye.code&&Zi(p),ye}),te=yield Ts._fromIdTokenResponse(g,"signIn",U);return yield g._updateCurrentUser(te.user),te})).apply(this,arguments)}function oi(p,u,h){return hf((0,ae.m9)(p),Og.credential(u,h)).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&Zi(p),y});return function(y){return g.apply(this,arguments)}}())}function fo(p,u,h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,S.Z)(function*(p,u,h){const g=mi(p),y={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function D(U,te){be(te.handleCodeInApp,g,"argument-error"),te&&X(g,U,te)})(y,h),yield Rr(g,y,"getOobCode",Ig)})).apply(this,arguments)}function kr(p,u){const h=Rl.parseLink(u);return"EMAIL_SIGNIN"===h?.operation}function Nc(p,u,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p),y=Og.credentialWithLink(u,h||ii());return be(y._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),hf(g,y)})).apply(this,arguments)}function Ba(){return(Ba=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:createAuthUri",J(p,u))})).apply(this,arguments)}function Tt(p,u){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,S.Z)(function*(p,u){const g={identifier:u,continueUri:Jn()?ii():"http://localhost"},{signinMethods:y}=yield function Va(p,u){return Ba.apply(this,arguments)}((0,ae.m9)(p),g);return y||[]}),Pl.apply(this,arguments)}function E0(p,u){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,S.Z)(function*(p,u){const h=(0,ae.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&X(h.auth,y,u);const{email:D}=yield function _2(p,u){return p0.apply(this,arguments)}(h.auth,y);D!==p.email&&(yield p.reload())}),Ua.apply(this,arguments)}function Ni(p,u,h){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};h&&X(g.auth,D,h);const{email:U}=yield function Sg(p,u){return Ag.apply(this,arguments)}(g.auth,D);U!==p.email&&(yield p.reload())}),Ol.apply(this,arguments)}function Ws(){return(Ws=(0,S.Z)(function*(p,u){return me(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function du(p,u){return mf.apply(this,arguments)}function mf(){return mf=(0,S.Z)(function*(p,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const g=(0,ae.m9)(p),D={idToken:yield g.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},U=yield Gn(g,function Fc(p,u){return Ws.apply(this,arguments)}(g.auth,D));g.displayName=U.displayName||null,g.photoURL=U.photoUrl||null;const te=g.providerData.find(({providerId:ye})=>"password"===ye);te&&(te.displayName=g.displayName,te.photoURL=g.photoURL),yield g._updateTokensIfNecessary(U)}),mf.apply(this,arguments)}function ja(p,u){return Lc((0,ae.m9)(p),u,null)}function aa(p,u){return Lc((0,ae.m9)(p),null,u)}function Lc(p,u,h){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,S.Z)(function*(p,u,h){const{auth:g}=p,D={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(D.email=u),h&&(D.password=h);const U=yield Gn(p,function xg(p,u){return Qh.apply(this,arguments)}(g,D));yield p._updateTokensIfNecessary(U,!0)}),Nl.apply(this,arguments)}class uu{constructor(u,h,g={}){this.isNewUser=u,this.providerId=h,this.profile=g}}class gf extends uu{constructor(u,h,g,y){super(u,h,g),this.username=y}}class x0 extends uu{constructor(u,h){super(u,"facebook.com",h)}}class Vo extends gf{constructor(u,h){super(u,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class _f extends uu{constructor(u,h){super(u,"google.com",h)}}class Vc extends gf{constructor(u,h,g){super(u,"twitter.com",h,g)}}function hu(p){const{user:u,_tokenResponse:h}=p;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Qt(p){var u,h;if(!p)return null;const{providerId:g}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},D=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const U=null===(h=null===(u=_n(p.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(U)return new uu(D,"anonymous"!==U&&"custom"!==U?U:null)}if(!g)return null;switch(g){case"facebook.com":return new x0(D,y);case"github.com":return new Vo(D,y);case"google.com":return new _f(D,y);case"twitter.com":return new Vc(D,y,p.screenName||null);case"custom":case"anonymous":return new uu(D,null);default:return new uu(D,g,y)}}(h)}class Ll{constructor(u,h,g){this.type=u,this.credential=h,this.user=g}static _fromIdtoken(u,h){return new Ll("enroll",u,h)}static _fromMfaPendingCredential(u){return new Ll("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,g;if(u?.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Ll._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ll._fromIdtoken(u.multiFactorSession.idToken)}return null}}class T0{constructor(u,h,g){this.session=u,this.hints=h,this.signInResolver=g}static _fromError(u,h){const g=mi(u),y=h.customData._serverResponse,D=(y.mfaInfo||[]).map(te=>Be._fromServerResponse(g,te));be(y.mfaPendingCredential,g,"internal-error");const U=Ll._fromMfaPendingCredential(y.mfaPendingCredential);return new T0(U,D,function(){var te=(0,S.Z)(function*(ye){const qe=yield ye._process(g,U);delete y.mfaInfo,delete y.mfaPendingCredential;const ft=Object.assign(Object.assign({},y),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(h.operationType){case"signIn":const rn=yield Ts._fromIdTokenResponse(g,h.operationType,ft);return yield g._updateCurrentUser(rn.user),rn;case"reauthenticate":return be(h.user,g,"internal-error"),Ts._forOperation(h.user,h.operationType,ft);default:Ot(g,"internal-error")}});return function(ye){return te.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,S.Z)(function*(){return h.signInResolver(u)})()}}function w2(p,u){var h;const g=(0,ae.m9)(p),y=u;return be(u.customData.operationType,g,"argument-error"),be(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),T0._fromError(g,y)}class I0{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Be._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new I0(u)}getSession(){var u=this;return(0,S.Z)(function*(){return Ll._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var g=this;return(0,S.Z)(function*(){const y=u,D=yield g.getSession(),U=yield Gn(g.user,y._process(g.user.auth,D,h));return yield g.user._updateTokensIfNecessary(U),g.user.reload()})()}unenroll(u){var h=this;return(0,S.Z)(function*(){const g="string"==typeof u?u:u.uid,y=yield h.user.getIdToken();try{const D=yield Gn(h.user,function D2(p,u){return me(p,"POST","/v2/accounts/mfaEnrollment:withdraw",J(p,u))}(h.user.auth,{idToken:y,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:U})=>U!==g),yield h.user._updateTokensIfNecessary(D),yield h.user.reload()}catch(D){throw D}})()}}const S0=new WeakMap;function T2(p){const u=(0,ae.m9)(p);return S0.has(u)||S0.set(u,I0._fromUser(u)),S0.get(u)}const Jg="__sak";class fT{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Jg,"1"),this.storage.removeItem(Jg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const pT=(()=>{class p extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function A0(){const p=(0,ae.z$)();return rt(p)||tt(p)}()&&function Qe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const y=this.storage.getItem(g),D=this.localCache[g];y!==D&&h(g,D,y)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((te,ye,qe)=>{this.notifyListeners(te,qe)});const y=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(y);if(h.newValue!==te)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!g)return}const D=()=>{const te=this.storage.getItem(y);!g&&this.localCache[y]===te||this.notifyListeners(y,te)},U=this.storage.getItem(y);!function Y(){return(0,ae.w1)()&&10===document.documentMode}()||U===h.newValue||h.newValue===h.oldValue?D():setTimeout(D,10)}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const D of Array.from(y))D(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var y=()=>super._set,D=this;return(0,S.Z)(function*(){yield y().call(D,h,g),D.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,y=this;return(0,S.Z)(function*(){const D=yield g().call(y,h);return y.localCache[h]=JSON.stringify(D),D})()}_remove(h){var g=()=>super._remove,y=this;return(0,S.Z)(function*(){yield g().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),Uo=(()=>{class p extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let A2=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(D=>D.isListeningto(h));if(g)return g;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,S.Z)(function*(){const y=h,{eventId:D,eventType:U,data:te}=y.data,ye=g.handlersMap[U];if(!ye?.size)return;y.ports[0].postMessage({status:"ack",eventId:D,eventType:U});const qe=Array.from(ye).map(function(){var rn=(0,S.Z)(function*(qr){return qr(y.origin,te)});return function(qr){return rn.apply(this,arguments)}}()),ft=yield function S2(p){return Promise.all(p.map(function(){var u=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return u.apply(this,arguments)}}()))}(qe);y.ports[0].postMessage({status:"done",eventId:D,eventType:U,response:ft})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Fi(p="",u=10){let h="";for(let g=0;g<u;g++)h+=Math.floor(10*Math.random());return p+h}class vf{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,g=50){var y=this;return(0,S.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let U,te;return new Promise((ye,qe)=>{const ft=Fi("",20);D.port1.start();const rn=setTimeout(()=>{qe(new Error("unsupported_event"))},g);te={messageChannel:D,onMessage(qr){const da=qr;if(da.data.eventId===ft)switch(da.data.status){case"ack":clearTimeout(rn),U=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),ye(da.data.response);break;default:clearTimeout(rn),clearTimeout(U),qe(new Error("invalid_response"))}}},y.handlers.add(te),D.port1.addEventListener("message",te.onMessage),y.target.postMessage({eventType:u,eventId:ft,data:h},[D.port2])}).finally(()=>{te&&y.removeMessageHandler(te)})})()}}function En(){return window}function yf(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function bf(){return(bf=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wf="firebaseLocalStorageDb",fu="firebaseLocalStorage",n_="fbase_key";class Uc{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Vl(p,u){return p.transaction([fu],u?"readwrite":"readonly").objectStore(fu)}function Ha(){const p=indexedDB.open(wf,1);return new Promise((u,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(fu,{keyPath:n_})}catch(y){h(y)}}),p.addEventListener("success",(0,S.Z)(function*(){const g=p.result;g.objectStoreNames.contains(fu)?u(g):(g.close(),yield function pu(){const p=indexedDB.deleteDatabase(wf);return new Uc(p).toPromise()}(),u(yield Ha()))}))})}function i_(p,u,h){return O0.apply(this,arguments)}function O0(){return(O0=(0,S.Z)(function*(p,u,h){const g=Vl(p,!0).put({[n_]:u,value:h});return new Uc(g).toPromise()})).apply(this,arguments)}function N0(){return(N0=(0,S.Z)(function*(p,u){const h=Vl(p,!1).get(u),g=yield new Uc(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function F0(p,u){const h=Vl(p,!0).delete(u);return new Uc(h).toPromise()}const Cf=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield Ha()),h.db})()}_withRetries(h){var g=this;return(0,S.Z)(function*(){let y=0;for(;;)try{const D=yield g._openDb();return yield h(D)}catch(D){if(y++>3)throw D;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return yf()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=A2._getInstance(function P0(){return yf()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,S.Z)(function*(y,D){return{keyProcessed:(yield h._poll()).includes(D.key)}});return function(y,D){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,S.Z)(function*(y,D){return["keyChanged"]});return function(y,D){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var g,y;if(h.activeServiceWorker=yield function M0(){return bf.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new vf(h.activeServiceWorker);const D=yield h.sender._send("ping",{},800);D&&null!==(g=D[0])&&void 0!==g&&g.fulfilled&&null!==(y=D[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,S.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function e_(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Ha();return yield i_(h,Jg,"1"),yield F0(h,Jg),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,S.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var y=this;return(0,S.Z)(function*(){return y._withPendingWrite((0,S.Z)(function*(){return yield y._withRetries(D=>i_(D,h,g)),y.localCache[h]=g,y.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=yield g._withRetries(D=>function R2(p,u){return N0.apply(this,arguments)}(D,h));return g.localCache[h]=y,y})()}_remove(h){var g=this;return(0,S.Z)(function*(){return g._withPendingWrite((0,S.Z)(function*(){return yield g._withRetries(y=>F0(y,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const g=yield h._withRetries(U=>{const te=Vl(U,!1).getAll();return new Uc(te).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const y=[],D=new Set;for(const{fbase_key:U,value:te}of g)D.add(U),JSON.stringify(h.localCache[U])!==JSON.stringify(te)&&(h.notifyListeners(U,te),y.push(U));for(const U of Object.keys(h.localCache))h.localCache[U]&&!D.has(U)&&(h.notifyListeners(U,null),y.push(U));return y})()}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const D of Array.from(y))D(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),mu=1e12;class L0{constructor(u){this.auth=u,this.counter=mu,this._widgets=new Map}render(u,h){const g=this.counter;return this._widgets.set(g,new yT(u,this.auth.name,h||{})),this.counter++,g}reset(u){var h;const g=u||mu;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(u){var h;return(null===(h=this._widgets.get(u||mu))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,S.Z)(function*(){var g;return null===(g=h._widgets.get(u||mu))||void 0===g||g.execute(),""})()}}class yT{constructor(u,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof u?document.getElementById(u):u;be(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bT(p){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)u.push(h.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const s_=iT("rcb"),V0=new Sr(3e4,6e4);class B0{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=En().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return be(function CT(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&pi(En().grecaptcha)?Promise.resolve(En().grecaptcha):new Promise((g,y)=>{const D=En().setTimeout(()=>{y(Gt(u,"network-request-failed"))},V0.get());En()[s_]=()=>{En().clearTimeout(D),delete En()[s_];const te=En().grecaptcha;if(!te||!pi(te))return void y(Gt(u,"internal-error"));const ye=te.render;te.render=(qe,ft)=>{const rn=ye(qe,ft);return this.counter++,rn},this.hostLanguage=h,g(te)},l0(`https://www.google.com/recaptcha/api.js??${(0,ae.xO)({onload:s_,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(D),y(Gt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=En().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class O2{load(u){return(0,S.Z)(function*(){return new L0(u)})()}clearedOneInstance(){}}const U0="recaptcha",Fn={theme:"light",type:"image"};class j0{constructor(u,h,g=Object.assign({},Fn)){this.parameters=g,this.type=U0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mi(u),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;be(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new O2:new B0,this.validateStartingState()}verify(){var u=this;return(0,S.Z)(function*(){u.assertNotDestroyed();const h=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(h)||new Promise(D=>{const U=te=>{te&&(u.tokenChangeListeners.delete(U),D(te))};u.tokenChangeListeners.add(U),u.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof u)u(h);else if("string"==typeof u){const g=En()[u];"function"==typeof g&&g(h)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,S.Z)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,S.Z)(function*(){be(Jn()&&!yf(),u.auth,"internal-error"),yield function ET(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function re(p){return pe.apply(this,arguments)}(u.auth);be(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class o_{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=La._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function H0(p,u,h){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,S.Z)(function*(p,u,h){const g=mi(p),y=yield _u(g,u,(0,ae.m9)(h));return new o_(y,D=>hf(g,D))})).apply(this,arguments)}function xT(p,u,h){return gu.apply(this,arguments)}function gu(){return(gu=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p);yield df(!1,g,"phone");const y=yield _u(g.auth,u,(0,ae.m9)(h));return new o_(y,D=>zg(g,D))})).apply(this,arguments)}function DT(p,u,h){return qs.apply(this,arguments)}function qs(){return(qs=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p),y=yield _u(g.auth,u,(0,ae.m9)(h));return new o_(y,D=>w0(g,D))})).apply(this,arguments)}function _u(p,u,h){return xf.apply(this,arguments)}function xf(){return xf=(0,S.Z)(function*(p,u,h){var g;const y=yield h.verify();try{let D;if(be("string"==typeof y,p,"argument-error"),be(h.type===U0,p,"argument-error"),D="string"==typeof u?{phoneNumber:u}:u,"session"in D){const U=D.session;if("phoneNumber"in D)return be("enroll"===U.type,p,"internal-error"),(yield function C2(p,u){return me(p,"POST","/v2/accounts/mfaEnrollment:start",J(p,u))}(p,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{be("signin"===U.type,p,"internal-error");const te=(null===(g=D.multiFactorHint)||void 0===g?void 0:g.uid)||D.multiFactorUid;return be(te,p,"missing-multi-factor-info"),(yield function _T(p,u){return me(p,"POST","/v2/accounts/mfaSignIn:start",J(p,u))}(p,{mfaPendingCredential:U.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function lT(p,u){return Mg.apply(this,arguments)}(p,{phoneNumber:D.phoneNumber,recaptchaToken:y});return U}}finally{h._reset()}}),xf.apply(this,arguments)}function Wn(p,u){return vu.apply(this,arguments)}function vu(){return(vu=(0,S.Z)(function*(p,u){yield cf((0,ae.m9)(p),u)})).apply(this,arguments)}let Df=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=mi(h)}verifyPhoneNumber(h,g){return _u(this.auth,h,(0,ae.m9)(g))}static credential(h,g){return La._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:y}=h;return g&&y?La._fromTokenResponse(g,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function ji(p,u){return u?le(u):(be(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class a_ extends Sc{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Na(u,this._buildIdpRequest())}_linkToIdToken(u,h){return Na(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return Na(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function z0(p){return b0(p.auth,new a_(p),p.bypassAuthState)}function jc(p){const{auth:u,user:h}=p;return be(h,u,"internal-error"),y0(h,new a_(p),p.bypassAuthState)}function As(p){return l_.apply(this,arguments)}function l_(){return(l_=(0,S.Z)(function*(p){const{auth:u,user:h}=p;return be(h,u,"internal-error"),cf(h,new a_(p),p.bypassAuthState)})).apply(this,arguments)}class $0{constructor(u,h,g,y,D=!1){this.auth=u,this.resolver=g,this.user=y,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,S.Z)(function*(g,y){u.pendingPromise={resolve:g,reject:y};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(D){u.reject(D)}});return function(g,y){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,S.Z)(function*(){const{urlResponse:g,sessionId:y,postBody:D,tenantId:U,error:te,type:ye}=u;if(te)return void h.reject(te);const qe={auth:h.auth,requestUri:g,sessionId:y,tenantId:U||void 0,postBody:D||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ye)(qe))}catch(ft){h.reject(ft)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return z0;case"linkViaPopup":case"linkViaRedirect":return As;case"reauthViaPopup":case"reauthViaRedirect":return jc;default:Ot(this.auth,"internal-error")}}resolve(u){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TT=new Sr(2e3,1e4);function za(p,u,h){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,S.Z)(function*(p,u,h){const g=mi(p);Ti(p,u,sa);const y=ji(g,h);return new c_(g,"signInViaPopup",u,y).executeNotNull()})).apply(this,arguments)}function IT(p,u,h){return If.apply(this,arguments)}function If(){return(If=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p);Ti(g.auth,u,sa);const y=ji(g.auth,h);return new c_(g.auth,"reauthViaPopup",u,y,g).executeNotNull()})).apply(this,arguments)}function G0(p,u,h){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p);Ti(g.auth,u,sa);const y=ji(g.auth,h);return new c_(g.auth,"linkViaPopup",u,y,g).executeNotNull()})).apply(this,arguments)}let c_=(()=>{class p extends $0{constructor(h,g,y,D,U){super(h,g,D,U),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const g=yield h.execute();return be(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,S.Z)(function*(){kn(1===h.filter.length,"Popup operations only handle one event");const g=Fi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject(Gt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,y;this.pollId=null!==(y=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,TT.get())};h()}}return p.currentPopupAction=null,p})();const wt="pendingRedirect",Hc=new Map;class N2 extends $0{constructor(u,h,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,S.Z)(function*(){let g=Hc.get(h.auth._key());if(!g){try{const D=(yield function ST(p,u){return d_.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;g=()=>Promise.resolve(D)}catch(y){g=()=>Promise.reject(y)}Hc.set(h.auth._key(),g)}return h.bypassAuthState||Hc.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,g=this;return(0,S.Z)(function*(){if("signInViaRedirect"===u.type)return h().call(g,u);if("unknown"!==u.type){if(u.eventId){const y=yield g.auth._redirectUserForId(u.eventId);if(y)return g.user=y,h().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function d_(){return(d_=(0,S.Z)(function*(p,u){const h=K0(u),g=q0(p);if(!(yield g._isAvailable()))return!1;const y="true"===(yield g._get(h));return yield g._remove(h),y})).apply(this,arguments)}function u_(p,u){return Af.apply(this,arguments)}function Af(){return(Af=(0,S.Z)(function*(p,u){return q0(p)._set(K0(u),"true")})).apply(this,arguments)}function zc(){Hc.clear()}function W0(p,u){Hc.set(p._key(),u)}function q0(p){return le(p._redirectPersistence)}function K0(p){return pt(wt,p.config.apiKey,p.name)}function AT(p,u,h){return function RT(p,u,h){return _e.apply(this,arguments)}(p,u,h)}function _e(){return(_e=(0,S.Z)(function*(p,u,h){const g=mi(p);Ti(p,u,sa),yield g._initializationPromise;const y=ji(g,h);return yield u_(y,g),y._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function un(p,u,h){return function Fe(p,u,h){return Oe.apply(this,arguments)}(p,u,h)}function Oe(){return(Oe=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p);Ti(g.auth,u,sa),yield g.auth._initializationPromise;const y=ji(g.auth,h);yield u_(y,g.auth);const D=yield kT(g);return y._openRedirect(g.auth,u,"reauthViaRedirect",D)})).apply(this,arguments)}function gr(p,u,h){return function Y0(p,u,h){return Bl.apply(this,arguments)}(p,u,h)}function Bl(){return(Bl=(0,S.Z)(function*(p,u,h){const g=(0,ae.m9)(p);Ti(g.auth,u,sa),yield g.auth._initializationPromise;const y=ji(g.auth,h);yield df(!1,g,u.providerId),yield u_(y,g.auth);const D=yield kT(g);return y._openRedirect(g.auth,u,"linkViaRedirect",D)})).apply(this,arguments)}function jo(p,u){return yu.apply(this,arguments)}function yu(){return(yu=(0,S.Z)(function*(p,u){return yield mi(p)._initializationPromise,bu(p,u,!1)})).apply(this,arguments)}function bu(p,u){return h_.apply(this,arguments)}function h_(){return(h_=(0,S.Z)(function*(p,u,h=!1){const g=mi(p),y=ji(g,u),U=yield new N2(g,y,h).execute();return U&&!h&&(delete U.user._redirectEventId,yield g._persistUserIfCurrent(U.user),yield g._setRedirectUser(null,u)),U})).apply(this,arguments)}function kT(p){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,S.Z)(function*(p){const u=Fi(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class Ho{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(h=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function la(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var g;if(u.error&&!Ul(u)){const y=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError(Gt(this.auth,y))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const g=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(u))}saveEventToCache(u){this.cachedEventUids.add(f_(u)),this.lastProcessedEventTime=Date.now()}}function f_(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function Ul({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function Z0(p){return kf.apply(this,arguments)}function kf(){return(kf=(0,S.Z)(function*(p,u={}){return me(p,"GET","/v1/projects",u)})).apply(this,arguments)}const MT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PT=/^https?/;function wu(){return(wu=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Z0(p);for(const h of u)try{if(Q0(h))return}catch{}Ot(p,"unauthorized-domain")})).apply(this,arguments)}function Q0(p){const u=ii(),{protocol:h,hostname:g}=new URL(u);if(p.startsWith("chrome-extension://")){const U=new URL(p);return""===U.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&U.hostname===g}if(!PT.test(h))return!1;if(MT.test(p))return g===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(g)}const m_=new Sr(3e4,6e4);function X0(){const p=En().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let $c=null;const tw=new Sr(5e3,15e3),nw="__/auth/iframe",iw="emulator/auth/iframe",g_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NT(p){const u=p.config;be(u.authDomain,p,"auth-domain-config-required");const h=u.emulator?bs(u,iw):`https://${p.config.authDomain}/${nw}`,g={apiKey:u.apiKey,appName:p.name,v:$.SDK_VERSION},y=OT.get(p.config.apiHost);y&&(g.eid=y);const D=p._getFrameworks();return D.length&&(g.fw=D.join(",")),`${h}?${(0,ae.xO)(g).slice(1)}`}function ca(){return ca=(0,S.Z)(function*(p){const u=yield function ew(p){return $c=$c||function J0(p){return new Promise((u,h)=>{var g,y,D;function U(){X0(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{X0(),h(Gt(p,"network-request-failed"))},timeout:m_.get()})}if(null!==(y=null===(g=En().gapi)||void 0===g?void 0:g.iframes)&&void 0!==y&&y.Iframe)u(gapi.iframes.getContext());else{if(null===(D=En().gapi)||void 0===D||!D.load){const te=iT("iframefcb");return En()[te]=()=>{gapi.load?U():h(Gt(p,"network-request-failed"))},l0(`https://apis.google.com/js/api.js?onload=${te}`).catch(ye=>h(ye))}U()}}).catch(u=>{throw $c=null,u})}(p),$c}(p),h=En().gapi;return be(h,p,"internal-error"),u.open({where:document.body,url:NT(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g_,dontclear:!0},g=>new Promise(function(){var y=(0,S.Z)(function*(D,U){yield g.restyle({setHideOnLeave:!1});const te=Gt(p,"network-request-failed"),ye=En().setTimeout(()=>{U(te)},tw.get());function qe(){En().clearTimeout(ye),D(g)}g.ping(qe).then(qe,()=>{U(te)})});return function(D,U){return y.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const _i={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class v_{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $a="__/auth/handler",VT="emulator/auth/handler",Of=encodeURIComponent("fac");function Gc(p,u,h,g,y,D){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,S.Z)(function*(p,u,h,g,y,D){be(p.config.authDomain,p,"auth-domain-config-required"),be(p.config.apiKey,p,"invalid-api-key");const U={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:$.SDK_VERSION,eventId:y};if(u instanceof sa){u.setDefaultLanguage(p.languageCode),U.providerId=u.providerId||"",(0,ae.xb)(u.getCustomParameters())||(U.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ft,rn]of Object.entries(D||{}))U[ft]=rn}if(u instanceof kc){const ft=u.getScopes().filter(rn=>""!==rn);ft.length>0&&(U.scopes=ft.join(","))}p.tenantId&&(U.tid=p.tenantId);const te=U;for(const ft of Object.keys(te))void 0===te[ft]&&delete te[ft];const ye=yield p._getAppCheckToken(),qe=ye?`#${Of}=${encodeURIComponent(ye)}`:"";return`${function y_({config:p}){return p.emulator?bs(p,VT):`https://${p.authDomain}/${$a}`}(p)}?${(0,ae.xO)(te).slice(1)}${qe}`})).apply(this,arguments)}const Nf="webStorageSupport",ow=class sw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=bu,this._overrideRedirectResult=W0}_openPopup(u,h,g,y){var D=this;return(0,S.Z)(function*(){var U;kn(null===(U=D.eventManagers[u._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const te=yield Gc(u,h,g,ii(),y);return function rw(p,u,h,g=500,y=600){const D=Math.max((window.screen.availHeight-y)/2,0).toString(),U=Math.max((window.screen.availWidth-g)/2,0).toString();let te="";const ye=Object.assign(Object.assign({},_i),{width:g.toString(),height:y.toString(),top:D,left:U}),qe=(0,ae.z$)().toLowerCase();h&&(te=or(qe)?"_blank":h),On(qe)&&(u=u||"http://localhost",ye.scrollbars="yes");const ft=Object.entries(ye).reduce((qr,[da,Du])=>`${qr}${da}=${Du},`,"");if(function jt(p=(0,ae.z$)()){var u;return tt(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(qe)&&"_self"!==te)return function Pf(p,u){const h=document.createElement("a");h.href=p,h.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(u||"",te),new v_(null);const rn=window.open(u||"",te,ft);be(rn,p,"popup-blocked");try{rn.focus()}catch{}return new v_(rn)}(u,te,Fi())})()}_openRedirect(u,h,g,y){var D=this;return(0,S.Z)(function*(){return yield D._originValidation(u),function k0(p){En().location.href=p}(yield Gc(u,h,g,ii(),y)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:y,promise:D}=this.eventManagers[h];return y?Promise.resolve(y):(kn(D,"If manager is not set, promise should be"),D)}const g=this.initAndGetManager(u);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(u){var h=this;return(0,S.Z)(function*(){const g=yield function Wr(p){return ca.apply(this,arguments)}(u),y=new Ho(u);return g.register("authEvent",D=>(be(D?.authEvent,u,"invalid-auth-event"),{status:y.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:y},h.iframes[u._key()]=g,y})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(Nf,{type:Nf},y=>{var D;const U=null===(D=y?.[0])||void 0===D?void 0:D[Nf];void 0!==U&&h(!!U),Ot(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function p_(p){return wu.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return Oi()||rt()||tt()}};class qc{constructor(u){this.factorId=u}_process(u,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,g);case"signin":return this._finalizeSignIn(u,h.credential);default:return Kt("unexpected MultiFactorSessionType")}}}class jl extends qc{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new jl(u)}_finalizeEnroll(u,h,g){return function E2(p,u){return me(p,"POST","/v2/accounts/mfaEnrollment:finalize",J(p,u))}(u,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function r_(p,u){return me(p,"POST","/v2/accounts/mfaSignIn:finalize",J(p,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let BT=(()=>{class p{constructor(){}static assertion(h){return jl._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var aw="@firebase/auth";class F2{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xu=(0,ae.Pz)("authIdTokenMaxAge")||300;let Lf=null;const Vf=p=>function(){var u=(0,S.Z)(function*(h){const g=h&&(yield h.getIdTokenResult()),y=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(y&&y>xu)return;const D=g?.token;Lf!==D&&(Lf=D,yield fetch(p,{method:D?"POST":"DELETE",headers:D?{Authorization:`Bearer ${D}`}:{}}))});return function(h){return u.apply(this,arguments)}}();function L2(p=(0,$.getApp)()){const u=(0,$._getProvider)(p,"auth");if(u.isInitialized())return u.getImmediate();const h=function g2(p,u){const h=(0,$._getProvider)(p,"auth");if(h.isInitialized()){const y=h.getImmediate(),D=h.getOptions();if((0,ae.vZ)(D,u??{}))return y;Ot(y,"already-initialized")}return h.initialize({options:u})}(p,{popupRedirectResolver:ow,persistence:[Cf,pT,Uo]}),g=(0,ae.Pz)("authTokenSyncURL");if(g){const D=Vf(g);(function Fl(p,u,h){(0,ae.m9)(p).beforeAuthStateChanged(u,h)})(h,D,()=>D(h.currentUser)),function Zg(p,u,h,g){(0,ae.m9)(p).onIdTokenChanged(u,h,g)}(h,U=>D(U))}const y=(0,ae.q4)("auth");return y&&oT(h,`http://${y}`),h}!function Eu(p){(0,$._registerComponent)(new Zn.wA("auth",(u,{options:h})=>{const g=u.getProvider("app").getImmediate(),y=u.getProvider("heartbeat"),D=u.getProvider("app-check-internal"),{apiKey:U,authDomain:te}=g.options;be(U&&!U.includes(":"),"invalid-api-key",{appName:g.name});const ye={apiKey:U,authDomain:te,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(p)},qe=new h2(g,y,D,ye);return function ce(p,u){const h=u?.persistence||[],g=(Array.isArray(h)?h:[h]).map(le);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(g,u?.popupRedirectResolver)}(qe,h),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,g)=>{u.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Zn.wA("auth-internal",u=>{const h=mi(u.getProvider("auth").getImmediate());return new F2(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(aw,"1.4.0",function b_(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,$.registerVersion)(aw,"1.4.0","esm2017")}("Browser")},58:(rs,xi,ct)=>{ct.d(xi,{BH:()=>Ir,DV:()=>z,Dv:()=>mn,G6:()=>bs,GJ:()=>pi,L:()=>en,LL:()=>he,Pz:()=>Gt,Sg:()=>Ti,UG:()=>Kt,UI:()=>pe,US:()=>Zn,Wj:()=>Gn,Wl:()=>ot,Yr:()=>Sr,ZB:()=>Ze,ZR:()=>me,aH:()=>Ot,b$:()=>Jn,cI:()=>we,dS:()=>uo,eu:()=>oe,g5:()=>$,gK:()=>_n,gQ:()=>ri,h$:()=>Rn,hl:()=>ee,hu:()=>ae,jU:()=>kn,lb:()=>ei,m9:()=>No,ne:()=>Ki,p$:()=>xe,pd:()=>Pn,q4:()=>Di,r3:()=>q,ru:()=>ii,tV:()=>fe,uI:()=>be,ug:()=>ws,vZ:()=>Ae,w1:()=>ys,w9:()=>$n,xO:()=>Yt,xb:()=>re,z$:()=>It,zd:()=>Ut});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ae=function(V,F){if(!V)throw $(F)},$=function(V){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},et=function(V){const F=[];let x=0;for(let T=0;T<V.length;T++){let C=V.charCodeAt(T);C<128?F[x++]=C:C<2048?(F[x++]=C>>6|192,F[x++]=63&C|128):55296==(64512&C)&&T+1<V.length&&56320==(64512&V.charCodeAt(T+1))?(C=65536+((1023&C)<<10)+(1023&V.charCodeAt(++T)),F[x++]=C>>18|240,F[x++]=C>>12&63|128,F[x++]=C>>6&63|128,F[x++]=63&C|128):(F[x++]=C>>12|224,F[x++]=C>>6&63|128,F[x++]=63&C|128)}return F},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,T=[];for(let C=0;C<V.length;C+=3){const M=V[C],le=C+1<V.length,Ke=le?V[C+1]:0,$e=C+2<V.length,pt=$e?V[C+2]:0;let On=(15&Ke)<<2|pt>>6,rt=63&pt;$e||(rt=64,le||(On=64)),T.push(x[M>>2],x[(3&M)<<4|Ke>>4],x[On],x[rt])}return T.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(et(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let x=0,T=0;for(;x<V.length;){const C=V[x++];if(C<128)F[T++]=String.fromCharCode(C);else if(C>191&&C<224){const M=V[x++];F[T++]=String.fromCharCode((31&C)<<6|63&M)}else if(C>239&&C<365){const $e=((7&C)<<18|(63&V[x++])<<12|(63&V[x++])<<6|63&V[x++])-65536;F[T++]=String.fromCharCode(55296+($e>>10)),F[T++]=String.fromCharCode(56320+(1023&$e))}else{const M=V[x++],le=V[x++];F[T++]=String.fromCharCode((15&C)<<12|(63&M)<<6|63&le)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const x=F?this.charToByteMapWebSafe_:this.charToByteMap_,T=[];for(let C=0;C<V.length;){const M=x[V.charAt(C++)],Ke=C<V.length?x[V.charAt(C)]:0;++C;const pt=C<V.length?x[V.charAt(C)]:64;++C;const Ve=C<V.length?x[V.charAt(C)]:64;if(++C,null==M||null==Ke||null==pt||null==Ve)throw new fi;T.push(M<<2|Ke>>4),64!==pt&&(T.push(Ke<<4&240|pt>>2),64!==Ve&&T.push(pt<<6&192|Ve))}return T},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class fi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rn=function(V){const F=et(V);return Zn.encodeByteArray(F,!0)},en=function(V){return Rn(V).replace(/\./g,"")},fe=function(V){try{return Zn.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function xe(V){return Ze(void 0,V)}function Ze(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const x in F)!F.hasOwnProperty(x)||!xt(x)||(V[x]=Ze(V[x],F[x]));return V}function xt(V){return"__proto__"!==V}const bt=()=>{try{return function an(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&fe(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Di=V=>{var F,x;return null===(x=null===(F=bt())||void 0===F?void 0:F.emulatorHosts)||void 0===x?void 0:x[V]},Ot=()=>{var V;return null===(V=bt())||void 0===V?void 0:V.config},Gt=V=>{var F;return null===(F=bt())||void 0===F?void 0:F[`_${V}`]};class Ir{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,x)=>{this.resolve=F,this.reject=x})}wrapCallback(F){return(x,T)=>{x?this.reject(x):this.resolve(T),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(x):F(x,T))}}}function Ti(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const T=F||"demo-project",C=V.iat||0,M=V.sub||V.user_id;if(!M)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const le=Object.assign({iss:`https://securetoken.google.com/${T}`,aud:T,iat:C,exp:C+3600,auth_time:C,sub:M,user_id:M,firebase:{sign_in_provider:"custom",identities:{}}},V);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(le)),""].join(".")}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Kt(){var V;const F=null===(V=bt())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kn(){return"object"==typeof self&&self.self===self}function ii(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ys(){const V=It();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Sr(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function bs(){return!Kt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((V,F)=>{try{let x=!0;const T="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(T);C.onsuccess=()=>{C.result.close(),x||self.indexedDB.deleteDatabase(T),V(!0)},C.onupgradeneeded=()=>{x=!1},C.onerror=()=>{var M;F((null===(M=C.error)||void 0===M?void 0:M.message)||"")}}catch(x){F(x)}})}class me extends Error{constructor(F,x,T){super(x),this.code=F,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(F,x,T){this.service=F,this.serviceName=x,this.errors=T}create(F,...x){const T=x[0]||{},C=`${this.service}/${F}`,M=this.errors[F],le=M?function Se(V,F){return V.replace(Nt,(x,T)=>{const C=F[T];return null!=C?String(C):`<${T}?>`})}(M,T):"Error";return new me(C,`${this.serviceName}: ${le} (${C}).`,T)}}const Nt=/\{\$([^}]+)}/g;function we(V){return JSON.parse(V)}function ot(V){return JSON.stringify(V)}const tn=function(V){let F={},x={},T={},C="";try{const M=V.split(".");F=we(fe(M[0])||""),x=we(fe(M[1])||""),C=M[2],T=x.d||{},delete x.d}catch{}return{header:F,claims:x,data:T,signature:C}},$n=function(V){const x=tn(V).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},pi=function(V){const F=tn(V).claims;return"object"==typeof F&&!0===F.admin};function q(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function z(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function re(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function pe(V,F,x){const T={};for(const C in V)Object.prototype.hasOwnProperty.call(V,C)&&(T[C]=F.call(x,V[C],C,V));return T}function Ae(V,F){if(V===F)return!0;const x=Object.keys(V),T=Object.keys(F);for(const C of x){if(!T.includes(C))return!1;const M=V[C],le=F[C];if(Ce(M)&&Ce(le)){if(!Ae(M,le))return!1}else if(M!==le)return!1}for(const C of T)if(!x.includes(C))return!1;return!0}function Ce(V){return null!==V&&"object"==typeof V}function Yt(V){const F=[];for(const[x,T]of Object.entries(V))Array.isArray(T)?T.forEach(C=>{F.push(encodeURIComponent(x)+"="+encodeURIComponent(C))}):F.push(encodeURIComponent(x)+"="+encodeURIComponent(T));return F.length?"&"+F.join("&"):""}function Ut(V){const F={};return V.replace(/^\?/,"").split("&").forEach(T=>{if(T){const[C,M]=T.split("=");F[decodeURIComponent(C)]=decodeURIComponent(M)}}),F}function Pn(V){const F=V.indexOf("?");if(!F)return"";const x=V.indexOf("#",F);return V.substring(F,x>0?x:void 0)}class ri{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,x){x||(x=0);const T=this.W_;if("string"==typeof F)for(let Ve=0;Ve<16;Ve++)T[Ve]=F.charCodeAt(x)<<24|F.charCodeAt(x+1)<<16|F.charCodeAt(x+2)<<8|F.charCodeAt(x+3),x+=4;else for(let Ve=0;Ve<16;Ve++)T[Ve]=F[x]<<24|F[x+1]<<16|F[x+2]<<8|F[x+3],x+=4;for(let Ve=16;Ve<80;Ve++){const On=T[Ve-3]^T[Ve-8]^T[Ve-14]^T[Ve-16];T[Ve]=4294967295&(On<<1|On>>>31)}let pt,dn,C=this.chain_[0],M=this.chain_[1],le=this.chain_[2],Ke=this.chain_[3],$e=this.chain_[4];for(let Ve=0;Ve<80;Ve++){Ve<40?Ve<20?(pt=Ke^M&(le^Ke),dn=1518500249):(pt=M^le^Ke,dn=1859775393):Ve<60?(pt=M&le|Ke&(M|le),dn=2400959708):(pt=M^le^Ke,dn=3395469782);const On=(C<<5|C>>>27)+pt+$e+dn+T[Ve]&4294967295;$e=Ke,Ke=le,le=4294967295&(M<<30|M>>>2),M=C,C=On}this.chain_[0]=this.chain_[0]+C&4294967295,this.chain_[1]=this.chain_[1]+M&4294967295,this.chain_[2]=this.chain_[2]+le&4294967295,this.chain_[3]=this.chain_[3]+Ke&4294967295,this.chain_[4]=this.chain_[4]+$e&4294967295}update(F,x){if(null==F)return;void 0===x&&(x=F.length);const T=x-this.blockSize;let C=0;const M=this.buf_;let le=this.inbuf_;for(;C<x;){if(0===le)for(;C<=T;)this.compress_(F,C),C+=this.blockSize;if("string"==typeof F){for(;C<x;)if(M[le]=F.charCodeAt(C),++le,++C,le===this.blockSize){this.compress_(M),le=0;break}}else for(;C<x;)if(M[le]=F[C],++le,++C,le===this.blockSize){this.compress_(M),le=0;break}}this.inbuf_=le,this.total_+=x}digest(){const F=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let C=this.blockSize-1;C>=56;C--)this.buf_[C]=255&x,x/=256;this.compress_(this.buf_);let T=0;for(let C=0;C<5;C++)for(let M=24;M>=0;M-=8)F[T]=this.chain_[C]>>M&255,++T;return F}}function Ki(V,F){const x=new sr(V,F);return x.subscribe.bind(x)}class sr{constructor(F,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{F(this)}).catch(T=>{this.error(T)})}next(F){this.forEachObserver(x=>{x.next(F)})}error(F){this.forEachObserver(x=>{x.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,x,T){let C;if(void 0===F&&void 0===x&&void 0===T)throw new Error("Missing Observer.");C=function In(V,F){if("object"!=typeof V||null===V)return!1;for(const x of F)if(x in V&&"function"==typeof V[x])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:x,complete:T},void 0===C.next&&(C.next=Zt),void 0===C.error&&(C.error=Zt),void 0===C.complete&&(C.complete=Zt);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?C.error(this.finalError):C.complete()}catch{}}),this.observers.push(C),M}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,F)}sendOne(F,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{x(this.observers[F])}catch(T){typeof console<"u"&&console.error&&console.error(T)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}const mn=function(V,F,x,T){let C;if(T<F?C="at least "+F:T>x&&(C=0===x?"none":"no more than "+x),C)throw new Error(V+" failed: Was called with "+T+(1===T?" argument.":" arguments.")+" Expects "+C+".")};function _n(V,F){return`${V} failed: ${F} argument `}function Gn(V,F,x,T){if((!T||x)&&"function"!=typeof x)throw new Error(_n(V,F)+"must be a valid function.")}function ei(V,F,x,T){if((!T||x)&&("object"!=typeof x||null===x))throw new Error(_n(V,F)+"must be a valid context object.")}const uo=function(V){const F=[];let x=0;for(let T=0;T<V.length;T++){let C=V.charCodeAt(T);if(C>=55296&&C<=56319){const M=C-55296;T++,ae(T<V.length,"Surrogate pair missing trail surrogate."),C=65536+(M<<10)+(V.charCodeAt(T)-56320)}C<128?F[x++]=C:C<2048?(F[x++]=C>>6|192,F[x++]=63&C|128):C<65536?(F[x++]=C>>12|224,F[x++]=C>>6&63|128,F[x++]=63&C|128):(F[x++]=C>>18|240,F[x++]=C>>12&63|128,F[x++]=C>>6&63|128,F[x++]=63&C|128)}return F},ws=function(V){let F=0;for(let x=0;x<V.length;x++){const T=V.charCodeAt(x);T<128?F++:T<2048?F+=2:T>=55296&&T<=56319?(F+=4,x++):F+=3}return F};function No(V){return V&&V._delegate?V._delegate:V}},862:(rs,xi,ct)=>{function S(n){return"function"==typeof n}function ae(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const $=ae(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function et(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class dt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(s){t=s instanceof $?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Rn(s)}catch(o){t=t??[],o instanceof $?t=[...t,...o.errors]:t.push(o)}}if(t)throw new $(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Rn(t);else{if(t instanceof dt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&et(e,t)}remove(t){const{_finalizers:e}=this;e&&et(e,t),t instanceof dt&&t._removeParent(this)}}dt.EMPTY=(()=>{const n=new dt;return n.closed=!0,n})();const Zn=dt.EMPTY;function fi(n){return n instanceof dt||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function Rn(n){S(n)?n():n.unsubscribe()}const en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fe={setTimeout(n,t,...e){const{delegate:i}=fe;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=fe;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function xe(n){fe.setTimeout(()=>{const{onUnhandledError:t}=en;if(!t)throw n;t(n)})}function Ze(){}const xt=$t("C",void 0,void 0);function $t(n,t,e){return{kind:n,value:t,error:e}}let yt=null;function bt(n){if(en.useDeprecatedSynchronousErrorHandling){const t=!yt;if(t&&(yt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=yt;if(yt=null,e)throw i}}else n()}class Xn extends dt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fi(t)&&t.add(this)):this.destination=kn}static create(t,e,i){return new Ti(t,e,i)}next(t){this.isStopped?Kt(function Qn(n){return $t("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Kt(function an(n){return $t("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Kt(xt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ot=Function.prototype.bind;function Gt(n,t){return Ot.call(n,t)}class Ir{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){It(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){It(i)}else It(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){It(e)}}}class Ti extends Xn{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&en.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Gt(t.next,s),error:t.error&&Gt(t.error,s),complete:t.complete&&Gt(t.complete,s)}):r=t}this.destination=new Ir(r)}}function It(n){en.useDeprecatedSynchronousErrorHandling?function Di(n){en.useDeprecatedSynchronousErrorHandling&&yt&&(yt.errorThrown=!0,yt.error=n)}(n):xe(n)}function Kt(n,t){const{onStoppedNotification:e}=en;e&&fe.setTimeout(()=>e(n,t))}const kn={closed:!0,next:Ze,error:function be(n){throw n},complete:Ze},ii="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jn(n){return n}function ys(n){return 0===n.length?Jn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ut=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function ee(n){return n&&n instanceof Xn||function bs(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&fi(n)}(e)?e:new Ti(e,i,r);return bt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Sr(i))((r,s)=>{const o=new Ti({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ii](){return this}pipe(...e){return ys(e)(this)}toPromise(e){return new(e=Sr(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Sr(n){var t;return null!==(t=n??en.Promise)&&void 0!==t?t:Promise}const oe=ae(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let H=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new J(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new oe}next(e){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){bt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Zn:(this.currentObservers=null,s.push(e),new dt(()=>{this.currentObservers=null,et(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ut;return e.source=this,e}}return n.create=(t,e)=>new J(t,e),n})();class J extends H{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Zn}}function me(n){return S(n?.lift)}function he(n){return t=>{if(me(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new Nt(n,t,e,i,r)}class Nt extends Xn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(n,t){return he((e,i)=>{let r=0;e.subscribe(Se(i,s=>{i.next(n.call(t,s,r++))}))})}var ot=ct(582);const tn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function zn(n){return S(n?.then)}function Cn(n){return S(n[ii])}function $n(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function pi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const z=function q(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function re(n){return S(n?.[z])}function pe(n){return(0,ot.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,ot.qq)(e.read());if(r)return yield(0,ot.qq)(void 0);yield yield(0,ot.qq)(i)}}finally{e.releaseLock()}})}function Ae(n){return S(n?.getReader)}function Ce(n){if(n instanceof ut)return n;if(null!=n){if(Cn(n))return function Mn(n){return new ut(t=>{const e=n[ii]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(tn(n))return function Yt(n){return new ut(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(zn(n))return function Ut(n){return new ut(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,xe)})}(n);if($n(n))return ri(n);if(re(n))return function Pn(n){return new ut(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ae(n))return function Ki(n){return ri(pe(n))}(n)}throw pi(n)}function ri(n){return new ut(t=>{(function sr(n,t){var e,i,r,s;return(0,ot.mG)(this,void 0,void 0,function*(){try{for(e=(0,ot.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function hr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Zt(n,t,e=1/0){return S(t)?Zt((i,r)=>we((s,o)=>t(i,s,r,o))(Ce(n(i,r))),e):("number"==typeof t&&(e=t),he((i,r)=>function In(n,t,e,i,r,s,o,a){const l=[];let c=0,d=0,f=!1;const m=()=>{f&&!l.length&&!c&&t.complete()},_=b=>c<i?v(b):l.push(b),v=b=>{s&&t.next(b),c++;let E=!1;Ce(e(b,d++)).subscribe(Se(t,N=>{r?.(N),s?_(N):t.next(N)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){const N=l.shift();o?hr(t,o,()=>v(N)):v(N)}m()}catch(N){t.error(N)}}))};return n.subscribe(Se(t,_,()=>{f=!0,m()})),()=>{a?.()}}(i,r,n,e)))}function mn(n=1/0){return Zt(Jn,n)}const _n=new ut(n=>n.complete());function ei(n){return n&&S(n.schedule)}function uo(n){return n[n.length-1]}function ws(n){return S(uo(n))?n.pop():void 0}function ho(n){return ei(uo(n))?n.pop():void 0}function Pi(n,t=0){return he((e,i)=>{e.subscribe(Se(i,r=>hr(i,n,()=>i.next(r),t),()=>hr(i,n,()=>i.complete(),t),r=>hr(i,n,()=>i.error(r),t)))})}function Ar(n,t=0){return he((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function No(n,t){if(!n)throw new Error("Iterable cannot be null");return new ut(e=>{hr(e,t,()=>{const i=n[Symbol.asyncIterator]();hr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function x(n,t){return t?function F(n,t){if(null!=n){if(Cn(n))return function Cs(n,t){return Ce(n).pipe(Ar(t),Pi(t))}(n,t);if(tn(n))return function Oa(n,t){return new ut(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(zn(n))return function Ic(n,t){return Ce(n).pipe(Ar(t),Pi(t))}(n,t);if($n(n))return No(n,t);if(re(n))return function Tl(n,t){return new ut(e=>{let i;return hr(e,t,()=>{i=n[z](),hr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(n,t);if(Ae(n))return function V(n,t){return No(pe(n),t)}(n,t)}throw pi(n)}(n,t):Ce(n)}function T(...n){const t=ho(n),e=function Yi(n,t){return"number"==typeof uo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Ce(i[0]):mn(e)(x(i,t)):_n}class C extends H{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function M(...n){return x(n,ho(n))}function le(n={}){const{connector:t=(()=>new H),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,d=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),o=l=void 0,d=f=!1},v=()=>{const b=o;_(),b?.unsubscribe()};return he((b,E)=>{c++,!f&&!d&&m();const N=l=l??t();E.add(()=>{c--,0===c&&!f&&!d&&(a=Ke(v,r))}),N.subscribe(E),!o&&c>0&&(o=new Ti({next:k=>N.next(k),error:k=>{f=!0,m(),a=Ke(_,e,k),N.error(k)},complete:()=>{d=!0,m(),a=Ke(_,i),N.complete()}}),Ce(b).subscribe(o))})(s)}}function Ke(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ti({next:()=>{i.unsubscribe(),n()}});return Ce(t(...e)).subscribe(i)}function $e(n,t){return he((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Se(i,l=>{r?.unsubscribe();let c=0;const d=s++;Ce(n(l,d)).subscribe(r=Se(i,f=>i.next(t?t(l,f,d,c++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function pt(n,t=Jn){return n=n??dn,he((e,i)=>{let r,s=!0;e.subscribe(Se(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function dn(n,t){return n===t}function Ve(n){for(let t in n)if(n[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function On(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function rt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(rt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function or(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Il=Ve({__forward_ref__:Ve});function K(n){return n.__forward_ref__=K,n.toString=function(){return rt(this())},n}function j(n){return Ee(n)?n():n}function Ee(n){return"function"==typeof n&&n.hasOwnProperty(Il)&&n.__forward_ref__===K}function tt(n){return n&&!!n.\u0275providers}const jt="https://g.co/ng/security#xss";class Y extends Error{constructor(t,e){super(function Oi(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Qe(n){return"string"==typeof n?n:null==n?"":String(n)}function Eg(n,t){throw new Y(-201,!1)}function Rr(n,t){null==n&&function vt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zh(n){return f0(n,Ac)||f0(n,Qh)}function f0(n,t){return n.hasOwnProperty(t)?n[t]:null}function ou(n){return n&&(n.hasOwnProperty(xg)||n.hasOwnProperty(aT))?n[xg]:null}const Ac=Ve({\u0275prov:Ve}),xg=Ve({\u0275inj:Ve}),Qh=Ve({ngInjectableDef:Ve}),aT=Ve({ngInjectorDef:Ve});var Ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ht||{});let Dg;function ss(n){const t=Dg;return Dg=n,t}function Jh(n,t,e){const i=Zh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ht.Optional?null:void 0!==t?t:void Eg(rt(n))}const Nn=globalThis;class ie{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Al={},kg="__NG_DI_FLAG__",xs="ngTempTokenPath",Mg=/\n/gm,nf="__source";let Rc;function Fa(n){const t=Rc;return Rc=n,t}function dT(n,t=Ht.Default){if(void 0===Rc)throw new Y(-203,!1);return null===Rc?Jh(n,void 0,t):Rc.get(n,t&Ht.Optional?null:void 0,t)}function P(n,t=Ht.Default){return(function Xh(){return Dg}()||dT)(j(n),t)}function De(n,t=Ht.Default){return P(n,rf(t))}function rf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rl(n){const t=[];for(let e=0;e<n.length;e++){const i=j(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Y(900,!1);let r,s=Ht.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Og(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(P(r,s))}else t.push(P(i))}return t}function sf(n,t){return n[kg]=t,n.prototype[kg]=t,n}function Og(n){return n[kg]}function Ds(n){return{toString:n}.toString()}var af=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(af||{}),Gs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Gs||{});const Fo={},vn=[],oa=Ve({\u0275cmp:Ve}),Ng=Ve({\u0275dir:Ve}),Mc=Ve({\u0275pipe:Ve}),_0=Ve({\u0275mod:Ve}),Lo=Ve({\u0275fac:Ve}),kl=Ve({__NG_ELEMENT_ID__:Ve}),Ts=Ve({__NG_ENV_ID__:Ve});function Fg(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Lg(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];lu(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function lf(n){return 3===n||4===n||6===n}function lu(n){return 64===n.charCodeAt(0)}function Pc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Vg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Vg(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const v0="ng-template";function Bg(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==Fg(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function cf(n){return 4===n.type&&n.value!==v0}function Ug(n,t,e){return t===(4!==n.type||e?n.value:v0)}function df(n,t,e){let i=4;const r=n.attrs||[],s=function jg(n){for(let t=0;t<n.length;t++)if(lf(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Ug(n,l,e)||""===l&&1===t.length){if(Is(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!Bg(n.attrs,c,e)){if(Is(i))return!1;o=!0}continue}const f=y0(8&i?"class":l,r,cf(n),e);if(-1===f){if(Is(i))return!1;o=!0;continue}if(""!==c){let m;m=f>s?"":r[f+1].toLowerCase();const _=8&i?m:null;if(_&&-1!==Fg(_,c,0)||2&i&&c!==m){if(Is(i))return!1;o=!0}}}}else{if(!o&&!Is(i)&&!Is(l))return!1;if(o&&Is(l))continue;o=!1,i=l|1&i}}return Is(i)||o}function Is(n){return 0==(1&n)}function y0(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function hf(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function uf(n,t,e=!1){for(let i=0;i<t.length;i++)if(df(n,t[i],e))return!0;return!1}function Hg(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function zg(n,t){return n?":not("+t.trim()+")":t}function $g(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Is(o)&&(t+=zg(s,r),r=""),i=o,s=s||!Is(i);e++}return""!==r&&(t+=zg(s,r)),t}function ht(n){return Ds(()=>{const t=C0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===af.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Gs.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""};pf(e);const i=n.dependencies;return e.directiveDefs=cu(i,!1),e.pipeDefs=cu(i,!0),e.id=function hT(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function uT(n){return nn(n)||fr(n)}function qg(n){return null!==n}function Be(n){return Ds(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ff(n,t){if(null==n)return Fo;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function X(n){return Ds(()=>{const t=C0(n);return pf(t),t})}function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function nn(n){return n[oa]||null}function fr(n){return n[Ng]||null}function pr(n){return n[Mc]||null}function $r(n,t){const e=n[_0]||null;if(!e&&!0===t)throw new Error(`Type ${rt(n)} does not have '\u0275mod' property.`);return e}function C0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Fo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ff(n.inputs,t),outputs:ff(n.outputs)}}function pf(n){n.features?.forEach(t=>t(n))}function cu(n,t){if(!n)return null;const e=t?pr:uT;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(qg)}const si=0,je=1,Dt=2,oi=3,fo=4,Ml=5,kr=6,Nc=7,gi=8,Va=9,Ba=10,Tt=11,Pl=12,E0=13,Ua=14,Ni=15,Ol=16,Fc=17,Ws=18,du=19,mf=20,ja=21,aa=22,Lc=23,Nl=24,Qt=25,gf=1,x0=2,Vo=7,Vc=9,Mr=11;function Ss(n){return Array.isArray(n)&&"object"==typeof n[gf]}function mr(n){return Array.isArray(n)&&!0===n[gf]}function Zg(n){return 0!=(4&n.flags)}function Fl(n){return n.componentOffset>-1}function Qg(n){return 1==(1&n.flags)}function Bo(n){return!!n.template}function D0(n){return 0!=(512&n[Dt])}function Bc(n,t){return n.hasOwnProperty(Lo)?n[Lo]:null}let Fi=null,vf=!1;function En(n){const t=Fi;return Fi=n,t}const k0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function M0(n){if(!pu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!fu(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function P0(n){n.dirty=!0,function bf(n){if(void 0===n.liveConsumerNode)return;const t=vf;vf=!0;try{for(const e of n.liveConsumerNode)e.dirty||P0(e)}finally{vf=t}}(n),n.consumerMarkedDirty?.(n)}function wf(n){return n&&(n.nextProducerIndex=0),En(n)}function t_(n,t){if(En(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(pu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Vl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function fu(n){Ha(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(M0(e),i!==e.version))return!0}return!1}function n_(n){if(Ha(n),pu(n))for(let t=0;t<n.producerNode.length;t++)Vl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Vl(n,t){if(function i_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ha(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Vl(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Ha(r),r.producerIndexOfThis[i]=t}}function pu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ha(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let gT=null;const B0=()=>{},CT=(()=>({...k0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:B0}))();class U0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Fn(){return j0}function j0(n){return n.type.prototype.ngOnChanges&&(n.setInput=o_),ET}function ET(){const n=Ef(this),t=n?.current;if(t){const e=n.previous;if(e===Fo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function o_(n,t,e,i){const r=this.declaredInputs[e],s=Ef(n)||function xT(n,t){return n[H0]=t}(n,{previous:Fo,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new U0(l&&l.currentValue,t,a===Fo),n[i]=t}Fn.ngInherit=!0;const H0="__ngSimpleChanges__";function Ef(n){return n[H0]||null}const qs=function(n,t,e){},_u="svg";function Wn(n){for(;Array.isArray(n);)n=n[si];return n}function Df(n,t){return Wn(t[n])}function ji(n,t){return Wn(t[n.index])}function z0(n,t){return n.data[t]}function jc(n,t){return n[t]}function As(n,t){const e=t[n];return Ss(e)?e:e[si]}function za(n,t){return null==t?null:n[t]}function Tf(n){n[Fc]=0}function IT(n){1024&n[Dt]||(n[Dt]|=1024,G0(n,1))}function If(n){1024&n[Dt]&&(n[Dt]&=-1025,G0(n,-1))}function G0(n,t){let e=n[oi];if(null===e)return;e[Ml]+=t;let i=e;for(e=e[oi];null!==e&&(1===t&&1===i[Ml]||-1===t&&0===i[Ml]);)e[Ml]+=t,i=e,e=e[oi]}const wt={lFrame:tw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Af(){return wt.bindingsEnabled}function zc(){return null!==wt.skipHydrationRootTNode}function _e(){return wt.lFrame.lView}function un(){return wt.lFrame.tView}function Fe(n){return wt.lFrame.contextLView=n,n[gi]}function Oe(n){return wt.lFrame.contextLView=null,n}function gr(){let n=Y0();for(;null!==n&&64===n.type;)n=n.parent;return n}function Y0(){return wt.lFrame.currentTNode}function jo(n,t){const e=wt.lFrame;e.currentTNode=n,e.isParent=t}function yu(){return wt.lFrame.isParent}function bu(){wt.lFrame.isParent=!1}function Gr(){const n=wt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ho(){return wt.lFrame.bindingIndex}function Ul(){return wt.lFrame.bindingIndex++}function la(n){const t=wt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function MT(n,t){const e=wt.lFrame;e.bindingIndex=e.bindingRootIndex=n,p_(t)}function p_(n){wt.lFrame.currentDirectiveIndex=n}function Q0(){return wt.lFrame.currentQueryIndex}function m_(n){wt.lFrame.currentQueryIndex=n}function X0(n){const t=n[je];return 2===t.type?t.declTNode:1===t.type?n[kr]:null}function J0(n,t,e){if(e&Ht.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Ht.Host||(r=X0(s),null===r||(s=s[Ua],10&r.type))););if(null===r)return!1;t=r,n=s}const i=wt.lFrame=ew();return i.currentTNode=t,i.lView=n,!0}function $c(n){const t=ew(),e=n[je];wt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ew(){const n=wt.lFrame,t=null===n?null:n.child;return null===t?tw(n):t}function tw(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function nw(){const n=wt.lFrame;return wt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const iw=nw;function g_(){const n=nw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wr(){return wt.lFrame.selectedIndex}function ca(n){wt.lFrame.selectedIndex=n}function _i(){const n=wt.lFrame;return z0(n.tView,n.selectedIndex)}function Mf(){wt.lFrame.currentNamespace=_u}let rw=!0;function Pf(){return rw}function $a(n){rw=n}function Of(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function Gc(n,t,e){Nf(n,t,3,e)}function Wc(n,t,e,i){(3&n[Dt])===e&&Nf(n,t,e,i)}function y_(n,t){let e=n[Dt];(3&e)===t&&(e&=8191,e+=1,n[Dt]=e)}function Nf(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Fc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Fc]+=65536),(a<s||-1==s)&&(ow(n,e,t,l),n[Fc]=(4294901760&n[Fc])+l+2),l++}function sw(n,t){qs(4,n,t);const e=En(null);try{t.call(n)}finally{En(e),qs(5,n,t)}}function ow(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Dt]>>13<n[Fc]>>16&&(3&n[Dt])===t&&(n[Dt]+=8192,sw(a,s)):sw(a,s)}const qc=-1;class jl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function b_(n){return n!==qc}function Eu(n){return 32767&n}function xu(n,t){let e=function HT(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ua],e--;return i}let Lf=!0;function Vf(n){const t=Lf;return Lf=n,t}const p=255,u=5;let h=0;const g={};function D(n,t){const e=te(n,t);if(-1!==e)return e;const i=t[je];i.firstCreatePass&&(n.injectorIndex=t.length,U(i.data,n),U(t,null),U(i.blueprint,null));const r=ye(n,t),s=n.injectorIndex;if(b_(r)){const o=Eu(r),a=xu(r,t),l=a[je].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function U(n,t){n.push(0,0,0,0,0,0,0,0,t)}function te(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ye(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=V2(r),null===i)return qc;if(e++,r=r[Ua],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return qc}function qe(n,t,e){!function y(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(kl)&&(i=e[kl]),null==i&&(i=e[kl]=h++);const r=i&p;t.data[n+(r>>u)]|=1<<r}(n,t,e)}function rn(n,t,e){if(e&Ht.Optional||void 0!==n)return n;Eg()}function qr(n,t,e,i){if(e&Ht.Optional&&void 0===i&&(i=null),!(e&(Ht.Self|Ht.Host))){const r=n[Va],s=ss(void 0);try{return r?r.get(t,i,e&Ht.Optional):Jh(t,i,e&Ht.Optional)}finally{ss(s)}}return rn(i,0,e)}function da(n,t,e,i=Ht.Default,r){if(null!==n){if(2048&t[Dt]&&!(i&Ht.Self)){const o=function DQ(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Dt]&&!(512&o[Dt]);){const a=Du(s,o,e,i|Ht.Self,g);if(a!==g)return a;let l=s.parent;if(!l){const c=o[mf];if(c){const d=c.get(e,g,i);if(d!==g)return d}l=V2(o),o=o[Ua]}s=l}return r}(n,t,e,i,g);if(o!==g)return o}const s=Du(n,t,e,i,g);if(s!==g)return s}return qr(t,e,i,r)}function Du(n,t,e,i,r){const s=function cw(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(kl)?n[kl]:void 0;return"number"==typeof t?t>=0?t&p:zT:t}(e);if("function"==typeof s){if(!J0(t,n,i))return i&Ht.Host?rn(r,0,i):qr(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Ht.Optional)return o;Eg()}finally{iw()}}else if("number"==typeof s){let o=null,a=te(n,t),l=qc,c=i&Ht.Host?t[Ni][kr]:null;for((-1===a||i&Ht.SkipSelf)&&(l=-1===a?ye(n,t):t[a+8],l!==qc&&w_(i,!1)?(o=t[je],a=Eu(l),t=xu(l,t)):a=-1);-1!==a;){const d=t[je];if(Bf(s,a,d.data)){const f=lw(a,t,e,o,i,c);if(f!==g)return f}l=t[a+8],l!==qc&&w_(i,t[je].data[a+8]===c)&&Bf(s,a,t)?(o=d,a=Eu(l),t=xu(l,t)):a=-1}}return r}function lw(n,t,e,i,r,s){const o=t[je],a=o.data[n+8],d=Kc(a,o,e,null==i?Fl(a)&&Lf:i!=o&&0!=(3&a.type),r&Ht.Host&&s===a);return null!==d?Ga(t,o,d,a):g}function Kc(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,d=s>>20,m=r?a+d:n.directiveEnd;for(let _=i?a:a+d;_<m;_++){const v=o[_];if(_<l&&e===v||_>=l&&v.type===e)return _}if(r){const _=o[l];if(_&&Bo(_)&&_.type===e)return l}return null}function Ga(n,t,e,i){let r=n[e];const s=t.data;if(function BT(n){return n instanceof jl}(r)){const o=r;o.resolving&&function su(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Y(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qe(n)}(s[e]));const a=Vf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ss(o.injectImpl):null;J0(n,i,Ht.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function VT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=j0(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ss(c),Vf(a),o.resolving=!1,iw()}}return r}function Bf(n,t,e){return!!(e[t+(n>>u)]&1<<n)}function w_(n,t){return!(n&Ht.Self||n&Ht.Host&&t)}class Pr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return da(this._tNode,this._lView,t,rf(i),e)}}function zT(){return new Pr(gr(),_e())}function kt(n){return Ds(()=>{const t=n.prototype.constructor,e=t[Lo]||E_(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Lo]||E_(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function E_(n){return Ee(n)?()=>{const t=E_(j(n));return t&&t()}:Bc(n)}function V2(n){const t=n[je],e=t.type;return 2===e?t.declTNode:1===e?n[kr]:null}function po(n){return function ft(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(lf(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(gr(),n)}const jf="__parameters__";function zf(n,t,e){return Ds(()=>{const i=function $T(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,d){const f=l.hasOwnProperty(jf)?l[jf]:Object.defineProperty(l,jf,{value:[]})[jf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Gf(n,t){n.forEach(e=>Array.isArray(e)?Gf(e,t):t(e))}function U2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function dw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function D_(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function mo(n,t,e){let i=Wf(n,t);return i>=0?n[1|i]=e:(i=~i,function MQ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function GT(n,t){const e=Wf(n,t);if(e>=0)return n[1|e]}function Wf(n,t){return function j2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Rs=sf(zf("Optional"),8),Zc=sf(zf("SkipSelf"),4);function gw(n){return 128==(128&n.flags)}var Qc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qc||{});const JQ=/^>|^->|<!--|-->|--!>|<!-$/g,eX=/(<|>)/g,tX="\u200b$1\u200b";const ZT=new Map;let nX=0;const XT="__ngContext__";function os(n,t){Ss(t)?(n[XT]=t[du],function rX(n){ZT.set(n[du],n)}(t)):n[XT]=t}let JT;function eI(n,t){return JT(n,t)}function S_(n){const t=n[oi];return mr(t)?t[oi]:t}function aL(n){return cL(n[Pl])}function lL(n){return cL(n[fo])}function cL(n){for(;null!==n&&!mr(n);)n=n[fo];return n}function Yf(n,t,e,i,r){if(null!=i){let s,o=!1;mr(i)?s=i:Ss(i)&&(o=!0,i=i[si]);const a=Wn(i);0===n&&null!==e?null==r?fL(t,e,a):Tu(t,e,a,r||null,!0):1===n&&null!==e?Tu(t,e,a,r||null,!0):2===n?function Ew(n,t,e){const i=ww(n,t);i&&function EX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function TX(n,t,e,i,r){const s=e[Vo];s!==Wn(e)&&Yf(t,n,i,s,r);for(let a=Mr;a<e.length;a++){const l=e[a];R_(l[je],l,n,t,i,s)}}(t,n,s,e,r)}}function tI(n,t){return n.createComment(function J2(n){return n.replace(JQ,t=>t.replace(eX,tX))}(t))}function yw(n,t,e){return n.createElement(t,e)}function uL(n,t){const e=n[Vc],i=e.indexOf(t);If(t),e.splice(i,1)}function bw(n,t){if(n.length<=Mr)return;const e=Mr+t,i=n[e];if(i){const r=i[Ol];null!==r&&r!==n&&uL(r,i),t>0&&(n[e-1][fo]=i[fo]);const s=dw(n,Mr+t);!function mX(n,t){R_(n,t,t[Tt],2,null,null),t[si]=null,t[kr]=null}(i[je],i);const o=s[Ws];null!==o&&o.detachView(s[je]),i[oi]=null,i[fo]=null,i[Dt]&=-129}return i}function nI(n,t){if(!(256&t[Dt])){const e=t[Tt];t[Lc]&&n_(t[Lc]),t[Nl]&&n_(t[Nl]),e.destroyNode&&R_(n,t,e,3,null,null),function vX(n){let t=n[Pl];if(!t)return iI(n[je],n);for(;t;){let e=null;if(Ss(t))e=t[Pl];else{const i=t[Mr];i&&(e=i)}if(!e){for(;t&&!t[fo]&&t!==n;)Ss(t)&&iI(t[je],t),t=t[oi];null===t&&(t=n),Ss(t)&&iI(t[je],t),e=t&&t[fo]}t=e}}(t)}}function iI(n,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,function CX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof jl)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];qs(4,a,l);try{l.call(a)}finally{qs(5,a,l)}}else{qs(4,r,s);try{s.call(r)}finally{qs(5,r,s)}}}}}(n,t),function wX(n,t){const e=n.cleanup,i=t[Nc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Nc]=null);const r=t[ja];if(null!==r){t[ja]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[je].type&&t[Tt].destroy();const e=t[Ol];if(null!==e&&mr(t[oi])){e!==t[oi]&&uL(e,t);const i=t[Ws];null!==i&&i.detachView(n)}!function sX(n){ZT.delete(n[du])}(t)}}function rI(n,t,e){return function hL(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[si];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Gs.None||s===Gs.Emulated)return null}return ji(i,e)}}(n,t.parent,e)}function Tu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function fL(n,t,e){n.appendChild(t,e)}function pL(n,t,e,i,r){null!==i?Tu(n,t,e,i,r):fL(n,t,e)}function ww(n,t){return n.parentNode(t)}function mL(n,t,e){return _L(n,t,e)}let sI,xw,cI,Dw,_L=function gL(n,t,e){return 40&n.type?ji(n,e):null};function Cw(n,t,e,i){const r=rI(n,i,t),s=t[Tt],a=mL(i.parent||t[kr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)pL(s,r,e[l],a,!1);else pL(s,r,e,a,!1);void 0!==sI&&sI(s,i,t,e,r)}function A_(n,t){if(null!==t){const e=t.type;if(3&e)return ji(t,n);if(4&e)return oI(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return A_(n,i);{const r=n[t.index];return mr(r)?oI(-1,r):Wn(r)}}if(32&e)return eI(t,n)()||Wn(n[t.index]);{const i=yL(n,t);return null!==i?Array.isArray(i)?i[0]:A_(S_(n[Ni]),i):A_(n,t.next)}}return null}function yL(n,t){return null!==t?n[Ni][kr].projection[t.projection]:null}function oI(n,t){const e=Mr+n+1;if(e<t.length){const i=t[e],r=i[je].firstChild;if(null!==r)return A_(i,r)}return t[Vo]}function aI(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&os(Wn(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)aI(n,t,e.child,i,r,s,!1),Yf(t,n,r,a,s);else if(32&l){const c=eI(e,i);let d;for(;d=c();)Yf(t,n,r,d,s);Yf(t,n,r,a,s)}else 16&l?wL(n,t,i,e,r,s):Yf(t,n,r,a,s);e=o?e.projectionNext:e.next}}function R_(n,t,e,i,r,s){aI(e,i,n.firstChild,t,r,s,!1)}function wL(n,t,e,i,r,s){const o=e[Ni],l=o[kr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Yf(t,n,r,l[c],s);else{let c=l;const d=o[oi];gw(i)&&(c.flags|=128),aI(n,t,c,d,r,s,!0)}}function CL(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function EL(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Lg(n,t,i),null!==r&&CL(n,t,r),null!==s&&function SX(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Zf(n){return function lI(){if(void 0===xw&&(xw=null,Nn.trustedTypes))try{xw=Nn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xw}()?.createHTML(n)||n}function TL(n){return function dI(){if(void 0===Dw&&(Dw=null,Nn.trustedTypes))try{Dw=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dw}()?.createScriptURL(n)||n}class Iu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jt})`}}class PX extends Iu{getTypeName(){return"HTML"}}class OX extends Iu{getTypeName(){return"Style"}}class NX extends Iu{getTypeName(){return"Script"}}class FX extends Iu{getTypeName(){return"URL"}}class LX extends Iu{getTypeName(){return"ResourceURL"}}function go(n){return n instanceof Iu?n.changingThisBreaksApplicationSecurity:n}function Wa(n,t){const e=function VX(n){return n instanceof Iu&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${jt})`)}return e===t}class $X{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Zf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class GX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Zf(t),e}}const qX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tw(n){return(n=String(n)).match(qX)?n:"unsafe:"+n}function Hl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function k_(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const SL=Hl("area,br,col,hr,img,wbr"),AL=Hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RL=Hl("rp,rt"),uI=k_(SL,k_(AL,Hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),k_(RL,Hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),k_(RL,AL)),hI=Hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kL=k_(hI,Hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),KX=Hl("script,style,template");class YX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!uI.hasOwnProperty(e))return this.sanitizedSomething=!0,!KX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!kL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;hI[a]&&(l=Tw(l)),this.buf.push(" ",o,'="',ML(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();uI.hasOwnProperty(e)&&!SL.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ML(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ZX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QX=/([^\#-~ |!])/g;function ML(n){return n.replace(/&/g,"&amp;").replace(ZX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(QX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Iw;function PL(n,t){let e=null;try{Iw=Iw||function IL(n){const t=new GX(n);return function WX(){try{return!!(new window.DOMParser).parseFromString(Zf(""),"text/html")}catch{return!1}}()?new $X(t):t}(n);let i=t?String(t):"";e=Iw.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Iw.getInertBodyElement(i)}while(i!==s);return Zf((new YX).sanitizeChildren(fI(e)||e))}finally{if(e){const i=fI(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function fI(n){return"content"in n&&function XX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Kr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kr||{});function zl(n){const t=M_();return t?t.sanitize(Kr.URL,n)||"":Wa(n,"URL")?go(n):Tw(Qe(n))}function OL(n){const t=M_();if(t)return TL(t.sanitize(Kr.RESOURCE_URL,n)||"");if(Wa(n,"ResourceURL"))return TL(go(n));throw new Y(904,!1)}function M_(){const n=_e();return n&&n[Ba].sanitizer}const P_=new ie("ENVIRONMENT_INITIALIZER"),FL=new ie("INJECTOR",-1),LL=new ie("INJECTOR_DEF_TYPES");class pI{get(t,e=Al){if(e===Al){const i=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw i.name="NullInjectorError",i}return e}}function sJ(...n){return{\u0275providers:VL(0,n),\u0275fromNgModule:!0}}function VL(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Gf(t,o=>{const a=o;Sw(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&BL(r,s),e}function BL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];gI(r,s=>{t(s,i)})}}function Sw(n,t,e,i){if(!(n=j(n)))return!1;let r=null,s=ou(n);const o=!s&&nn(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=ou(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Sw(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Gf(s.imports,d=>{Sw(d,t,e,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&BL(c,t)}if(!a){const c=Bc(r)||(()=>new r);t({provide:r,useFactory:c,deps:vn},r),t({provide:LL,useValue:r,multi:!0},r),t({provide:P_,useValue:()=>P(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;gI(l,d=>{t(d,c)})}}}return r!==n&&void 0!==n.providers}function gI(n,t){for(let e of n)tt(e)&&(e=e.\u0275providers),Array.isArray(e)?gI(e,t):t(e)}const oJ=Ve({provide:String,useValue:Ve});function _I(n){return null!==n&&"object"==typeof n&&oJ in n}function Su(n){return"function"==typeof n}const vI=new ie("Set Injector scope."),Aw={},lJ={};let yI;function Rw(){return void 0===yI&&(yI=new pI),yI}class ks{}class Xf extends ks{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wI(t,o=>this.processProvider(o)),this.records.set(FL,Jf(void 0,this)),r.has("environment")&&this.records.set(ks,Jf(void 0,this));const s=this.records.get(vI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LL.multi,vn,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Fa(this),i=ss(void 0);try{return t()}finally{Fa(e),ss(i)}}get(t,e=Al,i=Ht.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ts))return t[Ts](this);i=rf(i);const s=Fa(this),o=ss(void 0);try{if(!(i&Ht.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function fJ(n){return"function"==typeof n||"object"==typeof n&&n instanceof ie}(t)&&Zh(t);l=c&&this.injectableDefInScope(c)?Jf(bI(t),Aw):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ht.Self?Rw():this.parent).get(t,e=i&Ht.Optional&&e===Al?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[xs]=a[xs]||[]).unshift(rt(t)),s)throw a;return function sa(n,t,e,i){const r=n[xs];throw t[nf]&&r.unshift(t[nf]),n.message=function kc(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=rt(t);if(Array.isArray(t))r=t.map(rt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Mg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[xs]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ss(o),Fa(s)}}resolveInjectorInitializers(){const t=Fa(this),e=ss(void 0);try{const r=this.get(P_.multi,vn,Ht.Self);for(const s of r)s()}finally{Fa(t),ss(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(rt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(t){let e=Su(t=j(t))?t:j(t&&t.provide);const i=function dJ(n){return _I(n)?Jf(void 0,n.useValue):Jf(HL(n),Aw)}(t);if(Su(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Jf(void 0,Aw,!0),r.factory=()=>Rl(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Aw&&(e.value=lJ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hJ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=j(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function bI(n){const t=Zh(n),e=null!==t?t.factory:Bc(n);if(null!==e)return e;if(n instanceof ie)throw new Y(204,!1);if(n instanceof Function)return function cJ(n){const t=n.length;if(t>0)throw D_(t,"?"),new Y(204,!1);const e=function Sc(n){return n&&(n[Ac]||n[Qh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Y(204,!1)}function HL(n,t,e){let i;if(Su(n)){const r=j(n);return Bc(r)||bI(r)}if(_I(n))i=()=>j(n.useValue);else if(function jL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Rl(n.deps||[]));else if(function UL(n){return!(!n||!n.useExisting)}(n))i=()=>P(j(n.useExisting));else{const r=j(n&&(n.useClass||n.provide));if(!function uJ(n){return!!n.deps}(n))return Bc(r)||bI(r);i=()=>new r(...Rl(n.deps))}return i}function Jf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function wI(n,t){for(const e of n)Array.isArray(e)?wI(e,t):e&&tt(e)?wI(e.\u0275providers,t):t(e)}const O_=new ie("AppId",{providedIn:"root",factory:()=>pJ}),pJ="ng",zL=new ie("Platform Initializer"),_o=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ms=new ie("AnimationModuleType"),CI=new ie("CSP nonce",{providedIn:"root",factory:()=>function Qf(){if(void 0!==cI)return cI;if(typeof document<"u")return document;throw new Y(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $L=(n,t,e)=>null;function RI(n,t,e=!1){return $L(n,t,e)}class xJ{}class qL{}class TJ{resolveComponentFactory(t){throw function DJ(n){const t=Error(`No component factory found for ${rt(n)}.`);return t.ngComponent=n,t}(t)}}let np=(()=>{class n{static#e=this.NULL=new TJ}return n})();function IJ(){return ip(gr(),_e())}function ip(n,t){return new Xe(ji(n,t))}let Xe=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=IJ}return n})();function SJ(n){return n instanceof Xe?n.nativeElement:n}class rp{}let Ys=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function AJ(){const n=_e(),e=As(gr().index,n);return(Ss(e)?e:n)[Tt]}()}return n})(),RJ=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Xc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YL=new Xc("16.2.12"),PI={};function JL(n,t=null,e=null,i){const r=eV(n,t,e,i);return r.resolveInjectorInitializers(),r}function eV(n,t=null,e=null,i,r=new Set){const s=[e||vn,sJ(n)];return i=i||("object"==typeof n?void 0:rt(n)),new Xf(s,t||Rw(),i||null,r)}let vi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Al;static#t=this.NULL=new pI;static create(e,i){if(Array.isArray(e))return JL({name:""},i,e,"");{const r=e.name??"";return JL({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>P(FL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function OI(n){return n.ngOriginalError}class $o{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&OI(t);for(;e&&OI(e);)e=OI(e);return e||null}}function NI(n){return t=>{setTimeout(n,void 0,t)}}const Re=class VJ extends H{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=NI(s),r&&(r=NI(r)),o&&(o=NI(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof dt&&t.add(a),a}};function nV(...n){}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function BJ(){const n="function"==typeof Nn.requestAnimationFrame;let t=Nn[n?"requestAnimationFrame":"setTimeout"],e=Nn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function HJ(n){const t=()=>{!function jJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,LI(n),n.isCheckStableRunning=!0,FI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),LI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function $J(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return iV(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),rV(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return iV(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),rV(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,LI(n),FI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Y(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,UJ,nV,nV);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const UJ={};function FI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function LI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rV(n){n._nesting--,FI(n)}class zJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const sV=new ie("",{providedIn:"root",factory:oV});function oV(){const n=De(He);let t=!0;return T(new ut(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ut(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{He.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(le()))}function $l(n){return n instanceof Function?n():n}let VI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function L_(n){for(;n;){n[Dt]|=64;const t=S_(n);if(D0(n)&&!t)return n;n=t}return null}const uV=new ie("",{providedIn:"root",factory:()=>!1});let Vw=null;function mV(n,t){return n[t]??vV()}function gV(n,t){const e=vV();e.producerNode?.length&&(n[t]=Vw,e.lView=n,Vw=_V())}const eee={...k0,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{L_(n.lView)},lView:null};function _V(){return Object.create(eee)}function vV(){return Vw??=_V(),Vw}const Mt={};function O(n){yV(un(),_e(),Wr()+n,!1)}function yV(n,t,e,i){if(!i)if(3==(3&t[Dt])){const s=n.preOrderCheckHooks;null!==s&&Gc(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Wc(t,s,0,e)}ca(e)}function w(n,t=Ht.Default){const e=_e();return null===e?P(n,t):da(gr(),e,j(n),t)}function Jc(){throw new Error("invalid")}function Bw(n,t,e,i,r,s,o,a,l,c,d){const f=t.blueprint.slice();return f[si]=r,f[Dt]=140|i,(null!==c||n&&2048&n[Dt])&&(f[Dt]|=2048),Tf(f),f[oi]=f[Ua]=n,f[gi]=e,f[Ba]=o||n&&n[Ba],f[Tt]=a||n&&n[Tt],f[Va]=l||n&&n[Va]||null,f[kr]=s,f[du]=function iX(){return nX++}(),f[aa]=d,f[mf]=c,f[Ni]=2==t.type?n[Ni]:f,f}function lp(n,t,e,i,r){let s=n.data[t];if(null===s)s=function BI(n,t,e,i,r){const s=Y0(),o=yu(),l=n.data[t]=function lee(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return zc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function Z0(){return wt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Bl(){const n=wt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jo(s,!0),s}function V_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function bV(n,t,e,i,r){const s=mV(t,Lc),o=Wr(),a=2&i;try{ca(-1),a&&t.length>Qt&&yV(n,t,Qt,!1),qs(a?2:0,r);const c=a?s:null,d=wf(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{t_(c,d)}}finally{a&&null===t[Lc]&&gV(t,Lc),ca(o),qs(a?3:1,r)}}function UI(n,t,e){if(Zg(t)){const i=En(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{En(i)}}}function jI(n,t,e){Af()&&(function mee(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Fl(e)&&function Cee(n,t,e){const i=ji(t,n),r=wV(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=Uw(n,Bw(n,r,null,o,i,t,null,n[Ba].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||D(e,t),os(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Ga(t,n,a,e);os(c,t),null!==o&&Eee(0,a-r,c,l,0,o),Bo(l)&&(As(e.index,t)[gi]=Ga(t,n,a,e))}}(n,t,e,ji(e,t)),64==(64&e.flags)&&TV(n,t,e))}function HI(n,t,e=ji){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function wV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=zI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function zI(n,t,e,i,r,s,o,a,l,c,d){const f=Qt+i,m=f+r,_=function nee(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Mt);return e}(f,m),v="function"==typeof c?c():c;return _[je]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}let CV=n=>null;function EV(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?xV(e,t,r,s):i.hasOwnProperty(r)&&xV(e,t,i[r],s)}return e}function xV(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function vo(n,t,e,i,r,s,o,a){const l=ji(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(KI(n,e,d,i,r),Fl(t)&&function uee(n,t){const e=As(t,n);16&e[Dt]||(e[Dt]|=64)}(e,t.index)):3&t.type&&(i=function dee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function $I(n,t,e,i){if(Af()){const r=null===i?null:{"":-1},s=function _ee(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(uf(t,o.selectors,!1))if(i||(i=[]),Bo(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),GI(n,t,a.length)}else i.unshift(o),GI(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&DV(n,t,e,o,r,a),r&&function vee(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Y(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Pc(e.mergedAttrs,e.attrs)}function DV(n,t,e,i,r,s){for(let c=0;c<i.length;c++)qe(D(e,t),n,i[c].type);!function bee(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=V_(n,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];e.mergedAttrs=Pc(e.mergedAttrs,d.hostAttrs),wee(n,e,t,l,d),yee(l,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function cee(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const f=s[d],m=e?e.get(f):null,v=m?m.outputs:null;l=EV(f.inputs,d,l,m?m.inputs:null),c=EV(f.outputs,d,c,v);const b=null===l||null===o||cf(t)?null:xee(l,d,o);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function TV(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function PT(){return wt.lFrame.currentDirectiveIndex}();try{ca(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];p_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gee(l,c)}}finally{ca(-1),p_(o)}}function gee(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function GI(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function yee(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Bo(t)&&(e[""]=n)}}function wee(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Bc(r.type)),o=new jl(s,Bo(r),w);n.blueprint[i]=o,e[i]=o,function fee(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function pee(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,V_(n,e,r.hostVars,Mt),r)}function qa(n,t,e,i,r,s){const o=ji(n,t);!function WI(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Qe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Tt],o,s,n.value,e,i,r)}function Eee(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)IV(i,e,o[a++],o[a++],o[a++])}function IV(n,t,e,i,r){const s=En(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{En(s)}}function xee(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function SV(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function AV(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];m_(e[i]),o.contentQueries(2,t[s],s)}}}function Uw(n,t){return n[Pl]?n[E0][fo]=t:n[Pl]=t,n[E0]=t,t}function qI(n,t,e){m_(0);const i=En(null);try{t(n,e)}finally{En(i)}}function RV(n){return n[Nc]||(n[Nc]=[])}function kV(n){return n.cleanup||(n.cleanup=[])}function PV(n,t){const e=n[Va],i=e?e.get($o,null):null;i&&i.handleError(t)}function KI(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];IV(n.data[o],t[o],i,a,r)}}function Gl(n,t,e){const i=Df(t,n);!function dL(n,t,e){n.setValue(t,e)}(n[Tt],i,e)}function Dee(n,t){const e=As(t,n),i=e[je];!function Tee(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[si];null!==r&&null===e[aa]&&(e[aa]=RI(r,e[Va])),YI(i,e,e[gi])}function YI(n,t,e){$c(t);try{const i=n.viewQuery;null!==i&&qI(1,i,e);const r=n.template;null!==r&&bV(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&AV(n,t),n.staticViewQueries&&qI(2,n.viewQuery,e);const s=n.components;null!==s&&function Iee(n,t){for(let e=0;e<t.length;e++)Dee(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Dt]&=-5,g_()}}let OV=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function wT(n,t,e){const i=Object.create(CT);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>P0(i),run:()=>{if(i.dirty=!1,i.hasRun&&!fu(i))return;i.hasRun=!0;const o=wf(i);try{i.cleanupFn(),i.cleanupFn=B0,i.fn(r)}finally{t_(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function jw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=or(r,a):2==s&&(i=or(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function B_(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Wn(s)),mr(s)&&NV(s,i);const o=e.type;if(8&o)B_(n,t,e.child,i);else if(32&o){const a=eI(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=yL(t,e);if(Array.isArray(a))i.push(...a);else{const l=S_(t[Ni]);B_(l[je],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function NV(n,t){for(let e=Mr;e<n.length;e++){const i=n[e],r=i[je].firstChild;null!==r&&B_(i[je],i,r,t)}n[Vo]!==n[si]&&t.push(n[Vo])}function Hw(n,t,e,i=!0){const r=t[Ba],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{FV(n,t,n.template,e)}catch(l){throw i&&PV(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function FV(n,t,e,i){const r=t[Dt];if(256!=(256&r)){t[Ba].effectManager?.flush(),$c(t);try{Tf(t),function f_(n){return wt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&bV(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Gc(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Wc(t,c,0,null),y_(t,0)}if(function Ree(n){for(let t=aL(n);null!==t;t=lL(t)){if(!t[x0])continue;const e=t[Vc];for(let i=0;i<e.length;i++){IT(e[i])}}}(t),LV(t,2),null!==n.contentQueries&&AV(n,t),o){const c=n.contentCheckHooks;null!==c&&Gc(t,c)}else{const c=n.contentHooks;null!==c&&Wc(t,c,1),y_(t,1)}!function tee(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=mV(t,Nl);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)ca(~s);else{const o=s,a=e[++r],l=e[++r];MT(a,o),i.dirty=!1;const c=wf(i);try{l(2,t[o])}finally{t_(i,c)}}}}finally{null===t[Nl]&&gV(t,Nl),ca(-1)}}(n,t);const a=n.components;null!==a&&BV(t,a,0);const l=n.viewQuery;if(null!==l&&qI(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Gc(t,c)}else{const c=n.viewHooks;null!==c&&Wc(t,c,2),y_(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Dt]&=-73,If(t)}finally{g_()}}}function LV(n,t){for(let e=aL(n);null!==e;e=lL(e))for(let i=Mr;i<e.length;i++)VV(e[i],t)}function kee(n,t,e){VV(As(t,n),e)}function VV(n,t){if(!function $0(n){return 128==(128&n[Dt])}(n))return;const e=n[je],i=n[Dt];if(80&i&&0===t||1024&i||2===t)FV(e,n,e.template,n[gi]);else if(n[Ml]>0){LV(n,1);const r=e.components;null!==r&&BV(n,r,1)}}function BV(n,t,e){for(let i=0;i<t.length;i++)kee(n,t[i],e)}class U_{get rootNodes(){const t=this._lView,e=t[je];return B_(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gi]}set context(t){this._lView[gi]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[oi];if(mr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(bw(t,i),dw(e,i))}this._attachedToViewContainer=!1}nI(this._lView[je],this._lView)}onDestroy(t){!function Sf(n,t){if(256==(256&n[Dt]))throw new Y(911,!1);null===n[ja]&&(n[ja]=[]),n[ja].push(t)}(this._lView,t)}markForCheck(){L_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){Hw(this._lView[je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _X(n,t){R_(n,t,t[Tt],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=t}}class Mee extends U_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Hw(t[je],t,t[gi],!1)}checkNoChanges(){}get context(){return null}}class UV extends np{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nn(t);return new j_(e,this.ngModule)}}function jV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Oee{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=rf(i);const r=this.injector.get(t,PI,i);return r!==PI||e===PI?r:this.parentInjector.get(t,e,i)}}class j_ extends qL{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=jV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return jV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function w0(n){return n.map($g).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof ks?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Oee(t,s):t,a=o.get(rp,null);if(null===a)throw new Y(407,!1);const f={rendererFactory:a,sanitizer:o.get(RJ,null),effectManager:o.get(OV,null),afterRenderEventManager:o.get(VI,null)},m=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?function iee(n,t,e,i){const s=i.get(uV,!1)||e===Gs.ShadowDom,o=n.selectRootElement(t,s);return function ree(n){CV(n)}(o),o}(m,i,this.componentDef.encapsulation,o):yw(m,_,function Pee(n){const t=n.toLowerCase();return"svg"===t?_u:"math"===t?"math":null}(_)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==v&&(k=RI(v,o,!0));const B=zI(0,null,null,1,0,null,null,null,null,null,null),W=Bw(null,B,null,N,null,null,f,m,o,null,k);let de,Ie;$c(W);try{const Le=this.componentDef;let st,on=null;Le.findHostDirectiveDefs?(st=[],on=new Map,Le.findHostDirectiveDefs(Le,st,on),st.push(Le)):st=[Le];const wn=function Fee(n,t){const e=n[je],i=Qt;return n[i]=t,lp(e,i,2,"#host",null)}(W,v),ir=function Lee(n,t,e,i,r,s,o){const a=r[je];!function Vee(n,t,e,i){for(const r of n)t.mergedAttrs=Pc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(jw(t,t.mergedAttrs,!0),null!==e&&EL(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=RI(t,r[Va]));const c=s.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const f=Bw(r,wV(e),null,d,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&GI(a,n,i.length-1),Uw(r,f),r[n.index]=f}(wn,v,Le,st,W,f,m);Ie=z0(B,Qt),v&&function Uee(n,t,e,i){if(i)Lg(n,e,["ng-version",YL.full]);else{const{attrs:r,classes:s}=function Gg(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Is(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Lg(n,e,r),s&&s.length>0&&CL(n,e,s.join(" "))}}(m,Le,v,i),void 0!==e&&function jee(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(Ie,this.ngContentSelectors,e),de=function Bee(n,t,e,i,r,s){const o=gr(),a=r[je],l=ji(o,r);DV(a,r,o,e,null,i);for(let d=0;d<e.length;d++)os(Ga(r,a,o.directiveStart+d,o),r);TV(a,r,o),l&&os(l,r);const c=Ga(r,a,o.directiveStart+o.componentOffset,o);if(n[gi]=r[gi]=c,null!==s)for(const d of s)d(c,t);return UI(a,o,n),c}(ir,Le,st,on,W,[Hee]),YI(B,W,null)}finally{g_()}return new Nee(this.componentType,de,ip(Ie,W),W,Ie)}}class Nee extends xJ{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Mee(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;KI(s[je],s,r,t,e),this.previousInputValues.set(t,e),L_(As(this._tNode.index,s))}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hee(){const n=gr();Of(_e()[je],n)}function We(n){let t=function HV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Bo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Y(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=zw(n.inputs),o.inputTransforms=zw(n.inputTransforms),o.declaredInputs=zw(n.declaredInputs),o.outputs=zw(n.outputs);const a=r.hostBindings;a&&Wee(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&$ee(n,l),c&&Gee(n,c),On(n.inputs,r.inputs),On(n.declaredInputs,r.declaredInputs),On(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),On(o.inputTransforms,r.inputTransforms)),Bo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===We&&(e=!1)}}t=Object.getPrototypeOf(t)}!function zee(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Pc(r.hostAttrs,e=Pc(e,r.hostAttrs))}}(i)}function zw(n){return n===Fo?{}:n===vn?[]:n}function $ee(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Gee(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function Wee(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function WV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function $w(n){return!!ZI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ZI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,t,e){return n[t]=e}function as(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Au(n,t,e,i){const r=as(n,t,e);return as(n,t+1,i)||r}function Gw(n,t,e,i,r){const s=Au(n,t,e,i);return as(n,t+2,r)||s}function Ct(n,t,e,i){const r=_e();return as(r,Ul(),t)&&(un(),qa(_i(),r,n,t,e,i)),Ct}function dp(n,t,e,i){return as(n,Ul(),e)?t+Qe(e)+i:Mt}function Q(n,t,e,i,r,s,o,a){const l=_e(),c=un(),d=n+Qt,f=c.firstCreatePass?function gte(n,t,e,i,r,s,o,a,l){const c=t.consts,d=lp(t,n,4,o||null,za(c,a));$I(t,e,d,za(c,l)),Of(t,d);const f=d.tView=zI(2,d,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,r,s,o):c.data[d];jo(f,!1);const m=sB(c,l,f,n);Pf()&&Cw(c,l,m,f),os(m,l),Uw(l,l[d]=SV(m,l,m,f)),Qg(f)&&jI(c,l,f),null!=o&&HI(l,f,a)}let sB=function oB(n,t,e,i){return $a(!0),t[Tt].createComment("")};function Qi(n){return jc(function h_(){return wt.lFrame.contextLView}(),Qt+n)}function L(n,t,e){const i=_e();return as(i,Ul(),t)&&vo(un(),_i(),i,n,t,i[Tt],e,!1),L}function nS(n,t,e,i,r){const o=r?"class":"style";KI(n,e,t.inputs[o],o,i)}function A(n,t,e,i){const r=_e(),s=un(),o=Qt+n,a=r[Tt],l=s.firstCreatePass?function bte(n,t,e,i,r,s){const o=t.consts,l=lp(t,n,2,i,za(o,r));return $I(t,e,l,za(o,s)),null!==l.attrs&&jw(l,l.attrs,!1),null!==l.mergedAttrs&&jw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=aB(s,r,l,a,t,n);r[o]=c;const d=Qg(l);return jo(l,!0),EL(a,c,l),32!=(32&l.flags)&&Pf()&&Cw(s,r,c,l),0===function ST(){return wt.lFrame.elementDepthCount}()&&os(c,r),function d_(){wt.lFrame.elementDepthCount++}(),d&&(jI(s,r,l),UI(s,l,r)),null!==i&&HI(r,l),A}function R(){let n=gr();yu()?bu():(n=n.parent,jo(n,!1));const t=n;(function W0(n){return wt.skipHydrationRootTNode===n})(t)&&function RT(){wt.skipHydrationRootTNode=null}(),function u_(){wt.lFrame.elementDepthCount--}();const e=un();return e.firstCreatePass&&(Of(e,n),Zg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Ff(n){return 0!=(8&n.flags)}(t)&&nS(e,t,_e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function aw(n){return 0!=(16&n.flags)}(t)&&nS(e,t,_e(),t.stylesWithoutHost,!1),R}function nt(n,t,e,i){return A(n,t,e,i),R(),nt}let aB=(n,t,e,i,r,s)=>($a(!0),yw(i,r,function v_(){return wt.lFrame.currentNamespace}()));function vr(n,t,e){const i=_e(),r=un(),s=n+Qt,o=r.firstCreatePass?function Ete(n,t,e,i,r){const s=t.consts,o=za(s,i),a=lp(t,n,8,"ng-container",o);return null!==o&&jw(a,o,!0),$I(t,e,a,za(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];jo(o,!0);const a=lB(r,i,o,n);return i[s]=a,Pf()&&Cw(r,i,a,o),os(a,i),Qg(o)&&(jI(r,i,o),UI(r,o,i)),null!=e&&HI(i,o),vr}function yr(){let n=gr();const t=un();return yu()?bu():(n=n.parent,jo(n,!1)),t.firstCreatePass&&(Of(t,n),Zg(n)&&t.queries.elementEnd(n)),yr}let lB=(n,t,e,i)=>($a(!0),tI(t[Tt],""));function St(){return _e()}function q_(n){return!!n&&"function"==typeof n.then}function cB(n){return!!n&&"function"==typeof n.subscribe}function ge(n,t,e,i){const r=_e(),s=un(),o=gr();return function uB(n,t,e,i,r,s,o){const a=Qg(i),c=n.firstCreatePass&&kV(n),d=t[gi],f=RV(t);let m=!0;if(3&i.type||o){const b=ji(i,t),E=o?o(b):b,N=f.length,k=o?W=>o(Wn(W[i.index])):i.index;let B=null;if(!o&&a&&(B=function Tte(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Nc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,m=!1;else{s=fB(i,t,d,s,!1);const W=e.listen(E,r,s);f.push(s,W),c&&c.push(r,k,N,N+1)}}else s=fB(i,t,d,s,!1);const _=i.outputs;let v;if(m&&null!==_&&(v=_[r])){const b=v.length;if(b)for(let E=0;E<b;E+=2){const de=t[v[E]][v[E+1]].subscribe(s),Ie=f.length;f.push(s,de),c&&c.push(r,i.index,Ie,-(Ie+1))}}}(s,r,r[Tt],o,n,t,i),ge}function hB(n,t,e,i){try{return qs(6,t,e),!1!==e(i)}catch(r){return PV(n,r),!1}finally{qs(7,t,e)}}function fB(n,t,e,i,r){return function s(o){if(o===Function)return i;L_(n.componentOffset>-1?As(n.index,t):t);let l=hB(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=hB(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function G(n=1){return function OT(n){return(wt.lFrame.contextLView=function NT(n,t){for(;n>0;)t=t[Ua],n--;return t}(n,wt.lFrame.contextLView))[gi]}(n)}function Ite(n,t){let e=null;const i=function b0(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?uf(n,s,!0):Hg(i,s))return r}else e=r}return e}function Or(n){const t=_e()[Ni][kr];if(!t.projection){const i=t.projection=D_(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?Ite(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function qt(n,t=0,e){const i=_e(),r=un(),s=lp(r,Qt+n,16,null,e||null);null===s.projection&&(s.projection=t),bu(),(!i[aa]||zc())&&32!=(32&s.flags)&&function DX(n,t,e){wL(t[Tt],0,t,e,rI(n,e,t),mL(e.parent||t[kr],e,t))}(r,i,s)}function Yw(n,t,e){return Zw(n,"",t,"",e),Yw}function Zw(n,t,e,i,r){const s=_e(),o=dp(s,t,e,i);return o!==Mt&&vo(un(),_i(),s,n,o,s[Tt],r,!1),Zw}function Qw(n,t){return n<<17|t<<2}function ed(n){return n>>17&32767}function iS(n){return 2|n}function Ru(n){return(131068&n)>>2}function rS(n,t){return-131069&n|t<<2}function sS(n){return 1|n}function CB(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?ed(s):Ru(s),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];Pte(n[a],t)&&(l=!0,n[a+1]=i?sS(d):iS(d)),a=i?ed(d):Ru(d)}l&&(n[e+1]=i?iS(s):sS(s))}function Pte(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Wf(n,t)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EB(n){return n.substring(br.key,br.keyEnd)}function Ote(n){return n.substring(br.value,br.valueEnd)}function xB(n,t){const e=br.textEnd;return e===t?-1:(t=br.keyEnd=function Lte(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,br.key=t,e),vp(n,t,e))}function DB(n,t){const e=br.textEnd;let i=br.key=vp(n,t,e);return e===i?-1:(i=br.keyEnd=function Vte(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=IB(n,i,e),i=br.value=vp(n,i,e),i=br.valueEnd=function Bte(n,t,e){let i=-1,r=-1,s=-1,o=t,a=o;for(;o<e;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=SB(n,l,o,e):t===o-4&&85===s&&82===r&&76===i&&40===l?a=o=SB(n,41,o,e):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,e),IB(n,i,e))}function TB(n){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=n.length}function vp(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function IB(n,t,e,i){return(t=vp(n,t,e))<e&&t++,t}function SB(n,t,e,i){let r=-1,s=e;for(;s<i;){const o=n.charCodeAt(s++);if(o==t&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function td(n,t,e){return ha(n,t,e,!1),td}function it(n,t){return ha(n,t,null,!0),it}function Ute(n,t){for(let e=function Fte(n){return TB(n),DB(n,vp(n,0,br.textEnd))}(t);e>=0;e=DB(t,e))kB(n,EB(t),Ote(t))}function nd(n){fa(Wte,Za,n,!0)}function Za(n,t){for(let e=function Nte(n){return TB(n),xB(n,vp(n,0,br.textEnd))}(t);e>=0;e=xB(t,e))mo(n,EB(t),!0)}function ha(n,t,e,i){const r=_e(),s=un(),o=la(2);s.firstUpdatePass&&RB(s,n,o,i),t!==Mt&&as(r,o,t)&&MB(s,s.data[Wr()],r,r[Tt],n,r[o+1]=function Kte(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=rt(go(n)))),n}(t,e),i,o)}function fa(n,t,e,i){const r=un(),s=la(2);r.firstUpdatePass&&RB(r,null,s,i);const o=_e();if(e!==Mt&&as(o,s,e)){const a=r.data[Wr()];if(OB(a,i)&&!AB(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=or(l,e||"")),nS(r,a,o,e,i)}else!function qte(n,t,e,i,r,s,o,a){r===Mt&&(r=vn);let l=0,c=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const m=l<r.length?r[l+1]:void 0,_=c<s.length?s[c+1]:void 0;let b,v=null;d===f?(l+=2,c+=2,m!==_&&(v=f,b=_)):null===f||null!==d&&d<f?(l+=2,v=d):(c+=2,v=f,b=_),null!==v&&MB(n,t,e,i,v,b,o,a),d=l<r.length?r[l]:null,f=c<s.length?s[c]:null}}(r,a,o,o[Tt],o[s+1],o[s+1]=function Gte(n,t,e){if(null==e||""===e)return vn;const i=[],r=go(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function AB(n,t){return t>=n.expandoStartIndex}function RB(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Wr()],o=AB(n,e);OB(s,i)&&null===t&&!o&&(t=!1),t=function jte(n,t,e,i){const r=function wu(n){const t=wt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=K_(e=oS(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=oS(r,n,t,e,i),null===s){let l=function Hte(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Ru(i))return n[ed(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=oS(null,n,t,l[1],i),l=K_(l,t.attrs,i),function zte(n,t,e,i){n[ed(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function $te(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=K_(i,n[s].hostAttrs,e);return K_(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function kte(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=ed(o),l=Ru(o);n[i]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||Wf(e,d)>0)&&(c=!0)):d=e,r)if(0!==l){const m=ed(n[a+1]);n[i+1]=Qw(m,a),0!==m&&(n[m+1]=rS(n[m+1],i)),n[a+1]=function Ate(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Qw(a,0),0!==a&&(n[a+1]=rS(n[a+1],i)),a=i;else n[i+1]=Qw(l,0),0===a?a=i:n[l+1]=rS(n[l+1],i),l=i;c&&(n[i+1]=iS(n[i+1])),CB(n,d,i,!0),CB(n,d,i,!1),function Mte(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Wf(s,t)>=0&&(e[i+1]=sS(e[i+1]))}(t,d,n,i,s),o=Qw(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function oS(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=K_(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function K_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mo(n,o,!!e||t[++s]))}return void 0===n?null:n}function kB(n,t,e){mo(n,t,go(e))}function Wte(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&mo(n,i,e)}function MB(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function Rte(n){return 1==(1&n)}(c)?PB(l,t,e,r,Ru(c),o):void 0;Xw(d)||(Xw(s)||function Ste(n){return 2==(2&n)}(c)&&(s=PB(l,null,e,r,a,o)),function IX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Qc.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Qc.Important),n.setStyle(e,i,r,s))}}(i,o,Df(Wr(),e),r,s))}function PB(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),d=c?l[1]:l,f=null===d;let m=e[r+1];m===Mt&&(m=f?vn:void 0);let _=f?GT(m,i):d===i?m:void 0;if(c&&!Xw(_)&&(_=GT(l,i)),Xw(_)&&(a=_,o))return a;const v=n[r+1];r=o?ed(v):Ru(v)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=GT(l,i))}return a}function Xw(n){return void 0!==n}function OB(n,t){return 0!=(n.flags&(t?8:16))}function ne(n,t=""){const e=_e(),i=un(),r=n+Qt,s=i.firstCreatePass?lp(i,r,1,t,null):i.data[r],o=NB(i,e,s,t,n);e[r]=o,Pf()&&Cw(i,e,o,s),jo(s,!1)}let NB=(n,t,e,i,r)=>($a(!0),function vw(n,t){return n.createText(t)}(t[Tt],i));function qn(n){return Ln("",n,""),qn}function Ln(n,t,e){const i=_e(),r=dp(i,n,t,e);return r!==Mt&&Gl(i,Wr(),r),Ln}function aS(n,t,e,i,r){const s=_e(),o=function up(n,t,e,i,r,s){const a=Au(n,Ho(),e,r);return la(2),a?t+Qe(e)+i+Qe(r)+s:Mt}(s,n,t,e,i,r);return o!==Mt&&Gl(s,Wr(),o),aS}function lS(n,t,e,i,r,s,o){const a=_e(),l=function hp(n,t,e,i,r,s,o,a){const c=Gw(n,Ho(),e,r,o);return la(3),c?t+Qe(e)+i+Qe(r)+s+Qe(o)+a:Mt}(a,n,t,e,i,r,s,o);return l!==Mt&&Gl(a,Wr(),l),lS}function wr(n,t,e){const i=_e();return as(i,Ul(),t)&&vo(un(),_i(),i,n,t,i[Tt],e,!0),wr}const ku=void 0;var mne=["en",[["a","p"],["AM","PM"],ku],[["AM","PM"],ku,ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ku,"{1} 'at' {0}",ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pne(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let yp={};function Ps(n){const t=function gne(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=eU(t);if(e)return e;const i=t.split("-")[0];if(e=eU(i),e)return e;if("en"===i)return mne;throw new Y(701,!1)}function eU(n){return n in yp||(yp[n]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[n]),yp[n]}var ai=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ai||{});const bp="en-US";let tU=bp;function uS(n,t,e,i,r){if(n=j(n),Array.isArray(n))for(let s=0;s<n.length;s++)uS(n[s],t,e,i,r);else{const s=un(),o=_e(),a=gr();let l=Su(n)?n:j(n.provide);const c=HL(n),d=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(Su(n)||!n.multi){const _=new jl(c,r,w),v=fS(l,t,r?d:d+m,f);-1===v?(qe(D(a,o),s,l),hS(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),o.push(_)):(e[v]=_,o[v]=_)}else{const _=fS(l,t,d+m,f),v=fS(l,t,d,d+m),E=v>=0&&e[v];if(r&&!E||!r&&!(_>=0&&e[_])){qe(D(a,o),s,l);const N=function fie(n,t,e,i,r){const s=new jl(n,e,w);return s.multi=[],s.index=t,s.componentProviders=0,TU(s,r,i&&!e),s}(r?hie:uie,e.length,r,i,c);!r&&E&&(e[v].providerFactory=N),hS(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),o.push(N)}else hS(s,n,_>-1?_:v,TU(e[r?v:_],c,!r&&i));!r&&i&&E&&e[v].componentProviders++}}}function hS(n,t,e,i){const r=Su(t),s=function aJ(n){return!!n.useClass}(t);if(r||s){const l=(s?j(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function TU(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function fS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function uie(n,t,e,i){return pS(this.multi,[])}function hie(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ga(e,e[je],this.providerFactory.index,i);s=a.slice(0,o),pS(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],pS(r,s);return s}function pS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function die(n,t,e){const i=un();if(i.firstCreatePass){const r=Bo(n);uS(e,i.data,i.blueprint,r,!0),uS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Mu{}class IU{}class mS extends Mu{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UV(this);const r=$r(t);this._bootstrapComponents=$l(r.bootstrap),this._r3Injector=eV(t,e,[{provide:Mu,useValue:this},{provide:np,useValue:this.componentFactoryResolver},...i],rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gS extends IU{constructor(t){super(),this.moduleType=t}create(t){return new mS(this.moduleType,t,[])}}class SU extends Mu{constructor(t){super(),this.componentFactoryResolver=new UV(this),this.instance=null;const e=new Xf([...t.providers,{provide:Mu,useValue:this},{provide:np,useValue:this.componentFactoryResolver}],t.parent||Rw(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _S(n,t,e=null){return new SU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let gie=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=VL(0,e.type),r=i.length>0?_S([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(P(ks))})}return n})();function Qs(n){n.getStandaloneInjector=t=>t.get(gie).getOrCreateStandaloneInjector(n)}function iC(n,t,e){const i=Gr()+n,r=_e();return r[i]===Mt?Ka(r,i,e?t.call(e):t()):function z_(n,t){return n[t]}(r,i)}function Qa(n,t,e,i){return function NU(n,t,e,i,r,s){const o=t+e;return as(n,o,r)?Ka(n,o+1,s?i.call(s,r):i(r)):tv(n,o+1)}(_e(),Gr(),n,t,e,i)}function Pu(n,t,e,i,r){return FU(_e(),Gr(),n,t,e,i,r)}function rC(n,t,e,i,r,s){return function LU(n,t,e,i,r,s,o,a){const l=t+e;return Gw(n,l,r,s,o)?Ka(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):tv(n,l+3)}(_e(),Gr(),n,t,e,i,r,s)}function tv(n,t){const e=n[t];return e===Mt?void 0:e}function FU(n,t,e,i,r,s,o){const a=t+e;return Au(n,a,r,s)?Ka(n,a+2,o?i.call(o,r,s):i(r,s)):tv(n,a+2)}function Ou(n,t){const e=un();let i;const r=n+Qt;e.firstCreatePass?(i=function kie(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Bc(i.type)),a=ss(w);try{const l=Vf(!1),c=s();return Vf(l),function yte(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,_e(),r,c),c}finally{ss(a)}}function Nu(n,t,e,i){const r=n+Qt,s=_e(),o=jc(s,r);return function nv(n,t){return n[je].data[t].pure}(s,r)?FU(s,Gr(),t,o.transform,e,i,o):o.transform(e,i)}function Fie(){return this._results[Symbol.iterator]()}class wp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Re)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=wp.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Fie)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function zo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function RQ(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Vie(n,t,e,i=!0){const r=t[je];if(function yX(n,t,e,i){const r=Mr+i,s=e.length;i>0&&(e[r-1][fo]=t),i<s-Mr?(t[fo]=e[r],U2(e,Mr+i,t)):(e.push(t),t[fo]=null),t[oi]=e;const o=t[Ol];null!==o&&e!==o&&function bX(n,t){const e=n[Vc];t[Ni]!==t[oi][oi][Ni]&&(n[x0]=!0),null===e?n[Vc]=[t]:e.push(t)}(o,t);const a=t[Ws];null!==a&&a.insertView(n),t[Dt]|=128}(r,t,n,e),i){const s=oI(e,n),o=t[Tt],a=ww(o,n[Vo]);null!==a&&function gX(n,t,e,i,r,s){i[si]=r,i[kr]=t,R_(n,i,e,1,r,s)}(r,n[kr],o,t,a,s)}}let hn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jie}return n})();const Bie=hn,Uie=class extends Bie{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Lie(n,t,e,i){const r=t.tView,a=Bw(n,r,e,4096&n[Dt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Ol]=n[t.index];const c=n[Ws];return null!==c&&(a[Ws]=c.createEmbeddedView(r)),YI(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new U_(r)}};function jie(){return sC(gr(),_e())}function sC(n,t){return 4&n.type?new Uie(t,n,ip(n,t)):null}let Hi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=qie}return n})();function qie(){return WU(gr(),_e())}const Kie=Hi,$U=class extends Kie{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ip(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ye(this._hostTNode,this._hostLView);if(b_(t)){const e=xu(t,this._hostLView),i=Eu(t);return new Pr(e[je].data[i+8],e)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=GU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function x_(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const l=o?t:new j_(nn(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const E=(o?c:this.parentInjector).get(ks,null);E&&(s=E)}nn(l.componentType??{});const _=l.create(c,r,null,s);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function TT(n){return mr(n[oi])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[oi],d=new $U(c,c[kr],c[oi]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return Vie(a,r,o,!i),t.attachToViewContainerRef(),U2(yS(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=GU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=bw(this._lContainer,e);i&&(dw(yS(this._lContainer),e),nI(i[je],i))}detach(t){const e=this._adjustIndex(t,-1),i=bw(this._lContainer,e);return i&&null!=dw(yS(this._lContainer),e)?new U_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function GU(n){return n[8]}function yS(n){return n[8]||(n[8]=[])}function WU(n,t){let e;const i=t[n.index];return mr(i)?e=i:(e=SV(i,t,null,n),t[n.index]=e,Uw(t,e)),qU(e,t,n,i),new $U(e,n,t)}let qU=function KU(n,t,e,i){if(n[Vo])return;let r;r=8&e.type?Wn(i):function Yie(n,t){const e=n[Tt],i=e.createComment(""),r=ji(t,n);return Tu(e,ww(e,r),i,function xX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Vo]=r};class bS{constructor(t){this.queryList=t,this.matches=null}clone(){return new bS(this.queryList)}setDirty(){this.queryList.setDirty()}}class wS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new wS(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==JU(t,e).matches&&this.queries[e].setDirty()}}class YU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class CS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new CS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ES{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ES(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Xie(e,s)),this.matchTNodeWithReadOption(t,e,Kc(e,t,s,!1,!1))}else i===hn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Kc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xe||r===Hi||r===hn&&4&e.type)this.addMatch(e.index,-2);else{const s=Kc(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Xie(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function ere(n,t,e,i){return-1===e?function Jie(n,t){return 11&n.type?ip(n,t):4&n.type?sC(n,t):null}(t,n):-2===e?function tre(n,t,e){return e===Xe?ip(t,n):e===hn?sC(t,n):e===Hi?WU(t,n):void 0}(n,t,i):Ga(n,n[je],e,t)}function ZU(n,t,e,i){const r=t[Ws].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:ere(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function xS(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=ZU(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],d=t[-l];for(let f=Mr;f<d.length;f++){const m=d[f];m[Ol]===m[oi]&&xS(m[je],m,c,i)}if(null!==d[Vc]){const f=d[Vc];for(let m=0;m<f.length;m++){const _=f[m];xS(_[je],_,c,i)}}}}}return i}function ke(n){const t=_e(),e=un(),i=Q0();m_(i+1);const r=JU(e,i);if(n.dirty&&function l_(n){return 4==(4&n[Dt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?xS(e,t,i,[]):ZU(e,t,r,i);n.reset(s,SJ),n.notifyOnChanges()}return!0}return!1}function ln(n,t,e){const i=un();i.firstCreatePass&&(XU(i,new YU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),QU(i,_e(),t)}function Pt(n,t,e,i){const r=un();if(r.firstCreatePass){const s=gr();XU(r,new YU(t,e,i),s.index),function ire(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}QU(r,_e(),e)}function Me(){return function nre(n,t){return n[Ws].queries[t].queryList}(_e(),Q0())}function QU(n,t,e){const i=new wp(4==(4&e));(function aee(n,t,e,i){const r=RV(t);r.push(e),n.firstCreatePass&&kV(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ws]&&(t[Ws]=new wS),t[Ws].queries.push(new bS(i))}function XU(n,t,e){null===n.queries&&(n.queries=new CS),n.queries.track(new ES(t,e))}function JU(n,t){return n.queries.getByIndex(t)}function Os(n,t){return sC(n,t)}const RS=new ie("Application Initializer");let kS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=De(RS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(q_(s))e.push(s);else if(cB(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_3=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Wo=new ie("LocaleId",{providedIn:"root",factory:()=>De(Wo,Ht.Optional|Ht.SkipSelf)||function xre(){return typeof $localize<"u"&&$localize.locale||bp}()});let lC=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new C(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ire{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let v3=(()=>{class n{compileModuleSync(e){return new gS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=$l($r(e).declarations).reduce((o,a)=>{const l=nn(a);return l&&o.push(new j_(l)),o},[]);return new Ire(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const C3=new ie(""),dC=new ie("");let FS,OS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,FS||(function Yre(n){FS=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(P(He),P(NS),P(dC))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),NS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return FS?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),id=null;const E3=new ie("AllowMultipleToken"),LS=new ie("PlatformDestroyListeners"),VS=new ie("appBootstrapListener");class D3{constructor(t,e){this.name=t,this.token=e}}function I3(n,t,e=[]){const i=`Platform: ${t}`,r=new ie(i);return(s=[])=>{let o=BS();if(!o||o.injector.get(E3,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Xre(n){if(id&&!id.get(E3,!1))throw new Y(400,!1);(function x3(){!function _T(n){gT=n}(()=>{throw new Y(600,!1)})})(),id=n;const t=n.get(A3);(function T3(n){n.get(zL,null)?.forEach(e=>e())})(n)}(function S3(n=[],t){return vi.create({name:t,providers:[{provide:vI,useValue:"platform"},{provide:LS,useValue:new Set([()=>id=null])},...n]})}(a,i))}return function ese(n){const t=BS();if(!t)throw new Y(401,!1);return t}()}}function BS(){return id?.get(A3)??null}let A3=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function tse(n="zone.js",t){return"noop"===n?new zJ:"zone.js"===n?new He(t):n}(i?.ngZone,function R3(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function mie(n,t,e){return new mS(n,t,e)}(e.moduleType,this.injector,function N3(n){return[{provide:He,useFactory:n},{provide:P_,multi:!0,useFactory:()=>{const t=De(ise,{optional:!0});return()=>t.initialize()}},{provide:O3,useFactory:nse},{provide:sV,useFactory:oV}]}(()=>r)),o=s.injector.get($o,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{uC(this._modules,s),a.unsubscribe()})}),function k3(n,t,e){try{const i=e();return q_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(kS);return a.runInitializers(),a.donePromise.then(()=>(function nU(n){Rr(n,"Expected localeId to be defined"),"string"==typeof n&&(tU=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Wo,bp)||bp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=M3({},i);return function Zre(n,t,e){const i=new gS(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(pa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Y(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(LS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(P(vi))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function M3(n,t){return Array.isArray(t)?t.reduce(M3,n):{...n,...t}}let pa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(O3),this.zoneIsStable=De(sV),this.componentTypes=[],this.components=[],this.isStable=De(lC).hasPendingTasks.pipe($e(e=>e?M(!1):this.zoneIsStable),pt(),le()),this._injector=De(ks)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof qL;if(!this._injector.get(kS).done)throw!r&&function Oc(n){const t=nn(n)||fr(n)||pr(n);return null!==t&&t.standalone}(e),new Y(405,!1);let o;o=r?e:this._injector.get(np).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Qre(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Mu),c=o.create(vi.NULL,[],i||o.selector,a),d=c.location.nativeElement,f=c.injector.get(C3,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),uC(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;uC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(VS,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>uC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Y(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const O3=new ie("",{providedIn:"root",factory:()=>De($o).handleError.bind(void 0)});function nse(){const n=De(He),t=De($o);return e=>n.runOutsideAngular(()=>t.handleError(e))}let ise=(()=>{class n{constructor(){this.zone=De(He),this.applicationRef=De(pa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let zi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sse}return n})();function sse(n){return function ose(n,t,e){if(Fl(n)&&!e){const i=As(n.index,t);return new U_(i,i)}return 47&n.type?new U_(t[Ni],t):null}(gr(),_e(),16==(16&n))}class U3{constructor(){}supports(t){return $w(t)}create(t){return new hse(t)}}const use=(n,t)=>t;class hse{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||use}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<H3(i,r,s)?e:i,a=H3(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,d=l-r;if(c!=d){for(let m=0;m<c;m++){const _=m<s.length?s[m]:s[m]=0,v=_+m;d<=v&&v<c&&(s[m]=_+1)}s[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!$w(t))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function Xee(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new fse(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new j3),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j3),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fse{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pse{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class j3{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new pse,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H3(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class z3{constructor(){}supports(t){return t instanceof Map||ZI(t)}create(){return new mse}}class mse{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ZI(t)))throw new Y(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new gse(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class gse{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $3(){return new Wl([new U3])}let Wl=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:$3});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||$3()),deps:[[n,new Zc,new Rs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Y(901,!1)}}return n})();function G3(){return new sv([new z3])}let sv=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:G3});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||G3()),deps:[[n,new Zc,new Rs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Y(901,!1)}}return n})();const yse=I3(null,"core",[]);let bse=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(P(pa))};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();function xp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function GS(n,t){const e=nn(n),i=t.elementInjector||Rw();return new j_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let WS=null;function rd(){return WS}class Ose{}const mt=new ie("DocumentToken");let qS=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return De(Fse)},providedIn:"platform"})}return n})();const Nse=new ie("Location Initialized");let Fse=(()=>{class n extends qS{constructor(){super(),this._doc=De(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rd().getBaseHref(this._doc)}onPopState(e){const i=rd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=rd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function KS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ej(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ql(n){return n&&"?"!==n[0]?"?"+n:n}let Lu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return De(nj)},providedIn:"root"})}return n})();const tj=new ie("appBaseHref");let nj=(()=>{class n extends Lu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??De(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return KS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ql(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+ql(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+ql(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(qS),P(tj,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lse=(()=>{class n extends Lu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=KS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+ql(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+ql(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(qS),P(tj,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),ov=(()=>{class n{constructor(e){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Use(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ej(ij(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ql(i))}normalize(e){return n.stripTrailingSlash(function Bse(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,ij(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ql(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ql(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=ql;static#t=this.joinWithSlash=KS;static#n=this.stripTrailingSlash=ej;static#i=this.\u0275fac=function(i){return new(i||n)(P(Lu))};static#r=this.\u0275prov=ce({token:n,factory:function(){return function Vse(){return new ov(P(Lu))}()},providedIn:"root"})}return n})();function ij(n){return n.replace(/\/index.html$/,"")}var Nr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Nr||{}),xn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(xn||{}),yo=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(yo||{}),Xi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Xi||{});function gC(n,t){return Ko(Ps(n)[ai.DateFormat],t)}function _C(n,t){return Ko(Ps(n)[ai.TimeFormat],t)}function vC(n,t){return Ko(Ps(n)[ai.DateTimeFormat],t)}function qo(n,t){const e=Ps(n),i=e[ai.NumberSymbols][t];if(typeof i>"u"){if(t===Xi.CurrencyDecimal)return e[ai.NumberSymbols][Xi.Decimal];if(t===Xi.CurrencyGroup)return e[ai.NumberSymbols][Xi.Group]}return i}function oj(n){if(!n[ai.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ai.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ko(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function QS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Xse=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,av={},Jse=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kl=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Kl||{}),Sn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Sn||{}),An=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(An||{});function aj(n,t,e,i){let r=function loe(n){if(dj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return yC(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Xse))return function coe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!dj(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Yl(e,t)||t;let a,o=[];for(;t;){if(a=Jse.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();i&&(l=cj(i,l),r=function aoe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function ooe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(cj(t,r)-r))}(r,i,!0));let c="";return o.forEach(d=>{const f=function soe(n){if(JS[n])return JS[n];let t;switch(n){case"G":case"GG":case"GGG":t=li(An.Eras,xn.Abbreviated);break;case"GGGG":t=li(An.Eras,xn.Wide);break;case"GGGGG":t=li(An.Eras,xn.Narrow);break;case"y":t=ar(Sn.FullYear,1,0,!1,!0);break;case"yy":t=ar(Sn.FullYear,2,0,!0,!0);break;case"yyy":t=ar(Sn.FullYear,3,0,!1,!0);break;case"yyyy":t=ar(Sn.FullYear,4,0,!1,!0);break;case"Y":t=EC(1);break;case"YY":t=EC(2,!0);break;case"YYY":t=EC(3);break;case"YYYY":t=EC(4);break;case"M":case"L":t=ar(Sn.Month,1,1);break;case"MM":case"LL":t=ar(Sn.Month,2,1);break;case"MMM":t=li(An.Months,xn.Abbreviated);break;case"MMMM":t=li(An.Months,xn.Wide);break;case"MMMMM":t=li(An.Months,xn.Narrow);break;case"LLL":t=li(An.Months,xn.Abbreviated,Nr.Standalone);break;case"LLLL":t=li(An.Months,xn.Wide,Nr.Standalone);break;case"LLLLL":t=li(An.Months,xn.Narrow,Nr.Standalone);break;case"w":t=XS(1);break;case"ww":t=XS(2);break;case"W":t=XS(1,!0);break;case"d":t=ar(Sn.Date,1);break;case"dd":t=ar(Sn.Date,2);break;case"c":case"cc":t=ar(Sn.Day,1);break;case"ccc":t=li(An.Days,xn.Abbreviated,Nr.Standalone);break;case"cccc":t=li(An.Days,xn.Wide,Nr.Standalone);break;case"ccccc":t=li(An.Days,xn.Narrow,Nr.Standalone);break;case"cccccc":t=li(An.Days,xn.Short,Nr.Standalone);break;case"E":case"EE":case"EEE":t=li(An.Days,xn.Abbreviated);break;case"EEEE":t=li(An.Days,xn.Wide);break;case"EEEEE":t=li(An.Days,xn.Narrow);break;case"EEEEEE":t=li(An.Days,xn.Short);break;case"a":case"aa":case"aaa":t=li(An.DayPeriods,xn.Abbreviated);break;case"aaaa":t=li(An.DayPeriods,xn.Wide);break;case"aaaaa":t=li(An.DayPeriods,xn.Narrow);break;case"b":case"bb":case"bbb":t=li(An.DayPeriods,xn.Abbreviated,Nr.Standalone,!0);break;case"bbbb":t=li(An.DayPeriods,xn.Wide,Nr.Standalone,!0);break;case"bbbbb":t=li(An.DayPeriods,xn.Narrow,Nr.Standalone,!0);break;case"B":case"BB":case"BBB":t=li(An.DayPeriods,xn.Abbreviated,Nr.Format,!0);break;case"BBBB":t=li(An.DayPeriods,xn.Wide,Nr.Format,!0);break;case"BBBBB":t=li(An.DayPeriods,xn.Narrow,Nr.Format,!0);break;case"h":t=ar(Sn.Hours,1,-12);break;case"hh":t=ar(Sn.Hours,2,-12);break;case"H":t=ar(Sn.Hours,1);break;case"HH":t=ar(Sn.Hours,2);break;case"m":t=ar(Sn.Minutes,1);break;case"mm":t=ar(Sn.Minutes,2);break;case"s":t=ar(Sn.Seconds,1);break;case"ss":t=ar(Sn.Seconds,2);break;case"S":t=ar(Sn.FractionalSeconds,1);break;case"SS":t=ar(Sn.FractionalSeconds,2);break;case"SSS":t=ar(Sn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wC(Kl.Short);break;case"ZZZZZ":t=wC(Kl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wC(Kl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wC(Kl.Long);break;default:return null}return JS[n]=t,t}(d);c+=f?f(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function yC(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Yl(n,t){const e=function Hse(n){return Ps(n)[ai.LocaleId]}(n);if(av[e]=av[e]||{},av[e][t])return av[e][t];let i="";switch(t){case"shortDate":i=gC(n,yo.Short);break;case"mediumDate":i=gC(n,yo.Medium);break;case"longDate":i=gC(n,yo.Long);break;case"fullDate":i=gC(n,yo.Full);break;case"shortTime":i=_C(n,yo.Short);break;case"mediumTime":i=_C(n,yo.Medium);break;case"longTime":i=_C(n,yo.Long);break;case"fullTime":i=_C(n,yo.Full);break;case"short":const r=Yl(n,"shortTime"),s=Yl(n,"shortDate");i=bC(vC(n,yo.Short),[r,s]);break;case"medium":const o=Yl(n,"mediumTime"),a=Yl(n,"mediumDate");i=bC(vC(n,yo.Medium),[o,a]);break;case"long":const l=Yl(n,"longTime"),c=Yl(n,"longDate");i=bC(vC(n,yo.Long),[l,c]);break;case"full":const d=Yl(n,"fullTime"),f=Yl(n,"fullDate");i=bC(vC(n,yo.Full),[d,f])}return i&&(av[e][t]=i),i}function bC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ma(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function ar(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function toe(n,t){switch(n){case Sn.FullYear:return t.getFullYear();case Sn.Month:return t.getMonth();case Sn.Date:return t.getDate();case Sn.Hours:return t.getHours();case Sn.Minutes:return t.getMinutes();case Sn.Seconds:return t.getSeconds();case Sn.FractionalSeconds:return t.getMilliseconds();case Sn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===Sn.Hours)0===a&&-12===e&&(a=12);else if(n===Sn.FractionalSeconds)return function eoe(n,t){return ma(n,3).substring(0,t)}(a,t);const l=qo(o,Xi.MinusSign);return ma(a,t,l,i,r)}}function li(n,t,e=Nr.Format,i=!1){return function(r,s){return function noe(n,t,e,i,r,s){switch(e){case An.Months:return function YS(n,t,e){const i=Ps(n),s=Ko([i[ai.MonthsFormat],i[ai.MonthsStandalone]],t);return Ko(s,e)}(t,r,i)[n.getMonth()];case An.Days:return function sj(n,t,e){const i=Ps(n),s=Ko([i[ai.DaysFormat],i[ai.DaysStandalone]],t);return Ko(s,e)}(t,r,i)[n.getDay()];case An.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function qse(n){const t=Ps(n);return oj(t),(t[ai.ExtraData][2]||[]).map(i=>"string"==typeof i?QS(i):[QS(i[0]),QS(i[1])])}(t),d=function Kse(n,t,e){const i=Ps(n);oj(i);const s=Ko([i[ai.ExtraData][0],i[ai.ExtraData][1]],t)||[];return Ko(s,e)||[]}(t,r,i),f=c.findIndex(m=>{if(Array.isArray(m)){const[_,v]=m,b=o>=_.hours&&a>=_.minutes,E=o<v.hours||o===v.hours&&a<v.minutes;if(_.hours<v.hours){if(b&&E)return!0}else if(b||E)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==f)return d[f]}return function zse(n,t,e){const i=Ps(n),s=Ko([i[ai.DayPeriodsFormat],i[ai.DayPeriodsStandalone]],t);return Ko(s,e)}(t,r,i)[o<12?0:1];case An.Eras:return function $se(n,t){return Ko(Ps(n)[ai.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function wC(n){return function(t,e,i){const r=-1*i,s=qo(e,Xi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Kl.Short:return(r>=0?"+":"")+ma(o,2,s)+ma(Math.abs(r%60),2,s);case Kl.ShortGMT:return"GMT"+(r>=0?"+":"")+ma(o,1,s);case Kl.Long:return"GMT"+(r>=0?"+":"")+ma(o,2,s)+":"+ma(Math.abs(r%60),2,s);case Kl.Extended:return 0===i?"Z":(r>=0?"+":"")+ma(o,2,s)+":"+ma(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const ioe=0,CC=4;function lj(n){return yC(n.getFullYear(),n.getMonth(),n.getDate()+(CC-n.getDay()))}function XS(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=lj(e),o=function roe(n){const t=yC(n,ioe,1).getDay();return yC(n,0,1+(t<=CC?CC:CC+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return ma(r,n,qo(i,Xi.MinusSign))}}function EC(n,t=!1){return function(e,i){return ma(lj(e).getFullYear(),n,qo(i,Xi.MinusSign),t)}}const JS={};function cj(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function dj(n){return n instanceof Date&&!isNaN(n.valueOf())}function pj(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const sA=/\s+/,mj=[];let Zl=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=mj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(sA):mj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(sA):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(sA).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Wl),w(sv),w(Xe),w(Ys))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Coe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Js=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Coe(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),_j(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{_j(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(w(Hi),w(hn),w(Wl))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _j(n,t){n.context.$implicit=t.item}let Ji=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Eoe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vj("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vj("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(w(Hi),w(hn))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Eoe{constructor(){this.$implicit=null,this.ngIf=null}}function vj(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${rt(t)}'.`)}class oA{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let cv=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),aA=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new oA(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(w(Hi),w(hn),w(cv,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),yj=(()=>{class n{constructor(e,i,r){r._addDefault(new oA(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(w(Hi),w(hn),w(cv,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),sd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Hi))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Fn]})}return n})();const Foe=new ie("DATE_PIPE_DEFAULT_TIMEZONE"),Loe=new ie("DATE_PIPE_DEFAULT_OPTIONS");let wj=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return aj(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function ga(n,t){return new Y(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(w(Wo,16),w(Foe,24),w(Loe,24))};static#t=this.\u0275pipe=Zi({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Ql=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const Ej="browser";function DC(n){return"server"===n}let xj=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new Qoe(P(mt),window)})}return n})();class Qoe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Xoe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Dj{}class wae extends Ose{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hA extends wae{static makeCurrent(){!function Pse(n){WS||(WS=n)}(new hA)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Cae(){return uv=uv||document.querySelector("base"),uv?uv.getAttribute("href"):null}();return null==e?null:function Eae(n){SC=SC||document.createElement("a"),SC.setAttribute("href",n);const t=SC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){uv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pj(document.cookie,t)}}let SC,uv=null,Dae=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const fA=new ie("EventManagerPlugins");let Rj=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new Y(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(P(fA),P(He))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class kj{constructor(t){this._doc=t}}const pA="ng-app-id";let Mj=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=DC(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${pA}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(pA),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(pA,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(O_),P(CI,8),P(_o))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const mA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gA=/%COMP%/g,Aae=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Oj(n,t){return t.map(e=>e.replace(gA,n))}let _A=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=DC(a),this.defaultRenderer=new vA(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gs.ShadowDom&&(i={...i,encapsulation:Gs.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Fj?r.applyToHost(e):r instanceof yA&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Gs.Emulated:s=new Fj(l,c,i,this.appId,d,o,a,f);break;case Gs.ShadowDom:return new Pae(l,c,e,i,o,a,this.nonce,f);default:s=new yA(l,c,i,d,o,a,f)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Rj),P(Mj),P(O_),P(Aae),P(mt),P(_o),P(He),P(CI))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class vA{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(mA[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Nj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Nj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new Y(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=mA[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=mA[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Qc.DashCase|Qc.Important)?t.style.setProperty(e,i,r&Qc.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Qc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=rd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Nj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pae extends vA{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Oj(r.id,r.styles);for(const d of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yA extends vA{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Oj(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Fj extends yA{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Rae(n){return"_ngcontent-%COMP%".replace(gA,n)}(c),this.hostAttr=function kae(n){return"_nghost-%COMP%".replace(gA,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Oae=(()=>{class n extends kj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Lj=["alt","control","meta","shift"],Nae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fae={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lae=(()=>{class n extends kj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rd().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Lj.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=Nae[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Lj.forEach(o=>{o!==r&&(0,Fae[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const Bj=[{provide:_o,useValue:Ej},{provide:zL,useValue:function Vae(){hA.makeCurrent()},multi:!0},{provide:mt,useFactory:function Uae(){return function MX(n){cI=n}(document),document},deps:[]}],jae=I3(yse,"browser",Bj),Hae=new ie(""),Uj=[{provide:dC,useClass:class xae{addToWindow(t){Nn.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Y(5103,!1);return s},Nn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nn.getAllAngularRootElements=()=>t.getAllRootElements(),Nn.frameworkStabilizers||(Nn.frameworkStabilizers=[]),Nn.frameworkStabilizers.push(i=>{const r=Nn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?rd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:C3,useClass:OS,deps:[He,NS,dC]},{provide:OS,useClass:OS,deps:[He,NS,dC]}],jj=[{provide:vI,useValue:"root"},{provide:$o,useFactory:function Bae(){return new $o},deps:[]},{provide:fA,useClass:Oae,multi:!0,deps:[mt,He,_o]},{provide:fA,useClass:Lae,multi:!0,deps:[mt]},_A,Mj,Rj,{provide:rp,useExisting:_A},{provide:Dj,useClass:Dae,deps:[]},[]];let Hj=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:O_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Hae,12))};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[...jj,...Uj],imports:[Ql,bse]})}return n})(),zj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function $ae(){return new zj(P(mt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let wA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new(i||n):P(Wj),r},providedIn:"root"})}return n})(),Wj=(()=>{class n extends wA{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Kr.NONE:return i;case Kr.HTML:return Wa(i,"HTML")?go(i):PL(this._doc,String(i)).toString();case Kr.STYLE:return Wa(i,"Style")?go(i):i;case Kr.SCRIPT:if(Wa(i,"Script"))return go(i);throw new Y(5200,!1);case Kr.URL:return Wa(i,"URL")?go(i):Tw(String(i));case Kr.RESOURCE_URL:if(Wa(i,"ResourceURL"))return go(i);throw new Y(5201,!1);default:throw new Y(5202,!1)}}bypassSecurityTrustHtml(e){return function BX(n){return new PX(n)}(e)}bypassSecurityTrustStyle(e){return function UX(n){return new OX(n)}(e)}bypassSecurityTrustScript(e){return function jX(n){return new NX(n)}(e)}bypassSecurityTrustUrl(e){return function HX(n){return new FX(n)}(e)}bypassSecurityTrustResourceUrl(e){return function zX(n){return new LX(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function Kae(n){return new Wj(n.get(mt))}(P(vi)),r},providedIn:"root"})}return n})();const{isArray:Yae}=Array,{getPrototypeOf:Zae,prototype:Qae,keys:Xae}=Object;function Kj(n){if(1===n.length){const t=n[0];if(Yae(t))return{args:t,keys:null};if(function Jae(n){return n&&"object"==typeof n&&Zae(n)===Qae}(t)){const e=Xae(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:ele}=Array;function CA(n){return we(t=>function tle(n,t){return ele(t)?n(...t):n(t)}(n,t))}function Yj(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Zj(...n){const t=ws(n),{args:e,keys:i}=Kj(n),r=new ut(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let f=!1;Ce(e[d]).subscribe(Se(s,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(i?Yj(i,a):a),s.complete())}))}});return t?r.pipe(CA(t)):r}let Qj=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Ys),w(Xe))};static#t=this.\u0275dir=X({type:n})}return n})(),Vu=(()=>{class n extends Qj{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,features:[We]})}return n})();const eo=new ie("NgValueAccessor"),nle={provide:eo,useExisting:K(()=>EA),multi:!0};let EA=(()=>{class n extends Vu{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&ge("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[gt([nle]),We]})}return n})();const ile={provide:eo,useExisting:K(()=>Xa),multi:!0},sle=new ie("CompositionEventMode");let Xa=(()=>{class n extends Qj{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rle(){const n=rd()?rd().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Ys),w(Xe),w(sle,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ge("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[gt([ile]),We]})}return n})();function ad(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Xj(n){return null!=n&&"number"==typeof n.length}const Cr=new ie("NgValidators"),ld=new ie("NgAsyncValidators"),ole=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tp{static min(t){return function Jj(n){return t=>{if(ad(t.value)||ad(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function eH(n){return t=>{if(ad(t.value)||ad(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return tH(t)}static requiredTrue(t){return function nH(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return iH(t)}static minLength(t){return function rH(n){return t=>ad(t.value)||!Xj(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function sH(n){return t=>Xj(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function oH(n){if(!n)return AC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ad(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return hH(t)}static composeAsync(t){return fH(t)}}function tH(n){return ad(n.value)?{required:!0}:null}function iH(n){return ad(n.value)||ole.test(n.value)?null:{email:!0}}function AC(n){return null}function aH(n){return null!=n}function lH(n){return q_(n)?x(n):n}function cH(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function dH(n,t){return t.map(e=>e(n))}function uH(n){return n.map(t=>function ale(n){return!n.validate}(t)?t:e=>t.validate(e))}function hH(n){if(!n)return null;const t=n.filter(aH);return 0==t.length?null:function(e){return cH(dH(e,t))}}function xA(n){return null!=n?hH(uH(n)):null}function fH(n){if(!n)return null;const t=n.filter(aH);return 0==t.length?null:function(e){return Zj(dH(e,t).map(lH)).pipe(we(cH))}}function DA(n){return null!=n?fH(uH(n)):null}function pH(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mH(n){return n._rawValidators}function gH(n){return n._rawAsyncValidators}function TA(n){return n?Array.isArray(n)?n:[n]:[]}function RC(n,t){return Array.isArray(n)?n.includes(t):n===t}function _H(n,t){const e=TA(t);return TA(n).forEach(r=>{RC(e,r)||e.push(r)}),e}function vH(n,t){return TA(t).filter(e=>!RC(n,e))}class yH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=DA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fs extends yH{get formDirective(){return null}get path(){return null}}class Ja extends yH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bH{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xl=(()=>{class n extends bH{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Ja,2))};static#t=this.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&it("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[We]})}return n})(),Ip=(()=>{class n extends bH{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Fs,10))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&it("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[We]})}return n})();const hv="VALID",MC="INVALID",Sp="PENDING",fv="DISABLED";function AA(n){return(PC(n)?n.validators:n)||null}function RA(n,t){return(PC(t)?t.asyncValidators:n)||null}function PC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xH{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hv}get invalid(){return this.status===MC}get pending(){return this.status==Sp}get disabled(){return this.status===fv}get enabled(){return this.status!==fv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(_H(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_H(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vH(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vH(t,this._rawAsyncValidators))}hasValidator(t){return RC(this._rawValidators,t)}hasAsyncValidator(t){return RC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Sp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fv,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hv,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hv||this.status===Sp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fv:hv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Sp,this._hasOwnPendingAsyncValidator=!0;const e=lH(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?fv:this.errors?MC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sp)?Sp:this._anyControlsHaveStatus(MC)?MC:hv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function ule(n){return Array.isArray(n)?xA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function hle(n){return Array.isArray(n)?DA(n):n||null}(this._rawAsyncValidators)}}class OC extends xH{constructor(t,e,i){super(AA(e),RA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function EH(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new Y(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function CH(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new Y(1e3,"");if(!i[e])throw new Y(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Bu=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>pv}),pv="always";function NC(n,t){return[...t.path,n]}function mv(n,t,e=pv){kA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function mle(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&DH(n,t)})}(n,t),function _le(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function gle(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&DH(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ple(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function FC(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),VC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function LC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function kA(n,t){const e=mH(n);null!==t.validator?n.setValidators(pH(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=gH(n);null!==t.asyncValidator?n.setAsyncValidators(pH(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();LC(t._rawValidators,r),LC(t._rawAsyncValidators,r)}function VC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=mH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=gH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return LC(t._rawValidators,i),LC(t._rawAsyncValidators,i),e}function DH(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TH(n,t){kA(n,t)}function PA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function IH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Xa?e=s:function ble(n){return Object.getPrototypeOf(n.constructor)===Vu}(s)?i=s:r=s}),r||i||e||null}const Cle={provide:Fs,useExisting:K(()=>Jl)},gv=(()=>Promise.resolve())();let Jl=(()=>{class n extends Fs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Re,this.form=new OC({},xA(e),DA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){gv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),mv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){gv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){gv.then(()=>{const i=this._findContainer(e.path),r=new OC({});TH(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){gv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){gv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,IH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(w(Cr,10),w(ld,10),w(Bu,8))};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ge("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([Cle]),We]})}return n})();function SH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function AH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cd=class extends xH{constructor(t=null,e,i){super(AA(e),RA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),PC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=AH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){SH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){SH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){AH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Dle={provide:Ja,useExisting:K(()=>ec)},MH=(()=>Promise.resolve())();let ec=(()=>{class n extends Ja{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new cd,this._registered=!1,this.name="",this.update=new Re,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OA(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),PA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){MH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&xp(i);MH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?NC(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(w(Fs,9),w(Cr,10),w(ld,10),w(eo,10),w(zi,8),w(Bu,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([Dle]),We,Fn]})}return n})(),Ap=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Tle={provide:eo,useExisting:K(()=>NA),multi:!0};let NA=(()=>{class n extends Vu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ge("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[gt([Tle]),We]})}return n})();const Ile={provide:eo,useExisting:K(()=>BC),multi:!0};let PH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),Sle=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:PH})}return n})(),BC=(()=>{class n extends Vu{constructor(e,i,r,s){super(e,i),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=De(Bu,{optional:!0})??pv}ngOnInit(){this._control=this._injector.get(Ja),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Ys),w(Xe),w(Sle),w(vi))};static#t=this.\u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&ge("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[gt([Ile]),We]})}return n})();const FA=new ie("NgModelWithFormControlWarning"),kle={provide:Fs,useExisting:K(()=>Rp)};let Rp=(()=>{class n extends Fs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return mv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){FC(e.control||null,e,!1),function wle(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,IH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(FC(i||null,e),(n=>n instanceof cd)(r)&&(mv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);TH(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function vle(n,t){return VC(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kA(this.form,this),this._oldForm&&VC(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(w(Cr,10),w(ld,10),w(Bu,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ge("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([kle]),We,Fn]})}return n})();const Ole={provide:Ja,useExisting:K(()=>BA)};let BA=(()=>{class n extends Ja{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OA(0,s)}ngOnChanges(e){this._added||this._setUpControl(),PA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return NC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(w(Fs,13),w(Cr,10),w(ld,10),w(eo,10),w(FA,8))};static#n=this.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gt([Ole]),We,Fn]})}return n})(),Uu=(()=>{class n{constructor(){this._validator=AC}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):AC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,features:[Fn]})}return n})();const zle={provide:Cr,useExisting:K(()=>_v),multi:!0};let _v=(()=>{class n extends Uu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xp,this.createValidator=e=>tH}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Ct("required",r._enabled?"":null)},inputs:{required:"required"},features:[gt([zle]),We]})}return n})();const Gle={provide:Cr,useExisting:K(()=>UC),multi:!0};let UC=(()=>{class n extends Uu{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=xp,this.createValidator=e=>iH}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[gt([Gle]),We]})}return n})(),WH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[PH]})}return n})(),Zle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bu,useValue:e.callSetDisabledState??pv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[WH]})}return n})(),Qle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:FA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Bu,useValue:e.callSetDisabledState??pv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[WH]})}return n})();function jC(...n){const t=ho(n),e=ws(n),{args:i,keys:r}=Kj(n);if(0===i.length)return x([],t);const s=new ut(function Xle(n,t,e=Jn){return i=>{KH(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)KH(t,()=>{const c=x(n[l],t);let d=!1;c.subscribe(Se(i,f=>{s[l]=f,d||(d=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>Yj(r,o):Jn));return e?s.pipe(CA(e)):s}function KH(n,t,e){n?hr(e,n,t):t()}const HC=ae(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kp(...n){return function Jle(){return mn(1)}()(x(n,ho(n)))}function vv(n){return new ut(t=>{Ce(n()).subscribe(t)})}function ju(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new ut(t?r=>t.schedule(i,0,r):i)}function zA(){return he((n,t)=>{let e=null;n._refCount++;const i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class $A extends ut{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dt;const e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dt.EMPTY)}return t}refCount(){return zA()(this)}}function Dn(n){return n<=0?()=>_n:he((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Yo(...n){const t=ho(n);return he((e,i)=>{(t?kp(n,e,t):kp(n,e)).subscribe(i)})}function fn(n,t){return he((e,i)=>{let r=0;e.subscribe(Se(i,s=>n.call(t,s,r++)&&i.next(s)))})}function zC(n){return he((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function YH(n=ece){return he((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ece(){return new HC}function dd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):Jn,Dn(1),e?zC(t):YH(()=>new HC))}function Mp(n,t){return S(t)?Zt(n,t,1):Zt(n,1)}function yi(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?he((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Se(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Jn}function tc(n){return he((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Se(e,void 0,void 0,o=>{s=Ce(n(o,tc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Pp(n,t){return he(function tce(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Se(o,d=>{const f=c++;l=a?n(l,d,f):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}function GA(n){return n<=0?()=>_n:he((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ZH(n){return we(()=>n)}function Hu(n){return he((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Et(n){return he((t,e)=>{Ce(n).subscribe(Se(e,()=>e.complete(),Ze)),!e.closed&&t.subscribe(e)})}const Vt="primary",yv=Symbol("RouteTitle");class ice{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Op(n){return new ice(n)}function rce(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function el(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!QH(n[r],t[r]))return!1;return!0}function QH(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function XH(n){return n.length>0?n[n.length-1]:null}function ud(n){return function qH(n){return!!n&&(n instanceof ut||S(n.lift)&&S(n.subscribe))}(n)?n:q_(n)?x(Promise.resolve(n)):M(n)}const oce={exact:function t4(n,t,e){if(!zu(n.segments,t.segments)||!$C(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!t4(n.children[i],t.children[i],e))return!1;return!0},subset:n4},JH={exact:function ace(n,t){return el(n,t)},subset:function lce(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>QH(n[e],t[e]))},ignored:()=>!0};function e4(n,t,e){return oce[e.paths](n.root,t.root,e.matrixParams)&&JH[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function n4(n,t,e){return i4(n,t,t.segments,e)}function i4(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!zu(r,e)||t.hasChildren()||!$C(r,e,i))}if(n.segments.length===e.length){if(!zu(n.segments,e)||!$C(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!n4(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(zu(n.segments,r)&&$C(n.segments,r,i)&&n.children[Vt])&&i4(n.children[Vt],t,s,i)}}function $C(n,t,e){return t.every((i,r)=>JH[e](n[r].parameters,i.parameters))}class Np{constructor(t=new Un([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Op(this.queryParams)),this._queryParamMap}toString(){return uce.serialize(this)}}class Un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GC(this)}}class bv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Op(this.parameters)),this._parameterMap}toString(){return o4(this)}}function zu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let wv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new WA},providedIn:"root"})}return n})();class WA{parse(t){const e=new Cce(t);return new Np(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cv(t.root,!0)}`,i=function pce(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${WC(e)}=${WC(r)}`).join("&"):`${WC(e)}=${WC(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function hce(n){return encodeURI(n)}(t.fragment)}`:""}`}}const uce=new WA;function GC(n){return n.segments.map(t=>o4(t)).join("/")}function Cv(n,t){if(!n.hasChildren())return GC(n);if(t){const e=n.children[Vt]?Cv(n.children[Vt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Vt&&i.push(`${r}:${Cv(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function dce(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Vt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Vt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Vt?[Cv(n.children[Vt],!1)]:[`${r}:${Cv(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${GC(n)}/${e[0]}`:`${GC(n)}/(${e.join("//")})`}}function r4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function WC(n){return r4(n).replace(/%3B/gi,";")}function qA(n){return r4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qC(n){return decodeURIComponent(n)}function s4(n){return qC(n.replace(/\+/g,"%20"))}function o4(n){return`${qA(n.path)}${function fce(n){return Object.keys(n).map(t=>`;${qA(t)}=${qA(n[t])}`).join("")}(n.parameters)}`}const mce=/^[^\/()?;#]+/;function KA(n){const t=n.match(mce);return t?t[0]:""}const gce=/^[^\/()?;=#]+/,vce=/^[^=?&#]+/,bce=/^[^&#]+/;class Cce{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Vt]=new Un(t,e)),i}parseSegment(){const t=KA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(t),new bv(qC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function _ce(n){const t=n.match(gce);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=KA(this.remaining);r&&(i=r,this.capture(i))}t[qC(e)]=qC(i)}parseQueryParam(t){const e=function yce(n){const t=n.match(vce);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function wce(n){const t=n.match(bce);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=s4(e),s=s4(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=KA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Y(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Vt);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Vt]:new Un([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Y(4011,!1)}}function a4(n){return n.segments.length>0?new Un([],{[Vt]:n}):n}function l4(n){const t={};for(const i of Object.keys(n.children)){const s=l4(n.children[i]);if(i===Vt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Ece(n){if(1===n.numberOfChildren&&n.children[Vt]){const t=n.children[Vt];return new Un(n.segments.concat(t.segments),t.children)}return n}(new Un(n.segments,t))}function $u(n){return n instanceof Np}function c4(n){let t;const r=a4(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Un(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function d4(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return YA(r,r,r,e,i);const s=function Dce(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new h4(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new h4(e,t,i)}(t);if(s.toRoot())return YA(r,r,new Un([],{}),e,i);const o=function Tce(n,t,e){if(n.isAbsolute)return new YC(t,!0,0);if(!e)return new YC(t,!1,NaN);if(null===e.parent)return new YC(e,!0,0);const i=KC(n.commands[0])?0:1;return function Ice(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Y(4005,!1);r=i.segments.length}return new YC(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?xv(o.segmentGroup,o.index,s.commands):f4(o.segmentGroup,o.index,s.commands);return YA(r,o.segmentGroup,a,e,i)}function KC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ev(n){return"object"==typeof n&&null!=n&&n.outlets}function YA(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),o=n===t?e:u4(n,t,e);const a=a4(l4(o));return new Np(a,s,r)}function u4(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:u4(s,t,e)}),new Un(n.segments,i)}class h4{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&KC(i[0]))throw new Y(4003,!1);const r=i.find(Ev);if(r&&r!==XH(i))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class YC{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function f4(n,t,e){if(n||(n=new Un([],{})),0===n.segments.length&&n.hasChildren())return xv(n,t,e);const i=function Ace(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Ev(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!m4(l,c,o))return s;i+=2}else{if(!m4(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Un(n.segments.slice(0,i.pathIndex),{});return s.children[Vt]=new Un(n.segments.slice(i.pathIndex),n.children),xv(s,0,r)}return i.match&&0===r.length?new Un(n.segments,{}):i.match&&!n.hasChildren()?ZA(n,t,e):i.match?xv(n,0,r):ZA(n,t,e)}function xv(n,t,e){if(0===e.length)return new Un(n.segments,{});{const i=function Sce(n){return Ev(n[0])?n[0].outlets:{[Vt]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Vt)&&n.children[Vt]&&1===n.numberOfChildren&&0===n.children[Vt].segments.length){const s=xv(n.children[Vt],t,e);return new Un(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=f4(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Un(n.segments,r)}}function ZA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Ev(s)){const l=Rce(s.outlets);return new Un(i,l)}if(0===r&&KC(e[0])){i.push(new bv(n.segments[t].path,p4(e[0]))),r++;continue}const o=Ev(s)?s.outlets[Vt]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&KC(a)?(i.push(new bv(o,p4(a))),r+=2):(i.push(new bv(o,{})),r++)}return new Un(i,{})}function Rce(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=ZA(new Un([],{}),0,i))}),t}function p4(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function m4(n,t,e){return n==e.path&&el(t,e.parameters)}const Dv="imperative";class tl{constructor(t,e){this.id=t,this.url=e}}class ZC extends tl{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hd extends tl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tv extends tl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fp extends tl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class QC extends tl{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g4 extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kce extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mce extends tl{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pce extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oce extends tl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nce{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fce{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _4{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QA{}class XA{constructor(t){this.url=t}}class jce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Iv,this.attachRef=null}}let Iv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new jce,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class v4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=JA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=JA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return eR(t,this._root).map(e=>e.value)}}function JA(n,t){if(n===t.value)return t;for(const e of t.children){const i=JA(n,e);if(i)return i}return null}function eR(n,t){if(n===t.value)return[t];for(const e of t.children){const i=eR(n,e);if(i.length)return i.unshift(t),i}return[]}class nc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class y4 extends v4{constructor(t,e){super(t),this.snapshot=e,tR(this,t)}toString(){return this.snapshot.toString()}}function b4(n,t){const e=function Hce(n,t){const o=new XC([],{},{},"",{},Vt,t,null,{});return new C4("",new nc(o,[]))}(0,t),i=new C([new bv("",{})]),r=new C({}),s=new C({}),o=new C({}),a=new C(""),l=new nl(i,r,o,a,s,Vt,t,e.root);return l.snapshot=e.root,new y4(new nc(l,[]),e)}class nl{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(c=>c[yv]))??M(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>Op(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>Op(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function w4(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function zce(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class XC{get title(){return this.data?.[yv]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Op(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Op(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C4 extends v4{constructor(t,e){super(e),this.url=t,tR(this,e)}toString(){return E4(this._root)}}function tR(n,t){t.value._routerState=n,t.children.forEach(e=>tR(n,e))}function E4(n){const t=n.children.length>0?` { ${n.children.map(E4).join(", ")} } `:"";return`${n.value}${t}`}function nR(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,el(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),el(t.params,e.params)||n.paramsSubject.next(e.params),function sce(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!el(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),el(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iR(n,t){const e=el(n.params,t.params)&&function cce(n,t){return zu(n,t)&&n.every((e,i)=>el(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||iR(n.parent,t.parent))}let JC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=De(Iv),this.location=De(Hi),this.changeDetector=De(zi),this.environmentInjector=De(ks),this.inputBinder=De(eE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $ce(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}return n})();class $ce{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===nl?this.route:t===Iv?this.childContexts:this.parent.get(t,e)}}const eE=new ie("");let x4=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=jC([i.queryParams,i.params,i.data]).pipe($e(([s,o,a],l)=>(a={...s,...o,...a},0===l?M(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Mse(n){const t=nn(n);if(!t)return null;const e=new j_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Sv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Wce(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Sv(n,i,r);return Sv(n,i)})}(n,t,e);return new nc(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Sv(n,a)),o}}const i=function qce(n){return new nl(new C(n.url),new C(n.params),new C(n.queryParams),new C(n.fragment),new C(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Sv(n,s));return new nc(i,r)}}const rR="ngNavigationCancelingError";function D4(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=$u(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=T4(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function T4(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[rR]=!0,i.cancellationCode=t,e&&(i.url=e),i}function I4(n){return n&&n[rR]}let S4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ht({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qs],decls:1,vars:0,template:function(i,r){1&i&&nt(0,"router-outlet")},dependencies:[JC],encapsulation:2})}return n})();function sR(n){const t=n.children&&n.children.map(sR),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Vt&&(e.component=S4),e}function _a(n){return n.outlet||Vt}function Av(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class tde{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nR(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Lp(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Lp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Lp(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Lp(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Uce(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Vce(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(nR(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nR(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Av(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class A4{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tE{constructor(t,e){this.component=t,this.route=e}}function nde(n,t,e){const i=n._root;return Rv(i,t?t._root:null,e,[i.value])}function Vp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function h0(n){return null!==Zh(n)}(n)?t.get(n):n:i}function Rv(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lp(t);return n.children.forEach(o=>{(function rde(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function sde(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zu(n.url,t.url)||!el(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iR(n,t)||!el(n.queryParams,t.queryParams);default:return!iR(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new A4(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Rv(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new tE(a.outlet.component,o))}else o&&kv(t,a,r),r.canActivateChecks.push(new A4(i)),Rv(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kv(a,e.getContext(o),r)),r}function kv(n,t,e){const i=Lp(n),r=n.value;Object.entries(i).forEach(([s,o])=>{kv(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new tE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Mv(n){return"function"==typeof n}function R4(n){return n instanceof HC||"EmptyError"===n?.name}const nE=Symbol("INITIAL_VALUE");function Bp(){return $e(n=>jC(n.map(t=>t.pipe(Dn(1),Yo(nE)))).pipe(we(t=>{for(const e of t)if(!0!==e){if(e===nE)return nE;if(!1===e||e instanceof Np)return e}return!0}),fn(t=>t!==nE),Dn(1)))}function k4(n){return function vs(...n){return ys(n)}(yi(t=>{if($u(t))throw D4(0,t)}),we(t=>!0===t))}class iE{constructor(t){this.segmentGroup=t||null}}class M4{constructor(t){this.urlTree=t}}function Up(n){return ju(new iE(n))}function P4(n){return ju(new M4(n))}class Dde{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Y(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return M(i);if(r.numberOfChildren>1||!r.children[Vt])return ju(new Y(4e3,!1));r=r.children[Vt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Np(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Un(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Y(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const oR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tde(n,t,e,i,r){const s=aR(n,t,e);return s.matched?(i=function Yce(n,t){return n.providers&&!n._injector&&(n._injector=_S(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Cde(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?M(r.map(o=>{const a=Vp(o,n);return ud(function ude(n){return n&&Mv(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Bp(),k4()):M(!0)}(i,t,e).pipe(we(o=>!0===o?s:{...oR}))):M(s)}function aR(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...oR}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||rce)(e,n,t);if(!r)return{...oR};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function O4(n,t,e,i){return e.length>0&&function Ade(n,t,e){return e.some(i=>rE(n,t,i)&&_a(i)!==Vt)}(n,e,i)?{segmentGroup:new Un(t,Sde(i,new Un(e,n.children))),slicedSegments:[]}:0===e.length&&function Rde(n,t,e){return e.some(i=>rE(n,t,i))}(n,e,i)?{segmentGroup:new Un(n.segments,Ide(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Un(n.segments,n.children),slicedSegments:e}}function Ide(n,t,e,i,r){const s={};for(const o of i)if(rE(n,e,o)&&!r[_a(o)]){const a=new Un([],{});s[_a(o)]=a}return{...r,...s}}function Sde(n,t){const e={};e[Vt]=t;for(const i of n)if(""===i.path&&_a(i)!==Vt){const r=new Un([],{});e[_a(i)]=r}return e}function rE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Ode{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Dde(this.urlSerializer,this.urlTree)}noMatchError(t){return new Y(4002,!1)}recognize(){const t=O4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Vt).pipe(tc(e=>{if(e instanceof M4)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof iE?this.noMatchError(e):e}),we(e=>{const i=new XC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),r=new nc(i,e),s=new C4("",r),o=function xce(n,t,e=null,i=null){return d4(c4(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Vt).pipe(tc(i=>{throw i instanceof iE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=w4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return x(r).pipe(Mp(s=>{const o=i.children[s],a=function Jce(n,t){const e=n.filter(i=>_a(i)===t);return e.push(...n.filter(i=>_a(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),Pp((s,o)=>(s.push(...o),s)),zC(null),function nce(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):Jn,GA(1),e?zC(t):YH(()=>new HC))}(),Zt(s=>{if(null===s)return Up(i);const o=N4(s);return function Nde(n){n.sort((t,e)=>t.value.outlet===Vt?-1:e.value.outlet===Vt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),M(o)}))}processSegment(t,e,i,r,s,o){return x(e).pipe(Mp(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(tc(l=>{if(l instanceof iE)return M(null);throw l}))),dd(a=>!!a),tc(a=>{if(R4(a))return function Mde(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?M([]):Up(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function kde(n,t,e,i){return!!(_a(n)===i||i!==Vt&&rE(t,e,n))&&("**"===n.path||aR(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Up(r):Up(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?P4(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Zt(o=>{const a=new Un(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=aR(e,r,s);if(!a)return Up(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?P4(f):this.applyRedirects.lineralizeSegments(r,f).pipe(Zt(m=>this.processSegment(t,i,e,m.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?XH(r).parameters:{};a=M({snapshot:new XC(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F4(i),_a(i),i.component??i._loadedComponent??null,i,L4(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Tde(e,i,r,t).pipe(we(({matched:l,consumedSegments:c,remainingSegments:d,parameters:f})=>l?{snapshot:new XC(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F4(i),_a(i),i.component??i._loadedComponent??null,i,L4(i)),consumedSegments:c,remainingSegments:d}:null));return a.pipe($e(l=>null===l?Up(e):this.getChildConfig(t=i._injector??t,i,r).pipe($e(({routes:c})=>{const d=i._loadedInjector??t,{snapshot:f,consumedSegments:m,remainingSegments:_}=l,{segmentGroup:v,slicedSegments:b}=O4(e,m,_,c);if(0===b.length&&v.hasChildren())return this.processChildren(d,c,v).pipe(we(N=>null===N?null:[new nc(f,N)]));if(0===c.length&&0===b.length)return M([new nc(f,[])]);const E=_a(i)===s;return this.processSegment(d,c,v,b,E?Vt:s,!0).pipe(we(N=>[new nc(f,N)]))}))))}getChildConfig(t,e,i){return e.children?M({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?M({routes:e._loadedRoutes,injector:e._loadedInjector}):function wde(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?M(!0):M(r.map(o=>{const a=Vp(o,n);return ud(function ade(n){return n&&Mv(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Bp(),k4())}(t,e,i).pipe(Zt(r=>r?this.configLoader.loadChildren(t,e).pipe(yi(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function xde(n){return ju(T4(!1,3))}())):M({routes:[],injector:t})}}function Fde(n){const t=n.value.routeConfig;return t&&""===t.path}function N4(n){const t=[],e=new Set;for(const i of n){if(!Fde(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=N4(i.children);t.push(new nc(i.value,r))}return t.filter(i=>!e.has(i))}function F4(n){return n.data||{}}function L4(n){return n.resolve||{}}function V4(n){return"string"==typeof n.title||null===n.title}function lR(n){return $e(t=>{const e=n(t);return e?x(e).pipe(we(()=>t)):M(t)})}const jp=new ie("ROUTES");let cR=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(v3)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return M(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ud(e.loadComponent()).pipe(we(B4),yi(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Hu(()=>{this.componentLoaders.delete(e)})),r=new $A(i,()=>new H).pipe(zA());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function zde(n,t,e,i){return ud(n.loadChildren()).pipe(we(B4),Zt(r=>r instanceof IU||Array.isArray(r)?M(r):x(t.compileModuleAsync(r))),we(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(jp,[],{optional:!0,self:!0}).flat()),{routes:o.map(sR),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Hu(()=>{this.childrenLoaders.delete(i)})),o=new $A(s,()=>new H).pipe(zA());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B4(n){return function $de(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let sE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H,this.transitionAbortSubject=new H,this.configLoader=De(cR),this.environmentInjector=De(ks),this.urlSerializer=De(wv),this.rootContexts=De(Iv),this.inputBindingEnabled=null!==De(eE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Fce(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Nce(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new C({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Dv,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fn(s=>0!==s.id),we(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),$e(s=>{this.currentTransition=s;let o=!1,a=!1;return M(s).pipe(yi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$e(l=>{const c=l.currentBrowserUrl.toString(),d=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new Fp(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),_n}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe($e(m=>{const _=this.transitions?.getValue();return this.events.next(new ZC(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?_n:Promise.resolve(m)}),function Lde(n,t,e,i,r,s){return Zt(o=>function Pde(n,t,e,i,r,s,o="emptyOnly"){return new Ode(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(we(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),yi(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new g4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:_,source:v,restoredState:b,extras:E}=l,N=new ZC(m,this.urlSerializer.serialize(_),v,b);this.events.next(N);const k=b4(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:k,urlAfterRedirects:_,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},M(s)}{const m="";return this.events.next(new Fp(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),_n}}),yi(l=>{const c=new kce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),we(l=>(this.currentTransition=s={...l,guards:nde(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function fde(n,t){return Zt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?M({...e,guardsResult:!0}):function pde(n,t,e,i){return x(n).pipe(Zt(r=>function bde(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?M(s.map(a=>{const l=Av(t)??r,c=Vp(a,l);return ud(function dde(n){return n&&Mv(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(dd())})).pipe(Bp()):M(!0)}(r.component,r.route,e,t,i)),dd(r=>!0!==r,!0))}(o,i,r,n).pipe(Zt(a=>a&&function ode(n){return"boolean"==typeof n}(a)?function mde(n,t,e,i){return x(t).pipe(Mp(r=>kp(function _de(n,t){return null!==n&&t&&t(new Lce(n)),M(!0)}(r.route.parent,i),function gde(n,t){return null!==n&&t&&t(new Bce(n)),M(!0)}(r.route,i),function yde(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function ide(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>vv(()=>M(o.guards.map(l=>{const c=Av(o.node)??e,d=Vp(l,c);return ud(function cde(n){return n&&Mv(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(dd())})).pipe(Bp())));return M(s).pipe(Bp())}(n,r.path,e),function vde(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return M(!0);const r=i.map(s=>vv(()=>{const o=Av(t)??e,a=Vp(s,o);return ud(function lde(n){return n&&Mv(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(dd())}));return M(r).pipe(Bp())}(n,r.route,e))),dd(r=>!0!==r,!0))}(i,s,n,t):M(a)),we(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),yi(l=>{if(s.guardsResult=l.guardsResult,$u(l.guardsResult))throw D4(0,l.guardsResult);const c=new Mce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),fn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),lR(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(yi(c=>{const d=new Pce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),$e(c=>{let d=!1;return M(c).pipe(function Vde(n,t){return Zt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return M(e);let s=0;return x(r).pipe(Mp(o=>function Bde(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!V4(r)&&(s[yv]=r.title),function Ude(n,t,e,i){const r=function jde(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return M({});const s={};return x(r).pipe(Zt(o=>function Hde(n,t,e,i){const r=Av(t)??i,s=Vp(n,r);return ud(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(dd(),yi(a=>{s[o]=a}))),GA(1),ZH(s),tc(o=>R4(o)?_n:ju(o)))}(s,n,t,i).pipe(we(o=>(n._resolvedData=o,n.data=w4(n,e).resolve,r&&V4(r)&&(n.data[yv]=r.title),null)))}(o.route,i,n,t)),yi(()=>s++),GA(1),Zt(o=>s===r.length?M(e):_n))})}(e.paramsInheritanceStrategy,this.environmentInjector),yi({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),yi(c=>{const d=new Oce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),lR(l=>{const c=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(yi(m=>{d.component=m}),we(()=>{})));for(const m of d.children)f.push(...c(m));return f};return jC(c(l.targetSnapshot.root)).pipe(zC(),Dn(1))}),lR(()=>this.afterPreactivation()),we(l=>{const c=function Gce(n,t,e){const i=Sv(n,t._root,e?e._root:void 0);return new y4(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),yi(()=>{this.events.next(new QA)}),((n,t,e,i)=>we(r=>(new tde(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dn(1),yi({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Et(this.transitionAbortSubject.pipe(yi(l=>{throw l}))),Hu(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),tc(l=>{if(a=!0,I4(l))this.events.next(new Tv(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Kce(n){return I4(n)&&$u(n.url)}(l)?this.events.next(new XA(l.url)):s.resolve(!1);else{this.events.next(new QC(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return _n}))}))}cancelNavigationTransition(e,i,r){const s=new Tv(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function U4(n){return n!==Dv}let j4=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Vt);return i}getResolvedTitleForRoute(e){return e.data[yv]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return De(Gde)},providedIn:"root"})}return n})(),Gde=(()=>{class n extends j4{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(zj))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return De(Kde)},providedIn:"root"})}return n})();class qde{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Kde=(()=>{class n extends qde{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oE=new ie("",{providedIn:"root",factory:()=>({})});let Yde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return De(Zde)},providedIn:"root"})}return n})(),Zde=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pv=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pv||{});function H4(n,t){n.events.pipe(fn(e=>e instanceof hd||e instanceof Tv||e instanceof QC||e instanceof Fp),we(e=>e instanceof hd||e instanceof Fp?Pv.COMPLETE:e instanceof Tv&&(0===e.code||1===e.code)?Pv.REDIRECTING:Pv.FAILED),fn(e=>e!==Pv.REDIRECTING),Dn(1)).subscribe(()=>{t()})}function Qde(n){throw n}function Xde(n,t,e){return t.parse("/")}const Jde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(_3),this.isNgZoneEnabled=!1,this._events=new H,this.options=De(oE,{optional:!0})||{},this.pendingTasks=De(lC),this.errorHandler=this.options.errorHandler||Qde,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xde,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(Yde),this.routeReuseStrategy=De(Wde),this.titleStrategy=De(j4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(jp,{optional:!0})?.flat()??[],this.navigationTransitions=De(sE),this.urlSerializer=De(wv),this.location=De(ov),this.componentInputBindingEnabled=!!De(eE,{optional:!0}),this.eventsSubscription=new dt,this.isNgZoneEnabled=De(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Np,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=b4(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(z4(i)&&this._events.next(i));if(i instanceof ZC)U4(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Fp)this.rawUrlTree=r.rawUrl;else if(i instanceof g4){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof QA)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Tv)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof XA){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||U4(r.source)};this.scheduleNavigation(s,Dv,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof QC&&this.restoreHistory(r,!0),i instanceof hd&&(this.navigated=!0),z4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Dv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(sR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let f,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=c4(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return d4(f,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=$u(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Dv,null,i)}navigate(e,i={skipLocationChange:!1}){return function tue(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new Y(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Jde}:!1===i?{...eue}:i,$u(e))return e4(this.currentUrlTree,e,r);const s=this.parseUrl(e);return e4(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,m)=>{a=f,l=m});const d=this.pendingTasks.add();return H4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z4(n){return!(n instanceof QA||n instanceof XA)}let fd=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new H,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof hd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function NL(n,t,e){return function rJ(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?OL:zl}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(w(lr),w(nl),po("tabindex"),w(Ys),w(Xe),w(Lu))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ge("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Ct("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",xp],skipLocationChange:["skipLocationChange","skipLocationChange",xp],replaceUrl:["replaceUrl","replaceUrl",xp],routerLink:"routerLink"},standalone:!0,features:[WV,Fn]})}return n})(),$4=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof hd&&this.update()})}ngAfterContentInit(){M(this.links.changes,M(null)).pipe(mn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=x(e).pipe(mn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function nue(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(lr),w(Xe),w(Ys),w(zi),w(fd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&Pt(s,fd,5),2&i){let o;ke(o=Me())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]})}return n})();class G4{}let iue=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fn(e=>e instanceof hd),Mp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=_S(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return x(r).pipe(mn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):M(null);const s=r.pipe(Zt(o=>null===o?M(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?x([s,this.loader.loadComponent(i)]).pipe(mn()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(P(lr),P(v3),P(ks),P(G4),P(cR))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dR=new ie("");let W4=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ZC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hd?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Fp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Jc()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function ic(n,t){return{\u0275kind:n,\u0275providers:t}}function K4(){const n=De(vi);return t=>{const e=n.get(pa);if(t!==e.components[0])return;const i=n.get(lr),r=n.get(Y4);1===n.get(uR)&&i.initialNavigation(),n.get(Z4,null,Ht.Optional)?.setUpPreloading(),n.get(dR,null,Ht.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Y4=new ie("",{factory:()=>new H}),uR=new ie("",{providedIn:"root",factory:()=>1}),Z4=new ie("");function aue(n){return ic(0,[{provide:Z4,useExisting:iue},{provide:G4,useExisting:n}])}const Q4=new ie("ROUTER_FORROOT_GUARD"),cue=[ov,{provide:wv,useClass:WA},lr,Iv,{provide:nl,useFactory:function q4(n){return n.routerState.root},deps:[lr]},cR,[]];function due(){return new D3("Router",lr)}let X4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[cue,[],{provide:jp,multi:!0,useValue:e},{provide:Q4,useFactory:pue,deps:[[lr,new Rs,new Zc]]},{provide:oE,useValue:i||{}},i?.useHash?{provide:Lu,useClass:Lse}:{provide:Lu,useClass:nj},{provide:dR,useFactory:()=>{const n=De(xj),t=De(He),e=De(oE),i=De(sE),r=De(wv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new W4(r,i,n,t,e)}},i?.preloadingStrategy?aue(i.preloadingStrategy).\u0275providers:[],{provide:D3,multi:!0,useFactory:due},i?.initialNavigation?mue(i):[],i?.bindToComponentInputs?ic(8,[x4,{provide:eE,useExisting:x4}]).\u0275providers:[],[{provide:J4,useFactory:K4},{provide:VS,multi:!0,useExisting:J4}]]}}static forChild(e){return{ngModule:n,providers:[{provide:jp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Q4,8))};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();function pue(n){return"guarded"}function mue(n){return["disabled"===n.initialNavigation?ic(3,[{provide:RS,multi:!0,useFactory:()=>{const t=De(lr);return()=>{t.setUpLocationChangeListener()}}},{provide:uR,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ic(2,[{provide:uR,useValue:0},{provide:RS,multi:!0,deps:[vi],useFactory:t=>{const e=t.get(Nse,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(lr),s=t.get(Y4);H4(r,()=>{i(!0)}),t.get(sE).afterPreactivation=()=>(i(!0),s.closed?M(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const J4=new ie(""),_ue=["addListener","removeListener"],vue=["addEventListener","removeEventListener"],yue=["on","off"];function Fr(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return Fr(n,t,e).pipe(CA(i));const[r,s]=function Cue(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?vue.map(o=>a=>n[o](t,a,e)):function bue(n){return S(n.addListener)&&S(n.removeListener)}(n)?_ue.map(ez(n,t)):function wue(n){return S(n.on)&&S(n.off)}(n)?yue.map(ez(n,t)):[];if(!r&&tn(n))return Zt(o=>Fr(o,t,e))(Ce(n));if(!r)throw new TypeError("Invalid event target");return new ut(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function ez(n,t){return e=>i=>n[e](t,i)}class Eue extends dt{constructor(t,e){super()}schedule(t,e=0){return this}}const aE={setInterval(n,t,...e){const{delegate:i}=aE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=aE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class lE extends Eue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return aE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&aE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,et(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const hR={now:()=>(hR.delegate||Date).now(),delegate:void 0};class Ov{constructor(t,e=Ov.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ov.now=hR.now;class cE extends Ov{constructor(t,e=Ov.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Gu=new cE(lE),xue=Gu;function fR(n=0,t,e=xue){let i=-1;return null!=t&&(ei(t)?e=t:i=t),new ut(r=>{let s=function Due(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:Tue}=Array;function tz(n){return 1===n.length&&Tue(n[0])?n[0]:n}function nz(...n){return 1===(n=tz(n)).length?Ce(n[0]):new ut(function Iue(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Ce(n[i]).subscribe(Se(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}function pR(...n){const t=ws(n),e=tz(n);return e.length?new ut(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Ce(e[o]).subscribe(Se(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,d)=>!c.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):_n}function dE(...n){const t=ws(n);return he((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ce(n[l]).subscribe(Se(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Jn))&&(o=null))},Ze));e.subscribe(Se(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}function iz(n,t){return t?e=>kp(t.pipe(Dn(1),function Aue(){return he((n,t)=>{n.subscribe(Se(t,Ze))})}()),e.pipe(iz(n))):Zt((e,i)=>Ce(n(e,i)).pipe(Dn(1),ZH(e)))}function mR(n){return fn((t,e)=>n<=e)}var que={left:"right",right:"left",bottom:"top",top:"bottom"};function pE(n){return n.replace(/left|right|bottom|top/g,function(t){return que[t]})}function il(n){return n.split("-")[0]}var Kue={start:"end",end:"start"};function pz(n){return n.replace(/start|end/g,function(t){return Kue[t]})}var bo="top",va="bottom",ya="right",wo="left",bR="auto",Fv=[bo,va,ya,wo],zp="start",Lv="end",mz="viewport",Vv="popper",gz=Fv.reduce(function(n,t){return n.concat([t+"-"+zp,t+"-"+Lv])},[]),_z=[].concat(Fv,[bR]).reduce(function(n,t){return n.concat([t,t+"-"+zp,t+"-"+Lv])},[]),ohe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Co(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Wu(n){return n instanceof Co(n).Element||n instanceof Element}function Zo(n){return n instanceof Co(n).HTMLElement||n instanceof HTMLElement}function wR(n){return!(typeof ShadowRoot>"u")&&(n instanceof Co(n).ShadowRoot||n instanceof ShadowRoot)}function md(n){return((Wu(n)?n.ownerDocument:n.document)||window.document).documentElement}var qu=Math.max,mE=Math.min,$p=Math.round;function CR(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vz(){return!/^((?!chrome|android).)*safari/i.test(CR())}function Gp(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,s=1;t&&Zo(n)&&(r=n.offsetWidth>0&&$p(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&$p(i.height)/n.offsetHeight||1);var a=(Wu(n)?Co(n):window).visualViewport,l=!vz()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/s,f=i.width/r,m=i.height/s;return{width:f,height:m,top:d,right:c+f,bottom:d+m,left:c,x:c,y:d}}function ER(n){var t=Co(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xR(n){return Gp(md(n)).left+ER(n).scrollLeft}function rc(n){return Co(n).getComputedStyle(n)}function rl(n){return n?(n.nodeName||"").toLowerCase():null}function gE(n){return"html"===rl(n)?n:n.assignedSlot||n.parentNode||(wR(n)?n.host:null)||md(n)}function DR(n){var t=rc(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function yz(n){return["html","body","#document"].indexOf(rl(n))>=0?n.ownerDocument.body:Zo(n)&&DR(n)?n:yz(gE(n))}function Bv(n,t){var e;void 0===t&&(t=[]);var i=yz(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),s=Co(i),o=r?[s].concat(s.visualViewport||[],DR(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Bv(gE(o)))}function che(n){return["table","td","th"].indexOf(rl(n))>=0}function bz(n){return Zo(n)&&"fixed"!==rc(n).position?n.offsetParent:null}function Uv(n){for(var t=Co(n),e=bz(n);e&&che(e)&&"static"===rc(e).position;)e=bz(e);return e&&("html"===rl(e)||"body"===rl(e)&&"static"===rc(e).position)?t:e||function dhe(n){var t=/firefox/i.test(CR());if(/Trident/i.test(CR())&&Zo(n)&&"fixed"===rc(n).position)return null;var r=gE(n);for(wR(r)&&(r=r.host);Zo(r)&&["html","body"].indexOf(rl(r))<0;){var s=rc(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(n)||t}function wz(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&wR(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function TR(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Cz(n,t,e){return t===mz?TR(function ahe(n,t){var e=Co(n),i=md(n),r=e.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=vz();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+xR(n),y:l}}(n,e)):Wu(t)?function uhe(n,t){var e=Gp(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):TR(function lhe(n){var t,e=md(n),i=ER(n),r=null==(t=n.ownerDocument)?void 0:t.body,s=qu(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=qu(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+xR(n),l=-i.scrollTop;return"rtl"===rc(r||e).direction&&(a+=qu(e.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(md(n)))}function Wp(n){return n.split("-")[1]}function IR(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ez(n){var l,t=n.reference,e=n.element,i=n.placement,r=i?il(i):null,s=i?Wp(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(r){case bo:l={x:o,y:t.y-e.height};break;case va:l={x:o,y:t.y+t.height};break;case ya:l={x:t.x+t.width,y:a};break;case wo:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?IR(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case zp:l[c]=l[c]-(t[d]/2-e[d]/2);break;case Lv:l[c]=l[c]+(t[d]/2-e[d]/2)}}return l}function Dz(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function Tz(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function SR(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,s=t.strategy,o=void 0===s?n.strategy:s,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,d=void 0===c?mz:c,f=t.elementContext,m=void 0===f?Vv:f,_=t.altBoundary,v=void 0!==_&&_,b=t.padding,E=void 0===b?0:b,N=Dz("number"!=typeof E?E:Tz(E,Fv)),B=n.rects.popper,W=n.elements[v?m===Vv?"reference":Vv:m],de=function fhe(n,t,e,i){var r="clippingParents"===t?function hhe(n){var t=Bv(gE(n)),i=["absolute","fixed"].indexOf(rc(n).position)>=0&&Zo(n)?Uv(n):n;return Wu(i)?t.filter(function(r){return Wu(r)&&wz(r,i)&&"body"!==rl(r)}):[]}(n):[].concat(t),s=[].concat(r,[e]),a=s.reduce(function(l,c){var d=Cz(n,c,i);return l.top=qu(d.top,l.top),l.right=mE(d.right,l.right),l.bottom=mE(d.bottom,l.bottom),l.left=qu(d.left,l.left),l},Cz(n,s[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Wu(W)?W:W.contextElement||md(n.elements.popper),l,d,o),Ie=Gp(n.elements.reference),Le=Ez({reference:Ie,element:B,strategy:"absolute",placement:r}),st=TR(Object.assign({},B,Le)),on=m===Vv?st:Ie,wn={top:de.top-on.top+N.top,bottom:on.bottom-de.bottom+N.bottom,left:de.left-on.left+N.left,right:on.right-de.right+N.right},ir=n.modifiersData.offset;if(m===Vv&&ir){var is=ir[r];Object.keys(wn).forEach(function(Bi){var El=[ya,va].indexOf(Bi)>=0?1:-1,xl=[bo,va].indexOf(Bi)>=0?"y":"x";wn[Bi]+=is[xl]*El})}return wn}const _he={name:"flip",enabled:!0,phase:"main",fn:function ghe(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,s=void 0===r||r,o=e.altAxis,a=void 0===o||o,l=e.fallbackPlacements,c=e.padding,d=e.boundary,f=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,v=void 0===_||_,b=e.allowedAutoPlacements,E=t.options.placement,N=il(E),B=l||(N!==E&&v?function mhe(n){if(il(n)===bR)return[];var t=pE(n);return[pz(n),t,pz(t)]}(E):[pE(E)]),W=[E].concat(B).reduce(function(Bn,Pa){return Bn.concat(il(Pa)===bR?function phe(n,t){void 0===t&&(t={});var r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?_z:l,d=Wp(t.placement),f=d?a?gz:gz.filter(function(v){return Wp(v)===d}):Fv,m=f.filter(function(v){return c.indexOf(v)>=0});0===m.length&&(m=f);var _=m.reduce(function(v,b){return v[b]=SR(n,{placement:b,boundary:r,rootBoundary:s,padding:o})[il(b)],v},{});return Object.keys(_).sort(function(v,b){return _[v]-_[b]})}(t,{placement:Pa,boundary:d,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:b}):Pa)},[]),de=t.rects.reference,Ie=t.rects.popper,Le=new Map,st=!0,on=W[0],wn=0;wn<W.length;wn++){var ir=W[wn],is=il(ir),Bi=Wp(ir)===zp,El=[bo,va].indexOf(is)>=0,xl=El?"width":"height",Ue=SR(t,{placement:ir,boundary:d,rootBoundary:f,altBoundary:m,padding:c}),Je=El?Bi?ya:wo:Bi?va:bo;de[xl]>Ie[xl]&&(Je=pE(Je));var _t=pE(Je),zt=[];if(s&&zt.push(Ue[is]<=0),a&&zt.push(Ue[Je]<=0,Ue[_t]<=0),zt.every(function(Bn){return Bn})){on=ir,st=!1;break}Le.set(ir,zt)}if(st)for(var co=function(Pa){var qh=W.find(function(rr){var $s=Le.get(rr);if($s)return $s.slice(0,Pa).every(function(_s){return _s})});if(qh)return on=qh,"break"},Tr=v?3:1;Tr>0&&"break"!==co(Tr);Tr--);t.placement!==on&&(t.modifiersData[i]._skip=!0,t.placement=on,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function jv(n,t,e){return qu(n,mE(t,e))}function AR(n){var t=Gp(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const whe={name:"preventOverflow",enabled:!0,phase:"main",fn:function bhe(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,s=void 0===r||r,o=e.altAxis,a=void 0!==o&&o,m=e.tether,_=void 0===m||m,v=e.tetherOffset,b=void 0===v?0:v,E=SR(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=il(t.placement),k=Wp(t.placement),B=!k,W=IR(N),de=function vhe(n){return"x"===n?"y":"x"}(W),Ie=t.modifiersData.popperOffsets,Le=t.rects.reference,st=t.rects.popper,on="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,wn="number"==typeof on?{mainAxis:on,altAxis:on}:Object.assign({mainAxis:0,altAxis:0},on),ir=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,is={x:0,y:0};if(Ie){if(s){var Bi,El="y"===W?bo:wo,xl="y"===W?va:ya,Ue="y"===W?"height":"width",Je=Ie[W],_t=Je+E[El],zt=Je-E[xl],Ui=_?-st[Ue]/2:0,co=k===zp?Le[Ue]:st[Ue],Tr=k===zp?-st[Ue]:-Le[Ue],Oo=t.elements.arrow,Bn=_&&Oo?AR(Oo):{width:0,height:0},Pa=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},qh=Pa[El],rr=Pa[xl],$s=jv(0,Le[Ue],Bn[Ue]),_s=B?Le[Ue]/2-Ui-$s-qh-wn.mainAxis:co-$s-qh-wn.mainAxis,wg=B?-Le[Ue]/2+Ui+$s+rr+wn.mainAxis:Tr+$s+rr+wn.mainAxis,Kh=t.elements.arrow&&Uv(t.elements.arrow),DFe=Kh?"y"===W?Kh.clientTop||0:Kh.clientLeft||0:0,uQ=null!=(Bi=ir?.[W])?Bi:0,IFe=Je+wg-uQ,hQ=jv(_?mE(_t,Je+_s-uQ-DFe):_t,Je,_?qu(zt,IFe):zt);Ie[W]=hQ,is[W]=hQ-Je}if(a){var fQ,Yh=Ie[de],tT="y"===de?"height":"width",pQ=Yh+E["x"===W?bo:wo],mQ=Yh-E["x"===W?va:ya],d2=-1!==[bo,wo].indexOf(N),gQ=null!=(fQ=ir?.[de])?fQ:0,_Q=d2?pQ:Yh-Le[tT]-st[tT]-gQ+wn.altAxis,vQ=d2?Yh+Le[tT]+st[tT]-gQ-wn.altAxis:mQ,yQ=_&&d2?function yhe(n,t,e){var i=jv(n,t,e);return i>e?e:i}(_Q,Yh,vQ):jv(_?_Q:pQ,Yh,_?vQ:mQ);Ie[de]=yQ,is[de]=yQ-Yh}t.modifiersData[i]=is}},requiresIfExists:["offset"]},Dhe={name:"arrow",enabled:!0,phase:"main",fn:function Ehe(n){var t,e=n.state,i=n.name,r=n.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=il(e.placement),l=IR(a),d=[wo,ya].indexOf(a)>=0?"height":"width";if(s&&o){var f=function(t,e){return Dz("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Tz(t,Fv))}(r.padding,e),m=AR(s),_="y"===l?bo:wo,v="y"===l?va:ya,b=e.rects.reference[d]+e.rects.reference[l]-o[l]-e.rects.popper[d],E=o[l]-e.rects.reference[l],N=Uv(s),k=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,Ie=k/2-m[d]/2+(b/2-E/2),Le=jv(f[_],Ie,k-m[d]-f[v]);e.modifiersData[i]=((t={})[l]=Le,t.centerOffset=Le-Ie,t)}},effect:function xhe(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||wz(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ahe(n,t,e){void 0===e&&(e=!1);var i=Zo(t),r=Zo(t)&&function She(n){var t=n.getBoundingClientRect(),e=$p(t.width)/n.offsetWidth||1,i=$p(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),s=md(t),o=Gp(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==rl(t)||DR(s))&&(a=function Ihe(n){return n!==Co(n)&&Zo(n)?function The(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):ER(n)}(t)),Zo(t)?((l=Gp(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=xR(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Rhe(n){var t=new Map,e=new Set,i=[];function r(s){e.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.set(s.name,s)}),n.forEach(function(s){e.has(s.name)||r(s)}),i}function Mhe(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var Iz={placement:"bottom",modifiers:[],strategy:"absolute"};function Sz(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Ohe(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,s=void 0===r?Iz:r;return function(a,l,c){void 0===c&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Iz,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:d,setOptions:function(N){var k="function"==typeof N?N(d.options):N;b(),d.options=Object.assign({},s,d.options,k),d.scrollParents={reference:Wu(a)?Bv(a):a.contextElement?Bv(a.contextElement):[],popper:Bv(l)};var B=function khe(n){var t=Rhe(n);return ohe.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function Phe(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,d.options.modifiers)));return d.orderedModifiers=B.filter(function(W){return W.enabled}),function v(){d.orderedModifiers.forEach(function(E){var k=E.options,W=E.effect;if("function"==typeof W){var de=W({state:d,name:E.name,instance:_,options:void 0===k?{}:k});f.push(de||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var N=d.elements,k=N.reference,B=N.popper;if(Sz(k,B)){d.rects={reference:Ahe(k,Uv(B),"fixed"===d.options.strategy),popper:AR(B)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(wn){return d.modifiersData[wn.name]=Object.assign({},wn.data)});for(var W=0;W<d.orderedModifiers.length;W++)if(!0!==d.reset){var de=d.orderedModifiers[W],Ie=de.fn,Le=de.options;"function"==typeof Ie&&(d=Ie({state:d,options:void 0===Le?{}:Le,name:de.name,instance:_})||d)}else d.reset=!1,W=-1}}},update:Mhe(function(){return new Promise(function(E){_.forceUpdate(),E(d)})}),destroy:function(){b(),m=!0}};if(!Sz(a,l))return _;function b(){f.forEach(function(E){return E()}),f=[]}return _.setOptions(c).then(function(E){!m&&c.onFirstUpdate&&c.onFirstUpdate(E)}),_}}var _E={passive:!0};const Fhe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Nhe(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,s=void 0===r||r,o=i.resize,a=void 0===o||o,l=Co(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",e.update,_E)}),a&&l.addEventListener("resize",e.update,_E),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",e.update,_E)}),a&&l.removeEventListener("resize",e.update,_E)}},data:{}},Vhe={name:"popperOffsets",enabled:!0,phase:"read",fn:function Lhe(n){var t=n.state;t.modifiersData[n.name]=Ez({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Bhe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Az(n){var t,e=n.popper,i=n.popperRect,r=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,f=n.isFixed,m=o.x,_=void 0===m?0:m,v=o.y,b=void 0===v?0:v,E="function"==typeof d?d({x:_,y:b}):{x:_,y:b};_=E.x,b=E.y;var N=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),B=wo,W=bo,de=window;if(c){var Ie=Uv(e),Le="clientHeight",st="clientWidth";Ie===Co(e)&&"static"!==rc(Ie=md(e)).position&&"absolute"===a&&(Le="scrollHeight",st="scrollWidth"),(r===bo||(r===wo||r===ya)&&s===Lv)&&(W=va,b-=(f&&Ie===de&&de.visualViewport?de.visualViewport.height:Ie[Le])-i.height,b*=l?1:-1),r!==wo&&(r!==bo&&r!==va||s!==Lv)||(B=ya,_-=(f&&Ie===de&&de.visualViewport?de.visualViewport.width:Ie[st])-i.width,_*=l?1:-1)}var Bi,ir=Object.assign({position:a},c&&Bhe),is=!0===d?function Uhe(n,t){var i=n.y,r=t.devicePixelRatio||1;return{x:$p(n.x*r)/r||0,y:$p(i*r)/r||0}}({x:_,y:b},Co(e)):{x:_,y:b};return _=is.x,b=is.y,Object.assign({},ir,l?((Bi={})[W]=k?"0":"",Bi[B]=N?"0":"",Bi.transform=(de.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",Bi):((t={})[W]=k?b+"px":"",t[B]=N?_+"px":"",t.transform="",t))}const Hhe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function jhe(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,s=e.adaptive,o=void 0===s||s,a=e.roundOffsets,l=void 0===a||a,c={placement:il(t.placement),variation:Wp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Az(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Az(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ghe=[Fhe,Vhe,Hhe,{name:"applyStyles",enabled:!0,phase:"write",fn:function zhe(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];!Zo(s)||!rl(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];!1===a?s.removeAttribute(o):s.setAttribute(o,!0===a?"":a)}))})},effect:function $he(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!Zo(r)||!rl(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}],Whe=Ohe({defaultModifiers:Ghe});const RR=["*"],Mfe=["dialog"];function mpe(n,t){if(1&n&&(A(0,"strong",3),ne(1),R()),2&n){const e=G();O(1),qn(e.header)}}function gpe(n,t){}function _pe(n,t){if(1&n){const e=St();A(0,"div",4),Q(1,gpe,0,0,"ng-template",5),A(2,"button",6),ge("click",function(){return Fe(e),Oe(G().hide())}),R()()}if(2&n){const e=G(),i=Qi(1);O(1),L("ngTemplateOutlet",e.contentHeaderTpl||i)}}function gd(n){return"string"==typeof n}function Ku(n){return null!=n}function qp(n){return(n||document.body).getBoundingClientRect()}const Oz={animation:!0,transitionTimerDelayMs:5},Tpe=()=>{},{transitionTimerDelayMs:Ipe}=Oz,Hv=new Map,ls=(n,t,e,i)=>{let r=i.context||{};const s=Hv.get(t);if(s)switch(i.runningTransition){case"continue":return _n;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Hv.delete(t)}const o=e(t,i.animation,r)||Tpe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),M(void 0).pipe(function xpe(n){return t=>new ut(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new H,l=new H,c=a.pipe(function Sue(...n){return t=>kp(t,M(...n))}(!0));Hv.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const d=function Dpe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Fr(t,"transitionend").pipe(Et(c),fn(({target:_})=>_===t));nz(fR(d+Ipe).pipe(Et(c)),f,l).pipe(Et(c)).subscribe(()=>{Hv.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},MR=(n,t,e)=>{let{direction:i,maxSize:r,dimension:s}=e;const{classList:o}=n;function a(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(t)return r||(r=function Spe(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,s),e.maxSize=r,n.style[s]="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),qp(n),o.add("collapsing")),n.style[s]="show"===i?r:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let Kp=(()=>{class n{constructor(){this.animation=Oz.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kpe=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kp))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NR=(()=>{class n{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Re,this.shown=new Re,this.hidden=new Re,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return ls(this._zone,this._element.nativeElement,MR,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(kpe),w(He))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&it("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),Hz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),Wz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),qz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();var ti=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(ti||{});const EE=(n,t)=>!!t&&t.some(e=>e.contains(n)),Xz=(n,t)=>!t||null!=function Epe(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),nme=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function HR(n,t,e,i,r,s,o,a){e&&n.runOutsideAngular((n=>nme?()=>setTimeout(()=>n(),100):n)(()=>{const c=Fr(t,"keydown").pipe(Et(r),fn(m=>m.which===ti.Escape),yi(m=>m.preventDefault())),d=Fr(t,"mousedown").pipe(we(m=>{const _=m.target;return 2!==m.button&&!EE(_,o)&&("inside"===e?EE(_,s)&&Xz(_,a):"outside"===e?!EE(_,s):Xz(_,a)||!EE(_,s))}),Et(r)),f=Fr(t,"mouseup").pipe(dE(d),fn(([m,_])=>_),function Rue(n,t=Gu){const e=fR(n,t);return iz(()=>e)}(0),Et(r));nz([c.pipe(we(m=>0)),f.pipe(we(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}const Jz=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function e$(n){const t=Array.from(n.querySelectorAll(Jz)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let rme=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sme=/\s+/,ome=/  +/gi,ame={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},cme=/^left/,dme=/^right/,ume=/^start/,hme=/^end/;function n$({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(sme),s=i.findIndex(c=>"auto"===c);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(d=>-1!==d.search("^"+c))&&i.splice(s++,1,c)});const o=i.map(c=>function lme(n,t){const[e,i]=ame[n];return t&&i||e}(c,e.isRTL()));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){const d=new RegExp(t+"(-[a-z]+)*","gi"),f=c.elements.popper,m=c.placement;let _=f.className;_=_.replace(d,""),_+=` ${function fme(n,t){let[e,i]=t.split("-");const r=e.replace(cme,"start").replace(dme,"end");let s=[r];if(i){let o=i;("left"===e||"right"===e)&&(o=o.replace(ume,"top").replace(hme,"bottom")),s.push(`${r}-${o}`)}return n&&(s=s.map(o=>`${n}-${o}`)),s.join(" ")}(t,m)}`,_=_.trim().replace(ome," "),f.className=_}},_he,whe,Dhe,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function i$(n){return n}new Date(1882,10,12),new Date(2174,10,25);let h$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),m$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();class Ju{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class Tme{constructor(t,e,i,r,s,o){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=s,this._applicationRef=o,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,s=this._ngZone.onStable.pipe(Dn(1),Zt(()=>ls(this._ngZone,r,({classList:o})=>o.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:s}}close(t=!1){return this._windowRef?ls(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(yi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):M(void 0)}_getContentRef(t,e){if(t){if(t instanceof hn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Ju([i.rootNodes],i)}return new Ju([[this._renderer.createText(`${t}`)]])}return new Ju([])}}let Ime=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Dn(1)).subscribe(()=>{ls(this._zone,this._el.nativeElement,(e,i)=>{i&&qp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ls(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(He))};static#t=this.\u0275cmp=ht({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(nd("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),it("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Qs],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class g${update(t){}close(t){}dismiss(t){}}const Sme=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ame=["animation","backdropClass"];class Rme{_applyWindowOptions(t,e){Sme.forEach(i=>{Ku(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){Ame.forEach(i=>{Ku(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new H,this._dismissed=new H,this._hidden=new H,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function kz(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():M(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),pR(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var qR=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(qR||{});let kme=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new H,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Re,this.shown=new H,this.hidden=new H}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":gd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Dn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=pR(ls(this._zone,e,()=>e.classList.remove("show"),i),ls(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};pR(ls(this._zone,this._elRef.nativeElement,(s,o)=>{o&&qp(s),s.classList.add("show")},e),ls(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Fr(e,"keydown").pipe(Et(this._closed$),fn(r=>r.which===ti.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(qR.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Fr(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),yi(()=>i=!1),$e(()=>Fr(e,"mouseup").pipe(Et(this._closed$),Dn(1))),fn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Fr(e,"click").pipe(Et(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(qR.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=e$(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ls(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(w(mt),w(Xe),w(He))};static#t=this.\u0275cmp=ht({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&ln(Mfe,7),2&i){let s;ke(s=Me())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Ct("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),nd("modal d-block"+(r.windowClass?" "+r.windowClass:"")),it("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Qs],ngContentSelectors:RR,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(Or(),A(0,"div",0,1)(2,"div",2),qt(3),R()()),2&i&&nd("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Mme=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pme=(()=>{class n{constructor(e,i,r,s,o,a,l){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new H,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Re,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Fr(t,"focusin").pipe(Et(e),we(s=>s.target));Fr(t,"keydown").pipe(Et(e),fn(s=>s.which===ti.Tab),dE(r)).subscribe(([s,o])=>{const[a,l]=e$(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Fr(t,"click").pipe(Et(e),dE(r),we(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:Ku(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new g$,l=(e=r.injector||e).get(ks,null)||this._environmentInjector,c=this._getContentRef(e,l,i,a,r);let d=!1!==r.backdrop?this._attachBackdrop(s):void 0,f=this._attachWindowComponent(s,c.nodes),m=new Rme(f,c,d,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(Dn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=GS(Ime,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=GS(kme,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof hn?this._createFromTemplateRef(r,s):gd(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Ju([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Ju([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ju([[i]])}_createFromComponent(e,i,r,s,o){const l=GS(r,{environmentInjector:i,elementInjector:vi.create({providers:[{provide:g$,useValue:s}],parent:e})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ju([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(P(pa),P(vi),P(ks),P(mt),P(Mme),P(rp),P(He))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ome=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kp))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nme=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(P(vi),P(Pme),P(Ome))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[Nme]})}return n})(),b$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),S$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const $me={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let A$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),R$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),k$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),M$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),P$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const Qme=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),qp(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},Xme=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let Jme=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kp))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ege=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),O$=(()=>{class n{constructor(e,i,r,s){this.ariaLive=e,this._zone=r,this._element=s,this.contentHeaderTpl=null,this.shown=new Re,this.hidden=new Re,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Dn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=ls(this._zone,this._element.nativeElement,Xme,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=ls(this._zone,this._element.nativeElement,Qme,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||n)(po("aria-live"),w(Jme),w(He),w(Xe))};static#t=this.\u0275cmp=ht({type:n,selectors:[["ngb-toast"]],contentQueries:function(i,r,s){if(1&i&&Pt(s,ege,7,hn),2&i){let o;ke(o=Me())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(Ct("aria-live",r.ariaLive),it("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Fn,Qs],ngContentSelectors:RR,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(Or(),Q(0,mpe,2,1,"ng-template",null,0,Os),Q(2,_pe,3,1,"ng-template",1),A(3,"div",2),qt(4),R()),2&i&&(O(2),L("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Ji,sd],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),N$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),RE=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kp))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tge=0,nge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ht({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&(wr("id",r.id),nd("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),it("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Qs],ngContentSelectors:RR,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(Or(),nt(0,"div",0),A(1,"div",1),qt(2),R())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),ige=(()=>{class n{constructor(e,i,r,s,o,a,l,c,d){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new Re,this.hidden=new Re,this._ngbTooltipWindowId="ngb-tooltip-"+tge++,this._windowRef=null,this.animation=o.animation,this.autoClose=o.autoClose,this.placement=o.placement,this.popperOptions=o.popperOptions,this.triggers=o.triggers,this.container=o.container,this.disableTooltip=o.disableTooltip,this.tooltipClass=o.tooltipClass,this.openDelay=o.openDelay,this.closeDelay=o.closeDelay,this._popupService=new Tme(nge,r,s,i,this._ngZone,d),this._positioning=function zR(){const n=De(rme);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||i$)(n$(e,n));t=Whe(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||i$)(n$(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:s=>this.popperOptions(s)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),HR(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Wme(n,t,e,i,r,s=0,o=0){const a=function Gme(n){const t=(n||"").trim();if(0===t.length)return[];const e=t.split(/\s+/).map(r=>r.split(":")).map(r=>$me[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(t);if(0===a.length)return()=>{};const l=new Set,c=[];let d;function f(_,v){n.addEventListener(_,v),c.push(()=>n.removeEventListener(_,v))}function m(_,v){clearTimeout(d),v>0?d=setTimeout(_,v):_()}for(const[_,v]of a)v?(f(_,()=>{l.add(_),m(()=>l.size>0&&i(),s)}),f(v,()=>{l.delete(_),m(()=>0===l.size&&r(),o)})):f(_,()=>e()?m(r,o):m(i,s));return()=>c.forEach(_=>_())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(gd(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(Ys),w(vi),w(Hi),w(RE),w(He),w(mt),w(zi),w(pa))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Fn]})}return n})(),YR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();new ie("live announcer delay",{providedIn:"root",factory:function rge(){return 100}});let F$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),L$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const oge=[Hz,zz,Wz,qz,h$,m$,_$,b$,L$,S$,A$,R$,k$,M$,P$,N$,YR,F$];let age=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[oge,Hz,zz,Wz,qz,h$,m$,_$,b$,L$,S$,A$,R$,k$,M$,P$,N$,YR,F$]})}return n})();var qv=ct(562),I=ct(58),cs=ct(534),Eo=ct(879),wa=ct(537);(0,cs.registerVersion)("firebase","10.6.0","app");const hge=new class uge extends cE{}(class dge extends lE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Xp=new Xc("ANGULARFIRE2_VERSION");class kE{constructor(){return((n,t)=>{const e=t?[t]:(0,cs.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(pge)}}const pge="app-check";function Jp(){}class B${zone;delegate;constructor(t,e=hge){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class mge{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jp,{},Jp,Jp)),e.pipe(yi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ME=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new B$(Zone.current)),this.insideAngular=e.run(()=>new B$(Zone.current,Gu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(P(He))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function em(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function eh(n){return em().ngZone.run(()=>n())}function U$(n){return n.pipe(Pi(em().outsideAngular))}function er(n){return function _ge(n){return function(e){return(e=e.lift(new mge(n.ngZone))).pipe(Ar(n.outsideAngular),Pi(n.insideAngular))}}(em())(n)}const vge=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),eh(()=>n.apply(void 0,i))},yge=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=eh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jp,{},Jp,Jp))),i[s]=vge(i[s],e));const r=function gge(n){return em().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ut){const s=em();return r.pipe(Ar(s.outsideAngular),Pi(s.insideAngular))}return eh(()=>r)}return r instanceof ut?r.pipe(er):r instanceof Promise?eh(()=>new Promise((s,o)=>r.then(a=>eh(()=>s(a)),a=>eh(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:eh(()=>r)},Sge=yge(qv.o,!0);class OE{}class NE{}class Qo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Age{encodeKey(t){return H$(t)}encodeValue(t){return H$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const kge=/%(\d[a-f0-9])/gi,Mge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H$(n){return encodeURIComponent(n).replace(kge,(t,e)=>Mge[e]??t)}function FE(n){return`${n}`}class _d{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Age,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Rge(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(FE):[FE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _d({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(FE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(FE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Pge{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function z$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $$(n){return typeof Blob<"u"&&n instanceof Blob}function G$(n){return typeof FormData<"u"&&n instanceof FormData}class Kv{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Oge(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Qo),this.context||(this.context=new Pge),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new _d,this.urlWithParams=e}serializeBody(){return null===this.body?null:z$(this.body)||$$(this.body)||G$(this.body)||function Nge(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _d?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G$(this.body)?null:$$(this.body)?this.body.type||null:z$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _d?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),c)),new Kv(e,i,s,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:o})}}var th=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(th||{});class JR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Qo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ek extends JR{constructor(t={}){super(t),this.type=th.ResponseHeader}clone(t={}){return new ek({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tm extends JR{constructor(t={}){super(t),this.type=th.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new tm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class W$ extends JR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function tk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Kv)s=e;else{let l,c;l=r.headers instanceof Qo?r.headers:new Qo(r.headers),r.params&&(c=r.params instanceof _d?r.params:new _d({fromObject:r.params})),s=new Kv(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=M(s).pipe(Mp(l=>this.handler.handle(l)));if(e instanceof Kv||"events"===r.observe)return o;const a=o.pipe(fn(l=>l instanceof tm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(we(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new _d).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,tk(r,i))}post(e,i,r={}){return this.request("POST",e,tk(r,i))}put(e,i,r={}){return this.request("PUT",e,tk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(OE))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Y$(n,t){return t(n)}function Lge(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Z$=new ie(""),Zv=new ie(""),Q$=new ie("");function Bge(){let n=null;return(t,e)=>{null===n&&(n=(De(Z$,{optional:!0})??[]).reduceRight(Lge,Y$));const i=De(lC),r=i.add();return n(t,e).pipe(Hu(()=>i.remove(r)))}}let X$=(()=>{class n extends OE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=De(lC)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Zv),...this.injector.get(Q$,[])]));this.chain=r.reduceRight((s,o)=>function Vge(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),Y$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Hu(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(P(NE),P(ks))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const zge=/^\)\]\}',?\n/;let e5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Y(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?x(i.\u0275loadImpl()):M(null)).pipe($e(()=>new ut(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((b,E)=>o.setRequestHeader(b,E.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&o.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();o.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=o.statusText||"OK",E=new Qo(o.getAllResponseHeaders()),N=function $ge(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new ek({headers:E,status:o.status,statusText:b,url:N}),l},d=()=>{let{headers:b,status:E,statusText:N,url:k}=c(),B=null;204!==E&&(B=typeof o.response>"u"?o.responseText:o.response),0===E&&(E=B?200:0);let W=E>=200&&E<300;if("json"===e.responseType&&"string"==typeof B){const de=B;B=B.replace(zge,"");try{B=""!==B?JSON.parse(B):null}catch(Ie){B=de,W&&(W=!1,B={error:Ie,text:B})}}W?(s.next(new tm({body:B,headers:b,status:E,statusText:N,url:k||void 0})),s.complete()):s.error(new W$({error:B,headers:b,status:E,statusText:N,url:k||void 0}))},f=b=>{const{url:E}=c(),N=new W$({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E||void 0});s.error(N)};let m=!1;const _=b=>{m||(s.next(c()),m=!0);let E={type:th.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),"text"===e.responseType&&o.responseText&&(E.partialText=o.responseText),s.next(E)},v=b=>{let E={type:th.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),s.next(E)};return o.addEventListener("load",d),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",_),null!==a&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),s.next({type:th.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",d),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",_),null!==a&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(P(Dj))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const nk=new ie("XSRF_ENABLED"),t5=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),n5=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class r5{}let qge=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(_o),P(t5))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function Kge(n,t){const e=n.url.toLowerCase();if(!De(nk)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=De(r5).getToken(),r=De(n5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var vd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(vd||{});function Yge(...n){const t=[Yv,e5,X$,{provide:OE,useExisting:X$},{provide:NE,useExisting:e5},{provide:Zv,useValue:Kge,multi:!0},{provide:nk,useValue:!0},{provide:r5,useClass:qge}];for(const e of n)t.push(...e.\u0275providers);return function mI(n){return{\u0275providers:n}}(t)}const s5=new ie("LEGACY_INTERCEPTOR_FN");function Zge(){return function nh(n,t){return{\u0275kind:n,\u0275providers:t}}(vd.LegacyInterceptors,[{provide:s5,useFactory:Bge},{provide:Zv,useExisting:s5,multi:!0}])}let Qge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[Yge(Zge())]})}return n})();ct(365);var xo=ct(106);xo.Z.registerVersion("firebase","10.6.0","app-compat");const s_e=["ngOnDestroy"];class o5{constructor(t){return t}}const nm=new ie("angularfire2.app.options"),im=new ie("angularfire2.app.name");function Qv(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=xo.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>xo.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;l_e("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new o5(o)}const l_e=(n,...t)=>{},c_e={provide:o5,useFactory:Qv,deps:[nm,He,[new Rs,im]]};let d_e=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:nm,useValue:e},{provide:im,useValue:i}]}}constructor(e){xo.Z.registerVersion("angularfire",Xp.full,"core"),xo.Z.registerVersion("angularfire",Xp.full,"app-compat"),xo.Z.registerVersion("angular",YL.full,e.toString())}static \u0275fac=function(i){return new(i||n)(P(_o))};static \u0275mod=Be({type:n});static \u0275inj=Ge({providers:[c_e]})}return n})();function VE(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function u_e(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(a5("error",`${t} was already initialized on the ${e} Firebase App with different settings.${h_e?" You may need to reload as Firebase is not HMR aware.":""}`),a5("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const h_e=typeof module<"u"&&!!module.hot,a5=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class f_e extends H{constructor(t=1/0,e=1/0,i=hR){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function ik(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,le({connector:()=>new f_e(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function l5(n,t){return S(t)?$e(()=>n,t):$e(()=>n)}const rk=new ie("angularfire2.auth.use-emulator"),sk=new ie("angularfire2.auth.settings"),ok=new ie("angularfire2.auth.tenant-id"),ak=new ie("angularfire2.auth.langugage-code"),lk=new ie("angularfire2.auth.use-device-language"),ck=new ie("angularfire.auth.persistence"),dk=(n,t,e,i,r,s,o,a)=>VE(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[e,i,r,s,o,a]);let uk,Xv=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,a,l,c,d,f,m,_){const v=new H,b=M(void 0).pipe(Pi(o.outsideAngular),$e(()=>s.runOutsideAngular(()=>Promise.resolve().then(ct.bind(ct,365)))),we(()=>Qv(e,s,i)),we(E=>dk(E,s,a,c,d,f,l,m)),ik({bufferSize:1,refCount:!1}));if(DC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{b.pipe(dd()).subscribe();const E=b.pipe($e(B=>B.getRedirectResult().then(W=>W,()=>null)),er,ik({bufferSize:1,refCount:!1})),N=b.pipe($e(B=>new ut(W=>({unsubscribe:s.runOutsideAngular(()=>B.onAuthStateChanged(de=>W.next(de),de=>W.error(de),()=>W.complete()))})))),k=b.pipe($e(B=>new ut(W=>({unsubscribe:s.runOutsideAngular(()=>B.onIdTokenChanged(de=>W.next(de),de=>W.error(de),()=>W.complete()))}))));this.authState=E.pipe(l5(N),Ar(o.outsideAngular),Pi(o.insideAngular)),this.user=E.pipe(l5(k),Ar(o.outsideAngular),Pi(o.insideAngular)),this.idToken=this.user.pipe($e(B=>B?x(B.getIdToken()):M(null))),this.idTokenResult=this.user.pipe($e(B=>B?x(B.getIdTokenResult()):M(null))),this.credential=T(E,v,this.authState.pipe(fn(B=>!B))).pipe(we(B=>B?.user?B:null),Ar(o.outsideAngular),Pi(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(s_e.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{const f=d?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,f),f})})})}))(this,b,s,{spy:{apply:(E,N,k)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&k.then(B=>v.next(B))}}})}static \u0275fac=function(i){return new(i||n)(P(nm),P(im,8),P(_o),P(He),P(ME),P(rk,8),P(sk,8),P(ok,8),P(ak,8),P(lk,8),P(ck,8),P(kE,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),m_e=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",Xp.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ge({providers:[Xv]})}return n})(),sc=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new C(!1),this.navDisappear=new C(!1),this.httpHeaders=new Qo,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),this.userLoggedInSubject=new C(this.user),r?.getIdToken().then(s=>{this.user.idToken=s,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(o=>{o?(this.user.claims=o,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin),this.getUsers().subscribe(a=>{this.usersSubject=new C(a)})):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getUsersSubject(){return this.usersSubject}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Qo).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return M([])}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new qv.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new qv.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new qv.R(Sge(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Xv),P(Yv))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{uk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uk=!1}let rm,cr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Zoe(n){return n===Ej}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(P(_o))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const c5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d5(){if(rm)return rm;if("object"!=typeof document||!document)return rm=new Set(c5),rm;let n=document.createElement("input");return rm=new Set(c5.filter(t=>(n.setAttribute("type",t),n.type===t))),rm}let Jv,ih,hk;function oc(n){return function g_e(){if(null==Jv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jv=!0}))}finally{Jv=Jv||!1}return Jv}()?n:!!n.capture}function __e(){if(null==ih){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ih=!1,ih;if("scrollBehavior"in document.documentElement.style)ih=!0;else{const n=Element.prototype.scrollTo;ih=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ih}function fk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function yd(n){return n.composedPath?n.composedPath()[0]:n.target}function pk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ca(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function gk(n,t=Gu){return he((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void i.add(r);a()}e.subscribe(Se(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function gn(n){return null!=n&&"false"!=`${n}`}function sm(n,t=0){return function P_e(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function $E(n){return Array.isArray(n)?n:[n]}function dr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function bd(n){return n instanceof Xe?n.nativeElement:n}let O_e=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[O_e]})}return n})();const m5=new Set;let rh,N_e=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):L_e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function F_e(n,t){if(!m5.has(n))try{rh||(rh=document.createElement("style"),t&&(rh.nonce=t),rh.setAttribute("type","text/css"),document.head.appendChild(rh)),rh.sheet&&(rh.sheet.insertRule(`@media ${n} {body{ }}`,0),m5.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr),P(CI,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L_e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let V_e=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new H}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return g5($E(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=jC(g5($E(e)).map(o=>this._registerQuery(o).observable));return s=kp(s.pipe(Dn(1)),s.pipe(mR(1),gk(0))),s.pipe(we(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ut(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Yo(i),we(({matches:o})=>({query:e,matches:o})),Et(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(P(N_e),P(He))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g5(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function v5(n,t,e){const i=GE(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function _k(n,t,e){const r=GE(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function GE(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const y5="cdk-describedby-message",WE="cdk-describedby-host";let vk=0,B_e=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+vk++,this._document=e,this._id=De(O_)+"-"+vk++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=yk(i,r);"string"!=typeof i?(b5(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=yk(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${WE}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(WE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");b5(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(yk(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=GE(e,"aria-describedby").filter(r=>0!=r.indexOf(y5));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);v5(e,"aria-describedby",r.messageElement.id),e.setAttribute(WE,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,_k(e,"aria-describedby",r.messageElement.id),e.removeAttribute(WE)}_isElementDescribedByMessage(e,i){const r=GE(e,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(cr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yk(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function b5(n,t){n.id||(n.id=`${y5}-${t}-${vk++}`)}class w5{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H,this._typeaheadSubscription=dt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new H,this.change=new H,t instanceof wp&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(yi(e=>this._pressedLetters.push(e)),gk(t),fn(()=>this._pressedLetters.length>0),we(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Ca(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof wp?this._items.toArray():this._items}}class U_e extends w5{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class j_e extends w5{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let qE=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function z_e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function H_e(n){try{return n.frameElement}catch{return null}}(function Q_e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===E5(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=E5(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Y_e(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Z_e(n){return!function G_e(n){return function q_e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $_e(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function W_e(n){return function K_e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||C5(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function E5(n){if(!C5(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class X_e{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Dn(1)).subscribe(t)}}let bk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new X_e(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(qE),P(He),P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x5(n){return 0===n.buttons||0===n.detail}function D5(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const J_e=new ie("cdk-input-modality-detector-options"),eve={ignoreKeys:[18,17,224,91,16]},om=oc({passive:!0,capture:!0});let tve=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new C(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yd(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(x5(o)?"keyboard":"mouse"),this._mostRecentTarget=yd(o))},this._onTouchstart=o=>{D5(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yd(o))},this._options={...eve,...s},this.modalityDetected=this._modality.pipe(mR(1)),this.modalityChanged=this.modalityDetected.pipe(pt()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,om),r.addEventListener("mousedown",this._onMousedown,om),r.addEventListener("touchstart",this._onTouchstart,om)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,om),document.removeEventListener("mousedown",this._onMousedown,om),document.removeEventListener("touchstart",this._onTouchstart,om))}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr),P(He),P(mt),P(J_e,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nve=new ie("liveAnnouncerElement",{providedIn:"root",factory:function ive(){return null}}),rve=new ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let sve=0,ove=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+sve++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(nve,8),P(He),P(mt),P(rve,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ave=new ie("cdk-focus-monitor-default-options"),KE=oc({passive:!0,capture:!0});let am=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H,this._rootNodeFocusAndBlurListener=a=>{for(let c=yd(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=bd(e);if(!this._platform.isBrowser||1!==r.nodeType)return M();const s=function y_e(n){if(function v_e(){if(null==hk){const n=typeof document<"u"?document.head:null;hk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hk}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new H,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=bd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=bd(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=yd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,KE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,KE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(P(He),P(cr),P(tve),P(mt,8),P(ave,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I5="cdk-high-contrast-black-on-white",S5="cdk-high-contrast-white-on-black",wk="cdk-high-contrast-active";let A5=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=De(V_e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(wk,I5,S5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(wk,I5):2===i&&e.add(wk,S5)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr),P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ck=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(P(A5))};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[p5]})}return n})();const lve=new ie("cdk-dir-doc",{providedIn:"root",factory:function cve(){return De(mt)}}),dve=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wd=(()=>{class n{constructor(e){this.value="ltr",this.change=new Re,e&&(this.value=function uve(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?dve.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(P(lve,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ey=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const hve=["text"];function fve(n,t){if(1&n&&nt(0,"mat-pseudo-checkbox",6),2&n){const e=G();L("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function pve(n,t){1&n&&nt(0,"mat-pseudo-checkbox",7),2&n&&L("disabled",G().disabled)}function mve(n,t){if(1&n&&(A(0,"span",8),ne(1),R()),2&n){const e=G();O(1),Ln("(",e.group.label,")")}}const gve=[[["mat-icon"]],"*"],_ve=["mat-icon","*"],yve=new ie("mat-sanity-checks",{providedIn:"root",factory:function vve(){return!0}});let Kn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!pk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(P(A5),P(yve,8),P(mt))};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[ey,ey]})}return n})();function Ek(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t)}constructor(...t){super(...t),this._disabled=!1}}}function xk(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Dk(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Tk(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?sm(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function M5(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const bve=new ie("MAT_DATE_LOCALE",{providedIn:"root",factory:function wve(){return De(Wo)}});class sl{constructor(){this._localeChanges=new H,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Ik=new ie("mat-date-formats"),Cve=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Sk(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Eve=(()=>{class n extends sl{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Sk(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Sk(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Sk(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Cve.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(P(bve,8),P(cr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const xve={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Dve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[{provide:sl,useClass:Eve}]})}return n})(),Tve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[{provide:Ik,useValue:xve}],imports:[Dve]})}return n})(),P5=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ive{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const O5=oc({passive:!0,capture:!0});class Sve{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=yd(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,O5)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,O5)))}}const N5={enterDuration:225,exitDuration:150},F5=oc({passive:!0,capture:!0}),L5=["mousedown","touchstart"],V5=["mouseup","mouseleave","touchend","touchcancel"];class YE{static#e=this._eventManager=new Sve;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=bd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...N5,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function Rve(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const f=window.getComputedStyle(d),_=f.transitionDuration,v="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new Ive(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let E=null;return!v&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(b),k=()=>this._destroyRipple(b);d.addEventListener("transitionend",N),d.addEventListener("transitioncancel",k),E={onTransitionEnd:N,onTransitionCancel:k}}),this._activeRipples.set(b,E),(v||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...N5,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=bd(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,L5.forEach(i=>{YE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{V5.forEach(e=>{this._triggerElement.addEventListener(e,this,F5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=x5(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!D5(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(L5.forEach(e=>YE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&V5.forEach(e=>t.removeEventListener(e,this,F5)))}}const B5=new ie("mat-ripple-global-options");let ZE=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new YE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(He),w(cr),w(B5,8),w(Ms,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&it("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),Ak=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Kn]})}return n})(),kve=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(w(Ms,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&it("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Mve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn]})}return n})();const U5=new ie("MAT_OPTION_PARENT_COMPONENT"),j5=new ie("MatOptgroup");let Pve=0;class Ove{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Nve=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=gn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pve++,this.onSelectionChange=new Re,this._stateChanges=new H}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ca(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ove(this,e))}static#e=this.\u0275fac=function(i){Jc()};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&ln(hve,7),2&i){let s;ke(s=Me())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),H5=(()=>{class n extends Nve{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(zi),w(U5,8),w(j5,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&ge("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(wr("id",r.id),Ct("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),it("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[We],ngContentSelectors:_ve,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Or(gve),Q(0,fve,1,2,"mat-pseudo-checkbox",0),qt(1),A(2,"span",1,2),qt(4,1),R(),Q(5,pve,1,1,"mat-pseudo-checkbox",3),Q(6,mve,2,1,"span",4),nt(7,"div",5)),2&i&&(L("ngIf",r.multiple),O(5),L("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),O(1),L("ngIf",r.group&&r.group._inert),O(1),L("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[ZE,Ji,kve],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),z5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Ak,Ql,Kn,Mve]})}return n})();const $5={capture:!0},G5=["focus","click","mouseenter","touchstart"],Rk="mat-ripple-loader-uninitialized",kk="mat-ripple-loader-class-name",W5="mat-ripple-loader-centered",QE="mat-ripple-loader-disabled";let Vve=(()=>{class n{constructor(){this._document=De(mt,{optional:!0}),this._animationMode=De(Ms,{optional:!0}),this._globalRippleOptions=De(B5,{optional:!0}),this._platform=De(cr),this._ngZone=De(He),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${Rk}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of G5)this._document?.addEventListener(e,this._onInteraction,$5)})}ngOnDestroy(){for(const e of G5)this._document?.removeEventListener(e,this._onInteraction,$5)}configureRipple(e,i){e.setAttribute(Rk,""),(i.className||!e.hasAttribute(kk))&&e.setAttribute(kk,i.className||""),i.centered&&e.setAttribute(W5,""),i.disabled&&e.setAttribute(QE,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(QE,""):e.removeAttribute(QE)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(kk)),e.append(i);const r=new ZE(new Xe(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(W5),r.disabled=e.hasAttribute(QE),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(Rk),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bve=["mat-button",""],Uve=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],jve=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Hve=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zve=xk(Ek(Dk(class{constructor(n){this._elementRef=n}})));let $ve=(()=>{class n extends zve{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=gn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=De(am),this._rippleLoader=De(Vve),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=e.nativeElement.classList;for(const a of Hve)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Jc()};static#t=this.\u0275dir=X({type:n,features:[We]})}return n})(),Cd=(()=>{class n extends $ve{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(cr),w(He),w(Ms,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Ct("disabled",r.disabled||null),it("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[We],attrs:Bve,ngContentSelectors:jve,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Or(Uve),nt(0,"span",0),qt(1),A(2,"span",1),qt(3,1),R(),qt(4,2),nt(5,"span",2)(6,"span",3)),2&i&&it("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),q5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Ak,Kn]})}return n})();const qve=["*"];let XE;function ny(n){return function Kve(){if(void 0===XE&&(XE=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XE=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return XE}()?.createHTML(n)||n}function K5(n){return Error(`Unable to find icon with the name "${n}"`)}function Y5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Z5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class sh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let JE=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new sh(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const o=this._sanitizer.sanitize(Kr.HTML,r);if(!o)throw Z5(r);const a=ny(o);return this._addSvgIconConfig(e,i,new sh("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new sh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Kr.HTML,i);if(!s)throw Z5(i);const o=ny(s);return this._addSvgIconSetConfig(e,new sh("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Kr.RESOURCE_URL,e);if(!i)throw Y5(e);const r=this._cachedIconsByUrl.get(i);return r?M(ex(r)):this._loadSvgIconFromConfig(new sh(e,null)).pipe(yi(s=>this._cachedIconsByUrl.set(i,s)),we(s=>ex(s)))}getNamedSvgIcon(e,i=""){const r=Q5(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):ju(K5(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?M(ex(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(we(i=>ex(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?M(r):Zj(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(tc(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Kr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),M(null)})))).pipe(we(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw K5(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(yi(i=>e.svgText=i),we(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?M(null):this._fetchIcon(e).pipe(yi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(ny("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ny("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function Yve(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Kr.RESOURCE_URL,i);if(!o)throw Y5(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(we(c=>ny(c)),Hu(()=>this._inProgressUrlFetches.delete(o)),le());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Q5(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Qve(s)?new sh(s.url,null,s.options):new sh(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Yv,8),P(wA),P(mt,8),P($o))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ex(n){return n.cloneNode(!0)}function Q5(n,t){return n+":"+t}function Qve(n){return!(!n.url||!n.options)}const Xve=xk(class{constructor(n){this._elementRef=n}}),Jve=new ie("MAT_ICON_DEFAULT_OPTIONS"),eye=new ie("mat-icon-location",{providedIn:"root",factory:function tye(){const n=De(mt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),X5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nye=X5.map(n=>`[${n}]`).join(", "),iye=/^url\(['"]?#(.*?)['"]?\)$/;let Mk=(()=>{class n extends Xve{get inline(){return this._inline}set inline(e){this._inline=gn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,o,a){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=dt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(nye),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)X5.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(iye):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Dn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(JE),po("aria-hidden"),w(eye),w($o),w(Jve,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Ct("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),it("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[We],ngContentSelectors:qve,decls:1,vars:0,template:function(i,r){1&i&&(Or(),qt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),rye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Kn]})}return n})();function sye(n,t){1&n&&(vr(0),A(1,"div",1)(2,"div",2)(3,"ngb-toast",3)(4,"button",4)(5,"span",5)(6,"mat-icon"),ne(7,"restaurant"),R()(),A(8,"h3",6),ne(9,"Receptek"),R(),A(10,"span",5)(11,"mat-icon"),ne(12,"menu_book"),R()()()()(),A(13,"div",2)(14,"ngb-toast",7)(15,"button",8)(16,"span",5)(17,"mat-icon"),ne(18,"chat"),R()(),A(19,"h3",6),ne(20,"Chat"),R(),A(21,"span",5)(22,"mat-icon"),ne(23,"groups"),R()()()()(),A(24,"div",2)(25,"ngb-toast",9)(26,"button",10)(27,"span",5)(28,"mat-icon"),ne(29,"sunny"),R()(),A(30,"h3",6),ne(31,"Id\u0151j\xe1r\xe1s"),R(),A(32,"span",5),nt(33,"mat-icon"),R()()()(),A(34,"div",2)(35,"ngb-toast",11)(36,"button",12)(37,"span",5)(38,"mat-icon"),ne(39,"notes"),R()(),A(40,"h3",6),ne(41,"Jegyzetek"),R(),A(42,"span",5),nt(43,"mat-icon"),R()()()()(),yr()),2&n&&(O(3),L("autohide",!1),O(11),L("autohide",!1),O(11),L("autohide",!1),O(10),L("autohide",!1))}function oye(n,t){1&n&&(vr(0),A(1,"div",1)(2,"div",2)(3,"ngb-toast",13)(4,"button",14)(5,"span",5)(6,"mat-icon"),ne(7,"notes"),R()(),A(8,"h3",6),ne(9,"Regisztr\xe1ci\xf3"),R(),A(10,"span",5),nt(11,"mat-icon"),R()()()(),A(12,"div",2)(13,"ngb-toast",15)(14,"button",16)(15,"span",5)(16,"mat-icon"),ne(17,"notes"),R()(),A(18,"h3",6),ne(19,"Bejelentkez\xe9s"),R(),A(20,"span",5),nt(21,"mat-icon"),R()()()()(),yr()),2&n&&(O(3),L("autohide",!1),O(10),L("autohide",!1))}let aye=(()=>{class n{constructor(e,i){this.ngbTConfig=e,this.auth=i,this.userLoggedIn={},e.placement="bottom",e.tooltipClass="tooltippp",e.animation=!0,e.closeDelay=2e3}ngOnInit(){this.auth.isLoggedIn().subscribe(e=>this.userLoggedIn=e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(RE),w(sc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget1","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget1","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button",1,"greenButton"],[1,"icons"],[1,"d-inline"],["header","Chatelj az ismer\u0151seiddel",1,"tooltipTarget2","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget2","ngbTooltip","Egy chat-app, ahol felh\u0151tlen a besz\xe9lget\xe9s!","routerLink","chat","mat-raised-button","","color","accent","type","button",1,"blueButton"],["header","Tekintsd meg a jelenlegi id\u0151j\xe1r\xe1st",1,"tooltipTarget3","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget3","ngbTooltip","Id\u0151j\xe1r\xe1sjelent\xe9s","routerLink","weather","mat-raised-button","","color","accent","type","button",1,"orangeButton"],["header","Jegyzetek \xedr\xe1sa",1,"tooltipTarget4","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget4","ngbTooltip","\xcdrd meg a saj\xe1t jegyzeteid","routerLink","notes","mat-raised-button","","color","accent","type","button",1,"yellowButton"],["header","Regisztr\xe1ci\xf3",1,"tooltipTarget5","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget5","ngbTooltip","Regisztr\xe1lj e-mail c\xedmmel, vagy l\xe9pj be egy gombnyom\xe1sra Google-fi\xf3kkal","routerLink","signup","mat-raised-button","","color","accent","type","button",1,"greenButton"],["header","Bejelentkez\xe9s",1,"tooltipTarget6","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget6","ngbTooltip","L\xe9pj be e-mail c\xedmeddel, vagy Google-fi\xf3koddal, vagy telefonsz\xe1moddal egyszer\u0171en  ","routerLink","login","mat-raised-button","","color","accent","type","button",1,"blueButton"]],template:function(i,r){1&i&&(Q(0,sye,44,4,"ng-container",0),Q(1,oye,22,2,"ng-container",0)),2&i&&(L("ngIf",r.userLoggedIn),O(1),L("ngIf",!r.userLoggedIn))},dependencies:[Ji,fd,O$,ige,Cd,Mk],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}.greenButton{background-color:#2d752db3!important}.blueButton{background-color:#0f0fb4b3!important}.orangeButton{background-color:#c98913b3!important}\n"],encapsulation:2})}return n})();var ue=ct(861);const J5="@firebase/database";let Pk="";function Ok(n){Pk=n}class cye{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,I.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,I.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dye{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,I.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const t8=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cye(t)}}catch{}return new dye},oh=t8("localStorage"),Nk=t8("sessionStorage"),lm=new Eo.Yd("@firebase/database"),n8=function(){let n=1;return function(){return n++}}(),i8=function(n){const t=(0,I.dS)(n),e=new I.gQ;e.update(t);const i=e.digest();return I.US.encodeByteArray(i)},iy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=iy.apply(null,i):t+="object"==typeof i?(0,I.Wl)(i):i,t+=" "}return t};let ah=null,r8=!0;const s8=function(n,t){(0,I.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lm.logLevel=Eo.in.VERBOSE,ah=lm.log.bind(lm),t&&Nk.set("logging_enabled",!0)):"function"==typeof n?ah=n:(ah=null,Nk.remove("logging_enabled"))},Lr=function(...n){if(!0===r8&&(r8=!1,null===ah&&!0===Nk.get("logging_enabled")&&s8(!0)),ah){const t=iy.apply(null,n);ah(t)}},ry=function(n){return function(...t){Lr(n,...t)}},Fk=function(...n){const t="FIREBASE INTERNAL ERROR: "+iy(...n);lm.error(t)},ol=function(...n){const t=`FIREBASE FATAL ERROR: ${iy(...n)}`;throw lm.error(t),new Error(t)},ds=function(...n){const t="FIREBASE WARNING: "+iy(...n);lm.warn(t)},tx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ed="[MIN_NAME]",ac="[MAX_NAME]",lh=function(n,t){if(n===t)return 0;if(n===Ed||t===ac)return-1;if(t===Ed||n===ac)return 1;{const e=l8(n),i=l8(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},fye=function(n,t){return n===t?0:n<t?-1:1},sy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,I.Wl)(t))},Lk=function(n){if("object"!=typeof n||null===n)return(0,I.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,I.Wl)(t[i]),e+=":",e+=Lk(n[t[i]]);return e+="}",e},o8=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Vr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const a8=function(n){(0,I.hu)(!tx(n),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let m=parseInt(d.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},_ye=new RegExp("^-?(0*)\\d{1,10}$"),l8=function(n){if(_ye.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},cm=function(n){try{n()}catch(t){setTimeout(()=>{throw ds("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},oy=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class wye{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ds(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Cye{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Lr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ds(t)}}let ay=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const f8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g8="websocket",_8="long_polling";class Bk{constructor(t,e,i,r,s=!1,o="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&oh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function v8(n,t,e){let i;if((0,I.hu)("string"==typeof t,"typeof type must == string"),(0,I.hu)("object"==typeof e,"typeof params must == object"),t===g8)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==_8)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Eye(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Vr(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class xye{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,I.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,I.p$)(this.counters_)}}const Uk={},jk={};function Hk(n){const t=n.toString();return Uk[t]||(Uk[t]=new xye),Uk[t]}class Tye{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&cm(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xd{constructor(t,e,i,r,s,o,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ry(t),this.stats_=Hk(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),v8(e,_8,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Tye(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,I.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zk((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&f8.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xd.forceAllow_=!0}static forceDisallow(){xd.forceDisallow_=!0}static isAvailable(){return!((0,I.Yr)()||!xd.forceAllow_&&(xd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,I.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,I.h$)(e),r=o8(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,I.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,I.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class zk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=n8(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=zk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Lr("frame writing exception"),a.stack&&Lr(a.stack),Lr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Lr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,I.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Lr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let ix=null;typeof MozWebSocket<"u"?ix=MozWebSocket:typeof WebSocket<"u"&&(ix=WebSocket);let dm=(()=>{class n{constructor(e,i,r,s,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ry(this.connId),this.stats_=Hk(i),this.connURL=n.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const a={v:"5"};return!(0,I.Yr)()&&typeof location<"u"&&location.hostname&&f8.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),v8(e,g8,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oh.set("previous_websocket_failure",!0);try{let r;if((0,I.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Pk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new ix(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==ix&&!n.forceDisallow_}static previouslyFailed(){return oh.isInMemoryStorage||!0===oh.get("previous_websocket_failure")}markConnectionHealthy(){oh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,I.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,I.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,I.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=o8(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),D8=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xd,dm]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=dm&&dm.isAvailable();let r=i&&!dm.previouslyFailed();if(e.webSocketOnly&&(i||ds("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dm];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class M8{constructor(t,e,i,r,s,o,a,l,c,d){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ry("c:"+this.id+":"),this.transportManager_=new D8(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=oy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=sy("t",t),i=sy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=sy("t",t),i=sy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=sy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Fk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ds("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),oy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class P8{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class O8{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,I.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,I.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class rx extends O8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,I.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rx}getInitialEvent(t){return(0,I.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Vn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Tn(){return new Vn("")}function Xt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Dd(n){return n.pieces_.length-n.pieceNum_}function ni(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Vn(n.pieces_,t)}function Gk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ly(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function L8(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Vn(t,0)}function Si(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Vn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Vn(e,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function Ls(n,t){const e=Xt(n),i=Xt(t);if(null===e)return t;if(e===i)return Ls(ni(n),ni(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Kye(n,t){const e=ly(n,0),i=ly(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=lh(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function Wk(n,t){if(Dd(n)!==Dd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Xo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Dd(n)>Dd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Yye{constructor(t,e){this.errorPrefix_=e,this.parts_=ly(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,I.ug)(this.parts_[i]);V8(this)}}function V8(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ch(n))}function ch(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qk extends O8{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qk}getInitialEvent(t){return(0,I.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const cy=1e3;let ox,dh=(()=>{class n extends P8{constructor(e,i,r,s,o,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=ry("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,I.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,I.Wl)(o)),(0,I.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new I.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,I.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,d=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),"ok"!==d&&this.removeListen_(r,s),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,I.r3)(e,"w")){const r=(0,I.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();ds(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,I.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,I.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,I.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,I.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Fk("Unrecognized action received from server: "+(0,I.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,I.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ue.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,s())};e.realtime_={close:d,sendRequest:function(_){(0,I.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const m=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,v]=yield Promise.all([e.authTokenProvider_.getToken(m),e.appCheckTokenProvider_.getToken(m)]);l?Lr("getToken() completed but was canceled"):(Lr("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=v&&v.token,c=new M8(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,b=>{ds(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),l||(e.repoInfo_.nodeAdmin&&ds(_),d())}}})()}interrupt(e){Lr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,I.xb)(this.interruptReasons_)&&(this.reconnectDelay_=cy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>Lk(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Vn(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Lr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Lr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,I.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Pk.replace(/\./g,"-")]=1,(0,I.uI)()?e["framework.cordova"]=1:(0,I.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rx.getInstance().currentlyOnline();return(0,I.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class sn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new sn(t,e)}}class sx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new sn(Ed,t),r=new sn(Ed,e);return 0!==this.compare(i,r)}minPost(){return sn.MIN}}class j8 extends sx{static get __EMPTY_NODE(){return ox}static set __EMPTY_NODE(t){ox=t}compare(t,e){return lh(t.name,e.name)}isDefinedOn(t){throw(0,I.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return sn.MIN}maxPost(){return new sn(ac,ox)}makePost(t,e){return(0,I.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new sn(t,ox)}toString(){return".key"}}const al=new j8;class ax{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Yk,Ea=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??io.EMPTY_NODE,this.right=o??io.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return io.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return io.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class io{constructor(t,e=io.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new io(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ea.BLACK,null,null))}remove(t){return new io(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ea.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ax(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ax(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ax(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ax(this.root_,null,this.comparator_,!0,t)}}function ibe(n,t){return lh(n.name,t.name)}function Kk(n,t){return lh(n,t)}io.EMPTY_NODE=new class nbe{copy(t,e,i,r,s){return this}insert(t,e,i){return new Ea(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const H8=function(n){return"number"==typeof n?"number:"+a8(n):"string:"+n},z8=function(n){if(n.isLeafNode()){const t=n.val();(0,I.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,I.r3)(t,".sv"),"Priority must be a string or number.")}else(0,I.hu)(n===Yk||n.isEmpty(),"priority of unexpected type.");(0,I.hu)(n===Yk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $8,G8,W8,um=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,I.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),z8(this.priorityNode_)}static set __childrenNodeConstructor(e){$8=e}static get __childrenNodeConstructor(){return $8}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Jt(e)?this:".priority"===Xt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Xt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,I.hu)(".priority"!==r||1===Dd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ni(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+H8(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?a8(this.value_):this.value_,this.lazyHash_=i8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,I.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,I.hu)(s>=0,"Unknown leaf type: "+i),(0,I.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ci=new class abe extends sx{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?lh(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(ac,new um("[PRIORITY-POST]",W8))}makePost(t,e){const i=G8(t);return new sn(e,new um("[PRIORITY-POST]",i))}toString(){return".priority"}},lbe=Math.log(2);class cbe{constructor(t){this.count=parseInt(Math.log(t+1)/lbe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const lx=function(n,t,e,i){n.sort(t);const r=function(l,c){const d=c-l;let f,m;if(0===d)return null;if(1===d)return f=n[l],m=e?e(f):f,new Ea(m,f.node,Ea.BLACK,null,null);{const _=parseInt(d/2,10)+l,v=r(l,_),b=r(_+1,c);return f=n[_],m=e?e(f):f,new Ea(m,f.node,Ea.BLACK,v,b)}},a=function(l){let c=null,d=null,f=n.length;const m=function(v,b){const E=f-v,N=f;f-=v;const k=r(E+1,N),B=n[E],W=e?e(B):B;_(new Ea(W,B.node,b,null,k))},_=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const b=l.nextBitIsOne(),E=Math.pow(2,l.count-(v+1));b?m(E,Ea.BLACK):(m(E,Ea.BLACK),m(E,Ea.RED))}return d}(new cbe(n.length));return new io(i||t,a)};let Zk;const hm={};class lc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,I.hu)(hm&&ci,"ChildrenNode.ts has not been loaded"),Zk=Zk||new lc({".priority":hm},{".priority":ci}),Zk}get(t){const e=(0,I.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof io?e:null}hasIndex(t){return(0,I.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,I.hu)(t!==al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(sn.Wrap);let a,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?lx(i,t.getCompare()):hm;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new lc(d,c)}addToIndexes(t,e){const i=(0,I.UI)(this.indexes_,(r,s)=>{const o=(0,I.DV)(this.indexSet_,s);if((0,I.hu)(o,"Missing index implementation for "+s),r===hm){if(o.isDefinedOn(t.node)){const a=[],l=e.getIterator(sn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),lx(a,o.getCompare())}return hm}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new sn(t.name,a))),l.insert(t,t.node)}});return new lc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,I.UI)(this.indexes_,r=>{if(r===hm)return r;{const s=e.get(t.name);return s?r.remove(new sn(t.name,s)):r}});return new lc(i,this.indexSet_)}}let dy,Ft=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&z8(this.priorityNode_),this.children_.isEmpty()&&(0,I.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dy||(dy=new n(new io(Kk),null,lc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dy}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?dy:i}}getChild(e){const i=Xt(e);return null===i?this:this.getImmediateChild(i).getChild(ni(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,I.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new sn(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?dy:this.priorityNode_;return new n(s,a,o)}}updateChild(e,i){const r=Xt(e);if(null===r)return i;{(0,I.hu)(".priority"!==Xt(e)||1===Dd(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ni(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(ci,(a,l)=>{i[a]=l.val(e),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+H8(this.getPriority().val())+":"),this.forEachChild(ci,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":i8(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new sn(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new sn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new sn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,sn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,sn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uy?-1:0}withIndex(e){if(e===al||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===al||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ci),s=i.getIterator(ci);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(e){return e===al?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const uy=new class dbe extends Ft{constructor(){super(new io(Kk),Ft.EMPTY_NODE,lc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ft.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sn,{MIN:{value:new sn(Ed,Ft.EMPTY_NODE)},MAX:{value:new sn(ac,uy)}}),j8.__EMPTY_NODE=Ft.EMPTY_NODE,um.__childrenNodeConstructor=Ft,function rbe(n){Yk=n}(uy),function obe(n){W8=n}(uy);const ube=!0;function Li(n,t=null){if(null===n)return Ft.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,I.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new um(n,Li(t));if(n instanceof Array||!ube){let e=Ft.EMPTY_NODE;return Vr(n,(i,r)=>{if((0,I.r3)(n,i)&&"."!==i.substring(0,1)){const s=Li(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Li(t))}{const e=[];let i=!1;if(Vr(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Li(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new sn(o,l)))}}),0===e.length)return Ft.EMPTY_NODE;const s=lx(e,ibe,o=>o.name,Kk);if(i){const o=lx(e,ci.getCompare());return new Ft(s,Li(t),new lc({".priority":o},{".priority":ci}))}return new Ft(s,Li(t),lc.Default)}}!function sbe(n){G8=n}(Li);class Qk extends sx{constructor(t){super(),this.indexPath_=t,(0,I.hu)(!Jt(t)&&".priority"!==Xt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?lh(t.name,e.name):s}makePost(t,e){const i=Li(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new sn(e,r)}maxPost(){const t=Ft.EMPTY_NODE.updateChild(this.indexPath_,uy);return new sn(ac,t)}toString(){return ly(this.indexPath_,0).join("/")}}const Xk=new class hbe extends sx{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?lh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(t,e){const i=Li(t);return new sn(e,i)}toString(){return".value"}};function q8(n){return{type:"value",snapshotNode:n}}function fm(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function hy(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function fy(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Jk{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,I.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(hy(e,a)):(0,I.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(fm(e,i)):o.trackChildChange(fy(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ci,(r,s)=>{e.hasChild(r)||i.trackChildChange(hy(r,s))}),e.isLeafNode()||e.forEachChild(ci,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(fy(r,s,o))}else i.trackChildChange(fm(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class py{constructor(t){this.indexedFilter_=new Jk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=py.getStartPost_(t),this.endPost_=py.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new sn(e,i))||(i=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ft.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);const s=this;return e.forEachChild(ci,(o,a)=>{s.matches(new sn(o,a))||(r=r.updateImmediateChild(o,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class pbe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new py(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new sn(e,i))||(i=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Ft.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Ft.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(m,_)=>f(_,m)}else o=this.index_.getCompare();const a=t;(0,I.hu)(a.numChildren()===this.limit_,"");const l=new sn(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let m=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=m&&(m.name===e||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:o(m,l);if(d&&!i.isEmpty()&&_>=0)return s?.trackChildChange(fy(e,i,f)),a.updateImmediateChild(e,i);{s?.trackChildChange(hy(e,f));const b=a.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(s?.trackChildChange(fm(m.name,m.node)),b.updateImmediateChild(m.name,m.node)):b}}return i.isEmpty()?t:d&&o(c,l)>=0?(null!=s&&(s.trackChildChange(hy(c.name,c.node)),s.trackChildChange(fm(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,Ft.EMPTY_NODE)):t}}class cx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ci}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,I.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ed}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,I.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ac}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,I.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ci}copy(){const t=new cx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function eM(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function tM(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function dx(n,t){const e=n.copy();return e.index_=t,e}function K8(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ci?e="$priority":n.index_===Xk?e="$value":n.index_===al?e="$key":((0,I.hu)(n.index_ instanceof Qk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,I.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,I.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,I.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,I.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,I.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Y8(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ci&&(t.i=n.index_.toString()),t}class ux extends P8{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ry("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,I.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=ux.getListenId_(t,i),a={};this.listens_[o]=a;const l=K8(t._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let f=d;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(s,f,!1,i),(0,I.DV)(this.listens_,o)===a){let m;m=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(m,null)}})}unlisten(t,e){const i=ux.getListenId_(t,e);delete this.listens_[i]}get(t){const e=K8(t._queryParams),i=t._path.toString(),r=new I.BH;return this.restRequest_(i+".json",e,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,I.xO)(e);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,I.cI)(a.responseText)}catch{ds("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&ds("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class bbe{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function hx(){return{value:null,children:new Map}}function pm(n,t,e){if(Jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Xt(t);n.children.has(i)||n.children.set(i,hx()),pm(n.children.get(i),t=ni(t),e)}}function nM(n,t){if(Jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ci,(i,r)=>{pm(n,new Vn(i),r)}),nM(n,t)}}if(n.children.size>0){const e=Xt(t);return t=ni(t),n.children.has(e)&&nM(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function iM(n,t,e){null!==n.value?e(t,n.value):function wbe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{iM(r,new Vn(t.toString()+"/"+i),e)})}class Cbe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Vr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Dbe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Cbe(t);const i=1e4+2e4*Math.random();oy(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Vr(t,(r,s)=>{s>0&&(0,I.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),oy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ll=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ll||{});function oM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fx{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ll.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,I.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Vn(t));return new fx(Tn(),e,this.revert)}}return(0,I.hu)(Xt(this.path)===t,"operationForChild called for unrelated child."),new fx(ni(this.path),this.affectedTree,this.revert)}}class my{constructor(t,e){this.source=t,this.path=e,this.type=ll.LISTEN_COMPLETE}operationForChild(t){return Jt(this.path)?new my(this.source,Tn()):new my(this.source,ni(this.path))}}class uh{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ll.OVERWRITE}operationForChild(t){return Jt(this.path)?new uh(this.source,Tn(),this.snap.getImmediateChild(t)):new uh(this.source,ni(this.path),this.snap)}}class mm{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ll.MERGE}operationForChild(t){if(Jt(this.path)){const e=this.children.subtree(new Vn(t));return e.isEmpty()?null:e.value?new uh(this.source,Tn(),e.value):new mm(this.source,Tn(),e)}return(0,I.hu)(Xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new mm(this.source,ni(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Td{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Xt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Tbe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gy(n,t,e,i,r,s){const o=i.filter(a=>a.type===e);o.sort((a,l)=>function Abe(n,t,e){if(null==t.childName||null==e.childName)throw(0,I.g5)("Should only compare child_ events.");const i=new sn(t.childName,t.snapshotNode),r=new sn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),o.forEach(a=>{const l=function Sbe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function px(n,t){return{eventCache:n,serverCache:t}}function _y(n,t,e,i){return px(new Td(t,e,i),n.serverCache)}function Q8(n,t,e,i){return px(n.eventCache,new Td(t,e,i))}function mx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function hh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aM;class di{constructor(t,e=(()=>(aM||(aM=new io(fye)),aM))()){this.value=t,this.children=e}static fromObject(t){let e=new di(null);return Vr(t,(i,r)=>{e=e.set(new Vn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Tn(),value:this.value};if(Jt(t))return null;{const i=Xt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ni(t),e);return null!=s?{path:Si(new Vn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Jt(t))return this;{const e=Xt(t),i=this.children.get(e);return null!==i?i.subtree(ni(t)):new di(null)}}set(t,e){if(Jt(t))return new di(e,this.children);{const i=Xt(t),s=(this.children.get(i)||new di(null)).set(ni(t),e),o=this.children.insert(i,s);return new di(this.value,o)}}remove(t){if(Jt(t))return this.children.isEmpty()?new di(null):new di(null,this.children);{const e=Xt(t),i=this.children.get(e);if(i){const r=i.remove(ni(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new di(null):new di(this.value,s)}return this}}get(t){if(Jt(t))return this.value;{const e=Xt(t),i=this.children.get(e);return i?i.get(ni(t)):null}}setTree(t,e){if(Jt(t))return e;{const i=Xt(t),s=(this.children.get(i)||new di(null)).setTree(ni(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new di(this.value,o)}}fold(t){return this.fold_(Tn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Si(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Tn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Jt(t))return null;{const s=Xt(t),o=this.children.get(s);return o?o.findOnPath_(ni(t),Si(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Tn(),e)}foreachOnPath_(t,e,i){if(Jt(t))return this;{this.value&&i(e,this.value);const r=Xt(t),s=this.children.get(r);return s?s.foreachOnPath_(ni(t),Si(e,r),i):new di(null)}}foreach(t){this.foreach_(Tn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Si(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class xa{constructor(t){this.writeTree_=t}static empty(){return new xa(new di(null))}}function vy(n,t,e){if(Jt(t))return new xa(new di(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=Ls(r,t);return s=s.updateChild(o,e),new xa(n.writeTree_.set(r,s))}{const r=new di(e),s=n.writeTree_.setTree(t,r);return new xa(s)}}}function lM(n,t,e){let i=n;return Vr(e,(r,s)=>{i=vy(i,Si(t,r),s)}),i}function X8(n,t){if(Jt(t))return xa.empty();{const e=n.writeTree_.setTree(t,new di(null));return new xa(e)}}function cM(n,t){return null!=fh(n,t)}function fh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ls(e.path,t)):null}function J8(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ci,(i,r)=>{t.push(new sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new sn(i,r.value))}),t}function Id(n,t){if(Jt(t))return n;{const e=fh(n,t);return new xa(null!=e?new di(e):n.writeTree_.subtree(t))}}function dM(n){return n.writeTree_.isEmpty()}function gm(n,t){return eG(Tn(),n.writeTree_,t)}function eG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,I.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=eG(Si(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Si(n,".priority"),i)),e}}function gx(n,t){return sG(t,n)}function Nbe(n,t){if(n.snap)return Xo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Xo(Si(n.path,e),t))return!0;return!1}function Lbe(n){return n.visible}function tG(n,t,e){let i=xa.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let a;if(s.snap)Xo(e,o)?(a=Ls(e,o),i=vy(i,a,s.snap)):Xo(o,e)&&(a=Ls(o,e),i=vy(i,Tn(),s.snap.getChild(a)));else{if(!s.children)throw(0,I.g5)("WriteRecord should have .snap or .children");if(Xo(e,o))a=Ls(e,o),i=lM(i,a,s.children);else if(Xo(o,e))if(a=Ls(o,e),Jt(a))i=lM(i,Tn(),s.children);else{const l=(0,I.DV)(s.children,Xt(a));if(l){const c=l.getChild(ni(a));i=vy(i,Tn(),c)}}}}}return i}function nG(n,t,e,i,r){if(i||r){const s=Id(n.visibleWrites,t);return!r&&dM(s)?e:r||null!=e||cM(s,Tn())?gm(tG(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Xo(c.path,t)||Xo(t,c.path))},t),e||Ft.EMPTY_NODE):null}{const s=fh(n.visibleWrites,t);if(null!=s)return s;{const o=Id(n.visibleWrites,t);return dM(o)?e:null!=e||cM(o,Tn())?gm(o,e||Ft.EMPTY_NODE):null}}}function _x(n,t,e,i){return nG(n.writeTree,n.treePath,t,e,i)}function uM(n,t){return function Vbe(n,t,e){let i=Ft.EMPTY_NODE;const r=fh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ci,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=Id(n.visibleWrites,t);return e.forEachChild(ci,(o,a)=>{const l=gm(Id(s,new Vn(o)),a);i=i.updateImmediateChild(o,l)}),J8(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return J8(Id(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function iG(n,t,e,i){return function Bbe(n,t,e,i,r){(0,I.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Si(t,e);if(cM(n.visibleWrites,s))return null;{const o=Id(n.visibleWrites,s);return dM(o)?r.getChild(e):gm(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function vx(n,t){return function jbe(n,t){return fh(n.visibleWrites,t)}(n.writeTree,Si(n.treePath,t))}function hM(n,t,e){return function Ube(n,t,e,i){const r=Si(t,e),s=fh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?gm(Id(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function rG(n,t){return sG(Si(n.treePath,t),n.writeTree)}function sG(n,t){return{treePath:n,writeTree:t}}class Gbe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,I.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,I.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,fy(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,hy(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,fm(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,I.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,fy(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const oG=new class Wbe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class fM{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Td(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hM(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hh(this.viewCache_),s=function $be(n,t,e,i,r,s){return function Hbe(n,t,e,i,r,s,o){let a;const l=Id(n.visibleWrites,t),c=fh(l,Tn());if(null!=c)a=c;else{if(null==e)return[];a=gm(l,e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const d=[],f=o.getCompare(),m=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let _=m.getNext();for(;_&&d.length<r;)0!==f(_,i)&&d.push(_),_=m.getNext();return d}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function aG(n,t,e,i,r,s){const o=t.eventCache;if(null!=vx(i,e))return t;{let a,l;if(Jt(e))if((0,I.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=hh(t),f=uM(i,c instanceof Ft?c:Ft.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const c=_x(i,hh(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=Xt(e);if(".priority"===c){(0,I.hu)(1===Dd(e),"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const f=iG(i,e,d,l);a=null!=f?n.filter.updatePriority(d,f):o.getNode()}else{const d=ni(e);let f;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const m=iG(i,e,o.getNode(),l);f=null!=m?o.getNode().getImmediateChild(c).updateChild(d,m):o.getNode().getImmediateChild(c)}else f=hM(i,c,t.serverCache);a=null!=f?n.filter.updateChild(o.getNode(),c,f,d,r,s):o.getNode()}}return _y(t,a,o.isFullyInitialized()||Jt(e),n.filter.filtersNodes())}}function yx(n,t,e,i,r,s,o,a){const l=t.serverCache;let c;const d=o?n.filter:n.filter.getIndexedFilter();if(Jt(e))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(e,i);c=d.updateFullNode(l.getNode(),_,null)}else{const _=Xt(e);if(!l.isCompleteForPath(e)&&Dd(e)>1)return t;const v=ni(e),E=l.getNode().getImmediateChild(_).updateChild(v,i);c=".priority"===_?d.updatePriority(l.getNode(),E):d.updateChild(l.getNode(),_,E,v,oG,null)}const f=Q8(t,c,l.isFullyInitialized()||Jt(e),d.filtersNodes());return aG(n,f,e,r,new fM(r,f,s),a)}function pM(n,t,e,i,r,s,o){const a=t.eventCache;let l,c;const d=new fM(r,t,s);if(Jt(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,o),l=_y(t,c,!0,n.filter.filtersNodes());else{const f=Xt(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=_y(t,c,a.isFullyInitialized(),a.isFiltered());else{const m=ni(e),_=a.getNode().getImmediateChild(f);let v;if(Jt(m))v=i;else{const b=d.getCompleteChild(f);v=null!=b?".priority"===Gk(m)&&b.getChild(L8(m)).isEmpty()?b:b.updateChild(m,i):Ft.EMPTY_NODE}l=_.equals(v)?t:_y(t,n.filter.updateChild(a.getNode(),f,v,m,d,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function lG(n,t){return n.eventCache.isCompleteForChild(t)}function cG(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function mM(n,t,e,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Jt(e)?i:new di(null).setTree(e,i);const d=t.serverCache.getNode();return c.children.inorderTraversal((f,m)=>{if(d.hasChild(f)){const v=cG(0,t.serverCache.getNode().getImmediateChild(f),m);l=yx(n,l,new Vn(f),v,r,s,o,a)}}),c.children.inorderTraversal((f,m)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===m.value;if(!d.hasChild(f)&&!_){const b=cG(0,t.serverCache.getNode().getImmediateChild(f),m);l=yx(n,l,new Vn(f),b,r,s,o,a)}}),l}class t0e{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Jk(i.getIndex()),s=function mbe(n){return n.loadsAllData()?new Jk(n.getIndex()):n.hasLimit()?new pbe(n):new py(n)}(i);this.processor_=function qbe(n){return{filter:n}}(s);const o=e.serverCache,a=e.eventCache,l=r.updateFullNode(Ft.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ft.EMPTY_NODE,a.getNode(),null),d=new Td(l,o.isFullyInitialized(),r.filtersNodes()),f=new Td(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=px(f,d),this.eventGenerator_=new Tbe(this.query_)}get query(){return this.query_}}function r0e(n,t){const e=hh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Jt(t)&&!e.getImmediateChild(Xt(t)).isEmpty())?e.getChild(t):null}function dG(n){return 0===n.eventRegistrations_.length}function uG(n,t,e){const i=[];if(e){(0,I.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function hG(n,t,e,i){t.type===ll.MERGE&&null!==t.source.queryId&&((0,I.hu)(hh(n.viewCache_),"We should always have a full cache before handling merges"),(0,I.hu)(mx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Ybe(n,t,e,i,r){const s=new Gbe;let o,a;if(e.type===ll.OVERWRITE){const c=e;c.source.fromUser?o=pM(n,t,c.path,c.snap,i,r,s):((0,I.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Jt(c.path),o=yx(n,t,c.path,c.snap,i,r,a,s))}else if(e.type===ll.MERGE){const c=e;c.source.fromUser?o=function Qbe(n,t,e,i,r,s,o){let a=t;return i.foreach((l,c)=>{const d=Si(e,l);lG(t,Xt(d))&&(a=pM(n,a,d,c,r,s,o))}),i.foreach((l,c)=>{const d=Si(e,l);lG(t,Xt(d))||(a=pM(n,a,d,c,r,s,o))}),a}(n,t,c.path,c.children,i,r,s):((0,I.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=mM(n,t,c.path,c.children,i,r,a,s))}else if(e.type===ll.ACK_USER_WRITE){const c=e;o=c.revert?function e0e(n,t,e,i,r,s){let o;if(null!=vx(i,e))return t;{const a=new fM(i,t,r),l=t.eventCache.getNode();let c;if(Jt(e)||".priority"===Xt(e)){let d;if(t.serverCache.isFullyInitialized())d=_x(i,hh(t));else{const f=t.serverCache.getNode();(0,I.hu)(f instanceof Ft,"serverChildren would be complete if leaf node"),d=uM(i,f)}c=n.filter.updateFullNode(l,d,s)}else{const d=Xt(e);let f=hM(i,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),c=null!=f?n.filter.updateChild(l,d,f,ni(e),a,s):t.eventCache.getNode().hasChild(d)?n.filter.updateChild(l,d,Ft.EMPTY_NODE,ni(e),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=_x(i,hh(t)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=vx(i,Tn()),_y(t,c,o,n.filter.filtersNodes())}}(n,t,c.path,i,r,s):function Xbe(n,t,e,i,r,s,o){if(null!=vx(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Jt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return yx(n,t,e,l.getNode().getChild(e),r,s,a,o);if(Jt(e)){let c=new di(null);return l.getNode().forEachChild(al,(d,f)=>{c=c.set(new Vn(d),f)}),mM(n,t,e,c,r,s,a,o)}return t}{let c=new di(null);return i.foreach((d,f)=>{const m=Si(e,d);l.isCompleteForPath(m)&&(c=c.set(d,l.getNode().getChild(m)))}),mM(n,t,e,c,r,s,a,o)}}(n,t,c.path,c.affectedTree,i,r,s)}else{if(e.type!==ll.LISTEN_COMPLETE)throw(0,I.g5)("Unknown operation type: "+e.type);o=function Jbe(n,t,e,i,r){const s=t.serverCache;return aG(n,Q8(t,s.getNode(),s.isFullyInitialized()||Jt(e),s.isFiltered()),e,i,oG,r)}(n,t,e.path,i,s)}const l=s.getChanges();return function Zbe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=mx(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(q8(mx(t)))}}(t,o,l),{viewCache:o,changes:l}}(n.processor_,r,t,e,i);return function Kbe(n,t){(0,I.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,I.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,I.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,fG(n,s.changes,s.viewCache.eventCache.getNode(),null)}function fG(n,t,e,i){return function Ibe(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function fbe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),gy(n,r,"child_removed",t,i,e),gy(n,r,"child_added",t,i,e),gy(n,r,"child_moved",s,i,e),gy(n,r,"child_changed",t,i,e),gy(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let bx,Cx;class pG{constructor(){this.views=new Map}}function gM(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,I.hu)(null!=s,"SyncTree gave us an op for an invalid query."),hG(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(hG(o,t,e,i));return s}}function mG(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let a=_x(e,r?i:null),l=!1;a?l=!0:i instanceof Ft?(a=uM(e,i),l=!1):(a=Ft.EMPTY_NODE,l=!1);const c=px(new Td(a,l,!1),new Td(i,r,!1));return new t0e(t,c)}return o}function gG(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Sd(n,t){let e=null;for(const i of n.views.values())e=e||r0e(i,t);return e}function _G(n,t){return t._queryParams.loadsAllData()?wx(n):n.views.get(t._queryIdentifier)}function vG(n,t){return null!=_G(n,t)}function Ad(n){return null!=wx(n)}function wx(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let p0e=1;class yG{constructor(t){this.listenProvider_=t,this.syncPointTree_=new di(null),this.pendingWriteTree_=function zbe(){return{visibleWrites:xa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _M(n,t,e,i,r){return function kbe(n,t,e,i,r){(0,I.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=vy(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?_m(n,new uh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Rd(n,t,e=!1){const i=function Pbe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Obe(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,I.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=e&&Nbe(a,i.path)?r=!1:Xo(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function Fbe(n){n.visibleWrites=tG(n.allWrites,Lbe,Tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=X8(n.visibleWrites,i.path):Vr(i.children,l=>{n.visibleWrites=X8(n.visibleWrites,Si(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let s=new di(null);return null!=i.snap?s=s.set(Tn(),!0):Vr(i.children,o=>{s=s.set(new Vn(o),!0)}),_m(n,new fx(i.path,s,e))}return[]}function yy(n,t,e){return _m(n,new uh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Ex(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||vG(o,t))){const l=function u0e(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const a=Ad(n);if("default"===r)for(const[l,c]of n.views.entries())o=o.concat(uG(c,e,i)),dG(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(r);l&&(o=o.concat(uG(l,e,i)),dG(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ad(n)&&s.push(new(function l0e(){return(0,I.hu)(bx,"Reference.ts has not been loaded"),bx}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function c0e(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const d=-1!==c.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(s,(m,_)=>Ad(_));if(d&&!f){const m=n.syncPointTree_.subtree(s);if(!m.isEmpty()){const _=function w0e(n){return n.fold((t,e,i)=>{if(e&&Ad(e))return[wx(e)];{let r=[];return e&&(r=gG(e)),Vr(i,(s,o)=>{r=r.concat(o)}),r}})}(m);for(let v=0;v<_.length;++v){const b=_[v],E=b.query,N=EG(n,b);n.listenProvider_.startListening(wy(E),by(n,E),N.hashFn,N.onComplete)}}}!f&&c.length>0&&!i&&(d?n.listenProvider_.stopListening(wy(t),null):c.forEach(m=>{const _=n.queryToTagMap.get(Dx(m));n.listenProvider_.stopListening(wy(m),_)}))}!function C0e(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Dx(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,c)}return a}function bG(n,t,e,i){const r=yM(n,i);if(null!=r){const s=bM(r),o=s.path,a=s.queryId,l=Ls(o,t);return wM(n,o,new uh(oM(a),l,e))}return[]}function vM(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const v=Ls(m,r);s=s||Sd(_,v),o=o||Ad(_)});let l,a=n.syncPointTree_.get(r);a?(o=o||Ad(a),s=s||Sd(a,Tn())):(a=new pG,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=s?l=!0:(l=!1,s=Ft.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,v)=>{const b=Sd(v,Tn());b&&(s=s.updateImmediateChild(_,b))}));const c=vG(a,t);if(!c&&!t._queryParams.loadsAllData()){const m=Dx(t);(0,I.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function E0e(){return p0e++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function d0e(n,t,e,i,r,s){const o=mG(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function s0e(n,t){n.eventRegistrations_.push(t)}(o,e),function o0e(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ci,(s,o)=>{i.push(fm(s,o))}),e.isFullyInitialized()&&i.push(q8(e.getNode())),fG(n,i,e.getNode(),t)}(o,e)}(a,t,e,gx(n.pendingWriteTree_,r),s,l);if(!c&&!o&&!i){const m=_G(a,t);f=f.concat(function x0e(n,t,e){const i=t._path,r=by(n,t),s=EG(n,e),o=n.listenProvider_.startListening(wy(t),r,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,I.hu)(!Ad(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!Jt(c)&&d&&Ad(d))return[wx(d).query];{let m=[];return d&&(m=m.concat(gG(d).map(_=>_.query))),Vr(f,(_,v)=>{m=m.concat(v)}),m}});for(let c=0;c<l.length;++c){const d=l[c];n.listenProvider_.stopListening(wy(d),by(n,d))}}return o}(n,t,m))}return f}function xx(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,a)=>{const c=Sd(a,Ls(o,t));if(c)return c});return nG(r,t,s,e,!0)}function _m(n,t){return wG(t,n.syncPointTree_,null,gx(n.pendingWriteTree_,Tn()))}function wG(n,t,e,i){if(Jt(n.path))return CG(n,t,e,i);{const r=t.get(Tn());null==e&&null!=r&&(e=Sd(r,Tn()));let s=[];const o=Xt(n.path),a=n.operationForChild(o),l=t.children.get(o);if(l&&a){const c=e?e.getImmediateChild(o):null,d=rG(i,o);s=s.concat(wG(a,l,c,d))}return r&&(s=s.concat(gM(r,n,i,e))),s}}function CG(n,t,e,i){const r=t.get(Tn());null==e&&null!=r&&(e=Sd(r,Tn()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=e?e.getImmediateChild(o):null,c=rG(i,o),d=n.operationForChild(o);d&&(s=s.concat(CG(d,a,l,c)))}),r&&(s=s.concat(gM(r,n,i,e))),s}function EG(n,t){const e=t.query,i=by(n,e);return{hashFn:()=>(function n0e(n){return n.viewCache_.serverCache.getNode()}(t)||Ft.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function v0e(n,t,e){const i=yM(n,e);if(i){const r=bM(i),s=r.path,o=r.queryId,a=Ls(s,t);return wM(n,s,new my(oM(o),a))}return[]}(n,e._path,i):function _0e(n,t){return _m(n,new my({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function gye(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Ex(n,e,null,s)}}}}function by(n,t){const e=Dx(t);return n.queryToTagMap.get(e)}function Dx(n){return n._path.toString()+"$"+n._queryIdentifier}function yM(n,t){return n.tagToQueryMap.get(t)}function bM(n){const t=n.indexOf("$");return(0,I.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Vn(n.substr(0,t))}}function wM(n,t,e){const i=n.syncPointTree_.get(t);return(0,I.hu)(i,"Missing sync point for query tag that we're tracking"),gM(i,e,gx(n.pendingWriteTree_,t),null)}function wy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function f0e(){return(0,I.hu)(Cx,"Reference.ts has not been loaded"),Cx}())(n._repo,n._path):n}class CM{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new CM(e)}node(){return this.node_}}class EM{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Si(this.path_,t);return new EM(this.syncTree_,e)}node(){return xx(this.syncTree_,this.path_)}}const D0e=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},xG=function(n,t,e){return n&&"object"==typeof n?((0,I.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?T0e(n[".sv"],t,e):"object"==typeof n[".sv"]?I0e(n[".sv"],t):void(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},T0e=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,I.hu)(!1,"Unexpected server value: "+n)},I0e=function(n,t,e){n.hasOwnProperty("increment")||(0,I.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,I.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,I.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},DG=function(n,t,e,i){return DM(t,new EM(e,n),i)},xM=function(n,t,e){return DM(n,new CM(t),e)};function DM(n,t,e){const i=n.getPriority().val(),r=xG(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,a=xG(o.getValue(),t,e);return a!==o.getValue()||r!==o.getPriority().val()?new um(a,Li(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new um(r))),o.forEachChild(ci,(a,l)=>{const c=DM(l,t.getImmediateChild(a),e);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class TM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Tx(n,t){let e=t instanceof Vn?t:new Vn(t),i=n,r=Xt(e);for(;null!==r;){const s=(0,I.DV)(i.node.children,r)||{children:{},childCount:0};i=new TM(r,i,s),e=ni(e),r=Xt(e)}return i}function ph(n){return n.node.value}function IM(n,t){n.node.value=t,SM(n)}function TG(n){return n.node.childCount>0}function Ix(n,t){Vr(n.node.children,(e,i)=>{t(new TM(e,n,i))})}function IG(n,t,e,i){e&&!i&&t(n),Ix(n,r=>{IG(r,t,!0,i)}),e&&i&&t(n)}function Cy(n){return new Vn(null===n.parent?n.name:Cy(n.parent)+"/"+n.name)}function SM(n){null!==n.parent&&function R0e(n,t,e){const i=function S0e(n){return void 0===ph(n)&&!TG(n)}(e),r=(0,I.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,SM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,SM(n))}(n.parent,n.name,n)}const k0e=/[\[\].#$\/\u0000-\u001F\u007F]/,M0e=/[\[\].#$\u0000-\u001F\u007F]/,AM=10485760,Sx=function(n){return"string"==typeof n&&0!==n.length&&!k0e.test(n)},SG=function(n){return"string"==typeof n&&0!==n.length&&!M0e.test(n)},Ey=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!tx(n)||n&&"object"==typeof n&&(0,I.r3)(n,".sv")},cl=function(n,t,e,i){i&&void 0===t||xy((0,I.gK)(n,"value"),t,e)},xy=function(n,t,e){const i=e instanceof Vn?new Yye(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ch(i));if("function"==typeof t)throw new Error(n+"contains a function "+ch(i)+" with contents = "+t.toString());if(tx(t))throw new Error(n+"contains "+t.toString()+" "+ch(i));if("string"==typeof t&&t.length>AM/3&&(0,I.ug)(t)>AM)throw new Error(n+"contains a string greater than "+AM+" utf8 bytes "+ch(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Vr(t,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Sx(o)))throw new Error(n+" contains an invalid key ("+o+") "+ch(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zye(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,I.ug)(t),V8(n)})(i,o),xy(n,a,i),function Qye(n){const t=n.parts_.pop();n.byteLength_-=(0,I.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+ch(i)+" in addition to actual children.")}},AG=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,I.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Vr(t,(o,a)=>{const l=new Vn(o);if(xy(r,a,Si(e,l)),".priority"===Gk(l)&&!Ey(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=ly(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!Sx(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Kye);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Xo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},RM=function(n,t,e){if(!e||void 0!==t){if(tx(t))throw new Error((0,I.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ey(t))throw new Error((0,I.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dy=function(n,t,e,i){if(!(i&&void 0===e||Sx(e)))throw new Error((0,I.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ty=function(n,t,e,i){if(!(i&&void 0===e||SG(e)))throw new Error((0,I.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},N0e=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ty(n,t,e,i)},Jo=function(n,t){if(".info"===Xt(t))throw new Error(n+" failed = Can't modify data under /.info/")},RG=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sx(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),SG(n)}(e))throw new Error((0,I.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class F0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ax(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!Wk(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function kG(n,t,e){Ax(n,e),MG(n,i=>Wk(i,t))}function Do(n,t,e){Ax(n,e),MG(n,i=>Xo(i,t)||Xo(t,i))}function MG(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(L0e(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function L0e(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();ah&&Lr("event: "+e.toString()),cm(i)}}}const PG="repo_interrupt",V0e=25;class B0e{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new F0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hx(),this.transactionQueueTree_=new TM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OG(n){const e=n.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Iy(n){return D0e({timestamp:OG(n)})}function NG(n,t,e,i,r){n.dataUpdateCount++;const s=new Vn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const l=(0,I.UI)(e,c=>Li(c));o=function y0e(n,t,e,i){const r=yM(n,i);if(r){const s=bM(r),o=s.path,a=s.queryId,l=Ls(o,t),c=di.fromObject(e);return wM(n,o,new mm(oM(a),l,c))}return[]}(n.serverSyncTree_,s,l,r)}else{const l=Li(e);o=bG(n.serverSyncTree_,s,l,r)}else if(i){const l=(0,I.UI)(e,c=>Li(c));o=function g0e(n,t,e){const i=di.fromObject(e);return _m(n,new mm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,l)}else{const l=Li(e);o=yy(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ym(n,s)),Do(n.eventQueue_,a,o)}function FG(n,t){kM(n,"connected",t),!1===t&&function $0e(n){vm(n,"onDisconnectEvents");const t=Iy(n),e=hx();iM(n.onDisconnect_,Tn(),(r,s)=>{const o=DG(r,s,n.serverSyncTree_,t);pm(e,r,o)});let i=[];iM(e,Tn(),(r,s)=>{i=i.concat(yy(n.serverSyncTree_,r,s));const o=NM(n,r);ym(n,o)}),n.onDisconnect_=hx(),Do(n.eventQueue_,Tn(),i)}(n)}function kM(n,t,e){const i=new Vn("/.info/"+t),r=Li(e);n.infoData_.updateSnapshot(i,r);const s=yy(n.infoSyncTree_,i,r);Do(n.eventQueue_,i,s)}function Rx(n){return n.nextWriteId_++}function MM(n,t,e,i,r){vm(n,"set",{path:t.toString(),value:e,priority:i});const s=Iy(n),o=Li(e,i),a=xx(n.serverSyncTree_,t),l=xM(o,a,s),c=Rx(n),d=_M(n.serverSyncTree_,t,l,c,!0);Ax(n.eventQueue_,d),n.server_.put(t.toString(),o.val(!0),(m,_)=>{const v="ok"===m;v||ds("set at "+t+" failed: "+m);const b=Rd(n.serverSyncTree_,c,!v);Do(n.eventQueue_,t,b),kd(0,r,m,_)});const f=NM(n,t);ym(n,f),Do(n.eventQueue_,f,[])}function G0e(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&nM(n.onDisconnect_,t),kd(0,e,i,r)})}function LG(n,t,e,i){const r=Li(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&pm(n.onDisconnect_,t,r),kd(0,i,s,o)})}function PM(n,t,e){let i;i=".info"===Xt(t._path)?Ex(n.infoSyncTree_,t,e):Ex(n.serverSyncTree_,t,e),kG(n.eventQueue_,t._path,i)}function VG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(PG)}function vm(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Lr(e,...t)}function kd(n,t,e,i){t&&cm(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function OM(n,t,e){return xx(n.serverSyncTree_,t,e)||Ft.EMPTY_NODE}function kx(n,t=n.transactionQueueTree_){if(t||Mx(n,t),ph(t)){const e=UG(n,t);(0,I.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Q0e(n,t,e){const i=e.map(c=>c.currentWriteId),r=OM(n,t,i);let s=r;const o=r.hash();for(let c=0;c<e.length;c++){const d=e[c];(0,I.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Ls(t,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;n.server_.put(l.toString(),a,c=>{vm(n,"transaction put response",{path:l.toString(),status:c});let d=[];if("ok"===c){const f=[];for(let m=0;m<e.length;m++)e[m].status=2,d=d.concat(Rd(n.serverSyncTree_,e[m].currentWriteId)),e[m].onComplete&&f.push(()=>e[m].onComplete(null,!0,e[m].currentOutputSnapshotResolved)),e[m].unwatcher();Mx(n,Tx(n.transactionQueueTree_,t)),kx(n,n.transactionQueueTree_),Do(n.eventQueue_,t,d);for(let m=0;m<f.length;m++)cm(f[m])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{ds("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}ym(n,t)}},o)}(n,Cy(t),e)}else TG(t)&&Ix(t,e=>{kx(n,e)})}function ym(n,t){const e=BG(n,t),i=Cy(e);return function X0e(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Ls(e,l.path);let f,d=!1;if((0,I.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,f=l.abortReason,r=r.concat(Rd(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=V0e)d=!0,f="maxretry",r=r.concat(Rd(n.serverSyncTree_,l.currentWriteId,!0));else{const m=OM(n,l.path,o);l.currentInputSnapshot=m;const _=t[a].update(m.val());if(void 0!==_){xy("transaction failed: Data returned ",_,l.path);let v=Li(_);"object"==typeof _&&null!=_&&(0,I.r3)(_,".priority")||(v=v.updatePriority(m.getPriority()));const E=l.currentWriteId,N=Iy(n),k=xM(v,m,N);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=k,l.currentWriteId=Rx(n),o.splice(o.indexOf(E),1),r=r.concat(_M(n.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),r=r.concat(Rd(n.serverSyncTree_,E,!0))}else d=!0,f="nodata",r=r.concat(Rd(n.serverSyncTree_,l.currentWriteId,!0))}Do(n.eventQueue_,e,r),r=[],d&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}Mx(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)cm(i[a]);kx(n,n.transactionQueueTree_)}(n,UG(n,e),i),i}function BG(n,t){let e,i=n.transactionQueueTree_;for(e=Xt(t);null!==e&&void 0===ph(i);)i=Tx(i,e),e=Xt(t=ni(t));return i}function UG(n,t){const e=[];return jG(n,t,e),e.sort((i,r)=>i.order-r.order),e}function jG(n,t,e){const i=ph(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Ix(t,r=>{jG(n,r,e)})}function Mx(n,t){const e=ph(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,IM(t,e.length>0?e:void 0)}Ix(t,i=>{Mx(n,i)})}function NM(n,t){const e=Cy(BG(n,t)),i=Tx(n.transactionQueueTree_,t);return function A0e(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{FM(n,r)}),FM(n,i),IG(i,r=>{FM(n,r)}),e}function FM(n,t){const e=ph(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,I.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,I.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(Rd(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?IM(t,void 0):e.length=s+1,Do(n.eventQueue_,Cy(t),r);for(let o=0;o<i.length;o++)cm(i[o])}}const LM=function(n,t){const e=twe(n),i=e.namespace;return"firebase.com"===e.domain&&ol(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ol("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ds("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Bk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Vn(e.pathString)}},twe=function(n){let t="",e="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");-1===d&&(d=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(d,f)),d<f&&(r=function J0e(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(d,f)));const m=function ewe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ds(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const _=t.slice(0,c);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const v=t.indexOf(".");i=t.substring(0,v).toLowerCase(),e=t.substring(v+1),s=i}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},HG="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nwe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=HG.charAt(e%64),e=Math.floor(e/64);(0,I.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=HG.charAt(t[r]);return(0,I.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class zG{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.Wl)(this.snapshot.exportVal())}}class $G{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,I.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class GG{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new I.BH;return G0e(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Jo("OnDisconnect.remove",this._path);const t=new I.BH;return LG(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Jo("OnDisconnect.set",this._path),cl("OnDisconnect.set",t,this._path,!1);const e=new I.BH;return LG(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Jo("OnDisconnect.setWithPriority",this._path),cl("OnDisconnect.setWithPriority",t,this._path,!1),RM("OnDisconnect.setWithPriority",e,!1);const i=new I.BH;return function W0e(n,t,e,i,r){const s=Li(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,a)=>{"ok"===o&&pm(n.onDisconnect_,t,s),kd(0,r,o,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Jo("OnDisconnect.update",this._path),AG("OnDisconnect.update",t,this._path,!1);const e=new I.BH;return function q0e(n,t,e,i){if((0,I.xb)(e))return Lr("onDisconnect().update() called with empty data.  Don't do anything."),void kd(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Vr(e,(o,a)=>{const l=Li(a);pm(n.onDisconnect_,Si(t,o),l)}),kd(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ro{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:Gk(this._path)}get ref(){return new ea(this._repo,this._path)}get _queryIdentifier(){const t=Y8(this._queryParams),e=Lk(t);return"{}"===e?"default":e}get _queryObject(){return Y8(this._queryParams)}isEqual(t){if(!((t=(0,I.m9)(t))instanceof ro))return!1;const e=this._repo===t._repo,i=Wk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qye(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Px(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Md(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===al){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ed)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ac)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ci){if(null!=t&&!Ey(t)||null!=e&&!Ey(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.hu)(n.getIndex()instanceof Qk||n.getIndex()===Xk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ox(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ea extends ro{constructor(t,e){super(t,e,new cx,!1)}get parent(){const t=L8(this._path);return null===t?null:new ea(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class mh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Vn(t),i=gh(this.ref,t);return new mh(this._node.getChild(e),i,ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new mh(r,gh(this.ref,i),ci)))}hasChild(t){const e=new Vn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function WG(n,t){return(n=(0,I.m9)(n))._checkNotDeleted("ref"),void 0!==t?gh(n._root,t):n._root}function qG(n,t){(n=(0,I.m9)(n))._checkNotDeleted("refFromURL");const e=LM(t,n._repo.repoInfo_.nodeAdmin);RG("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ol("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),WG(n,e.path.toString())}function gh(n,t){return null===Xt((n=(0,I.m9)(n))._path)?N0e("child","path",t,!1):Ty("child","path",t,!1),new ea(n._repo,Si(n._path,t))}function BM(n,t){n=(0,I.m9)(n),Jo("set",n._path),cl("set",t,n._path,!1);const e=new I.BH;return MM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function awe(n,t){AG("update",t,n._path,!1);const e=new I.BH;return function z0e(n,t,e,i){vm(n,"update",{path:t.toString(),value:e});let r=!0;const s=Iy(n),o={};if(Vr(e,(a,l)=>{r=!1,o[a]=DG(Si(t,a),Li(l),n.serverSyncTree_,s)}),r)Lr("update() called with empty data.  Don't do anything."),kd(0,i,"ok",void 0);else{const a=Rx(n),l=function m0e(n,t,e,i){!function Mbe(n,t,e,i){(0,I.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=lM(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=di.fromObject(e);return _m(n,new mm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,a);Ax(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,d)=>{const f="ok"===c;f||ds("update at "+t+" failed: "+c);const m=Rd(n.serverSyncTree_,a,!f),_=m.length>0?ym(n,t):t;Do(n.eventQueue_,_,m),kd(0,i,c,d)}),Vr(e,c=>{const d=NM(n,Si(t,c));ym(n,d)}),Do(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function lwe(n){n=(0,I.m9)(n);const t=new VM(()=>{}),e=new Sy(t);return function H0e(n,t,e){const i=function b0e(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,d)=>{const f=Ls(c,e);i=i||Sd(d,f)});let r=n.syncPointTree_.get(e);r?i=i||Sd(r,Tn()):(r=new pG,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Td(i,!0,!1):null;return function i0e(n){return mx(n.viewCache_)}(mG(r,t,gx(n.pendingWriteTree_,t._path),s?o.getNode():Ft.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Li(r).withIndex(t._queryParams.getIndex());let o;if(vM(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=yy(n.serverSyncTree_,t._path,s);else{const a=by(n.serverSyncTree_,t);o=bG(n.serverSyncTree_,t._path,s,a)}return Do(n.eventQueue_,t._path,o),Ex(n.serverSyncTree_,t,e,null,!0),s},r=>(vm(n,"get for query "+(0,I.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new mh(i,new ea(n._repo,n._path),n._queryParams.getIndex()))}class Sy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new zG("value",this,new mh(t.snapshotNode,new ea(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $G(this,t,e):null}matches(t){return t instanceof Sy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Nx{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $G(this,t,e):null}createEvent(t,e){(0,I.hu)(null!=t.childName,"Child events should have a childName.");const i=gh(new ea(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new zG(t.type,this,new mh(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Nx&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ay(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const l=e,c=(d,f)=>{PM(n._repo,n,a),l(d,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const o=new VM(e,s||void 0),a="value"===t?new Sy(o):new Nx(t,o);return function K0e(n,t,e){let i;i=".info"===Xt(t._path)?vM(n.infoSyncTree_,t,e):vM(n.serverSyncTree_,t,e),kG(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>PM(n._repo,n,a)}function UM(n,t,e,i){return Ay(n,"value",t,e,i)}function KG(n,t,e,i){return Ay(n,"child_added",t,e,i)}function YG(n,t,e,i){return Ay(n,"child_changed",t,e,i)}function ZG(n,t,e,i){return Ay(n,"child_moved",t,e,i)}function QG(n,t,e,i){return Ay(n,"child_removed",t,e,i)}function XG(n,t,e){let i=null;const r=e?new VM(e):null;"value"===t?i=new Sy(r):t&&(i=new Nx(t,r)),PM(n._repo,n,i)}class Da{}class JG extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cl("endAt",this._value,t._path,!0);const e=tM(t._queryParams,this._value,this._key);if(Ox(e),Md(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(t._repo,t._path,e,t._orderByCalled)}}class dwe extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cl("endBefore",this._value,t._path,!1);const e=function ybe(n,t,e){let i;return i=tM(n,t,n.index_===al||e?e:Ed),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Ox(e),Md(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(t._repo,t._path,e,t._orderByCalled)}}class eW extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cl("startAt",this._value,t._path,!0);const e=eM(t._queryParams,this._value,this._key);if(Ox(e),Md(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(t._repo,t._path,e,t._orderByCalled)}}class fwe extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cl("startAfter",this._value,t._path,!1);const e=function vbe(n,t,e){let i;return i=eM(n,t,n.index_===al||e?e:ac),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Ox(e),Md(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(t._repo,t._path,e,t._orderByCalled)}}class mwe extends Da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(t._repo,t._path,function gbe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class _we extends Da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(t._repo,t._path,function _be(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ywe extends Da{constructor(t){super(),this._path=t}_apply(t){Px(t,"orderByChild");const e=new Vn(this._path);if(Jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Qk(e),r=dx(t._queryParams,i);return Md(r),new ro(t._repo,t._path,r,!0)}}class wwe extends Da{_apply(t){Px(t,"orderByKey");const e=dx(t._queryParams,al);return Md(e),new ro(t._repo,t._path,e,!0)}}class Ewe extends Da{_apply(t){Px(t,"orderByPriority");const e=dx(t._queryParams,ci);return Md(e),new ro(t._repo,t._path,e,!0)}}class Dwe extends Da{_apply(t){Px(t,"orderByValue");const e=dx(t._queryParams,Xk);return Md(e),new ro(t._repo,t._path,e,!0)}}class Iwe extends Da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(cl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new JG(this._value,this._key)._apply(new eW(this._value,this._key)._apply(t))}}function Ta(n,...t){let e=(0,I.m9)(n);for(const i of t)e=i._apply(e);return e}(function a0e(n){(0,I.hu)(!bx,"__referenceConstructor has already been defined"),bx=n})(ea),function h0e(n){(0,I.hu)(!Cx,"__referenceConstructor has already been defined"),Cx=n}(ea);const jM={};function HM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ol("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=LM(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=LM(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const d=r&&l?new ay(ay.OWNER):new Cye(n.name,n.options,t);RG("Invalid Firebase Database URL",o),Jt(o.path)||ol("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Mwe(n,t,e,i){let r=jM[t.name];r||(r={},jM[t.name]=r);let s=r[n.toURLString()];return s&&ol("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new B0e(n,false,e,i),r[n.toURLString()]=s,s}(a,n,d,new wye(n.name,e));return new Owe(f,n)}class Owe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function U0e(n,t,e){if(n.stats_=Hk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ux(n.repoInfo_,(i,r,s,o)=>{NG(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>FG(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new dh(n.repoInfo_,t,(i,r,s,o)=>{NG(n,i,r,s,o)},i=>{FG(n,i)},i=>{!function j0e(n,t){Vr(t,(e,i)=>{kM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Dye(n,t){const e=n.toString();return jk[e]||(jk[e]=t()),jk[e]}(n.repoInfo_,()=>new Dbe(n.stats_,n.server_)),n.infoData_=new bbe,n.infoSyncTree_=new yG({startListening:(i,r,s,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=yy(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),kM(n,"connected",!1),n.serverSyncTree_=new yG({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Do(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ea(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kwe(n,t){const e=jM[t];(!e||e[n.key]!==n)&&ol(`Database ${t}(${n.repoInfo_}) has already been deleted.`),VG(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ol("Cannot call "+t+" on a deleted database.")}}function nW(){D8.IS_TRANSPORT_INITIALIZED&&ds("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Nwe(){nW(),xd.forceDisallow()}function Fwe(){nW(),dm.forceDisallow(),xd.forceAllow()}function Bwe(n,t){s8(n,t)}const jwe={".sv":"timestamp"};class $we{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}dh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},dh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Uwe(n){Ok(cs.SDK_VERSION),(0,cs._registerComponent)(new wa.wA("database",(t,{instanceIdentifier:e})=>HM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,cs.registerVersion)(J5,"1.0.1",n),(0,cs.registerVersion)(J5,"1.0.1","esm2017")}();const Kwe=new Eo.Yd("@firebase/database-compat"),rW=function(n){Kwe.warn("FIREBASE WARNING: "+n)};class Qwe{constructor(t){this._delegate=t}cancel(t){(0,I.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,I.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,I.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,I.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,I.Dv)("OnDisconnect.set",1,2,arguments.length),(0,I.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,I.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,I.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,rW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Xwe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,I.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Pd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,I.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,I.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,I.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,I.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,I.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ty("DataSnapshot.child","path",t,!1),new Pd(this._database,this._delegate.child(t))}hasChild(t){return(0,I.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ty("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,I.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,I.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,I.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Pd(this._database,e)))}hasChildren(){return(0,I.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,I.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,I.Dv)("DataSnapshot.ref",0,0,arguments.length),new To(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Qr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,I.Dv)("Query.on",2,4,arguments.length),(0,I.Wj)("Query.on","callback",e,!1);const o=Qr.getCancelAndContextArgs_("Query.on",i,r),a=(c,d)=>{e.call(o.context,new Pd(this.database,c),d)};a.userCallback=e,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return UM(this._delegate,a,l),e;case"child_added":return KG(this._delegate,a,l),e;case"child_removed":return QG(this._delegate,a,l),e;case"child_changed":return YG(this._delegate,a,l),e;case"child_moved":return ZG(this._delegate,a,l),e;default:throw new Error((0,I.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,I.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,I.Wj)("Query.off","callback",e,!0),(0,I.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,XG(this._delegate,t,r)}else XG(this._delegate,t)}get(){return lwe(this._delegate).then(t=>new Pd(this.database,t))}once(t,e,i,r){(0,I.Dv)("Query.once",1,4,arguments.length),(0,I.Wj)("Query.once","callback",e,!0);const s=Qr.getCancelAndContextArgs_("Query.once",i,r),o=new I.BH,a=(c,d)=>{const f=new Pd(this.database,c);e&&e.call(s.context,f,d),o.resolve(f)};a.userCallback=e,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(t){case"value":UM(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":KG(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":QG(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":YG(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":ZG(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,I.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,I.Dv)("Query.limitToFirst",1,1,arguments.length),new Qr(this.database,Ta(this._delegate,function gwe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mwe(n)}(t)))}limitToLast(t){return(0,I.Dv)("Query.limitToLast",1,1,arguments.length),new Qr(this.database,Ta(this._delegate,function vwe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _we(n)}(t)))}orderByChild(t){return(0,I.Dv)("Query.orderByChild",1,1,arguments.length),new Qr(this.database,Ta(this._delegate,function bwe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ty("orderByChild","path",n,!1),new ywe(n)}(t)))}orderByKey(){return(0,I.Dv)("Query.orderByKey",0,0,arguments.length),new Qr(this.database,Ta(this._delegate,function Cwe(){return new wwe}()))}orderByPriority(){return(0,I.Dv)("Query.orderByPriority",0,0,arguments.length),new Qr(this.database,Ta(this._delegate,function xwe(){return new Ewe}()))}orderByValue(){return(0,I.Dv)("Query.orderByValue",0,0,arguments.length),new Qr(this.database,Ta(this._delegate,function Twe(){return new Dwe}()))}startAt(t=null,e){return(0,I.Dv)("Query.startAt",0,2,arguments.length),new Qr(this.database,Ta(this._delegate,function hwe(n=null,t){return Dy("startAt","key",t,!0),new eW(n,t)}(t,e)))}startAfter(t=null,e){return(0,I.Dv)("Query.startAfter",0,2,arguments.length),new Qr(this.database,Ta(this._delegate,function pwe(n,t){return Dy("startAfter","key",t,!0),new fwe(n,t)}(t,e)))}endAt(t=null,e){return(0,I.Dv)("Query.endAt",0,2,arguments.length),new Qr(this.database,Ta(this._delegate,function cwe(n,t){return Dy("endAt","key",t,!0),new JG(n,t)}(t,e)))}endBefore(t=null,e){return(0,I.Dv)("Query.endBefore",0,2,arguments.length),new Qr(this.database,Ta(this._delegate,function uwe(n,t){return Dy("endBefore","key",t,!0),new dwe(n,t)}(t,e)))}equalTo(t,e){return(0,I.Dv)("Query.equalTo",1,2,arguments.length),new Qr(this.database,Ta(this._delegate,function Swe(n,t){return Dy("equalTo","key",t,!0),new Iwe(n,t)}(t,e)))}toString(){return(0,I.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,I.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,I.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,I.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,I.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,I.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new To(this.database,new ea(this._delegate._repo,this._delegate._path))}}class To extends Qr{constructor(t,e){super(t,new ro(e._repo,e._path,new cx,!1)),this.database=t,this._delegate=e}getKey(){return(0,I.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,I.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new To(this.database,gh(this._delegate,t))}getParent(){(0,I.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new To(this.database,t):null}getRoot(){return(0,I.Dv)("Reference.root",0,0,arguments.length),new To(this.database,this._delegate.root)}set(t,e){(0,I.Dv)("Reference.set",1,2,arguments.length),(0,I.Wj)("Reference.set","onComplete",e,!0);const i=BM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,I.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,rW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jo("Reference.update",this._delegate._path),(0,I.Wj)("Reference.update","onComplete",e,!0);const i=awe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,I.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,I.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function owe(n,t,e){if(Jo("setWithPriority",n._path),cl("setWithPriority",t,n._path,!1),RM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new I.BH;return MM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,I.Dv)("Reference.remove",0,1,arguments.length),(0,I.Wj)("Reference.remove","onComplete",t,!0);const e=function rwe(n){return Jo("remove",n._path),BM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,I.Dv)("Reference.transaction",1,3,arguments.length),(0,I.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,I.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,I.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Gwe(n,t,e){var i;if(n=(0,I.m9)(n),Jo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new I.BH,a=UM(n,()=>{});return function Z0e(n,t,e,i,r,s){vm(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:n8(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=OM(n,t,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{xy("transaction failed: Data returned ",l,o.path),o.status=0;const c=Tx(n.transactionQueueTree_,t),d=ph(c)||[];let f;d.push(o),IM(c,d),"object"==typeof l&&null!==l&&(0,I.r3)(l,".priority")?(f=(0,I.DV)(l,".priority"),(0,I.hu)(Ey(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(xx(n.serverSyncTree_,t)||Ft.EMPTY_NODE).getPriority().val();const m=Iy(n),_=Li(l,f),v=xM(_,a,m);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=v,o.currentWriteId=Rx(n);const b=_M(n.serverSyncTree_,t,v,o.currentWriteId,o.applyLocally);Do(n.eventQueue_,t,b),kx(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,d)=>{let f=null;l?s.reject(l):(f=new mh(d,new ea(n._repo,n._path),ci),s.resolve(new $we(c,f)))},a,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Xwe(s.committed,new Pd(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,I.Dv)("Reference.setPriority",1,2,arguments.length),(0,I.Wj)("Reference.setPriority","onComplete",e,!0);const i=function swe(n,t){n=(0,I.m9)(n),Jo("setPriority",n._path),RM("setPriority",t,!1);const e=new I.BH;return MM(n._repo,Si(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,I.Dv)("Reference.push",0,2,arguments.length),(0,I.Wj)("Reference.push","onComplete",e,!0);const i=function iwe(n,t){n=(0,I.m9)(n),Jo("push",n._path),cl("push",t,n._path,!0);const e=OG(n._repo),i=nwe(e),r=gh(n,i),s=gh(n,i);let o;return o=null!=t?BM(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new To(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new To(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Jo("Reference.onDisconnect",this._delegate._path),new Qwe(new GG(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ry{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Nwe,forceLongPolling:Fwe}}useEmulator(t,e,i={}){!function iW(n,t,e,i={}){(n=(0,I.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ol("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ol('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ay(ay.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,I.Sg)(i.mockUserToken,n.app.options.projectId);s=new ay(o)}!function Rwe(n,t,e,i){n.repoInfo_=new Bk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,I.Dv)("database.ref",0,1,arguments.length),t instanceof To){const e=qG(this._delegate,t.toString());return new To(this,e)}{const e=WG(this._delegate,t);return new To(this,e)}}refFromURL(t){(0,I.Dv)("database.refFromURL",1,1,arguments.length);const i=qG(this._delegate,t);return new To(this,i)}goOffline(){return(0,I.Dv)("database.goOffline",0,0,arguments.length),function Lwe(n){(n=(0,I.m9)(n))._checkNotDeleted("goOffline"),VG(n._repo)}(this._delegate)}goOnline(){return(0,I.Dv)("database.goOnline",0,0,arguments.length),function Vwe(n){(n=(0,I.m9)(n))._checkNotDeleted("goOnline"),function Y0e(n){n.persistentConnection_&&n.persistentConnection_.resume(PG)}(n._repo)}(this._delegate)}}Ry.ServerValue={TIMESTAMP:function Hwe(){return jwe}(),increment:n=>function zwe(n){return{".sv":{increment:n}}}(n)};var eCe=Object.freeze({__proto__:null,initStandalone:function Jwe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){Ok(e);const a=new wa.H0("database-standalone"),l=new wa.zt("auth-internal",a);let c;return l.setComponent(new wa.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new wa.zt("app-check-internal",a),c.setComponent(new wa.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Ry(HM(n,l,c,t,o),n),namespace:s}}});const tCe=Ry.ServerValue;function ky(n,t,e="on",i=Gu){return new ut(r=>{let s=null;return s=n[e](t,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe(we(r=>{const{snapshot:s,prevKey:o}=r;let a=null;return s.exists()&&(a=s.key),{type:t,payload:s,prevKey:o,key:a}}),le())}function sW(n){return null==n}function oW(n){return"function"==typeof n.set}function aW(n,t){return oW(t)?t:n.ref(t)}function lW(n,t){if(function iCe(n){return"string"==typeof n}(n))return t.stringCase();if(oW(n))return t.firebaseCase();if(function rCe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function cW(n){return(sW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function dW(n,t,e){return T(...(t=cW(t)).map(r=>ky(n,r,"on",e)))}function uW(n,t){return function(i,r){return lW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function lCe(n){return function(e){return e?lW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function hW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function uCe(n,t){const{payload:e,prevKey:i,key:r}=t,s=hW(n,r),o=function dCe(n,t){if(sW(t))return 0;{const e=hW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(s>-1){const a=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,a),n}return n;default:return n}}function fW(n,t,e){return function cCe(n,t,e){return ky(n,"value","once",e).pipe($e(i=>{const r=[M(i)];return t.forEach(s=>r.push(ky(n,s,"on",e))),T(...r).pipe(Pp(uCe,[]))}),pt())}(n,t=cW(t),e)}function pW(n,t){return function(){return ky(n,"value","on",t)}}!function nCe(n){n.INTERNAL.registerComponent(new wa.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Ry(r,i)},"PUBLIC").setServiceProps({Reference:To,Query:Qr,Database:Ry,DataSnapshot:Pd,enableLogging:Bwe,INTERNAL:eCe,ServerValue:tCe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(xo.Z);const pCe=new ie("angularfire2.realtimeDatabaseURL"),mCe=new ie("angularfire2.database.use-emulator");let zM=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,a,l,c,d,f,m,_,v,b,E){this.schedulers=a;const N=l,k=Qv(e,o,i);c&&dk(k,o,d,m,_,v,f,b),this.database=VE(`${k.name}.database.${r}`,"AngularFireDatabase",k.name,()=>{const B=o.runOutsideAngular(()=>k.database(r||void 0));return N&&B.useEmulator(...N),B},[N])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>aW(this.database,e));let s=r;return i&&(s=i(r)),function hCe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:uW(i,"update"),set:uW(i,"set"),push:r=>i.push(r),remove:lCe(i),snapshotChanges:r=>fW(n,r,e).pipe(er),stateChanges:r=>dW(n,r,e).pipe(er),auditTrail:r=>function sCe(n,t,e){return function aCe(n,t,e){return function oCe(n,t){return ky(n,"value","on",t).pipe(we(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(dE(t),we(([r,s])=>{const o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function lye(n){return he((t,e)=>{let i=!1,r=0;t.subscribe(Se(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),we(r=>r.actions))}(n,dW(n,t).pipe(Pp((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(er),valueChanges:(r,s)=>fW(n,r,e).pipe(we(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),er)}}(s,this)}object(e){return function fCe(n,t){return{query:n,snapshotChanges:()=>pW(n,t.schedulers.outsideAngular)().pipe(er),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>pW(n,t.schedulers.outsideAngular)().pipe(er,we(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>aW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(P(nm),P(im,8),P(pCe,8),P(_o),P(He),P(ME),P(mCe,8),P(Xv,8),P(rk,8),P(sk,8),P(ok,8),P(ak,8),P(lk,8),P(ck,8),P(kE,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),gCe=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",Xp.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ge({providers:[zM]})}return n})();const mW="firebasestorage.googleapis.com",gW="storageBucket";class Vi extends I.ZR{constructor(t,e,i=0){super($M(t),`Firebase Storage: ${e} (${$M(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $M(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ai=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ai||{});function $M(n){return"storage/"+n}function GM(){return new Vi(Ai.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _W(){return new Vi(Ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vW(){return new Vi(Ai.CANCELED,"User canceled the upload/download.")}function yW(){return new Vi(Ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bm(n){return new Vi(Ai.INVALID_ARGUMENT,n)}function bW(){return new Vi(Ai.APP_DELETED,"The Firebase app was deleted.")}function wW(n){return new Vi(Ai.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function My(n,t){return new Vi(Ai.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Py(n){throw new Vi(Ai.INTERNAL_ERROR,"Internal error: "+n)}class us{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=us.makeFromUrl(t,e)}catch{return new us(t,"")}if(""===i.path)return i;throw function TCe(n){return new Vi(Ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(W){W.path_=decodeURIComponent(W.path)}const f=e.replace(/[.]/g,"\\."),B=[{regex:a,indices:{bucket:1,path:3},postModify:function s(W){"/"===W.path.charAt(W.path.length-1)&&(W.path_=W.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===mW?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let W=0;W<B.length;W++){const de=B[W],Ie=de.regex.exec(t);if(Ie){let st=Ie[de.indices.path];st||(st=""),i=new us(Ie[de.indices.bucket],st),de.postModify(i);break}}if(null==i)throw function DCe(n){return new Vi(Ai.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class kCe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Fx(n){return"string"==typeof n||n instanceof String}function CW(n){return WM()&&n instanceof Blob}function WM(){return typeof Blob<"u"&&!(0,I.UG)()}function qM(n,t,e,i){if(i<t)throw bm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw bm(`Invalid value for '${n}'. Expected ${e} or less.`)}function cc(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function EW(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var wm=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(wm||{});function xW(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class LCe{constructor(t,e,i,r,s,o,a,l,c,d,f,m=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,v)=>{this.resolve_=_,this.reject_=v,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function OCe(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=GM();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(r.canceled?this.appDelete_?bW():vW():_W())};this.canceled_?e(0,new Lx(!1,null,!0)):this.backoffId_=function MCe(n,t,e){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function d(...E){c||(c=!0,t.apply(null,E))}function f(E){r=setTimeout(()=>{r=null,n(_,l())},E)}function m(){s&&clearTimeout(s)}function _(E,...N){if(c)return void m();if(E)return m(),void d.call(null,E,...N);if(l()||o)return m(),void d.call(null,E,...N);let B;i<64&&(i*=2),1===a?(a=2,B=0):B=1e3*(i+Math.random()),f(B)}let v=!1;function b(E){v||(v=!0,m(),!c&&(null!==r?(E||(a=2),clearTimeout(r),f(0)):E||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,b(!0)},e),b}((i,r)=>{if(r)return void i(!1,new Lx(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===wm.NO_ERROR,l=s.getStatus();if(!a||xW(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===wm.ABORT;return void i(!1,new Lx(!1,null,d))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new Lx(c,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function PCe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lx{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function $Ce(...n){const t=function zCe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(WM())return new Blob(n);throw new Vi(Ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Io={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class KM{constructor(t,e){this.data=t,this.contentType=e||null}}function YM(n,t){switch(n){case Io.RAW:return new KM(DW(t));case Io.BASE64:case Io.BASE64URL:return new KM(TW(n,t));case Io.DATA_URL:return new KM(function KCe(n){const t=new IW(n);return t.base64?TW(Io.BASE64,t.rest):function qCe(n){let t;try{t=decodeURIComponent(n)}catch{throw My(Io.DATA_URL,"Malformed data URL.")}return DW(t)}(t.rest)}(t),function YCe(n){return new IW(n).contentType}(t))}throw GM()}function DW(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function TW(n,t){switch(n){case Io.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw My(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Io.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw My(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function WCe(n){if(typeof atob>"u")throw function RCe(n){return new Vi(Ai.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:My(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class IW{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw My(Io.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ZCe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class dl{constructor(t,e){let i=0,r="";CW(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(CW(this.data_)){const r=function GCe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new dl(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new dl(i,!0)}}static getBlob(...t){if(WM()){const e=t.map(i=>i instanceof dl?i.data_:i);return new dl($Ce.apply(null,e))}{const e=t.map(o=>Fx(o)?YM(Io.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new dl(r,!0)}}uploadData(){return this.data_}}function ZM(n){let t;try{t=JSON.parse(n)}catch{return null}return function FCe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function SW(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function JCe(n,t){return t}class Vs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||JCe}}let Vx=null;function Oy(){if(Vx)return Vx;const n=[];n.push(new Vs("bucket")),n.push(new Vs("generation")),n.push(new Vs("metageneration")),n.push(new Vs("name","fullPath",!0));const e=new Vs("name");e.xform=function t(s,o){return function eEe(n){return!Fx(n)||n.length<2?n:SW(n)}(o)},n.push(e);const r=new Vs("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Vs("timeCreated")),n.push(new Vs("updated")),n.push(new Vs("md5Hash",null,!0)),n.push(new Vs("cacheControl",null,!0)),n.push(new Vs("contentDisposition",null,!0)),n.push(new Vs("contentEncoding",null,!0)),n.push(new Vs("contentLanguage",null,!0)),n.push(new Vs("contentType",null,!0)),n.push(new Vs("metadata","customMetadata",!0)),Vx=n,Vx}function AW(n,t,e){const i=ZM(t);return null===i?null:function nEe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function tEe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new us(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function QM(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const RW="prefixes",kW="items";class ul{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hl(n){if(!n)throw GM()}function Bx(n,t){return function e(i,r){const s=AW(n,r,t);return hl(null!==s),s}}function Cm(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function ECe(){return new Vi(Ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function CCe(){return new Vi(Ai.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function wCe(n){return new Vi(Ai.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function xCe(n){return new Vi(Ai.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Ny(n){const t=Cm(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function bCe(n){return new Vi(Ai.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function MW(n,t,e){const r=cc(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ul(r,"GET",Bx(n,e),o);return a.errorHandler=Ny(t),a}function lEe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const a=cc(t.bucketOnlyServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new ul(a,"GET",function oEe(n,t){return function e(i,r){const s=function sEe(n,t,e){const i=ZM(e);return null===i?null:function rEe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[RW])for(const r of e[RW]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new us(t,s));i.prefixes.push(o)}if(e[kW])for(const r of e[kW]){const s=n._makeStorageReference(new us(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return hl(null!==s),s}}(n,t.bucket),c);return d.urlParams=s,d.errorHandler=Cm(t),d}function OW(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function hEe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class Ux{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function XM(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{hl(!1)}return hl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const gEe={STATE_CHANGED:"state_changed"},Bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JM(n){switch(n){case"running":case"pausing":case"canceling":return Bs.RUNNING;case"paused":return Bs.PAUSED;case"success":return Bs.SUCCESS;case"canceled":return Bs.CANCELED;default:return Bs.ERROR}}class _Ee{constructor(t,e,i){if(function NCe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Em(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let LW=null;class vEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Py("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Py("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Py("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Py("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Py("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class yEe extends vEe{initXhr(){this.xhr_.responseType="text"}}function Ia(){return LW?LW():new yEe}class VW{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Oy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ai.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(xW(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=_W()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ai.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function fEe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=OW(t,i,r),a={name:o.fullPath},l=cc(s,n.host,n._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=QM(o,e),v=new ul(l,"POST",function _(b){let E;XM(b);try{E=b.getResponseHeader("X-Goog-Upload-URL")}catch{hl(!1)}return hl(Fx(E)),E},n.maxUploadRetryTime);return v.urlParams=a,v.headers=d,v.body=f,v.errorHandler=Cm(t),v}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ia,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function pEe(n,t,e,i){const l=new ul(e,"POST",function s(c){const d=XM(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hl(!1)}f||hl(!1);const m=Number(f);return hl(!isNaN(m)),new Ux(m,i.size(),"final"===d)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Cm(t),l}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Ia,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Ux(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function mEe(n,t,e,i,r,s,o,a){const l=new Ux(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function SCe(){return new Vi(Ai.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let d=c;r>0&&(d=Math.min(d,r));const f=l.current;let _="";_=0===d?"finalize":c===d?"upload, finalize":"upload";const v={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${l.current}`},b=i.slice(f,f+d);if(null===b)throw yW();const B=new ul(e,"POST",function E(W,de){const Ie=XM(W,["active","final"]),Le=l.current+d,st=i.size();let on;return on="final"===Ie?Bx(t,s)(W,de):null,new Ux(Le,st,"final"===Ie,on)},t.maxUploadRetryTime);return B.headers=v,B.body=b.uploadData(),B.progressCallback=a||null,B.errorHandler=Cm(n),B}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,Ia,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=MW(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ia,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function NW(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let B="";for(let W=0;W<2;W++)B+=Math.random().toString().slice(2);return B}();o["Content-Type"]="multipart/related; boundary="+l;const c=OW(t,i,r),d=QM(c,e),_=dl.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===_)throw yW();const v={name:c.fullPath},b=cc(s,n.host,n._protocol),N=n.maxUploadRetryTime,k=new ul(b,"POST",Bx(n,e),N);return k.urlParams=v,k.headers=o,k.body=_.uploadData(),k.errorHandler=Cm(t),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ia,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=vW(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=JM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new _Ee(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(JM(this._state)){case Bs.SUCCESS:Em(this._resolve.bind(null,this.snapshot))();break;case Bs.CANCELED:case Bs.ERROR:Em(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(JM(this._state)){case Bs.RUNNING:case Bs.PAUSED:t.next&&Em(t.next.bind(t,this.snapshot))();break;case Bs.SUCCESS:t.complete&&Em(t.complete.bind(t))();break;default:t.error&&Em(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class _h{constructor(t,e){this._service=t,this._location=e instanceof us?e:us.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new _h(t,e)}get root(){const t=new us(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SW(this._location.path)}get storage(){return this._service}get parent(){const t=function QCe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new us(this._location.bucket,t);return new _h(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw wW(t)}}function UW(n,t,e){return eP.apply(this,arguments)}function eP(){return(eP=(0,ue.Z)(function*(n,t,e){const r=yield jW(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield UW(n,t,r.nextPageToken))})).apply(this,arguments)}function jW(n,t){null!=t&&"number"==typeof t.maxResults&&qM("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=lEe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Ia)}function kEe(n){n._throwIfRoot("getDownloadURL");const t=function cEe(n,t,e){const r=cc(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ul(r,"GET",function aEe(n,t){return function e(i,r){const s=AW(n,r,t);return hl(null!==s),function iEe(n,t,e,i){const r=ZM(t);if(null===r||!Fx(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const f=n.fullPath;return cc("/b/"+o(n.bucket)+"/o/"+o(f),e,i)+EW({alt:"media",token:c})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return a.errorHandler=Ny(t),a}(n.storage,n._location,Oy());return n.storage.makeRequestWithTokens(t,Ia).then(e=>{if(null===e)throw function ACe(){return new Vi(Ai.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function HW(n,t){const e=function XCe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new us(n._location.bucket,e);return new _h(n.storage,i)}function zW(n,t){if(n instanceof tP){const e=n;if(null==e._bucket)throw function ICe(){return new Vi(Ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gW+"' property when initializing the app?")}();const i=new _h(e,e._bucket);return null!=t?zW(i,t):i}return void 0!==t?HW(n,t):n}function NEe(n,t){if(t&&function PEe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof tP)return function OEe(n,t){return new _h(n,t)}(n,t);throw bm("To use ref(service, url), the first argument must be a Storage instance.")}return zW(n,t)}function $W(n,t){const e=t?.[gW];return null==e?null:us.makeFromBucketSpec(e,n)}class tP{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=mW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?us.makeFromBucketSpec(r,this._host):$W(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?us.makeFromBucketSpec(this._url,t):$W(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ue.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ue.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _h(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new kCe(bW());{const o=function HCe(n,t,e,i,r,s,o=!0){const a=EW(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function UCe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function VCe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function BCe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,s),function jCe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,i),new LCe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,ue.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const GW="@firebase/storage";function KW(n,t){return NEe(n=(0,I.m9)(n),t)}function GEe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new tP(e,i,r,t,cs.SDK_VERSION)}!function WEe(){(0,cs._registerComponent)(new wa.wA("storage",GEe,"PUBLIC").setMultipleInstances(!0)),(0,cs.registerVersion)(GW,"0.11.2",""),(0,cs.registerVersion)(GW,"0.11.2","esm2017")}();class jx{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ZW{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jx(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new jx(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new jx(o,this,this._ref)):{next:e.next?o=>e.next(new jx(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class QW{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new dc(t,this._service))}get items(){return this._delegate.items.map(t=>new dc(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class dc{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function $Ee(n,t){return HW(n,t)}(this._delegate,t);return new dc(e,this.storage)}get root(){return new dc(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new dc(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new ZW(function LEe(n,t,e){return function TEe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new VW(n,new dl(t),e)}(n=(0,I.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Io.RAW,i){this._throwIfRoot("putString");const r=YM(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new ZW(new VW(this._delegate,new dl(r.data,!0),s),this)}listAll(){return function jEe(n){return function SEe(n){const t={prefixes:[],items:[]};return UW(n,t).then(()=>t)}(n=(0,I.m9)(n))}(this._delegate).then(t=>new QW(t,this.storage))}list(t){return function UEe(n,t){return jW(n=(0,I.m9)(n),t)}(this._delegate,t||void 0).then(e=>new QW(e,this.storage))}getMetadata(){return function VEe(n){return function AEe(n){n._throwIfRoot("getMetadata");const t=MW(n.storage,n._location,Oy());return n.storage.makeRequestWithTokens(t,Ia)}(n=(0,I.m9)(n))}(this._delegate)}updateMetadata(t){return function BEe(n,t){return function REe(n,t){n._throwIfRoot("updateMetadata");const e=function dEe(n,t,e,i){const s=cc(t.fullServerUrl(),n.host,n._protocol),a=QM(e,i),c=n.maxOperationRetryTime,d=new ul(s,"PATCH",Bx(n,i),c);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=Ny(t),d}(n.storage,n._location,t,Oy());return n.storage.makeRequestWithTokens(e,Ia)}(n=(0,I.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function HEe(n){return kEe(n=(0,I.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zEe(n){return function MEe(n){n._throwIfRoot("deleteObject");const t=function uEe(n,t){const i=cc(t.fullServerUrl(),n.host,n._protocol),a=new ul(i,"DELETE",function o(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Ny(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Ia)}(n=(0,I.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw wW(t)}}class XW{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(JW(t))throw bm("ref() expected a child path but got a URL, use refFromURL instead.");return new dc(KW(this._delegate,t),this)}refFromURL(t){if(!JW(t))throw bm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{us.makeFromUrl(t,this._delegate.host)}catch{throw bm("refFromUrl() expected a valid full URL but got an invalid one.")}return new dc(KW(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function YW(n,t,e,i={}){!function FEe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,I.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function JW(n){return/^[A-Za-z]+:\/\//.test(n)}function ZEe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new XW(e,i)}function e6(n){const t=function XEe(n){return new ut(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(gk(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(we(e=>e.bytesTransferred/e.totalBytes*100))}}function Hx(n){return{getDownloadURL:()=>M(void 0).pipe(U$,$e(()=>n.getDownloadURL()),er),getMetadata:()=>M(void 0).pipe(U$,$e(()=>n.getMetadata()),er),delete:()=>x(n.delete()),child:t=>Hx(n.child(t)),updateMetadata:t=>x(n.updateMetadata(t)),put:(t,e)=>e6(n.put(t,e)),putString:(t,e,i)=>e6(n.putString(t,e,i)),list:t=>x(n.list(t)),listAll:()=>x(n.listAll())}}!function QEe(n){const t={TaskState:Bs,TaskEvent:gEe,StringFormat:Io,Storage:XW,Reference:dc};n.INTERNAL.registerComponent(new wa.wA("storage-compat",ZEe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(xo.Z);const JEe=new ie("angularfire2.storageBucket"),exe=new ie("angularfire2.storage.maxUploadRetryTime"),txe=new ie("angularfire2.storage.maxOperationRetryTime"),nxe=new ie("angularfire2.storage.use-emulator");let t6=(()=>{class n{storage;constructor(e,i,r,s,o,a,l,c,d,f){const m=Qv(e,o,i);this.storage=VE(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{const _=o.runOutsideAngular(()=>m.storage(r||void 0)),v=d;return v&&_.useEmulator(...v),l&&_.setMaxUploadRetryTime(l),c&&_.setMaxOperationRetryTime(c),_},[l,c])}ref(e){return Hx(this.storage.ref(e))}refFromURL(e){return Hx(this.storage.refFromURL(e))}upload(e,i,r){return Hx(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(P(nm),P(im,8),P(JEe,8),P(_o),P(He),P(ME),P(exe,8),P(txe,8),P(nxe,8),P(kE,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ixe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ge({})}return n})(),rxe=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",Xp.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ge({providers:[t6],imports:[ixe]})}return n})(),uc=(()=>{class n{constructor(e,i,r,s){this.realTimeDatabase=e,this.fireStorage=i,this.http=r,this.authService=s,this.profilePicUrlSubject=new H,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.userProfileSubject=new H,this.refNotes=e.list("/notes"),this.refRecipeList=e.list("/recipes"),this.refChats=e.list("/chats"),this.refUsers=e.list("/users"),this.refFriends=e.list("/users/-NoE6U_RSIQOXy5nr9Rl/friends")}ngOnInit(){}getUserProfiles(){return this.refUsers.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addFriends(e){this.refFriends.push(e)}addUserData(e){this.refUsers.push(e)}updateUserData(e,i){this.refUsers.update(i,e)}addProfilePicture(e){const i="profilePictures/"+e.name,r=this.fireStorage.ref(i),s=this.fireStorage.upload(i,e);return s.snapshotChanges().pipe(Hu(()=>r.getDownloadURL().subscribe(o=>{this.profilePicUrlSubject.next(o)}))).subscribe(),s.percentageChanges()}addMessage(e){this.refChats.push(e)}updateMessage(e,i){this.refChats.update(e,i)}deleteMessage(e){return this.refChats.remove(e.key)}deleteMessages(){this.refChats.remove()}getMessages(){return this.refChats.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getNotes(){return this.refNotes.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))),tc(e=>ju(e)))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(e,i){this.refNotes.update(e,i)}getRecipe(e){return this.refRecipeList.snapshotChanges().pipe(we(i=>i.map(r=>({key:e,Recipe:r.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe(we(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addRecipe(e){this.refRecipeList.push(e)}updateRecipe(e,i){this.refRecipeList.update(e,i)}deleteRecipe(e){this.refRecipeList.remove(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(zM),P(t6),P(Yv),P(sc))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n6=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body?r.body.toLowerCase().includes(i):r.message.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Zi({name:"filter",type:n,pure:!0})}return n})();function sxe(n,t){if(1&n){const e=St();A(0,"div",10)(1,"button",14),ge("click",function(){return Fe(e),Oe(G(2).deleteAllNotes())}),ne(2,"Osszes jegyzet torlese"),R()()}}function oxe(n,t){1&n&&nt(0,"div",10)}function axe(n,t){1&n&&nt(0,"span",15)}const lxe=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function cxe(n,t){if(1&n){const e=St();A(0,"div",8),Q(1,sxe,3,0,"div",9),A(2,"div",10)(3,"label",11),ne(4,"Keres\xe9s"),R()(),Q(5,oxe,1,0,"div",9),A(6,"div",10)(7,"input",12),ge("keyup",function(){return Fe(e),Oe(G().inputClass=!1)})("keypress",function(){return Fe(e),Oe(G().inputClass=!0)})("ngModelChange",function(r){return Fe(e),Oe(G().searchWord=r)}),R(),Q(8,axe,1,0,"span",13),R()()}if(2&n){const e=G();O(1),L("ngIf",e.isSuperAdmin),O(4),L("ngIf",e.isSuperAdmin),O(2),L("ngClass",rC(5,lxe,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),O(1),L("ngIf",e.searchWord)}}function dxe(n,t){1&n&&nt(0,"span",24)}function uxe(n,t){1&n&&nt(0,"span",25)}const hxe=function(n,t){return{"btn-success":n,"btn-warning":t}};function fxe(n,t){if(1&n){const e=St();A(0,"form",16)(1,"label",17),ne(2,"C\xedm"),R(),A(3,"input",18),ge("ngModelChange",function(r){return Fe(e),Oe(G().title=r)}),R(),A(4,"label",19),ne(5,"Tennival\xf3"),R(),A(6,"textarea",20),ge("ngModelChange",function(r){return Fe(e),Oe(G().body=r)}),R(),A(7,"button",21),ge("click",function(){return Fe(e),Oe(G().createUpdateControl())}),Q(8,dxe,1,0,"span",22),Q(9,uxe,1,0,"span",23),ne(10),R()()}if(2&n){const e=G();O(3),L("ngModel",e.title),O(3),L("ngModel",e.body),O(1),L("ngClass",Pu(6,hxe,e.key,!e.key)),O(1),L("ngIf",!e.key),O(1),L("ngIf",e.key),O(1),Ln(" ",e.buttonText,"")}}const pxe=function(n){return{warning:n}};function mxe(n,t){if(1&n&&(A(0,"div",26)(1,"b"),ne(2),R()()),2&n){const e=G();L("ngClass",Qa(2,pxe,1==e.isLoading)),O(2),qn(e.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function gxe(n,t){if(1&n){const e=St();A(0,"div",28)(1,"b"),ne(2," Hiba tortent az adatok lekeresekor: "),R(),ne(3),A(4,"button",29),ge("click",function(){return Fe(e),Oe(G(2).onHandleError())}),ne(5,"Rendben"),R()()}if(2&n){const e=G(2);O(3),Ln(" ",e.errorm," ")}}function _xe(n,t){1&n&&Q(0,gxe,6,1,"div",27),2&n&&L("ngIf",G().errorm)}function vxe(n,t){if(1&n){const e=St();A(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),ne(4),R(),A(5,"p",36),ne(6),R()(),A(7,"div",37),ne(8),Ou(9,"date"),R(),A(10,"div",38)(11,"div",39)(12,"span",40),ge("click",function(){const s=Fe(e).$implicit;return Oe(G(2).putDataToInput(s))}),R()(),A(13,"div",41)(14,"span",42),ge("click",function(){const s=Fe(e).$implicit;return Oe(G(2).deleteNote(s))}),R()()()()()}if(2&n){const e=t.$implicit;O(4),qn(e.title),O(2),qn(e.body),O(2),aS(" ",0===e.counter?"Letrehozva: ":"Modositva: "," ",Nu(9,4,e.timeStamp,"medium")," ")}}function yxe(n,t){if(1&n&&(A(0,"div",30),Q(1,vxe,15,7,"div",31),Ou(2,"filter"),R()),2&n){const e=G();O(1),L("ngForOf",Nu(2,1,e.notes,e.searchWord))}}const bxe=function(n,t){return{fg:n,"text-warning":t}};let wxe=(()=>{class n{constructor(e,i){this.baseService=e,this.authService=i,this.isOpen=!1,this.isSuperAdmin=!1,this.subscription=new dt,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:e=>{this.isLoading=!1,this.notes=e,this.subscription=this.authService.isSuperAdmin.subscribe(i=>this.isSuperAdmin=i),console.log(this.subscription)},error:e=>{this.errorm=e.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(e),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(e=>{this.notes=[]})}updateNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,e),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}ngOnDestroy(){this.subscription.unsubscribe(),console.log(this.subscription)}static#e=this.\u0275fac=function(i){return new(i||n)(w(uc),w(sc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search d-flex justify-content-center text-center align-items-center row",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","d-flex","justify-content-center","text-center","align-items-center","row"],["class","col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){if(1&i&&(A(0,"div",0),Q(1,cxe,9,9,"div",1),A(2,"button",2),ge("click",function(){return r.isOpen=!r.isOpen}),nt(3,"span",3),R(),Q(4,fxe,11,9,"form",4),R(),Q(5,mxe,3,4,"div",5),Q(6,_xe,1,1,"ng-template",null,6,Os),Q(8,yxe,3,4,"div",7)),2&i){const s=Qi(7);O(1),L("ngIf",!r.isOpen),O(2),L("ngClass",Pu(6,bxe,r.isOpen,!r.isOpen)),O(1),L("ngIf",r.isOpen),O(1),L("ngIf",r.notes.length<1&&!r.errorm&&!r.clearError)("ngIfElse",s),O(3),L("ngIf",!r.isUpdating&&r.notes.length>=1)}},dependencies:[Zl,Js,Ji,Ap,Xa,Xl,Ip,ec,Jl,wj,n6],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return n})();class Cxe{constructor(t){this._box=t,this._destroyed=new H,this._resizeSubject=new H,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ut(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(fn(e=>e.some(i=>i.target===t)),ik({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Exe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=De(He)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Cxe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class r6{}class xxe{}const hc="*";function fc(n,t){return{type:7,name:n,definitions:t,options:{}}}function So(n,t=null){return{type:4,styles:t,timings:n}}function o6(n,t=null){return{type:2,steps:n,options:t}}function Ri(n){return{type:6,styles:n,offset:null}}function ta(n,t,e){return{type:0,name:n,styles:t,options:e}}function so(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function nP(n=null){return{type:9,options:n}}function iP(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class Fy{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class l6{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Dxe=["notch"],Txe=["matFormFieldNotchedOutline",""],Ixe=["*"],Sxe=["textField"],Axe=["iconPrefixContainer"],Rxe=["textPrefixContainer"];function kxe(n,t){1&n&&nt(0,"span",19)}function Mxe(n,t){if(1&n&&(A(0,"label",17),qt(1,1),Q(2,kxe,1,0,"span",18),R()),2&n){const e=G(2);L("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ct("for",e._control.id),O(2),L("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Pxe(n,t){1&n&&Q(0,Mxe,3,5,"label",16),2&n&&L("ngIf",G()._hasFloatingLabel())}function Oxe(n,t){1&n&&nt(0,"div",20)}function Nxe(n,t){}function Fxe(n,t){1&n&&Q(0,Nxe,0,0,"ng-template",22),2&n&&(G(2),L("ngTemplateOutlet",Qi(1)))}function Lxe(n,t){if(1&n&&(A(0,"div",21),Q(1,Fxe,1,1,"ng-template",9),R()),2&n){const e=G();L("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),O(1),L("ngIf",!e._forceDisplayInfixLabel())}}function Vxe(n,t){1&n&&(A(0,"div",23,24),qt(2,2),R())}function Bxe(n,t){1&n&&(A(0,"div",25,26),qt(2,3),R())}function Uxe(n,t){}function jxe(n,t){1&n&&Q(0,Uxe,0,0,"ng-template",22),2&n&&(G(),L("ngTemplateOutlet",Qi(1)))}function Hxe(n,t){1&n&&(A(0,"div",27),qt(1,4),R())}function zxe(n,t){1&n&&(A(0,"div",28),qt(1,5),R())}function $xe(n,t){1&n&&nt(0,"div",29)}function Gxe(n,t){1&n&&(A(0,"div",30),qt(1,6),R()),2&n&&L("@transitionMessages",G()._subscriptAnimationState)}function Wxe(n,t){if(1&n&&(A(0,"mat-hint",34),ne(1),R()),2&n){const e=G(2);L("id",e._hintLabelId),O(1),qn(e.hintLabel)}}function qxe(n,t){if(1&n&&(A(0,"div",31),Q(1,Wxe,2,2,"mat-hint",32),qt(2,7),nt(3,"div",33),qt(4,8),R()),2&n){const e=G();L("@transitionMessages",e._subscriptAnimationState),O(1),L("ngIf",e.hintLabel)}}const Kxe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Yxe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Od=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-label"]]})}return n})();const Zxe=new ie("MatError");let Qxe=0,c6=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Qxe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(wr("id",r.id),Ct("align",null),it("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const Xxe=new ie("MatPrefix"),d6=new ie("MatSuffix");let Jxe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[gt([{provide:d6,useExisting:n}])]})}return n})();const u6=new ie("FloatingLabelParent");let h6=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=De(Exe),this._ngZone=De(He),this._parent=De(u6),this._resizeSubscription=new dt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function eDe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe))};static#t=this.\u0275dir=X({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&it("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const f6="mdc-line-ripple--active",zx="mdc-line-ripple--deactivating";let p6=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(zx);"opacity"===r.propertyName&&o&&s.remove(f6,zx)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(zx),e.add(f6)}deactivate(){this._elementRef.nativeElement.classList.add(zx)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(He))};static#t=this.\u0275dir=X({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),m6=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(He))};static#t=this.\u0275cmp=ht({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&ln(Dxe,5),2&i){let s;ke(s=Me())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&it("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Txe,ngContentSelectors:Ixe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Or(),nt(0,"div",0),A(1,"div",1,2),qt(3),R(),nt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const tDe={transitionMessages:fc("transitionMessages",[ta("enter",Ri({opacity:1,transform:"translateY(0%)"})),so("void => enter",[Ri({opacity:0,transform:"translateY(-5px)"}),So("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n})}return n})();const $x=new ie("MatFormField"),nDe=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS");let g6=0,xm=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=gn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+g6++,this._hintLabelId="mat-mdc-hint-"+g6++,this._subscriptAnimationState="",this._destroyed=new H,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),T(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(zi),w(He),w(wd),w(cr),w(nDe,8),w(Ms,8),w(mt))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(Pt(s,Od,5),Pt(s,Od,7),Pt(s,sP,5),Pt(s,Xxe,5),Pt(s,d6,5),Pt(s,Zxe,5),Pt(s,c6,5)),2&i){let o;ke(o=Me())&&(r._labelChildNonStatic=o.first),ke(o=Me())&&(r._labelChildStatic=o.first),ke(o=Me())&&(r._formFieldControl=o.first),ke(o=Me())&&(r._prefixChildren=o),ke(o=Me())&&(r._suffixChildren=o),ke(o=Me())&&(r._errorChildren=o),ke(o=Me())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(ln(Sxe,5),ln(Axe,5),ln(Rxe,5),ln(h6,5),ln(m6,5),ln(p6,5)),2&i){let s;ke(s=Me())&&(r._textField=s.first),ke(s=Me())&&(r._iconPrefixContainer=s.first),ke(s=Me())&&(r._textPrefixContainer=s.first),ke(s=Me())&&(r._floatingLabel=s.first),ke(s=Me())&&(r._notchedOutline=s.first),ke(s=Me())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&it("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[gt([{provide:$x,useExisting:n},{provide:u6,useExisting:n}])],ngContentSelectors:Yxe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Or(Kxe),Q(0,Pxe,1,1,"ng-template",null,0,Os),A(2,"div",1,2),ge("click",function(o){return r._control.onContainerClick(o)}),Q(4,Oxe,1,0,"div",3),A(5,"div",4),Q(6,Lxe,2,2,"div",5),Q(7,Vxe,3,0,"div",6),Q(8,Bxe,3,0,"div",7),A(9,"div",8),Q(10,jxe,1,1,"ng-template",9),qt(11),R(),Q(12,Hxe,2,0,"div",10),Q(13,zxe,2,0,"div",11),R(),Q(14,$xe,1,0,"div",12),R(),A(15,"div",13),Q(16,Gxe,2,1,"div",14),Q(17,qxe,5,2,"div",15),R()),2&i&&(O(2),it("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),O(2),L("ngIf",!r._hasOutline()&&!r._control.disabled),O(2),L("ngIf",r._hasOutline()),O(1),L("ngIf",r._hasIconPrefix),O(1),L("ngIf",r._hasTextPrefix),O(2),L("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),O(2),L("ngIf",r._hasTextSuffix),O(1),L("ngIf",r._hasIconSuffix),O(1),L("ngIf",!r._hasOutline()),O(1),it("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),L("ngSwitch",r._getDisplayedMessages()),O(1),L("ngSwitchCase","error"),O(1),L("ngSwitchCase","hint"))},dependencies:[Ji,sd,cv,aA,c6,h6,m6,p6],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[tDe.transitionMessages]},changeDetection:0})}return n})(),Gx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Ql,p5,Kn]})}return n})();const y6=oc({passive:!0});let sDe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return _n;const i=bd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new H,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,y6),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,y6)}}),s}stopMonitoring(e){const i=bd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr),P(He))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const b6=new ie("MAT_INPUT_VALUE_ACCESSOR"),aDe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let lDe=0;const cDe=M5(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new H}});let Dm=(()=>{class n extends cDe{get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Tp.required)??!1}set required(e){this._required=gn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d5().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=gn(e)}constructor(e,i,r,s,o,a,l,c,d,f){super(a,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+lDe++,this.focused=!1,this.stateChanges=new H,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>d5().has(v)),this._iOSKeyupListener=v=>{const b=v.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,_=m.nodeName.toLowerCase();this._inputValueAccessor=l||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){aDe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(cr),w(Ja,10),w(Jl,8),w(Rp,8),w(P5),w(b6,10),w(sDe),w(He),w($x,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&ge("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(wr("id",r.id)("disabled",r.disabled)("required",r.required),Ct("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),it("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[gt([{provide:sP,useExisting:n}]),We,Fn]})}return n})(),dDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Gx,Gx,oDe,Kn]})}return n})();const Ly={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ly;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new dt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Ly;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ly;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class hDe extends cE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class uDe extends lE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ly.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Ly.cancelAnimationFrame(e),t._scheduled=void 0)}});let oP,pDe=1;const Wx={};function w6(n){return n in Wx&&(delete Wx[n],!0)}const mDe={setImmediate(n){const t=pDe++;return Wx[t]=!0,oP||(oP=Promise.resolve()),oP.then(()=>w6(t)&&n()),t},clearImmediate(n){w6(n)}},{setImmediate:gDe,clearImmediate:_De}=mDe,qx={setImmediate(...n){const{delegate:t}=qx;return(t?.setImmediate||gDe)(...n)},clearImmediate(n){const{delegate:t}=qx;return(t?.clearImmediate||_De)(n)},delegate:void 0};new class yDe extends cE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class vDe extends lE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(qx.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function C6(n,t=Gu){return function wDe(n){return he((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(Se(e,c=>{i=!0,r=c,s||Ce(n(c)).subscribe(s=Se(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>fR(n,t))}let E6=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new H,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ut(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(C6(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):M()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(fn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=bd(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(P(He),P(cr),P(mt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new H,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(C6(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(P(cr),P(He),P(mt,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),aP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[ey,Vy,ey,Vy]})}return n})();class lP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Yx extends lP{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Zx extends lP{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class DDe extends lP{constructor(t){super(),this.element=t instanceof Xe?t.nativeElement:t}}class cP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Yx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Zx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof DDe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class TDe extends cP{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||vi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Qx=(()=>{class n extends cP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(w(np),w(Hi),w(mt))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[We]})}return n})(),Tm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const x6=__e();class IDe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dr(-this._previousScrollPosition.left),t.style.top=dr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),x6&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),x6&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class SDe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(fn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class D6{enable(){}disable(){}attach(){}}function dP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function T6(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ADe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let RDe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new D6,this.close=o=>new SDe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new IDe(this._viewportRuler,this._document),this.reposition=o=>new ADe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(P(E6),P(Kx),P(He),P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class uP{constructor(t){if(this.scrollStrategy=new D6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class kDe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let I6=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MDe=(()=>{class n extends I6{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(He,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PDe=(()=>{class n extends I6{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=yd(s)},this._clickListener=s=>{const o=yd(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(s)):f.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(cr),P(He,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xx=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pk()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),pk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P(cr))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class By{constructor(t,e,i,r,s,o,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new H,this._attachments=new H,this._detachments=new H,this._locationChanges=dt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new H,this._outsidePointerEvents=new H,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Dn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dr(this._config.width),t.height=dr(this._config.height),t.minWidth=dr(this._config.minWidth),t.minHeight=dr(this._config.minHeight),t.maxWidth=dr(this._config.maxWidth),t.maxHeight=dr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=$E(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Et(T(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const S6="cdk-overlay-connected-position-bounding-box",ODe=/([A-Za-z%]+)$/;class NDe{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H,this._resizeSubscription=dt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(S6),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(S6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?o:a}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=R6(e);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let m=0-a,_=a+s.height-i.height,v=this._subtractOverflows(s.width,0-o,o+s.width-i.width),b=this._subtractOverflows(s.height,m,_),E=v*b;return{visibleArea:E,isCompletelyWithinViewport:s.width*s.height===E,fitsInViewportVertically:b===s.height,fitsInViewportHorizontally:v==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=A6(this._overlayRef.getConfig().minHeight),a=A6(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=R6(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0);let d=0,f=0;return d=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,f=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:d,y:f},{x:t.x+d,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new kDe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,d,f,m;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;s=2*_,o=t.y-_,s>v&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,d=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;d=2*_,f=t.x-_,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-v/2)}return{top:o,left:f,bottom:a,right:m,width:d,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=dr(i.height),r.top=dr(i.top),r.bottom=dr(i.bottom),r.width=dr(i.width),r.left=dr(i.left),r.right=dr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=dr(s)),o&&(r.maxWidth=dr(o))}this._lastBoundingBoxSize=i,vh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();vh(i,this._getExactOverlayY(e,t,d)),vh(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=dr(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=dr(o.maxWidth):s&&(i.maxWidth="")),vh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=dr(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=dr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T6(t,i),isOriginOutsideView:dP(t,i),isOverlayClipped:T6(e,i),isOverlayOutsideView:dP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$E(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Xe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function vh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function A6(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ODe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function R6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const k6="cdk-global-overlay-wrapper";class FDe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(k6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,f=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let _="",v="",b="";l?b="flex-start":"center"===d?(b="center",m?v=f:_=f):m?"left"===d||"end"===d?(b="flex-end",_=f):("right"===d||"start"===d)&&(b="flex-start",v=f):"left"===d||"start"===d?(b="flex-start",_=f):("right"===d||"end"===d)&&(b="flex-end",v=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(k6),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let LDe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new FDe}flexibleConnectedTo(e){return new NDe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kx),P(mt),P(cr),P(Xx))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VDe=0,Sa=(()=>{class n{constructor(e,i,r,s,o,a,l,c,d,f,m,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new uP(e);return o.direction=o.direction||this._directionality.value,new By(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+VDe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(pa)),new TDe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(P(RDe),P(Xx),P(np),P(LDe),P(MDe),P(vi),P(He),P(mt),P(wd),P(ov),P(PDe),P(Ms,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BDe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],M6=new ie("cdk-connected-overlay-scroll-strategy");let hP=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),P6=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=gn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=gn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=gn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=gn(e)}get push(){return this._push}set push(e){this._push=gn(e)}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=dt.EMPTY,this._attachSubscription=dt.EMPTY,this._detachSubscription=dt.EMPTY,this._positionSubscription=dt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Re,this.positionChange=new Re,this.attach=new Re,this.detach=new Re,this.overlayKeydown=new Re,this.overlayOutsideClick=new Re,this._templatePortal=new Zx(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=BDe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ca(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new uP({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof hP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function xDe(n,t=!1){return he((e,i)=>{let r=0;e.subscribe(Se(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(w(Sa),w(hn),w(Hi),w(M6),w(wd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Fn]})}return n})();const jDe={provide:M6,deps:[Sa],useFactory:function UDe(n){return()=>n.scrollStrategies.reposition()}};let Uy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[Sa,jDe],imports:[ey,Tm,aP,aP]})}return n})();const HDe=["tooltip"],O6=new ie("mat-tooltip-scroll-strategy"),GDe={provide:O6,deps:[Sa],useFactory:function $De(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},qDe=new ie("mat-tooltip-default-options",{providedIn:"root",factory:function WDe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),N6="tooltip-panel",F6=oc({passive:!0});let JDe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=gn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=sm(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=sm(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,s,o,a,l,c,d,f,m,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new H,this._scrollStrategy=d,this._document=_,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),f.change.pipe(Et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,F6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Yx(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof Xe)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Et(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${N6}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Et(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Ca(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Dn(1),Et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${N6}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,F6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Jc()};static#t=this.\u0275dir=X({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),L6=(()=>{class n extends JDe{constructor(e,i,r,s,o,a,l,c,d,f,m,_){super(e,i,r,s,o,a,l,c,d,f,m,_),this._tooltipComponent=t1e,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(w(Sa),w(Xe),w(E6),w(Hi),w(He),w(cr),w(B_e),w(am),w(O6),w(wd,8),w(qDe,8),w(mt))};static#t=this.\u0275dir=X({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&it("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[We]})}return n})(),e1e=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new H,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(w(zi),w(Ms,8))};static#t=this.\u0275dir=X({type:n})}return n})(),t1e=(()=>{class n extends e1e{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(w(zi),w(Xe),w(Ms,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&ln(HDe,7),2&i){let s;ke(s=Me())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&ge("mouseleave",function(o){return r._handleMouseLeave(o)}),2&i&&td("zoom",r.isVisible()?1:null)},features:[We],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(A(0,"div",0,1),ge("animationend",function(o){return r._handleAnimationEnd(o)}),A(2,"div",2),ne(3),R()()),2&i&&(it("mdc-tooltip--multiline",r._isMultiline),L("ngClass",r.tooltipClass),O(3),qn(r.message))},dependencies:[Zl],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),n1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[GDe],imports:[Ck,Ql,Uy,Kn,Kn,Vy]})}return n})();const i1e=["f"];function r1e(n,t){1&n&&(A(0,"span"),ne(1,"Kerlek adj meg egy ervenyes e-mail cimet"),R())}function s1e(n,t){if(1&n){const e=St();A(0,"div")(1,"label")(2,"input",16),ge("ngModelChange",function(r){return Fe(e),Oe(G().genderr=r)}),R(),ne(3),R()()}if(2&n){const e=t.$implicit,i=G();O(2),L("ngModel",i.genderr)("value",e),O(1),Ln(" ",e," ")}}let o1e=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.router.navigate(["login"])}static#e=this.\u0275fac=function(i){return new(i||n)(w(sc),w(lr),w(uc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-signup"]],viewQuery:function(i,r){if(1&i&&ln(i1e,5),2&i){let s;ke(s=Me())&&(r.signupForm=s.first)}},decls:24,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[1,"text-center","mt-0","container-2"],[4,"ngIf"],["mat-raised-button","","type","button",1,"mb-3",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],[1,"container-0","container-1"],["routerLink","/login","matTooltipPosition","left","matTooltip","Gyorsabb bel\xe9p\xe9s regisztr\xe1ci\xf3 n\xe9lk\xfcl"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"]],template:function(i,r){if(1&i&&(A(0,"div",0)(1,"h2",1),ne(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),R()(),A(3,"form",2,3),ge("ngSubmit",function(){return r.createUserWithEmAndPa()}),A(5,"mat-form-field")(6,"mat-label",4),ne(7,"Email"),R(),A(8,"input",5,6),ge("ngModelChange",function(o){return r.email=o}),R()(),A(10,"div",7),Q(11,r1e,2,0,"span",8),A(12,"button",9),ge("click",function(){return r.emailSuggestion()}),ne(13,"Mutass egy peldat a megfelelo formatumu email cimre!"),R()(),A(14,"mat-form-field")(15,"mat-label",10),ne(16,"Jelsz\xf3"),R(),A(17,"input",11),ge("ngModelChange",function(o){return r.password=o}),R()(),Q(18,s1e,4,3,"div",12),A(19,"button",13),ne(20,"Regisztr\xe1ci\xf3"),R()(),A(21,"div",14)(22,"h2",15),ne(23,"Vagy l\xe9pj be Google fi\xf3kkal, vagy telefonsz\xe1mmal"),R()()),2&i){const s=Qi(4),o=Qi(9);O(8),L("ngModel",r.email),O(3),L("ngIf",!o.valid&&o.touched),O(6),L("ngModel",r.password),O(1),L("ngForOf",r.genders),O(1),L("disabled",!s.valid)}},dependencies:[Js,Ji,fd,Ap,Xa,BC,Xl,Ip,_v,UC,ec,Jl,xm,Od,Cd,Dm,L6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.container-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px!important;height:-moz-fit-content;height:fit-content;background-color:#0a7e0ab3;border-radius:10px}.container-2[_ngcontent-%COMP%], .container-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function a1e(n,t){1&n&&(A(0,"div",3)(1,"h2",4),ne(2," Bejelentkez\xe9s Email c\xedmmel "),R()())}function l1e(n,t){if(1&n){const e=St();A(0,"form",5),ge("ngSubmit",function(){return Fe(e),Oe(G().loginWithEmAndPa())}),A(1,"mat-form-field")(2,"mat-label",6),ne(3,"Email"),R(),A(4,"input",7),ge("ngModelChange",function(r){return Fe(e),Oe(G().email=r)}),R()(),A(5,"mat-form-field")(6,"mat-label",8),ne(7,"Jelsz\xf3"),R(),A(8,"input",9),ge("ngModelChange",function(r){return Fe(e),Oe(G().password=r)}),R()(),A(9,"button",10),ne(10,"Bejelentkez\xe9s"),R(),A(11,"h4",11),ne(12," Vagy bejelentkez\xe9s egyszer\u0171en "),A(13,"a",12),ge("click",function(){Fe(e);const r=G();return r.facebookOrGoogle=!0,Oe(r.booleanFunction())}),nt(14,"i",13),R(),A(15,"button",14),ge("click",function(){Fe(e);const r=G();return r.booleanFunction(),Oe(r.isPhone=!r.isPhone)}),nt(16,"span",15),R()()()}if(2&n){const e=G();O(4),L("ngModel",e.email),O(4),L("ngModel",e.password)}}function c1e(n,t){if(1&n){const e=St();A(0,"div",17)(1,"button",18),ge("click",function(){return Fe(e),Oe(G(2).loginWithGoogle())}),nt(2,"i",19),ne(3," Bejelentkez\xe9s "),R()()}if(2&n){const e=G(2);O(1),L("disabled",!e.facebookOrGoogle)}}function d1e(n,t){if(1&n&&(vr(0),Q(1,c1e,4,1,"div",16),yr()),2&n){const e=G();O(1),L("ngIf",e.emailOrGoogle)}}function u1e(n,t){if(1&n){const e=St();vr(0),nt(1,"div",20),A(2,"div",21)(3,"div",22)(4,"input",23),ge("ngModelChange",function(r){return Fe(e),Oe(G().phoneNumber=r)}),R(),A(5,"label",24),ne(6,"+36"),R()(),A(7,"div",25),nt(8,"span",26),R(),A(9,"div",27)(10,"button",28),ge("click",function(){return Fe(e),Oe(G().startLoginWithPhoneNumber())}),nt(11,"i",29),ne(12," Bejelentkez\xe9s "),R()()(),yr()}if(2&n){const e=G();O(2),L("ngClass",e.isPhone?"d-flex":"d-none"),O(2),L("ngModel",e.phoneNumber)}}function h1e(n,t){if(1&n){const e=St();vr(0),A(1,"div",30)(2,"input",31),ge("ngModelChange",function(r){return Fe(e),Oe(G().verificationCode=r)}),R(),A(3,"label",32),ne(4,"Meger\u0151s\xedt\u0151 k\xf3d"),R()(),A(5,"div",33)(6,"button",34),ge("click",function(){return Fe(e),Oe(G().verifyPhoneNumberAndLogin())}),ne(7," K\xf3d meger\u0151s\xedt\xe9se "),R()(),yr()}if(2&n){const e=G();O(2),L("ngModel",e.verificationCode)}}let f1e=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.base=r,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1,this.userProfiles=[]}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(s=>s.uid===e.uid);if(console.log(r),this.base.userProfileSubject.next(r),0===r.length){r.push(e);for(let s=0;s<1;s++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("ciklus lefutott")}else console.log("van m\xe1r ilyen user");0!=r.length&&console.log("siker",r.length),this.router.navigate(["profile/"+e.uid])})})}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>{this.authService.isLoggedIn().subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i;let r=this.userProfiles.filter(s=>s.uid===e.uid);if(console.log(r),0===r.length){r.push(e);for(let s=0;s<1;s++)this.base.addUserData({uid:r[0].uid,email:e.email}),console.log("felhaszn\xe1l\xf3 hozz\xe1adva")}else console.log("van m\xe1r ilyen user");this.router.navigate(void 0===r[0].birthDate||""===r[0].birthDate?["profile/"+e.uid]:[""])})})})}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate([""]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber("+36"+this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=qv.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>{this.authService.isLoggedIn().subscribe(i=>{this.base.getUserProfiles().subscribe(r=>{let s=r.filter(o=>o.uid===i.uid);0===s.length&&(s.push(i),this.base.addUserData({uid:i.uid,phoneNumber:i.phoneNumber})),this.router.navigate(void 0===s[0].birthDate||""===s[0].birthDate?["profile/"+i.uid]:[""])})})})}static#e=this.\u0275fac=function(i){return new(i||n)(w(sc),w(lr),w(uc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(Q(0,a1e,3,0,"div",0),Q(1,l1e,17,2,"form",1),Q(2,d1e,2,1,"ng-container",2),Q(3,u1e,13,2,"ng-container",2),Q(4,h1e,8,1,"ng-container",2)),2&i&&(L("ngIf",!r.emailOrGoogle),O(1),L("ngIf",!r.emailOrGoogle),O(1),L("ngIf",r.emailOrGoogle&&!r.isPhone),O(1),L("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),O(1),L("ngIf",r.verificationId))},dependencies:[Zl,Ji,Ap,Xa,Xl,Ip,ec,Jl,xm,Od,Cd,Dm,L6],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:30%;width:40%}"]})}return n})();const p1e=["saveChanges"];function m1e(n,t){if(1&n&&(A(0,"div",3)(1,"b"),ne(2),R()()),2&n){const e=t.$implicit;O(2),qn(e)}}function g1e(n,t){if(1&n){const e=St();A(0,"div",9)(1,"div",3),ne(2),R(),A(3,"div",3),nt(4,"img",10),R(),A(5,"div",3),ne(6),R(),A(7,"div",3)(8,"div",11)(9,"input",12),ge("change",function(){const s=Fe(e).$implicit;return Oe(G(2).changeClaims(s))})("ngModelChange",function(r){return Oe(Fe(e).$implicit.claims.superAdmin=r)}),R(),A(10,"label",13),ne(11,"Super Admin"),R()(),A(12,"div",11)(13,"input",12),ge("change",function(){const s=Fe(e).$implicit;return Oe(G(2).changeClaims(s))})("ngModelChange",function(r){return Oe(Fe(e).$implicit.claims.admin=r)}),R(),A(14,"label",13),ne(15,"Admin"),R()(),A(16,"div",11)(17,"input",12),ge("change",function(){const s=Fe(e).$implicit;return Oe(G(2).changeClaims(s))})("ngModelChange",function(r){return Oe(Fe(e).$implicit.claims.basic=r)}),R(),A(18,"label",13),ne(19,"Alap jogosults\xe1g"),R()()()()}if(2&n){const e=t.$implicit;O(2),qn(e.displayName),O(2),Yw("src",e.profilePicture,zl),O(2),qn(e.email),O(3),L("ngModel",e.claims.superAdmin),O(4),L("ngModel",e.claims.admin),O(4),L("ngModel",e.claims.basic)}}function _1e(n,t){if(1&n){const e=St();vr(0),Q(1,g1e,20,6,"div",4),A(2,"div",5)(3,"div",6)(4,"button",7,8),ge("click",function(){return Fe(e),Oe(G().save())}),ne(6,"Modositasok mentese"),R()()(),yr()}if(2&n){const e=G();O(1),L("ngForOf",e.users)}}let v1e=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(e=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(w(sc),w(lr))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&ln(p1e,5),2&i){let s;ke(s=Me())&&(r.saveChanges=s.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(A(0,"div",0),Q(1,m1e,3,1,"div",1),R(),Q(2,_1e,7,1,"ng-container",2)),2&i&&(O(1),L("ngForOf",r.columns),O(1),L("ngIf",r.users))},dependencies:[Js,Ji,EA,Xl,ec]})}return n})();const y1e=["*"],b1e=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],w1e=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],C1e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],E1e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],x1e=new ie("MAT_CARD_CONFIG");let Jx=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(w(x1e,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&it("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:y1e,decls:1,vars:0,template:function(i,r){1&i&&(Or(),qt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),eD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),V6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:w1e,decls:4,vars:0,template:function(i,r){1&i&&(Or(b1e),A(0,"div"),qt(1),R(),qt(2,1),qt(3,2))},encapsulation:2,changeDetection:0})}return n})(),tD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),fP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),pP=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&it("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),nD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:E1e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(Or(C1e),qt(0),A(1,"div",0),qt(2,1),R(),qt(3,2))},encapsulation:2,changeDetection:0})}return n})(),mP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),B6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})(),T1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Ql,Kn]})}return n})();function I1e(n,t){if(1&n&&(vr(0),A(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),ne(5),R()(),A(6,"mat-card-content")(7,"p"),ne(8),R()()()(),yr()),2&n){const e=G();O(5),qn(e.weather.location),O(3),qn(e.weather.forecast)}}let S1e=(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(w(uc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),ne(3,"Hely neve"),R(),A(4,"input",2),ge("ngModelChange",function(o){return r.location=o}),R()(),A(5,"button",3),ge("click",function(){return r.getWeather(r.location)}),ne(6,"Keres\xe9s"),R()(),Q(7,I1e,9,2,"ng-container",4)),2&i&&(O(4),L("ngModel",r.location),O(3),L("ngIf",r.weather.location))},dependencies:[Ji,Xa,Xl,ec,xm,Od,Jx,tD,nD,eD,Cd,Dm]})}return n})(),U6=(()=>{class n{transform(e,i){return e.sort((r,s)=>r[i]>s[i]?1:-1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Zi({name:"sort",type:n,pure:!0})}return n})(),A1e=(()=>{class n{transform(e,i){return e.length>i?e.substr(0,i)+"...":e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Zi({name:"shorten",type:n,pure:!0})}return n})();const R1e=function(n){return{active:n}};function k1e(n,t){if(1&n){const e=St();A(0,"div",6)(1,"ul",7)(2,"li",8),ge("click",function(){const s=Fe(e).$implicit;return Oe(G().recipeDetail(s.key))}),ne(3),Ou(4,"shorten"),R()()()}if(2&n){const e=t.$implicit,i=G();O(2),L("ngClass",Qa(5,R1e,e.key===i.key)),O(1),Ln(" ",Nu(4,2,e.name,15)," ")}}let M1e=(()=>{class n{constructor(e,i,r){this.baseService=e,this.router=i,this.route=r,this.recipeEdit=!1,this.key="",this.recipes=[]}ngOnInit(){this.baseService.getRecipes().subscribe(e=>{this.recipes=e})}recipeDetail(e){this.key=e,this.router.navigate(["detail"],{relativeTo:this.route,queryParams:{key:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(w(uc),w(lr),w(nl))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-recipes"]],decls:10,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"text-center","col-12","col-md-4","col-lg-4","col-xl-4"],["routerLink","create","type","button",1,"btn","btn-secondary","mt-3"],[1,"mt-3","mb-0","border-top","border-success","border-5"],["class","mt-0 text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-8","col-lg-8","col-xl-8"],[1,"mt-0","text-center"],[1,"list-group","text-center","mt-0"],[1,"list-group-item","list-group-item-light","mb-1",2,"cursor","pointer",3,"ngClass","click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"button",2),ne(3," Uj recept hozzaadasa "),R(),A(4,"h2",3),ne(5,"Receptek"),R(),Q(6,k1e,5,7,"div",4),Ou(7,"sort"),R(),A(8,"div",5),nt(9,"router-outlet"),R()()),2&i&&(O(6),L("ngForOf",Nu(7,1,r.recipes,"name")))},dependencies:[Zl,Js,JC,fd,U6,A1e],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.active[_ngcontent-%COMP%]{background-color:#7e037eb3;border:2px solid purple}.border-success[_ngcontent-%COMP%]{border-color:#0d6a0d80!important}"]})}return n})();class P1e{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let z6=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const O1e=["trigger"],N1e=["panel"];function F1e(n,t){if(1&n&&(A(0,"span",10),ne(1),R()),2&n){const e=G();O(1),qn(e.placeholder)}}function L1e(n,t){if(1&n&&(A(0,"span",14),ne(1),R()),2&n){const e=G(2);O(1),qn(e.triggerValue)}}function V1e(n,t){1&n&&qt(0,0,["*ngSwitchCase","true"])}function B1e(n,t){1&n&&(A(0,"span",11),Q(1,L1e,2,1,"span",12),Q(2,V1e,1,0,"ng-content",13),R()),2&n&&(L("ngSwitch",!!G().customTrigger),O(2),L("ngSwitchCase",!0))}function U1e(n,t){if(1&n){const e=St();Mf(),function __(){!function LT(){wt.lFrame.currentNamespace=null}()}(),A(0,"div",15,16),ge("@transformPanel.done",function(r){return Fe(e),Oe(G()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Fe(e),Oe(G()._handleKeydown(r))}),qt(2,1),R()}if(2&n){const e=G();(function HB(n,t,e){fa(mo,Za,dp(_e(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),L("ngClass",e.panelClass)("@transformPanel","showing"),Ct("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const j1e=[[["mat-select-trigger"]],"*"],H1e=["mat-select-trigger","*"],z1e={transformPanelWrap:fc("transformPanelWrap",[so("* => void",iP("@transformPanel",[nP()],{optional:!0}))]),transformPanel:fc("transformPanel",[ta("void",Ri({opacity:0,transform:"scale(1, 0.8)"})),so("void => showing",So("120ms cubic-bezier(0, 0, 0.2, 1)",Ri({opacity:1,transform:"scale(1, 1)"}))),so("* => void",So("100ms linear",Ri({opacity:0})))])};let $6=0;const G6=new ie("mat-select-scroll-strategy"),G1e=new ie("MAT_SELECT_CONFIG"),W1e={provide:G6,deps:[Sa],useFactory:function $1e(n){return()=>n.scrollStrategies.reposition()}},q1e=new ie("MatSelectTrigger");class K1e{constructor(t,e){this.source=t,this.value=e}}const Y1e=Dk(Tk(Ek(M5(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new H}}))));let Z1e=(()=>{class n extends Y1e{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Tp.required)??!1}set required(e){this._required=gn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=gn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=gn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=sm(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,o,a,l,c,d,f,m,_,v,b){super(o,s,l,c,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=v,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(E,N)=>E===N,this._uid="mat-select-"+$6++,this._triggerAriaLabelledBy=null,this._destroy=new H,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$6++,this._panelDoneAnimatingStream=new H,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=vv(()=>{const E=this.options;return E?E.changes.pipe(Yo(E),$e(()=>T(...E.map(N=>N.onSelectionChange)))):this._ngZone.onStable.pipe(Dn(1),$e(()=>this.optionSelectionChanges))}),this.openedChange=new Re,this._openedStream=this.openedChange.pipe(fn(E=>E),we(()=>{})),this._closedStream=this.openedChange.pipe(fn(E=>!E),we(()=>{})),this.selectionChange=new Re,this.valueChange=new Re,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new P1e(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(pt(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Yo(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&_k(this._trackedModal,"aria-owns",i),v5(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(_k(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Ca(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Ca(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Dn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new U_e(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=T(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),T(...this.options.map(i=>i._stateChanges)).pipe(Et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(w(Kx),w(zi),w(He),w(P5),w(Xe),w(wd,8),w(Jl,8),w(Rp,8),w($x,8),w(Ja,10),po("tabindex"),w(G6),w(ove),w(G1e,8))};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&(ln(O1e,5),ln(N1e,5),ln(P6,5)),2&i){let s;ke(s=Me())&&(r.trigger=s.first),ke(s=Me())&&(r.panel=s.first),ke(s=Me())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[We,Fn]})}return n})(),Q1e=(()=>{class n extends Z1e{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function Fve(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===e&&1===s?0:function Lve(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new K1e(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof hP?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=gn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(Pt(s,q1e,5),Pt(s,H5,5),Pt(s,j5,5)),2&i){let o;ke(o=Me())&&(r.customTrigger=o.first),ke(o=Me())&&(r.options=o),ke(o=Me())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&ge("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Ct("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),it("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[gt([{provide:sP,useExisting:n},{provide:U5,useExisting:n}]),We],ngContentSelectors:H1e,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Or(j1e),A(0,"div",0,1),ge("click",function(){return r.toggle()}),A(3,"div",2),Q(4,F1e,2,1,"span",3),Q(5,B1e,3,2,"span",4),R(),A(6,"div",5)(7,"div",6),Mf(),A(8,"svg",7),nt(9,"path",8),R()()()(),Q(10,U1e,3,9,"ng-template",9),ge("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=Qi(1);O(3),L("ngSwitch",r.empty),Ct("id",r._valueId),O(1),L("ngSwitchCase",!0),O(1),L("ngSwitchCase",!1),O(5),L("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Zl,cv,aA,yj,P6,hP],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[z1e.transformPanel]},changeDetection:0})}return n})(),X1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[W1e],imports:[Ql,Uy,z5,Kn,Vy,Gx,z5,Kn]})}return n})();const J1e=["f"];function eTe(n,t){1&n&&(A(0,"span"),ne(1,"Kerem adjon meg egy recept nevet!"),R())}function tTe(n,t){1&n&&(A(0,"mat-form-field",16),nt(1,"mat-label"),A(2,"span",17),ne(3,"Kerem adjon meg valos adatokat!"),R(),nt(4,"input",18),R())}let W6=(()=>{class n{constructor(e,i,r){this.baseService=e,this.route=i,this.router=r,this.key="",this.defaultDifficulty="Kozepes",this.submitButtonValue="Recept hozzaadasa",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.recipeForm=new OC({name:new cd(null,Tp.required),ingredients:new cd(null,[Tp.required,Tp.minLength(5)]),howToMake:new cd(null),timeToMake:new cd(null),portion:new cd(null),difficulty:new cd("kozepes")}),this.route.queryParams.subscribe(e=>{e.key&&(this.submitButtonValue="Recept modositasa"),console.log(e),this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&this.recipeForm.patchValue(r)})})}onSubmit(){this.recipe=this.recipeForm.value,"Recept hozzaadasa"===this.submitButtonValue?this.baseService.addRecipe(this.recipe):this.baseService.updateRecipe(this.key,this.recipe),this.router.navigate(["recipes"])}static#e=this.\u0275fac=function(i){return new(i||n)(w(uc),w(nl),w(lr))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-recipe-edit"]],viewQuery:function(i,r){if(1&i&&ln(J1e,5),2&i){let s;ke(s=Me())&&(r.formData=s.first)}},decls:44,vars:5,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],["f","ngForm"],["matSuffix",""],["formControlName","name","matInput","","type","text"],[4,"ngIf"],["formControlName","ingredients","matInput","","rows","5"],["formControlName","howToMake","matInput","","rows","5"],["formControlName","timeToMake","matInput","","type","number"],["formControlName","portion","matInput","","type","number"],[1,"select-container"],["formControlName","difficulty","id","difficulty"],["ngClass","green","value","konnyu"],["ngClass","yellow","value","kozepes"],["ngClass","red","value","nehez"],["class","text-center border border-danger",4,"ngIf"],["mat-button","","type","submit",3,"disabled"],[1,"text-center","border","border-danger"],[1,"text-danger"],["matInput","","disabled",""]],template:function(i,r){if(1&i&&(A(0,"form",0,1),ge("ngSubmit",function(){return r.onSubmit()}),A(2,"mat-form-field")(3,"mat-label"),ne(4,"Recept neve"),R(),A(5,"mat-icon",2),ne(6,"menu_book"),R(),nt(7,"input",3),Q(8,eTe,2,0,"span",4),R(),A(9,"mat-form-field")(10,"mat-label"),ne(11,"Hozz\xe1val\xf3k"),R(),nt(12,"textarea",5),R(),A(13,"mat-form-field")(14,"mat-label"),ne(15,"Elk\xe9szit\xe9s"),R(),nt(16,"textarea",6),R(),A(17,"mat-form-field")(18,"mat-label"),ne(19,"Elk\xe9szit\xe9si id\u0151"),R(),A(20,"mat-icon",2),ne(21,"schedule"),R(),nt(22,"input",7),R(),A(23,"mat-form-field")(24,"mat-label"),ne(25,"Adag"),R(),A(26,"mat-icon",2),ne(27,"restaurant"),R(),nt(28,"input",8),R(),A(29,"mat-form-field",9)(30,"mat-icon",2),ne(31,"sentiment_very_satisfied"),R(),A(32,"mat-label"),ne(33,"Nehezseg"),R(),A(34,"mat-select",10)(35,"mat-option",11),ne(36,"Konnyu"),R(),A(37,"mat-option",12),ne(38,"Kozepes"),R(),A(39,"mat-option",13),ne(40,"Nehez"),R()()(),Q(41,tTe,5,0,"mat-form-field",14),A(42,"button",15),ne(43),R()()),2&i){const s=Qi(1);let o;L("formGroup",r.recipeForm),O(8),L("ngIf",!(null!=(o=r.recipeForm.get("name"))&&o.valid)&&(null==(o=r.recipeForm.get("name"))?null:o.touched)),O(33),L("ngIf",!r.recipeForm.valid&&r.recipeForm.touched),O(1),L("disabled",!s.valid),O(1),qn(r.submitButtonValue)}},dependencies:[Zl,Ji,Ap,Xa,NA,Xl,Ip,Rp,BA,xm,Od,Jxe,Cd,Mk,Dm,Q1e,H5],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px;border-style:solid;border-color:#fe1717df;border-top:0;border-right:0;border-left:0}form[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{margin-top:10px;background-color:#791679b3;color:#fff!important}button[_ngcontent-%COMP%]:hover{background-color:#791679}.example-panel-red.mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}.select-container[_ngcontent-%COMP%]{border-top:2px solid rgba(119,255,0,.5)!important;border-radius:5px}.red[_ngcontent-%COMP%]{background-color:#f60b0b80}.green[_ngcontent-%COMP%]{background:rgba(3,141,3,.5)}.yellow[_ngcontent-%COMP%]{background:rgba(246,246,6,.5)}.red[_ngcontent-%COMP%]:hover{background:rgba(167,16,16,.8)!important}.green[_ngcontent-%COMP%]:hover{background:rgba(3,81,3,.8)!important}.yellow[_ngcontent-%COMP%]:hover{background:rgba(157,157,15,.8)!important}"]})}return n})();const nTe=function(n){return{key:n}};let iTe=(()=>{class n{constructor(e,i,r){this.route=e,this.baseService=i,this.router=r,this.key="",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&(this.recipe=r)})})}deleteRecipe(){this.baseService.deleteRecipe(this.key),this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(i){return new(i||n)(w(nl),w(uc),w(lr))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-recipe-detail"]],decls:22,vars:9,consts:[[1,"mt-3"],[1,"recipe-making-container"],[1,"card-content"],[1,"justify-content-end"],["routerLink","/recipes/edit","mat-raised-button","","color","accent","type","button",1,"me-2",3,"queryParams"],["mat-raised-button","","type","button",1,"deleteButton",3,"click"]],template:function(i,r){1&i&&(A(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),ne(3),R()(),A(4,"div",1)(5,"mat-card-content")(6,"mat-card-subtitle"),ne(7,"Elkeszites: "),R(),ne(8),R(),A(9,"mat-card-content",2)(10,"mat-card-subtitle"),ne(11,"Hozz\xe1val\xf3k: "),R(),ne(12),R()(),A(13,"mat-card-footer")(14,"mat-card-content")(15,"mat-card-subtitle"),ne(16),R()()(),A(17,"mat-card-actions",3)(18,"button",4),ne(19,"Modositas"),R(),A(20,"button",5),ge("click",function(){return r.deleteRecipe()}),ne(21,"Torles"),R()()()),2&i&&(O(3),Ln(" ",r.recipe.name,""),O(5),Ln(" ",r.recipe.howToMake," "),O(4),Ln(" ",r.recipe.ingredients," "),O(4),lS("Adag: ",r.recipe.portion," Nehezseg: ",r.recipe.difficulty," Elkeszitesi ido: ",r.recipe.timeToMake," perc"),O(2),L("queryParams",Qa(7,nTe,r.recipe.key)))},dependencies:[fd,Jx,pP,tD,mP,nD,fP,eD,Cd],styles:[".recipe-making-container[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{padding-top:16px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#e33!important;border:2px solid rgb(142,19,19)}"]})}return n})();class rTe{static increaseCount(t){return t++}constructor(t="",e="",i="",r="",s="",o="",a=0){this.id=t,this.uid=e,this.displayName=i,this.email=r,this.message=s,this.date=o,this.count=a}}class sTe{constructor(t="",e="",i="",r,s=""){this.uid=t,this.email=e,this.displayName=i,this.claims=r,this.profilePicture=s,this.friends=[{key:"",0:{uid:"",displayName:"",email:"",profilePhoto:""}}]}}let oTe=0;const _P=new ie("CdkAccordion");let aTe=(()=>{class n{constructor(){this._stateChanges=new H,this._openCloseAllActions=new H,this.id="cdk-accordion-"+oTe++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=gn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[gt([{provide:_P,useExisting:n}]),Fn]})}return n})(),lTe=0,cTe=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=gn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=dt.EMPTY,this.closed=new Re,this.opened=new Re,this.destroyed=new Re,this.expandedChange=new Re,this.id="cdk-accordion-child-"+lTe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static#e=this.\u0275fac=function(i){return new(i||n)(w(_P,12),w(zi),w(z6))};static#t=this.\u0275dir=X({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[gt([{provide:_P,useValue:void 0}])]})}return n})(),dTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})();const uTe=["body"];function hTe(n,t){}const fTe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],pTe=["mat-expansion-panel-header","*","mat-action-row"];function mTe(n,t){1&n&&nt(0,"span",2),2&n&&L("@indicatorRotate",G()._getExpandedState())}const gTe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],_Te=["mat-panel-title","mat-panel-description","*"],vP=new ie("MAT_ACCORDION"),q6="225ms cubic-bezier(0.4,0.0,0.2,1)",K6={indicatorRotate:fc("indicatorRotate",[ta("collapsed, void",Ri({transform:"rotate(0deg)"})),ta("expanded",Ri({transform:"rotate(180deg)"})),so("expanded <=> collapsed, void => collapsed",So(q6))]),bodyExpansion:fc("bodyExpansion",[ta("collapsed, void",Ri({height:"0px",visibility:"hidden"})),ta("expanded",Ri({height:"*",visibility:""})),so("expanded <=> collapsed, void => collapsed",So(q6))])},Y6=new ie("MAT_EXPANSION_PANEL");let vTe=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(w(hn),w(Y6,8))};static#t=this.\u0275dir=X({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),yTe=0;const Z6=new ie("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Q6=(()=>{class n extends cTe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=gn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,s,o,a,l){super(e,i,r),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Re,this.afterCollapse=new Re,this._inputChanges=new H,this._headerId="mat-expansion-panel-header-"+yTe++,this._bodyAnimationDone=new H,this.accordion=e,this._document=o,this._bodyAnimationDone.pipe(pt((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Yo(null),fn(()=>this.expanded&&!this._portal),Dn(1)).subscribe(()=>{this._portal=new Zx(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(w(vP,12),w(zi),w(z6),w(Hi),w(mt),w(Ms,8),w(Z6,8))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,s){if(1&i&&Pt(s,vTe,5),2&i){let o;ke(o=Me())&&(r._lazyContent=o.first)}},viewQuery:function(i,r){if(1&i&&ln(uTe,5),2&i){let s;ke(s=Me())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&it("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[gt([{provide:vP,useValue:void 0},{provide:Y6,useExisting:n}]),We,Fn],ngContentSelectors:pTe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(Or(fTe),qt(0),A(1,"div",0,1),ge("@bodyExpansion.done",function(o){return r._bodyAnimationDone.next(o)}),A(3,"div",2),qt(4,1),Q(5,hTe,0,0,"ng-template",3),R(),qt(6,2),R()),2&i&&(O(1),L("@bodyExpansion",r._getExpandedState())("id",r.id),Ct("aria-labelledby",r._headerId),O(4),L("cdkPortalOutlet",r._portal))},dependencies:[Qx],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[K6.bodyExpansion]},changeDetection:0})}return n})();class bTe{}const wTe=Tk(bTe);let X6=(()=>{class n extends wTe{constructor(e,i,r,s,o,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=dt.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(fn(d=>!(!d.hideToggle&&!d.togglePosition))):_n;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=T(e.opened,e.closed,c,e._inputChanges.pipe(fn(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(fn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ca(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(w(Q6,1),w(Xe),w(am),w(zi),w(Z6,8),w(Ms,8),po("tabindex"))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&ge("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&i&&(Ct("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),td("height",r._getHeaderHeight()),it("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[We],ngContentSelectors:_Te,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(Or(gTe),A(0,"span",0),qt(1),qt(2,1),qt(3,2),R(),Q(4,mTe,1,1,"span",1)),2&i&&(it("mat-content-hide-toggle",!r._showToggle()),O(4),L("ngIf",r._showToggle()))},dependencies:[Ji],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[K6.indicatorRotate]},changeDetection:0})}return n})(),CTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),J6=(()=>{class n extends aTe{constructor(){super(...arguments),this._ownHeaders=new wp,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=gn(e)}ngAfterContentInit(){this._headers.changes.pipe(Yo(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new j_e(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,s){if(1&i&&Pt(s,X6,5),2&i){let o;ke(o=Me())&&(r._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&it("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[gt([{provide:vP,useExisting:n}]),We]})}return n})(),ETe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Ql,Kn,dTe,Tm]})}return n})();function xTe(n,t){}class iD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let e9=(()=>{class n extends cP{constructor(e,i,r,s,o,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const f=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),f},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=fk(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=fk();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fk())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(bk),w(mt,8),w(iD),w(qE),w(He),w(By),w(am))};static#t=this.\u0275cmp=ht({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&ln(Qx,7),2&i){let s;ke(s=Me())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Ct("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[We],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Q(0,xTe,0,0,"ng-template",0)},dependencies:[Qx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class yP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new H,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ca(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const t9=new ie("DialogScrollStrategy"),DTe=new ie("DialogData"),TTe=new ie("DefaultDialogConfig"),STe={provide:t9,deps:[Sa],useFactory:function ITe(n){return()=>n.scrollStrategies.block()}};let ATe=0,n9=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,o,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new H,this._afterOpenedAtThisLevel=new H,this._ariaHiddenElements=new Map,this.afterAllClosed=vv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yo(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new iD,...i}).id=i.id||"cdk-dialog-"+ATe++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),o=this._overlay.create(s),a=new yP(o,i),l=this._attachContainer(o,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){bP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){bP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),bP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new uP({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:iD,useValue:r},{provide:yP,useValue:i},{provide:By,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,o.push(...r.container.providers(r))):a=e9;const l=new Yx(a,r.viewContainerRef,vi.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,s){if(e instanceof hn){const o=this._createInjector(s,i,r,void 0);let a={$implicit:s.data,dialogRef:i};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Zx(e,null,a,o))}else{const o=this._createInjector(s,i,r,this._injector),a=r.attachComponentPortal(new Yx(e,s.viewContainerRef,o,s.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,s){const o=e.injector||e.viewContainerRef?.injector,a=[{provide:DTe,useValue:e.data},{provide:yP,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!o||!o.get(wd,null,{optional:!0}))&&a.push({provide:wd,useValue:{value:e.direction,change:M()}}),vi.create({parent:o||s,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sa),P(vi),P(TTe,8),P(n,12),P(Xx),P(t9))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function bP(n,t){let e=n.length;for(;e--;)t(n[e])}let RTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[n9,STe],imports:[Uy,Tm,Ck,Tm]})}return n})();function kTe(n,t){}class rD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wP="mdc-dialog--open",r9="mdc-dialog--opening",s9="mdc-dialog--closing";let OTe=(()=>{class n extends e9{constructor(e,i,r,s,o,a,l,c){super(e,i,r,s,o,a,l,c),this._animationStateChanged=new Re}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(bk),w(mt,8),w(rD),w(qE),w(He),w(By),w(am))};static#t=this.\u0275cmp=ht({type:n,selectors:[["ng-component"]],features:[We],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const o9="--mat-dialog-transition-duration";function a9(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?sm(n.substring(0,n.length-2)):n.endsWith("s")?1e3*sm(n.substring(0,n.length-1)):"0"===n?0:null}let NTe=(()=>{class n extends OTe{constructor(e,i,r,s,o,a,l,c,d){super(e,i,r,s,o,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?a9(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?a9(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(o9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(r9,wP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(wP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(wP),this._animationsEnabled?(this._hostElement.style.setProperty(o9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(s9)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(r9,s9)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||n)(w(Xe),w(bk),w(mt,8),w(rD),w(qE),w(He),w(By),w(Ms,8),w(am))};static#t=this.\u0275cmp=ht({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(wr("id",r._config.id),Ct("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),it("_mat-animation-noopable",!r._animationsEnabled))},features:[We],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),Q(2,kTe,0,0,"ng-template",2),R()())},dependencies:[Qx],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class FTe{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new H,this._beforeClosed=new H,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(fn(r=>"opened"===r.state),Dn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(fn(r=>"closed"===r.state),Dn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),T(this.backdropClick(),this.keydownEvents().pipe(fn(r=>27===r.keyCode&&!this.disableClose&&!Ca(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function LTe(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fn(e=>"closing"===e.state),Dn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const l9=new ie("MatMdcDialogData"),VTe=new ie("mat-mdc-dialog-default-options"),c9=new ie("mat-mdc-dialog-scroll-strategy"),UTe={provide:c9,deps:[Sa],useFactory:function BTe(n){return()=>n.scrollStrategies.block()}};let jTe=0,HTe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,o,a,l,c,d,f){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new H,this._afterOpenedAtThisLevel=new H,this._idPrefix="mat-dialog-",this.dialogConfigClass=rD,this.afterAllClosed=vv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yo(void 0))),this._scrollStrategy=a,this._dialog=i.get(n9)}open(e,i){let r;(i={...this._defaultOptions||new rD,...i}).id=i.id||`${this._idPrefix}${jTe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:iD,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(o,a,l)=>(r=new this._dialogRefConstructor(o,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){Jc()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),d9=(()=>{class n extends HTe{constructor(e,i,r,s,o,a,l,c){super(e,i,s,a,l,o,FTe,NTe,l9,c),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sa),P(vi),P(ov,8),P(VTe,8),P(c9),P(n,12),P(Xx),P(Ms,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),zTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[d9,UTe],imports:[RTe,Uy,Tm,Kn,Kn]})}return n})();const $Te=["spanAnchor"];function GTe(n,t){if(1&n){const e=St();A(0,"div",5)(1,"div",6)(2,"input",7),ge("ngModelChange",function(r){return Fe(e),Oe(G().searchWord=r)}),R()()()}if(2&n){const e=G();O(2),L("ngModel",e.searchWord)}}function WTe(n,t){if(1&n){const e=St();A(0,"div",16)(1,"mat-card",17)(2,"mat-card-header",11)(3,"mat-card-title"),ne(4),R()(),A(5,"mat-card-content",18),nt(6,"img",19),R(),A(7,"mat-card-footer")(8,"mat-card-content",11)(9,"mat-card-subtitle"),ne(10),R(),A(11,"div",0)(12,"button",20),ge("click",function(){const s=Fe(e).$implicit;return Oe(G(2).deleteFriend(s))}),A(13,"span",21)(14,"mat-icon"),ne(15,"delete"),R()()()()()()()()}if(2&n){const e=t.$implicit;O(4),Ln(" ",e[0].displayName," "),O(2),L("src",e[0].profilePhoto,zl),O(4),Ln(" ",e[0].email," ")}}function qTe(n,t){if(1&n){const e=St();A(0,"button",31),ge("click",function(){Fe(e);const r=G(3).$implicit;return Oe(G(2).getMessageUser(r))}),A(1,"span",21)(2,"mat-icon"),ne(3),R()()()}2&n&&(O(3),Ln(" ","chat"," "))}function KTe(n,t){if(1&n&&(vr(0),A(1,"div",24)(2,"h5",25)(3,"h2"),ne(4),R()(),A(5,"div",26),nt(6,"img",27)(7,"p",28),R(),A(8,"div",29),Q(9,qTe,4,1,"button",30),R()(),yr()),2&n){const e=G().$implicit,i=G().$implicit;O(4),qn(i.displayName),O(2),L("src",i.profilePicture,zl),O(3),L("ngIf",e===i.uid)}}function YTe(n,t){if(1&n&&(vr(0),Q(1,KTe,10,3,"ng-container",23),yr()),2&n){const e=t.$implicit,i=G().$implicit;O(1),L("ngIf",e===i.uid)}}function ZTe(n,t){if(1&n&&(A(0,"div",9),Q(1,YTe,2,1,"ng-container",22),R()),2&n){const e=G(2);O(1),L("ngForOf",e.userFriends)}}function QTe(n,t){if(1&n&&(A(0,"div",8)(1,"div",9)(2,"mat-accordion")(3,"mat-expansion-panel",10)(4,"mat-expansion-panel-header",11)(5,"mat-panel-title"),ne(6," Ismerosok "),A(7,"mat-icon",12),ne(8,"groups"),R()()(),A(9,"div",8),Q(10,WTe,16,3,"div",13),R()(),A(11,"mat-expansion-panel")(12,"mat-expansion-panel-header",14)(13,"mat-panel-title"),ne(14," Uzenetek "),A(15,"mat-icon",12),ne(16,"chat"),R()()(),A(17,"div",8),Q(18,ZTe,2,1,"div",15),R()()()()()),2&n){const e=G();O(10),L("ngForOf",e.userProfile[0].friends),O(8),L("ngForOf",e.userProfiles)}}function XTe(n,t){if(1&n){const e=St();A(0,"button",39),ge("click",function(){Fe(e);const r=G(4).$implicit;return Oe(G(2).signAsFirstFriend(r))}),A(1,"span",21)(2,"mat-icon"),ne(3),R()()()}2&n&&(O(3),Ln(" ","person_add"," "))}function JTe(n,t){if(1&n&&(vr(0),Q(1,XTe,4,1,"button",38),yr()),2&n){const e=t.$implicit,i=G(3).$implicit;O(1),L("ngIf",e.uid===i.uid)}}function eIe(n,t){if(1&n){const e=St();A(0,"button",42),ge("click",function(){Fe(e);const r=G(4).$implicit;return Oe(G(2).getMessageUser(r))}),A(1,"span",21)(2,"mat-icon"),ne(3),R()()()}2&n&&(G(4),G(2),O(3),Ln(" ","chat"," "))}function tIe(n,t){if(1&n){const e=St();A(0,"button",43),ge("click",function(){Fe(e);const r=G(4).$implicit;return Oe(G(2).signAsFirstFriend(r))}),A(1,"span",21)(2,"mat-icon"),ne(3),R()()()}if(2&n){const e=G().$implicit;L("ngClass",G(3).$implicit.uid==e?"green":""),O(3),Ln(" ","done"," ")}}function nIe(n,t){if(1&n&&(vr(0),Q(1,eIe,4,1,"button",40),Q(2,tIe,4,2,"button",41),yr()),2&n){const e=t.$implicit,i=G(3).$implicit;O(1),L("ngIf",e===i.uid),O(1),L("ngIf",e===i.uid)}}function iIe(n,t){1&n&&(A(0,"h4",44),ne(1," Ismer\u0151s\xf6k "),R())}function rIe(n,t){if(1&n&&(A(0,"ngb-toast",35),nt(1,"img",36),A(2,"div")(3,"small"),ne(4),R()(),Q(5,JTe,2,1,"ng-container",22),Q(6,nIe,3,2,"ng-container",22),Q(7,iIe,2,0,"h4",37),R()),2&n){const e=G(2).$implicit,i=G(2);L("id",e.uid)("autohide",!1)("header",e.displayName),O(1),L("src",e.profilePicture,zl),O(3),qn(e.email),O(1),L("ngForOf",i.userNotFriends),O(1),L("ngForOf",i.userFriends),O(1),L("ngIf",e.uid===i.signedFriend.uid)}}function sIe(n,t){if(1&n&&(vr(0),Q(1,rIe,8,8,"ngb-toast",34),yr()),2&n){const e=t.$implicit,i=G().$implicit,r=G(2);O(1),L("ngIf",e.uid===i.uid&&r.userProfile[0].uid!==i.uid)}}function oIe(n,t){if(1&n&&(A(0,"div",33),Q(1,sIe,2,1,"ng-container",22),R()),2&n){const e=G(2);O(1),L("ngForOf",e.userNotFriends)}}function aIe(n,t){if(1&n&&(A(0,"div",8),Q(1,oIe,2,1,"div",32),R()),2&n){const e=G();O(1),L("ngForOf",e.userProfiles)}}function lIe(n,t){if(1&n){const e=St();A(0,"button",48),ge("click",function(){return Fe(e),Oe(G(2).messageButtonClicked=!0)}),ne(1,"Uzenet irasa"),R()}}function cIe(n,t){if(1&n){const e=St();A(0,"button",56),ge("click",function(){Fe(e);const r=G(3);return Oe(r.editMessage?r.updateMessage():r.addMessage())}),ne(1),R()}if(2&n){const e=G(3);O(1),Ln(" ",e.editMessage?"Uzenet Modositasa":"\xdczenet k\xfcld\xe9se"," ")}}function dIe(n,t){if(1&n){const e=St();A(0,"button",57),ge("click",function(){Fe(e);const r=G(3);return Oe(r.isSAdmin?r.deleteMessages():r.clearInput())}),ne(1),R()}if(2&n){const e=G(3);O(1),Ln(" ",e.isSAdmin?"\xdczenetek t\xf6rl\xe9se":"Mez\xf6 t\xf6rl\xe9se"," ")}}function uIe(n,t){if(1&n){const e=St();A(0,"mat-card",49)(1,"mat-card-header",50)(2,"mat-card-title")(3,"button",51),ge("click",function(){Fe(e);const r=G(2);return r.backToUsers(),Oe(r.messageButtonClicked=!1)}),A(4,"span",21)(5,"mat-icon"),ne(6," keyboard_backspace "),R()()(),A(7,"mat-form-field",52)(8,"mat-label"),ne(9,"\xdczenet \xedr\xe1sa"),R(),A(10,"textarea",53),ge("ngModelChange",function(r){return Fe(e),Oe(G(2).message.message=r)}),R()()()(),A(11,"mat-card-content",0),Q(12,cIe,2,1,"button",54),Q(13,dIe,2,1,"button",55),R()()}if(2&n){const e=G(2);O(10),L("ngModel",e.message.message),O(2),L("ngIf",e.message.message),O(1),L("ngIf",e.message.message)}}function hIe(n,t){if(1&n&&(A(0,"div",45),Q(1,lIe,2,0,"button",46),Q(2,uIe,14,3,"mat-card",47),R()),2&n){const e=G();O(1),L("ngIf",!e.messageButtonClicked),O(1),L("ngIf",e.messageButtonClicked)}}function fIe(n,t){if(1&n){const e=St();A(0,"button",73),ge("click",function(){Fe(e);const r=G(3).$implicit;return Oe(G().navigateToUpdateMessage(r))}),ne(1," M\xf3dos\xedt\xe1s "),R()}2&n&&L("id",G(3).$implicit.key)}function pIe(n,t){if(1&n){const e=St();A(0,"span",74),ge("click",function(){Fe(e);const r=G(3).$implicit;return Oe(G().deleteMessage(r))}),R()}}function mIe(n,t){if(1&n&&(vr(0),A(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),ne(4),R(),nt(5,"img",61,62),R()(),A(7,"div",63)(8,"mat-card-content")(9,"b"),ne(10),R()(),A(11,"mat-card-content",64),nt(12,"mat-card-subtitle"),R()(),A(13,"mat-card-footer")(14,"mat-card-content",65),nt(15,"hr"),A(16,"mat-card-title-group",66)(17,"div",67)(18,"mat-card-subtitle",68),ne(19),R(),A(20,"mat-card-subtitle",68),ne(21),R()()(),A(22,"div",69)(23,"mat-card-actions",70),Q(24,fIe,2,1,"button",71),Q(25,pIe,1,0,"span",72),R()()()(),yr()),2&n){const e=G().$implicit,i=G().$implicit,r=G();O(4),Ln(" ",i.displayName," "),O(1),L("id",i.key)("src",i.profilePicture,zl),O(5),qn(i.message),O(8),L("ngClass",e.uid===r.user.userId?"grey":"right"),O(1),qn(i.email),O(1),L("ngClass",e.uid===r.user.userId?"grey":"right"),O(1),qn(i.date),O(3),L("ngIf",r.user.userId===i.uid),O(1),L("ngIf",r.user.userId===i.uid)}}function gIe(n,t){if(1&n&&(A(0,"mat-card",60),Q(1,mIe,26,10,"ng-container",23),R()),2&n){const e=t.$implicit,i=G().$implicit,r=G();L("ngClass",e.uid===r.user.userId?"left messagesCard":"right"),O(1),L("ngIf",i.uid===e.uid)}}function _Ie(n,t){if(1&n&&(A(0,"div",58),Q(1,gIe,2,2,"mat-card",59),R()),2&n){const e=t.$implicit,i=G();L("ngClass",e.uid===i.user.userId?"justify-content-start mainDivUser":"justify-content-end mainDivUsers"),O(1),L("ngForOf",i.userProfiles)}}const h9=".green[_ngcontent-%COMP%]{background-color:#15b315b3!important}mat-expansion-panel-header[_ngcontent-%COMP%]{grid-template-columns:auto auto;background-color:#d1e61266!important}mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#d1e612b3!important}.icons[_ngcontent-%COMP%]{position:relative;top:5px;margin-right:9px;margin-left:9px}.card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:80vw;height:30vh}.searchContainer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.searchContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#7d20d44d;overflow:auto}.searchContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#7d20d480}.left[_ngcontent-%COMP%]{background-color:#17178f80;color:#fff;width:50vw}.right[_ngcontent-%COMP%]{width:100vw}.buttonCont[_ngcontent-%COMP%]{text-align:center;width:100%;display:inline-flex;justify-content:end}.pad[_ngcontent-%COMP%]{padding:0}.emailDateDiv[_ngcontent-%COMP%]{text-align:left;width:-moz-fit-content;width:fit-content;overflow:auto;justify-content:start}.emailDateDiv[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.mat-card-title-group[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:wrap;justify-content:end}.messageCardDiv[_ngcontent-%COMP%]{position:fixed;bottom:0%;left:50%;z-index:2;transform:translate(-50%,40%);height:45vh}.grey[_ngcontent-%COMP%]{color:#201f1f}.mainDiv[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.mainDivUser[_ngcontent-%COMP%], .mainDivUsers[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (max-width: 400px){.right[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.left[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;justify-content:start}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:55vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:35vh}}@media screen and (min-width: 400px) and (max-width: 800px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:55vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}@media screen and (min-width: 800px) and (max-width: 1250px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:45vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}@media screen and (min-width: 1250px) and (max-width: 1900px){.right[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]{width:50vw}.mainDiv[_ngcontent-%COMP%]{width:85%}.messageCardDiv[_ngcontent-%COMP%]{height:50vh}.messageInput[_ngcontent-%COMP%]{width:80vw}.messageCard[_ngcontent-%COMP%]{width:100vw;height:60vh}}.deleteButton[_ngcontent-%COMP%]{background-color:red!important;color:#f5f5f5!important}.matHeader[_ngcontent-%COMP%]{width:max-content!important}.delCont[_ngcontent-%COMP%]{margin-left:100px;padding-left:20px}.updateButton[_ngcontent-%COMP%], .blue[_ngcontent-%COMP%]{background-color:#2121b6b3!important}.sendMessageOpenButton[_ngcontent-%COMP%]{top:50%;left:50%;z-index:2;transform:translate(-50%,-50%)}";let f9=(()=>{class n{constructor(e,i,r,s,o,a,l){this.dialog=e,this.ngbTooltipConfig=i,this.realTimeDatabase=r,this.auth=s,this.base=o,this.viewPortScroller=a,this.router=l,this.users=[],this.signAsFriend=new sTe,this.isSAdmin=!1,this.message=new rTe,this.messages=[],this.editMessage=!1,this.friendsOn=!1,this.sendPrivateMessageOn=!1,this.updateMessageKey="",this.userProfiles=[],this.userProfile=[],this.count=0,this.searchWord="",this.isFriend=!1,this.messageButtonsOn=!1,this.messageButtonClicked=!1,this.userNotFriends=[],this.userFriends=[],this.signedFriend={uid:"",email:"",displayName:""},this.selectedFriend=[],this.friendMessages=[],this.user={messageId:"",userId:"",displayName:"",email:""},i.animation=!0,i.closeDelay=2e3}addFriends(e){return this.refFriends.push(e)}ngOnInit(){setTimeout(()=>{this.base.getMessages().subscribe(e=>{if(0===this.messages.length)for(let i of e)i.uid===this.user.userId&&(this.user.messageId=i.uid),i.id=i.key,i.id=i.uid,this.count=Math.max(i.count),this.messages=e,this.base.updateMessage(i.key,i)}),this.userLoggedInSubscription=this.auth.userLoggedInSubject.subscribe(e=>{this.base.getUserProfiles().subscribe(i=>{this.userProfiles=i,this.userProfile=i.filter(r=>r.uid===e.uid),this.user.userId=this.userProfile[0].uid,this.userProfile[0].key=this.userProfile[0].key,this.user.displayName=this.userProfile[0].displayName,this.user.email=this.userProfile[0].email,this.refFriends=this.realTimeDatabase.list(`/users/${this.userProfile[0].key}/friends`),this.refFriends.snapshotChanges().pipe(we(r=>r.map(s=>({key:s.payload.key,...s.payload.val()})))).subscribe(r=>{this.friendsOn=!0,this.userProfile[0].friends=r;let s=this.userProfile[0].friends.map(a=>a[0].uid);this.userFriends=s;let o=this.userProfiles.map(a=>a).filter(a=>!s.includes(a.uid));this.userNotFriends=o})})})},2e3),this.isSuperAdminSubscription=this.auth.isSuperAdmin.subscribe(e=>this.isSAdmin=e)}addMessage(){this.message.uid||(this.message.uid=this.user.userId);let e=new Date,i=e.toLocaleDateString()+"  "+e.toLocaleTimeString();this.message.date=i,this.message.displayName=this.userProfile[0].displayName,this.message.email=this.userProfile[0].email,console.log(this.count),this.message.count=this.count+1,this.count++,this.message.profilePicture=this.userProfile[0].profilePicture,this.base.addMessage(this.message),this.base.getMessages().subscribe(r=>{let s=r.filter(o=>o.uid===this.selectedFriend[0][0].uid||o.uid===this.userProfile[0].uid);this.friendMessages=s})}clearInput(){this.message.message=""}deleteMessage(e){this.base.deleteMessage(e).then(i=>this.base.getMessages().subscribe(r=>{let s=r.filter(o=>o.uid===this.selectedFriend[0][0].uid||o.uid===this.userProfile[0].uid);this.friendMessages=s}))}deleteMessages(){this.base.deleteMessages()}navigateToUpdateMessage(e){this.updateMessageKey=e.key,this.editMessage=!0,this.message.message=e.message,this.viewPortScroller.scrollToPosition([0,0])}updateMessage(){this.message.uid||(this.message.uid=this.user.userId);let e=new Date,i=e.toLocaleDateString()+"  "+e.toLocaleTimeString();this.message.date=i,this.message.displayName=this.userProfile[0].displayName,this.message.email=this.userProfile[0].email,this.message.profilePicture=this.userProfile[0].profilePicture,this.message.displayName=this.userProfile[0].displayName,this.base.updateMessage(this.updateMessageKey,this.message),this.base.getMessages().subscribe(r=>{let s=r.filter(o=>o.uid===this.selectedFriend[0][0].uid||o.uid===this.userProfile[0].uid);this.friendMessages=s}),this.viewPortScroller.scrollToAnchor(this.updateMessageKey),this.editMessage=!1}backToUsers(){this.sendPrivateMessageOn=!1,this.friendMessages=[]}signAsFirstFriend(e){if(0===this.userProfile[0].friends.length){let r=[];r.push({uid:e.uid,displayName:e.displayName,email:e.email,profilePhoto:e.profilePicture}),this.addFriends(r)}else this.signAsAFriend(e)}signAsAFriend(e){let r=[];r.push({uid:e.uid,displayName:e.displayName,email:e.email,profilePhoto:e.profilePicture});let s=this.userProfile[0].friends.filter(o=>o[0].uid==e.uid);for(let o in s[0])this.signedFriend={uid:s[0][0].uid,email:s[0][0].email,displayName:s[0][0].displayName};0===s.length&&this.addFriends(r)}getMessageUser(e){let i=this.userProfile[0].friends.filter(s=>s[0].uid==e.uid);this.selectedFriend=i;let r=[];0!==this.selectedFriend.length&&(r=this.messages.filter(s=>s.uid===this.selectedFriend[0][0].uid||s.uid===this.userProfile[0].uid),console.log(r)),this.friendMessages=r,this.sendPrivateMessageOn=!0}deleteFriend(e){this.refFriends.remove(e.key)}openDialog(){this.dialog.open(vIe,{data:this.getMessageUser}).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`)})}ngOnDestroy(){this.userLoggedInSubscription&&this.userLoggedInSubscription.unsubscribe(),this.isSuperAdminSubscription&&this.isSuperAdminSubscription.unsubscribe(),this.usersSubscription&&this.usersSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(w(d9),w(RE),w(zM),w(sc),w(uc),w(xj),w(lr))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-chat"]],viewQuery:function(i,r){if(1&i&&(ln($Te,5),ln(J6,5)),2&i){let s;ke(s=Me())&&(r.toCreated=s.first),ke(s=Me())&&(r.accordion=s.first)}},decls:9,vars:11,consts:[[1,"text-center"],["class","text-center searchContainer",4,"ngIf"],["class","row",4,"ngIf"],["class","messageCardDiv d-grid justify-content-center",4,"ngIf"],["class","d-grid mainDiv",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center","searchContainer"],[1,"mb-2","w-50"],["type","text","id","floatingInput","name","search","placeholder","\xdczenet keres\xe9se",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col"],[1,"mb-2"],[1,"d-grid","justify-content-center"],[1,"ms-2"],["class","col-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#friendsModal",1,"d-grid","justify-content-center"],["class","col",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-3"],[1,"mb-3"],[1,"d-flex","justify-content-center"],["alt","","width","50px","height","50px",1,"rounded",3,"src"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"icons"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card","text-center","mt-2","text-white","bg-warning"],[1,"card-header"],[1,"card-body"],["width","50px","height","50px",1,"rounded-circle",3,"src"],[1,"card-text"],[1,"card-footer"],["mat-raised-button","","class","btn btn-sm btn-primary ms-2 blue","type","button",3,"click",4,"ngIf"],["mat-raised-button","","type","button",1,"btn","btn-sm","btn-primary","ms-2","blue",3,"click"],["class","col-12 col-md-6 col-lg-3 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["class","d-grid justify-content-center text-center mt-2",3,"id","autohide","header",4,"ngIf"],[1,"d-grid","justify-content-center","text-center","mt-2",3,"id","autohide","header"],["width","50px","height","50px","alt","",3,"src"],["class","fw-bold text-success mt-2",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"click"],["class","btn btn-sm btn-primary ms-2","type","button",3,"click",4,"ngIf"],["class","ms-2","mat-raised-button","","color","accent","type","button",3,"ngClass","click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-primary","ms-2",3,"click"],["mat-raised-button","","color","accent","type","button",1,"ms-2",3,"ngClass","click"],[1,"fw-bold","text-success","mt-2"],[1,"messageCardDiv","d-grid","justify-content-center"],["class","sendMessageOpenButton","mat-raised-button","","color","accent","type","button",3,"click",4,"ngIf"],["class","messageCard",4,"ngIf"],["mat-raised-button","","color","accent","type","button",1,"sendMessageOpenButton",3,"click"],[1,"messageCard"],[1,"justify-content-center"],["type","button","mat-raised-button","",1,"green","ms-2","me-2","mb-2",3,"click"],[1,"messageInput"],["matInput","","rows","2",3,"ngModel","ngModelChange"],["class","me-2","color","accent","mat-raised-button","",3,"click",4,"ngIf"],["class","deleteButton","mat-raised-button","",3,"click",4,"ngIf"],["color","accent","mat-raised-button","",1,"me-2",3,"click"],["mat-raised-button","",1,"deleteButton",3,"click"],[1,"d-grid","mainDiv",3,"ngClass"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],["mat-card-sm-image","","alt","Profilk\xe9p",1,"ms-2","overflow-auto",2,"border-radius","10px",3,"id","src"],["spanAnchor",""],[1,"recipe-making-container"],[1,"card-content"],[1,"pad"],[1,"mat-card-title-group"],[1,"emailDateDiv","d-grid","justify-content-start"],[3,"ngClass"],[1,"buttonCont"],[1,"d-flex","flex-wrap","justify-content-end"],["class","me-2","class","updateButton me-2","mat-raised-button","","color","accent","type","button",3,"id","click",4,"ngIf"],["class","ms-2 mt-2 bi bi-trash3-fill h3 text-danger rounded",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","type","button",1,"updateButton","me-2",3,"id","click"],[1,"ms-2","mt-2","bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){1&i&&(A(0,"h1",0),ne(1,"Flame Chat"),R(),Q(2,GTe,3,1,"div",1),Q(3,QTe,19,2,"div",2),Q(4,aIe,2,1,"div",2),Q(5,hIe,3,2,"div",3),Q(6,_Ie,2,2,"div",4),Ou(7,"filter"),Ou(8,"sort")),2&i&&(O(2),L("ngIf",r.sendPrivateMessageOn),O(1),L("ngIf",!r.sendPrivateMessageOn),O(1),L("ngIf",!r.sendPrivateMessageOn&&r.friendsOn),O(1),L("ngIf",r.sendPrivateMessageOn),O(1),L("ngForOf",Nu(7,5,Nu(8,8,r.friendMessages,r.message.date),r.searchWord)))},dependencies:[Zl,Js,Ji,O$,Xa,Xl,ec,xm,Od,Jx,pP,tD,mP,nD,B6,fP,eD,V6,Cd,Mk,Dm,J6,Q6,X6,CTe,n6,U6],styles:[h9]})}return n})(),vIe=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(w(l9))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-message-modal"]],decls:0,vars:0,template:function(i,r){},styles:[h9]})}return n})();const yIe=["f"];function bIe(n,t){if(1&n){const e=St();A(0,"div")(1,"label")(2,"input",23),ge("ngModelChange",function(r){return Fe(e),Oe(G().$implicit.gender=r)}),R(),ne(3),R()()}if(2&n){const e=t.$implicit,i=G().$implicit;O(2),L("ngModel",i.gender)("value",e),O(1),Ln(" ",e," ")}}const wIe=function(n){return{width:n}};function CIe(n,t){if(1&n&&(A(0,"div",24)(1,"div",25)(2,"h4",26),ne(3),R()()()),2&n){const e=G(2);O(1),function ua(n){fa(kB,Ute,n,!1)}(Qa(5,wIe,e.percent+"%")),Ct("aria-valuenow",e.percent)("aria-valuemin",e.percent),O(2),Ln("",e.percent,"%")}}function EIe(n,t){if(1&n&&(A(0,"div",27),nt(1,"img",28),R()),2&n){const e=G().$implicit;O(1),L("src",e.profilePicture,zl)("alt",e.profilePicture)}}function xIe(n,t){if(1&n&&(A(0,"div",19)(1,"div",27),nt(2,"img",29),R()()),2&n){const e=G(2);O(2),L("src",e.profilePhotoUrl,zl)}}function DIe(n,t){if(1&n){const e=St();A(0,"form",3,4),ge("ngSubmit",function(){return Fe(e),Oe(G().saveProfile())}),A(2,"mat-form-field")(3,"mat-label",5),ne(4,"Email"),R(),A(5,"input",6,7),ge("ngModelChange",function(r){return Oe(Fe(e).$implicit.email=r)}),R()(),A(7,"mat-form-field")(8,"mat-label",8),ne(9,"Felhaszn\xe1l\xf3n\xe9v"),R(),A(10,"input",9),ge("ngModelChange",function(r){return Oe(Fe(e).$implicit.displayName=r)}),R()(),A(11,"mat-form-field")(12,"mat-label",10),ne(13,"Sz\xfclet\xe9si id\u0151"),R(),A(14,"input",11),ge("ngModelChange",function(r){return Oe(Fe(e).$implicit.birthDate=r)}),R()(),Q(15,bIe,4,3,"div",12),A(16,"div",13)(17,"h2",14)(18,"label",15),ne(19,"Profilk\xe9p kiv\xe1laszt\xe1sa:"),R()(),A(20,"input",16),ge("change",function(r){return Fe(e),Oe(G().selectFile(r))})("ngModelChange",function(r){return Fe(e),Oe(G().profilePhoto=r)}),R(),A(21,"button",17),ge("click",function(){const s=Fe(e).$implicit,o=G();return Oe(s.profilePicture?o.changeProfilePic():o.addProfilePic())}),ne(22),R()(),Q(23,CIe,4,7,"div",18),A(24,"div",19),Q(25,EIe,2,2,"div",20),R(),Q(26,xIe,3,1,"ng-template",null,21,Os),A(28,"button",22),ne(29," Adatok ment\xe9se "),R()()}if(2&n){const e=t.$implicit,i=Qi(1),r=Qi(27),s=G();O(5),L("ngModel",e.email),O(5),L("ngModel",e.displayName),O(4),L("ngModel",e.birthDate),O(1),L("ngForOf",s.genders),O(5),L("ngModel",s.profilePhoto)("required",!e.profilePicture),O(2),Ln(" ","Profilk\xe9p Felt\xf6lt\xe9se"," "),O(1),L("ngIf",s.percent>0),O(2),L("ngIf",0===s.percent)("ngIfElse",r),O(3),L("disabled",!i.valid)}}const TIe=[{path:"",component:aye},{path:"notes",component:wxe},{path:"signup",component:o1e},{path:"login",component:f1e},{path:"users",component:v1e},{path:"weather",component:S1e},{path:"chat",component:f9},{path:"chat/:uid",component:f9},{path:"profile/:uid",component:(()=>{class n{ngOnDestroy(){this.profilePicSub.unsubscribe()}constructor(e,i,r,s){this.router=e,this.auth=i,this.base=r,this.route=s,this.users=[],this.genders=["F\xe9rfi","N\u0151"],this.userProfile=[],this.percent=0}ngOnInit(){this.profilePicSub=this.base.profilePicUrlSubject.subscribe(e=>{console.log(e),this.profilePhotoUrl=e})}ngAfterViewInit(){setTimeout(()=>{this.router.params.subscribe(e=>{console.log(e.uid),this.auth.getUsers().subscribe(i=>{const r=i.filter(s=>s.uid===e.uid);this.users=r,console.log(r)}),this.base.getUserProfiles().subscribe(i=>{const r=i.filter(s=>s.uid===e.uid);this.userProfile=r})})},5e3)}selectFile(e){this.profilePhoto=e.target.files[0]}saveProfile(){this.auth.isLoggedIn().subscribe(e=>{console.log(e),this.base.getUserProfiles().subscribe(i=>{let r=i.filter(a=>a.uid===e?.uid),s=r[0].key;console.log(r);let o=this.form.value;o.uid=e?.uid,o.profilePicture=""==this.userProfile[0].profilePicture||null==this.userProfile[0].profilePicture?this.profilePhotoUrl:r[0].profilePicture,this.base.updateUserData(o,s)}),setTimeout(()=>{this.route.navigate([""])},1e3)})}addProfilePic(){this.base.addProfilePicture(this.profilePhoto).subscribe(e=>this.percent=e)}changeProfilePic(){this.userProfile[0].profilePicture="",this.base.addProfilePicture(this.profilePhoto).subscribe(e=>this.percent=e)}static#e=this.\u0275fac=function(i){return new(i||n)(w(nl),w(sc),w(uc),w(lr))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-user-profile"]],viewQuery:function(i,r){if(1&i&&ln(yIe,5),2&i){let s;ke(s=Me())&&(r.form=s.first)}},decls:3,vars:1,consts:[[1,"row"],[1,"col-12"],["class","d-grid justify-content-center",3,"ngSubmit",4,"ngFor","ngForOf"],[1,"d-grid","justify-content-center",3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],["for","displayName"],["matInput","","type","text","name","displayName","required","",3,"ngModel","ngModelChange"],["for","birthDate"],["matInput","","type","date","name","birthDate","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"text-center"],["id","profilePicture","for","profilePicture",1,"form-label"],["id","profilePicture","type","file","name","profilePicture",1,"form-control",3,"ngModel","required","change","ngModelChange"],["type","button",1,"btn","btn-primary","mt-1",3,"click"],["class","progress mt-2 progressC","style","height: 50px; width: 100%",4,"ngIf"],[1,"d-grid","justify-content-center"],["class","profilePicContainer",4,"ngIf","ngIfElse"],["newPic",""],["color","accent","mat-raised-button","","type","submit",3,"disabled"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"],[1,"progress","mt-2","progressC",2,"height","50px","width","100%"],["role","progressbar","aria-valuemax","100",1,"progress-bar","progressC"],[1,"pt-2"],[1,"profilePicContainer"],[3,"src","alt"],["alt","Profilkep",3,"src"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1),Q(2,DIe,30,11,"form",2),R()()),2&i&&(O(2),L("ngForOf",r.userProfile))},dependencies:[Js,Ji,Ap,Xa,BC,Xl,Ip,_v,UC,ec,Jl,xm,Od,Cd,Dm],styles:[".profilePicContainer[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;text-align:center;width:50vw;height:25vh}.profilePicContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.progressC[_ngcontent-%COMP%]{background-color:#20208199!important}"]})}return n})()},{path:"**",redirectTo:""},{path:"recipes",component:M1e,children:[{path:"create",component:W6},{path:"detail",component:iTe},{path:"edit",component:W6}]},{path:"**",redirectTo:""}];let IIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[X4.forRoot(TIe),X4]})}return n})();function CP(){return he((n,t)=>{let e,i=!1;n.subscribe(Se(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var ze,SIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Aa={},EP=EP||{},Rt=SIe||self;function sD(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Hy(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var xP="closure_uid_"+(1e9*Math.random()>>>0),RIe=0;function kIe(n,t,e){return n.call.apply(n.bind,arguments)}function MIe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function hs(n,t,e){return(hs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kIe:MIe).apply(null,arguments)}function oD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Br(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Nd(){this.s=this.s,this.o=this.o}Nd.prototype.s=!1,Nd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AIe(n){Object.prototype.hasOwnProperty.call(n,xP)&&n[xP]||(n[xP]=++RIe)}(this)},Nd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const p9=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function DP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function m9(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(sD(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function fs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}fs.prototype.h=function(){this.defaultPrevented=!0};var OIe=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",()=>{},t),Rt.removeEventListener("test",()=>{},t)}catch{}return n}();function zy(n){return/^[\s\xa0]*$/.test(n)}function aD(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function fl(n){return-1!=aD().indexOf(n)}function TP(n){return TP[" "](n),n}TP[" "]=function(){};var SP,n,FIe=fl("Opera"),Im=fl("Trident")||fl("MSIE"),g9=fl("Edge"),IP=g9||Im,_9=fl("Gecko")&&!(-1!=aD().toLowerCase().indexOf("webkit")&&!fl("Edge"))&&!(fl("Trident")||fl("MSIE"))&&!fl("Edge"),LIe=-1!=aD().toLowerCase().indexOf("webkit")&&!fl("Edge");function v9(){var n=Rt.document;return n?n.documentMode:void 0}e:{var AP="",RP=(n=aD(),_9?/rv:([^\);]+)(\)|;)/.exec(n):g9?/Edge\/([\d\.]+)/.exec(n):Im?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):LIe?/WebKit\/(\S+)/.exec(n):FIe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RP&&(AP=RP?RP[1]:""),Im){var kP=v9();if(null!=kP&&kP>parseFloat(AP)){SP=String(kP);break e}}SP=AP}var VIe=Rt.document&&Im&&(v9()||parseInt(SP,10))||void 0;function $y(n,t){if(fs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_9){e:{try{TP(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:BIe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$y.$.h.call(this)}}Br($y,fs);var BIe={2:"touch",3:"pen",4:"mouse"};$y.prototype.h=function(){$y.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gy="closure_listenable_"+(1e6*Math.random()|0),UIe=0;function jIe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++UIe,this.fa=this.ia=!1}function lD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function PP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function b9(n){const t={};for(const e in n)t[e]=n[e];return t}const w9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C9(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<w9.length;s++)e=w9[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function cD(n){this.src=n,this.g={},this.h=0}function OP(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=p9(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(lD(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function NP(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}cD.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=NP(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new jIe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var FP="closure_lm_"+(1e6*Math.random()|0),LP={};function E9(n,t,e,i,r){if(i&&i.once)return D9(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)E9(n,t[s],e,i,r);return null}return e=jP(e),n&&n[Gy]?n.O(t,e,Hy(i)?!!i.capture:!!i,r):x9(n,t,e,!1,i,r)}function x9(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Hy(r)?!!r.capture:!!r,a=BP(n);if(a||(n[FP]=a=new cD(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function zIe(){const t=$Ie;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)OIe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(I9(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function D9(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)D9(n,t[s],e,i,r);return null}return e=jP(e),n&&n[Gy]?n.P(t,e,Hy(i)?!!i.capture:!!i,r):x9(n,t,e,!0,i,r)}function T9(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)T9(n,t[s],e,i,r);else i=Hy(i)?!!i.capture:!!i,e=jP(e),n&&n[Gy]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=NP(s=n.g[t],e,i,r))&&(lD(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=BP(n))&&(t=n.g[t.toString()],n=-1,t&&(n=NP(t,e,i,r)),(e=-1<n?t[n]:null)&&VP(e))}function VP(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Gy])OP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(I9(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=BP(t))?(OP(e,n),0==e.h&&(e.src=null,t[FP]=null)):lD(n)}}}function I9(n){return n in LP?LP[n]:LP[n]="on"+n}function $Ie(n,t){if(n.fa)n=!0;else{t=new $y(t,this);var e=n.listener,i=n.la||n.src;n.ia&&VP(n),n=e.call(i,t)}return n}function BP(n){return(n=n[FP])instanceof cD?n:null}var UP="__closure_events_fn_"+(1e9*Math.random()>>>0);function jP(n){return"function"==typeof n?n:(n[UP]||(n[UP]=function(t){return n.handleEvent(t)}),n[UP])}function Ur(){Nd.call(this),this.i=new cD(this),this.S=this,this.J=null}function Xr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new fs(t,n);else if(t instanceof fs)t.target=t.target||n;else{var r=t;C9(t=new fs(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=dD(o,i,!0,t)&&r}if(r=dD(o=t.g=n,i,!0,t)&&r,r=dD(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=dD(o=t.g=e[s],i,!1,t)&&r}function dD(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&OP(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Br(Ur,Nd),Ur.prototype[Gy]=!0,Ur.prototype.removeEventListener=function(n,t,e,i){T9(this,n,t,e,i)},Ur.prototype.N=function(){if(Ur.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)lD(e[i]);delete n.g[t],n.h--}}this.J=null},Ur.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ur.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var HP=Rt.JSON.stringify;function WIe(){var n=zP;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var S9=new class GIe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new KIe,n=>n.reset());class KIe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function YIe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function ZIe(n){Rt.setTimeout(()=>{throw n},0)}let Wy,qy=!1,zP=new class qIe{constructor(){this.h=this.g=null}add(t,e){const i=S9.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},A9=()=>{const n=Rt.Promise.resolve(void 0);Wy=()=>{n.then(QIe)}};var QIe=()=>{for(var n;n=WIe();){try{n.h.call(n.g)}catch(e){ZIe(e)}var t=S9;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}qy=!1};function uD(n,t){Ur.call(this),this.h=n||1,this.g=t||Rt,this.j=hs(this.qb,this),this.l=Date.now()}function $P(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function GP(n,t,e){if("function"==typeof n)e&&(n=hs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Rt.setTimeout(n,t||0)}function R9(n){n.g=GP(()=>{n.g=null,n.i&&(n.i=!1,R9(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Br(uD,Ur),(ze=uD.prototype).ga=!1,ze.T=null,ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xr(this,"tick"),this.ga&&($P(this),this.start()))}},ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.N=function(){uD.$.N.call(this),$P(this),delete this.g};class XIe extends Nd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:R9(this)}N(){super.N(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ky(n){Nd.call(this),this.h=n,this.g={}}Br(Ky,Nd);var k9=[];function M9(n,t,e,i){Array.isArray(e)||(e&&(k9[0]=e.toString()),e=k9);for(var r=0;r<e.length;r++){var s=E9(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function P9(n){PP(n.g,function(t,e){this.g.hasOwnProperty(e)&&VP(t)},n),n.g={}}function hD(){this.g=!0}function Sm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function nSe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return HP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ky.prototype.N=function(){Ky.$.N.call(this),P9(this)},Ky.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hD.prototype.Ea=function(){this.g=!1},hD.prototype.info=function(){};var yh={},O9=null;function fD(){return O9=O9||new Ur}function N9(n){fs.call(this,yh.Ta,n)}function Yy(n){const t=fD();Xr(t,new N9(t))}function F9(n,t){fs.call(this,yh.STAT_EVENT,n),this.stat=t}function Us(n){const t=fD();Xr(t,new F9(t,n))}function L9(n,t){fs.call(this,yh.Ua,n),this.size=t}function Zy(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},t)}yh.Ta="serverreachability",Br(N9,fs),yh.STAT_EVENT="statevent",Br(F9,fs),yh.Ua="timingevent",Br(L9,fs);var pD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},V9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WP(){}function U9(){}WP.prototype.h=null;var YP,Qy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qP(){fs.call(this,"d")}function KP(){fs.call(this,"c")}function mD(){}function Xy(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ky(this),this.P=iSe,this.V=new uD(n=IP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new j9}function j9(){this.i=null,this.g="",this.h=!1}Br(qP,fs),Br(KP,fs),Br(mD,WP),mD.prototype.g=function(){return new XMLHttpRequest},mD.prototype.i=function(){return{}},YP=new mD;var iSe=45e3,ZP={},gD={};function QP(n,t,e){n.L=1,n.v=bD(pc(t)),n.s=e,n.S=!0,H9(n,null)}function H9(n,t){n.G=Date.now(),Jy(n),n.A=pc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),X9(e.i,"t",i),n.C=0,e=n.l.J,n.h=new j9,n.g=Cq(n.l,e?t:null,!n.s),0<n.O&&(n.M=new XIe(hs(n.Pa,n,n.g),n.O)),M9(n.U,n.g,"readystatechange",n.nb),t=n.I?b9(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Yy(),function JIe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");o=2<=f.length&&"type"==f[1]?o+(d+"=")+c+"&":o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function z9(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $9(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=rSe(n,e),r==gD){4==t&&(n.o=4,Us(14),i=!1),Sm(n.j,n.m,null,"[Incomplete Response]");break}if(r==ZP){n.o=4,Us(15),Sm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Sm(n.j,n.m,r,null),XP(n,r)}z9(n)&&r!=gD&&r!=ZP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Us(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),sO(t),t.M=!0,Us(11))):(Sm(n.j,n.m,e,"[Invalid Chunked Response]"),bh(n),eb(n))}function rSe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?gD:(e=Number(t.substring(e,i)),isNaN(e)?ZP:(i+=1)+e>t.length?gD:(t=t.slice(i,i+e),n.C=i+e,t))}function Jy(n){n.Y=Date.now()+n.P,G9(n,n.P)}function G9(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zy(hs(n.lb,n),t)}function _D(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function eb(n){0==n.l.H||n.J||vq(n.l,n)}function bh(n){_D(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,$P(n.V),P9(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function XP(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||JP(e.i,n)))if(!n.K&&JP(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;TD(e),xD(e)}rO(e),Us(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Zy(hs(e.ib,e),6e3));if(1>=tq(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Ch(e,11)}else if((n.K||e.g==n)&&TD(e),!zy(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const d=c[3];null!=d&&(e.ra=d,e.l.info("VER="+e.ra));const f=c[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(e.L=i=1.5*m,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=i.i;s.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eO(s,s.h),s.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,bi(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=wq(i,i.J?i.pa:null,i.Y),o.K){nq(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(_D(a),Jy(a)),i.g=o}else gq(i);0<e.j.length&&DD(e)}else"stop"!=c[0]&&"close"!=c[0]||Ch(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ch(e,7):iO(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Yy()}catch{}}function W9(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(sD(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function oSe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sD(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function sSe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sD(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ze=Xy.prototype).setTimeout=function(n){this.P=n},ze.nb=function(n){n=n.target;const t=this.M;t&&3==pl(n)?t.l():this.Pa(n)},ze.Pa=function(n){try{if(n==this.g)e:{const d=pl(this.g);var t=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||IP||this.g&&(this.h.h||this.g.ja()||dq(this.g)))){this.J||4!=d||7==t||Yy(),_D(this);var e=this.g.da();this.ca=e;t:if(z9(this)){var i=dq(this.g);n="";var r=i.length,s=4==pl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bh(this),eb(this);var o="";break t}this.h.i=new Rt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function eSe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,d,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zy(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,Us(12),bh(this),eb(this);break e}Sm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,XP(this,e)}this.S?($9(this,d,o),IP&&this.i&&3==d&&(M9(this.U,this.V,"tick",this.mb),this.V.start())):(Sm(this.j,this.m,o,null),XP(this,o)),4==d&&bh(this),this.i&&!this.J&&(4==d?vq(this.l,this):(this.i=!1,Jy(this)))}else(function xSe(n){const t={};n=(n.g&&2<=pl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(zy(n[i]))continue;var e=YIe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function HIe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,Us(12)):(this.o=0,Us(13)),bh(this),eb(this)}}}catch{}},ze.mb=function(){if(this.g){var n=pl(this.g),t=this.g.ja();this.C<t.length&&(_D(this),$9(this,n,t),this.i&&4!=n&&Jy(this))}},ze.cancel=function(){this.J=!0,bh(this)},ze.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tSe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Yy(),Us(17)),bh(this),this.o=2,eb(this)):G9(this,this.Y-n)};var q9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wh){this.h=n.h,vD(this,n.j),this.s=n.s,this.g=n.g,yD(this,n.m),this.l=n.l;var t=n.i,e=new ib;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),K9(this,e),this.o=n.o}else n&&(t=String(n).match(q9))?(this.h=!1,vD(this,t[1]||"",!0),this.s=tb(t[2]||""),this.g=tb(t[3]||"",!0),yD(this,t[4]),this.l=tb(t[5]||"",!0),K9(this,t[6]||"",!0),this.o=tb(t[7]||"")):(this.h=!1,this.i=new ib(null,this.h))}function pc(n){return new wh(n)}function vD(n,t,e){n.j=e?tb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function yD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function K9(n,t,e){t instanceof ib?(n.i=t,function fSe(n,t){t&&!n.j&&(Fd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Z9(this,i),X9(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=nb(t,uSe)),n.i=new ib(t,n.h))}function bi(n,t,e){n.i.set(t,e)}function bD(n){return bi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,lSe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lSe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(nb(t,Y9,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(nb(t,Y9,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(nb(e,"/"==e.charAt(0)?dSe:cSe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",nb(e,hSe)),n.join("")};var Y9=/[#\/\?@]/g,cSe=/[#\?:]/g,dSe=/[#\?]/g,uSe=/[#\?@]/g,hSe=/#/g;function ib(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Fd(n){n.g||(n.g=new Map,n.h=0,n.i&&function aSe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Z9(n,t){Fd(n),t=Am(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Q9(n,t){return Fd(n),t=Am(n,t),n.g.has(t)}function X9(n,t,e){Z9(n,t),0<e.length&&(n.i=null,n.g.set(Am(n,t),DP(e)),n.h+=e.length)}function Am(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function J9(n){this.l=n||mSe,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ka&&Rt.g.Ka()&&Rt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=ib.prototype).add=function(n,t){Fd(this),this.i=null,n=Am(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ze.forEach=function(n,t){Fd(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ze.ta=function(){Fd(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ze.Z=function(n){Fd(this);let t=[];if("string"==typeof n)Q9(this,n)&&(t=t.concat(this.g.get(Am(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ze.set=function(n,t){return Fd(this),this.i=null,Q9(this,n=Am(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ze.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var mSe=10;function eq(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tq(n){return n.h?1:n.g?n.g.size:0}function JP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function eO(n,t){n.g?n.g.add(t):n.h=t}function nq(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function iq(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return DP(n.i)}J9.prototype.cancel=function(){if(this.i=iq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gSe=class{stringify(n){return Rt.JSON.stringify(n,void 0)}parse(n){return Rt.JSON.parse(n,void 0)}};function _Se(){this.g=new gSe}function vSe(n,t,e){const i=e||"";try{W9(n,function(r,s){let o=r;Hy(r)&&(o=HP(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function wD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function rb(n){this.l=n.ec||null,this.j=n.ob||!1}function CD(n,t){Ur.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=tO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Br(rb,WP),rb.prototype.g=function(){return new CD(this.l,this.j)},rb.prototype.i=function(n){return function(){return n}}({}),Br(CD,Ur);var tO=0;function rq(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ob(n)}function ob(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=CD.prototype).open=function(n,t){if(this.readyState!=tO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ob(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Rt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sb(this)),this.readyState=tO},ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ob(this)),this.g&&(this.readyState=3,ob(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rq(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?sb(this):ob(this),3==this.readyState&&rq(this)}},ze.Za=function(n){this.g&&(this.response=this.responseText=n,sb(this))},ze.Ya=function(n){this.g&&(this.response=n,sb(this))},ze.ka=function(){this.g&&sb(this)},ze.setRequestHeader=function(n,t){this.v.append(n,t)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(CD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bSe=Rt.JSON.parse;function Gi(n){Ur.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sq,this.L=this.M=!1}Br(Gi,Ur);var sq="",wSe=/^https?$/i,CSe=["POST","PUT"];function oq(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,aq(n),ED(n)}function aq(n){n.F||(n.F=!0,Xr(n,"complete"),Xr(n,"error"))}function lq(n){if(n.h&&typeof EP<"u"&&(!n.C[1]||4!=pl(n)||2!=n.da()))if(n.v&&4==pl(n))GP(n.La,0,n);else if(Xr(n,"readystatechange"),4==pl(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(q9)[1]||null;!r&&Rt.self&&Rt.self.location&&(r=Rt.self.location.protocol.slice(0,-1)),i=!wSe.test(r?r.toLowerCase():"")}e=i}if(e)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var s=2<pl(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",aq(n)}}finally{ED(n)}}}function ED(n,t){if(n.g){cq(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Xr(n,"ready");try{e.onreadystatechange=i}catch{}}}function cq(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function dq(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sq:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function uq(n){let t="";return PP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function nO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=uq(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):bi(n,t,e))}function ab(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function hq(n){this.Ga=0,this.j=[],this.l=new hD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ab("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ab("baseRetryDelayMs",5e3,n),this.hb=ab("retryDelaySeedMs",1e4,n),this.eb=ab("forwardChannelMaxRetries",2,n),this.xa=ab("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new J9(n&&n.concurrentRequestLimit),this.Ja=new _Se,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iO(n){if(fq(n),3==n.H){var t=n.W++,e=pc(n.I);if(bi(e,"SID",n.K),bi(e,"RID",t),bi(e,"TYPE","terminate"),lb(n,e),(t=new Xy(n,n.l,t)).L=2,t.v=bD(pc(e)),e=!1,Rt.navigator&&Rt.navigator.sendBeacon)try{e=Rt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Rt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Cq(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Jy(t)}bq(n)}function xD(n){n.g&&(sO(n),n.g.cancel(),n.g=null)}function fq(n){xD(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),TD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function DD(n){if(!eq(n.i)&&!n.m){n.m=!0;var t=n.Na;Wy||A9(),qy||(Wy(),qy=!0),zP.add(t,n),n.C=0}}function pq(n,t){var e;e=t?t.m:n.W++;const i=pc(n.I);bi(i,"SID",n.K),bi(i,"RID",e),bi(i,"AID",n.V),lb(n,i),n.o&&n.s&&nO(i,n.o,n.s),e=new Xy(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=mq(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),eO(n.i,e),QP(e,i,t)}function lb(n,t){n.na&&PP(n.na,function(e,i){bi(t,i,e)}),n.h&&W9({},function(e,i){bi(t,i,e)})}function mq(n,t,e){e=Math.min(n.j.length,e);var i=n.h?hs(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const d=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{vSe(d,o,"req"+c+"_")}catch{i&&i(d)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function gq(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Wy||A9(),qy||(Wy(),qy=!0),zP.add(t,n),n.A=0}}function rO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Zy(hs(n.Ma,n),yq(n,n.A)),n.A++,0))}function sO(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function _q(n){n.g=new Xy(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=pc(n.wa);bi(t,"RID","rpc"),bi(t,"SID",n.K),bi(t,"AID",n.V),bi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&bi(t,"TO",n.qa),bi(t,"TYPE","xmlhttp"),lb(n,t),n.o&&n.s&&nO(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=bD(pc(t)),e.s=null,e.S=!0,H9(e,n)}function TD(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function vq(n,t){var e=null;if(n.g==t){TD(n),sO(n),n.g=null;var i=2}else{if(!JP(n.i,t))return;e=t.F,nq(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Xr(i=fD(),new L9(i,e)),DD(n)}else gq(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function DSe(n,t){return!(tq(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Zy(hs(n.Na,n,t),yq(n,n.C)),n.C++,0)))}(n,t)||2==i&&rO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Ch(n,5);break;case 4:Ch(n,10);break;case 3:Ch(n,6);break;default:Ch(n,2)}}function yq(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Ch(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=hs(n.pb,n);e||(e=new wh("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||vD(e,"https"),bD(e)),function ySe(n,t){const e=new hD;if(Rt.Image){const i=new Image;i.onload=oD(wD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=oD(wD,e,i,"TestLoadImage: error",!1,t),i.onabort=oD(wD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=oD(wD,e,i,"TestLoadImage: timeout",!1,t),Rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Us(2);n.H=0,n.h&&n.h.za(t),bq(n),fq(n)}function bq(n){if(n.H=0,n.ma=[],n.h){const t=iq(n.i);(0!=t.length||0!=n.j.length)&&(m9(n.ma,t),m9(n.ma,n.j),n.i.i.length=0,DP(n.j),n.j.length=0),n.h.ya()}}function wq(n,t,e){var i=e instanceof wh?pc(e):new wh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),yD(i,i.m);else{var r=Rt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new wh(null);i&&vD(s,i),t&&(s.g=t),r&&yD(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&bi(i,e,t),bi(i,"VER",n.ra),lb(n,i),i}function Cq(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Gi(e&&n.Ha&&!n.va?new rb({ob:!0}):n.va)).Oa(n.J),t}function Eq(){}function ID(){if(Im&&!(10<=Number(VIe)))throw Error("Environmental error: no available transport.")}function Ao(n,t){Ur.call(this),this.g=new hq(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!zy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zy(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Rm(this)}function xq(n){qP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Dq(){KP.call(this),this.status=1}function Rm(n){this.g=n}function Ra(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oO(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function jn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(ze=Gi.prototype).Oa=function(n){this.M=n},ze.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YP.g(),this.C=function B9(n){return n.h||(n.h=n.i())}(this.u?this.u:YP),this.g.onreadystatechange=hs(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void oq(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Rt.FormData&&n instanceof Rt.FormData,!(0<=p9(CSe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cq(this),0<this.B&&((this.L=function ESe(n){return Im&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hs(this.ua,this)):this.A=GP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){oq(this,s)}},ze.ua=function(){typeof EP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),ED(this))},ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ED(this,!0)),Gi.$.N.call(this)},ze.La=function(){this.s||(this.G||this.v||this.l?lq(this):this.kb())},ze.kb=function(){lq(this)},ze.isActive=function(){return!!this.g},ze.da=function(){try{return 2<pl(this)?this.g.status:-1}catch{return-1}},ze.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ze.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),bSe(t)}},ze.Ia=function(){return this.m},ze.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=hq.prototype).ra=8,ze.H=1,ze.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Xy(this,this.l,n);let s=this.s;if(this.U&&(s?(s=b9(s),C9(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=mq(this,r,t),bi(e=pc(this.I),"RID",n),bi(e,"CVER",22),this.F&&bi(e,"X-HTTP-Session-Id",this.F),lb(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(uq(s)))+"&"+t:this.o&&nO(e,this.o,s)),eO(this.i,r),this.bb&&bi(e,"TYPE","init"),this.P?(bi(e,"$req",t),bi(e,"SID","null"),r.aa=!0,QP(r,e,null)):QP(r,e,t),this.H=2}}else 3==this.H&&(n?pq(this,n):0==this.j.length||eq(this.i)||pq(this))},ze.Ma=function(){if(this.u=null,_q(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Zy(hs(this.jb,this),n)}},ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Us(10),xD(this),_q(this))},ze.ib=function(){null!=this.v&&(this.v=null,xD(this),rO(this),Us(19))},ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Us(2)):(this.l.info("Failed to ping google.com"),Us(1))},ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(ze=Eq.prototype).Ba=function(){},ze.Aa=function(){},ze.za=function(){},ze.ya=function(){},ze.isActive=function(){return!0},ze.Va=function(){},ID.prototype.g=function(n,t){return new Ao(n,t)},Br(Ao,Ur),Ao.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Us(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=wq(n,null,n.Y),DD(n)},Ao.prototype.close=function(){iO(this.g)},Ao.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=HP(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&DD(t)},Ao.prototype.N=function(){this.g.h=null,delete this.j,iO(this.g),delete this.g,Ao.$.N.call(this)},Br(xq,qP),Br(Dq,KP),Br(Rm,Eq),Rm.prototype.Ba=function(){Xr(this.g,"a")},Rm.prototype.Aa=function(n){Xr(this.g,new xq(n))},Rm.prototype.za=function(n){Xr(this.g,new Dq)},Rm.prototype.ya=function(){Xr(this.g,"b")},Br(Ra,function TSe(){this.blockSize=-1}),Ra.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ra.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)oO(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){oO(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){oO(this,i),r=0;break}}this.h=r,this.i+=t},Ra.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var ISe={};function aO(n){return-128<=n&&128>n?function NIe(n,t){var e=ISe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new jn([0|t],0>t?-1:0)}):new jn([0|n],0>n?-1:0)}function ml(n){if(isNaN(n)||!isFinite(n))return km;if(0>n)return Jr(ml(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=lO;return new jn(t,0)}var lO=4294967296,km=aO(0),cO=aO(1),Iq=aO(16777216);function mc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function na(n){return-1==n.h}function Jr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new jn(e,~n.h).add(cO)}function SD(n,t){return n.add(Jr(t))}function AD(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function cb(n,t){this.g=n,this.h=t}function RD(n,t){if(mc(t))throw Error("division by zero");if(mc(n))return new cb(km,km);if(na(n))return t=RD(Jr(n),t),new cb(Jr(t.g),Jr(t.h));if(na(t))return t=RD(n,Jr(t)),new cb(Jr(t.g),t.h);if(30<n.g.length){if(na(n)||na(t))throw Error("slowDivide_ only works with positive integers.");for(var e=cO,i=t;0>=i.X(n);)e=Sq(e),i=Sq(i);var r=Mm(e,1),s=Mm(i,1);for(i=Mm(i,2),e=Mm(e,2);!mc(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Mm(i,1),e=Mm(e,1)}return t=SD(n,r.R(t)),new cb(r,t)}for(r=km;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=ml(e)).R(t);na(o)||0<o.X(n);)o=(s=ml(e-=i)).R(t);mc(s)&&(s=cO),r=r.add(s),n=SD(n,o)}return new cb(r,n)}function Sq(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new jn(e,n.h)}function Mm(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new jn(r,n.h)}(ze=jn.prototype).ea=function(){if(na(this))return-Jr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:lO+i)*t,t*=lO}return n},ze.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(mc(this))return"0";if(na(this))return"-"+Jr(this).toString(n);for(var t=ml(Math.pow(n,6)),e=this,i="";;){var r=RD(e,t).g,s=((0<(e=SD(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(mc(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ze.X=function(n){return na(n=SD(this,n))?-1:mc(n)?0:1},ze.abs=function(){return na(this)?Jr(this):this},ze.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new jn(e,-2147483648&e[e.length-1]?-1:0)},ze.R=function(n){if(mc(this)||mc(n))return km;if(na(this))return na(n)?Jr(this).R(Jr(n)):Jr(Jr(this).R(n));if(na(n))return Jr(this.R(Jr(n)));if(0>this.X(Iq)&&0>n.X(Iq))return ml(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,AD(e,2*i+2*r),e[2*i+2*r+1]+=s*l,AD(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,AD(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,AD(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new jn(e,0)},ze.gb=function(n){return RD(this,n).h},ze.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new jn(e,this.h&n.h)},ze.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new jn(e,this.h|n.h)},ze.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new jn(e,this.h^n.h)},ID.prototype.createWebChannel=ID.prototype.g,Ao.prototype.send=Ao.prototype.u,Ao.prototype.open=Ao.prototype.m,Ao.prototype.close=Ao.prototype.close,pD.NO_ERROR=0,pD.TIMEOUT=8,pD.HTTP_ERROR=6,V9.COMPLETE="complete",U9.EventType=Qy,Qy.OPEN="a",Qy.CLOSE="b",Qy.ERROR="c",Qy.MESSAGE="d",Ur.prototype.listen=Ur.prototype.O,Gi.prototype.listenOnce=Gi.prototype.P,Gi.prototype.getLastError=Gi.prototype.Sa,Gi.prototype.getLastErrorCode=Gi.prototype.Ia,Gi.prototype.getStatus=Gi.prototype.da,Gi.prototype.getResponseJson=Gi.prototype.Wa,Gi.prototype.getResponseText=Gi.prototype.ja,Gi.prototype.send=Gi.prototype.ha,Gi.prototype.setWithCredentials=Gi.prototype.Oa,Ra.prototype.digest=Ra.prototype.l,Ra.prototype.reset=Ra.prototype.reset,Ra.prototype.update=Ra.prototype.j,jn.prototype.add=jn.prototype.add,jn.prototype.multiply=jn.prototype.R,jn.prototype.modulo=jn.prototype.gb,jn.prototype.compare=jn.prototype.X,jn.prototype.toNumber=jn.prototype.ea,jn.prototype.toString=jn.prototype.toString,jn.prototype.getBits=jn.prototype.D,jn.fromNumber=ml,jn.fromString=function Tq(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Jr(Tq(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ml(Math.pow(t,8)),i=km,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=ml(Math.pow(t,s)),i=i.R(s).add(ml(o))):i=(i=i.R(e)).add(ml(o))}return i};var SSe=Aa.createWebChannelTransport=function(){return new ID},ASe=Aa.getStatEventTarget=function(){return fD()},dO=Aa.ErrorCode=pD,RSe=Aa.EventType=V9,kSe=Aa.Event=yh,Aq=Aa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MSe=Aa.FetchXmlHttpFactory=rb,kD=Aa.WebChannel=U9,PSe=Aa.XhrIo=Gi,OSe=Aa.Md5=Ra,Pm=Aa.Integer=jn;const Rq="@firebase/firestore";class jr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let Om="10.5.2";const Ld=new Eo.Yd("@firebase/firestore");function Nm(){return Ld.logLevel}function Te(n,...t){if(Ld.logLevel<=Eo.in.DEBUG){const e=t.map(uO);Ld.debug(`Firestore (${Om}): ${n}`,...e)}}function tr(n,...t){if(Ld.logLevel<=Eo.in.ERROR){const e=t.map(uO);Ld.error(`Firestore (${Om}): ${n}`,...e)}}function oo(n,...t){if(Ld.logLevel<=Eo.in.WARN){const e=t.map(uO);Ld.warn(`Firestore (${Om}): ${n}`,...e)}}function uO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ye(n="Unexpected state"){const t=`FIRESTORE (${Om}) INTERNAL ASSERTION FAILED: `+n;throw tr(t),new Error(t)}function at(n,t){n||Ye()}function Pe(n,t){return n}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends I.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class kq{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LSe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(jr.UNAUTHENTICATED))}shutdown(){}}class VSe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BSe{constructor(t){this.t=t,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xr,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable((0,ue.Z)(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at("string"==typeof i.accessToken),new kq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return at(null===t||"string"==typeof t),new jr(t)}}class USe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jSe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new USe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mq{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HSe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(at("string"==typeof e.token),this.R=e.token,new Mq(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zSe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Pq{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=zSe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function At(n,t){return n<t?-1:n>t?1:0}function Fm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Oq(n){return n+"\0"}class ki{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ki.fromMillis(Date.now())}static fromDate(t){return ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ki(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new lt(t)}static min(){return new lt(new ki(0,0))}static max(){return new lt(new ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class db{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ye(),void 0===i?i=t.length-e:i>t.length-e&&Ye(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===db.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof db?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yn extends db{construct(t,e,i){return new yn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const $Se=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends db{construct(t,e,i){return new wi(t,e,i)}static isValidIdentifier(t){return $Se.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wi(e)}static emptyPath(){return new wi([])}}class Ne{constructor(t){this.path=t}static fromPath(t){return new Ne(yn.fromString(t))}static fromName(t){return new Ne(yn.fromString(t).popFirst(5))}static empty(){return new Ne(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ne(new yn(t.slice()))}}class Lm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function hO(n){return n.fields.find(t=>2===t.kind)}function Eh(n){return n.fields.filter(t=>2!==t.kind)}Lm.UNKNOWN_ID=-1;class xh{constructor(t,e){this.fieldPath=t,this.kind=e}}class Vm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Vm(0,Ro.min())}}function Nq(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=lt.fromTimestamp(1e9===i?new ki(e+1,0):new ki(e,i));return new Ro(r,Ne.empty(),t)}function Fq(n){return new Ro(n.readTime,n.key,-1)}class Ro{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ro(lt.min(),Ne.empty(),-1)}static max(){return new Ro(lt.max(),Ne.empty(),-1)}}function fO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ne.comparator(n.documentKey,t.documentKey),0!==e?e:At(n.largestBatchId,t.largestBatchId))}const Lq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Vd(n){return pO.apply(this,arguments)}function pO(){return pO=(0,ue.Z)(function*(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Lq)throw n;Te("LocalStore","Unexpectedly lost primary lease")}),pO.apply(this,arguments)}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Z((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Z?e:Z.resolve(e)}catch(e){return Z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Z.reject(e)}static resolve(t){return new Z((e,i)=>{e(t)})}static reject(t){return new Z((e,i)=>{i(t)})}static waitFor(t){return new Z((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=Z.resolve(!1);for(const i of t)e=e.next(r=>r?Z.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Z((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(t,e){return new Z((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class MD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new xr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new ub(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=mO(i.target.error);this.V.reject(new ub(t,r))}}static open(t,e,i,r){try{return new MD(e,t.transaction(r,i))}catch(s){throw new ub(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Te("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new KSe(e)}}class ka{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===ka.S((0,I.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Te("SimpleDb","Removing database:",t),Dh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,I.hl)())return!1;if(ka.C())return!0;const t=(0,I.z$)(),e=ka.S(t),i=0<e&&e<10,r=ka.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,ue.Z)(function*(){return e.db||(Te("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new ub(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new ve(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ve(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new ub(t,a))},s.onupgradeneeded=o=>{Te("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{Te("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ue.Z)(function*(){const o="readonly"===e;let a=0;for(;;){++a;try{s.db=yield s.O(t);const l=MD.open(s.db,t,o?"readonly":"readwrite",i),c=r(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),Z.reject(d))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,d="FirebaseError"!==c.name&&a<3;if(Te("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),s.close(),!d)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qSe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Dh(this.k.delete())}}class ub extends ve{constructor(t,e){super(se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Bd(n){return"IndexedDbTransactionError"===n.name}class KSe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Te("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Dh(i)}add(t){return Te("SimpleDb","ADD",this.store.name,t,t),Dh(this.store.add(t))}get(t){return Dh(this.store.get(t)).next(e=>(void 0===e&&(e=null),Te("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Te("SimpleDb","DELETE",this.store.name,t),Dh(this.store.delete(t))}count(){return Te("SimpleDb","COUNT",this.store.name),Dh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,a)=>{s.push(a)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Z((s,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Z((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){Te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Z((i,r)=>{e.onerror=s=>{const o=mO(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(t,e){const i=[];return new Z((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new qSe(a),c=e(a.primaryKey,a.value,l);if(c instanceof Z){const d=c.catch(f=>(l.done(),Z.reject(f)));i.push(d)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>Z.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Dh(n){return new Z((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=mO(i.target.error);e(r)}})}let Bq=!1;function mO(n){const t=ka.S((0,I.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bq||(Bq=!0,setTimeout(()=>{throw i},0)),i}}return n}class YSe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Te("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ue.Z)(function*(){e.task=null;try{Te("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){Bd(i)?Te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Vd(i)}yield e.ee(6e4)}))}}class ZSe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,ue.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return Z.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return Te("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(a=>(Te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=Fq(s);fO(o,i)>0&&(i=o)}),new Ro(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ko=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function hb(n){return null==n}function fb(n){return 0===n&&1/n==-1/0}function Uq(n){return"number"==typeof n&&Number.isInteger(n)&&!fb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ps(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jq(t)),t=QSe(n.get(e),t);return jq(t)}function QSe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function jq(n){return n+"\x01\x01"}function gl(n){const t=n.length;if(at(t>=2),2===t)return at("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Ye(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Ye()}s=o+2}return new yn(i)}const Hq=["userId","batchId"];function PD(n,t){return[n,ps(t)]}function zq(n,t,e){return[n,ps(t),e]}const XSe={},JSe=["prefixPath","collectionGroup","readTime","documentId"],eAe=["prefixPath","collectionGroup","documentId"],tAe=["collectionGroup","readTime","prefixPath","documentId"],nAe=["canonicalId","targetId"],iAe=["targetId","path"],rAe=["path","targetId"],sAe=["collectionId","parent"],oAe=["indexId","uid"],aAe=["uid","sequenceNumber"],lAe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cAe=["indexId","uid","orderedDocumentKey"],dAe=["userId","collectionPath","documentId"],uAe=["userId","collectionPath","largestBatchId"],hAe=["userId","collectionGroup","largestBatchId"],$q=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fAe=[...$q,"documentOverlays"],Gq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wq=Gq,pAe=[...Wq,"indexConfiguration","indexState","indexEntries"];class gO extends Vq{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Hr(n,t){const e=Pe(n);return ka.M(e.ae,t)}function qq(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ud(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Kq(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ui{constructor(t,e){this.comparator=t,this.root=e||es.EMPTY}insert(t,e){return new ui(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,es.BLACK,null,null))}remove(t){return new ui(this.comparator,this.root.remove(t,this.comparator).copy(null,null,es.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new OD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new OD(this.root,t,this.comparator,!1)}getReverseIterator(){return new OD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new OD(this.root,t,this.comparator,!0)}}class OD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class es{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??es.RED,this.left=r??es.EMPTY,this.right=s??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new es(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return es.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const t=this.left.check();if(t!==this.right.check())throw Ye();return t+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(t,e,i,r,s){return this}insert(t,e,i){return new es(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(t){this.comparator=t,this.data=new ui(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Yq(this.data.getIterator())}getIteratorFrom(t){return new Yq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yn(this.comparator);return e.data=t,e}}class Yq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bm(n){return n.hasNext()?n.getNext():void 0}class ao{constructor(t){this.fields=t,t.sort(wi.comparator)}static empty(){return new ao([])}unionWith(t){let e=new Yn(wi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ao(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Zq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zq("Invalid base64 string: "+s):s}}(t);return new Dr(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Dr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const gAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(n){if(at(!!n),"string"==typeof n){let t=0;const e=gAe.exec(n);if(at(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gc(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function ND(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function FD(n){const t=n.mapValue.fields.__previous_value__;return ND(t)?FD(t):t}function pb(n){const t=jd(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}class _Ae{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Hd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Hd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hd&&t.projectId===this.projectId&&t.database===this.database}}const zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},LD={nullValue:"NULL_VALUE"};function $d(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ND(n)?4:e7(n)?9007199254740991:10:Ye()}function _l(n,t){if(n===t)return!0;const e=$d(n);if(e!==$d(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pb(n).isEqual(pb(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=jd(r.timestampValue),a=jd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,gc(n.bytesValue).isEqual(gc(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Wi(r.geoPointValue.latitude)===Wi(s.geoPointValue.latitude)&&Wi(r.geoPointValue.longitude)===Wi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Wi(r.integerValue)===Wi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Wi(r.doubleValue),a=Wi(s.doubleValue);return o===a?fb(o)===fb(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Fm(n.arrayValue.values||[],t.arrayValue.values||[],_l);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(qq(o)!==qq(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!_l(o[l],a[l])))return!1;return!0}(n,t);default:return Ye()}var s}function mb(n,t){return void 0!==(n.values||[]).find(e=>_l(e,t))}function Gd(n,t){if(n===t)return 0;const e=$d(n),i=$d(t);if(e!==i)return At(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Wi(s.integerValue||s.doubleValue),l=Wi(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return Qq(n.timestampValue,t.timestampValue);case 4:return Qq(pb(n),pb(t));case 5:return At(n.stringValue,t.stringValue);case 6:return function(s,o){const a=gc(s),l=gc(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=At(a[c],l[c]);if(0!==d)return d}return At(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=At(Wi(s.latitude),Wi(o.latitude));return 0!==a?a:At(Wi(s.longitude),Wi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Gd(a[c],l[c]);if(d)return d}return At(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===zd.mapValue&&o===zd.mapValue)return 0;if(s===zd.mapValue)return 1;if(o===zd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=At(l[f],d[f]);if(0!==m)return m;const _=Gd(a[l[f]],c[d[f]]);if(0!==_)return _}return At(l.length,d.length)}(n.mapValue,t.mapValue);default:throw Ye()}}function Qq(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return At(n,t);const e=jd(n),i=jd(t),r=At(e.seconds,i.seconds);return 0!==r?r:At(e.nanos,i.nanos)}function Um(n){return _O(n)}function _O(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=jd(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?Ne.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=_O(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${_O(e.fields[o])}`;return r+"}"}(n.mapValue):Ye()}function Th(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function vO(n){return!!n&&"integerValue"in n}function gb(n){return!!n&&"arrayValue"in n}function Xq(n){return!!n&&"nullValue"in n}function Jq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function BD(n){return!!n&&"mapValue"in n}function _b(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ud(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=_b(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_b(n.arrayValue.values[e]);return t}return Object.assign({},n)}function e7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vAe(n){return"nullValue"in n?LD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Th(Hd.empty(),Ne.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ye()}function yAe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Th(Hd.empty(),Ne.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zd:Ye()}function t7(n,t){const e=Gd(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function n7(n,t){const e=Gd(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ts{constructor(t){this.value=t}static empty(){return new ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!BD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_b(e)}setAll(t){let e=wi.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=_b(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());BD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return _l(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];BD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ud(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ts(_b(this.value))}}function i7(n){const t=[];return Ud(n.fields,(e,i)=>{const r=new wi([e]);if(BD(i)){const s=i7(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new ao(t)}class Ci{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ci(t,0,lt.min(),lt.min(),lt.min(),ts.empty(),0)}static newFoundDocument(t,e,i,r){return new Ci(t,1,e,lt.min(),i,r,0)}static newNoDocument(t,e){return new Ci(t,2,e,lt.min(),lt.min(),ts.empty(),0)}static newUnknownDocument(t,e){return new Ci(t,3,e,lt.min(),lt.min(),ts.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wd{constructor(t,e){this.position=t,this.inclusive=e}}function r7(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?Ne.comparator(Ne.fromName(o.referenceValue),e.key):Gd(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function s7(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!_l(n.position[e],t.position[e]))return!1;return!0}class vb{constructor(t,e="asc"){this.field=t,this.dir=e}}function bAe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class o7{}class pn extends o7{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new wAe(t,e,i):"array-contains"===e?new xAe(t,i):"in"===e?new h7(t,i):"not-in"===e?new DAe(t,i):"array-contains-any"===e?new TAe(t,i):new pn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new CAe(t,i):new EAe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Gd(e,this.value)):null!==e&&$d(this.value)===$d(e)&&this.matchesComparison(Gd(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends o7{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Hn(t,e)}matches(t){return jm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jm(n){return"and"===n.op}function yO(n){return"or"===n.op}function bO(n){return a7(n)&&jm(n)}function a7(n){for(const t of n.filters)if(t instanceof Hn)return!1;return!0}function wO(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+Um(n.value);if(bO(n))return n.filters.map(t=>wO(t)).join(",");{const t=n.filters.map(e=>wO(e)).join(",");return`${n.op}(${t})`}}function l7(n,t){return n instanceof pn?(i=n,(r=t)instanceof pn&&i.op===r.op&&i.field.isEqual(r.field)&&_l(i.value,r.value)):n instanceof Hn?function(i,r){return r instanceof Hn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&l7(o,r.filters[a]),!0)}(n,t):void Ye();var i,r}function c7(n,t){const e=n.filters.concat(t);return Hn.create(e,n.op)}function d7(n){return n instanceof pn?`${(e=n).field.canonicalString()} ${e.op} ${Um(e.value)}`:n instanceof Hn?function(e){return e.op.toString()+" {"+e.getFilters().map(d7).join(" ,")+"}"}(n):"Filter";var e}class wAe extends pn{constructor(t,e,i){super(t,e,i),this.key=Ne.fromName(i.referenceValue)}matches(t){const e=Ne.comparator(t.key,this.key);return this.matchesComparison(e)}}class CAe extends pn{constructor(t,e){super(t,"in",e),this.keys=u7(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class EAe extends pn{constructor(t,e){super(t,"not-in",e),this.keys=u7(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function u7(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class xAe extends pn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gb(e)&&mb(e.arrayValue,this.value)}}class h7 extends pn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&mb(this.value.arrayValue,e)}}class DAe extends pn{constructor(t,e){super(t,"not-in",e)}matches(t){if(mb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!mb(this.value.arrayValue,e)}}class TAe extends pn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>mb(this.value.arrayValue,i))}}class IAe{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function CO(n,t=null,e=[],i=[],r=null,s=null,o=null){return new IAe(n,t,e,i,r,s,o)}function Ih(n){const t=Pe(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>wO(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),hb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Um(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Um(i)).join(",")),t.ce=e}return t.ce}function yb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!bAe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!l7(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!s7(n.startAt,t.startAt)&&s7(n.endAt,t.endAt)}function UD(n){return Ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jD(n,t){return n.filters.filter(e=>e instanceof pn&&e.field.isEqual(t))}function f7(n,t,e){let i=LD,r=!0;for(const s of jD(n,t)){let o=LD,a=!0;switch(s.op){case"<":case"<=":o=vAe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=LD}t7({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];t7({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function p7(n,t,e){let i=zd,r=!0;for(const s of jD(n,t)){let o=zd,a=!0;switch(s.op){case">=":case">":o=yAe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=zd}n7({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];n7({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class _c{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function m7(n,t,e,i,r,s,o,a){return new _c(n,t,e,i,r,s,o,a)}function Hm(n){return new _c(n)}function g7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function EO(n){return null!==n.collectionGroup}function zm(n){const t=Pe(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yn(wi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new vb(s,i))}),e.has(wi.keyField().canonicalString())||t.le.push(new vb(wi.keyField(),i))}return t.le}function js(n){const t=Pe(n);return t.he||(t.he=function _7(n,t){if("F"===n.limitType)return CO(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new vb(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Wd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wd(n.startAt.position,n.startAt.inclusive):null;return CO(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,zm(n))),t.he}function xO(n,t){const e=n.filters.concat([t]);return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function HD(n,t,e){return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bb(n,t){return yb(js(n),js(t))&&n.limitType===t.limitType}function v7(n){return`${Ih(js(n))}|lt:${n.limitType}`}function $m(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>d7(r)).join(", ")}]`),hb(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Um(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Um(r)).join(",")),`Target(${i})`}(js(n))}; limitType=${n.limitType})`}function wb(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ne.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of zm(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=r7(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,zm(i),r)||i.endAt&&!function(o,a,l){const c=r7(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,zm(i),r)));var i,r}function y7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b7(n){return(t,e)=>{let i=!1;for(const r of zm(n)){const s=SAe(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function SAe(n,t,e){const i=n.field.isKeyField()?Ne.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Gd(l,c):Ye()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ye()}}class vc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ud(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Kq(this.inner)}size(){return this.innerSize}}const AAe=new ui(Ne.comparator);function lo(){return AAe}const w7=new ui(Ne.comparator);function Cb(...n){let t=w7;for(const e of n)t=t.insert(e.key,e);return t}function C7(n){let t=w7;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function vl(){return Eb()}function E7(){return Eb()}function Eb(){return new vc(n=>n.toString(),(n,t)=>n.isEqual(t))}const RAe=new ui(Ne.comparator),kAe=new Yn(Ne.comparator);function Bt(...n){let t=kAe;for(const e of n)t=t.add(e);return t}const MAe=new Yn(At);function DO(){return MAe}function x7(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fb(t)?"-0":t}}function D7(n){return{integerValue:""+n}}function T7(n,t){return Uq(t)?D7(t):x7(n,t)}class zD{constructor(){this._=void 0}}function PAe(n,t,e){return n instanceof Gm?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ND(s)&&(s=FD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Sh?S7(n,t):n instanceof Ah?A7(n,t):function(r,s){const o=I7(r,s),a=R7(o)+R7(r.Ie);return vO(o)&&vO(r.Ie)?D7(a):x7(r.serializer,a)}(n,t)}function OAe(n,t,e){return n instanceof Sh?S7(n,t):n instanceof Ah?A7(n,t):e}function I7(n,t){return n instanceof Wm?vO(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Gm extends zD{}class Sh extends zD{constructor(t){super(),this.elements=t}}function S7(n,t){const e=k7(t);for(const i of n.elements)e.some(r=>_l(r,i))||e.push(i);return{arrayValue:{values:e}}}class Ah extends zD{constructor(t){super(),this.elements=t}}function A7(n,t){let e=k7(t);for(const i of n.elements)e=e.filter(r=>!_l(r,i));return{arrayValue:{values:e}}}class Wm extends zD{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function R7(n){return Wi(n.integerValue||n.doubleValue)}function k7(n){return gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xb{constructor(t,e){this.field=t,this.transform=e}}class FAe{constructor(t,e){this.version=t,this.transformResults=e}}class Mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $D(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class GD{}function M7(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Km(n.key,Mi.none()):new qm(n.key,n.data,Mi.none());{const e=n.data,i=ts.empty();let r=new Yn(wi.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new yc(n.key,i,new ao(r.toArray()),Mi.none())}}function LAe(n,t,e){n instanceof qm?function(r,s,o){const a=r.value.clone(),l=N7(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof yc?function(r,s,o){if(!$D(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=N7(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(O7(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Db(n,t,e,i){return n instanceof qm?function(s,o,a,l){if(!$D(s.precondition,o))return a;const c=s.value.clone(),d=F7(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof yc?function(s,o,a,l){if(!$D(s.precondition,o))return a;const c=F7(s.fieldTransforms,l,o),d=o.data;return d.setAll(O7(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,$D(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function VAe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=I7(i.transform,r||null);null!=s&&(null===e&&(e=ts.empty()),e.set(i.field,s))}return e||null}function P7(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Fm(i,r,(s,o)=>function NAe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Sh&&r instanceof Sh||i instanceof Ah&&r instanceof Ah?Fm(i.elements,r.elements,_l):i instanceof Wm&&r instanceof Wm?_l(i.Ie,r.Ie):i instanceof Gm&&r instanceof Gm);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class qm extends GD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yc extends GD{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function O7(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function N7(n,t,e){const i=new Map;at(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,OAe(o,a,e[r]))}return i}function F7(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,PAe(s,o,t))}return i}class Km extends GD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends GD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&LAe(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Db(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Db(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=E7();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=M7(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Bt())}isEqual(t){return this.batchId===t.batchId&&Fm(this.mutations,t.mutations,(e,i)=>P7(e,i))&&Fm(this.baseMutations,t.baseMutations,(e,i)=>P7(e,i))}}class SO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){at(t.mutations.length===i.length);let r=RAe;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new SO(t,e,i,r)}}class AO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UAe{constructor(t,e){this.count=t,this.unchangedNames=e}}var ur,bn;function L7(n){switch(n){default:return Ye();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function V7(n){if(void 0===n)return tr("GRPC error has no .code"),se.UNKNOWN;switch(n){case ur.OK:return se.OK;case ur.CANCELLED:return se.CANCELLED;case ur.UNKNOWN:return se.UNKNOWN;case ur.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case ur.INTERNAL:return se.INTERNAL;case ur.UNAVAILABLE:return se.UNAVAILABLE;case ur.UNAUTHENTICATED:return se.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case ur.NOT_FOUND:return se.NOT_FOUND;case ur.ALREADY_EXISTS:return se.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return se.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case ur.ABORTED:return se.ABORTED;case ur.OUT_OF_RANGE:return se.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return se.UNIMPLEMENTED;case ur.DATA_LOSS:return se.DATA_LOSS;default:return Ye()}}(bn=ur||(ur={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";function B7(){return new TextEncoder}const jAe=new Pm([4294967295,4294967295],0);function U7(n){const t=B7().encode(n),e=new OSe;return e.update(t),new Uint8Array(e.digest())}function j7(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Pm([e,i],0),new Pm([r,s],0)]}class RO{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Tb(`Invalid padding: ${e}`);if(i<0)throw new Tb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Tb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Tb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Pm.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Pm.fromNumber(i)));return 1===r.compare(jAe)&&(r=new Pm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=U7(t),[i,r]=j7(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new RO(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=U7(t),[i,r]=j7(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Tb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ib{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Sb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ib(lt.min(),r,new ui(At),lo(),Bt())}}class Sb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Sb(i,e,Bt(),Bt(),Bt())}}class qD{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class H7{constructor(t,e){this.targetId=t,this.fe=e}}class z7{constructor(t,e,i=Dr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class $7{constructor(){this.ge=0,this.pe=W7(),this.ye=Dr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Bt(),e=Bt(),i=Bt();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ye()}}),new Sb(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=W7()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class HAe{constructor(t){this.Le=t,this.ke=new Map,this.qe=lo(),this.Qe=G7(),this.Ke=new ui(At)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:Ye()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(UD(s))if(0===i){const o=new Ne(s.path);this.We(e,o,Ci.newNoDocument(o,lt.min()))}else at(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=gc(i).toUint8Array()}catch(l){if(l instanceof Zq)return oo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new RO(o,r,s)}catch(l){return oo(l instanceof Tb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&UD(a.target)){const l=new Ne(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Ci.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Bt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Ib(t,e,this.Ke,this.qe,i);return this.qe=lo(),this.Qe=G7(),this.Ke=new ui(At),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new $7,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Yn(At),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Te("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new $7),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function G7(){return new ui(Ne.comparator)}function W7(){return new ui(Ne.comparator)}const zAe={asc:"ASCENDING",desc:"DESCENDING"},$Ae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GAe={and:"AND",or:"OR"};class WAe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function kO(n,t){return n.useProto3Json||hb(t)?t:{value:t}}function Ym(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q7(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qAe(n,t){return Ym(n,t.toTimestamp())}function nr(n){return at(!!n),lt.fromTimestamp(function(e){const i=jd(e);return new ki(i.seconds,i.nanos)}(n))}function MO(n,t){return(i=n,new yn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function K7(n){const t=yn.fromString(n);return at(iK(t)),t}function Ab(n,t){return MO(n.databaseId,t.path)}function yl(n,t){const e=K7(t);if(e.get(1)!==n.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ne(Z7(e))}function PO(n,t){return MO(n.databaseId,t)}function Y7(n){const t=K7(n);return 4===t.length?yn.emptyPath():Z7(t)}function Rb(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z7(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Q7(n,t,e){return{name:Ab(n,t),fields:e.value.mapValue.fields}}function X7(n,t,e){const i=yl(n,t.name),r=nr(t.updateTime),s=t.createTime?nr(t.createTime):lt.min(),o=new ts({mapValue:{fields:t.fields}}),a=Ci.newFoundDocument(i,r,s,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function kb(n,t){let e;if(t instanceof qm)e={update:Q7(n,t.key,t.value)};else if(t instanceof Km)e={delete:Ab(n,t.key)};else if(t instanceof yc)e={update:Q7(n,t.key,t.data),updateMask:tRe(t.fieldMask)};else{if(!(t instanceof TO))return Ye();e={verify:Ab(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Gm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wm)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ye()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:qAe(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ye()),e;var s}function OO(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Mi.updateTime(nr(s.updateTime)):void 0!==s.exists?Mi.exists(s.exists):Mi.none():Mi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(at("REQUEST_TIME"===a.setToServerValue),l=new Gm):"appendMissingElements"in a?l=new Sh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Ah(a.removeAllFromArray.values||[]):"increment"in a?l=new Wm(o,a.increment):Ye();const c=wi.fromServerFormat(a.fieldPath);return new xb(c,l)}(n,r)):[];var s;if(t.update){const r=yl(n,t.update.name),s=new ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new ao((t.updateMask.fieldPaths||[]).map(d=>wi.fromServerFormat(d)));return new yc(r,s,o,e,i)}return new qm(r,s,e,i)}if(t.delete){const r=yl(n,t.delete);return new Km(r,e)}if(t.verify){const r=yl(n,t.verify);return new TO(r,e)}return Ye()}function J7(n,t){return{documents:[PO(n,t.path)]}}function NO(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=PO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=PO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return nK(Hn.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:qd((f=c).field),direction:XAe(f.dir)};var f})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=kO(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function eK(n){let t=Y7(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){at(1===i);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];e.where&&(s=function(f){const m=tK(f);return m instanceof Hn&&bO(m)?m.getFilters():[m]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(m=>{return new vb(Zm((v=m).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;e.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,hb(m)?null:m}(e.limit));let l=null;var f;e.startAt&&(l=new Wd((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new Wd(f.values||[],!f.before)}(e.endAt)),m7(t,r,o,s,a,"F",l,c)}function tK(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Zm(e.unaryFilter.field);return pn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Zm(e.unaryFilter.field);return pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zm(e.unaryFilter.field);return pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zm(e.unaryFilter.field);return pn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):void 0!==n.fieldFilter?pn.create(Zm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Hn.create(e.compositeFilter.filters.map(i=>tK(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ye()}}(e.compositeFilter.op))}(n):Ye();var e}function XAe(n){return zAe[n]}function JAe(n){return $Ae[n]}function eRe(n){return GAe[n]}function qd(n){return{fieldPath:n.canonicalString()}}function Zm(n){return wi.fromServerFormat(n.fieldPath)}function nK(n){return n instanceof pn?function(e){if("=="===e.op){if(Jq(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(Xq(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jq(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(Xq(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:JAe(e.op),value:e.value}}}(n):n instanceof Hn?function(e){const i=e.getFilters().map(r=>nK(r));return 1===i.length?i[0]:{compositeFilter:{op:eRe(e.op),filters:i}}}(n):Ye()}function tRe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function iK(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bc{constructor(t,e,i,r,s=lt.min(),o=lt.min(),a=Dr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new bc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rK{constructor(t){this.ut=t}}function sK(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:KD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Ab(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Ym(s,o.version.toTimestamp()),createTime:Ym(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Rh(t.version)};else{if(!t.isUnknownDocument())return Ye();i.unknownDocument={path:e.path.toArray(),version:Rh(t.version)}}var s,o;return i}function KD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Rh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kh(n){const t=new ki(n.seconds,n.nanoseconds);return lt.fromTimestamp(t)}function Mh(n,t){const e=(t.baseMutations||[]).map(s=>OO(n.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>OO(n.ut,s)),r=ki.fromMillis(t.localWriteTimeMs);return new IO(t.batchId,r,e,i)}function Mb(n){const t=kh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?kh(n.lastLimboFreeSnapshotVersion):lt.min();let i;return i=void 0!==n.query.documents?(at(1===(s=n.query).documents.length),js(Hm(Y7(s.documents[0])))):function(s){return js(eK(s))}(n.query),new bc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Dr.fromBase64String(n.resumeToken));var s}function oK(n,t){const e=Rh(t.snapshotVersion),i=Rh(t.lastLimboFreeSnapshotVersion);let r;r=UD(t.target)?J7(n.ut,t.target):NO(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ih(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function FO(n){const t=eK({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?HD(t,t.limit,"L"):t}function LO(n,t){return new AO(t.largestBatchId,OO(n.ut,t.overlayMutation))}function aK(n,t){const e=t.path.lastSegment();return[n,ps(t.path.popLast()),e]}function lK(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Rh(i.readTime),documentKey:ps(i.documentKey.path),largestBatchId:i.largestBatchId}}class iRe{getBundleMetadata(t,e){return cK(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:kh(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return cK(t).put({bundleId:(r=e).id,createTime:Rh(nr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return dK(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:FO(s.bundledQuery),readTime:kh(s.readTime)};var s})}saveNamedQuery(t,e){return dK(t).put({name:(r=e).name,readTime:Rh(nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function cK(n){return Hr(n,"bundles")}function dK(n){return Hr(n,"namedQueries")}class YD{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new YD(t,e.uid||"")}getOverlay(t,e){return Pb(t).get(aK(this.userId,e)).next(i=>i?LO(this.serializer,i):null)}getOverlays(t,e){const i=vl();return Z.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const a=new AO(e,o);r.push(this.lt(t,a))}),Z.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(ps(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Pb(t).H("collectionPathOverlayIndex",a))}),Z.waitFor(s)}getOverlaysForCollection(t,e,i){const r=vl(),s=ps(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pb(t).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=LO(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=vl();let o;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Pb(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const f=LO(this.serializer,c);s.size()<r||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}lt(t,e){return Pb(t).put(function(r,s,o){const[a,l,c]=aK(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kb(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function Pb(n){return Hr(n,"documentOverlays")}class Ph{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Wi(t.integerValue));else if("doubleValue"in t){const i=Wi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),fb(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(gc(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?e7(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Ye()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Ne.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function rRe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function uK(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=rRe(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}Ph.St=new Ph;class sRe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=uK(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=uK(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class oRe{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class aRe{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Ob{constructor(){this.Wt=new sRe,this.Gt=new oRe(this.Wt),this.zt=new aRe(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Oh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Oh(this.indexId,this.documentKey,this.arrayValue,i)}}function Kd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=hK(n.arrayValue,t.arrayValue),0!==e?e:(e=hK(n.directionalValue,t.directionalValue),0!==e?e:Ne.comparator(n.documentKey,t.documentKey)))}function hK(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class fK{constructor(t){this.Jt=new Yn((e,i)=>wi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(at(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=hO(t);if(void 0!==e&&!this.tn(e))return!1;const i=Eh(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<i.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new Yn(wi.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new xh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new xh(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new xh(i.field,"asc"===i.dir?0:1)));return new Lm(Lm.UNKNOWN_ID,this.collectionId,e,Vm.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function pK(n){var t,e;if(at(n instanceof pn||n instanceof Hn),n instanceof pn){if(n instanceof h7){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>pn.create(n.field,"==",s)))||[];return Hn.create(r,"or")}return n}const i=n.filters.map(r=>pK(r));return Hn.create(i,n.op)}function lRe(n){if(0===n.getFilters().length)return[];const t=UO(pK(n));return at(mK(t)),VO(t)||BO(t)?[t]:t.getFilters()}function VO(n){return n instanceof pn}function BO(n){return n instanceof Hn&&bO(n)}function mK(n){return VO(n)||BO(n)||function(e){if(e instanceof Hn&&yO(e)){for(const i of e.getFilters())if(!VO(i)&&!BO(i))return!1;return!0}return!1}(n)}function UO(n){if(at(n instanceof pn||n instanceof Hn),n instanceof pn)return n;if(1===n.filters.length)return UO(n.filters[0]);const t=n.filters.map(i=>UO(i));let e=Hn.create(t,n.op);return e=ZD(e),mK(e)?e:(at(e instanceof Hn),at(jm(e)),at(e.filters.length>1),e.filters.reduce((i,r)=>jO(i,r)))}function jO(n,t){let e;return at(n instanceof pn||n instanceof Hn),at(t instanceof pn||t instanceof Hn),e=n instanceof pn?t instanceof pn?Hn.create([n,t],"and"):gK(n,t):t instanceof pn?gK(t,n):function(r,s){if(at(r.filters.length>0&&s.filters.length>0),jm(r)&&jm(s))return c7(r,s.getFilters());const o=yO(r)?r:s,a=yO(r)?s:r,l=o.filters.map(c=>jO(c,a));return Hn.create(l,"or")}(n,t),ZD(e)}function gK(n,t){if(jm(t))return c7(t,n.getFilters());{const e=t.filters.map(i=>jO(n,i));return Hn.create(e,"or")}}function ZD(n){if(at(n instanceof pn||n instanceof Hn),n instanceof pn)return n;const t=n.getFilters();if(1===t.length)return ZD(t[0]);if(a7(n))return n;const e=t.map(r=>ZD(r)),i=[];return e.forEach(r=>{r instanceof pn?i.push(r):r instanceof Hn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Hn.create(i,n.op)}class cRe{constructor(){this.on=new HO}addToCollectionParentIndex(t,e){return this.on.add(e),Z.resolve()}getCollectionParents(t,e){return Z.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Z.resolve()}deleteFieldIndex(t,e){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,e){return Z.resolve()}getDocumentsMatchingTarget(t,e){return Z.resolve(null)}getIndexType(t,e){return Z.resolve(0)}getFieldIndexes(t,e){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,e){return Z.resolve(Ro.min())}getMinOffsetFromCollectionGroup(t,e){return Z.resolve(Ro.min())}updateCollectionGroup(t,e,i){return Z.resolve()}updateIndexEntries(t,e){return Z.resolve()}}class HO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Yn(yn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yn(yn.comparator)).toArray()}}const QD=new Uint8Array(0);class dRe{constructor(t,e){this.user=t,this.databaseId=e,this._n=new HO,this.an=new vc(i=>Ih(i),(i,r)=>yb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:ps(r)};return _K(t).put(s)}return Z.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Oq(e),""],!1,!0);return _K(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(gl(o.parent))}return i})}addFieldIndex(t,e){const i=Nb(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const o=Xm(t);return s.next(a=>{o.put(lK(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Nb(t),r=Xm(t),s=Qm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Nb(t),i=Qm(t),r=Xm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Z.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new fK(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=Qm(t);let r=!0;const s=new Map;return Z.forEach(this.un(e),o=>this.cn(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Bt();const a=[];return Z.forEach(s,(l,c)=>{var B;Te("IndexedDbIndexManager",`Using index ${B=l,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`} to execute ${Ih(e)}`);const d=function(B,W){const de=hO(W);if(void 0===de)return null;for(const Ie of jD(B,de.fieldPath))switch(Ie.op){case"array-contains-any":return Ie.value.arrayValue.values||[];case"array-contains":return[Ie.value]}return null}(c,l),f=function(B,W){const de=new Map;for(const Ie of Eh(W))for(const Le of jD(B,Ie.fieldPath))switch(Le.op){case"==":case"in":de.set(Ie.fieldPath.canonicalString(),Le.value);break;case"not-in":case"!=":return de.set(Ie.fieldPath.canonicalString(),Le.value),Array.from(de.values())}return null}(c,l),m=function(B,W){const de=[];let Ie=!0;for(const Le of Eh(W)){const st=0===Le.kind?f7(B,Le.fieldPath,B.startAt):p7(B,Le.fieldPath,B.startAt);de.push(st.value),Ie&&(Ie=st.inclusive)}return new Wd(de,Ie)}(c,l),_=function(B,W){const de=[];let Ie=!0;for(const Le of Eh(W)){const st=0===Le.kind?p7(B,Le.fieldPath,B.endAt):f7(B,Le.fieldPath,B.endAt);de.push(st.value),Ie&&(Ie=st.inclusive)}return new Wd(de,Ie)}(c,l),v=this.ln(l,c,m),b=this.ln(l,c,_),E=this.hn(l,c,f),N=this.Pn(l.indexId,d,v,m.inclusive,b,_.inclusive,E);return Z.forEach(N,k=>i.j(k,e.limit).next(B=>{B.forEach(W=>{const de=Ne.fromSegments(W.documentKey);o.has(de)||(o=o.add(de),a.push(de))})}))}).next(()=>a)}return Z.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:lRe(Hn.create(t.filters,"and")).map(i=>CO(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,a){const l=(null!=e?e.length:1)*Math.max(i.length,s.length),c=l/(null!=e?e.length:1),d=[];for(let f=0;f<l;++f){const m=e?this.In(e[f/c]):QD,_=this.Tn(t,m,i[f%c],r),v=this.En(t,m,s[f%c],o),b=a.map(E=>this.Tn(t,m,E,!0));d.push(...this.createRange(_,v,b))}return d}Tn(t,e,i,r){const s=new Oh(t,Ne.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new Oh(t,Ne.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new fK(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)i.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return Z.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(l){let c=new Yn(wi.comparator),d=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?d=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Ob;for(const r of Eh(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);Ph.St.ht(s,o)}return i.Ut()}In(t){const e=new Ob;return Ph.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Ob;return Ph.St.ht(Th(this.databaseId,e),i.jt(function(s){const o=Eh(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Ob);let s=0;for(const o of Eh(t)){const a=i[s++];for(const l of r)if(this.Rn(e,o.fieldPath)&&gb(a))r=this.Vn(r,o,a);else{const c=l.jt(o.kind);Ph.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new Ob;l.seed(a.Ut()),Ph.St.ht(o,l.jt(e.kind)),s.push(l)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof pn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Nb(t),r=Xm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return Z.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const m=f?new Vm(f.sequenceNumber,new Ro(kh(f.readTime),new Ne(gl(f.documentKey)),f.largestBatchId)):Vm.empty(),_=d.fields.map(([v,b])=>new xh(wi.fromServerFormat(v),b));return new Lm(d.indexId,d.collectionGroup,_,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:At(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Nb(t),s=Xm(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>Z.forEach(a,l=>s.put(lK(l.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return Z.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?Z.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),Z.forEach(a,l=>this.gn(t,r,l).next(c=>{const d=this.pn(s,l);return c.isEqual(d)?Z.resolve():this.yn(t,s,l,c,d)}))))})}wn(t,e,i,r){return Qm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Qm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Qm(t);let s=new Yn(Kd);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,a)=>{s=s.add(new Oh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(t,e){let i=new Yn(Kd);const r=this.dn(e,t);if(null==r)return i;const s=hO(e);if(null!=s){const o=t.data.field(s.fieldPath);if(gb(o))for(const a of o.arrayValue.values||[])i=i.add(new Oh(e.indexId,t.key,this.In(a),r))}else i=i.add(new Oh(e.indexId,t.key,QD,r));return i}yn(t,e,i,r,s){Te("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(l,c,d,f,m){const _=l.getIterator(),v=c.getIterator();let b=Bm(_),E=Bm(v);for(;b||E;){let N=!1,k=!1;if(b&&E){const B=d(b,E);B<0?k=!0:B>0&&(N=!0)}else null!=b?k=!0:N=!0;N?(f(E),E=Bm(v)):k?(m(b),b=Bm(_)):(b=Bm(_),E=Bm(v))}}(r,s,Kd,a=>{o.push(this.wn(t,e,i,a))},a=>{o.push(this.Sn(t,e,i,a))}),Z.waitFor(o)}fn(t){let e=1;return Xm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,a)=>Kd(o,a)).filter((o,a,l)=>!a||0!==Kd(o,l[a-1]));const r=[];r.push(t);for(const o of i){const a=Kd(o,t),l=Kd(o,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(o),r.push(o.Ht());else if(l>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,QD,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,QD,[]]))}return s}bn(t,e){return Kd(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(vK)}getMinOffset(t,e){return Z.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Ye())).next(vK)}}function _K(n){return Hr(n,"collectionParents")}function Qm(n){return Hr(n,"indexEntries")}function Nb(n){return Hr(n,"indexConfiguration")}function Xm(n){return Hr(n,"indexState")}function vK(n){at(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;fO(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ro(t.readTime,t.documentKey,e)}const yK={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ms(t,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bK(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:o},(d,f,m)=>(a++,m.delete()));s.push(l.next(()=>{at(1===a)}));const c=[];for(const d of e.mutations){const f=zq(t,d.key.path,e.batchId);s.push(r.delete(f)),c.push(d.key)}return Z.waitFor(s).next(()=>c)}function XD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ye();t=n.noDocument}return JSON.stringify(t).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class JD{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){at(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new JD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yd(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Jm(t),o=Yd(t);return o.add({}).next(a=>{at("number"==typeof a);const l=new IO(a,e,i,r),c=function(_,v,b){const E=b.baseMutations.map(k=>kb(_.ut,k)),N=b.mutations.map(k=>kb(_.ut,k));return{userId:v,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:N}}(this.serializer,this.userId,l),d=[];let f=new Yn((m,_)=>At(m.canonicalString(),_.canonicalString()));for(const m of r){const _=zq(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(_,XSe))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),Z.waitFor(d).next(()=>l)})}lookupMutationBatch(t,e){return Yd(t).get(e).next(i=>i?(at(i.userId===this.userId),Mh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Z.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Yd(t).Y({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(at(a.batchId>=i),s=Mh(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yd(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yd(t).W("userMutationsIndex",e).next(i=>i.map(r=>Mh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=PD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Jm(t).Y({range:r},(o,a,l)=>{const[c,d,f]=o,m=gl(d);if(c===this.userId&&e.path.isEqual(m))return Yd(t).get(f).next(_=>{if(!_)throw Ye();at(_.userId===this.userId),s.push(Mh(this.serializer,_))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(At);const r=[];return e.forEach(s=>{const o=PD(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Jm(t).Y({range:a},(c,d,f)=>{const[m,_,v]=c,b=gl(_);m===this.userId&&s.path.isEqual(b)?i=i.add(v):f.done()});r.push(l)}),Z.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=PD(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new Yn(At);return Jm(t).Y({range:o},(l,c,d)=>{const[f,m,_]=l,v=gl(m);f===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(_)):d.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Yd(t).get(s).next(o=>{if(null===o)throw Ye();at(o.userId===this.userId),i.push(Mh(this.serializer,o))}))}),Z.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return bK(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Z.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Z.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Jm(t).Y({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=gl(s[1]);r.push(l)}else a.done()}).next(()=>{at(0===r.length)})})}containsKey(t,e){return wK(t,this.userId,e)}Mn(t){return CK(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wK(n,t,e){const i=PD(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Jm(n).Y({range:s,J:!0},(a,l,c)=>{const[d,f,m]=a;d===t&&f===r&&(o=!0),c.done()}).next(()=>o)}function Yd(n){return Hr(n,"mutations")}function Jm(n){return Hr(n,"documentMutations")}function CK(n){return Hr(n,"mutationQueues")}class Nh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Nh(0)}static Nn(){return new Nh(-1)}}class uRe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Nh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>lt.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>eg(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(at(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return eg(t).Y((o,a)=>{const l=Mb(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>Z.waitFor(s)).next(()=>r)}forEachTarget(t,e){return eg(t).Y((i,r)=>{const s=Mb(r);e(s)})}Bn(t){return EK(t).get("targetGlobalKey").next(e=>(at(null!==e),e))}Ln(t,e){return EK(t).put("targetGlobalKey",e)}kn(t,e){return eg(t).put(oK(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ih(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return eg(t).Y({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=Mb(a);yb(e,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Zd(t);return e.forEach(o=>{const a=ps(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,o))}),Z.waitFor(r)}removeMatchingKeys(t,e,i){const r=Zd(t);return Z.forEach(e,s=>{const o=ps(s.path);return Z.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Zd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Zd(t);let s=Bt();return r.Y({range:i,J:!0},(o,a,l)=>{const c=gl(o[1]),d=new Ne(c);s=s.add(d)}).next(()=>s)}containsKey(t,e){const i=ps(e.path),r=IDBKeyRange.bound([i],[Oq(i)],!1,!0);let s=0;return Zd(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}_t(t,e){return eg(t).get(e).next(i=>i?Mb(i):null)}}function eg(n){return Hr(n,"targets")}function EK(n){return Hr(n,"targetGlobal")}function Zd(n){return Hr(n,"targetDocuments")}function xK([n,t],[e,i]){const r=At(n,e);return 0===r?At(t,i):r}class hRe{constructor(t){this.Qn=t,this.buffer=new Yn(xK),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();xK(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DK{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;Te("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ue.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Bd(i)?Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Vd(i)}yield e.Gn(3e5)}))}}class fRe{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Z.resolve(ko._e);const i=new hRe(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yK)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yK):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Nm()<=Eo.in.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-d}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}class pRe{constructor(t,e){this.db=t,this.garbageCollector=function TK(n,t){return new fRe(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return e1(t,i)}removeReference(t,e,i){return e1(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return e1(t,e)}Xn(t,e){return function(r,s){let o=!1;return CK(r).Z(a=>wK(r,a,s).next(l=>(l&&(o=!0),Z.resolve(!l)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,a)=>{if(a<=e){const l=this.Xn(t,o).next(c=>{if(!c)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,lt.min()),Zd(t).delete([0,ps(o.path)])))});r.push(l)}}).next(()=>Z.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return e1(t,e)}Zn(t,e){const i=Zd(t);let r,s=ko._e;return i.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==ko._e&&e(new Ne(gl(r)),s),s=c,r=l):s=ko._e}).next(()=>{s!==ko._e&&e(new Ne(gl(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function e1(n,t){return Zd(n).put((r=n.currentSequenceNumber,{targetId:0,path:ps(t.path),sequenceNumber:r}));var r}class IK{constructor(){this.changes=new vc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mRe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Fh(t).put(i)}removeEntry(t,e,i){return Fh(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],KD(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=Ci.newInvalidDocument(e);return Fh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Fb(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:Ci.newInvalidDocument(e)};return Fh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Fb(e))},(r,s)=>{i={document:this.tr(e,s),size:XD(s)}}).next(()=>i)}getEntries(t,e){let i=lo();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=lo(),r=new ui(Ne.comparator);return this.rr(t,e,(s,o)=>{const a=this.tr(s,o);i=i.insert(s,a),r=r.insert(s,XD(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Z.resolve();let r=new Yn(kK);e.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Fb(r.first()),Fb(r.last())),o=r.getIterator();let a=o.getNext();return Fh(t).Y({index:"documentKeyIndex",range:s},(l,c,d)=>{const f=Ne.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&kK(a,f)<0;)i(a,null),a=o.getNext();a&&a.isEqual(f)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?d.U(Fb(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),KD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fh(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=lo();for(const f of c){const m=this.tr(Ne.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(wb(e,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(t,e,i,r){let s=lo();const o=RK(e,i),a=RK(e,Ro.max());return Fh(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.tr(Ne.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===r&&d.done()}).next(()=>s)}newChangeBuffer(t){return new gRe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return AK(t).get("remoteDocumentGlobalKey").next(e=>(at(!!e),e))}er(t,e){return AK(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function nRe(n,t){let e;if(t.document)e=X7(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ne.fromSegments(t.noDocument.path),r=kh(t.noDocument.readTime);e=Ci.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ye();{const i=Ne.fromSegments(t.unknownDocument.path),r=kh(t.unknownDocument.version);e=Ci.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new ki(r[0],r[1]);return lt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(lt.min()))return i}return Ci.newInvalidDocument(t)}}function SK(n){return new mRe(n)}class gRe extends IK{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new vc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Yn((s,o)=>At(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=sK(this._r.serializer,o);r=r.add(s.path.popLast());const c=XD(l);i+=c-a.size,e.push(this._r.addEntry(t,s,l))}else if(i-=a.size,this.trackRemovals){const l=sK(this._r.serializer,o.convertToNoDocument(lt.min()));e.push(this._r.addEntry(t,s,l))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),Z.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function AK(n){return Hr(n,"remoteDocumentGlobal")}function Fh(n){return Hr(n,"remoteDocumentsV14")}function Fb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function RK(n,t){const e=t.documentKey.path.toArray();return[n,KD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function kK(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=At(e[s],i[s]),r)return r;return r=At(e.length,i.length),r||(r=At(e[e.length-2],i[i.length-2]),r||At(e[e.length-1],i[i.length-1]))}class _Re{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class MK{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Db(i.mutation,r,ao.empty(),ki.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Bt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Bt()){const r=vl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Cb();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=vl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Bt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=lo();const o=Eb(),a=Eb();return e.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(void 0===d||d.mutation instanceof yc)?s=s.insert(c.key,c):void 0!==d?(o.set(c.key,d.mutation.getFieldMask()),Db(d.mutation,c,d.mutation.getFieldMask(),ki.now())):o.set(c.key,ao.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),e.forEach((c,d)=>{var f;return a.set(c,new _Re(d,null!==(f=o.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Eb();let r=new ui((o,a)=>o-a),s=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let d=i.get(l)||ao.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||Bt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=E7();d.forEach(m=>{if(!s.has(m)){const _=M7(e.get(m),i.get(m));null!==_&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,f))}return Z.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Ne.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):EO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Z.resolve(vl());let a=-1,l=s;return o.next(c=>Z.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Bt())).next(d=>({batchId:a,changes:C7(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ne(e)).next(i=>{let r=Cb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Cb();return this.indexManager.getCollectionParents(t,s).next(a=>Z.forEach(a,l=>{const c=(f=e,m=l.child(s),new _c(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();null===o.get(d)&&(o=o.insert(d,Ci.newInvalidDocument(d)))});let a=Cb();return o.forEach((l,c)=>{const d=s.get(l);void 0!==d&&Db(d.mutation,c,ao.empty(),ki.now()),wb(e,c)&&(a=a.insert(l,c))}),a})}}class vRe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Z.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:nr(r.createTime)}),Z.resolve();var r}getNamedQuery(t,e){return Z.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:FO(r.bundledQuery),readTime:nr(r.readTime)}),Z.resolve();var r}}class yRe{constructor(){this.overlays=new ui(Ne.comparator),this.lr=new Map}getOverlay(t,e){return Z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=vl();return Z.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),Z.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),Z.resolve()}getOverlaysForCollection(t,e,i){const r=vl(),s=e.length+1,o=new Ne(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Z.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ui((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let d=s.get(c.largestBatchId);null===d&&(d=vl(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=vl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return Z.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new AO(e,i));let s=this.lr.get(e);void 0===s&&(s=Bt(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class zO{constructor(){this.hr=new Yn(zr.Pr),this.Ir=new Yn(zr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new zr(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new zr(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Ne(new yn([])),i=new zr(e,t),r=new zr(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Ne(new yn([])),i=new zr(e,t),r=new zr(e,t+1);let s=Bt();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new zr(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class zr{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Ne.comparator(t.key,e.key)||At(t.gr,e.gr)}static Tr(t,e){return At(t.gr,e.gr)||Ne.comparator(t.key,e.key)}}class bRe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Yn(zr.Pr)}checkEmpty(t){return Z.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new IO(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new zr(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(t,e){return Z.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zr(e,0),r=new zr(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(At);return e.forEach(r=>{const s=new zr(r,0),o=new zr(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),Z.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ne.isDocumentKey(s)||(s=s.child(""));const o=new zr(new Ne(s),0);let a=new Yn(At);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),Z.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){at(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Z.forEach(e.mutations,r=>{const s=new zr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new zr(e,0),r=this.yr.firstAfterOrEqual(i);return Z.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Z.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class wRe{constructor(t){this.Cr=t,this.docs=new ui(Ne.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Z.resolve(i?i.document.mutableCopy():Ci.newInvalidDocument(e))}getEntries(t,e){let i=lo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ci.newInvalidDocument(r))}),Z.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=lo();const o=e.path,a=new Ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fO(Fq(d),i)<=0||(r.has(d.key)||wb(e,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Ye()}vr(t,e){return Z.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new CRe(this)}getSize(t){return Z.resolve(this.size)}}class CRe extends IK{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Z.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class ERe{constructor(t){this.persistence=t,this.Fr=new vc(e=>Ih(e),yb),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new zO,this.targetCount=0,this.Nr=Nh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Z.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Nh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Z.resolve()}updateTargetData(t,e){return this.kn(e),Z.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Z.waitFor(s).next(()=>r)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Z.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Z.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Z.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Z.resolve(i)}containsKey(t,e){return Z.resolve(this.Or.containsKey(e))}}class $O{constructor(t,e){this.Br={},this.overlays={},this.Lr=new ko(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new ERe(this),this.indexManager=new cRe,this.remoteDocumentCache=new wRe(i=>this.referenceDelegate.Qr(i)),this.serializer=new rK(e),this.Kr=new vRe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yRe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new bRe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){Te("MemoryPersistence","Starting transaction:",t);const r=new xRe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return Z.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class xRe extends Vq{constructor(t){super(),this.currentSequenceNumber=t}}class t1{constructor(t){this.persistence=t,this.Gr=new zO,this.zr=null}static jr(t){return new t1(t)}get Hr(){if(this.zr)return this.zr;throw Ye()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Z.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Z.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Hr,i=>{const r=Ne.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,lt.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Z.or([()=>Z.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class DRe{constructor(t){this.serializer=t}N(t,e,i,r){const s=new MD("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hq,{unique:!0}),l.createObjectStore("documentMutations"),PK(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=Z.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),PK(t)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lt.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hq,{unique:!0});const f=c.store("mutations"),m=d.map(_=>f.put(_));return Z.waitFor(m)})}(t,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:dAe});c.createIndex("collectionPathOverlayIndex",uAe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",hAe,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:JSe});c.createIndex("documentKeyIndex",eAe),c.createIndex("collectionGroupIndex",tAe)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:oAe}).createIndex("sequenceNumberIndex",aAe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:lAe}).createIndex("documentKeyIndex",cAe,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=XD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Z.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(a=>Z.forEach(a,l=>{at(l.userId===s.userId);const c=Mh(this.serializer,l);return bK(t,s.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,a)=>{const l=new yn(o),c=[0,ps(l)];s.push(e.get(c).next(d=>d?Z.resolve():e.put({targetId:0,path:ps(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Z.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:sAe});const i=e.store("collectionParents"),r=new HO,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:ps(l)})}};return e.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new yn(o);return s(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const d=gl(a);return s(d.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=Mb(r),o=oK(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const a=e.store("remoteDocumentsV14"),l=(f=o,f.document?new Ne(yn.fromString(f.document.name).popFirst(5)):f.noDocument?Ne.fromSegments(f.noDocument.path):f.unknownDocument?Ne.fromSegments(f.unknownDocument.path):Ye()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>Z.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=SK(this.serializer),s=new $O(t1.jr,this.serializer.ut);return i.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=null!==(c=a.get(l.userId))&&void 0!==c?c:Bt();Mh(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),Z.forEach(a,(l,c)=>{const d=new jr(c),f=YD.ct(this.serializer,d),m=s.getIndexManager(d),_=JD.ct(d,this.serializer,m,s.referenceDelegate);return new MK(r,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new gO(e,ko._e),l).next()})})}}function PK(n){n.createObjectStore("targetDocuments",{keyPath:iAe}).createIndex("documentTargetsIndex",rAe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nAe,{unique:!0}),n.createObjectStore("targetGlobal")}const GO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WO{constructor(t,e,i,r,s,o,a,l,c,d,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=d,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!WO.D())throw new ve(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pRe(this,r),this.Ii=e+"main",this.serializer=new rK(l),this.Ti=new ka(this.Ii,this.ai,new DRe(this.serializer)),this.qr=new uRe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SK(this.serializer),this.Kr=new iRe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===d&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(se.FAILED_PRECONDITION,GO);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new ko(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,ue.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,ue.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,ue.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>r1(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(Bd(t))return Te("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Lb(t).get("owner").next(e=>Z.resolve(this.wi(e)))}Si(t){return r1(t).delete(this.clientId)}bi(){var t=this;return(0,ue.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Hr(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return Z.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Z.resolve(!0):Lb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new ve(se.FAILED_PRECONDITION,GO);return!1}}return!(!this.networkEnabled||!this.inForeground)||r1(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Te("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ue.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new gO(e,ko._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>r1(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return JD.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new dRe(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return YD.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){Te("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.ai)?pAe:14===l?Wq:13===l?Gq:12===l?fAe:11===l?$q:void Ye();var l;let o;return this.Ti.runTransaction(t,r,s,a=>(o=new gO(a,this.Lr?this.Lr.next():ko._e),"readwrite-primary"===e?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw tr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ve(se.FAILED_PRECONDITION,Lq);return i(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(t){return Lb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ve(se.FAILED_PRECONDITION,GO)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lb(t).put("owner",e)}static D(){return ka.D()}pi(t){const e=Lb(t);return e.get("owner").next(i=>this.wi(i)?(Te("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Z.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(tr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,I.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return Te("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return tr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){tr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Lb(n){return Hr(n,"owner")}function r1(n){return Hr(n,"clientMetadata")}function qO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class KO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Bt(),r=Bt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new KO(t,e.fromCache,i,r)}}class TRe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OK{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new TRe;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Nm()<=Eo.in.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",$m(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Z.resolve()):(Nm()<=Eo.in.DEBUG&&Te("QueryEngine","Query:",$m(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Nm()<=Eo.in.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",$m(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,js(e))):Z.resolve())}zi(t,e){if(g7(e))return Z.resolve(null);let i=js(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=HD(e,null,"F"),i=js(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Bt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,HD(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return g7(e)||r.isEqual(lt.min())?Z.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?Z.resolve(null):(Nm()<=Eo.in.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$m(e)),this.Xi(t,o,e,Nq(r,-1)).next(a=>a))})}Yi(t,e){let i=new Yn(b7(t));return e.forEach((r,s)=>{wb(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Nm()<=Eo.in.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",$m(e)),this.Gi.getDocumentsMatchingQuery(t,e,Ro.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class IRe{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ui(At),this.ns=new vc(s=>Ih(s),yb),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MK(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function NK(n,t,e,i){return new IRe(n,t,e,i)}function FK(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,ue.Z)(function*(n,t){const e=Pe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Bt();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),YO.apply(this,arguments)}function LK(n){const t=Pe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function VK(n,t,e){let i=Bt(),r=Bt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=lo();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(lt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function RRe(n,t){const e=Pe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function tg(n,t){const e=Pe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,Z.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new bc(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function ng(n,t,e){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,ue.Z)(function*(n,t,e){const i=Pe(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Bd(o))throw o;Te("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),ZO.apply(this,arguments)}function s1(n,t,e){const i=Pe(n);let r=lt.min(),s=Bt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Pe(l),m=f.ns.get(d);return void 0!==m?Z.resolve(f.ts.get(m)):f.qr.getTargetData(c,d)}(i,o,js(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:lt.min(),e?s:Bt())).next(a=>(jK(i,y7(t),a),{documents:a,ls:s})))}function BK(n,t){const e=Pe(n),i=Pe(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function UK(n,t){const e=Pe(n),i=e.rs.get(t)||lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,Nq(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(jK(e,t,r),r))}function jK(n,t,e){let i=n.rs.get(t)||lt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function QO(){return QO=(0,ue.Z)(function*(n,t,e,i){const r=Pe(n);let s=Bt(),o=lo();for(const c of e){const d=t.hs(c.metadata.name);c.document&&(s=s.add(d));const f=t.Ps(c);f.setReadTime(t.Is(c.metadata.readTime)),o=o.insert(d,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield tg(r,(d=i,js(Hm(yn.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>VK(c,a,o).next(d=>(a.apply(c),d)).next(d=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.us,d.cs)).next(()=>d.us)))}),QO.apply(this,arguments)}function MRe(n,t){return XO.apply(this,arguments)}function XO(){return XO=(0,ue.Z)(function*(n,t,e=Bt()){const i=yield tg(n,js(FO(t.bundledQuery))),r=Pe(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=nr(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const a=i.withResumeToken(Dr.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(s,a).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),XO.apply(this,arguments)}function HK(n,t){return`firestore_clients_${n}_${t}`}function zK(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function JO(n,t){return`firestore_targets_${n}_${t}`}class o1{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new ve(r.error.code,r.error.message))),o?new o1(t,e,r.state,s):(tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ve(i.error.code,i.error.message))),s?new Vb(t,i.state,r):(tr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class a1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=DO();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=Uq(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new a1(t,s):(tr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class eN{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new eN(e.clientId,e.onlineState):(tr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class tN{constructor(){this.activeTargetIds=DO()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nN{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ui(At),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=HK(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new tN),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ue.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(HK(t.persistenceKey,r));if(s){const o=a1.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(JO(this.persistenceKey,t));if(i){const r=Vb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(JO(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Te("SharedClientState","READ",t,e),e}setItem(t,e){Te("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Te("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Te("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ue.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let a=ko._e;if(null!=o)try{const l=JSON.parse(o);at("number"==typeof l),a=l}catch(l){tr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==ko._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new o1(this.currentUser,t,e,i),s=zK(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=zK(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=JO(this.persistenceKey,t),s=new Vb(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return a1.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return o1.Ts(new jr(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return Vb.Ts(r,e)}Ms(t){return eN.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,ue.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);Te("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=DO();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class $K{constructor(){this.eo=new tN,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new tN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PRe{ro(t){}shutdown(){}}class GK{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let l1=null;function iN(){return null===l1?l1=268435456+Math.round(2147483648*Math.random()):l1++,"0x"+l1.toString(16)}const ORe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NRe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const gs="WebChannelConnection";class FRe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=iN(),l=this.So(e,i);Te("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(d=>(Te("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw oo("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Om,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${ORe[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=iN();return new Promise((o,a)=>{const l=new PSe;l.setWithCredentials(!0),l.listenOnce(RSe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dO.NO_ERROR:const d=l.getResponseJson();Te(gs,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case dO.TIMEOUT:Te(gs,`RPC '${t}' ${s} timed out`),a(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case dO.HTTP_ERROR:const f=l.getStatus();if(Te(gs,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const v=function(E){const N=E.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(N)>=0?N:se.UNKNOWN}(_.status);a(new ve(v,_.message))}else a(new ve(se.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Te(gs,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);Te(gs,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=iN(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=SSe(),a=ASe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new MSe({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const d=s.join("");Te(gs,`Creating RPC '${t}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,_=!1;const v=new NRe({co:E=>{_?Te(gs,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(m||(Te(gs,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),Te(gs,`RPC '${t}' stream ${r} sending:`,E),f.send(E))},lo:()=>f.close()}),b=(E,N,k)=>{E.listen(N,B=>{try{k(B)}catch(W){setTimeout(()=>{throw W},0)}})};return b(f,kD.EventType.OPEN,()=>{_||Te(gs,`RPC '${t}' stream ${r} transport opened.`)}),b(f,kD.EventType.CLOSE,()=>{_||(_=!0,Te(gs,`RPC '${t}' stream ${r} transport closed`),v.Ro())}),b(f,kD.EventType.ERROR,E=>{_||(_=!0,oo(gs,`RPC '${t}' stream ${r} transport errored:`,E),v.Ro(new ve(se.UNAVAILABLE,"The operation could not be completed")))}),b(f,kD.EventType.MESSAGE,E=>{var N;if(!_){const k=E.data[0];at(!!k);const W=k.error||(null===(N=k[0])||void 0===N?void 0:N.error);if(W){Te(gs,`RPC '${t}' stream ${r} received error:`,W);const de=W.status;let Ie=function(on){const wn=ur[on];if(void 0!==wn)return V7(wn)}(de),Le=W.message;void 0===Ie&&(Ie=se.INTERNAL,Le="Unknown error status: "+de+" with message "+W.message),_=!0,v.Ro(new ve(Ie,Le)),f.close()}else Te(gs,`RPC '${t}' stream ${r} received:`,k),v.Vo(k)}}),b(a,kSe.STAT_EVENT,E=>{E.stat===Aq.PROXY?Te(gs,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===Aq.NOPROXY&&Te(gs,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function WK(){return typeof window<"u"?window:null}function c1(){return typeof document<"u"?document:null}function Bb(n){return new WAe(n,!0)}class rN{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&Te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class qK{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new rN(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,ue.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,ue.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,ue.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===se.RESOURCE_EXHAUSTED?(tr(e.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new ve(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,ue.Z)(function*(){t.state=0,t.start()}))}o_(t){return Te("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LRe extends qK{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function YAe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Ye(),r=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(at(void 0===d||"string"==typeof d),Dr.fromBase64String(d||"")):(at(void 0===d||d instanceof Uint8Array),Dr.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=void 0===c.code?se.UNKNOWN:V7(c.code);return new ve(d,c.message||"")}(o);e=new z7(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=yl(n,i.document.name),s=nr(i.document.updateTime),o=i.document.createTime?nr(i.document.createTime):lt.min(),a=new ts({mapValue:{fields:i.document.fields}}),l=Ci.newFoundDocument(r,s,o,a);e=new qD(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=yl(n,i.document),s=i.readTime?nr(i.readTime):lt.min(),o=Ci.newNoDocument(r,s);e=new qD([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=yl(n,i.document);e=new qD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ye();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new UAe(r,s);e=new H7(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?lt.min():o.readTime?nr(o.readTime):lt.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Rb(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=UD(l)?{documents:J7(s,l)}:{query:NO(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=q7(s,o.resumeToken);const c=kO(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(lt.min())>0){a.readTime=Ym(s,o.snapshotVersion.toTimestamp());const c=kO(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function QAe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Rb(this.serializer),e.removeTarget=t,this.e_(e)}}class VRe extends qK{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function ZAe(n,t){return n&&n.length>0?(at(void 0!==t),n.map(e=>function(r,s){let o=nr(r.updateTime?r.updateTime:s);return o.isEqual(lt.min())&&(o=nr(s)),new FAe(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=nr(t.commitTime);return this.listener.I_(i,e)}return at(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Rb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>kb(this.serializer,i))};this.e_(e)}}class BRe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ve(se.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(se.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class jRe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(tr(e),this.f_=!1):Te("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class HRe{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget((0,ue.Z)(function*(){var l;Qd(o)&&(Te("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,ue.Z)(function*(d){const f=Pe(d);f.C_.add(4),yield ig(f),f.M_.set("Unknown"),f.C_.delete(4),yield Ub(f)}),function c(d){return l.apply(this,arguments)})(o))}))}),this.M_=new jRe(i,r)}}function Ub(n){return oN.apply(this,arguments)}function oN(){return oN=(0,ue.Z)(function*(n){if(Qd(n))for(const t of n.v_)yield t(!0)}),oN.apply(this,arguments)}function ig(n){return aN.apply(this,arguments)}function aN(){return aN=(0,ue.Z)(function*(n){for(const t of n.v_)yield t(!1)}),aN.apply(this,arguments)}function d1(n,t){const e=Pe(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),dN(e)?cN(e):sg(e).Ho()&&lN(e,t))}function jb(n,t){const e=Pe(n),i=sg(e);e.D_.delete(t),i.Ho()&&KK(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Qd(e)&&e.M_.set("Unknown"))}function lN(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sg(n).u_(t)}function KK(n,t){n.x_.Oe(t),sg(n).c_(t)}function cN(n){n.x_=new HAe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),sg(n).start(),n.M_.g_()}function dN(n){return Qd(n)&&!sg(n).jo()&&n.D_.size>0}function Qd(n){return 0===Pe(n).C_.size}function YK(n){n.x_=void 0}function zRe(n){return uN.apply(this,arguments)}function uN(){return uN=(0,ue.Z)(function*(n){n.D_.forEach((t,e)=>{lN(n,t)})}),uN.apply(this,arguments)}function $Re(n,t){return hN.apply(this,arguments)}function hN(){return hN=(0,ue.Z)(function*(n,t){YK(n),dN(n)?(n.M_.w_(t),cN(n)):n.M_.set("Unknown")}),hN.apply(this,arguments)}function GRe(n,t,e){return fN.apply(this,arguments)}function fN(){return fN=(0,ue.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof z7&&2===t.state&&t.cause)try{yield(i=(0,ue.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){Te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield u1(n,i)}else if(t instanceof qD?n.x_.$e(t):t instanceof H7?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(lt.min()))try{const i=yield LK(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.D_.get(c);d&&s.D_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.D_.get(l);if(!d)return;s.D_.set(l,d.withResumeToken(Dr.EMPTY_BYTE_STRING,d.snapshotVersion)),KK(s,l);const f=new bc(d.target,l,c,d.sequenceNumber);lN(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Te("RemoteStore","Failed to raise snapshot:",i),yield u1(n,i)}var i}),fN.apply(this,arguments)}function u1(n,t,e){return pN.apply(this,arguments)}function pN(){return pN=(0,ue.Z)(function*(n,t,e){if(!Bd(t))throw t;n.C_.add(1),yield ig(n),n.M_.set("Offline"),e||(e=()=>LK(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){Te("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Ub(n)}))}),pN.apply(this,arguments)}function ZK(n,t){return t().catch(e=>u1(n,e,t))}function rg(n){return mN.apply(this,arguments)}function mN(){return mN=(0,ue.Z)(function*(n){const t=Pe(n),e=Xd(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;WRe(t);)try{const r=yield RRe(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,qRe(t,r)}catch(r){yield u1(t,r)}QK(t)&&XK(t)}),mN.apply(this,arguments)}function WRe(n){return Qd(n)&&n.b_.length<10}function qRe(n,t){n.b_.push(t);const e=Xd(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function QK(n){return Qd(n)&&!Xd(n).jo()&&n.b_.length>0}function XK(n){Xd(n).start()}function KRe(n){return gN.apply(this,arguments)}function gN(){return gN=(0,ue.Z)(function*(n){Xd(n).E_()}),gN.apply(this,arguments)}function YRe(n){return _N.apply(this,arguments)}function _N(){return _N=(0,ue.Z)(function*(n){const t=Xd(n);for(const e of n.b_)t.P_(e.mutations)}),_N.apply(this,arguments)}function ZRe(n,t,e){return vN.apply(this,arguments)}function vN(){return vN=(0,ue.Z)(function*(n,t,e){const i=n.b_.shift(),r=SO.from(i,t,e);yield ZK(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield rg(n)}),vN.apply(this,arguments)}function QRe(n,t){return yN.apply(this,arguments)}function yN(){return yN=(0,ue.Z)(function*(n,t){var e;t&&Xd(n).h_&&(yield(e=(0,ue.Z)(function*(r,s){if(L7(a=s.code)&&a!==se.ABORTED){const o=r.b_.shift();Xd(r).Yo(),yield ZK(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield rg(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),QK(n)&&XK(n)}),yN.apply(this,arguments)}function JK(n,t){return bN.apply(this,arguments)}function bN(){return bN=(0,ue.Z)(function*(n,t){const e=Pe(n);e.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const i=Qd(e);e.C_.add(3),yield ig(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Ub(e)}),bN.apply(this,arguments)}function wN(n,t){return CN.apply(this,arguments)}function CN(){return CN=(0,ue.Z)(function*(n,t){const e=Pe(n);t?(e.C_.delete(2),yield Ub(e)):t||(e.C_.add(2),yield ig(e),e.M_.set("Unknown"))}),CN.apply(this,arguments)}function sg(n){return n.O_||(n.O_=function(e,i,r){const s=Pe(e);return s.A_(),new LRe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:zRe.bind(null,n),Io:$Re.bind(null,n),a_:GRe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.O_.Yo(),dN(n)?cN(n):n.M_.set("Unknown")):(yield n.O_.stop(),YK(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Xd(n){return n.N_||(n.N_=function(e,i,r){const s=Pe(e);return s.A_(),new VRe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:KRe.bind(null,n),Io:QRe.bind(null,n),T_:YRe.bind(null,n),I_:ZRe.bind(null,n)}),n.v_.push(function(){var t=(0,ue.Z)(function*(e){e?(n.N_.Yo(),yield rg(n)):(yield n.N_.stop(),n.b_.length>0&&(Te("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class EN{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new EN(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(n,t){if(tr("AsyncQueue",`${t}: ${n}`),Bd(n))return new ve(se.UNAVAILABLE,`${t}: ${n}`);throw n}class ag{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ne.comparator(e.key,i.key):(e,i)=>Ne.comparator(e.key,i.key),this.keyedMap=Cb(),this.sortedSet=new ui(this.comparator)}static emptySet(t){return new ag(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ag)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ag;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class eY{constructor(){this.B_=new ui(Ne.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Ye():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class lg{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new lg(t,e,ag.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class XRe{constructor(){this.k_=void 0,this.listeners=[]}}class JRe{constructor(){this.queries=new vc(t=>v7(t),bb),this.onlineState="Unknown",this.q_=new Set}}function xN(n,t){return DN.apply(this,arguments)}function DN(){return DN=(0,ue.Z)(function*(n,t){const e=Pe(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new XRe),r)try{s.k_=yield e.onListen(i)}catch(o){const a=og(o,`Initialization of query '${$m(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&SN(e)}),DN.apply(this,arguments)}function TN(n,t){return IN.apply(this,arguments)}function IN(){return IN=(0,ue.Z)(function*(n,t){const e=Pe(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),IN.apply(this,arguments)}function eke(n,t){const e=Pe(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&SN(e)}function tke(n,t,e){const i=Pe(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function SN(n){n.q_.forEach(t=>{t.next()})}class AN{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new lg(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=lg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class nke{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class tY{constructor(t){this.serializer=t}hs(t){return yl(this.serializer,t)}Ps(t){return t.metadata.exists?X7(this.serializer,t.document,!1):Ci.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return nr(t)}}class ike{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nY(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=yn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new tY(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const a=(e.get(o)||Bt()).add(s);e.set(o,a)}}return e}complete(){var t=this;return(0,ue.Z)(function*(){const e=yield function kRe(n,t,e,i){return QO.apply(this,arguments)}(t.localStore,new tY(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield MRe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function nY(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iY{constructor(t){this.key=t}}class rY{constructor(t){this.key=t}}class sY{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Bt(),this.mutatedKeys=Bt(),this._a=b7(t),this.aa=new ag(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new eY,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,f)=>{const m=r.get(d),_=wb(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;m&&_?m.data.isEqual(_.data)?v!==b&&(i.track({type:3,doc:_}),E=!0):this.ha(m,_)||(i.track({type:2,doc:_}),E=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),E=!0):m&&!_&&(i.track({type:1,doc:m}),E=!0,(l||c)&&(a=!0)),E&&(_?(o=o.add(_),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((c,d)=>function(m,_){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return v(m)-v(_)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(i);const o=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new lg(this.query,t.aa,r,s,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new eY,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Bt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new rY(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new iY(i))}),e}da(t){this.ia=t.ls,this.oa=Bt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return lg.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class rke{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class ske{constructor(t){this.key=t,this.Ra=!1}}class oke{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vc(a=>v7(a),bb),this.fa=new Map,this.ga=new Set,this.pa=new ui(Ne.comparator),this.ya=new Map,this.wa=new zO,this.Sa={},this.ba=new Map,this.Da=Nh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function ake(n,t){return RN.apply(this,arguments)}function RN(){return RN=(0,ue.Z)(function*(n,t){const e=JN(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield tg(e.localStore,js(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield kN(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&d1(e.remoteStore,o)}return r}),RN.apply(this,arguments)}function kN(n,t,e,i,r){return MN.apply(this,arguments)}function MN(){return MN=(0,ue.Z)(function*(n,t,e,i,r){n.va=(f,m,_)=>{return(v=(0,ue.Z)(function*(E,N,k,B){let W=N.view.ca(k);W.Zi&&(W=yield s1(E.localStore,N.query,!1).then(({documents:Le})=>N.view.ca(Le,W)));const de=B&&B.targetChanges.get(N.targetId),Ie=N.view.applyChanges(W,E.isPrimaryClient,de);return HN(E,N.targetId,Ie.Ta),Ie.snapshot}),function b(E,N,k,B){return v.apply(this,arguments)})(n,f,m,_);var v};const s=yield s1(n.localStore,t,!0),o=new sY(t,s.ls),a=o.ca(s.documents),l=Sb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);HN(n,e,c.Ta);const d=new rke(t,e,o);return n.ma.set(t,d),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),MN.apply(this,arguments)}function lke(n,t){return PN.apply(this,arguments)}function PN(){return PN=(0,ue.Z)(function*(n,t){const e=Pe(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!bb(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ng(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),jb(e.remoteStore,i.targetId),cg(e,i.targetId)}).catch(Vd))):(cg(e,i.targetId),yield ng(e.localStore,i.targetId,!0))}),PN.apply(this,arguments)}function ON(){return ON=(0,ue.Z)(function*(n,t,e){const i=eF(n);try{const r=yield function(o,a){const l=Pe(o),c=ki.now(),d=a.reduce((_,v)=>_.add(v.key),Bt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=lo(),b=Bt();return l.ss.getEntries(_,d).next(E=>{v=E,v.forEach((N,k)=>{k.isValidDocument()||(b=b.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,v)).next(E=>{f=E;const N=[];for(const k of a){const B=VAe(k,f.get(k.key).overlayedDocument);null!=B&&N.push(new yc(k.key,B,i7(B.value.mapValue),Mi.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,N,a)}).next(E=>{m=E;const N=E.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(_,E.batchId,N)})}).then(()=>({batchId:m.batchId,changes:C7(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new ui(At)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield wc(i,r.changes),yield rg(i.remoteStore)}catch(r){const s=og(r,"Failed to persist write");e.reject(s)}}),ON.apply(this,arguments)}function oY(n,t){return NN.apply(this,arguments)}function NN(){return NN=(0,ue.Z)(function*(n,t){const e=Pe(n);try{const i=yield function ARe(n,t){const e=Pe(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((d,f)=>{const m=r.get(f);if(!m)return;a.push(e.qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>e.qr.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);var b,E,N;null!==t.targetMismatches.get(f)?_=_.withResumeToken(Dr.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(f,_),E=_,N=d,(0===(b=m).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,_))});let l=lo(),c=Bt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(VK(s,o,t.documentUpdates).next(d=>{l=d.us,c=d.cs})),!i.isEqual(lt.min())){const d=e.qr.getLastRemoteSnapshotVersion(s).next(f=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return Z.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(at(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?at(o.Ra):r.removedDocuments.size>0&&(at(o.Ra),o.Ra=!1))}),yield wc(e,i,t)}catch(i){yield Vd(i)}}),NN.apply(this,arguments)}function aY(n,t,e){const i=Pe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&SN(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function dke(n,t,e){return FN.apply(this,arguments)}function FN(){return FN=(0,ue.Z)(function*(n,t,e){const i=Pe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new ui(Ne.comparator);o=o.insert(s,Ci.newNoDocument(s,lt.min()));const a=Bt().add(s),l=new Ib(lt.min(),new Map,new ui(At),o,a);yield oY(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),zN(i)}else yield ng(i.localStore,t,!1).then(()=>cg(i,t,e)).catch(Vd)}),FN.apply(this,arguments)}function uke(n,t){return LN.apply(this,arguments)}function LN(){return LN=(0,ue.Z)(function*(n,t){const e=Pe(n),i=t.batch.batchId;try{const r=yield function SRe(n,t){const e=Pe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let _=Z.resolve();return m.forEach(v=>{_=_.next(()=>d.getEntry(l,v)).next(b=>{const E=c.docVersions.get(v);at(null!==E),b.version.compareTo(E)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Bt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);jN(e,i,null),UN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield wc(e,r)}catch(r){yield Vd(r)}}),LN.apply(this,arguments)}function hke(n,t,e){return VN.apply(this,arguments)}function VN(){return VN=(0,ue.Z)(function*(n,t,e){const i=Pe(n);try{const r=yield function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(at(null!==f),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,t);jN(i,t,e),UN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield wc(i,r)}catch(r){yield Vd(r)}}),VN.apply(this,arguments)}function BN(){return BN=(0,ue.Z)(function*(n,t){const e=Pe(n);Qd(e.remoteStore)||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=Pe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=og(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),BN.apply(this,arguments)}function UN(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function jN(n,t,e){const i=Pe(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function cg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||lY(n,i)})}function lY(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(jb(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),zN(n))}function HN(n,t,e){for(const i of e)i instanceof iY?(n.wa.addReference(i.key,t),pke(n,i)):i instanceof rY?(Te("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||lY(n,i.key)):Ye()}function pke(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(Te("SyncEngine","New document in limbo: "+e),n.ga.add(i),zN(n))}function zN(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Ne(yn.fromString(t)),i=n.Da.next();n.ya.set(i,new ske(e)),n.pa=n.pa.insert(e,i),d1(n.remoteStore,new bc(js(Hm(e.path)),i,"TargetPurposeLimboResolution",ko._e))}}function wc(n,t,e){return $N.apply(this,arguments)}function $N(){return $N=(0,ue.Z)(function*(n,t,e){const i=Pe(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const d=KO.Qi(l.targetId,c);s.push(d)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=(0,ue.Z)(function*(c,d){const f=Pe(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Z.forEach(d,_=>Z.forEach(_.ki,v=>f.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>Z.forEach(_.qi,v=>f.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!Bd(m))throw m;Te("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const v=f.ts.get(_),E=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);f.ts=f.ts.insert(_,E)}}}),function l(c,d){return a.apply(this,arguments)})(i.localStore,s))}),$N.apply(this,arguments)}function mke(n,t){return GN.apply(this,arguments)}function GN(){return GN=(0,ue.Z)(function*(n,t){const e=Pe(n);if(!e.currentUser.isEqual(t)){Te("SyncEngine","User change. New user:",t.toKey());const i=yield FK(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new ve(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield wc(e,i._s)}var s}),GN.apply(this,arguments)}function gke(n,t){const e=Pe(n),i=e.ya.get(t);if(i&&i.Ra)return Bt().add(i.key);{let r=Bt();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function _ke(n,t){return WN.apply(this,arguments)}function WN(){return WN=(0,ue.Z)(function*(n,t){const e=Pe(n),i=yield s1(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&HN(e,t.targetId,r.Ta),r}),WN.apply(this,arguments)}function vke(n,t){return qN.apply(this,arguments)}function qN(){return qN=(0,ue.Z)(function*(n,t){const e=Pe(n);return UK(e.localStore,t).then(i=>wc(e,i))}),qN.apply(this,arguments)}function yke(n,t,e,i){return KN.apply(this,arguments)}function KN(){return KN=(0,ue.Z)(function*(n,t,e,i){const r=Pe(n),s=yield function(a,l){const c=Pe(a),d=Pe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):Z.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield rg(r.remoteStore):"acknowledged"===e||"rejected"===e?(jN(r,t,i||null),UN(r,t),l=t,Pe(Pe(r.localStore).mutationQueue).Fn(l)):Ye(),yield wc(r,s)):Te("SyncEngine","Cannot apply mutation batch with id: "+t)}),KN.apply(this,arguments)}function YN(){return YN=(0,ue.Z)(function*(n,t){const e=Pe(n);if(JN(e),eF(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield cY(e,i.toArray());e.Ca=!0,yield wN(e.remoteStore,!0);for(const s of r)d1(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(cg(e,o),ng(e.localStore,o,!0))),jb(e.remoteStore,o)}),yield r,yield cY(e,i),function(o){const a=Pe(o);a.ya.forEach((l,c)=>{jb(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new ui(Ne.comparator)}(e),e.Ca=!1,yield wN(e.remoteStore,!1)}}),YN.apply(this,arguments)}function cY(n,t,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,ue.Z)(function*(n,t,e){const i=Pe(n),r=[],s=[];for(const o of t){let a;const l=i.fa.get(o);if(l&&0!==l.length){a=yield tg(i.localStore,js(l[0]));for(const c of l){const d=i.ma.get(c),f=yield _ke(i,d);f.snapshot&&s.push(f.snapshot)}}else{const c=yield BK(i.localStore,o);a=yield tg(i.localStore,c),yield kN(i,dY(c),o,!1,a.resumeToken)}r.push(a)}return i.Va.a_(s),r}),ZN.apply(this,arguments)}function dY(n){return m7(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wke(n){return e=Pe(n).localStore,Pe(Pe(e).persistence).Bi();var e}function Cke(n,t,e,i){return QN.apply(this,arguments)}function QN(){return QN=(0,ue.Z)(function*(n,t,e,i){const r=Pe(n);if(r.Ca)return void Te("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield UK(r.localStore,y7(s[0])),a=Ib.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Dr.EMPTY_BYTE_STRING);yield wc(r,o,a);break}case"rejected":yield ng(r.localStore,t,!0),cg(r,t,i);break;default:Ye()}}),QN.apply(this,arguments)}function Eke(n,t,e){return XN.apply(this,arguments)}function XN(){return XN=(0,ue.Z)(function*(n,t,e){const i=JN(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){Te("SyncEngine","Adding an already active target "+r);continue}const s=yield BK(i.localStore,r),o=yield tg(i.localStore,s);yield kN(i,dY(s),o.targetId,!1,o.resumeToken),d1(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield ng(i.localStore,r,!1).then(()=>{jb(i.remoteStore,r),cg(i,r)}).catch(Vd))}}),XN.apply(this,arguments)}function JN(n){const t=Pe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=oY.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gke.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dke.bind(null,t),t.Va.a_=eke.bind(null,t.eventManager),t.Va.Fa=tke.bind(null,t.eventManager),t}function eF(n){const t=Pe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uke.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hke.bind(null,t),t}class Hb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ue.Z)(function*(){e.serializer=Bb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return NK(this.persistence,new OK,t.initialUser,this.serializer)}createPersistence(t){return new $O(t1.jr,this.serializer)}createSharedClientState(t){return new $K}terminate(){var t=this;return(0,ue.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tF extends Hb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield eF(i.xa.syncEngine),yield rg(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return NK(this.persistence,new OK,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new DK(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new ZSe(e,this.persistence);return new YSe(t.asyncQueue,i)}createPersistence(t){const e=qO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new WO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,WK(),c1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new $K}}class uY extends tF{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof nN&&(i.sharedClientState.syncEngine={Ys:yke.bind(null,r),Zs:Cke.bind(null,r),Xs:Eke.bind(null,r),Bi:wke.bind(null,r),Js:vke.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,ue.Z)(function*(o){yield function bke(n,t){return YN.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=WK();if(!nN.D(e))throw new ve(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new nN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class dg{initialize(t,e){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>aY(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=mke.bind(null,i.syncEngine),yield wN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new JRe}createDatastore(t){const e=Bb(t.databaseInfo.databaseId),i=new FRe(t.databaseInfo);return new BRe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>aY(this.syncEngine,e,0),a=GK.D()?new GK:new PRe,new HRe(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,d){const f=new oke(r,s,o,a,l,c);return d&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ue.Z)(function*(i){const r=Pe(i);Te("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield ig(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function hY(n,t=10240){let e=0;return{read:()=>(0,ue.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Tke{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new xr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,ue.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,ue.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,ue.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new nke(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,ue.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,ue.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,ue.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Ike{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ve(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ue.Z)(function*(o,a){const l=Pe(o),c=Rb(l.serializer)+"/documents",d={documents:a.map(v=>Ab(l.serializer,v))},f=yield l.Co("BatchGetDocuments",c,d,a.length),m=new Map;f.forEach(v=>{const b=function KAe(n,t){return"found"in t?function(i,r){at(!!r.found);const s=yl(i,r.found.name),o=nr(r.found.updateTime),a=r.found.createTime?nr(r.found.createTime):lt.min(),l=new ts({mapValue:{fields:r.found.fields}});return Ci.newFoundDocument(s,o,a,l)}(n,t):"missing"in t?function(i,r){at(!!r.missing),at(!!r.readTime);const s=yl(i,r.missing),o=nr(r.readTime);return Ci.newNoDocument(s,o)}(n,t):Ye()}(l.serializer,v);m.set(b.key.toString(),b)});const _=[];return a.forEach(v=>{const b=m.get(v.toString());at(!!b),_.push(b)}),_}),function s(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Km(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ne.fromPath(r);t.mutations.push(new TO(s,t.precondition(s)))}),yield(i=(0,ue.Z)(function*(s,o){const a=Pe(s),l=Rb(a.serializer)+"/documents",c={writes:o.map(d=>kb(a.serializer,d))};yield a.wo("Commit",l,c)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ye();e=lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ve(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(lt.min())?Mi.exists(!1):Mi.updateTime(e):Mi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(lt.min()))throw new ve(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(e)}return Mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Ske{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new rN(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,ue.Z)(function*(){const e=new Ike(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!hb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!L7(e)}return!1}}class Ake{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=jr.UNAUTHENTICATED,this.clientId=Pq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,ue.Z)(function*(a){Te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(Te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,ue.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=og(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function f1(n,t){return nF.apply(this,arguments)}function nF(){return nF=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ue.Z)(function*(s){i.isEqual(s)||(yield FK(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),nF.apply(this,arguments)}function iF(n,t){return rF.apply(this,arguments)}function rF(){return rF=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield sF(n);Te("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>JK(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>JK(t.remoteStore,s)),n._onlineComponents=t}),rF.apply(this,arguments)}function fY(n){return"FirebaseError"===n.name?n.code===se.FAILED_PRECONDITION||n.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function sF(n){return oF.apply(this,arguments)}function oF(){return oF=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!fY(e))throw e;oo("Error using user provided cache. Falling back to memory cache: "+e),yield f1(n,new Hb)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),yield f1(n,new Hb);return n._offlineComponents}),oF.apply(this,arguments)}function p1(n){return aF.apply(this,arguments)}function aF(){return aF=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),yield iF(n,n._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),yield iF(n,new dg))),n._onlineComponents}),aF.apply(this,arguments)}function pY(n){return sF(n).then(t=>t.persistence)}function ug(n){return sF(n).then(t=>t.localStore)}function mY(n){return p1(n).then(t=>t.remoteStore)}function lF(n){return p1(n).then(t=>t.syncEngine)}function hg(n){return cF.apply(this,arguments)}function cF(){return cF=(0,ue.Z)(function*(n){const t=yield p1(n),e=t.eventManager;return e.onListen=ake.bind(null,t.syncEngine),e.onUnlisten=lke.bind(null,t.syncEngine),e}),cF.apply(this,arguments)}function _Y(n,t,e={}){const i=new xr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(s,o,a,l,c){const d=new h1({next:m=>{o.enqueueAndForget(()=>TN(s,f));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&l&&"server"===l.source?c.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new AN(Hm(a.path),d,{includeMetadataChanges:!0,J_:!0});return xN(s,f)}(yield hg(n),n.asyncQueue,t,e,i)})),i.promise}function vY(n,t,e={}){const i=new xr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(s,o,a,l,c){const d=new h1({next:m=>{o.enqueueAndForget(()=>TN(s,f)),m.fromCache&&"server"===l.source?c.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new AN(a,d,{includeMetadataChanges:!0,J_:!0});return xN(s,f)}(yield hg(n),n.asyncQueue,t,e,i)})),i.promise}function yY(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const bY=new Map;function dF(n,t,e){if(!e)throw new ve(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function wY(n,t,e,i){if(!0===t&&!0===i)throw new ve(se.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function CY(n){if(!Ne.isDocumentKey(n))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EY(n){if(Ne.isDocumentKey(n))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Ye()}function cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=m1(n);throw new ve(se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function xY(n,t){if(t<=0)throw new ve(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class DY{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yY(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DY(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new LSe;switch(i.type){case"firstParty":return new jSe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=bY.get(e);i&&(Te("ComponentProvider","Removing Datastore"),bY.delete(e),i.terminate())}(this),Promise.resolve()}}class ns{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ns(this.firestore,t,this._query)}}class Ei{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class bl extends ns{constructor(t,e,i){super(t,e,Hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new Ne(t))}withConverter(t){return new bl(this.firestore,t,this._path)}}function IY(n,t,...e){if(n=(0,I.m9)(n),dF("collection","path",t),n instanceof zb){const i=yn.fromString(t,...e);return EY(i),new bl(n,null,i)}{if(!(n instanceof Ei||n instanceof bl))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return EY(i),new bl(n.firestore,null,i)}}function g1(n,t,...e){if(n=(0,I.m9)(n),1===arguments.length&&(t=Pq.newId()),dF("doc","path",t),n instanceof zb){const i=yn.fromString(t,...e);return CY(i),new Ei(n,null,new Ne(i))}{if(!(n instanceof Ei||n instanceof bl))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return CY(i),new Ei(n.firestore,n instanceof bl?n.converter:null,new Ne(i))}}function SY(n,t){return n=(0,I.m9)(n),t=(0,I.m9)(t),(n instanceof Ei||n instanceof bl)&&(t instanceof Ei||t instanceof bl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function uF(n,t){return n=(0,I.m9)(n),t=(0,I.m9)(t),n instanceof ns&&t instanceof ns&&n.firestore===t.firestore&&bb(n._query,t._query)&&n.converter===t.converter}class jke{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new rN(this,"async_queue_retry"),this.iu=()=>{const e=c1();e&&Te("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=c1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=c1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new xr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,ue.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Bd(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,tr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=EN.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Ye()}verifyOperationInProgress(){}uu(){var t=this;return(0,ue.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function hF(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Hke{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class hi extends zb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new jke,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AY(this),this._firestoreClient.terminate()}}function qi(n){return n._firestoreClient||AY(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function AY(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new _Ae(n._databaseId,l,n._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yY(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._firestoreClient=new Ake(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function RY(n,t,e){const i=new xr;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield f1(n,e),yield iF(n,t),i.resolve()}catch(r){const s=r;if(!fY(s))throw s;oo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function kY(n){if(n._initialized||n._terminated)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wl(Dr.fromBase64String(t))}catch(e){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new wl(Dr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Cc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lh{constructor(t){this._methodName=t}}class _1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}const Jke=/^__.*__$/;class eMe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new yc(t,this.data,this.fieldMask,e,this.fieldTransforms):new qm(t,this.data,e,this.fieldTransforms)}}class MY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function PY(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class v1{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new v1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return w1(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(PY(this.Iu)&&Jke.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class tMe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Bb(t)}pu(t,e,i,r=!1){return new v1({Iu:t,methodName:e,gu:i,path:wi.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(n){const t=n._freezeSettings(),e=Bb(n._databaseId);return new tMe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function y1(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);gF("Data must be an object, but it was:",o,i);const a=FY(i,o);let l,c;if(s.merge)l=new ao(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Wb(t,f,e);if(!o.contains(m))throw new ve(se.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VY(d,m)||d.push(m)}l=new ao(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new eMe(new ts(a),l,c)}class Gb extends Lh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gb}}function OY(n,t,e){return new v1({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fF extends Lh{_toFieldTransform(t){return new xb(t.path,new Gm)}isEqual(t){return t instanceof fF}}class nMe extends Lh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=OY(this,t,!0),i=this.yu.map(s=>Bh(s,e)),r=new Sh(i);return new xb(t.path,r)}isEqual(t){return this===t}}class iMe extends Lh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=OY(this,t,!0),i=this.yu.map(s=>Bh(s,e)),r=new Ah(i);return new xb(t.path,r)}isEqual(t){return this===t}}class rMe extends Lh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new Wm(t.serializer,T7(t.serializer,this.wu));return new xb(t.path,e)}isEqual(t){return this===t}}function pF(n,t,e,i){const r=n.pu(1,t,e);gF("Data must be an object, but it was:",r,i);const s=[],o=ts.empty();Ud(i,(l,c)=>{const d=b1(t,l,e);c=(0,I.m9)(c);const f=r.Ru(d);if(c instanceof Gb)s.push(d);else{const m=Bh(c,f);null!=m&&(s.push(d),o.set(d,m))}});const a=new ao(s);return new MY(o,a,r.fieldTransforms)}function mF(n,t,e,i,r,s){const o=n.pu(1,t,e),a=[Wb(t,i,e)],l=[r];if(s.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Wb(t,s[m])),l.push(s[m+1]);const c=[],d=ts.empty();for(let m=a.length-1;m>=0;--m)if(!VY(c,a[m])){const _=a[m];let v=l[m];v=(0,I.m9)(v);const b=o.Ru(_);if(v instanceof Gb)c.push(_);else{const E=Bh(v,b);null!=E&&(c.push(_),d.set(_,E))}}const f=new ao(c);return new MY(d,f,o.fieldTransforms)}function NY(n,t,e,i=!1){return Bh(e,n.pu(i?4:3,t))}function Bh(n,t){if(LY(n=(0,I.m9)(n)))return gF("Unsupported field value:",t,n),FY(n,t);if(n instanceof Lh)return function(i,r){if(!PY(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Bh(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,I.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return T7(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=ki.fromDate(i);return{timestampValue:Ym(r.serializer,s)}}if(i instanceof ki){const s=new ki(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ym(r.serializer,s)}}if(i instanceof _1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wl)return{bytesValue:q7(r.serializer,i._byteString)};if(i instanceof Ei){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:MO(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${m1(i)}`)}(n,t)}function FY(n,t){const e={};return Kq(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ud(n,(i,r)=>{const s=Bh(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function LY(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof _1||n instanceof wl||n instanceof Ei||n instanceof Lh)}function gF(n,t,e){if(!LY(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=m1(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Wb(n,t,e){if((t=(0,I.m9)(t))instanceof Cc)return t._internalPath;if("string"==typeof t)return b1(n,t);throw w1("Field path arguments must be of type string or ",n,!1,void 0,e)}const sMe=new RegExp("[~\\*/\\[\\]]");function b1(n,t,e){if(t.search(sMe)>=0)throw w1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Cc(...t.split("."))._internalPath}catch{throw w1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function w1(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ve(se.INVALID_ARGUMENT,a+n+l)}function VY(n,t){return n.some(e=>e.isEqual(t))}class qb{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new oMe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(C1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class oMe extends qb{data(){return super.data()}}function C1(n,t){return"string"==typeof t?b1(n,t):t instanceof Cc?t._internalPath:t._delegate._internalPath}function BY(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _F{}class Kb extends _F{}function Jd(n,t,...e){let i=[];t instanceof _F&&i.push(t),i=i.concat(e),function(s){const o=s.filter(l=>l instanceof fg).length,a=s.filter(l=>l instanceof Yb).length;if(o>1||o>0&&a>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Yb extends Kb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Yb(t,e,i)}_apply(t){const e=this._parse(t);return zY(t._query,e),new ns(t.firestore,t.converter,xO(t._query,e))}_parse(t){const e=Vh(t.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){HY(f,d);const _=[];for(const v of f)_.push(jY(l,s,v));m={arrayValue:{values:_}}}else m=jY(l,s,f)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||HY(f,d),m=NY(a,"where",f,"in"===d||"not-in"===d);return pn.create(c,d,m)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class fg extends _F{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new fg(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Hn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)zY(o,l),o=xO(o,l)}(t._query,e),new ns(t.firestore,t.converter,xO(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vF extends Kb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new vF(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vb(s,o)}(t._query,this._field,this._direction);return new ns(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new _c(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class E1 extends Kb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new E1(t,e,i)}_apply(t){return new ns(t.firestore,t.converter,HD(t._query,this._limit,this._limitType))}}class x1 extends Kb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new x1(t,e,i)}_apply(t){const e=UY(t,this.type,this._docOrFields,this._inclusive);return new ns(t.firestore,t.converter,(s=e,new _c((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class D1 extends Kb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new D1(t,e,i)}_apply(t){const e=UY(t,this.type,this._docOrFields,this._inclusive);return new ns(t.firestore,t.converter,(s=e,new _c((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function UY(n,t,e,i){if(e[0]=(0,I.m9)(e[0]),e[0]instanceof qb)return function(s,o,a,l,c){if(!l)throw new ve(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of zm(s))if(f.field.isKeyField())d.push(Th(o,l.key));else{const m=l.data.field(f.field);if(ND(m))throw new ve(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const _=f.field.canonicalString();throw new ve(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}d.push(m)}return new Wd(d,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Vh(n.firestore);return function(o,a,l,c,d,f){const m=o.explicitOrderBy;if(d.length>m.length)throw new ve(se.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let v=0;v<d.length;v++){const b=d[v];if(m[v].field.isKeyField()){if("string"!=typeof b)throw new ve(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!EO(o)&&-1!==b.indexOf("/"))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);const E=o.path.child(yn.fromString(b));if(!Ne.isDocumentKey(E))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const N=new Ne(E);_.push(Th(a,N))}else{const E=NY(l,c,b);_.push(E)}}return new Wd(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function jY(n,t,e){if("string"==typeof(e=(0,I.m9)(e))){if(""===e)throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EO(t)&&-1!==e.indexOf("/"))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(yn.fromString(e));if(!Ne.isDocumentKey(i))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Th(n,new Ne(i))}if(e instanceof Ei)return Th(n,e._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m1(e)}.`)}function HY(n,t){if(!Array.isArray(n)||0===n.length)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zY(n,t){const e=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ve(se.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class yF{convertValue(t,e="none"){switch($d(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ye()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ud(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new _1(Wi(t.latitude),Wi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=FD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(pb(t));default:return null}}convertTimestamp(t){const e=jd(t);return new ki(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yn.fromString(t);at(iK(i));const r=new Hd(i.get(1),i.get(3)),s=new Ne(i.popFirst(5));return r.isEqual(e)||tr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function T1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class mMe extends yF{constructor(t){super(),this.firestore=t}convertBytes(t){return new wl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}class Uh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ec extends qb{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(C1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Zb extends Ec{data(t={}){return super.data(t)}}class eu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Uh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Zb(this._firestore,this._userDataWriter,i.key,i,new Uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Zb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Zb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:_Me(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _Me(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function GY(n,t){return n instanceof Ec&&t instanceof Ec?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof eu&&t instanceof eu&&n._firestore===t._firestore&&uF(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class tu extends yF{constructor(t){super(),this.firestore=t}convertBytes(t){return new wl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}function WY(n,t,e){n=cn(n,Ei);const i=cn(n.firestore,hi),r=T1(n.converter,t,e);return pg(i,[y1(Vh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Mi.none())])}function qY(n,t,e,...i){n=cn(n,Ei);const r=cn(n.firestore,hi),s=Vh(r);let o;return o="string"==typeof(t=(0,I.m9)(t))||t instanceof Cc?mF(s,"updateDoc",n._key,t,e,i):pF(s,"updateDoc",n._key,t),pg(r,[o.toMutation(n._key,Mi.exists(!0))])}function KY(n,...t){var e,i,r;n=(0,I.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||hF(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hF(t[o])){const f=t[o];t[o]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[o+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[o+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,d;if(n instanceof Ei)c=cn(n.firestore,hi),d=Hm(n._key.path),l={next:f=>{t[o]&&t[o](bF(c,n,f))},error:t[o+1],complete:t[o+2]};else{const f=cn(n,ns);c=cn(f.firestore,hi),d=f._query;const m=new tu(c);l={next:_=>{t[o]&&t[o](new eu(c,m,f,_))},error:t[o+1],complete:t[o+2]},BY(n._query)}return function(m,_,v,b){const E=new h1(b),N=new AN(_,E,v);return m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return xN(yield hg(m),N)})),()=>{E.Na(),m.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return TN(yield hg(m),N)}))}}(qi(c),d,a,l)}function pg(n,t){return function(i,r){const s=new xr;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function cke(n,t,e){return ON.apply(this,arguments)}(yield lF(i),r,s)})),s.promise}(qi(n),t)}function bF(n,t,e){const i=e.docs.get(t._key),r=new tu(n);return new Ec(n,r,t._key,i,new Uh(e.hasPendingWrites,e.fromCache),t.converter)}const NMe={maxAttempts:5};class YY{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vh(t)}set(t,e,i){this._verifyNotCommitted();const r=nu(t,this._firestore),s=T1(r.converter,e,i),o=y1(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,Mi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=nu(t,this._firestore);let o;return o="string"==typeof(e=(0,I.m9)(e))||e instanceof Cc?mF(this._dataReader,"WriteBatch.update",s._key,e,i,r):pF(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=nu(t,this._firestore);return this._mutations=this._mutations.concat(new Km(e._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nu(n,t){if((n=(0,I.m9)(n)).firestore!==t)throw new ve(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class FMe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Vh(e)}get(e){const i=nu(e,this._firestore),r=new mMe(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Ye();const o=s[0];if(o.isFoundDocument())return new qb(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new qb(this._firestore,r,i._key,null,i.converter);throw Ye()})}set(e,i,r){const s=nu(e,this._firestore),o=T1(s.converter,i,r),a=y1(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(e,i,r,...s){const o=nu(e,this._firestore);let a;return a="string"==typeof(i=(0,I.m9)(i))||i instanceof Cc?mF(this._dataReader,"Transaction.update",o._key,i,r,s):pF(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(e){const i=nu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=nu(t,this._firestore),i=new tu(this._firestore);return super.get(t).then(r=>new Ec(this._firestore,i,e._key,r._document,new Uh(!1,!1),e.converter))}}function CF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function JY(){if(typeof Uint8Array>"u")throw new ve("unimplemented","Uint8Arrays are not available in this environment.")}function eZ(){if(!function mAe(){return typeof atob<"u"}())throw new ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Om=cs.SDK_VERSION,(0,cs._registerComponent)(new wa.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new hi(new BSe(i.getProvider("auth-internal")),new HSe(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,cs.registerVersion)(Rq,"4.3.2",t),(0,cs.registerVersion)(Rq,"4.3.2","esm2017")}();class Qb{constructor(t){this._delegate=t}static fromBase64String(t){return eZ(),new Qb(wl.fromBase64String(t))}static fromUint8Array(t){return JY(),new Qb(wl.fromUint8Array(t))}toBase64(){return eZ(),this._delegate.toBase64()}toUint8Array(){return JY(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function EF(n){return function WMe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class qMe{enableIndexedDbPersistence(t,e){return function $ke(n,t){kY(n=cn(n,hi));const e=qi(n);if(e._uninitializedComponentsProvider)throw new ve(se.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new dg;return RY(e,r,new tF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Gke(n){kY(n=cn(n,hi));const t=qi(n);if(t._uninitializedComponentsProvider)throw new ve(se.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new dg;return RY(t,i,new uY(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Wke(n){if(n._initialized&&!n._terminated)throw new ve(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(e=(0,ue.Z)(function*(r){if(!ka.D())return Promise.resolve();const s=r+"main";yield ka.delete(s)}),function i(r){return e.apply(this,arguments)})(qO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class tZ{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Hd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function TY(n,t,e,i={}){var r;const s=(n=cn(n,zb))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=jr.MOCK_USER;else{a=(0,I.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jr(c)}n._authCredentials=new VSe(new kq(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function Kke(n){return function Rke(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield pY(n),e=yield mY(n);return t.setNetworkEnabled(!0),function(r){const s=Pe(r);return s.C_.delete(0),Ub(s)}(e)}))}(qi(n=cn(n,hi)))}(this._delegate)}disableNetwork(){return function Yke(n){return function kke(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield pY(n),e=yield mY(n);return t.setNetworkEnabled(!1),(i=(0,ue.Z)(function*(s){const o=Pe(s);o.C_.add(0),yield ig(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(qi(n=cn(n,hi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,wY("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qke(n){return function(e){const i=new xr;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function fke(n,t){return BN.apply(this,arguments)}(yield lF(e),i)})),i.promise}(qi(n=cn(n,hi)))}(this._delegate)}onSnapshotsInSync(t){return function TMe(n,t){return function Oke(n,t){const e=new h1(t);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield hg(n),s=e,Pe(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return r=yield hg(n),s=e,void Pe(r).q_.delete(s);var r,s}))}}(qi(n=cn(n,hi)),hF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new mg(this,IY(this._delegate,t))}catch(e){throw Hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ia(this,g1(this._delegate,t))}catch(e){throw Hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new zs(this,function Uke(n,t){if(n=cn(n,zb),dF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(i=t,new _c(yn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function LMe(n,t,e){n=cn(n,hi);const i=Object.assign(Object.assign({},NMe),e);return function(s){if(s.maxAttempts<1)throw new ve(se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new xr;return s.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const c=yield function gY(n){return p1(n).then(t=>t.datastore)}(s);new Ske(s.asyncQueue,c,a,o,l).run()})),l.promise}(qi(n),r=>t(new FMe(n,r)),i)}(this._delegate,e=>t(new nZ(this,e)))}batch(){return qi(this._delegate),new iZ(new YY(this._delegate,t=>pg(this._delegate,t)))}loadBundle(t){return function Zke(n,t){const e=qi(n=cn(n,hi)),i=new Hke;return function Nke(n,t,e,i){const r=function(o,a){let l;return l="string"==typeof o?B7().encode(o):o,d=function(d,f){if(d instanceof Uint8Array)return hY(d,f);if(d instanceof ArrayBuffer)return hY(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Tke(d,a);var d}(e,Bb(t));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function xke(n,t,e){const i=Pe(n);var r;(r=(0,ue.Z)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(v,b){const E=Pe(v),N=nr(b.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",k=>E.Kr.getBundleMetadata(k,b.id)).then(k=>!!k&&k.createTime.compareTo(N)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(v=c).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);l._updateProgress(nY(c));const d=new ike(c,o.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield d.ea(f);_&&l._updateProgress(_),f=yield a.Ma()}const m=yield d.complete();return yield wc(o,m.ra,void 0),yield function(v,b){const E=Pe(v);return E.persistence.runTransaction("Save bundle","readwrite",N=>E.Kr.saveBundleMetadata(N,b))}(o.localStore,c),l._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return oo("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var v}),function s(o,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield lF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Qke(n,t){return function Fke(n,t){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(i,r){const s=Pe(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield ug(n),t)}))}(qi(n=cn(n,hi)),t).then(e=>e?new ns(n,null,e.query):null)}(this._delegate,t).then(e=>e?new zs(this,e):null)}}class S1 extends yF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qb(new wl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ia.forKey(e,this.firestore,null)}}class nZ{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new S1(t)}get(t){const e=Hh(t);return this._delegate.get(e).then(i=>new Xb(this._firestore,new Ec(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Hh(t);return i?(CF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Hh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Hh(t);return this._delegate.delete(e),this}}class iZ{constructor(t){this._delegate=t}set(t,e,i){const r=Hh(t);return i?(CF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Hh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Hh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class jh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Zb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Jb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=jh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new jh(t,new S1(t),e),r.set(e,s)),s}}jh.INSTANCES=new WeakMap;class ia{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new S1(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ia(e,new Ei(e._delegate,i,new Ne(t)))}static forKey(t,e,i){return new ia(e,new Ei(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new mg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new mg(this.firestore,IY(this._delegate,t))}catch(e){throw Hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,I.m9)(t))instanceof Ei&&SY(this._delegate,t)}set(t,e){e=CF("DocumentReference.set",e);try{return e?WY(this._delegate,t,e):WY(this._delegate,t)}catch(i){throw Hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?qY(this._delegate,t):qY(this._delegate,t,e,...i)}catch(r){throw Hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function xMe(n){return pg(cn(n.firestore,hi),[new Km(n._key,Mi.none())])}(this._delegate)}onSnapshot(...t){const e=rZ(t),i=sZ(t,r=>new Xb(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return KY(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function yMe(n){n=cn(n,Ei);const t=cn(n.firestore,hi),e=qi(t),i=new tu(t);return function Mke(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(s,o,a){try{const l=yield function(d,f){const m=Pe(d);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,f))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ve(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=og(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield ug(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ec(t,i,n._key,r,new Uh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function bMe(n){n=cn(n,Ei);const t=cn(n.firestore,hi);return _Y(qi(t),n._key,{source:"server"}).then(e=>bF(t,n,e))}(this._delegate):function vMe(n){n=cn(n,Ei);const t=cn(n.firestore,hi);return _Y(qi(t),n._key).then(e=>bF(t,n,e))}(this._delegate),e.then(i=>new Xb(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ia(this.firestore,this._delegate.withConverter(t?jh.getInstance(this.firestore,t):null))}}function Hs(n,t,e){return n.message=n.message.replace(t,e),n}function rZ(n){for(const t of n)if("object"==typeof t&&!EF(t))return t;return{}}function sZ(n,t){var e,i;let r;return r=EF(n[0])?n[0]:EF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Xb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return GY(this._delegate,t._delegate)}}class Jb extends Xb{data(t){const e=this._delegate.data(t);return this._delegate._converter||function FSe(n,t){n||Ye()}(void 0!==e),e}}class zs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new S1(t)}where(t,e,i){try{return new zs(this.firestore,Jd(this._delegate,function aMe(n,t,e){const i=t,r=C1("where",n);return Yb._create(r,i,e)}(t,e,i)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new zs(this.firestore,Jd(this._delegate,function lMe(n,t="asc"){const e=t,i=C1("orderBy",n);return vF._create(i,e)}(t,e)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new zs(this.firestore,Jd(this._delegate,function cMe(n){return xY("limit",n),E1._create("limit",n,"F")}(t)))}catch(e){throw Hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new zs(this.firestore,Jd(this._delegate,function dMe(n){return xY("limitToLast",n),E1._create("limitToLast",n,"L")}(t)))}catch(e){throw Hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new zs(this.firestore,Jd(this._delegate,function uMe(...n){return x1._create("startAt",n,!0)}(...t)))}catch(e){throw Hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new zs(this.firestore,Jd(this._delegate,function hMe(...n){return x1._create("startAfter",n,!1)}(...t)))}catch(e){throw Hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new zs(this.firestore,Jd(this._delegate,function fMe(...n){return D1._create("endBefore",n,!1)}(...t)))}catch(e){throw Hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new zs(this.firestore,Jd(this._delegate,function pMe(...n){return D1._create("endAt",n,!0)}(...t)))}catch(e){throw Hs(e,"endAt()","Query.endAt()")}}isEqual(t){return uF(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function CMe(n){n=cn(n,ns);const t=cn(n.firestore,hi),e=qi(t),i=new tu(t);return function Pke(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(s,o,a){try{const l=yield s1(s,o,!0),c=new sY(o,l.ls),d=c.ca(l.documents),f=c.applyChanges(d,!1);a.resolve(f.snapshot)}catch(l){const c=og(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield ug(n),t,e);var i})),e.promise}(e,n._query).then(r=>new eu(t,i,n,r))}(this._delegate):"server"===t?.source?function EMe(n){n=cn(n,ns);const t=cn(n.firestore,hi),e=qi(t),i=new tu(t);return vY(e,n._query,{source:"server"}).then(r=>new eu(t,i,n,r))}(this._delegate):function wMe(n){n=cn(n,ns);const t=cn(n.firestore,hi),e=qi(t),i=new tu(t);return BY(n._query),vY(e,n._query).then(r=>new eu(t,i,n,r))}(this._delegate),e.then(i=>new xF(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=rZ(t),i=sZ(t,r=>new xF(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return KY(this._delegate,e,i)}withConverter(t){return new zs(this.firestore,this._delegate.withConverter(t?jh.getInstance(this.firestore,t):null))}}class YMe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Jb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new YMe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Jb(this._firestore,i))})}isEqual(t){return GY(this._delegate,t._delegate)}}class mg extends zs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ia(this.firestore,t):null}doc(t){try{return new ia(this.firestore,void 0===t?g1(this._delegate):g1(this._delegate,t))}catch(e){throw Hs(e,"doc()","CollectionReference.doc()")}}add(t){return function DMe(n,t){const e=cn(n.firestore,hi),i=g1(n),r=T1(n.converter,t);return pg(e,[y1(Vh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ia(this.firestore,e))}isEqual(t){return SY(this._delegate,t._delegate)}withConverter(t){return new mg(this.firestore,this._delegate.withConverter(t?jh.getInstance(this.firestore,t):null))}}function Hh(n){return cn(n,Ei)}class DF{constructor(...t){this._delegate=new Cc(...t)}static documentId(){return new DF(wi.keyField().canonicalString())}isEqual(t){return(t=(0,I.m9)(t))instanceof Cc&&this._delegate._internalPath.isEqual(t._internalPath)}}class zh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function BMe(){return new fF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new zh(t)}static delete(){const t=function VMe(){return new Gb("deleteField")}();return t._methodName="FieldValue.delete",new zh(t)}static arrayUnion(...t){const e=function UMe(...n){return new nMe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new zh(e)}static arrayRemove(...t){const e=function jMe(...n){return new iMe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new zh(e)}static increment(t){const e=function HMe(n){return new rMe("increment",n)}(t);return e._methodName="FieldValue.increment",new zh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ZMe={Firestore:tZ,GeoPoint:_1,Timestamp:ki,Blob:Qb,Transaction:nZ,WriteBatch:iZ,DocumentReference:ia,DocumentSnapshot:Xb,Query:zs,QueryDocumentSnapshot:Jb,QuerySnapshot:xF,CollectionReference:mg,FieldPath:DF,FieldValue:zh,setLogLevel:function KMe(n){!function NSe(n){Ld.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function oZ(n,t){return function JMe(n,t=Gu){return new ut(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function TF(n,t){return oZ(n,t).pipe(we(e=>({payload:e,type:"query"})))}!function XMe(n){(function QMe(n,t){n.INTERNAL.registerComponent(new wa.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},ZMe)))})(n,(t,e)=>new tZ(t,e,new qMe)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(xo.Z);class aZ{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=fZ(i,e);return new dZ(r,s,this.afs)}snapshotChanges(){return function ePe(n,t){return oZ(n,t).pipe(Yo(void 0),CP(),we(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(t={}){return this.snapshotChanges().pipe(we(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return x(this.ref.get(t)).pipe(er)}}function A1(n,t){return TF(n,t).pipe(Yo(void 0),CP(),we(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=s.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function lZ(n,t,e){return A1(n,e).pipe(Pp((i,r)=>function tPe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function nPe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return IF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return IF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return IF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),pt(),we(i=>i.map(r=>({type:r.type,payload:r}))))}function IF(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function cZ(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class dZ{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=A1(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(we(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Yo(void 0),CP(),fn(([i,r])=>r.length>0||!i),we(([,i])=>i),er)}auditTrail(t){return this.stateChanges(t).pipe(Pp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=cZ(t);return lZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(t={}){return TF(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),er)}get(t){return x(this.query.get(t)).pipe(er)}add(t){return this.ref.add(t)}doc(t){return new aZ(this.ref.doc(t),this.afs)}}class iPe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?A1(this.query,this.afs.schedulers.outsideAngular).pipe(we(e=>e.filter(i=>t.indexOf(i.type)>-1)),fn(e=>e.length>0),er):A1(this.query,this.afs.schedulers.outsideAngular).pipe(er)}auditTrail(t){return this.stateChanges(t).pipe(Pp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=cZ(t);return lZ(this.query,e,this.afs.schedulers.outsideAngular).pipe(er)}valueChanges(t={}){return TF(this.query,this.afs.schedulers.outsideAngular).pipe(we(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),er)}get(t){return x(this.query.get(t)).pipe(er)}}const uZ=new ie("angularfire2.enableFirestorePersistence"),hZ=new ie("angularfire2.firestore.persistenceSettings"),rPe=new ie("angularfire2.firestore.settings"),sPe=new ie("angularfire2.firestore.use-emulator");function fZ(n,t=(e=>e)){return{query:t(n),ref:n}}let oPe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,a,l,c,d,f,m,_,v,b,E,N,k){this.schedulers=l;const B=Qv(e,a,i),W=d;f&&dk(B,a,m,v,b,E,_,N),[this.firestore,this.persistenceEnabled$]=VE(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{const de=a.runOutsideAngular(()=>B.firestore());if(s&&de.settings(s),W&&de.useEmulator(...W),r&&!DC(o)){const Ie=()=>{try{return x(de.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Le){return typeof console<"u"&&console.warn(Le),M(!1)}};return[de,a.runOutsideAngular(Ie)]}return[de,M(!1)]},[s,W,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=fZ(r,i),a=this.schedulers.ngZone.run(()=>s);return new dZ(a,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new iPe(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new aZ(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(P(nm),P(im,8),P(uZ,8),P(rPe,8),P(_o),P(He),P(ME),P(hZ,8),P(sPe,8),P(Xv,8),P(rk,8),P(sk,8),P(ok,8),P(ak,8),P(lk,8),P(ck,8),P(kE,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),aPe=(()=>{class n{constructor(){xo.Z.registerVersion("angularfire",Xp.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:uZ,useValue:!0},{provide:hZ,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ge({providers:[oPe]})}return n})();const lPe_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};let gZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({})}return n})(),wPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,Ak,gZ,Kn,gZ]})}return n})(),NPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[aP]})}return n})(),$Pe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn,NPe,Kn]})}return n})(),qPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Kn]})}return n})(),ZPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({imports:[Ql,Kn]})}return n})(),JPe=(()=>{class n{constructor(){this.changes=new H,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cOe={provide:new ie("mat-datepicker-scroll-strategy"),deps:[Sa],useFactory:function lOe(n){return()=>n.scrollStrategies.reposition()}};let gOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:[JPe,cOe],imports:[Ql,q5,Uy,Ck,Tm,Kn,Vy]})}return n})();function _Oe(n,t){if(1&n){const e=St();A(0,"a",16),ge("click",function(){return Fe(e),Oe(G(2).navDisappear())}),A(1,"span"),ne(2,"Felhaszn\xe1l\xf3k"),R()()}}function vOe(n,t){if(1&n){const e=St();A(0,"li",13),ge("click",function(){Fe(e);const r=G(2);return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(1,"a",17),ne(2,"Id\u0151j\xe1r\xe1s"),R()()}}function yOe(n,t){if(1&n){const e=St();A(0,"li",13),ge("click",function(){Fe(e);const r=G(2);return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(1,"a",18),ne(2,"Chat"),R()()}}const bOe=function(){return["recipes"]};function wOe(n,t){if(1&n){const e=St();A(0,"li",13),ge("click",function(){Fe(e);const r=G(2);return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(1,"a",19),ne(2,"Receptek"),R()()}2&n&&(O(1),L("routerLink",iC(1,bOe)))}function COe(n,t){if(1&n){const e=St();A(0,"li",13),ge("click",function(){Fe(e);const r=G(2);return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(1,"a",20),ne(2,"Jegyzetek"),R()()}}function EOe(n,t){if(1&n){const e=St();A(0,"li",13),ge("click",function(){Fe(e);const r=G(2);return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(1,"a",21),ge("click",function(){return Fe(e),Oe(G(2).signOut())}),ne(2,"Kijelentkez\xe9s "),R()()}}const xOe=function(n){return{"mt-3":n}},kZ=function(){return{exact:!0}};function DOe(n,t){if(1&n){const e=St();vr(0),A(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),ge("click",function(){Fe(e);const r=G();return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(5,"span"),ne(6,"Menu "),R(),nt(7,"span",4),R()(),A(8,"div",5)(9,"ul",6)(10,"li",7),ge("click",function(){Fe(e);const r=G();return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(11,"a",8),nt(12,"span",9),ne(13," Kezd\u0151lap"),R()(),A(14,"li",10),Q(15,_Oe,3,0,"a",11),R(),Q(16,vOe,3,0,"li",12),Q(17,yOe,3,0,"li",12),Q(18,wOe,3,2,"li",12),Q(19,COe,3,0,"li",12),A(20,"li",13),ge("click",function(){Fe(e);const r=G();return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(21,"a",14),ne(22," Regisztr\xe1ci\xf3 "),R()(),A(23,"li",13),ge("click",function(){Fe(e);const r=G();return Oe(r.isMenuClicked=!r.isMenuClicked)}),A(24,"a",15),ne(25,"Bejelentkez\xe9s"),R()(),Q(26,EOe,3,0,"li",12),R()()()(),yr()}if(2&n){const e=G();O(8),L("ngbCollapse",!e.isMenuClicked),O(1),L("ngClass",Qa(10,xOe,e.isMenuClicked)),O(2),L("routerLinkActiveOptions",iC(12,kZ)),O(4),L("ngIf",e.isSuperAdmin),O(1),L("ngIf",e.isLoggedIn),O(1),L("ngIf",e.isLoggedIn),O(1),L("ngIf",e.isLoggedIn),O(1),L("ngIf",e.isLoggedIn),O(5),L("routerLinkActiveOptions",iC(13,kZ)),O(2),L("ngIf",e.isLoggedIn)}}let TOe=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{e?.uid||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>{this.isNavDisappeared=e})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(w(sc))};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center",3,"click"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","chat",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&Q(0,DOe,27,14,"ng-container",0),2&i&&L("ngIf",!r.isNavDisappeared)},dependencies:[Zl,Ji,fd,$4,NR],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),IOe=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=ht({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(i,r){1&i&&(nt(0,"app-nav"),A(1,"div",0),nt(2,"img",1),R(),A(3,"div",2),nt(4,"router-outlet"),R())},dependencies:[JC,TOe],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return n})();function MZ(n){return new Y(3e3,!1)}function iu(n){switch(n.length){case 0:return new Fy;case 1:return n[0];default:return new l6(n)}}function PZ(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==o,f=d&&a||new Map;l.forEach((m,_)=>{let v=_,b=m;if("offset"!==_)switch(v=n.normalizePropertyName(v,r),b){case"!":b=e.get(_);break;case hc:b=i.get(_);break;default:b=n.normalizeStyleValue(_,v,b,r)}f.set(v,b)}),d||s.push(f),a=f,o=c}),r.length)throw function ZOe(n){return new Y(3502,!1)}();return s}function UF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jF(e,"destroy",n)))}}function jF(n,t,e){const s=HF(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function HF(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Mo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function OZ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const lNe=(()=>typeof document>"u"?null:document.documentElement)();function zF(n){const t=n.parentNode||n.host||null;return t===lNe?null:t}let $h=null,NZ=!1;function FZ(n,t){for(;t;){if(t===n)return!0;t=zF(t)}return!1}function LZ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let VZ=(()=>{class n{validateStyleProperty(e){return function dNe(n){$h||($h=function uNe(){return typeof document<"u"?document.body:null}()||{},NZ=!!$h.style&&"WebkitAppearance"in $h.style);let t=!0;return $h.style&&!function cNe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in $h.style,!t&&NZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $h.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return FZ(e,i)}getParentElement(e){return zF(e)}query(e,i,r){return LZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Fy(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),$F=(()=>{class n{static#e=this.NOOP=new VZ}return n})();const hNe=1e3,GF="ng-enter",j1="ng-leave",H1="ng-trigger",z1=".ng-trigger",UZ="ng-animating",WF=".ng-animating";function Tc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qF(parseFloat(t[1]),t[2])}function qF(n,t){return"s"===t?n*hNe:n}function $1(n,t,e){return n.hasOwnProperty("duration")?n:function pNe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(MZ()),{duration:0,delay:0,easing:""};r=qF(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=qF(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function SOe(){return new Y(3100,!1)}()),a=!0),s<0&&(t.push(function AOe(){return new Y(3101,!1)}()),a=!0),a&&t.splice(l,0,MZ())}return{duration:r,delay:s,easing:o}}(n,t,e)}function r0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function jZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ru(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Cl(n,t,e){t.forEach((i,r)=>{const s=YF(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Gh(n,t){t.forEach((e,i)=>{const r=YF(i);n.style[r]=""})}function s0(n){return Array.isArray(n)?1==n.length?n[0]:o6(n):n}const KF=new RegExp("{{\\s*(.+?)\\s*}}","g");function zZ(n){let t=[];if("string"==typeof n){let e;for(;e=KF.exec(n);)t.push(e[1]);KF.lastIndex=0}return t}function o0(n,t,e){const i=n.toString(),r=i.replace(KF,(s,o)=>{let a=t[o];return null==a&&(e.push(function kOe(n){return new Y(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function G1(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const _Ne=/-+([a-z0-9])/g;function YF(n){return n.replace(_Ne,(...t)=>t[1].toUpperCase())}function Po(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function MOe(n){return new Y(3004,!1)}()}}function $Z(n,t){return window.getComputedStyle(n)[t]}const W1="*";function bNe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function wNe(n,t,e){if(":"==n[0]){const l=function CNe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function WOe(n){return new Y(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function GOe(n){return new Y(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(GZ(r,o));"<"==s[0]&&!(r==W1&&o==W1)&&t.push(GZ(o,r))}(i,e,t)):e.push(n),e}const q1=new Set(["true","1"]),K1=new Set(["false","0"]);function GZ(n,t){const e=q1.has(n)||K1.has(n),i=q1.has(t)||K1.has(t);return(r,s)=>{let o=n==W1||n==r,a=t==W1||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?q1.has(n):K1.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?q1.has(t):K1.has(t)),o&&a}}const ENe=new RegExp("s*:selfs*,?","g");function ZF(n,t,e,i){return new xNe(n).build(t,e,i)}class xNe{constructor(t){this._driver=t}build(t,e,i){const r=new INe(e);return this._resetContextStyleTimingState(r),Po(this,s0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function OOe(){return new Y(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function NOe(){return new Y(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{zZ(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(G1(s.values()),e.errors.push(function FOe(n,t){return new Y(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Po(this,s0(t.animation),e);return{type:1,matchers:bNe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Po(this,i,e)),options:Wh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Po(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Wh(t.options)}}visitAnimate(t,e){const i=function ANe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QF($1(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=QF(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=$1(e,t);return QF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ri({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ri(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===hc?i.push(a):e.errors.push(new Y(3002,!1)):i.push(jZ(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(e.errors.push(function VOe(n,t,e,i,r){return new Y(3010,!1)}()),f=!1),s=d.startTime),f&&c.set(l,{startTime:s,endTime:r}),e.options&&function gNe(n,t,e){const i=t.params||{},r=zZ(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function ROe(n){return new Y(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function BOe(){return new Y(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(N=>{const k=this._makeStyleAst(N,e);let B=null!=k.offset?k.offset:function SNe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(k.styles),W=0;return null!=B&&(s++,W=k.offset=B),l=l||W<0||W>1,a=a||W<c,c=W,o.push(W),k});l&&e.errors.push(function UOe(){return new Y(3012,!1)}()),a&&e.errors.push(function jOe(){return new Y(3200,!1)}());const f=t.steps.length;let m=0;s>0&&s<f?e.errors.push(function HOe(){return new Y(3202,!1)}()):0==s&&(m=1/(f-1));const _=f-1,v=e.currentTime,b=e.currentAnimateTimings,E=b.duration;return d.forEach((N,k)=>{const B=m>0?k==_?1:m*k:o[k],W=B*E;e.currentTime=v+b.delay+W,b.duration=W,this._validateStyleAst(N,e),N.offset=B,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:Po(this,s0(t.animation),e),options:Wh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function DNe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ENe,"")),n=n.replace(/@\*/g,z1).replace(/@\w+/g,e=>z1+"-"+e.slice(1)).replace(/:animating/g,WF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Mo(e.collectedStyles,e.currentQuerySelector,new Map);const a=Po(this,s0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Wh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function zOe(){return new Y(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:$1(t.timings,e.errors,!0);return{type:12,animation:Po(this,s0(t.animation),e),timings:i,options:null}}}class INe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wh(n){return n?(n=r0(n)).params&&(n.params=function TNe(n){return n?r0(n):null}(n.params)):n={},n}function QF(n,t,e){return{duration:n,delay:t,easing:e}}function XF(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Y1{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const MNe=new RegExp(":enter","g"),ONe=new RegExp(":leave","g");function JF(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new NNe).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class NNe{buildKeyframes(t,e,i,r,s,o,a,l,c,d=[]){c=c||new Y1;const f=new e2(t,e,c,r,s,d,[]);f.options=l;const m=l.delay?Tc(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,l),Po(this,i,f);const _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let b=_.length-1;b>=0;b--){const E=_[b];if(E.element===e){v=E;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[XF(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Tc(o0(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Tc(i.duration):null,a=null!=i.delay?Tc(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Po(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Z1);const o=Tc(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Po(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Tc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Po(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return $1(e.params?o0(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Tc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Z1);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const f=e.createSubContext(t.options,c);s&&f.delayNextStep(s),c===e.element&&(l=f.currentTimeline),Po(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;Po(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const Z1={};class e2{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Q1(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Tc(i.duration)),null!=i.delay&&(r.delay=Tc(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=o0(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new e2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Z1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new FNe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(MNe,"."+this._enterClassName)).replace(ONe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function $Oe(n){return new Y(3014,!1)}()),a}}class Q1{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Q1(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||hc),this._currentKeyframe.set(e,hc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function LNe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,hc)}else ru(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=o0(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??hc),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ru(a,new Map,this._backFill);c.forEach((d,f)=>{"!"===d?t.add(f):d===hc&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?G1(t.values()):[],o=e.size?G1(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return XF(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class FNe extends Q1{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=ru(t[0]);l.set("offset",0),s.push(l);const c=ru(t[0]);c.set("offset",KZ(a)),s.push(c);const d=t.length-1;for(let f=1;f<=d;f++){let m=ru(t[f]);const _=m.get("offset");m.set("offset",KZ((e+_*i)/o)),s.push(m)}i=o,e=0,r="",t=s}return XF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class t2{}const VNe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class BNe extends t2{normalizePropertyName(t,e){return YF(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(VNe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function POe(n,t){return new Y(3005,!1)}())}return o+s}}function YZ(n,t,e,i,r,s,o,a,l,c,d,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:m}}const n2={};class ZZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function UNe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,d){const f=[],m=this.ast.options&&this.ast.options.params||n2,v=this.buildStyles(i,a&&a.params||n2,f),b=l&&l.params||n2,E=this.buildStyles(r,b,f),N=new Set,k=new Map,B=new Map,W="void"===r,de={params:jNe(b,m),delay:this.ast.options?.delay},Ie=d?[]:JF(t,e,this.ast.animation,s,o,v,E,de,c,f);let Le=0;if(Ie.forEach(on=>{Le=Math.max(on.duration+on.delay,Le)}),f.length)return YZ(e,this._triggerName,i,r,W,v,E,[],[],k,B,Le,f);Ie.forEach(on=>{const wn=on.element,ir=Mo(k,wn,new Set);on.preStyleProps.forEach(Bi=>ir.add(Bi));const is=Mo(B,wn,new Set);on.postStyleProps.forEach(Bi=>is.add(Bi)),wn!==e&&N.add(wn)});const st=G1(N.values());return YZ(e,this._triggerName,i,r,W,v,E,Ie,st,k,B,Le)}}function jNe(n,t){const e=r0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class HNe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=r0(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=o0(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class $Ne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new HNe(r.style,r.options&&r.options.params||{},i))}),QZ(this.states,"true","1"),QZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ZZ(t,r,this.states))}),this.fallbackTransition=function GNe(n,t,e){return new ZZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function QZ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const WNe=new Y1;class qNe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=ZF(this._driver,e,i,[]);if(i.length)throw function QOe(n){return new Y(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=PZ(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=JF(this._driver,e,s,GF,j1,new Map,new Map,i,WNe,r),o.forEach(d=>{const f=Mo(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function XOe(){return new Y(3300,!1)}()),o=[]),r.length)throw function JOe(n){return new Y(3504,!1)}();a.forEach((d,f)=>{d.forEach((m,_)=>{d.set(_,this._driver.computeStyle(f,_,hc))})});const c=iu(o.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function eNe(n){return new Y(3301,!1)}();return e}listen(t,e,i,r){const s=HF(e,"","","");return UF(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const XZ="ng-animate-queued",r2="ng-animate-disabled",XNe=[],JZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JNe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class s2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function iFe(n){return n??null}(i?t.value:t),i){const s=r0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const a0="void",o2=new s2(a0);class eFe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ra(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function tNe(n,t){return new Y(3302,!1)}();if(null==i||0==i.length)throw function nNe(n){return new Y(3303,!1)}();if(!function rFe(n){return"start"==n||"done"==n}(i))throw function iNe(n,t){return new Y(3400,!1)}();const s=Mo(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Mo(this._engine.statesByElement,t,new Map);return a.has(e)||(ra(t,H1),ra(t,H1+"-"+e),a.set(e,o2)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function rNe(n){return new Y(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new a2(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ra(t,H1),ra(t,H1+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new s2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=o2),c.value!==a0&&l.value===c.value){if(!function aFe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const b=[],E=s.matchStyles(l.value,l.params,b),N=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Gh(t,E),Cl(t,N)})}return}const m=Mo(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=s.matchTransition(l.value,c.value,t,c.params),v=!1;if(!_){if(!r)return;_=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(ra(t,XZ),o.onStart(()=>{bg(t,XZ)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);const E=this._engine.playersByElement.get(t);if(E){let N=E.indexOf(o);N>=0&&E.splice(N,1)}}),this.players.push(o),m.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,z1,!0);i.forEach(r=>{if(r[Ma])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,a0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&iu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||o2,d=new s2(a0),f=new a2(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ma];(!s||s===JZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ra(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=HF(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,UF(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class tFe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new eFe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(X1(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!X1(e))return;const s=e[Ma];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ra(t,r2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bg(t,r2))}removeNode(t,e,i){if(X1(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ma]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return X1(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,z1,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return iu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ma];if(e&&e.setForRemoval){if(t[Ma]=JZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(r2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ra(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?iu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function sNe(n){return new Y(3402,!1)}()}_flushAnimations(t,e){const i=new Y1,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Ue=>{d.add(Ue);const Je=this.driver.query(Ue,".ng-animate-queued",!0);for(let _t=0;_t<Je.length;_t++)d.add(Je[_t])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=nQ(m,this.collectedEnterElements),v=new Map;let b=0;_.forEach((Ue,Je)=>{const _t=GF+b++;v.set(Je,_t),Ue.forEach(zt=>ra(zt,_t))});const E=[],N=new Set,k=new Set;for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++){const Je=this.collectedLeaveElements[Ue],_t=Je[Ma];_t&&_t.setForRemoval&&(E.push(Je),N.add(Je),_t.hasAnimation?this.driver.query(Je,".ng-star-inserted",!0).forEach(zt=>N.add(zt)):k.add(Je))}const B=new Map,W=nQ(m,Array.from(N));W.forEach((Ue,Je)=>{const _t=j1+b++;B.set(Je,_t),Ue.forEach(zt=>ra(zt,_t))}),t.push(()=>{_.forEach((Ue,Je)=>{const _t=v.get(Je);Ue.forEach(zt=>bg(zt,_t))}),W.forEach((Ue,Je)=>{const _t=B.get(Je);Ue.forEach(zt=>bg(zt,_t))}),E.forEach(Ue=>{this.processLeaveNode(Ue)})});const de=[],Ie=[];for(let Ue=this._namespaceList.length-1;Ue>=0;Ue--)this._namespaceList[Ue].drainQueuedTransitions(e).forEach(_t=>{const zt=_t.player,Ui=_t.element;if(de.push(zt),this.collectedEnterElements.length){const rr=Ui[Ma];if(rr&&rr.setForMove){if(rr.previousTriggersValues&&rr.previousTriggersValues.has(_t.triggerName)){const $s=rr.previousTriggersValues.get(_t.triggerName),_s=this.statesByElement.get(_t.element);if(_s&&_s.has(_t.triggerName)){const wg=_s.get(_t.triggerName);wg.value=$s,_s.set(_t.triggerName,wg)}}return void zt.destroy()}}const co=!f||!this.driver.containsElement(f,Ui),Tr=B.get(Ui),Oo=v.get(Ui),Bn=this._buildInstruction(_t,i,Oo,Tr,co);if(Bn.errors&&Bn.errors.length)return void Ie.push(Bn);if(co)return zt.onStart(()=>Gh(Ui,Bn.fromStyles)),zt.onDestroy(()=>Cl(Ui,Bn.toStyles)),void r.push(zt);if(_t.isFallbackTransition)return zt.onStart(()=>Gh(Ui,Bn.fromStyles)),zt.onDestroy(()=>Cl(Ui,Bn.toStyles)),void r.push(zt);const Pa=[];Bn.timelines.forEach(rr=>{rr.stretchStartingKeyframe=!0,this.disabledNodes.has(rr.element)||Pa.push(rr)}),Bn.timelines=Pa,i.append(Ui,Bn.timelines),o.push({instruction:Bn,player:zt,element:Ui}),Bn.queriedElements.forEach(rr=>Mo(a,rr,[]).push(zt)),Bn.preStyleProps.forEach((rr,$s)=>{if(rr.size){let _s=l.get($s);_s||l.set($s,_s=new Set),rr.forEach((wg,Kh)=>_s.add(Kh))}}),Bn.postStyleProps.forEach((rr,$s)=>{let _s=c.get($s);_s||c.set($s,_s=new Set),rr.forEach((wg,Kh)=>_s.add(Kh))})});if(Ie.length){const Ue=[];Ie.forEach(Je=>{Ue.push(function oNe(n,t){return new Y(3505,!1)}())}),de.forEach(Je=>Je.destroy()),this.reportError(Ue)}const Le=new Map,st=new Map;o.forEach(Ue=>{const Je=Ue.element;i.has(Je)&&(st.set(Je,Je),this._beforeAnimationBuild(Ue.player.namespaceId,Ue.instruction,Le))}),r.forEach(Ue=>{const Je=Ue.element;this._getPreviousPlayers(Je,!1,Ue.namespaceId,Ue.triggerName,null).forEach(zt=>{Mo(Le,Je,[]).push(zt),zt.destroy()})});const on=E.filter(Ue=>rQ(Ue,l,c)),wn=new Map;tQ(wn,this.driver,k,c,hc).forEach(Ue=>{rQ(Ue,l,c)&&on.push(Ue)});const is=new Map;_.forEach((Ue,Je)=>{tQ(is,this.driver,new Set(Ue),l,"!")}),on.forEach(Ue=>{const Je=wn.get(Ue),_t=is.get(Ue);wn.set(Ue,new Map([...Je?.entries()??[],..._t?.entries()??[]]))});const Bi=[],El=[],xl={};o.forEach(Ue=>{const{element:Je,player:_t,instruction:zt}=Ue;if(i.has(Je)){if(d.has(Je))return _t.onDestroy(()=>Cl(Je,zt.toStyles)),_t.disabled=!0,_t.overrideTotalTime(zt.totalTime),void r.push(_t);let Ui=xl;if(st.size>1){let Tr=Je;const Oo=[];for(;Tr=Tr.parentNode;){const Bn=st.get(Tr);if(Bn){Ui=Bn;break}Oo.push(Tr)}Oo.forEach(Bn=>st.set(Bn,Ui))}const co=this._buildAnimation(_t.namespaceId,zt,Le,s,is,wn);if(_t.setRealPlayer(co),Ui===xl)Bi.push(_t);else{const Tr=this.playersByElement.get(Ui);Tr&&Tr.length&&(_t.parentPlayer=iu(Tr)),r.push(_t)}}else Gh(Je,zt.fromStyles),_t.onDestroy(()=>Cl(Je,zt.toStyles)),El.push(_t),d.has(Je)&&r.push(_t)}),El.forEach(Ue=>{const Je=s.get(Ue.element);if(Je&&Je.length){const _t=iu(Je);Ue.setRealPlayer(_t)}}),r.forEach(Ue=>{Ue.parentPlayer?Ue.syncPlayerEvents(Ue.parentPlayer):Ue.destroy()});for(let Ue=0;Ue<E.length;Ue++){const Je=E[Ue],_t=Je[Ma];if(bg(Je,j1),_t&&_t.hasAnimation)continue;let zt=[];if(a.size){let co=a.get(Je);co&&co.length&&zt.push(...co);let Tr=this.driver.query(Je,WF,!0);for(let Oo=0;Oo<Tr.length;Oo++){let Bn=a.get(Tr[Oo]);Bn&&Bn.length&&zt.push(...Bn)}}const Ui=zt.filter(co=>!co.destroyed);Ui.length?sFe(this,Je,Ui):this.processLeaveNode(Je)}return E.length=0,Bi.forEach(Ue=>{this.players.push(Ue),Ue.onDone(()=>{Ue.destroy();const Je=this.players.indexOf(Ue);this.players.splice(Je,1)}),Ue.play()}),Bi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==a0;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==s,f=Mo(i,c,[]);this._getPreviousPlayers(c,d,o,a,e.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}Gh(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],d=new Set,f=new Set,m=e.timelines.map(v=>{const b=v.element;d.add(b);const E=b[Ma];if(E&&E.removedBeforeQueried)return new Fy(v.duration,v.delay);const N=b!==l,k=function oFe(n){const t=[];return iQ(n,t),t}((i.get(b)||XNe).map(Le=>Le.getRealPlayer())).filter(Le=>!!Le.element&&Le.element===b),B=s.get(b),W=o.get(b),de=PZ(this._normalizer,v.keyframes,B,W),Ie=this._buildPlayer(v,de,k);if(v.subTimeline&&r&&f.add(b),N){const Le=new a2(t,a,b);Le.setRealPlayer(Ie),c.push(Le)}return Ie});c.forEach(v=>{Mo(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function nFe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>ra(v,UZ));const _=iu(m);return _.onDestroy(()=>{d.forEach(v=>bg(v,UZ)),Cl(l,e.toStyles)}),f.forEach(v=>{Mo(r,v,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fy(t.duration,t.delay)}}class a2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Fy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>UF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Mo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function X1(n){return n&&1===n.nodeType}function eQ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function tQ(n,t,e,i,r){const s=[];e.forEach(l=>s.push(eQ(l)));const o=[];i.forEach((l,c)=>{const d=new Map;l.forEach(f=>{const m=t.computeStyle(c,f,r);d.set(f,m),(!m||0==m.length)&&(c[Ma]=JNe,o.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>eQ(l,s[a++])),o}function nQ(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function ra(n,t){n.classList?.add(t)}function bg(n,t){n.classList?.remove(t)}function sFe(n,t,e){iu(e).onDone(()=>n.processLeaveNode(t))}function iQ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof l6?iQ(i.players,t):t.push(i)}}function rQ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class J1{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new tFe(t,e,i),this._timelineEngine=new qNe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],d=ZF(this._driver,s,l,[]);if(l.length)throw function YOe(n,t){return new Y(3404,!1)}();a=function zNe(n,t,e){return new $Ne(n,t,e)}(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=OZ(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=OZ(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let cFe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cl(this._element,this._initialStyles),this._endStyles&&(Cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gh(this._element,this._endStyles),this._endStyles=null),Cl(this._element,this._initialStyles),this._state=3)}}return n})();function l2(n){let t=null;return n.forEach((e,i)=>{(function dFe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class sQ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:$Z(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class uFe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return FZ(t,e)}getParentElement(t){return zF(t)}query(t,e,i){return LZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=o.filter(_=>_ instanceof sQ);(function vNe(n,t){return 0===n||0===t})(i,r)&&d.forEach(_=>{_.currentSnapshot.forEach((v,b)=>c.set(b,v))});let f=function mNe(n){return n.length?n[0]instanceof Map?n:n.map(t=>jZ(t)):[]}(e).map(_=>ru(_));f=function yNe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,$Z(n,a)))}}return t}(t,f,c);const m=function lFe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=l2(t[0]),t.length>1&&(i=l2(t[t.length-1]))):t instanceof Map&&(e=l2(t)),e||i?new cFe(n,e,i):null}(t,f);return new sQ(t,f,l,m)}}let hFe=(()=>{class n extends r6{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Gs.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?o6(e):e;return oQ(this._renderer,null,i,"register",[r]),new fFe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(rp),P(mt))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class fFe extends xxe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pFe(this._id,t,e||{},this._renderer)}}class pFe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return oQ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oQ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const aQ="@.disabled";let mFe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(s);return d||(d=new lQ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,e,d.name,d)};return i.data.animation.forEach(l),new gFe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(P(rp),P(J1),P(He))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class lQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==aQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gFe extends lQ{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==aQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function _Fe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vFe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let yFe=(()=>{class n extends J1{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(P(mt),P($F),P(t2),P(pa))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const cQ=[{provide:r6,useClass:hFe},{provide:t2,useFactory:function bFe(){return new BNe}},{provide:J1,useClass:yFe},{provide:rp,useFactory:function wFe(n,t,e){return new mFe(n,t,e)},deps:[_A,J1,He]}],c2=[{provide:$F,useFactory:()=>new uFe},{provide:Ms,useValue:"BrowserAnimations"},...cQ],dQ=[{provide:$F,useClass:VZ},{provide:Ms,useValue:"NoopAnimations"},...cQ];let CFe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dQ:c2}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n});static#n=this.\u0275inj=Ge({providers:c2,imports:[Hj]})}return n})();class EFe{intercept(t,e){return e.handle(t).pipe(yi(i=>{}))}}let xFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Be({type:n,bootstrap:[IOe]});static#n=this.\u0275inj=Ge({providers:[{provide:Z$,useClass:EFe,multi:!0},RE],imports:[Hj,IIe,age,Zle,Qle,Qge,d_e.initializeApp(lPe_firebaseConfig),gCe,m_e,aPe,rxe,CFe,Gx,T1e,q5,rye,wPe,dDe,n1e,X1e,$Pe,qPe,ZPe,ETe,gOe,Tve,zTe,YR]})}return n})();jae().bootstrapModule(xFe).catch(n=>console.error(n))},614:()=>{const rs=":";const Cn=function(q,...z){if(Cn.translate){const pe=Cn.translate(q,z);q=pe[0],z=pe[1]}let re=pi(q[0],q.raw[0]);for(let pe=1;pe<q.length;pe++)re+=z[pe-1]+pi(q[pe],q.raw[pe]);return re},$n=":";function pi(q,z){return z.charAt(0)===$n?q.substring(function oe(q,z){for(let re=1,pe=1;re<q.length;re++,pe++)if("\\"===z[pe])pe++;else if(q[re]===rs)return re;throw new Error(`Unterminated $localize metadata block in "${z}".`)}(q,z)+1):q}globalThis.$localize=Cn},106:(rs,xi,ct)=>{ct.d(xi,{Z:()=>Qn});var S=ct(58),ae=ct(537),$=ct(534),et=ct(879);class dt{constructor(yt,bt){this._delegate=yt,this.firebase=bt,(0,$._addComponent)(yt,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(yt,bt=$._DEFAULT_ENTRY_NAME){var Di;this._delegate.checkDestroyed();const Xn=this._delegate.container.getProvider(yt);return!Xn.isInitialized()&&"EXPLICIT"===(null===(Di=Xn.getComponent())||void 0===Di?void 0:Di.instantiationMode)&&Xn.initialize(),Xn.getImmediate({identifier:bt})}_removeServiceInstance(yt,bt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(bt)}_addComponent(yt){(0,$._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,$._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fi=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function en(){const $t=function Rn($t){const yt={},bt={__esModule:!0,initializeApp:function Ot(It,be={}){const Kt=$.initializeApp(It,be);if((0,S.r3)(yt,Kt.name))return yt[Kt.name];const kn=new $t(Kt,bt);return yt[Kt.name]=kn,kn},app:Xn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ir(It){const be=It.name,Kt=be.replace("-compat","");if($._registerComponent(It)&&"PUBLIC"===It.type){const kn=(ii=Xn())=>{if("function"!=typeof ii[Kt])throw fi.create("invalid-app-argument",{appName:be});return ii[Kt]()};void 0!==It.serviceProps&&(0,S.ZB)(kn,It.serviceProps),bt[Kt]=kn,$t.prototype[Kt]=function(...ii){return this._getService.bind(this,be).apply(this,It.multipleInstances?ii:[])}}return"PUBLIC"===It.type?bt[Kt]:null},removeApp:function Di(It){delete yt[It]},useAsService:function Ti(It,be){return"serverAuth"===be?null:be},modularAPIs:$}};function Xn(It){if(!(0,S.r3)(yt,It=It||$._DEFAULT_ENTRY_NAME))throw fi.create("no-app",{appName:It});return yt[It]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Gt(){return Object.keys(yt).map(It=>yt[It])}}),Xn.App=$t,bt}(dt);return $t.INTERNAL=Object.assign(Object.assign({},$t.INTERNAL),{createFirebaseNamespace:en,extendNamespace:function yt(bt){(0,S.ZB)($t,bt)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),$t}(),xe=new et.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $t=self.firebase.SDK_VERSION;$t&&$t.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qn=fe;!function an($t){(0,$.registerVersion)("@firebase/app-compat","0.2.23",$t)}()},534:(rs,xi,ct)=>{ct.r(xi),ct.d(xi,{FirebaseError:()=>et.ZR,SDK_VERSION:()=>uo,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>sr,_addOrOverwriteComponent:()=>hr,_apps:()=>ri,_clearComponents:()=>_n,_components:()=>Ki,_getProvider:()=>Zt,_registerComponent:()=>In,_removeServiceInstance:()=>mn,deleteApp:()=>Pi,getApp:()=>ho,getApps:()=>Yi,initializeApp:()=>ws,onLog:()=>Ic,registerVersion:()=>Cs,setLogLevel:()=>Oa});var S=ct(861),ae=ct(537),$=ct(879),et=ct(58);const dt=(K,j)=>j.some(Ee=>K instanceof Ee);let Zn,fi;const fe=new WeakMap,xe=new WeakMap,Ze=new WeakMap,xt=new WeakMap,an=new WeakMap;let yt={get(K,j,Ee){if(K instanceof IDBTransaction){if("done"===j)return xe.get(K);if("objectStoreNames"===j)return K.objectStoreNames||Ze.get(K);if("store"===j)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return Ot(K[j])},set:(K,j,Ee)=>(K[j]=Ee,!0),has:(K,j)=>K instanceof IDBTransaction&&("done"===j||"store"===j)||j in K};function Xn(K){return"function"==typeof K?function Di(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function en(){return fi||(fi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...j){return K.apply(Gt(this),j),Ot(fe.get(this))}:function(...j){return Ot(K.apply(Gt(this),j))}:function(j,...Ee){const tt=K.call(Gt(this),j,...Ee);return Ze.set(tt,j.sort?j.sort():[j]),Ot(tt)}}(K):(K instanceof IDBTransaction&&function $t(K){if(xe.has(K))return;const j=new Promise((Ee,tt)=>{const Lt=()=>{K.removeEventListener("complete",jt),K.removeEventListener("error",Y),K.removeEventListener("abort",Y)},jt=()=>{Ee(),Lt()},Y=()=>{tt(K.error||new DOMException("AbortError","AbortError")),Lt()};K.addEventListener("complete",jt),K.addEventListener("error",Y),K.addEventListener("abort",Y)});xe.set(K,j)}(K),dt(K,function Rn(){return Zn||(Zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,yt):K)}function Ot(K){if(K instanceof IDBRequest)return function Qn(K){const j=new Promise((Ee,tt)=>{const Lt=()=>{K.removeEventListener("success",jt),K.removeEventListener("error",Y)},jt=()=>{Ee(Ot(K.result)),Lt()},Y=()=>{tt(K.error),Lt()};K.addEventListener("success",jt),K.addEventListener("error",Y)});return j.then(Ee=>{Ee instanceof IDBCursor&&fe.set(Ee,K)}).catch(()=>{}),an.set(j,K),j}(K);if(xt.has(K))return xt.get(K);const j=Xn(K);return j!==K&&(xt.set(K,j),an.set(j,K)),j}const Gt=K=>an.get(K),It=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Kt=new Map;function kn(K,j){if(!(K instanceof IDBDatabase)||j in K||"string"!=typeof j)return;if(Kt.get(j))return Kt.get(j);const Ee=j.replace(/FromIndex$/,""),tt=j!==Ee,Lt=be.includes(Ee);if(!(Ee in(tt?IDBIndex:IDBObjectStore).prototype)||!Lt&&!It.includes(Ee))return;const jt=function(){var Y=(0,S.Z)(function*(Oi,...Qe){const Wt=this.transaction(Oi,Lt?"readwrite":"readonly");let su=Wt.store;return tt&&(su=su.index(Qe.shift())),(yield Promise.all([su[Ee](...Qe),Lt&&Wt.done]))[0]});return function(Qe){return Y.apply(this,arguments)}}();return Kt.set(j,jt),jt}!function bt(K){yt=K(yt)}(K=>({...K,get:(j,Ee,tt)=>kn(j,Ee)||K.get(j,Ee,tt),has:(j,Ee)=>!!kn(j,Ee)||K.has(j,Ee)}));class ii{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Jn(K){const j=K.getComponent();return"VERSION"===j?.type}(Ee)){const tt=Ee.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Ee=>Ee).join(" ")}}const vs="@firebase/app",ut=new $.Yd("@firebase/app"),Ut="[DEFAULT]",Pn={[vs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ri=new Map,Ki=new Map;function sr(K,j){try{K.container.addComponent(j)}catch(Ee){ut.debug(`Component ${j.name} failed to register with FirebaseApp ${K.name}`,Ee)}}function hr(K,j){K.container.addOrOverwriteComponent(j)}function In(K){const j=K.name;if(Ki.has(j))return ut.debug(`There were multiple attempts to register component ${j}.`),!1;Ki.set(j,K);for(const Ee of ri.values())sr(Ee,K);return!0}function Zt(K,j){const Ee=K.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),K.container.getProvider(j)}function mn(K,j,Ee=Ut){Zt(K,j).clearInstance(Ee)}function _n(){Ki.clear()}const Gn=new et.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ei{constructor(j,Ee,tt){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const uo="10.6.0";function ws(K,j={}){let Ee=K;"object"!=typeof j&&(j={name:j});const tt=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},j),Lt=tt.name;if("string"!=typeof Lt||!Lt)throw Gn.create("bad-app-name",{appName:String(Lt)});if(Ee||(Ee=(0,et.aH)()),!Ee)throw Gn.create("no-options");const jt=ri.get(Lt);if(jt){if((0,et.vZ)(Ee,jt.options)&&(0,et.vZ)(tt,jt.config))return jt;throw Gn.create("duplicate-app",{appName:Lt})}const Y=new ae.H0(Lt);for(const Qe of Ki.values())Y.addComponent(Qe);const Oi=new ei(Ee,tt,Y);return ri.set(Lt,Oi),Oi}function ho(K=Ut){const j=ri.get(K);if(!j&&K===Ut&&(0,et.aH)())return ws();if(!j)throw Gn.create("no-app",{appName:K});return j}function Yi(){return Array.from(ri.values())}function Pi(K){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,S.Z)(function*(K){const j=K.name;ri.has(j)&&(ri.delete(j),yield Promise.all(K.container.getProviders().map(Ee=>Ee.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Cs(K,j,Ee){var tt;let Lt=null!==(tt=Pn[K])&&void 0!==tt?tt:K;Ee&&(Lt+=`-${Ee}`);const jt=Lt.match(/\s|\//),Y=j.match(/\s|\//);if(jt||Y){const Oi=[`Unable to register library "${Lt}" with version "${j}":`];return jt&&Oi.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),jt&&Y&&Oi.push("and"),Y&&Oi.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void ut.warn(Oi.join(" "))}In(new ae.wA(`${Lt}-version`,()=>({library:Lt,version:j}),"VERSION"))}function Ic(K,j){if(null!==K&&"function"!=typeof K)throw Gn.create("invalid-log-argument");(0,$.Am)(K,j)}function Oa(K){(0,$.Ub)(K)}const Tl="firebase-heartbeat-database",No=1,V="firebase-heartbeat-store";let F=null;function x(){return F||(F=function Ir(K,j,{blocked:Ee,upgrade:tt,blocking:Lt,terminated:jt}={}){const Y=indexedDB.open(K,j),Oi=Ot(Y);return tt&&Y.addEventListener("upgradeneeded",Qe=>{tt(Ot(Y.result),Qe.oldVersion,Qe.newVersion,Ot(Y.transaction),Qe)}),Ee&&Y.addEventListener("blocked",Qe=>Ee(Qe.oldVersion,Qe.newVersion,Qe)),Oi.then(Qe=>{jt&&Qe.addEventListener("close",()=>jt()),Lt&&Qe.addEventListener("versionchange",Wt=>Lt(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Oi}(Tl,No,{upgrade:(K,j)=>{0===j&&K.createObjectStore(V)}}).catch(K=>{throw Gn.create("idb-open",{originalErrorMessage:K.message})})),F}function C(){return(C=(0,S.Z)(function*(K){try{return yield(yield x()).transaction(V).objectStore(V).get(Ke(K))}catch(j){if(j instanceof et.ZR)ut.warn(j.message);else{const Ee=Gn.create("idb-get",{originalErrorMessage:j?.message});ut.warn(Ee.message)}}})).apply(this,arguments)}function M(K,j){return le.apply(this,arguments)}function le(){return(le=(0,S.Z)(function*(K,j){try{const tt=(yield x()).transaction(V,"readwrite");yield tt.objectStore(V).put(j,Ke(K)),yield tt.done}catch(Ee){if(Ee instanceof et.ZR)ut.warn(Ee.message);else{const tt=Gn.create("idb-set",{originalErrorMessage:Ee?.message});ut.warn(tt.message)}}})).apply(this,arguments)}function Ke(K){return`${K.name}!${K.options.appId}`}class dn{constructor(j){this.container=j,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new rt(Ee),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var j=this;return(0,S.Z)(function*(){var Ee;const Lt=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=Ve();if(null==(null===(Ee=j._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==jt&&!j._heartbeatsCache.heartbeats.some(Y=>Y.date===jt))return j._heartbeatsCache.heartbeats.push({date:jt,agent:Lt}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(Y=>{const Oi=new Date(Y.date).valueOf();return Date.now()-Oi<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,S.Z)(function*(){var Ee;if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null==(null===(Ee=j._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)||0===j._heartbeatsCache.heartbeats.length)return"";const tt=Ve(),{heartbeatsToSend:Lt,unsentEntries:jt}=function On(K,j=1024){const Ee=[];let tt=K.slice();for(const Lt of K){const jt=Ee.find(Y=>Y.agent===Lt.agent);if(jt){if(jt.dates.push(Lt.date),or(Ee)>j){jt.dates.pop();break}}else if(Ee.push({agent:Lt.agent,dates:[Lt.date]}),or(Ee)>j){Ee.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:tt}}(j._heartbeatsCache.heartbeats),Y=(0,et.L)(JSON.stringify({version:2,heartbeats:Lt}));return j._heartbeatsCache.lastSentHeartbeatDate=tt,jt.length>0?(j._heartbeatsCache.heartbeats=jt,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),Y})()}}function Ve(){return(new Date).toISOString().substring(0,10)}class rt{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,et.hl)()&&(0,et.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,S.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function T(K){return C.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var Ee=this;return(0,S.Z)(function*(){var tt;if(yield Ee._canUseIndexedDBPromise){const jt=yield Ee.read();return M(Ee.app,{lastSentHeartbeatDate:null!==(tt=j.lastSentHeartbeatDate)&&void 0!==tt?tt:jt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var Ee=this;return(0,S.Z)(function*(){var tt;if(yield Ee._canUseIndexedDBPromise){const jt=yield Ee.read();return M(Ee.app,{lastSentHeartbeatDate:null!==(tt=j.lastSentHeartbeatDate)&&void 0!==tt?tt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...j.heartbeats]})}})()}}function or(K){return(0,et.L)(JSON.stringify({version:2,heartbeats:K})).length}!function Il(K){In(new ae.wA("platform-logger",j=>new ii(j),"PRIVATE")),In(new ae.wA("heartbeat",j=>new dn(j),"PRIVATE")),Cs(vs,"0.9.23",K),Cs(vs,"0.9.23","esm2017"),Cs("fire-js","")}("")},537:(rs,xi,ct)=>{ct.d(xi,{H0:()=>Rn,wA:()=>$,zt:()=>dt});var S=ct(861),ae=ct(58);class ${constructor(fe,xe,Ze){this.name=fe,this.instanceFactory=xe,this.type=Ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const et="[DEFAULT]";class dt{constructor(fe,xe){this.name=fe,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const xe=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(xe)){const Ze=new ae.BH;if(this.instancesDeferred.set(xe,Ze),this.isInitialized(xe)||this.shouldAutoInitialize())try{const xt=this.getOrInitializeService({instanceIdentifier:xe});xt&&Ze.resolve(xt)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(fe){var xe;const Ze=this.normalizeInstanceIdentifier(fe?.identifier),xt=null!==(xe=fe?.optional)&&void 0!==xe&&xe;if(!this.isInitialized(Ze)&&!this.shouldAutoInitialize()){if(xt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ze})}catch(an){if(xt)return null;throw an}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function fi(en){return"EAGER"===en.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:et})}catch{}for(const[xe,Ze]of this.instancesDeferred.entries()){const xt=this.normalizeInstanceIdentifier(xe);try{const an=this.getOrInitializeService({instanceIdentifier:xt});Ze.resolve(an)}catch{}}}}clearInstance(fe=et){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,S.Z)(function*(){const xe=Array.from(fe.instances.values());yield Promise.all([...xe.filter(Ze=>"INTERNAL"in Ze).map(Ze=>Ze.INTERNAL.delete()),...xe.filter(Ze=>"_delete"in Ze).map(Ze=>Ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=et){return this.instances.has(fe)}getOptions(fe=et){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:xe={}}=fe,Ze=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Ze))throw Error(`${this.name}(${Ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xt=this.getOrInitializeService({instanceIdentifier:Ze,options:xe});for(const[an,Qn]of this.instancesDeferred.entries())Ze===this.normalizeInstanceIdentifier(an)&&Qn.resolve(xt);return xt}onInit(fe,xe){var Ze;const xt=this.normalizeInstanceIdentifier(xe),an=null!==(Ze=this.onInitCallbacks.get(xt))&&void 0!==Ze?Ze:new Set;an.add(fe),this.onInitCallbacks.set(xt,an);const Qn=this.instances.get(xt);return Qn&&fe(Qn,xt),()=>{an.delete(fe)}}invokeOnInitCallbacks(fe,xe){const Ze=this.onInitCallbacks.get(xe);if(Ze)for(const xt of Ze)try{xt(fe,xe)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:xe={}}){let Ze=this.instances.get(fe);if(!Ze&&this.component&&(Ze=this.component.instanceFactory(this.container,{instanceIdentifier:(en=fe,en===et?void 0:en),options:xe}),this.instances.set(fe,Ze),this.instancesOptions.set(fe,xe),this.invokeOnInitCallbacks(Ze,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Ze)}catch{}var en;return Ze||null}normalizeInstanceIdentifier(fe=et){return this.component?this.component.multipleInstances?fe:et:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rn{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const xe=this.getProvider(fe.name);if(xe.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);xe.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const xe=new dt(fe,this);return this.providers.set(fe,xe),xe}getProviders(){return Array.from(this.providers.values())}}},879:(rs,xi,ct)=>{ct.d(xi,{Am:()=>en,Ub:()=>Rn,Yd:()=>fi,in:()=>ae});const S=[];var ae=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(ae||{});const $={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},et=ae.INFO,dt={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Zn=(fe,xe,...Ze)=>{if(xe<fe.logLevel)return;const xt=(new Date).toISOString(),an=dt[xe];if(!an)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[an](`[${xt}]  ${fe.name}:`,...Ze)};class fi{constructor(xe){this.name=xe,this._logLevel=et,this._logHandler=Zn,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in ae))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?$[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...xe),this._logHandler(this,ae.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...xe),this._logHandler(this,ae.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...xe),this._logHandler(this,ae.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...xe),this._logHandler(this,ae.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...xe),this._logHandler(this,ae.ERROR,...xe)}}function Rn(fe){S.forEach(xe=>{xe.setLogLevel(fe)})}function en(fe,xe){for(const Ze of S){let xt=null;xe&&xe.level&&(xt=$[xe.level]),Ze.userLogHandler=null===fe?null:(an,Qn,...$t)=>{const yt=$t.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");Qn>=(xt??an.logLevel)&&fe({level:ae[Qn].toLowerCase(),message:yt,args:$t,type:an.name})}}}},365:(rs,xi,ct)=>{ct.r(xi);var S=ct(861),ae=ct(106),$=ct(562),et=ct(58),fi=(ct(534),ct(879),ct(537));function Rn(){return window}function xe(){return xe=(0,S.Z)(function*(x,T,C){var M;const{BuildInfo:le}=Rn();(0,$.au)(T.sessionId,"AuthEvent did not contain a session ID");const Ke=yield function bt(x){return Di.apply(this,arguments)}(T.sessionId),$e={};return(0,$.av)()?$e.ibi=le.packageName:(0,$.aw)()?$e.apn=le.packageName:(0,$.ax)(x,"operation-not-supported-in-this-environment"),le.displayName&&($e.appDisplayName=le.displayName),$e.sessionId=Ke,(0,$.ay)(x,C,T.type,void 0,null!==(M=T.eventId)&&void 0!==M?M:void 0,$e)}),xe.apply(this,arguments)}function xt(){return(xt=(0,S.Z)(function*(x){const{BuildInfo:T}=Rn(),C={};(0,$.av)()?C.iosBundleId=T.packageName:(0,$.aw)()?C.androidPackageName=T.packageName:(0,$.ax)(x,"operation-not-supported-in-this-environment"),yield(0,$.az)(x,C)})).apply(this,arguments)}function $t(){return($t=(0,S.Z)(function*(x,T,C){const{cordova:M}=Rn();let le=()=>{};try{yield new Promise((Ke,$e)=>{let pt=null;function dn(){var rt;Ke();const or=null===(rt=M.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof or&&or(),"function"==typeof C?.close&&C.close()}function Ve(){pt||(pt=window.setTimeout(()=>{$e((0,$.aB)(x,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&Ve()}T.addPassiveListener(dn),document.addEventListener("resume",Ve,!1),(0,$.aw)()&&document.addEventListener("visibilitychange",On,!1),le=()=>{T.removePassiveListener(dn),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",On,!1),pt&&window.clearTimeout(pt)}})}finally{le()}})).apply(this,arguments)}function Di(){return(Di=(0,S.Z)(function*(x){const T=function Xn(x){if((0,$.au)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const T=new ArrayBuffer(x.length),C=new Uint8Array(T);for(let M=0;M<x.length;M++)C[M]=x.charCodeAt(M);return C}(x),C=yield crypto.subtle.digest("SHA-256",T);return Array.from(new Uint8Array(C)).map(le=>le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Gt extends $.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(T=>{this.resolveInialized=T})}addPassiveListener(T){this.passiveListeners.add(T)}removePassiveListener(T){this.passiveListeners.delete(T)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(T){return this.resolveInialized(),this.passiveListeners.forEach(C=>C(T)),super.onEvent(T)}initialized(){var T=this;return(0,S.Z)(function*(){yield T.initPromise})()}}function It(x){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(x){const T=yield ii()._get(Jn(x));return T&&(yield ii()._remove(Jn(x))),T})).apply(this,arguments)}function kn(){const x=[];for(let C=0;C<20;C++){const M=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return x.join("")}function ii(){return(0,$.aE)($.b)}function Jn(x){return(0,$.aF)("authEvent",x.config.apiKey,x.name)}function ut(x){if(!x?.includes("?"))return{};const[T,...C]=x.split("?");return(0,et.zd)(C.join("?"))}const ee=class bs{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aG,this._overrideRedirectResult=$.aH}_initialize(T){var C=this;return(0,S.Z)(function*(){const M=T._key();let le=C.eventManagers.get(M);return le||(le=new Gt(T),C.eventManagers.set(M,le),C.attachCallbackListeners(T,le)),le})()}_openPopup(T){(0,$.ax)(T,"operation-not-supported-in-this-environment")}_openRedirect(T,C,M,le){var Ke=this;return(0,S.Z)(function*(){!function yt(x){var T,C,M,le,Ke,$e,pt,dn,Ve,On;const rt=Rn();(0,$.aC)("function"==typeof(null===(T=rt?.universalLinks)||void 0===T?void 0:T.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aC)(typeof(null===(C=rt?.BuildInfo)||void 0===C?void 0:C.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aC)("function"==typeof(null===(Ke=null===(le=null===(M=rt?.cordova)||void 0===M?void 0:M.plugins)||void 0===le?void 0:le.browsertab)||void 0===Ke?void 0:Ke.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aC)("function"==typeof(null===(dn=null===(pt=null===($e=rt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===dn?void 0:dn.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aC)("function"==typeof(null===(On=null===(Ve=rt?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===On?void 0:On.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(T);const $e=yield Ke._initialize(T);yield $e.initialized(),$e.resetRedirect(),(0,$.aI)(),yield Ke._originValidation(T);const pt=function Ir(x,T,C=null){return{type:T,eventId:C,urlResponse:null,sessionId:kn(),postBody:null,tenantId:x.tenantId,error:(0,$.aB)(x,"no-auth-event")}}(T,M,le);yield function Ti(x,T){return ii()._set(Jn(x),T)}(T,pt);const dn=yield function fe(x,T,C){return xe.apply(this,arguments)}(T,pt,C),Ve=yield function an(x){const{cordova:T}=Rn();return new Promise(C=>{T.plugins.browsertab.isAvailable(M=>{let le=null;M?T.plugins.browsertab.openUrl(x):le=T.InAppBrowser.open(x,(0,$.aA)()?"_blank":"_system","location=yes"),C(le)})})}(dn);return function Qn(x,T,C){return $t.apply(this,arguments)}(T,$e,Ve)})()}_isIframeWebStorageSupported(T,C){throw new Error("Method not implemented.")}_originValidation(T){const C=T._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Ze(x){return xt.apply(this,arguments)}(T)),this.originValidationPromises[C]}attachCallbackListeners(T,C){const{universalLinks:M,handleOpenURL:le,BuildInfo:Ke}=Rn(),$e=setTimeout((0,S.Z)(function*(){yield It(T),C.onEvent(oe())}),500),pt=function(){var On=(0,S.Z)(function*(rt){clearTimeout($e);const or=yield It(T);let Il=null;or&&rt?.url&&(Il=function Kt(x,T){var C,M;const le=function ys(x){const T=ut(x),C=T.link?decodeURIComponent(T.link):void 0,M=ut(C).link,le=T.deep_link_id?decodeURIComponent(T.deep_link_id):void 0;return ut(le).link||le||M||C||x}(T);if(le.includes("/__/auth/callback")){const Ke=ut(le),$e=Ke.firebaseError?function vs(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ke.firebaseError)):null,pt=null===(M=null===(C=$e?.code)||void 0===C?void 0:C.split("auth/"))||void 0===M?void 0:M[1],dn=pt?(0,$.aB)(pt):null;return dn?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:le,postBody:null}}return null}(or,rt.url)),C.onEvent(Il||oe())});return function(or){return On.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,pt);const dn=le,Ve=`${Ke.packageName.toLowerCase()}://`;Rn().handleOpenURL=function(){var On=(0,S.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ve)&&pt({url:rt}),"function"==typeof dn)try{dn(rt)}catch(or){console.error(or)}});return function(rt){return On.apply(this,arguments)}}()}};function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.aB)("no-auth-event")}}function Se(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function we(x=(0,et.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function $n(){try{const x=self.localStorage,T=$.aN();if(x)return x.setItem(T,"1"),x.removeItem(T),!function Cn(x=(0,et.z$)()){return function tn(){return(0,et.w1)()&&11===document?.documentMode}()||function zn(x=(0,et.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,et.hl)()}catch{return pi()&&(0,et.hl)()}return!1}function pi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function q(){return(function Nt(){return"http:"===Se()||"https:"===Se()}()||(0,et.ru)()||we())&&!function ot(){return(0,et.b$)()||(0,et.UG)()}()&&$n()&&!pi()}function z(){return we()&&typeof document<"u"}function pe(){return(pe=(0,S.Z)(function*(){return!!z()&&new Promise(x=>{const T=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(T),x(!0)})})})).apply(this,arguments)}const Ce={LOCAL:"local",NONE:"none",SESSION:"session"},Mn=$.aC,Yt="persistence";function Pn(x){return ri.apply(this,arguments)}function ri(){return(ri=(0,S.Z)(function*(x){yield x._initializationPromise;const T=sr(),C=$.aF(Yt,x.config.apiKey,x.name);T&&T.setItem(C,x._getPersistence())})).apply(this,arguments)}function sr(){var x;try{return(null===(x=function Ae(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const hr=$.aC;class In{constructor(){this.browserResolver=$.aE($.k),this.cordovaResolver=$.aE(ee),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aG,this._overrideRedirectResult=$.aH}_initialize(T){var C=this;return(0,S.Z)(function*(){return yield C.selectUnderlyingResolver(),C.assertedUnderlyingResolver._initialize(T)})()}_openPopup(T,C,M,le){var Ke=this;return(0,S.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(T,C,M,le)})()}_openRedirect(T,C,M,le){var Ke=this;return(0,S.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(T,C,M,le)})()}_isIframeWebStorageSupported(T,C){this.assertedUnderlyingResolver._isIframeWebStorageSupported(T,C)}_originValidation(T){return this.assertedUnderlyingResolver._originValidation(T)}get _shouldInitProactively(){return z()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var T=this;return(0,S.Z)(function*(){if(T.underlyingResolver)return;const C=yield function re(){return pe.apply(this,arguments)}();T.underlyingResolver=C?T.cordovaResolver:T.browserResolver})()}}function Zt(x){return x.unwrap()}function _n(x){return Gn(x)}function Gn(x){const{_tokenResponse:T}=x instanceof et.ZR?x.customData:x;if(!T)return null;if(!(x instanceof et.ZR)&&"temporaryProof"in T&&"phoneNumber"in T)return $.P.credentialFromResult(x);const C=T.providerId;if(!C||C===$.p.PASSWORD)return null;let M;switch(C){case $.p.GOOGLE:M=$.X;break;case $.p.FACEBOOK:M=$.W;break;case $.p.GITHUB:M=$.Y;break;case $.p.TWITTER:M=$.$;break;default:const{oauthIdToken:le,oauthAccessToken:Ke,oauthTokenSecret:$e,pendingToken:pt,nonce:dn}=T;return Ke||$e||le||pt?pt?C.startsWith("saml.")?$.aQ._create(C,pt):$.N._fromParams({providerId:C,signInMethod:C,pendingToken:pt,idToken:le,accessToken:Ke}):new $.Z(C).credential({idToken:le,accessToken:Ke,rawNonce:dn}):null}return x instanceof et.ZR?M.credentialFromError(x):M.credentialFromResult(x)}function ei(x,T){return T.catch(C=>{throw C instanceof et.ZR&&function Dl(x,T){var C;const M=null===(C=T.customData)||void 0===C?void 0:C._tokenResponse;if("auth/multi-factor-auth-required"===T?.code)T.resolver=new ho(x,$.as(x,T));else if(M){const le=Gn(T),Ke=T;le&&(Ke.credential=le,Ke.tenantId=M.tenantId||void 0,Ke.email=M.email||void 0,Ke.phoneNumber=M.phoneNumber||void 0)}}(x,C),C}).then(C=>{const le=C.user;return{operationType:C.operationType,credential:_n(C),additionalUserInfo:$.aq(C),user:Yi.getOrCreate(le)}})}function uo(x,T){return ws.apply(this,arguments)}function ws(){return(ws=(0,S.Z)(function*(x,T){const C=yield T;return{verificationId:C.verificationId,confirm:M=>ei(x,C.confirm(M))}})).apply(this,arguments)}class ho{constructor(T,C){this.resolver=C,this.auth=function mn(x){return x.wrapped()}(T)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(T){return ei(Zt(this.auth),this.resolver.resolveSignIn(T))}}class Yi{constructor(T){this._delegate=T,this.multiFactor=$.at(T)}static getOrCreate(T){return Yi.USER_MAP.has(T)||Yi.USER_MAP.set(T,new Yi(T)),Yi.USER_MAP.get(T)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(T){return this._delegate.getIdTokenResult(T)}getIdToken(T){return this._delegate.getIdToken(T)}linkAndRetrieveDataWithCredential(T){return this.linkWithCredential(T)}linkWithCredential(T){var C=this;return(0,S.Z)(function*(){return ei(C.auth,$.a2(C._delegate,T))})()}linkWithPhoneNumber(T,C){var M=this;return(0,S.Z)(function*(){return uo(M.auth,$.l(M._delegate,T,C))})()}linkWithPopup(T){var C=this;return(0,S.Z)(function*(){return ei(C.auth,$.d(C._delegate,T,In))})()}linkWithRedirect(T){var C=this;return(0,S.Z)(function*(){return yield Pn($.aJ(C.auth)),$.g(C._delegate,T,In)})()}reauthenticateAndRetrieveDataWithCredential(T){return this.reauthenticateWithCredential(T)}reauthenticateWithCredential(T){var C=this;return(0,S.Z)(function*(){return ei(C.auth,$.a3(C._delegate,T))})()}reauthenticateWithPhoneNumber(T,C){return uo(this.auth,$.r(this._delegate,T,C))}reauthenticateWithPopup(T){return ei(this.auth,$.e(this._delegate,T,In))}reauthenticateWithRedirect(T){var C=this;return(0,S.Z)(function*(){return yield Pn($.aJ(C.auth)),$.h(C._delegate,T,In)})()}sendEmailVerification(T){return $.ag(this._delegate,T)}unlink(T){var C=this;return(0,S.Z)(function*(){return yield $.ap(C._delegate,T),C})()}updateEmail(T){return $.al(this._delegate,T)}updatePassword(T){return $.am(this._delegate,T)}updatePhoneNumber(T){return $.u(this._delegate,T)}updateProfile(T){return $.ak(this._delegate,T)}verifyBeforeUpdateEmail(T,C){return $.ah(this._delegate,T,C)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yi.USER_MAP=new WeakMap;const Pi=$.aC;let Ar=(()=>{class x{constructor(C,M){if(this.app=C,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:le}=C.options;Pi(le,"invalid-api-key",{appName:C.name}),Pi(le,"invalid-api-key",{appName:C.name});const Ke=typeof window<"u"?In:void 0;this._delegate=M.initialize({options:{persistence:Ic(le,C.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap($.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(C){this._delegate.languageCode=C}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(C){this._delegate.tenantId=C}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(C,M){$.K(this._delegate,C,M)}applyActionCode(C){return $.a7(this._delegate,C)}checkActionCode(C){return $.a8(this._delegate,C)}confirmPasswordReset(C,M){return $.a6(this._delegate,C,M)}createUserWithEmailAndPassword(C,M){var le=this;return(0,S.Z)(function*(){return ei(le._delegate,$.aa(le._delegate,C,M))})()}fetchProvidersForEmail(C){return this.fetchSignInMethodsForEmail(C)}fetchSignInMethodsForEmail(C){return $.af(this._delegate,C)}isSignInWithEmailLink(C){return $.ad(this._delegate,C)}getRedirectResult(){var C=this;return(0,S.Z)(function*(){Pi(q(),C._delegate,"operation-not-supported-in-this-environment");const M=yield $.j(C._delegate,In);return M?ei(C._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(C){!function H(x,T){(0,$.aJ)(x)._logFramework(T)}(this._delegate,C)}onAuthStateChanged(C,M,le){const{next:Ke,error:$e,complete:pt}=Cs(C,M,le);return this._delegate.onAuthStateChanged(Ke,$e,pt)}onIdTokenChanged(C,M,le){const{next:Ke,error:$e,complete:pt}=Cs(C,M,le);return this._delegate.onIdTokenChanged(Ke,$e,pt)}sendSignInLinkToEmail(C,M){return $.ac(this._delegate,C,M)}sendPasswordResetEmail(C,M){return $.a5(this._delegate,C,M||void 0)}setPersistence(C){var M=this;return(0,S.Z)(function*(){let le;switch(function Ut(x,T){Mn(Object.values(Ce).includes(T),x,"invalid-persistence-type"),(0,et.b$)()?Mn(T!==Ce.SESSION,x,"unsupported-persistence-type"):(0,et.UG)()?Mn(T===Ce.NONE,x,"unsupported-persistence-type"):pi()?Mn(T===Ce.NONE||T===Ce.LOCAL&&(0,et.hl)(),x,"unsupported-persistence-type"):Mn(T===Ce.NONE||$n(),x,"unsupported-persistence-type")}(M._delegate,C),C){case Ce.SESSION:le=$.a;break;case Ce.LOCAL:le=(yield $.aE($.i)._isAvailable())?$.i:$.b;break;case Ce.NONE:le=$.U;break;default:return $.ax("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(le)})()}signInAndRetrieveDataWithCredential(C){return this.signInWithCredential(C)}signInAnonymously(){return ei(this._delegate,$.a0(this._delegate))}signInWithCredential(C){return ei(this._delegate,$.a1(this._delegate,C))}signInWithCustomToken(C){return ei(this._delegate,$.a4(this._delegate,C))}signInWithEmailAndPassword(C,M){return ei(this._delegate,$.ab(this._delegate,C,M))}signInWithEmailLink(C,M){return ei(this._delegate,$.ae(this._delegate,C,M))}signInWithPhoneNumber(C,M){return uo(this._delegate,$.s(this._delegate,C,M))}signInWithPopup(C){var M=this;return(0,S.Z)(function*(){return Pi(q(),M._delegate,"operation-not-supported-in-this-environment"),ei(M._delegate,$.c(M._delegate,C,In))})()}signInWithRedirect(C){var M=this;return(0,S.Z)(function*(){return Pi(q(),M._delegate,"operation-not-supported-in-this-environment"),yield Pn(M._delegate),$.f(M._delegate,C,In)})()}updateCurrentUser(C){return this._delegate.updateCurrentUser(C)}verifyPasswordResetCode(C){return $.a9(this._delegate,C)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Ce,x})();function Cs(x,T,C){let M=x;"function"!=typeof x&&({next:M,error:T,complete:C}=x);const le=M;return{next:$e=>le($e&&Yi.getOrCreate($e)),error:T,complete:C}}function Ic(x,T){const C=function Ki(x,T){const C=sr();if(!C)return[];const M=$.aF(Yt,x,T);switch(C.getItem(M)){case Ce.NONE:return[$.U];case Ce.LOCAL:return[$.i,$.a];case Ce.SESSION:return[$.a];default:return[]}}(x,T);if(typeof self<"u"&&!C.includes($.i)&&C.push($.i),typeof window<"u")for(const M of[$.b,$.a])C.includes(M)||C.push(M);return C.includes($.U)||C.push($.U),C}class Oa{constructor(){this.providerId="phone",this._delegate=new $.P(Zt(ae.Z.auth()))}static credential(T,C){return $.P.credential(T,C)}verifyPhoneNumber(T,C){return this._delegate.verifyPhoneNumber(T,C)}unwrap(){return this._delegate}}Oa.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Oa.PROVIDER_ID=$.P.PROVIDER_ID;const Tl=$.aC;class No{constructor(T,C,M=ae.Z.app()){var le;Tl(null===(le=M.options)||void 0===le?void 0:le.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new $.R(M.auth(),T,C),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F(x){x.INTERNAL.registerComponent(new fi.wA("auth-compat",T=>{const C=T.getProvider("app-compat").getImmediate(),M=T.getProvider("auth");return new Ar(C,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.V,FacebookAuthProvider:$.W,GithubAuthProvider:$.Y,GoogleAuthProvider:$.X,OAuthProvider:$.Z,SAMLAuthProvider:$._,PhoneAuthProvider:Oa,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:No,TwitterAuthProvider:$.$,Auth:Ar,AuthCredential:$.L,Error:et.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.9")}(ae.Z)},861:(rs,xi,ct)=>{function S($,et,dt,Zn,fi,Rn,en){try{var fe=$[Rn](en),xe=fe.value}catch(Ze){return void dt(Ze)}fe.done?et(xe):Promise.resolve(xe).then(Zn,fi)}function ae($){return function(){var et=this,dt=arguments;return new Promise(function(Zn,fi){var Rn=$.apply(et,dt);function en(xe){S(Rn,Zn,fi,en,fe,"next",xe)}function fe(xe){S(Rn,Zn,fi,en,fe,"throw",xe)}en(void 0)})}}ct.d(xi,{Z:()=>ae})},582:(rs,xi,ct)=>{function et(ee,oe){var H={};for(var J in ee)Object.prototype.hasOwnProperty.call(ee,J)&&oe.indexOf(J)<0&&(H[J]=ee[J]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(J=Object.getOwnPropertySymbols(ee);me<J.length;me++)oe.indexOf(J[me])<0&&Object.prototype.propertyIsEnumerable.call(ee,J[me])&&(H[J[me]]=ee[J[me]])}return H}function Ze(ee,oe,H,J){return new(H||(H=Promise))(function(he,Se){function Nt(tn){try{ot(J.next(tn))}catch(zn){Se(zn)}}function we(tn){try{ot(J.throw(tn))}catch(zn){Se(zn)}}function ot(tn){tn.done?he(tn.value):function me(he){return he instanceof H?he:new H(function(Se){Se(he)})}(tn.value).then(Nt,we)}ot((J=J.apply(ee,oe||[])).next())})}function Ot(ee){return this instanceof Ot?(this.v=ee,this):new Ot(ee)}function Gt(ee,oe,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,J=H.apply(ee,oe||[]),he=[];return me={},Se("next"),Se("throw"),Se("return"),me[Symbol.asyncIterator]=function(){return this},me;function Se(Cn){J[Cn]&&(me[Cn]=function($n){return new Promise(function(pi,q){he.push([Cn,$n,pi,q])>1||Nt(Cn,$n)})})}function Nt(Cn,$n){try{!function we(Cn){Cn.value instanceof Ot?Promise.resolve(Cn.value.v).then(ot,tn):zn(he[0][2],Cn)}(J[Cn]($n))}catch(pi){zn(he[0][3],pi)}}function ot(Cn){Nt("next",Cn)}function tn(Cn){Nt("throw",Cn)}function zn(Cn,$n){Cn($n),he.shift(),he.length&&Nt(he[0][0],he[0][1])}}function Ti(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,oe=ee[Symbol.asyncIterator];return oe?oe.call(ee):(ee=function $t(ee){var oe="function"==typeof Symbol&&Symbol.iterator,H=oe&&ee[oe],J=0;if(H)return H.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&J>=ee.length&&(ee=void 0),{value:ee&&ee[J++],done:!ee}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),H={},J("next"),J("throw"),J("return"),H[Symbol.asyncIterator]=function(){return this},H);function J(he){H[he]=ee[he]&&function(Se){return new Promise(function(Nt,we){!function me(he,Se,Nt,we){Promise.resolve(we).then(function(ot){he({value:ot,done:Nt})},Se)}(Nt,we,(Se=ee[he](Se)).done,Se.value)})}}}ct.d(xi,{FC:()=>Gt,KL:()=>Ti,_T:()=>et,mG:()=>Ze,qq:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError}},rs=>{var xi=S=>rs(rs.s=S);xi(614),xi(862)}]);