"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{562:(Xr,wi,at)=>{at.d(wi,{$:()=>Nb,A:()=>Ee,G:()=>rn,K:()=>nx,L:()=>ec,N:()=>yo,P:()=>qh,R:()=>r0,U:()=>Ue,V:()=>Zm,W:()=>Ah,X:()=>Oo,Y:()=>ws,Z:()=>vo,_:()=>rc,a:()=>Ts,a0:()=>Xm,a1:()=>Oh,a2:()=>rg,a3:()=>Lb,a4:()=>ax,a5:()=>ir,a6:()=>sc,a7:()=>Vb,a8:()=>Ou,a9:()=>lx,aA:()=>Ot,aB:()=>$t,aC:()=>ve,aD:()=>Ds,aE:()=>oe,aF:()=>dt,aG:()=>Wu,aH:()=>c0,aI:()=>mc,aJ:()=>fi,aN:()=>Ri,aQ:()=>qs,aa:()=>Oe,ab:()=>ii,ac:()=>ts,ad:()=>Er,ae:()=>ac,af:()=>Tt,ag:()=>Bb,ah:()=>Ai,ak:()=>Pu,al:()=>Ta,am:()=>Ks,ap:()=>Ob,aq:()=>Lu,as:()=>QP,at:()=>nF,au:()=>Sn,av:()=>Qe,aw:()=>G,ax:()=>Rt,ay:()=>_c,az:()=>f0,b:()=>ux,c:()=>Da,d:()=>l0,e:()=>Cx,f:()=>Tx,g:()=>sr,h:()=>an,i:()=>$h,j:()=>xs,k:()=>C0,l:()=>bx,m:()=>Px,o:()=>fF,p:()=>Dn,r:()=>wx,s:()=>o0,u:()=>Hn});var S=at(861),ie=at(58),j=at(534),Ye=at(879),pt=at(582),Wn=at(537);const Dn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rn=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gn=function Ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Ye.Yd("@firebase/auth");function qn(p,...d){_t.logLevel<=Ye.in.ERROR&&_t.error(`Auth (${j.SDK_VERSION}): ${p}`,...d)}function Rt(p,...d){throw xt(p,...d)}function $t(p,...d){return xt(p,...d)}function yr(p,d,h){const g=Object.assign(Object.assign({},Gn()),{[d]:h});return new ie.LL("auth","Firebase",g).create(d,{appName:p.name})}function Ci(p,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Rt(p,"argument-error"),yr(p,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(p,...d){if("string"!=typeof p){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(h,...g)}return zt.create(p,...d)}function ve(p,d,...h){if(!p)throw xt(d,...h)}function Gt(p){const d="INTERNAL ASSERTION FAILED: "+p;throw qn(d),new Error(d)}function Sn(p,d){p||Gt(d)}function ei(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Kn(){return"http:"===ho()||"https:"===ho()}function ho(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class vr{constructor(d,h){this.shortDelay=d,this.longDelay=h,Sn(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function fo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kn()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function po(p,d){Sn(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Q{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new vr(3e4,6e4);function Y(p,d){return p.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:p.tenantId}):d}function me(p,d,h,g){return le.apply(this,arguments)}function le(){return(le=(0,S.Z)(function*(p,d,h,g,y={}){return Se(p,y,(0,S.Z)(function*(){let C={},L={};g&&("GET"===d?L=g:C={body:JSON.stringify(g)});const J=(0,ie.xO)(Object.assign({key:p.config.apiKey},L)).slice(1),ye=yield p._getAdditionalHeaders();return ye["Content-Type"]="application/json",p.languageCode&&(ye["X-Firebase-Locale"]=p.languageCode),Q.fetch()(Jt(p,p.config.apiHost,h,J),Object.assign({method:d,headers:ye,referrerPolicy:"no-referrer"},C))}))})).apply(this,arguments)}function Se(p,d,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,S.Z)(function*(p,d,h){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},ne),d);try{const y=new _n(p),C=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const L=yield C.json();if("needConfirmation"in L)throw Un(p,"account-exists-with-different-credential",L);if(C.ok&&!("errorMessage"in L))return L;{const J=C.ok?L.errorMessage:L.error.message,[ye,je]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw Un(p,"credential-already-in-use",L);if("EMAIL_EXISTS"===ye)throw Un(p,"email-already-in-use",L);if("USER_DISABLED"===ye)throw Un(p,"user-disabled",L);const lt=g[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw yr(p,lt,je);Rt(p,lt)}}catch(y){if(y instanceof ie.ZR)throw y;Rt(p,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function Ie(p,d,h,g){return et.apply(this,arguments)}function et(){return(et=(0,S.Z)(function*(p,d,h,g,y={}){const C=yield me(p,d,h,g,y);return"mfaPendingCredential"in C&&Rt(p,"multi-factor-auth-required",{_serverResponse:C}),C})).apply(this,arguments)}function Jt(p,d,h,g){const y=`${d}${h}?${g}`;return p.config.emulator?po(p.config,y):`${p.config.apiScheme}://${y}`}function Bn(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _n{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g($t(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(p,d,h){const g={appName:p.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const y=$t(p,d,g);return y.customData._tokenResponse=h,y}function hi(p){return void 0!==p&&void 0!==p.getResponse}function $(p){return void 0!==p&&void 0!==p.enterprise}class U{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Bn(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function fe(){return(fe=(0,S.Z)(function*(p){return(yield me(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ae(p,d){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(p,d){return me(p,"GET","/v2/recaptchaConfig",Y(p,d))})).apply(this,arguments)}function qt(){return(qt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Rn(){return(Rn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ji(){return(ji=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Yi(p){if(p)try{const d=new Date(Number(p));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Kt(){return(Kt=(0,S.Z)(function*(p,d=!1){const h=(0,ie.m9)(p),g=yield h.getIdToken(d),y=yn(g);ve(y&&y.exp&&y.auth_time&&y.iat,h.auth,"internal-error");const C="object"==typeof y.firebase?y.firebase:void 0,L=C?.sign_in_provider;return{claims:y,token:g,authTime:Yi(cn(y.auth_time)),issuedAtTime:Yi(cn(y.iat)),expirationTime:Yi(cn(y.exp)),signInProvider:L||null,signInSecondFactor:C?.sign_in_second_factor||null}})).apply(this,arguments)}function cn(p){return 1e3*Number(p)}function yn(p){const[d,h,g]=p.split(".");if(void 0===d||void 0===h||void 0===g)return qn("JWT malformed, contained fewer than 3 sections"),null;try{const y=(0,ie.tV)(h);return y?JSON.parse(y):(qn("Failed to decode base64 JWT payload"),null)}catch(y){return qn("Caught error parsing JWT payload as JSON",y?.toString()),null}}function jn(p,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,S.Z)(function*(p,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof ie.ZR&&function Jo({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class mo{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const y=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,y)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,S.Z)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,S.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class es{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hi(p){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,S.Z)(function*(p){var d;const h=p.auth,g=yield p.getIdToken(),y=yield jn(p,function ti(p,d){return ji.apply(this,arguments)}(h,{idToken:g}));ve(y?.users.length,h,"internal-error");const C=y.users[0];p._notifyReloadListener(C);const L=null!==(d=C.providerUserInfo)&&void 0!==d&&d.length?function ya(p){return p.map(d=>{var{providerId:h}=d,g=(0,pt._T)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(C.providerUserInfo):[],J=function Jl(p,d){return[...p.filter(g=>!d.some(y=>y.providerId===g.providerId)),...d]}(p.providerData,L),lt=!!p.isAnonymous&&!(p.email&&C.passwordHash||J?.length),tn={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:J,metadata:new es(C.createdAt,C.lastLoginAt),isAnonymous:lt};Object.assign(p,tn)}),Oi.apply(this,arguments)}function go(){return(go=(0,S.Z)(function*(p){const d=(0,ie.m9)(p);yield Hi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function bs(){return(bs=(0,S.Z)(function*(p,d){const h=yield Se(p,{},(0,S.Z)(function*(){const g=(0,ie.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:y,apiKey:C}=p.config,L=Jt(p,y,"/v1/token",`key=${C}`),J=yield p._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(L,{method:"POST",headers:J,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function k(){return(k=(0,S.Z)(function*(p,d){return me(p,"POST","/v2/accounts:revokeToken",Y(p,d))})).apply(this,arguments)}class E{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ve(d.idToken,"internal-error"),ve(typeof d.idToken<"u","internal-error"),ve(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function il(p){const d=yn(p);return ve(d,"internal-error"),ve(typeof d.exp<"u","internal-error"),ve(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var g=this;return(0,S.Z)(function*(){return ve(!g.accessToken||g.refreshToken,d,"user-token-expired"),h||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,S.Z)(function*(){const{accessToken:y,refreshToken:C,expiresIn:L}=yield function rl(p,d){return bs.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(y,C,Number(L))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:y,expirationTime:C}=h,L=new E;return g&&(ve("string"==typeof g,"internal-error",{appName:d}),L.refreshToken=g),y&&(ve("string"==typeof y,"internal-error",{appName:d}),L.accessToken=y),C&&(ve("number"==typeof C,"internal-error",{appName:d}),L.expirationTime=C),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new E,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function x(p,d){ve("string"==typeof p||typeof p>"u","internal-error",{appName:d})}class w{constructor(d){var{uid:h,auth:g,stsTokenManager:y}=d,C=(0,pt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=y,this.accessToken=y.accessToken,this.displayName=C.displayName||null,this.email=C.email||null,this.emailVerified=C.emailVerified||!1,this.phoneNumber=C.phoneNumber||null,this.photoURL=C.photoURL||null,this.isAnonymous=C.isAnonymous||!1,this.tenantId=C.tenantId||null,this.providerData=C.providerData?[...C.providerData]:[],this.metadata=new es(C.createdAt||void 0,C.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,S.Z)(function*(){const g=yield jn(h,h.stsTokenManager.getToken(h.auth,d));return ve(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function In(p){return Kt.apply(this,arguments)}(this,d)}reload(){return function br(p){return go.apply(this,arguments)}(this)}_assign(d){this!==d&&(ve(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new w(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,S.Z)(function*(){let y=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),y=!0),h&&(yield Hi(g)),yield g.auth._persistUserIfCurrent(g),y&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,S.Z)(function*(){const h=yield d.getIdToken();return yield jn(d,function An(p,d){return qt.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,y,C,L,J,ye,je,lt;const tn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Ur=null!==(y=h.email)&&void 0!==y?y:void 0,Qs=null!==(C=h.phoneNumber)&&void 0!==C?C:void 0,Yu=null!==(L=h.photoURL)&&void 0!==L?L:void 0,T0=null!==(J=h.tenantId)&&void 0!==J?J:void 0,bc=null!==(ye=h._redirectEventId)&&void 0!==ye?ye:void 0,Aa=null!==(je=h.createdAt)&&void 0!==je?je:void 0,x0=null!==(lt=h.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:cf,emailVerified:Fg,isAnonymous:wc,providerData:Lg,stsTokenManager:Ir}=h;ve(cf&&Ir,d,"internal-error");const Bx=E.fromJSON(this.name,Ir);ve("string"==typeof cf,d,"internal-error"),x(tn,d.name),x(Ur,d.name),ve("boolean"==typeof Fg,d,"internal-error"),ve("boolean"==typeof wc,d,"internal-error"),x(Qs,d.name),x(Yu,d.name),x(T0,d.name),x(bc,d.name),x(Aa,d.name),x(x0,d.name);const Mt=new w({uid:cf,auth:d,email:Ur,emailVerified:Fg,displayName:tn,isAnonymous:wc,photoURL:Yu,phoneNumber:Qs,tenantId:T0,stsTokenManager:Bx,createdAt:Aa,lastLoginAt:x0});return Lg&&Array.isArray(Lg)&&(Mt.providerData=Lg.map(Vg=>Object.assign({},Vg))),bc&&(Mt._redirectEventId=bc),Mt}static _fromIdTokenResponse(d,h,g=!1){return(0,S.Z)(function*(){const y=new E;y.updateFromServerResponse(h);const C=new w({uid:h.localId,auth:d,stsTokenManager:y,isAnonymous:g});return yield Hi(C),C})()}}const R=new Map;function oe(p){Sn(p instanceof Function,"Expected a class definition");let d=R.get(p);return d?(Sn(d instanceof p,"Instance stored in cache mismatched with class"),d):(d=new p,R.set(p,d),d)}const Ue=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,S.Z)(function*(){return!0})()}_set(h,g){var y=this;return(0,S.Z)(function*(){y.storage[h]=g})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=g.storage[h];return void 0===y?null:y})()}_remove(h){var g=this;return(0,S.Z)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return p.type="NONE",p})();function dt(p,d,h){return`firebase:${p}:${d}:${h}`}class sn{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:y,name:C}=this.auth;this.fullUserKey=dt(this.userKey,y.apiKey,C),this.fullPersistenceKey=dt("persistence",y.apiKey,C),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,S.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?w._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,S.Z)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,S.Z)(function*(){if(!h.length)return new sn(oe(Ue),d,g);const y=(yield Promise.all(h.map(function(){var je=(0,S.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return je.apply(this,arguments)}}()))).filter(je=>je);let C=y[0]||oe(Ue);const L=dt(g,d.config.apiKey,d.name);let J=null;for(const je of h)try{const lt=yield je._get(L);if(lt){const tn=w._fromJSON(d,lt);je!==C&&(J=tn),C=je;break}}catch{}const ye=y.filter(je=>je._shouldAllowMigration);return C._shouldAllowMigration&&ye.length?(C=ye[0],J&&(yield C._set(L,J.toJSON())),yield Promise.all(h.map(function(){var je=(0,S.Z)(function*(lt){if(lt!==C)try{yield lt._remove(L)}catch{}});return function(lt){return je.apply(this,arguments)}}())),new sn(C,d,g)):new sn(C,d,g)})()}}function Me(p){const d=p.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ol(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(kn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(V(d))return"Blackberry";if(we(d))return"Webos";if(Je(d))return"Safari";if((d.includes("chrome/")||Qi(d))&&!d.includes("edge/"))return"Chrome";if(G(d))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function kn(p=(0,ie.z$)()){return/firefox\//i.test(p)}function Je(p=(0,ie.z$)()){const d=p.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Qi(p=(0,ie.z$)()){return/crios\//i.test(p)}function ol(p=(0,ie.z$)()){return/iemobile/i.test(p)}function G(p=(0,ie.z$)()){return/android/i.test(p)}function V(p=(0,ie.z$)()){return/blackberry/i.test(p)}function we(p=(0,ie.z$)()){return/webos/i.test(p)}function Qe(p=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Ot(p=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function Si(p=(0,ie.z$)()){return Qe(p)||G(p)||we(p)||V(p)||/windows phone/i.test(p)||ol(p)}function Wt(p,d=[]){let h;switch(p){case"Browser":h=Me((0,ie.z$)());break;case"Worker":h=`${Me((0,ie.z$)())}-${p}`;break;default:h=p}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${j.SDK_VERSION}/${g}`}class Ru{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=C=>new Promise((L,J)=>{try{L(d(C))}catch(ye){J(ye)}});g.onAbort=h,this.queue.push(g);const y=this.queue.length-1;return()=>{this.queue[y]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,S.Z)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const y of h.queue)yield y(d),y.onAbort&&g.push(y.onAbort)}catch(y){g.reverse();for(const C of g)try{C()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:y?.message})}})()}}function Lm(){return(Lm=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v2/passwordPolicy",Y(p,d))})).apply(this,arguments)}class _o{constructor(d){var h,g,y,C;const L=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=L.minPasswordLength)&&void 0!==h?h:6,L.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=L.maxPasswordLength),void 0!==L.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=L.containsLowercaseCharacter),void 0!==L.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=L.containsUppercaseCharacter),void 0!==L.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=L.containsNumericCharacter),void 0!==L.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=L.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(y=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==y?y:"",this.forceUpgradeOnSignin=null!==(C=d.forceUpgradeOnSignin)&&void 0!==C&&C,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,y,C,L,J;const ye={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,ye),this.validatePasswordCharacterOptions(d,ye),ye.isValid&&(ye.isValid=null===(h=ye.meetsMinPasswordLength)||void 0===h||h),ye.isValid&&(ye.isValid=null===(g=ye.meetsMaxPasswordLength)||void 0===g||g),ye.isValid&&(ye.isValid=null===(y=ye.containsLowercaseLetter)||void 0===y||y),ye.isValid&&(ye.isValid=null===(C=ye.containsUppercaseLetter)||void 0===C||C),ye.isValid&&(ye.isValid=null===(L=ye.containsNumericCharacter)||void 0===L||L),ye.isValid&&(ye.isValid=null===(J=ye.containsNonAlphanumericCharacter)||void 0===J||J),ye}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,y=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),y&&(h.meetsMaxPasswordLength=d.length<=y)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let y=0;y<d.length;y++)g=d.charAt(y),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,y,C){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=C))}}class HP{constructor(d,h,g,y){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XT(this),this.idTokenSubscription=new XT(this),this.beforeStateQueue=new Ru(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=oe(h)),this._initializationPromise=this.queue((0,S.Z)(function*(){var y,C;if(!g._deleted&&(g.persistenceManager=yield sn.create(g,d),!g._deleted)){if(null!==(y=g._popupRedirectResolver)&&void 0!==y&&y._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(C=g.currentUser)||void 0===C?void 0:C.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,S.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUser(d){var h=this;return(0,S.Z)(function*(){var g;const y=yield h.assertedPersistence.getCurrentUser();let C=y,L=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,ye=C?._redirectEventId,je=yield h.tryRedirectSignIn(d);(!J||J===ye)&&je?.user&&(C=je.user,L=!0)}if(!C)return h.directlySetCurrentUser(null);if(!C._redirectEventId){if(L)try{yield h.beforeStateQueue.runMiddleware(C)}catch(J){C=y,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(J))}return C?h.reloadAndSetCurrentUserOrClear(C):h.directlySetCurrentUser(null)}return ve(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===C._redirectEventId?h.directlySetCurrentUser(C):h.reloadAndSetCurrentUserOrClear(C)})()}tryRedirectSignIn(d){var h=this;return(0,S.Z)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,S.Z)(function*(){try{yield Hi(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var d=this;return(0,S.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,S.Z)(function*(){const g=d?(0,ie.m9)(d):null;return g&&ve(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,S.Z)(function*(){if(!g._deleted)return d&&ve(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,S.Z)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,S.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var h=this;return this.queue((0,S.Z)(function*(){yield h.assertedPersistence.setPersistence(oe(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,S.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,S.Z)(function*(){const h=yield function jP(p){return Lm.apply(this,arguments)}(d),g=new _o(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ie.LL("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,S.Z)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(y.tenantId=h.tenantId),yield function P(p,d){return k.apply(this,arguments)}(h,y)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,S.Z)(function*(){const y=yield g.getOrInitRedirectPersistenceManager(h);return null===d?y.removeCurrentUser():y.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,S.Z)(function*(){if(!h.redirectPersistenceManager){const g=d&&oe(d)||h._popupRedirectResolver;ve(g,h,"argument-error"),h.redirectPersistenceManager=yield sn.create(h,[oe(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,S.Z)(function*(){var g,y;return h._isInitialized&&(yield h.queue((0,S.Z)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,S.Z)(function*(){if(d===h.currentUser)return h.queue((0,S.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,y){if(this._deleted)return()=>{};const C="function"==typeof h?h:h.next.bind(h);let L=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(J,this,"internal-error"),J.then(()=>{L||C(this.currentUser)}),"function"==typeof h){const ye=d.addObserver(h,g,y);return()=>{L=!0,ye()}}{const ye=d.addObserver(h);return()=>{L=!0,ye()}}}directlySetCurrentUser(d){var h=this;return(0,S.Z)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,S.Z)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const y=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();y&&(g["X-Firebase-Client"]=y);const C=yield d._getAppCheckToken();return C&&(g["X-Firebase-AppCheck"]=C),g})()}_getAppCheckToken(){var d=this;return(0,S.Z)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function Ei(p,...d){_t.logLevel<=Ye.in.WARN&&_t.warn(`Auth (${j.SDK_VERSION}): ${p}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function fi(p){return(0,ie.m9)(p)}class XT{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ie.ne)(h=>this.observer=h)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ib(p){return new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=d,g.onerror=y=>{const C=$t("internal-error");C.customData=y,h(C)},g.type="text/javascript",g.charset="UTF-8",function sl(){var p,d;return null!==(d=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==d?d:document}().appendChild(g)})}function JT(p){return`__${p}${Math.floor(1e6*Math.random())}`}class tx{constructor(d){this.type="recaptcha-enterprise",this.auth=fi(d)}verify(d="verify",h=!1){var g=this;return(0,S.Z)(function*(){function C(){return C=(0,S.Z)(function*(J){if(!h){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var ye=(0,S.Z)(function*(je,lt){Ae(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Ur=new U(tn);return null==J.tenantId?J._agentRecaptchaConfig=Ur:J._tenantRecaptchaConfigs[J.tenantId]=Ur,je(Ur.siteKey)}lt(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{lt(tn)})});return function(je,lt){return ye.apply(this,arguments)}}())}),C.apply(this,arguments)}function L(J,ye,je){const lt=window.grecaptcha;$(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(J,{action:d}).then(tn=>{ye(tn)}).catch(()=>{ye("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,ye)=>{(function y(J){return C.apply(this,arguments)})(g.auth).then(je=>{if(!h&&$(window.grecaptcha))L(je,J,ye);else{if(typeof window>"u")return void ye(new Error("RecaptchaVerifier is only supported in browser"));Ib("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{L(je,J,ye)}).catch(lt=>{ye(lt)})}}).catch(je=>{ye(je)})})})()}}function Tb(p,d,h){return xb.apply(this,arguments)}function xb(){return(xb=(0,S.Z)(function*(p,d,h,g=!1){const y=new tx(p);let C;try{C=yield y.verify(h)}catch{C=yield y.verify(h,!0)}const L=Object.assign({},d);return Object.assign(L,g?{captchaResp:C}:{captchaResponse:C}),Object.assign(L,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(L,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),L})).apply(this,arguments)}function wr(p,d,h,g){return mt.apply(this,arguments)}function mt(){return mt=(0,S.Z)(function*(p,d,h,g){var y;if(null!==(y=p._getRecaptchaConfig())&&void 0!==y&&y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const C=yield Tb(p,d,h,"getOobCode"===h);return g(p,C)}return g(p,d).catch(function(){var C=(0,S.Z)(function*(L){if("auth/missing-recaptcha-token"===L.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield Tb(p,d,h,"getOobCode"===h);return g(p,J)}return Promise.reject(L)});return function(L){return C.apply(this,arguments)}}())}),mt.apply(this,arguments)}function nx(p,d,h){const g=fi(p);ve(g._canInitEmulator,g,"emulator-config-failed"),ve(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const y=!!h?.disableWarnings,C=Xe(d),{host:L,port:J}=function bh(p){const d=Xe(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",y=/^(\[[^\]]+\])(:|$)/.exec(g);if(y){const C=y[1];return{host:C,port:Sb(g.substr(C.length+1))}}{const[C,L]=g.split(":");return{host:C,port:Sb(L)}}}(d);g.config.emulator={url:`${C}//${L}${null===J?"":`:${J}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:L,port:J,protocol:C.replace(":",""),options:Object.freeze({disableWarnings:y})}),y||function Ab(){function p(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Xe(p){const d=p.indexOf(":");return d<0?"":p.substr(0,d+1)}function Sb(p){if(!p)return null;const d=Number(p);return isNaN(d)?null:d}class ec{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Gt("not implemented")}_getIdTokenResponse(d){return Gt("not implemented")}_linkToIdToken(d,h){return Gt("not implemented")}_getReauthenticationResolver(d){return Gt("not implemented")}}function ku(p,d){return tc.apply(this,arguments)}function tc(){return(tc=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:resetPassword",Y(p,d))})).apply(this,arguments)}function wh(){return(wh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ix(p,d){return jt.apply(this,arguments)}function jt(){return(jt=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Eh(){return(Eh=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",Y(p,d))})).apply(this,arguments)}function Jr(p,d){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPassword",Y(p,d))})).apply(this,arguments)}function jm(p,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendOobCode",Y(p,d))})).apply(this,arguments)}function Rb(){return(Rb=(0,S.Z)(function*(p,d){return jm(p,d)})).apply(this,arguments)}function ae(p,d){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,S.Z)(function*(p,d){return jm(p,d)})).apply(this,arguments)}function Hm(p,d){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,S.Z)(function*(p,d){return jm(p,d)})).apply(this,arguments)}function $m(){return($m=(0,S.Z)(function*(p,d){return jm(p,d)})).apply(this,arguments)}function kb(){return(kb=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}function Mb(){return(Mb=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithEmailLink",Y(p,d))})).apply(this,arguments)}class Th extends ec{constructor(d,h,g,y=null){super("password",g),this._email=d,this._password=h,this._tenantId=y}static _fromEmailAndPassword(d,h){return new Th(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new Th(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,S.Z)(function*(){switch(h.signInMethod){case"password":return wr(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return function Wm(p,d){return kb.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,S.Z)(function*(){switch(g.signInMethod){case"password":return wr(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ix);case"emailLink":return function KP(p,d){return Mb.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function va(p,d){return al.apply(this,arguments)}function al(){return(al=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithIdp",Y(p,d))})).apply(this,arguments)}class yo extends ec{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new yo(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Rt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:y}=h,C=(0,pt._T)(h,["providerId","signInMethod"]);if(!g||!y)return null;const L=new yo(g,y);return L.idToken=C.idToken||void 0,L.accessToken=C.accessToken||void 0,L.secret=C.secret,L.nonce=C.nonce,L.pendingToken=C.pendingToken||null,L}_getIdTokenResponse(d){return va(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,va(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,va(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,ie.xO)(h)}return d}}function qm(){return(qm=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:sendVerificationCode",Y(p,d))})).apply(this,arguments)}function xh(){return(xh=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d))})).apply(this,arguments)}function Km(){return(Km=(0,S.Z)(function*(p,d){const h=yield Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,d));if(h.temporaryProof)throw Un(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ba={USER_NOT_FOUND:"user-not-found"};function F(){return(F=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithPhoneNumber",Y(p,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ba)})).apply(this,arguments)}class wa extends ec{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new wa({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new wa({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function ox(p,d){return xh.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function nc(p,d){return Km.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function sx(p,d){return F.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:y}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:y}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:C}=d;return g||h||y||C?new wa({verificationId:h,verificationCode:g,phoneNumber:y,temporaryProof:C}):null}}class ll{constructor(d){var h,g,y,C,L,J;const ye=(0,ie.zd)((0,ie.pd)(d)),je=null!==(h=ye.apiKey)&&void 0!==h?h:null,lt=null!==(g=ye.oobCode)&&void 0!==g?g:null,tn=function Te(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(y=ye.mode)&&void 0!==y?y:null);ve(je&&lt&&tn,"argument-error"),this.apiKey=je,this.operation=tn,this.code=lt,this.continueUrl=null!==(C=ye.continueUrl)&&void 0!==C?C:null,this.languageCode=null!==(L=ye.languageCode)&&void 0!==L?L:null,this.tenantId=null!==(J=ye.tenantId)&&void 0!==J?J:null}static parseLink(d){const h=function Dh(p){const d=(0,ie.zd)((0,ie.pd)(p)).link,h=d?(0,ie.zd)((0,ie.pd)(d)).deep_link_id:null,g=(0,ie.zd)((0,ie.pd)(p)).deep_link_id;return(g?(0,ie.zd)((0,ie.pd)(g)).link:null)||g||h||d||p}(d);try{return new ll(h)}catch{return null}}}let Zm=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,g){return Th._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const y=ll.parseLink(g);return ve(y,"argument-error"),Th._fromEmailAndCode(h,y.code,y.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Gs{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ic extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class vo extends ic{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ve("providerId"in h&&"signInMethod"in h,"argument-error"),yo._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ve(d.idToken||d.accessToken,"argument-error"),yo._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return vo.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return vo.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:y,pendingToken:C,nonce:L,providerId:J}=d;if(!g&&!y&&!h&&!C||!J)return null;try{return new vo(J)._credential({idToken:h,accessToken:g,nonce:L,pendingToken:C})}catch{return null}}}let Ah=(()=>{class p extends ic{constructor(){super("facebook.com")}static credential(h){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Oo=(()=>{class p extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:y}=h;if(!g&&!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),ws=(()=>{class p extends ic{constructor(){super("github.com")}static credential(h){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class qs extends ec{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return va(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,va(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,va(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:y,pendingToken:C}=h;return g&&y&&C&&g===y?new qs(g,C):null}static _create(d,h){return new qs(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rc extends Gs{constructor(d){ve(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return rc.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return rc.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=qs.fromJSON(d);return ve(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return qs._create(g,h)}catch{return null}}}let Nb=(()=>{class p extends ic{constructor(){super("twitter.com")}static credential(h,g){return yo._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:y}=h;if(!g||!y)return null;try{return p.credential(g,y)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Es(p,d){return cl.apply(this,arguments)}function cl(){return(cl=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signUp",Y(p,d))})).apply(this,arguments)}class bo{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,y=!1){return(0,S.Z)(function*(){const C=yield w._fromIdTokenResponse(d,g,y),L=Qm(g);return new bo({user:C,providerId:L,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,S.Z)(function*(){yield d._updateTokensIfNecessary(g,!0);const y=Qm(g);return new bo({user:d,providerId:y,_tokenResponse:g,operationType:h})})()}}function Qm(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Xm(p){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,S.Z)(function*(p){var d;const h=fi(p);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new bo({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield Es(h,{returnSecureToken:!0}),y=yield bo._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(y.user),y})).apply(this,arguments)}class Nu extends ie.ZR{constructor(d,h,g,y){var C;super(h.code,h.message),this.operationType=g,this.user=y,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:d.name,tenantId:null!==(C=d.tenantId)&&void 0!==C?C:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,y){return new Nu(d,h,g,y)}}function oc(p,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(C=>{throw"auth/multi-factor-auth-required"===C.code?Nu._fromErrorAndOperation(p,C,d,g):C})}function Jm(p){return new Set(p.map(({providerId:d})=>d).filter(d=>!!d))}function Ob(p,d){return eg.apply(this,arguments)}function eg(){return eg=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p);yield Mh(!0,h,d);const{providerUserInfo:g}=yield function Bt(p,d){return Rn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),y=Jm(g||[]);return h.providerData=h.providerData.filter(C=>y.has(C.providerId)),y.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),eg.apply(this,arguments)}function kh(p,d){return tg.apply(this,arguments)}function tg(){return(tg=(0,S.Z)(function*(p,d,h=!1){const g=yield jn(p,d._linkToIdToken(p.auth,yield p.getIdToken()),h);return bo._forOperation(p,"link",g)})).apply(this,arguments)}function Mh(p,d,h){return wo.apply(this,arguments)}function wo(){return(wo=(0,S.Z)(function*(p,d,h){yield Hi(d);const y=!1===p?"provider-already-linked":"no-such-provider";ve(Jm(d.providerData).has(h)===p,d.auth,y)})).apply(this,arguments)}function Pb(p,d){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,S.Z)(function*(p,d,h=!1){const{auth:g}=p,y="reauthenticate";try{const C=yield jn(p,oc(g,y,d,p),h);ve(C.idToken,g,"internal-error");const L=yn(C.idToken);ve(L,g,"internal-error");const{sub:J}=L;return ve(p.uid===J,g,"user-mismatch"),bo._forOperation(p,y,C)}catch(C){throw"auth/user-not-found"===C?.code&&Rt(g,"user-mismatch"),C}})).apply(this,arguments)}function Fb(p,d){return ng.apply(this,arguments)}function ng(){return(ng=(0,S.Z)(function*(p,d,h=!1){const g="signIn",y=yield oc(p,g,d),C=yield bo._fromIdTokenResponse(p,g,y);return h||(yield p._updateCurrentUser(C.user)),C})).apply(this,arguments)}function Oh(p,d){return ig.apply(this,arguments)}function ig(){return(ig=(0,S.Z)(function*(p,d){return Fb(fi(p),d)})).apply(this,arguments)}function rg(p,d){return og.apply(this,arguments)}function og(){return(og=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p);return yield Mh(!1,h,d.providerId),kh(h,d)})).apply(this,arguments)}function Lb(p,d){return sg.apply(this,arguments)}function sg(){return(sg=(0,S.Z)(function*(p,d){return Pb((0,ie.m9)(p),d)})).apply(this,arguments)}function ag(){return(ag=(0,S.Z)(function*(p,d){return Ie(p,"POST","/v1/accounts:signInWithCustomToken",Y(p,d))})).apply(this,arguments)}function ax(p,d){return lg.apply(this,arguments)}function lg(){return lg=(0,S.Z)(function*(p,d){const h=fi(p),g=yield function yt(p,d){return ag.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),y=yield bo._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(y.user),y}),lg.apply(this,arguments)}class qe{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?cg._fromServerResponse(d,h):"totpInfo"in h?Ph._fromServerResponse(d,h):Rt(d,"internal-error")}}class cg extends qe{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new cg(h)}}class Ph extends qe{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new Ph(h)}}function X(p,d,h){var g;ve((null===(g=h.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),ve(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ve(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ve(h.android.packageName.length>0,p,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function zi(p){return en.apply(this,arguments)}function en(){return(en=(0,S.Z)(function*(p){const d=fi(p);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function ir(p,d,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,S.Z)(function*(p,d,h){const g=fi(p),y={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&X(g,y,h),yield wr(g,y,"getOobCode",ae)})).apply(this,arguments)}function sc(p,d,h){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,S.Z)(function*(p,d,h){yield ku((0,ie.m9)(p),{oobCode:d,newPassword:h}).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&zi(p),y});return function(y){return g.apply(this,arguments)}}())}),Lr.apply(this,arguments)}function Vb(p,d){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,S.Z)(function*(p,d){yield function Um(p,d){return Eh.apply(this,arguments)}((0,ie.m9)(p),{oobCode:d})}),Fh.apply(this,arguments)}function Ou(p,d){return ug.apply(this,arguments)}function ug(){return(ug=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p),g=yield ku(h,{oobCode:d}),y=g.requestType;switch(ve(y,h,"internal-error"),y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(g.mfaInfo,h,"internal-error");default:ve(g.email,h,"internal-error")}let C=null;return g.mfaInfo&&(C=qe._fromServerResponse(fi(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:C},operation:y}})).apply(this,arguments)}function lx(p,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,S.Z)(function*(p,d){const{data:h}=yield Ou((0,ie.m9)(p),d);return h.email})).apply(this,arguments)}function Oe(p,d,h){return It.apply(this,arguments)}function It(){return(It=(0,S.Z)(function*(p,d,h){const g=fi(p),L=yield wr(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Es).catch(ye=>{throw"auth/password-does-not-meet-requirements"===ye.code&&zi(p),ye}),J=yield bo._fromIdTokenResponse(g,"signIn",L);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}function ii(p,d,h){return Oh((0,ie.m9)(p),Zm.credential(d,h)).catch(function(){var g=(0,S.Z)(function*(y){throw"auth/password-does-not-meet-requirements"===y.code&&zi(p),y});return function(y){return g.apply(this,arguments)}}())}function ts(p,d,h){return ul.apply(this,arguments)}function ul(){return(ul=(0,S.Z)(function*(p,d,h){const g=fi(p),y={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function C(L,J){ve(J.handleCodeInApp,g,"argument-error"),J&&X(g,L,J)})(y,h),yield wr(g,y,"getOobCode",Hm)})).apply(this,arguments)}function Er(p,d){const h=ll.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function ac(p,d,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),y=Zm.credentialWithLink(d,h||ei());return ve(y._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Oh(g,y)})).apply(this,arguments)}function Ca(){return(Ca=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:createAuthUri",Y(p,d))})).apply(this,arguments)}function Tt(p,d){return dl.apply(this,arguments)}function dl(){return dl=(0,S.Z)(function*(p,d){const g={identifier:d,continueUri:Kn()?ei():"http://localhost"},{signinMethods:y}=yield function Ea(p,d){return Ca.apply(this,arguments)}((0,ie.m9)(p),g);return y||[]}),dl.apply(this,arguments)}function Bb(p,d){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,S.Z)(function*(p,d){const h=(0,ie.m9)(p),y={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};d&&X(h.auth,y,d);const{email:C}=yield function qP(p,d){return Rb.apply(this,arguments)}(h.auth,y);C!==p.email&&(yield p.reload())}),Ia.apply(this,arguments)}function Ai(p,d,h){return hl.apply(this,arguments)}function hl(){return hl=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),C={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:d};h&&X(g.auth,C,h);const{email:L}=yield function zm(p,d){return $m.apply(this,arguments)}(g.auth,C);L!==p.email&&(yield p.reload())}),hl.apply(this,arguments)}function Po(){return(Po=(0,S.Z)(function*(p,d){return me(p,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Pu(p,d){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,S.Z)(function*(p,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,ie.m9)(p),C={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},L=yield jn(g,function lc(p,d){return Po.apply(this,arguments)}(g.auth,C));g.displayName=L.displayName||null,g.photoURL=L.photoUrl||null;const J=g.providerData.find(({providerId:ye})=>"password"===ye);J&&(J.displayName=g.displayName,J.photoURL=g.photoURL),yield g._updateTokensIfNecessary(L)}),Lh.apply(this,arguments)}function Ta(p,d){return cc((0,ie.m9)(p),d,null)}function Ks(p,d){return cc((0,ie.m9)(p),null,d)}function cc(p,d,h){return fl.apply(this,arguments)}function fl(){return fl=(0,S.Z)(function*(p,d,h){const{auth:g}=p,C={idToken:yield p.getIdToken(),returnSecureToken:!0};d&&(C.email=d),h&&(C.password=h);const L=yield jn(p,function Bm(p,d){return wh.apply(this,arguments)}(g,C));yield p._updateTokensIfNecessary(L,!0)}),fl.apply(this,arguments)}class Fu{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class Vh extends Fu{constructor(d,h,g,y){super(d,h,g),this.username=y}}class Ub extends Fu{constructor(d,h){super(d,"facebook.com",h)}}class Cs extends Vh{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Bh extends Fu{constructor(d,h){super(d,"google.com",h)}}class uc extends Vh{constructor(d,h,g){super(d,"twitter.com",h,g)}}function Lu(p){const{user:d,_tokenResponse:h}=p;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Zt(p){var d,h;if(!p)return null;const{providerId:g}=p,y=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},C=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const L=null===(h=null===(d=yn(p.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(L)return new Fu(C,"anonymous"!==L&&"custom"!==L?L:null)}if(!g)return null;switch(g){case"facebook.com":return new Ub(C,y);case"github.com":return new Cs(C,y);case"google.com":return new Bh(C,y);case"twitter.com":return new uc(C,y,p.screenName||null);case"custom":case"anonymous":return new Fu(C,null);default:return new Fu(C,g,y)}}(h)}class ml{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new ml("enroll",d,h)}static _fromMfaPendingCredential(d){return new ml("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ml._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return ml._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Hb{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=fi(d),y=h.customData._serverResponse,C=(y.mfaInfo||[]).map(J=>qe._fromServerResponse(g,J));ve(y.mfaPendingCredential,g,"internal-error");const L=ml._fromMfaPendingCredential(y.mfaPendingCredential);return new Hb(L,C,function(){var J=(0,S.Z)(function*(ye){const je=yield ye._process(g,L);delete y.mfaInfo,delete y.mfaPendingCredential;const lt=Object.assign(Object.assign({},y),{idToken:je.idToken,refreshToken:je.refreshToken});switch(h.operationType){case"signIn":const tn=yield bo._fromIdTokenResponse(g,h.operationType,lt);return yield g._updateCurrentUser(tn.user),tn;case"reauthenticate":return ve(h.user,g,"internal-error"),bo._forOperation(h.user,h.operationType,lt);default:Rt(g,"internal-error")}});return function(ye){return J.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,S.Z)(function*(){return h.signInResolver(d)})()}}function QP(p,d){var h;const g=(0,ie.m9)(p),y=d;return ve(d.customData.operationType,g,"argument-error"),ve(null===(h=y.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),Hb._fromError(g,y)}class zb{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>qe._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new zb(d)}getSession(){var d=this;return(0,S.Z)(function*(){return ml._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,S.Z)(function*(){const y=d,C=yield g.getSession(),L=yield jn(g.user,y._process(g.user.auth,C,h));return yield g.user._updateTokensIfNecessary(L),g.user.reload()})()}unenroll(d){var h=this;return(0,S.Z)(function*(){const g="string"==typeof d?d:d.uid,y=yield h.user.getIdToken();try{const C=yield jn(h.user,function tF(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(p,d))}(h.user.auth,{idToken:y,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:L})=>L!==g),yield h.user._updateTokensIfNecessary(C),yield h.user.reload()}catch(C){throw C}})()}}const $b=new WeakMap;function nF(p){const d=(0,ie.m9)(p);return $b.has(d)||$b.set(d,zb._fromUser(d)),$b.get(d)}const pg="__sak";class cx{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ux=(()=>{class p extends cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wb(){const p=(0,ie.z$)();return Je(p)||Qe(p)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const y=this.storage.getItem(g),C=this.localCache[g];y!==C&&h(g,C,y)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((J,ye,je)=>{this.notifyListeners(J,je)});const y=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(y);if(h.newValue!==J)null!==h.newValue?this.storage.setItem(y,h.newValue):this.storage.removeItem(y);else if(this.localCache[y]===h.newValue&&!g)return}const C=()=>{const J=this.storage.getItem(y);!g&&this.localCache[y]===J||this.notifyListeners(y,J)},L=this.storage.getItem(y);!function q(){return(0,ie.w1)()&&10===document.documentMode}()||L===h.newValue||h.newValue===h.oldValue?C():setTimeout(C,10)}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const C of Array.from(y))C(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,y)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var y=()=>super._set,C=this;return(0,S.Z)(function*(){yield y().call(C,h,g),C.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,y=this;return(0,S.Z)(function*(){const C=yield g().call(y,h);return y.localCache[h]=JSON.stringify(C),C})()}_remove(h){var g=()=>super._remove,y=this;return(0,S.Z)(function*(){yield g().call(y,h),delete y.localCache[h]})()}}return p.type="LOCAL",p})(),Ts=(()=>{class p extends cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return p.type="SESSION",p})();let oF=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(C=>C.isListeningto(h));if(g)return g;const y=new p(h);return this.receivers.push(y),y}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,S.Z)(function*(){const y=h,{eventId:C,eventType:L,data:J}=y.data,ye=g.handlersMap[L];if(!ye?.size)return;y.ports[0].postMessage({status:"ack",eventId:C,eventType:L});const je=Array.from(ye).map(function(){var tn=(0,S.Z)(function*(Ur){return Ur(y.origin,J)});return function(Ur){return tn.apply(this,arguments)}}()),lt=yield function rF(p){return Promise.all(p.map(function(){var d=(0,S.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(je);y.ports[0].postMessage({status:"done",eventId:C,eventType:L,response:lt})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Ri(p="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return p+h}class Uh{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var y=this;return(0,S.Z)(function*(){const C=typeof MessageChannel<"u"?new MessageChannel:null;if(!C)throw new Error("connection_unavailable");let L,J;return new Promise((ye,je)=>{const lt=Ri("",20);C.port1.start();const tn=setTimeout(()=>{je(new Error("unsupported_event"))},g);J={messageChannel:C,onMessage(Ur){const Qs=Ur;if(Qs.data.eventId===lt)switch(Qs.data.status){case"ack":clearTimeout(tn),L=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(L),ye(Qs.data.response);break;default:clearTimeout(tn),clearTimeout(L),je(new Error("invalid_response"))}}},y.handlers.add(J),C.port1.addEventListener("message",J.onMessage),y.target.postMessage({eventType:d,eventId:lt,data:h},[C.port2])}).finally(()=>{J&&y.removeMessageHandler(J)})})()}}function vn(){return window}function jh(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Hh(){return(Hh=(0,S.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zh="firebaseLocalStorageDb",Vu="firebaseLocalStorage",_g="fbase_key";class hc{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function gl(p,d){return p.transaction([Vu],d?"readwrite":"readonly").objectStore(Vu)}function xa(){const p=indexedDB.open(zh,1);return new Promise((d,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Vu,{keyPath:_g})}catch(y){h(y)}}),p.addEventListener("success",(0,S.Z)(function*(){const g=p.result;g.objectStoreNames.contains(Vu)?d(g):(g.close(),yield function Bu(){const p=indexedDB.deleteDatabase(zh);return new hc(p).toPromise()}(),d(yield xa()))}))})}function yg(p,d,h){return Yb.apply(this,arguments)}function Yb(){return(Yb=(0,S.Z)(function*(p,d,h){const g=gl(p,!0).put({[_g]:d,value:h});return new hc(g).toPromise()})).apply(this,arguments)}function Qb(){return(Qb=(0,S.Z)(function*(p,d){const h=gl(p,!1).get(d),g=yield new hc(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Xb(p,d){const h=gl(p,!0).delete(d);return new hc(h).toPromise()}const $h=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,S.Z)(function*(){return h.db||(h.db=yield xa()),h.db})()}_withRetries(h){var g=this;return(0,S.Z)(function*(){let y=0;for(;;)try{const C=yield g._openDb();return yield h(C)}catch(C){if(y++>3)throw C;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,S.Z)(function*(){return jh()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,S.Z)(function*(){h.receiver=oF._getInstance(function Zb(){return jh()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,S.Z)(function*(y,C){return{keyProcessed:(yield h._poll()).includes(C.key)}});return function(y,C){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,S.Z)(function*(y,C){return["keyChanged"]});return function(y,C){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,S.Z)(function*(){var g,y;if(h.activeServiceWorker=yield function Kb(){return Hh.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Uh(h.activeServiceWorker);const C=yield h.sender._send("ping",{},800);C&&null!==(g=C[0])&&void 0!==g&&g.fulfilled&&null!==(y=C[0])&&void 0!==y&&y.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,S.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function mg(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,S.Z)(function*(){try{if(!indexedDB)return!1;const h=yield xa();return yield yg(h,pg,"1"),yield Xb(h,pg),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,S.Z)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var y=this;return(0,S.Z)(function*(){return y._withPendingWrite((0,S.Z)(function*(){return yield y._withRetries(C=>yg(C,h,g)),y.localCache[h]=g,y.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,S.Z)(function*(){const y=yield g._withRetries(C=>function sF(p,d){return Qb.apply(this,arguments)}(C,h));return g.localCache[h]=y,y})()}_remove(h){var g=this;return(0,S.Z)(function*(){return g._withPendingWrite((0,S.Z)(function*(){return yield g._withRetries(y=>Xb(y,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,S.Z)(function*(){const g=yield h._withRetries(L=>{const J=gl(L,!1).getAll();return new hc(J).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const y=[],C=new Set;for(const{fbase_key:L,value:J}of g)C.add(L),JSON.stringify(h.localCache[L])!==JSON.stringify(J)&&(h.notifyListeners(L,J),y.push(L));for(const L of Object.keys(h.localCache))h.localCache[L]&&!C.has(L)&&(h.notifyListeners(L,null),y.push(L));return y})()}notifyListeners(h,g){this.localCache[h]=g;const y=this.listeners[h];if(y)for(const C of Array.from(y))C(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,S.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Uu=1e12;class Jb{constructor(d){this.auth=d,this.counter=Uu,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new mx(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||Uu;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||Uu))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,S.Z)(function*(){var g;return null===(g=h._widgets.get(d||Uu))||void 0===g||g.execute(),""})()}}class mx{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const y="string"==typeof d?document.getElementById(d):d;ve(y,"argument-error",{appName:h}),this.container=y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gx(p){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bg=JT("rcb"),e0=new vr(3e4,6e4);class t0{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=vn().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return ve(function yx(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&hi(vn().grecaptcha)?Promise.resolve(vn().grecaptcha):new Promise((g,y)=>{const C=vn().setTimeout(()=>{y($t(d,"network-request-failed"))},e0.get());vn()[bg]=()=>{vn().clearTimeout(C),delete vn()[bg];const J=vn().grecaptcha;if(!J||!hi(J))return void y($t(d,"internal-error"));const ye=J.render;J.render=(je,lt)=>{const tn=ye(je,lt);return this.counter++,tn},this.hostLanguage=h,g(J)},Ib(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:bg,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(C),y($t(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=vn().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class uF{load(d){return(0,S.Z)(function*(){return new Jb(d)})()}clearedOneInstance(){}}const n0="recaptcha",Yn={theme:"light",type:"image"};class r0{constructor(d,h,g=Object.assign({},Yn)){this.parameters=g,this.type=n0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(d),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const y="string"==typeof h?document.getElementById(h):h;ve(y,this.auth,"argument-error"),this.container=y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uF:new t0,this.validateStartingState()}verify(){var d=this;return(0,S.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(C=>{const L=J=>{J&&(d.tokenChangeListeners.delete(L),C(J))};d.tokenChangeListeners.add(L),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=vn()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,S.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,S.Z)(function*(){ve(Kn()&&!jh(),d.auth,"internal-error"),yield function vx(){let p=null;return new Promise(d=>{"complete"!==document.readyState?(p=()=>d(),window.addEventListener("load",p)):d()}).catch(d=>{throw p&&window.removeEventListener("load",p),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function ee(p){return fe.apply(this,arguments)}(d.auth);ve(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wg{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=wa._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function o0(p,d,h){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,S.Z)(function*(p,d,h){const g=fi(p),y=yield Hu(g,d,(0,ie.m9)(h));return new wg(y,C=>Oh(g,C))})).apply(this,arguments)}function bx(p,d,h){return ju.apply(this,arguments)}function ju(){return(ju=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);yield Mh(!1,g,"phone");const y=yield Hu(g.auth,d,(0,ie.m9)(h));return new wg(y,C=>rg(g,C))})).apply(this,arguments)}function wx(p,d,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p),y=yield Hu(g.auth,d,(0,ie.m9)(h));return new wg(y,C=>Lb(g,C))})).apply(this,arguments)}function Hu(p,d,h){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,S.Z)(function*(p,d,h){var g;const y=yield h.verify();try{let C;if(ve("string"==typeof y,p,"argument-error"),ve(h.type===n0,p,"argument-error"),C="string"==typeof d?{phoneNumber:d}:d,"session"in C){const L=C.session;if("phoneNumber"in C)return ve("enroll"===L.type,p,"internal-error"),(yield function XP(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:start",Y(p,d))}(p,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:C.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{ve("signin"===L.type,p,"internal-error");const J=(null===(g=C.multiFactorHint)||void 0===g?void 0:g.uid)||C.multiFactorUid;return ve(J,p,"missing-multi-factor-info"),(yield function fx(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:start",Y(p,d))}(p,{mfaPendingCredential:L.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield function rx(p,d){return qm.apply(this,arguments)}(p,{phoneNumber:C.phoneNumber,recaptchaToken:y});return L}}finally{h._reset()}}),Gh.apply(this,arguments)}function Hn(p,d){return zu.apply(this,arguments)}function zu(){return(zu=(0,S.Z)(function*(p,d){yield kh((0,ie.m9)(p),d)})).apply(this,arguments)}let qh=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=fi(h)}verifyPhoneNumber(h,g){return Hu(this.auth,h,(0,ie.m9)(g))}static credential(h,g){return wa._fromVerification(h,g)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:y}=h;return g&&y?wa._fromTokenResponse(g,y):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Pi(p,d){return d?oe(d):(ve(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Eg extends ec{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return va(d,this._buildIdpRequest())}_linkToIdToken(d,h){return va(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return va(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function s0(p){return Fb(p.auth,new Eg(p),p.bypassAuthState)}function fc(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),Pb(h,new Eg(p),p.bypassAuthState)}function Co(p){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,S.Z)(function*(p){const{auth:d,user:h}=p;return ve(h,d,"internal-error"),kh(h,new Eg(p),p.bypassAuthState)})).apply(this,arguments)}class a0{constructor(d,h,g,y,C=!1){this.auth=d,this.resolver=g,this.user=y,this.bypassAuthState=C,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,S.Z)(function*(g,y){d.pendingPromise={resolve:g,reject:y};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(C){d.reject(C)}});return function(g,y){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,S.Z)(function*(){const{urlResponse:g,sessionId:y,postBody:C,tenantId:L,error:J,type:ye}=d;if(J)return void h.reject(J);const je={auth:h.auth,requestUri:g,sessionId:y,tenantId:L||void 0,postBody:C||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ye)(je))}catch(lt){h.reject(lt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return s0;case"linkViaPopup":case"linkViaRedirect":return Co;case"reauthViaPopup":case"reauthViaRedirect":return fc;default:Rt(this.auth,"internal-error")}}resolve(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ex=new vr(2e3,1e4);function Da(p,d,h){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Gs);const y=Pi(g,h);return new Ig(g,"signInViaPopup",d,y).executeNotNull()})).apply(this,arguments)}function Cx(p,d,h){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ci(g.auth,d,Gs);const y=Pi(g.auth,h);return new Ig(g.auth,"reauthViaPopup",d,y,g).executeNotNull()})).apply(this,arguments)}function l0(p,d,h){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ci(g.auth,d,Gs);const y=Pi(g.auth,h);return new Ig(g.auth,"linkViaPopup",d,y,g).executeNotNull()})).apply(this,arguments)}let Ig=(()=>{class p extends a0{constructor(h,g,y,C,L){super(h,g,C,L),this.provider=y,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,S.Z)(function*(){const g=yield h.execute();return ve(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,S.Z)(function*(){Sn(1===h.filter.length,"Popup operations only handle one event");const g=Ri();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(y=>{h.reject(y)}),h.resolver._isIframeWebStorageSupported(h.auth,y=>{y||h.reject($t(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,y;this.pollId=null!==(y=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==y&&y.closed?window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Ex.get())};h()}}return p.currentPopupAction=null,p})();const vt="pendingRedirect",pc=new Map;class dF extends a0{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,S.Z)(function*(){let g=pc.get(h.auth._key());if(!g){try{const C=(yield function Ix(p,d){return Tg.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(C)}catch(y){g=()=>Promise.reject(y)}pc.set(h.auth._key(),g)}return h.bypassAuthState||pc.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,S.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const y=yield g.auth._redirectUserForId(d.eventId);if(y)return g.user=y,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,S.Z)(function*(){})()}cleanUp(){}}function Tg(){return(Tg=(0,S.Z)(function*(p,d){const h=d0(d),g=u0(p);if(!(yield g._isAvailable()))return!1;const y="true"===(yield g._get(h));return yield g._remove(h),y})).apply(this,arguments)}function xg(p,d){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,S.Z)(function*(p,d){return u0(p)._set(d0(d),"true")})).apply(this,arguments)}function mc(){pc.clear()}function c0(p,d){pc.set(p._key(),d)}function u0(p){return oe(p._redirectPersistence)}function d0(p){return dt(vt,p.config.apiKey,p.name)}function Tx(p,d,h){return function xx(p,d,h){return ge.apply(this,arguments)}(p,d,h)}function ge(){return(ge=(0,S.Z)(function*(p,d,h){const g=fi(p);Ci(p,d,Gs),yield g._initializationPromise;const y=Pi(g,h);return yield xg(y,g),y._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function an(p,d,h){return function st(p,d,h){return tt.apply(this,arguments)}(p,d,h)}function tt(){return(tt=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ci(g.auth,d,Gs),yield g.auth._initializationPromise;const y=Pi(g.auth,h);yield xg(y,g.auth);const C=yield Dx(g);return y._openRedirect(g.auth,d,"reauthViaRedirect",C)})).apply(this,arguments)}function sr(p,d,h){return function h0(p,d,h){return _l.apply(this,arguments)}(p,d,h)}function _l(){return(_l=(0,S.Z)(function*(p,d,h){const g=(0,ie.m9)(p);Ci(g.auth,d,Gs),yield g.auth._initializationPromise;const y=Pi(g.auth,h);yield Mh(!1,g,d.providerId),yield xg(y,g.auth);const C=yield Dx(g);return y._openRedirect(g.auth,d,"linkViaRedirect",C)})).apply(this,arguments)}function xs(p,d){return $u.apply(this,arguments)}function $u(){return($u=(0,S.Z)(function*(p,d){return yield fi(p)._initializationPromise,Wu(p,d,!1)})).apply(this,arguments)}function Wu(p,d){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,S.Z)(function*(p,d,h=!1){const g=fi(p),y=Pi(g,d),L=yield new dF(g,y,h).execute();return L&&!h&&(delete L.user._redirectEventId,yield g._persistUserIfCurrent(L.user),yield g._setRedirectUser(null,d)),L})).apply(this,arguments)}function Dx(p){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,S.Z)(function*(p){const d=Ri(`${p.uid}:::`);return p._redirectEventId=d,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),d})).apply(this,arguments)}class Ds{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Zs(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yl(p);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!yl(d)){const y=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError($t(this.auth,y))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(d))}saveEventToCache(d){this.cachedEventUids.add(Sg(d)),this.lastProcessedEventTime=Date.now()}}function Sg(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(d=>d).join("-")}function yl({type:p,error:d}){return"unknown"===p&&"auth/no-auth-event"===d?.code}function f0(p){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,S.Z)(function*(p,d={}){return me(p,"GET","/v1/projects",d)})).apply(this,arguments)}const Sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ax=/^https?/;function Gu(){return(Gu=(0,S.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:d}=yield f0(p);for(const h of d)try{if(p0(h))return}catch{}Rt(p,"unauthorized-domain")})).apply(this,arguments)}function p0(p){const d=ei(),{protocol:h,hostname:g}=new URL(d);if(p.startsWith("chrome-extension://")){const L=new URL(p);return""===L.hostname&&""===g?"chrome-extension:"===h&&p.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&L.hostname===g}if(!Ax.test(h))return!1;if(Sx.test(p))return g===p;const y=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+y+"|"+y+")$","i").test(g)}const Rg=new vr(3e4,6e4);function m0(){const p=vn().___jsl;if(p?.H)for(const d of Object.keys(p.H))if(p.H[d].r=p.H[d].r||[],p.H[d].L=p.H[d].L||[],p.H[d].r=[...p.H[d].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let gc=null;const y0=new vr(5e3,15e3),v0="__/auth/iframe",b0="emulator/auth/iframe",kg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kx(p){const d=p.config;ve(d.authDomain,p,"auth-domain-config-required");const h=d.emulator?po(d,b0):`https://${p.config.authDomain}/${v0}`,g={apiKey:d.apiKey,appName:p.name,v:j.SDK_VERSION},y=Rx.get(p.config.apiHost);y&&(g.eid=y);const C=p._getFrameworks();return C.length&&(g.fw=C.join(",")),`${h}?${(0,ie.xO)(g).slice(1)}`}function Ys(){return Ys=(0,S.Z)(function*(p){const d=yield function _0(p){return gc=gc||function g0(p){return new Promise((d,h)=>{var g,y,C;function L(){m0(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{m0(),h($t(p,"network-request-failed"))},timeout:Rg.get()})}if(null!==(y=null===(g=vn().gapi)||void 0===g?void 0:g.iframes)&&void 0!==y&&y.Iframe)d(gapi.iframes.getContext());else{if(null===(C=vn().gapi)||void 0===C||!C.load){const J=JT("iframefcb");return vn()[J]=()=>{gapi.load?L():h($t(p,"network-request-failed"))},Ib(`https://apis.google.com/js/api.js?onload=${J}`).catch(ye=>h(ye))}L()}}).catch(d=>{throw gc=null,d})}(p),gc}(p),h=vn().gapi;return ve(h,p,"internal-error"),d.open({where:document.body,url:kx(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kg,dontclear:!0},g=>new Promise(function(){var y=(0,S.Z)(function*(C,L){yield g.restyle({setHideOnLeave:!1});const J=$t(p,"network-request-failed"),ye=vn().setTimeout(()=>{L(J)},y0.get());function je(){vn().clearTimeout(ye),C(g)}g.ping(je).then(je,()=>{L(J)})});return function(C,L){return y.apply(this,arguments)}}()))}),Ys.apply(this,arguments)}const mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ng{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sa="__/auth/handler",Ox="emulator/auth/handler",nf=encodeURIComponent("fac");function _c(p,d,h,g,y,C){return yc.apply(this,arguments)}function yc(){return(yc=(0,S.Z)(function*(p,d,h,g,y,C){ve(p.config.authDomain,p,"auth-domain-config-required"),ve(p.config.apiKey,p,"invalid-api-key");const L={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:g,v:j.SDK_VERSION,eventId:y};if(d instanceof Gs){d.setDefaultLanguage(p.languageCode),L.providerId=d.providerId||"",(0,ie.xb)(d.getCustomParameters())||(L.customParameters=JSON.stringify(d.getCustomParameters()));for(const[lt,tn]of Object.entries(C||{}))L[lt]=tn}if(d instanceof ic){const lt=d.getScopes().filter(tn=>""!==tn);lt.length>0&&(L.scopes=lt.join(","))}p.tenantId&&(L.tid=p.tenantId);const J=L;for(const lt of Object.keys(J))void 0===J[lt]&&delete J[lt];const ye=yield p._getAppCheckToken(),je=ye?`#${nf}=${encodeURIComponent(ye)}`:"";return`${function Og({config:p}){return p.emulator?po(p,Ox):`https://${p.authDomain}/${Sa}`}(p)}?${(0,ie.xO)(J).slice(1)}${je}`})).apply(this,arguments)}const rf="webStorageSupport",C0=class E0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=Wu,this._overrideRedirectResult=c0}_openPopup(d,h,g,y){var C=this;return(0,S.Z)(function*(){var L;Sn(null===(L=C.eventManagers[d._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const J=yield _c(d,h,g,ei(),y);return function w0(p,d,h,g=500,y=600){const C=Math.max((window.screen.availHeight-y)/2,0).toString(),L=Math.max((window.screen.availWidth-g)/2,0).toString();let J="";const ye=Object.assign(Object.assign({},mi),{width:g.toString(),height:y.toString(),top:C,left:L}),je=(0,ie.z$)().toLowerCase();h&&(J=Qi(je)?"_blank":h),kn(je)&&(d=d||"http://localhost",ye.scrollbars="yes");const lt=Object.entries(ye).reduce((Ur,[Qs,Yu])=>`${Ur}${Qs}=${Yu},`,"");if(function Ut(p=(0,ie.z$)()){var d;return Qe(p)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(je)&&"_self"!==J)return function tf(p,d){const h=document.createElement("a");h.href=p,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",J),new Ng(null);const tn=window.open(d||"",J,lt);ve(tn,p,"popup-blocked");try{tn.focus()}catch{}return new Ng(tn)}(d,J,Ri())})()}_openRedirect(d,h,g,y){var C=this;return(0,S.Z)(function*(){return yield C._originValidation(d),function qb(p){vn().location.href=p}(yield _c(d,h,g,ei(),y)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:y,promise:C}=this.eventManagers[h];return y?Promise.resolve(y):(Sn(C,"If manager is not set, promise should be"),C)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,S.Z)(function*(){const g=yield function Br(p){return Ys.apply(this,arguments)}(d),y=new Ds(d);return g.register("authEvent",C=>(ve(C?.authEvent,d,"invalid-auth-event"),{status:y.onEvent(C.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:y},h.iframes[d._key()]=g,y})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(rf,{type:rf},y=>{var C;const L=null===(C=y?.[0])||void 0===C?void 0:C[rf];void 0!==L&&h(!!L),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ag(p){return Gu.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Si()||Je()||Qe()}};class vc{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return Gt("unexpected MultiFactorSessionType")}}}class vl extends vc{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new vl(d)}_finalizeEnroll(d,h,g){return function JP(p,d){return me(p,"POST","/v2/accounts/mfaEnrollment:finalize",Y(p,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function vg(p,d){return me(p,"POST","/v2/accounts/mfaSignIn:finalize",Y(p,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Px=(()=>{class p{constructor(){}static assertion(h){return vl._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var I0="@firebase/auth";class hF{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,S.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zu=(0,ie.Pz)("authIdTokenMaxAge")||300;let af=null;const lf=p=>function(){var d=(0,S.Z)(function*(h){const g=h&&(yield h.getIdTokenResult()),y=g&&((new Date).getTime()-Date.parse(g.issuedAtTime))/1e3;if(y&&y>Zu)return;const C=g?.token;af!==C&&(af=C,yield fetch(p,{method:C?"POST":"DELETE",headers:C?{Authorization:`Bearer ${C}`}:{}}))});return function(h){return d.apply(this,arguments)}}();function fF(p=(0,j.getApp)()){const d=(0,j._getProvider)(p,"auth");if(d.isInitialized())return d.getImmediate();const h=function GP(p,d){const h=(0,j._getProvider)(p,"auth");if(h.isInitialized()){const y=h.getImmediate(),C=h.getOptions();if((0,ie.vZ)(C,d??{}))return y;Rt(y,"already-initialized")}return h.initialize({options:d})}(p,{popupRedirectResolver:C0,persistence:[$h,ux,Ts]}),g=(0,ie.Pz)("authTokenSyncURL");if(g){const C=lf(g);(function pl(p,d,h){(0,ie.m9)(p).beforeAuthStateChanged(d,h)})(h,C,()=>C(h.currentUser)),function dg(p,d,h,g){(0,ie.m9)(p).onIdTokenChanged(d,h,g)}(h,L=>C(L))}const y=(0,ie.q4)("auth");return y&&nx(h,`http://${y}`),h}!function Ku(p){(0,j._registerComponent)(new Wn.wA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),y=d.getProvider("heartbeat"),C=d.getProvider("app-check-internal"),{apiKey:L,authDomain:J}=g.options;ve(L&&!L.includes(":"),"invalid-api-key",{appName:g.name});const ye={apiKey:L,authDomain:J,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(p)},je=new HP(g,y,C,ye);return function pe(p,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(oe);d?.errorMap&&p._updateErrorMap(d.errorMap),p._initializeWithPersistence(g,d?.popupRedirectResolver)}(je,h),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new Wn.wA("auth-internal",d=>{const h=fi(d.getProvider("auth").getImmediate());return new hF(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(I0,"1.4.0",function Pg(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,j.registerVersion)(I0,"1.4.0","esm2017")}("Browser")},58:(Xr,wi,at)=>{at.d(wi,{BH:()=>yr,DV:()=>U,Dv:()=>cn,G6:()=>po,GJ:()=>hi,L:()=>Xt,LL:()=>le,Pz:()=>$t,Sg:()=>Ci,UG:()=>Gt,UI:()=>fe,US:()=>Wn,Wj:()=>jn,Wl:()=>et,Yr:()=>vr,ZB:()=>We,ZR:()=>me,aH:()=>Rt,b$:()=>Kn,cI:()=>Ie,dS:()=>Jo,eu:()=>ne,g5:()=>j,gK:()=>yn,gQ:()=>ti,h$:()=>Dn,hl:()=>Q,hu:()=>ie,jU:()=>Sn,lb:()=>Zn,m9:()=>bs,ne:()=>ji,p$:()=>Ee,pd:()=>Rn,q4:()=>Ei,r3:()=>$,ru:()=>ei,tV:()=>he,uI:()=>ve,ug:()=>mo,vZ:()=>Ae,w1:()=>fo,w9:()=>Un,xO:()=>qt,xb:()=>ee,z$:()=>xt,zd:()=>Bt});const S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ie=function(P,k){if(!P)throw j(k)},j=function(P){return new Error("Firebase Database ("+S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+P)},Ye=function(P){const k=[];let E=0;for(let x=0;x<P.length;x++){let w=P.charCodeAt(x);w<128?k[E++]=w:w<2048?(k[E++]=w>>6|192,k[E++]=63&w|128):55296==(64512&w)&&x+1<P.length&&56320==(64512&P.charCodeAt(x+1))?(w=65536+((1023&w)<<10)+(1023&P.charCodeAt(++x)),k[E++]=w>>18|240,k[E++]=w>>12&63|128,k[E++]=w>>6&63|128,k[E++]=63&w|128):(k[E++]=w>>12|224,k[E++]=w>>6&63|128,k[E++]=63&w|128)}return k},Wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,k){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let w=0;w<P.length;w+=3){const R=P[w],oe=w+1<P.length,ze=oe?P[w+1]:0,Ue=w+2<P.length,dt=Ue?P[w+2]:0;let kn=(15&ze)<<2|dt>>6,Je=63&dt;Ue||(Je=64,oe||(kn=64)),x.push(E[R>>2],E[(3&R)<<4|ze>>4],E[kn],E[Je])}return x.join("")},encodeString(P,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(P):this.encodeByteArray(Ye(P),k)},decodeString(P,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(P):function(P){const k=[];let E=0,x=0;for(;E<P.length;){const w=P[E++];if(w<128)k[x++]=String.fromCharCode(w);else if(w>191&&w<224){const R=P[E++];k[x++]=String.fromCharCode((31&w)<<6|63&R)}else if(w>239&&w<365){const Ue=((7&w)<<18|(63&P[E++])<<12|(63&P[E++])<<6|63&P[E++])-65536;k[x++]=String.fromCharCode(55296+(Ue>>10)),k[x++]=String.fromCharCode(56320+(1023&Ue))}else{const R=P[E++],oe=P[E++];k[x++]=String.fromCharCode((15&w)<<12|(63&R)<<6|63&oe)}}return k.join("")}(this.decodeStringToByteArray(P,k))},decodeStringToByteArray(P,k){this.init_();const E=k?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let w=0;w<P.length;){const R=E[P.charAt(w++)],ze=w<P.length?E[P.charAt(w)]:0;++w;const dt=w<P.length?E[P.charAt(w)]:64;++w;const Me=w<P.length?E[P.charAt(w)]:64;if(++w,null==R||null==ze||null==dt||null==Me)throw new di;x.push(R<<2|ze>>4),64!==dt&&(x.push(ze<<4&240|dt>>2),64!==Me&&x.push(dt<<6&192|Me))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class di extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dn=function(P){const k=Ye(P);return Wn.encodeByteArray(k,!0)},Xt=function(P){return Dn(P).replace(/\./g,"")},he=function(P){try{return Wn.decodeString(P,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function Ee(P){return We(void 0,P)}function We(P,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return k}for(const E in k)!k.hasOwnProperty(E)||!Ct(E)||(P[E]=We(P[E],k[E]));return P}function Ct(P){return"__proto__"!==P}const _t=()=>{try{return function rn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=P&&he(P[1]);return k&&JSON.parse(k)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},Ei=P=>{var k,E;return null===(E=null===(k=_t())||void 0===k?void 0:k.emulatorHosts)||void 0===E?void 0:E[P]},Rt=()=>{var P;return null===(P=_t())||void 0===P?void 0:P.config},$t=P=>{var k;return null===(k=_t())||void 0===k?void 0:k[`_${P}`]};class yr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,E)=>{this.resolve=k,this.reject=E})}wrapCallback(k){return(E,x)=>{E?this.reject(E):this.resolve(x),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(E):k(E,x))}}}function Ci(P,k){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=k||"demo-project",w=P.iat||0,R=P.sub||P.user_id;if(!R)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:w,exp:w+3600,auth_time:w,sub:R,user_id:R,firebase:{sign_in_provider:"custom",identities:{}}},P);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(oe)),""].join(".")}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Gt(){var P;const k=null===(P=_t())||void 0===P?void 0:P.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Sn(){return"object"==typeof self&&self.self===self}function ei(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fo(){const P=xt();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function vr(){return!0===S.NODE_CLIENT||!0===S.NODE_ADMIN}function po(){return!Gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((P,k)=>{try{let E=!0;const x="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(x);w.onsuccess=()=>{w.result.close(),E||self.indexedDB.deleteDatabase(x),P(!0)},w.onupgradeneeded=()=>{E=!1},w.onerror=()=>{var R;k((null===(R=w.error)||void 0===R?void 0:R.message)||"")}}catch(E){k(E)}})}class me extends Error{constructor(k,E,x){super(E),this.code=k,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(k,E,x){this.service=k,this.serviceName=E,this.errors=x}create(k,...E){const x=E[0]||{},w=`${this.service}/${k}`,R=this.errors[k],oe=R?function Se(P,k){return P.replace(kt,(E,x)=>{const w=k[x];return null!=w?String(w):`<${x}?>`})}(R,x):"Error";return new me(w,`${this.serviceName}: ${oe} (${w}).`,x)}}const kt=/\{\$([^}]+)}/g;function Ie(P){return JSON.parse(P)}function et(P){return JSON.stringify(P)}const Jt=function(P){let k={},E={},x={},w="";try{const R=P.split(".");k=Ie(he(R[0])||""),E=Ie(he(R[1])||""),w=R[2],x=E.d||{},delete E.d}catch{}return{header:k,claims:E,data:x,signature:w}},Un=function(P){const E=Jt(P).claims;return!!E&&"object"==typeof E&&E.hasOwnProperty("iat")},hi=function(P){const k=Jt(P).claims;return"object"==typeof k&&!0===k.admin};function $(P,k){return Object.prototype.hasOwnProperty.call(P,k)}function U(P,k){if(Object.prototype.hasOwnProperty.call(P,k))return P[k]}function ee(P){for(const k in P)if(Object.prototype.hasOwnProperty.call(P,k))return!1;return!0}function fe(P,k,E){const x={};for(const w in P)Object.prototype.hasOwnProperty.call(P,w)&&(x[w]=k.call(E,P[w],w,P));return x}function Ae(P,k){if(P===k)return!0;const E=Object.keys(P),x=Object.keys(k);for(const w of E){if(!x.includes(w))return!1;const R=P[w],oe=k[w];if(be(R)&&be(oe)){if(!Ae(R,oe))return!1}else if(R!==oe)return!1}for(const w of x)if(!E.includes(w))return!1;return!0}function be(P){return null!==P&&"object"==typeof P}function qt(P){const k=[];for(const[E,x]of Object.entries(P))Array.isArray(x)?x.forEach(w=>{k.push(encodeURIComponent(E)+"="+encodeURIComponent(w))}):k.push(encodeURIComponent(E)+"="+encodeURIComponent(x));return k.length?"&"+k.join("&"):""}function Bt(P){const k={};return P.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[w,R]=x.split("=");k[decodeURIComponent(w)]=decodeURIComponent(R)}}),k}function Rn(P){const k=P.indexOf("?");if(!k)return"";const E=P.indexOf("#",k);return P.substring(k,E>0?E:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(k,E){E||(E=0);const x=this.W_;if("string"==typeof k)for(let Me=0;Me<16;Me++)x[Me]=k.charCodeAt(E)<<24|k.charCodeAt(E+1)<<16|k.charCodeAt(E+2)<<8|k.charCodeAt(E+3),E+=4;else for(let Me=0;Me<16;Me++)x[Me]=k[E]<<24|k[E+1]<<16|k[E+2]<<8|k[E+3],E+=4;for(let Me=16;Me<80;Me++){const kn=x[Me-3]^x[Me-8]^x[Me-14]^x[Me-16];x[Me]=4294967295&(kn<<1|kn>>>31)}let dt,sn,w=this.chain_[0],R=this.chain_[1],oe=this.chain_[2],ze=this.chain_[3],Ue=this.chain_[4];for(let Me=0;Me<80;Me++){Me<40?Me<20?(dt=ze^R&(oe^ze),sn=1518500249):(dt=R^oe^ze,sn=1859775393):Me<60?(dt=R&oe|ze&(R|oe),sn=2400959708):(dt=R^oe^ze,sn=3395469782);const kn=(w<<5|w>>>27)+dt+Ue+sn+x[Me]&4294967295;Ue=ze,ze=oe,oe=4294967295&(R<<30|R>>>2),R=w,w=kn}this.chain_[0]=this.chain_[0]+w&4294967295,this.chain_[1]=this.chain_[1]+R&4294967295,this.chain_[2]=this.chain_[2]+oe&4294967295,this.chain_[3]=this.chain_[3]+ze&4294967295,this.chain_[4]=this.chain_[4]+Ue&4294967295}update(k,E){if(null==k)return;void 0===E&&(E=k.length);const x=E-this.blockSize;let w=0;const R=this.buf_;let oe=this.inbuf_;for(;w<E;){if(0===oe)for(;w<=x;)this.compress_(k,w),w+=this.blockSize;if("string"==typeof k){for(;w<E;)if(R[oe]=k.charCodeAt(w),++oe,++w,oe===this.blockSize){this.compress_(R),oe=0;break}}else for(;w<E;)if(R[oe]=k[w],++oe,++w,oe===this.blockSize){this.compress_(R),oe=0;break}}this.inbuf_=oe,this.total_+=E}digest(){const k=[];let E=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let w=this.blockSize-1;w>=56;w--)this.buf_[w]=255&E,E/=256;this.compress_(this.buf_);let x=0;for(let w=0;w<5;w++)for(let R=24;R>=0;R-=8)k[x]=this.chain_[w]>>R&255,++x;return k}}function ji(P,k){const E=new Yi(P,k);return E.subscribe.bind(E)}class Yi{constructor(k,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then(()=>{k(this)}).catch(x=>{this.error(x)})}next(k){this.forEachObserver(E=>{E.next(k)})}error(k){this.forEachObserver(E=>{E.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,E,x){let w;if(void 0===k&&void 0===E&&void 0===x)throw new Error("Missing Observer.");w=function In(P,k){if("object"!=typeof P||null===P)return!1;for(const E of k)if(E in P&&"function"==typeof P[E])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:E,complete:x},void 0===w.next&&(w.next=Kt),void 0===w.error&&(w.error=Kt),void 0===w.complete&&(w.complete=Kt);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch{}}),this.observers.push(w),R}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,k)}sendOne(k,E){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{E(this.observers[k])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}const cn=function(P,k,E,x){let w;if(x<k?w="at least "+k:x>E&&(w=0===E?"none":"no more than "+E),w)throw new Error(P+" failed: Was called with "+x+(1===x?" argument.":" arguments.")+" Expects "+w+".")};function yn(P,k){return`${P} failed: ${k} argument `}function jn(P,k,E,x){if((!x||E)&&"function"!=typeof E)throw new Error(yn(P,k)+"must be a valid function.")}function Zn(P,k,E,x){if((!x||E)&&("object"!=typeof E||null===E))throw new Error(yn(P,k)+"must be a valid context object.")}const Jo=function(P){const k=[];let E=0;for(let x=0;x<P.length;x++){let w=P.charCodeAt(x);if(w>=55296&&w<=56319){const R=w-55296;x++,ie(x<P.length,"Surrogate pair missing trail surrogate."),w=65536+(R<<10)+(P.charCodeAt(x)-56320)}w<128?k[E++]=w:w<2048?(k[E++]=w>>6|192,k[E++]=63&w|128):w<65536?(k[E++]=w>>12|224,k[E++]=w>>6&63|128,k[E++]=63&w|128):(k[E++]=w>>18|240,k[E++]=w>>12&63|128,k[E++]=w>>6&63|128,k[E++]=63&w|128)}return k},mo=function(P){let k=0;for(let E=0;E<P.length;E++){const x=P.charCodeAt(E);x<128?k++:x<2048?k+=2:x>=55296&&x<=56319?(k+=4,E++):k+=3}return k};function bs(P){return P&&P._delegate?P._delegate:P}},367:(Xr,wi,at)=>{function S(n){return"function"==typeof n}function ie(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const j=ie(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ye(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(o){t=o instanceof j?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Dn(o)}catch(s){t=t??[],s instanceof j?t=[...t,...s.errors]:t.push(s)}}if(t)throw new j(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Dn(t);else{if(t instanceof pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ye(e,t)}remove(t){const{_finalizers:e}=this;e&&Ye(e,t),t instanceof pt&&t._removeParent(this)}}pt.EMPTY=(()=>{const n=new pt;return n.closed=!0,n})();const Wn=pt.EMPTY;function di(n){return n instanceof pt||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function Dn(n){S(n)?n():n.unsubscribe()}const Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},he={setTimeout(n,t,...e){const{delegate:i}=he;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=he;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ee(n){he.setTimeout(()=>{const{onUnhandledError:t}=Xt;if(!t)throw n;t(n)})}function We(){}const Ct=zt("C",void 0,void 0);function zt(n,t,e){return{kind:n,value:t,error:e}}let gt=null;function _t(n){if(Xt.useDeprecatedSynchronousErrorHandling){const t=!gt;if(t&&(gt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=gt;if(gt=null,e)throw i}}else n()}class qn extends pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,di(t)&&t.add(this)):this.destination=Sn}static create(t,e,i){return new Ci(t,e,i)}next(t){this.isStopped?Gt(function Gn(n){return zt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Gt(function rn(n){return zt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Gt(Ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function $t(n,t){return Rt.call(n,t)}class yr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){xt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){xt(i)}else xt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xt(e)}}}class Ci extends qn{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$t(t.next,o),error:t.error&&$t(t.error,o),complete:t.complete&&$t(t.complete,o)}):r=t}this.destination=new yr(r)}}function xt(n){Xt.useDeprecatedSynchronousErrorHandling?function Ei(n){Xt.useDeprecatedSynchronousErrorHandling&&gt&&(gt.errorThrown=!0,gt.error=n)}(n):Ee(n)}function Gt(n,t){const{onStoppedNotification:e}=Xt;e&&he.setTimeout(()=>e(n,t))}const Sn={closed:!0,next:We,error:function ve(n){throw n},complete:We},ei="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kn(n){return n}function fo(n){return 0===n.length?Kn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ut=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Q(n){return n&&n instanceof qn||function po(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&di(n)}(e)?e:new Ci(e,i,r);return _t(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=vr(i))((r,o)=>{const s=new Ci({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ei](){return this}pipe(...e){return fo(e)(this)}toPromise(e){return new(e=vr(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function vr(n){var t;return null!==(t=n??Xt.Promise)&&void 0!==t?t:Promise}const ne=ie(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Y(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ne}next(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){_t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Wn:(this.currentObservers=null,o.push(e),new pt(()=>{this.currentObservers=null,Ye(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new ut;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends z{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Wn}}function me(n){return S(n?.lift)}function le(n){return t=>{if(me(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,t,e,i,r){return new kt(n,t,e,i,r)}class kt extends qn{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(n,t){return le((e,i)=>{let r=0;e.subscribe(Se(i,o=>{i.next(n.call(t,o,r++))}))})}var et=at(582);const Jt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bn(n){return S(n?.then)}function _n(n){return S(n[ei])}function Un(n){return Symbol.asyncIterator&&S(n?.[Symbol.asyncIterator])}function hi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const U=function $(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ee(n){return S(n?.[U])}function fe(n){return(0,et.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,et.qq)(e.read());if(r)return yield(0,et.qq)(void 0);yield yield(0,et.qq)(i)}}finally{e.releaseLock()}})}function Ae(n){return S(n?.getReader)}function be(n){if(n instanceof ut)return n;if(null!=n){if(_n(n))return function An(n){return new ut(t=>{const e=n[ei]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Jt(n))return function qt(n){return new ut(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bn(n))return function Bt(n){return new ut(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ee)})}(n);if(Un(n))return ti(n);if(ee(n))return function Rn(n){return new ut(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ae(n))return function ji(n){return ti(fe(n))}(n)}throw hi(n)}function ti(n){return new ut(t=>{(function Yi(n,t){var e,i,r,o;return(0,et.mG)(this,void 0,void 0,function*(){try{for(e=(0,et.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function nr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,t,e=1/0){return S(t)?Kt((i,r)=>Ie((o,s)=>t(i,o,r,s))(be(n(i,r))),e):("number"==typeof t&&(e=t),le((i,r)=>function In(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,f=!1;const m=()=>{f&&!l.length&&!c&&t.complete()},_=b=>c<i?v(b):l.push(b),v=b=>{o&&t.next(b),c++;let I=!1;be(e(b,u++)).subscribe(Se(t,N=>{r?.(N),o?_(N):t.next(N)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<i;){const N=l.shift();s?nr(t,s,()=>v(N)):v(N)}m()}catch(N){t.error(N)}}))};return n.subscribe(Se(t,_,()=>{f=!0,m()})),()=>{a?.()}}(i,r,n,e)))}function cn(n=1/0){return Kt(Kn,n)}const yn=new ut(n=>n.complete());function Zn(n){return n&&S(n.schedule)}function Jo(n){return n[n.length-1]}function mo(n){return S(Jo(n))?n.pop():void 0}function es(n){return Zn(Jo(n))?n.pop():void 0}function Oi(n,t=0){return le((e,i)=>{e.subscribe(Se(i,r=>nr(i,n,()=>i.next(r),t),()=>nr(i,n,()=>i.complete(),t),r=>nr(i,n,()=>i.error(r),t)))})}function br(n,t=0){return le((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function bs(n,t){if(!n)throw new Error("Iterable cannot be null");return new ut(e=>{nr(e,t,()=>{const i=n[Symbol.asyncIterator]();nr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function E(n,t){return t?function k(n,t){if(null!=n){if(_n(n))return function go(n,t){return be(n).pipe(br(t),Oi(t))}(n,t);if(Jt(n))return function ya(n,t){return new ut(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Bn(n))return function Jl(n,t){return be(n).pipe(br(t),Oi(t))}(n,t);if(Un(n))return bs(n,t);if(ee(n))return function rl(n,t){return new ut(e=>{let i;return nr(e,t,()=>{i=n[U](),nr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>S(i?.return)&&i.return()})}(n,t);if(Ae(n))return function P(n,t){return bs(fe(n),t)}(n,t)}throw hi(n)}(n,t):be(n)}function x(...n){const t=es(n),e=function Hi(n,t){return"number"==typeof Jo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?be(i[0]):cn(e)(E(i,t)):yn}class w extends z{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function R(...n){return E(n,es(n))}function oe(n={}){const{connector:t=(()=>new z),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,f=!1;const m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=l=void 0,u=f=!1},v=()=>{const b=s;_(),b?.unsubscribe()};return le((b,I)=>{c++,!f&&!u&&m();const N=l=l??t();I.add(()=>{c--,0===c&&!f&&!u&&(a=ze(v,r))}),N.subscribe(I),!s&&c>0&&(s=new Ci({next:A=>N.next(A),error:A=>{f=!0,m(),a=ze(_,e,A),N.error(A)},complete:()=>{u=!0,m(),a=ze(_,i),N.complete()}}),be(b).subscribe(s))})(o)}}function ze(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ci({next:()=>{i.unsubscribe(),n()}});return be(t(...e)).subscribe(i)}function Ue(n,t){return le((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Se(i,l=>{r?.unsubscribe();let c=0;const u=o++;be(n(l,u)).subscribe(r=Se(i,f=>i.next(t?t(l,f,u,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function dt(n,t=Kn){return n=n??sn,le((e,i)=>{let r,o=!0;e.subscribe(Se(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function sn(n,t){return n===t}function Me(n){for(let t in n)if(n[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function kn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Qi(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ol=Me({__forward_ref__:Me});function G(n){return n.__forward_ref__=G,n.toString=function(){return Je(this())},n}function V(n){return we(n)?n():n}function we(n){return"function"==typeof n&&n.hasOwnProperty(ol)&&n.__forward_ref__===G}function Qe(n){return n&&!!n.\u0275providers}const Ut="https://g.co/ng/security#xss";class q extends Error{constructor(t,e){super(function Si(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Vm(n,t){throw new q(-201,!1)}function wr(n,t){null==n&&function mt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function bh(n){return Ab(n,tc)||Ab(n,wh)}function Ab(n,t){return n.hasOwnProperty(t)?n[t]:null}function ku(n){return n&&(n.hasOwnProperty(Bm)||n.hasOwnProperty(ix))?n[Bm]:null}const tc=Me({\u0275prov:Me}),Bm=Me({\u0275inj:Me}),wh=Me({ngInjectableDef:Me}),ix=Me({ngInjectorDef:Me});var jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(jt||{});let Um;function Jr(n){const t=Um;return Um=n,t}function Ch(n,t,e){const i=bh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&jt.Optional?null:void 0!==t?t:void Vm(Je(n))}const Mn=globalThis;class ae{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const al={},Gm="__NG_DI_FLAG__",yo="ngTempTokenPath",qm=/\n/gm,xh="__source";let nc;function ba(n){const t=nc;return nc=n,t}function sx(n,t=jt.Default){if(void 0===nc)throw new q(-203,!1);return null===nc?Ch(n,void 0,t):nc.get(n,t&jt.Optional?null:void 0,t)}function F(n,t=jt.Default){return(function Eh(){return Um}()||sx)(V(n),t)}function Te(n,t=jt.Default){return F(n,Dh(t))}function Dh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ll(n){const t=[];for(let e=0;e<n.length;e++){const i=V(n[e]);if(Array.isArray(i)){if(0===i.length)throw new q(900,!1);let r,o=jt.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Zm(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(F(r,o))}else t.push(F(i))}return t}function Sh(n,t){return n[Gm]=t,n.prototype[Gm]=t,n}function Zm(n){return n[Gm]}function vo(n){return{toString:n}.toString()}var Ah=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ah||{}),Oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oo||{});const ws={},un=[],qs=Me({\u0275cmp:Me}),Ym=Me({\u0275dir:Me}),rc=Me({\u0275pipe:Me}),Nb=Me({\u0275mod:Me}),Es=Me({\u0275fac:Me}),cl=Me({__NG_ELEMENT_ID__:Me}),bo=Me({__NG_ENV_ID__:Me});function Qm(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Xm(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];Nu(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Rh(n){return 3===n||4===n||6===n}function Nu(n){return 64===n.charCodeAt(0)}function oc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Jm(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Jm(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Ob="ng-template";function eg(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==Qm(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function kh(n){return 4===n.type&&n.value!==Ob}function tg(n,t,e){return t===(4!==n.type||e?n.value:Ob)}function Mh(n,t,e){let i=4;const r=n.attrs||[],o=function ng(n){for(let t=0;t<n.length;t++)if(Rh(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!tg(n,l,e)||""===l&&1===t.length){if(wo(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!eg(n.attrs,c,e)){if(wo(i))return!1;s=!0}continue}const f=Pb(8&i?"class":l,r,kh(n),e);if(-1===f){if(wo(i))return!1;s=!0;continue}if(""!==c){let m;m=f>o?"":r[f+1].toLowerCase();const _=8&i?m:null;if(_&&-1!==Qm(_,c,0)||2&i&&c!==m){if(wo(i))return!1;s=!0}}}}else{if(!s&&!wo(i)&&!wo(l))return!1;if(s&&wo(l))continue;s=!1,i=l|1&i}}return wo(i)||s}function wo(n){return 0==(1&n)}function Pb(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Oh(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Nh(n,t,e=!1){for(let i=0;i<t.length;i++)if(Mh(n,t[i],e))return!0;return!1}function ig(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function rg(n,t){return n?":not("+t.trim()+")":t}function og(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!wo(s)&&(t+=rg(o,r),r=""),i=s,o=o||!wo(i);e++}return""!==r&&(t+=rg(o,r)),t}function yt(n){return vo(()=>{const t=Vb(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oo.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};Fh(e);const i=n.dependencies;return e.directiveDefs=Ou(i,!1),e.pipeDefs=Ou(i,!0),e.id=function lx(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function ax(n){return en(n)||ir(n)}function lg(n){return null!==n}function qe(n){return vo(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ph(n,t){if(null==n)return ws;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function X(n){return vo(()=>{const t=Vb(n);return Fh(t),t})}function zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[qs]||null}function ir(n){return n[Ym]||null}function rr(n){return n[rc]||null}function Lr(n,t){const e=n[Nb]||null;if(!e&&!0===t)throw new Error(`Type ${Je(n)} does not have '\u0275mod' property.`);return e}function Vb(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ws,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ph(n.inputs,t),outputs:Ph(n.outputs)}}function Fh(n){n.features?.forEach(t=>t(n))}function Ou(n,t){if(!n)return null;const e=t?rr:ax;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(lg)}const ni=0,Oe=1,It=2,ii=3,ts=4,ul=5,Er=6,ac=7,pi=8,Ea=9,Ca=10,Tt=11,dl=12,Bb=13,Ia=14,Ai=15,hl=16,lc=17,Po=18,Pu=19,Lh=20,Ta=21,Ks=22,cc=23,fl=24,Zt=25,Vh=1,Ub=2,Cs=7,uc=9,Cr=11;function Eo(n){return Array.isArray(n)&&"object"==typeof n[Vh]}function or(n){return Array.isArray(n)&&!0===n[Vh]}function dg(n){return 0!=(4&n.flags)}function pl(n){return n.componentOffset>-1}function hg(n){return 1==(1&n.flags)}function Is(n){return!!n.template}function jb(n){return 0!=(512&n[It])}function dc(n,t){return n.hasOwnProperty(Es)?n[Es]:null}let Ri=null,Uh=!1;function vn(n){const t=Ri;return Ri=n,t}const qb={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Kb(n){if(!Bu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Vu(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Zb(n){n.dirty=!0,function Hh(n){if(void 0===n.liveConsumerNode)return;const t=Uh;Uh=!0;try{for(const e of n.liveConsumerNode)e.dirty||Zb(e)}finally{Uh=t}}(n),n.consumerMarkedDirty?.(n)}function zh(n){return n&&(n.nextProducerIndex=0),vn(n)}function gg(n,t){if(vn(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Bu(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)gl(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vu(n){xa(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Kb(e),i!==e.version))return!0}return!1}function _g(n){if(xa(n),Bu(n))for(let t=0;t<n.producerNode.length;t++)gl(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gl(n,t){if(function yg(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),xa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)gl(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];xa(r),r.producerIndexOfThis[i]=t}}function Bu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let hx=null;const t0=()=>{},yx=(()=>({...qb,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:t0}))();class n0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yn(){return r0}function r0(n){return n.type.prototype.ngOnChanges&&(n.setInput=wg),vx}function vx(){const n=Wh(this),t=n?.current;if(t){const e=n.previous;if(e===ws)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function wg(n,t,e,i){const r=this.declaredInputs[e],o=Wh(n)||function bx(n,t){return n[o0]=t}(n,{previous:ws,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new n0(l&&l.currentValue,t,a===ws),n[i]=t}Yn.ngInherit=!0;const o0="__ngSimpleChanges__";function Wh(n){return n[o0]||null}const Fo=function(n,t,e){},Hu="svg";function Hn(n){for(;Array.isArray(n);)n=n[ni];return n}function qh(n,t){return Hn(t[n])}function Pi(n,t){return Hn(t[n.index])}function s0(n,t){return n.data[t]}function fc(n,t){return n[t]}function Co(n,t){const e=t[n];return Eo(e)?e:e[ni]}function Da(n,t){return null==t?null:n[t]}function Kh(n){n[lc]=0}function Cx(n){1024&n[It]||(n[It]|=1024,l0(n,1))}function Zh(n){1024&n[It]&&(n[It]&=-1025,l0(n,-1))}function l0(n,t){let e=n[ii];if(null===e)return;e[ul]+=t;let i=e;for(e=e[ii];null!==e&&(1===t&&1===i[ul]||-1===t&&0===i[ul]);)e[ul]+=t,i=e,e=e[ii]}const vt={lFrame:y0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qh(){return vt.bindingsEnabled}function mc(){return null!==vt.skipHydrationRootTNode}function ge(){return vt.lFrame.lView}function an(){return vt.lFrame.tView}function st(n){return vt.lFrame.contextLView=n,n[pi]}function tt(n){return vt.lFrame.contextLView=null,n}function sr(){let n=h0();for(;null!==n&&64===n.type;)n=n.parent;return n}function h0(){return vt.lFrame.currentTNode}function xs(n,t){const e=vt.lFrame;e.currentTNode=n,e.isParent=t}function $u(){return vt.lFrame.isParent}function Wu(){vt.lFrame.isParent=!1}function Vr(){const n=vt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ds(){return vt.lFrame.bindingIndex}function yl(){return vt.lFrame.bindingIndex++}function Zs(n){const t=vt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Sx(n,t){const e=vt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ag(t)}function Ag(n){vt.lFrame.currentDirectiveIndex=n}function p0(){return vt.lFrame.currentQueryIndex}function Rg(n){vt.lFrame.currentQueryIndex=n}function m0(n){const t=n[Oe];return 2===t.type?t.declTNode:1===t.type?n[Er]:null}function g0(n,t,e){if(e&jt.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&jt.Host||(r=m0(o),null===r||(o=o[Ia],10&r.type))););if(null===r)return!1;t=r,n=o}const i=vt.lFrame=_0();return i.currentTNode=t,i.lView=n,!0}function gc(n){const t=_0(),e=n[Oe];vt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function _0(){const n=vt.lFrame,t=null===n?null:n.child;return null===t?y0(n):t}function y0(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function v0(){const n=vt.lFrame;return vt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const b0=v0;function kg(){const n=v0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Br(){return vt.lFrame.selectedIndex}function Ys(n){vt.lFrame.selectedIndex=n}function mi(){const n=vt.lFrame;return s0(n.tView,n.selectedIndex)}function ef(){vt.lFrame.currentNamespace=Hu}let w0=!0;function tf(){return w0}function Sa(n){w0=n}function nf(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function _c(n,t,e){rf(n,t,3,e)}function yc(n,t,e,i){(3&n[It])===e&&rf(n,t,e,i)}function Og(n,t){let e=n[It];(3&e)===t&&(e&=8191,e+=1,n[It]=e)}function rf(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[lc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[lc]+=65536),(a<o||-1==o)&&(C0(n,e,t,l),n[lc]=(4294901760&n[lc])+l+2),l++}function E0(n,t){Fo(4,n,t);const e=vn(null);try{t.call(n)}finally{vn(e),Fo(5,n,t)}}function C0(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[It]>>13<n[lc]>>16&&(3&n[It])===t&&(n[It]+=8192,E0(a,o)):E0(a,o)}const vc=-1;class vl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Pg(n){return n!==vc}function Ku(n){return 32767&n}function Zu(n,t){let e=function Vx(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ia],e--;return i}let af=!0;function lf(n){const t=af;return af=n,t}const p=255,d=5;let h=0;const g={};function C(n,t){const e=J(n,t);if(-1!==e)return e;const i=t[Oe];i.firstCreatePass&&(n.injectorIndex=t.length,L(i.data,n),L(t,null),L(i.blueprint,null));const r=ye(n,t),o=n.injectorIndex;if(Pg(r)){const s=Ku(r),a=Zu(r,t),l=a[Oe].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function L(n,t){n.push(0,0,0,0,0,0,0,0,t)}function J(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ye(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=pF(r),null===i)return vc;if(e++,r=r[Ia],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return vc}function je(n,t,e){!function y(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(cl)&&(i=e[cl]),null==i&&(i=e[cl]=h++);const r=i&p;t.data[n+(r>>d)]|=1<<r}(n,t,e)}function tn(n,t,e){if(e&jt.Optional||void 0!==n)return n;Vm()}function Ur(n,t,e,i){if(e&jt.Optional&&void 0===i&&(i=null),!(e&(jt.Self|jt.Host))){const r=n[Ea],o=Jr(void 0);try{return r?r.get(t,i,e&jt.Optional):Ch(t,i,e&jt.Optional)}finally{Jr(o)}}return tn(i,0,e)}function Qs(n,t,e,i=jt.Default,r){if(null!==n){if(2048&t[It]&&!(i&jt.Self)){const s=function VK(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[It]&&!(512&s[It]);){const a=Yu(o,s,e,i|jt.Self,g);if(a!==g)return a;let l=o.parent;if(!l){const c=s[Lh];if(c){const u=c.get(e,g,i);if(u!==g)return u}l=pF(s),s=s[Ia]}o=l}return r}(n,t,e,i,g);if(s!==g)return s}const o=Yu(n,t,e,i,g);if(o!==g)return o}return Ur(t,e,i,r)}function Yu(n,t,e,i,r){const o=function x0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(cl)?n[cl]:void 0;return"number"==typeof t?t>=0?t&p:Bx:t}(e);if("function"==typeof o){if(!g0(t,n,i))return i&jt.Host?tn(r,0,i):Ur(t,e,i,r);try{let s;if(s=o(i),null!=s||i&jt.Optional)return s;Vm()}finally{b0()}}else if("number"==typeof o){let s=null,a=J(n,t),l=vc,c=i&jt.Host?t[Ai][Er]:null;for((-1===a||i&jt.SkipSelf)&&(l=-1===a?ye(n,t):t[a+8],l!==vc&&Fg(i,!1)?(s=t[Oe],a=Ku(l),t=Zu(l,t)):a=-1);-1!==a;){const u=t[Oe];if(cf(o,a,u.data)){const f=T0(a,t,e,s,i,c);if(f!==g)return f}l=t[a+8],l!==vc&&Fg(i,t[Oe].data[a+8]===c)&&cf(o,a,t)?(s=u,a=Ku(l),t=Zu(l,t)):a=-1}}return r}function T0(n,t,e,i,r,o){const s=t[Oe],a=s.data[n+8],u=bc(a,s,e,null==i?pl(a)&&af:i!=s&&0!=(3&a.type),r&jt.Host&&o===a);return null!==u?Aa(t,s,u,a):g}function bc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,m=r?a+u:n.directiveEnd;for(let _=i?a:a+u;_<m;_++){const v=s[_];if(_<l&&e===v||_>=l&&v.type===e)return _}if(r){const _=s[l];if(_&&Is(_)&&_.type===e)return l}return null}function Aa(n,t,e,i){let r=n[e];const o=t.data;if(function Px(n){return n instanceof vl}(r)){const s=r;s.resolving&&function Ru(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(o[e]));const a=lf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Jr(s.injectImpl):null;g0(n,i,jt.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Ox(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=r0(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&Jr(c),lf(a),s.resolving=!1,b0()}}return r}function cf(n,t,e){return!!(e[t+(n>>d)]&1<<n)}function Fg(n,t){return!(n&jt.Self||n&jt.Host&&t)}class Ir{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Qs(this._tNode,this._lView,t,Dh(i),e)}}function Bx(){return new Ir(sr(),ge())}function Mt(n){return vo(()=>{const t=n.prototype.constructor,e=t[Es]||Vg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Es]||Vg(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Vg(n){return we(n)?()=>{const t=Vg(V(n));return t&&t()}:dc(n)}function pF(n){const t=n[Oe],e=t.type;return 2===e?t.declTNode:1===e?n[Er]:null}function Ss(n){return function lt(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Rh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(sr(),n)}const df="__parameters__";function ff(n,t,e){return vo(()=>{const i=function Ux(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const f=l.hasOwnProperty(df)?l[df]:Object.defineProperty(l,df,{value:[]})[df];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function mf(n,t){n.forEach(e=>Array.isArray(e)?mf(e,t):t(e))}function gF(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function D0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ug(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ns(n,t,e){let i=gf(n,t);return i>=0?n[1|i]=e:(i=~i,function WK(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function jx(n,t){const e=gf(n,t);if(e>=0)return n[1|e]}function gf(n,t){return function _F(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Rs=Sh(ff("Optional"),8),jg=Sh(ff("SkipSelf"),4);function N0(n){return 128==(128&n.flags)}var Ec=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ec||{});const hZ=/^>|^->|<!--|-->|--!>|<!-$/g,fZ=/(<|>)/g,pZ="\u200b$1\u200b";const Gx=new Map;let mZ=0;const Kx="__ngContext__";function eo(n,t){Eo(t)?(n[Kx]=t[Pu],function _Z(n){Gx.set(n[Pu],n)}(t)):n[Kx]=t}let Zx;function Yx(n,t){return Zx(n,t)}function $g(n){const t=n[ii];return or(t)?t[ii]:t}function LF(n){return BF(n[dl])}function VF(n){return BF(n[ts])}function BF(n){for(;null!==n&&!or(n);)n=n[ts];return n}function vf(n,t,e,i,r){if(null!=i){let o,s=!1;or(i)?o=i:Eo(i)&&(s=!0,i=i[ni]);const a=Hn(i);0===n&&null!==e?null==r?zF(t,e,a):Qu(t,e,a,r||null,!0):1===n&&null!==e?Qu(t,e,a,r||null,!0):2===n?function U0(n,t,e){const i=V0(n,t);i&&function FZ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function BZ(n,t,e,i,r){const o=e[Cs];o!==Hn(e)&&vf(t,n,i,o,r);for(let a=Cr;a<e.length;a++){const l=e[a];Gg(l[Oe],l,n,t,i,o)}}(t,n,o,e,r)}}function Qx(n,t){return n.createComment(function AF(n){return n.replace(hZ,t=>t.replace(fZ,pZ))}(t))}function F0(n,t,e){return n.createElement(t,e)}function jF(n,t){const e=n[uc],i=e.indexOf(t);Zh(t),e.splice(i,1)}function L0(n,t){if(n.length<=Cr)return;const e=Cr+t,i=n[e];if(i){const r=i[hl];null!==r&&r!==n&&jF(r,i),t>0&&(n[e-1][ts]=i[ts]);const o=D0(n,Cr+t);!function SZ(n,t){Gg(n,t,t[Tt],2,null,null),t[ni]=null,t[Er]=null}(i[Oe],i);const s=o[Po];null!==s&&s.detachView(o[Oe]),i[ii]=null,i[ts]=null,i[It]&=-129}return i}function Xx(n,t){if(!(256&t[It])){const e=t[Tt];t[cc]&&_g(t[cc]),t[fl]&&_g(t[fl]),e.destroyNode&&Gg(n,t,e,3,null,null),function kZ(n){let t=n[dl];if(!t)return Jx(n[Oe],n);for(;t;){let e=null;if(Eo(t))e=t[dl];else{const i=t[Cr];i&&(e=i)}if(!e){for(;t&&!t[ts]&&t!==n;)Eo(t)&&Jx(t[Oe],t),t=t[ii];null===t&&(t=n),Eo(t)&&Jx(t[Oe],t),e=t&&t[ts]}t=e}}(t)}}function Jx(n,t){if(!(256&t[It])){t[It]&=-129,t[It]|=256,function PZ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof vl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Fo(4,a,l);try{l.call(a)}finally{Fo(5,a,l)}}else{Fo(4,r,o);try{o.call(r)}finally{Fo(5,r,o)}}}}}(n,t),function OZ(n,t){const e=n.cleanup,i=t[ac];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[ac]=null);const r=t[Ta];if(null!==r){t[Ta]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Oe].type&&t[Tt].destroy();const e=t[hl];if(null!==e&&or(t[ii])){e!==t[ii]&&jF(e,t);const i=t[Po];null!==i&&i.detachView(n)}!function yZ(n){Gx.delete(n[Pu])}(t)}}function eD(n,t,e){return function HF(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ni];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Oo.None||o===Oo.Emulated)return null}return Pi(i,e)}}(n,t.parent,e)}function Qu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function zF(n,t,e){n.appendChild(t,e)}function $F(n,t,e,i,r){null!==i?Qu(n,t,e,i,r):zF(n,t,e)}function V0(n,t){return n.parentNode(t)}function WF(n,t,e){return qF(n,t,e)}let tD,j0,oD,H0,qF=function GF(n,t,e){return 40&n.type?Pi(n,e):null};function B0(n,t,e,i){const r=eD(n,i,t),o=t[Tt],a=WF(i.parent||t[Er],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)$F(o,r,e[l],a,!1);else $F(o,r,e,a,!1);void 0!==tD&&tD(o,i,t,e,r)}function Wg(n,t){if(null!==t){const e=t.type;if(3&e)return Pi(t,n);if(4&e)return nD(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Wg(n,i);{const r=n[t.index];return or(r)?nD(-1,r):Hn(r)}}if(32&e)return Yx(t,n)()||Hn(n[t.index]);{const i=ZF(n,t);return null!==i?Array.isArray(i)?i[0]:Wg($g(n[Ai]),i):Wg(n,t.next)}}return null}function ZF(n,t){return null!==t?n[Ai][Er].projection[t.projection]:null}function nD(n,t){const e=Cr+n+1;if(e<t.length){const i=t[e],r=i[Oe].firstChild;if(null!==r)return Wg(i,r)}return t[Cs]}function iD(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&eo(Hn(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)iD(n,t,e.child,i,r,o,!1),vf(t,n,r,a,o);else if(32&l){const c=Yx(e,i);let u;for(;u=c();)vf(t,n,r,u,o);vf(t,n,r,a,o)}else 16&l?QF(n,t,i,e,r,o):vf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Gg(n,t,e,i,r,o){iD(e,i,n.firstChild,t,r,o,!1)}function QF(n,t,e,i,r,o){const s=e[Ai],l=s[Er].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vf(t,n,r,l[c],o);else{let c=l;const u=s[ii];N0(i)&&(c.flags|=128),iD(n,t,c,u,r,o,!0)}}function XF(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function JF(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Xm(n,t,i),null!==r&&XF(n,t,r),null!==o&&function jZ(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function bf(n){return function rD(){if(void 0===j0&&(j0=null,Mn.trustedTypes))try{j0=Mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return j0}()?.createHTML(n)||n}function n2(n){return function sD(){if(void 0===H0&&(H0=null,Mn.trustedTypes))try{H0=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return H0}()?.createScriptURL(n)||n}class Xu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class GZ extends Xu{getTypeName(){return"HTML"}}class qZ extends Xu{getTypeName(){return"Style"}}class KZ extends Xu{getTypeName(){return"Script"}}class ZZ extends Xu{getTypeName(){return"URL"}}class YZ extends Xu{getTypeName(){return"ResourceURL"}}function is(n){return n instanceof Xu?n.changingThisBreaksApplicationSecurity:n}function Ra(n,t){const e=function QZ(n){return n instanceof Xu&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ut})`)}return e===t}class iY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class rY{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=bf(t),e}}const sY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z0(n){return(n=String(n)).match(sY)?n:"unsafe:"+n}function bl(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function qg(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const o2=bl("area,br,col,hr,img,wbr"),s2=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a2=bl("rp,rt"),aD=qg(o2,qg(s2,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qg(a2,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qg(a2,s2)),lD=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),l2=qg(lD,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aY=bl("script,style,template");class lY{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!aD.hasOwnProperty(e))return this.sanitizedSomething=!0,!aY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!l2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;lD[a]&&(l=z0(l)),this.buf.push(" ",s,'="',c2(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();aD.hasOwnProperty(e)&&!o2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(c2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uY=/([^\#-~ |!])/g;function c2(n){return n.replace(/&/g,"&amp;").replace(cY,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(uY,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $0;function u2(n,t){let e=null;try{$0=$0||function r2(n){const t=new rY(n);return function oY(){try{return!!(new window.DOMParser).parseFromString(bf(""),"text/html")}catch{return!1}}()?new iY(t):t}(n);let i=t?String(t):"";e=$0.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=$0.getInertBodyElement(i)}while(i!==o);return bf((new lY).sanitizeChildren(cD(e)||e))}finally{if(e){const i=cD(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function cD(n){return"content"in n&&function dY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(jr||{});function uD(n){const t=Kg();return t?t.sanitize(jr.URL,n)||"":Ra(n,"URL")?is(n):z0(Ge(n))}function d2(n){const t=Kg();if(t)return n2(t.sanitize(jr.RESOURCE_URL,n)||"");if(Ra(n,"ResourceURL"))return n2(is(n));throw new q(904,!1)}function Kg(){const n=ge();return n&&n[Ca].sanitizer}const Zg=new ae("ENVIRONMENT_INITIALIZER"),f2=new ae("INJECTOR",-1),p2=new ae("INJECTOR_DEF_TYPES");class dD{get(t,e=al){if(e===al){const i=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw i.name="NullInjectorError",i}return e}}function yY(...n){return{\u0275providers:m2(0,n),\u0275fromNgModule:!0}}function m2(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return mf(t,s=>{const a=s;W0(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&g2(r,o),e}function g2(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];fD(r,o=>{t(o,i)})}}function W0(n,t,e,i){if(!(n=V(n)))return!1;let r=null,o=ku(n);const s=!o&&en(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=ku(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)W0(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{mf(o.imports,u=>{W0(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&g2(c,t)}if(!a){const c=dc(r)||(()=>new r);t({provide:r,useFactory:c,deps:un},r),t({provide:p2,useValue:r,multi:!0},r),t({provide:Zg,useValue:()=>F(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;fD(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function fD(n,t){for(let e of n)Qe(e)&&(e=e.\u0275providers),Array.isArray(e)?fD(e,t):t(e)}const vY=Me({provide:String,useValue:Me});function pD(n){return null!==n&&"object"==typeof n&&vY in n}function Ju(n){return"function"==typeof n}const mD=new ae("Set Injector scope."),G0={},wY={};let gD;function q0(){return void 0===gD&&(gD=new dD),gD}class Io{}class Ef extends Io{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yD(t,s=>this.processProvider(s)),this.records.set(f2,Cf(void 0,this)),r.has("environment")&&this.records.set(Io,Cf(void 0,this));const o=this.records.get(mD);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(p2.multi,un,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ba(this),i=Jr(void 0);try{return t()}finally{ba(e),Jr(i)}}get(t,e=al,i=jt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(bo))return t[bo](this);i=Dh(i);const o=ba(this),s=Jr(void 0);try{if(!(i&jt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function xY(n){return"function"==typeof n||"object"==typeof n&&n instanceof ae}(t)&&bh(t);l=c&&this.injectableDefInScope(c)?Cf(_D(t),G0):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&jt.Self?q0():this.parent).get(t,e=i&jt.Optional&&e===al?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[yo]=a[yo]||[]).unshift(Je(t)),o)throw a;return function Gs(n,t,e,i){const r=n[yo];throw t[xh]&&r.unshift(t[xh]),n.message=function ic(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Je(t);if(Array.isArray(t))r=t.map(Je).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(qm,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[yo]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Jr(s),ba(o)}}resolveInjectorInitializers(){const t=ba(this),e=Jr(void 0);try{const r=this.get(Zg.multi,un,jt.Self);for(const o of r)o()}finally{ba(t),Jr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Je(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(t){let e=Ju(t=V(t))?t:V(t&&t.provide);const i=function CY(n){return pD(n)?Cf(void 0,n.useValue):Cf(v2(n),G0)}(t);if(Ju(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Cf(void 0,G0,!0),r.factory=()=>ll(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===G0&&(e.value=wY,e.value=e.factory()),"object"==typeof e.value&&e.value&&function TY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=V(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function _D(n){const t=bh(n),e=null!==t?t.factory:dc(n);if(null!==e)return e;if(n instanceof ae)throw new q(204,!1);if(n instanceof Function)return function EY(n){const t=n.length;if(t>0)throw Ug(t,"?"),new q(204,!1);const e=function ec(n){return n&&(n[tc]||n[wh])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new q(204,!1)}function v2(n,t,e){let i;if(Ju(n)){const r=V(n);return dc(r)||_D(r)}if(pD(n))i=()=>V(n.useValue);else if(function y2(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ll(n.deps||[]));else if(function _2(n){return!(!n||!n.useExisting)}(n))i=()=>F(V(n.useExisting));else{const r=V(n&&(n.useClass||n.provide));if(!function IY(n){return!!n.deps}(n))return dc(r)||_D(r);i=()=>new r(...ll(n.deps))}return i}function Cf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function yD(n,t){for(const e of n)Array.isArray(e)?yD(e,t):e&&Qe(e)?yD(e.\u0275providers,t):t(e)}const Yg=new ae("AppId",{providedIn:"root",factory:()=>DY}),DY="ng",b2=new ae("Platform Initializer"),ks=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xs=new ae("AnimationModuleType"),vD=new ae("CSP nonce",{providedIn:"root",factory:()=>function wf(){if(void 0!==oD)return oD;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let w2=(n,t,e)=>null;function DD(n,t,e=!1){return w2(n,t,e)}class LY{}class I2{}class BY{resolveComponentFactory(t){throw function VY(n){const t=Error(`No component factory found for ${Je(n)}.`);return t.ngComponent=n,t}(t)}}let Jg=(()=>{class n{static#e=this.NULL=new BY}return n})();function UY(){return xf(sr(),ge())}function xf(n,t){return new it(Pi(n,t))}let it=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=UY}return n})();function jY(n){return n instanceof it?n.nativeElement:n}class Df{}let Vo=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function HY(){const n=ge(),e=Co(sr().index,n);return(Eo(e)?e:n)[Tt]}()}return n})(),zY=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();class Cc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const x2=new Cc("16.2.12"),RD={};function R2(n,t=null,e=null,i){const r=k2(n,t,e,i);return r.resolveInjectorInitializers(),r}function k2(n,t=null,e=null,i,r=new Set){const o=[e||un,yY(n)];return i=i||("object"==typeof n?void 0:Je(n)),new Ef(o,t||q0(),i||null,r)}let $i=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=al;static#t=this.NULL=new dD;static create(e,i){if(Array.isArray(e))return R2({name:""},i,e,"");{const r=e.name??"";return R2({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>F(f2)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function kD(n){return n.ngOriginalError}class Ms{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&kD(t);for(;e&&kD(e);)e=kD(e);return e||null}}function MD(n){return t=>{setTimeout(n,void 0,t)}}const Pe=class QY extends z{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=MD(o),r&&(r=MD(r)),s&&(s=MD(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof pt&&t.add(a),a}};function N2(...n){}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function XY(){const n="function"==typeof Mn.requestAnimationFrame;let t=Mn[n?"requestAnimationFrame":"setTimeout"],e=Mn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tQ(n){const t=()=>{!function eQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,OD(n),n.isCheckStableRunning=!0,ND(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),OD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function iQ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return O2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),P2(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return O2(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),P2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,OD(n),ND(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new q(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,JY,N2,N2);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const JY={};function ND(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function OD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function O2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function P2(n){n._nesting--,ND(n)}class nQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const F2=new ae("",{providedIn:"root",factory:L2});function L2(){const n=Te(He);let t=!0;return x(new ut(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ut(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{He.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(oe()))}function wl(n){return n instanceof Function?n():n}let PD=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function e_(n){for(;n;){n[It]|=64;const t=$g(n);if(jb(n)&&!t)return n;n=t}return null}const H2=new ae("",{providedIn:"root",factory:()=>!1});let tw=null;function G2(n,t){return n[t]??Z2()}function q2(n,t){const e=Z2();e.producerNode?.length&&(n[t]=tw,e.lView=n,tw=K2())}const fQ={...qb,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{e_(n.lView)},lView:null};function K2(){return Object.create(fQ)}function Z2(){return tw??=K2(),tw}const At={};function H(n){Y2(an(),ge(),Br()+n,!1)}function Y2(n,t,e,i){if(!i)if(3==(3&t[It])){const o=n.preOrderCheckHooks;null!==o&&_c(t,o,e)}else{const o=n.preOrderHooks;null!==o&&yc(t,o,0,e)}Ys(e)}function T(n,t=jt.Default){const e=ge();return null===e?F(n,t):Qs(sr(),e,V(n),t)}function kf(){throw new Error("invalid")}function nw(n,t,e,i,r,o,s,a,l,c,u){const f=t.blueprint.slice();return f[ni]=r,f[It]=140|i,(null!==c||n&&2048&n[It])&&(f[It]|=2048),Kh(f),f[ii]=f[Ia]=n,f[pi]=e,f[Ca]=s||n&&n[Ca],f[Tt]=a||n&&n[Tt],f[Ea]=l||n&&n[Ea]||null,f[Er]=o,f[Pu]=function gZ(){return mZ++}(),f[Ks]=u,f[Lh]=c,f[Ai]=2==t.type?n[Ai]:f,f}function Mf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function FD(n,t,e,i,r){const o=h0(),s=$u(),l=n.data[t]=function wQ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return mc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function f0(){return vt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function _l(){const n=vt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return xs(o,!0),o}function t_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Q2(n,t,e,i,r){const o=G2(t,cc),s=Br(),a=2&i;try{Ys(-1),a&&t.length>Zt&&Y2(n,t,Zt,!1),Fo(a?2:0,r);const c=a?o:null,u=zh(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{gg(c,u)}}finally{a&&null===t[cc]&&q2(t,cc),Ys(s),Fo(a?3:1,r)}}function LD(n,t,e){if(dg(t)){const i=vn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{vn(i)}}}function VD(n,t,e){Qh()&&(function SQ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;pl(e)&&function PQ(n,t,e){const i=Pi(t,n),r=X2(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=iw(n,nw(n,r,null,s,i,t,null,n[Ca].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||C(e,t),eo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Aa(t,n,a,e);eo(c,t),null!==s&&FQ(0,a-r,c,l,0,s),Is(l)&&(Co(e.index,t)[pi]=Aa(t,n,a,e))}}(n,t,e,Pi(e,t)),64==(64&e.flags)&&iL(n,t,e))}function BD(n,t,e=Pi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function X2(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=UD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function UD(n,t,e,i,r,o,s,a,l,c,u){const f=Zt+i,m=f+r,_=function mQ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:At);return e}(f,m),v="function"==typeof c?c():c;return _[Oe]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}let J2=n=>null;function eL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?tL(e,t,r,o):i.hasOwnProperty(r)&&tL(e,t,i[r],o)}return e}function tL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function rs(n,t,e,i,r,o,s,a){const l=Pi(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(WD(n,e,u,i,r),pl(t)&&function IQ(n,t){const e=Co(t,n);16&e[It]||(e[It]|=64)}(e,t.index)):3&t.type&&(i=function CQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function jD(n,t,e,i){if(Qh()){const r=null===i?null:{"":-1},o=function RQ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Nh(t,s.selectors,!1))if(i||(i=[]),Is(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),HD(n,t,a.length)}else i.unshift(s),HD(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nL(n,t,e,s,r,a),r&&function kQ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new q(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=oc(e.mergedAttrs,e.attrs)}function nL(n,t,e,i,r,o){for(let c=0;c<i.length;c++)je(C(e,t),n,i[c].type);!function NQ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=t_(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=oc(e.mergedAttrs,u.hostAttrs),OQ(n,e,t,l,u),MQ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function EQ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],m=e?e.get(f):null,v=m?m.outputs:null;l=eL(f.inputs,u,l,m?m.inputs:null),c=eL(f.outputs,u,c,v);const b=null===l||null===s||kh(t)?null:LQ(l,u,s);a.push(b)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function iL(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function Ax(){return vt.lFrame.currentDirectiveIndex}();try{Ys(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Ag(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AQ(l,c)}}finally{Ys(-1),Ag(s)}}function AQ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function HD(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function MQ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Is(t)&&(e[""]=n)}}function OQ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=dc(r.type)),s=new vl(o,Is(r),T);n.blueprint[i]=s,e[i]=s,function xQ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function DQ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,t_(n,e,r.hostVars,At),r)}function ka(n,t,e,i,r,o){const s=Pi(n,t);!function zD(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ge(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[Tt],s,o,n.value,e,i,r)}function FQ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)rL(i,e,s[a++],s[a++],s[a++])}function rL(n,t,e,i,r){const o=vn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{vn(o)}}function LQ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function oL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function sL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];Rg(e[i]),s.contentQueries(2,t[o],o)}}}function iw(n,t){return n[dl]?n[Bb][ts]=t:n[dl]=t,n[Bb]=t,t}function $D(n,t,e){Rg(0);const i=vn(null);try{t(n,e)}finally{vn(i)}}function aL(n){return n[ac]||(n[ac]=[])}function lL(n){return n.cleanup||(n.cleanup=[])}function uL(n,t){const e=n[Ea],i=e?e.get(Ms,null):null;i&&i.handleError(t)}function WD(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];rL(n.data[s],t[s],i,a,r)}}function El(n,t,e){const i=qh(t,n);!function UF(n,t,e){n.setValue(t,e)}(n[Tt],i,e)}function VQ(n,t){const e=Co(t,n),i=e[Oe];!function BQ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ni];null!==r&&null===e[Ks]&&(e[Ks]=DD(r,e[Ea])),GD(i,e,e[pi])}function GD(n,t,e){gc(t);try{const i=n.viewQuery;null!==i&&$D(1,i,e);const r=n.template;null!==r&&Q2(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sL(n,t),n.staticViewQueries&&$D(2,n.viewQuery,e);const o=n.components;null!==o&&function UQ(n,t){for(let e=0;e<t.length;e++)VQ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[It]&=-5,kg()}}let dL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function _x(n,t,e){const i=Object.create(yx);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Zb(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Vu(i))return;i.hasRun=!0;const s=zh(i);try{i.cleanupFn(),i.cleanupFn=t0,i.fn(r)}finally{gg(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function rw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Qi(r,a):2==o&&(i=Qi(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function n_(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(Hn(o)),or(o)&&hL(o,i);const s=e.type;if(8&s)n_(n,t,e.child,i);else if(32&s){const a=Yx(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=ZF(t,e);if(Array.isArray(a))i.push(...a);else{const l=$g(t[Ai]);n_(l[Oe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function hL(n,t){for(let e=Cr;e<n.length;e++){const i=n[e],r=i[Oe].firstChild;null!==r&&n_(i[Oe],i,r,t)}n[Cs]!==n[ni]&&t.push(n[Cs])}function ow(n,t,e,i=!0){const r=t[Ca],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{fL(n,t,n.template,e)}catch(l){throw i&&uL(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function fL(n,t,e,i){const r=t[It];if(256!=(256&r)){t[Ca].effectManager?.flush(),gc(t);try{Kh(t),function Sg(n){return vt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Q2(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&_c(t,c,null)}else{const c=n.preOrderHooks;null!==c&&yc(t,c,0,null),Og(t,0)}if(function zQ(n){for(let t=LF(n);null!==t;t=VF(t)){if(!t[Ub])continue;const e=t[uc];for(let i=0;i<e.length;i++){Cx(e[i])}}}(t),pL(t,2),null!==n.contentQueries&&sL(n,t),s){const c=n.contentCheckHooks;null!==c&&_c(t,c)}else{const c=n.contentHooks;null!==c&&yc(t,c,1),Og(t,1)}!function pQ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=G2(t,fl);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Ys(~o);else{const s=o,a=e[++r],l=e[++r];Sx(a,s),i.dirty=!1;const c=zh(i);try{l(2,t[s])}finally{gg(i,c)}}}}finally{null===t[fl]&&q2(t,fl),Ys(-1)}}(n,t);const a=n.components;null!==a&&gL(t,a,0);const l=n.viewQuery;if(null!==l&&$D(2,l,i),s){const c=n.viewCheckHooks;null!==c&&_c(t,c)}else{const c=n.viewHooks;null!==c&&yc(t,c,2),Og(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[It]&=-73,Zh(t)}finally{kg()}}}function pL(n,t){for(let e=LF(n);null!==e;e=VF(e))for(let i=Cr;i<e.length;i++)mL(e[i],t)}function $Q(n,t,e){mL(Co(t,n),e)}function mL(n,t){if(!function a0(n){return 128==(128&n[It])}(n))return;const e=n[Oe],i=n[It];if(80&i&&0===t||1024&i||2===t)fL(e,n,e.template,n[pi]);else if(n[ul]>0){pL(n,1);const r=e.components;null!==r&&gL(n,r,1)}}function gL(n,t,e){for(let i=0;i<t.length;i++)$Q(n,t[i],e)}class i_{get rootNodes(){const t=this._lView,e=t[Oe];return n_(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pi]}set context(t){this._lView[pi]=t}get destroyed(){return 256==(256&this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ii];if(or(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(L0(t,i),D0(e,i))}this._attachedToViewContainer=!1}Xx(this._lView[Oe],this._lView)}onDestroy(t){!function Yh(n,t){if(256==(256&n[It]))throw new q(911,!1);null===n[Ta]&&(n[Ta]=[]),n[Ta].push(t)}(this._lView,t)}markForCheck(){e_(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-129}reattach(){this._lView[It]|=128}detectChanges(){ow(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RZ(n,t){Gg(n,t,t[Tt],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=t}}class WQ extends i_{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ow(t[Oe],t,t[pi],!1)}checkNoChanges(){}get context(){return null}}class _L extends Jg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=en(t);return new r_(e,this.ngModule)}}function yL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class qQ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Dh(i);const r=this.injector.get(t,RD,i);return r!==RD||e===RD?r:this.parentInjector.get(t,e,i)}}class r_ extends I2{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=yL(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return yL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Lb(n){return n.map(og).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Io?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new qQ(t,o):t,a=s.get(Df,null);if(null===a)throw new q(407,!1);const f={rendererFactory:a,sanitizer:s.get(zY,null),effectManager:s.get(dL,null),afterRenderEventManager:s.get(PD,null)},m=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=i?function gQ(n,t,e,i){const o=i.get(H2,!1)||e===Oo.ShadowDom,s=n.selectRootElement(t,o);return function _Q(n){J2(n)}(s),s}(m,i,this.componentDef.encapsulation,s):F0(m,_,function GQ(n){const t=n.toLowerCase();return"svg"===t?Hu:"math"===t?"math":null}(_)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==v&&(A=DD(v,s,!0));const B=UD(0,null,null,1,0,null,null,null,null,null,null),Z=nw(null,B,null,N,null,null,f,m,s,null,A);let ue,De;gc(Z);try{const Be=this.componentDef;let ht,mn=null;Be.findHostDirectiveDefs?(ht=[],mn=new Map,Be.findHostDirectiveDefs(Be,ht,mn),ht.push(Be)):ht=[Be];const gn=function ZQ(n,t){const e=n[Oe],i=Zt;return n[i]=t,Mf(e,i,2,"#host",null)}(Z,v),Ki=function YQ(n,t,e,i,r,o,s){const a=r[Oe];!function QQ(n,t,e,i){for(const r of n)t.mergedAttrs=oc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(rw(t,t.mergedAttrs,!0),null!==e&&JF(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=DD(t,r[Ea]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=nw(r,X2(e),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&HD(a,n,i.length-1),iw(r,f),r[n.index]=f}(gn,v,Be,ht,Z,f,m);De=s0(B,Zt),v&&function JQ(n,t,e,i){if(i)Xm(n,e,["ng-version",x2.full]);else{const{attrs:r,classes:o}=function sg(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!wo(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Xm(n,e,r),o&&o.length>0&&XF(n,e,o.join(" "))}}(m,Be,v,i),void 0!==e&&function eX(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(De,this.ngContentSelectors,e),ue=function XQ(n,t,e,i,r,o){const s=sr(),a=r[Oe],l=Pi(s,r);nL(a,r,s,e,null,i);for(let u=0;u<e.length;u++)eo(Aa(r,a,s.directiveStart+u,s),r);iL(a,r,s),l&&eo(l,r);const c=Aa(r,a,s.directiveStart+s.componentOffset,s);if(n[pi]=r[pi]=c,null!==o)for(const u of o)u(c,t);return LD(a,s,n),c}(Ki,Be,ht,mn,Z,[tX]),GD(B,Z,null)}finally{kg()}return new KQ(this.componentType,ue,xf(De,Z),Z,De)}}class KQ extends LY{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new WQ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;WD(o[Oe],o,r,t,e),this.previousInputValues.set(t,e),e_(Co(this._tNode.index,o))}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function tX(){const n=sr();nf(ge()[Oe],n)}function Ke(n){let t=function vL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Is(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new q(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=sw(n.inputs),s.inputTransforms=sw(n.inputTransforms),s.declaredInputs=sw(n.declaredInputs),s.outputs=sw(n.outputs);const a=r.hostBindings;a&&oX(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&iX(n,l),c&&rX(n,c),kn(n.inputs,r.inputs),kn(n.declaredInputs,r.declaredInputs),kn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),kn(s.inputTransforms,r.inputTransforms)),Is(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ke&&(e=!1)}}t=Object.getPrototypeOf(t)}!function nX(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=oc(r.hostAttrs,e=oc(e,r.hostAttrs))}}(i)}function sw(n){return n===ws?{}:n===un?[]:n}function iX(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function rX(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function oX(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function CL(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function aw(n){return!!qD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function qD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ma(n,t,e){return n[t]=e}function to(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ed(n,t,e,i){const r=to(n,t,e);return to(n,t+1,i)||r}function lw(n,t,e,i,r){const o=ed(n,t,e,i);return to(n,t+2,r)||o}function Pt(n,t,e,i){const r=ge();return to(r,yl(),t)&&(an(),ka(mi(),r,n,t,e,i)),Pt}function Of(n,t,e,i){return to(n,yl(),e)?t+Ge(e)+i:At}function se(n,t,e,i,r,o,s,a){const l=ge(),c=an(),u=n+Zt,f=c.firstCreatePass?function AX(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Mf(t,n,4,s||null,Da(c,a));jD(t,e,u,Da(c,l)),nf(t,u);const f=u.tView=UD(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];xs(f,!1);const m=FL(c,l,f,n);tf()&&B0(c,l,m,f),eo(m,l),iw(l,l[u]=oL(m,l,m,f)),hg(f)&&VD(c,l,f),null!=s&&BD(l,f,a)}let FL=function LL(n,t,e,i){return Sa(!0),t[Tt].createComment("")};function lr(n){return fc(function Dg(){return vt.lFrame.contextLView}(),Zt+n)}function W(n,t,e){const i=ge();return to(i,yl(),t)&&rs(an(),mi(),i,n,t,i[Tt],e,!1),W}function JD(n,t,e,i,r){const s=r?"class":"style";WD(n,e,t.inputs[s],s,i)}function M(n,t,e,i){const r=ge(),o=an(),s=Zt+n,a=r[Tt],l=o.firstCreatePass?function NX(n,t,e,i,r,o){const s=t.consts,l=Mf(t,n,2,i,Da(s,r));return jD(t,e,l,Da(s,o)),null!==l.attrs&&rw(l,l.attrs,!1),null!==l.mergedAttrs&&rw(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=VL(o,r,l,a,t,n);r[s]=c;const u=hg(l);return xs(l,!0),JF(a,c,l),32!=(32&l.flags)&&tf()&&B0(o,r,c,l),0===function Ix(){return vt.lFrame.elementDepthCount}()&&eo(c,r),function Tg(){vt.lFrame.elementDepthCount++}(),u&&(VD(o,r,l),LD(o,l,r)),null!==i&&BD(r,l),M}function O(){let n=sr();$u()?Wu():(n=n.parent,xs(n,!1));const t=n;(function c0(n){return vt.skipHydrationRootTNode===n})(t)&&function xx(){vt.skipHydrationRootTNode=null}(),function xg(){vt.lFrame.elementDepthCount--}();const e=an();return e.firstCreatePass&&(nf(e,n),dg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function sf(n){return 0!=(8&n.flags)}(t)&&JD(e,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function I0(n){return 0!=(16&n.flags)}(t)&&JD(e,t,ge(),t.stylesWithoutHost,!1),O}function rt(n,t,e,i){return M(n,t,e,i),O(),rt}let VL=(n,t,e,i,r,o)=>(Sa(!0),F0(i,r,function Ng(){return vt.lFrame.currentNamespace}()));function Bo(n,t,e){const i=ge(),r=an(),o=n+Zt,s=r.firstCreatePass?function FX(n,t,e,i,r){const o=t.consts,s=Da(o,i),a=Mf(t,n,8,"ng-container",s);return null!==s&&rw(a,s,!0),jD(t,e,a,Da(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];xs(s,!0);const a=BL(r,i,s,n);return i[o]=a,tf()&&B0(r,i,a,s),eo(a,i),hg(s)&&(VD(r,i,s),LD(r,s,i)),null!=e&&BD(i,s),Bo}function Uo(){let n=sr();const t=an();return $u()?Wu():(n=n.parent,xs(n,!1)),t.firstCreatePass&&(nf(t,n),dg(n)&&t.queries.elementEnd(n)),Uo}let BL=(n,t,e,i)=>(Sa(!0),Qx(t[Tt],""));function bn(){return ge()}function u_(n){return!!n&&"function"==typeof n.then}function UL(n){return!!n&&"function"==typeof n.subscribe}function xe(n,t,e,i){const r=ge(),o=an(),s=sr();return function HL(n,t,e,i,r,o,s){const a=hg(i),c=n.firstCreatePass&&lL(n),u=t[pi],f=aL(t);let m=!0;if(3&i.type||s){const b=Pi(i,t),I=s?s(b):b,N=f.length,A=s?Z=>s(Hn(Z[i.index])):i.index;let B=null;if(!s&&a&&(B=function BX(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[ac],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,m=!1;else{o=$L(i,t,u,o,!1);const Z=e.listen(I,r,o);f.push(o,Z),c&&c.push(r,A,N,N+1)}}else o=$L(i,t,u,o,!1);const _=i.outputs;let v;if(m&&null!==_&&(v=_[r])){const b=v.length;if(b)for(let I=0;I<b;I+=2){const ue=t[v[I]][v[I+1]].subscribe(o),De=f.length;f.push(o,ue),c&&c.push(r,i.index,De,-(De+1))}}}(o,r,r[Tt],s,n,t,i),xe}function zL(n,t,e,i){try{return Fo(6,t,e),!1!==e(i)}catch(r){return uL(n,r),!1}finally{Fo(7,t,e)}}function $L(n,t,e,i,r){return function o(s){if(s===Function)return i;e_(n.componentOffset>-1?Co(n.index,t):t);let l=zL(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=zL(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function re(n=1){return function Rx(n){return(vt.lFrame.contextLView=function kx(n,t){for(;n>0;)t=t[Ia],n--;return t}(n,vt.lFrame.contextLView))[pi]}(n)}function UX(n,t){let e=null;const i=function Fb(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Nh(n,o,!0):ig(i,o))return r}else e=r}return e}function no(n){const t=ge()[Ai][Er];if(!t.projection){const i=t.projection=Ug(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?UX(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function dn(n,t=0,e){const i=ge(),r=an(),o=Mf(r,Zt+n,16,null,e||null);null===o.projection&&(o.projection=t),Wu(),(!i[Ks]||mc())&&32!=(32&o.flags)&&function VZ(n,t,e){QF(t[Tt],0,t,e,eD(n,e,t),WF(e.parent||t[Er],e,t))}(r,i,o)}function hw(n,t,e){return fw(n,"",t,"",e),hw}function fw(n,t,e,i,r){const o=ge(),s=Of(o,t,e,i);return s!==At&&rs(an(),mi(),o,n,s,o[Tt],r,!1),fw}function pw(n,t){return n<<17|t<<2}function Ic(n){return n>>17&32767}function e1(n){return 2|n}function td(n){return(131068&n)>>2}function t1(n,t){return-131069&n|t<<2}function n1(n){return 1|n}function JL(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ic(o):td(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];GX(n[a],t)&&(l=!0,n[a+1]=i?n1(u):e1(u)),a=i?Ic(u):td(u)}l&&(n[e+1]=i?e1(o):n1(o))}function GX(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&gf(n,t)>=0}const cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eV(n){return n.substring(cr.key,cr.keyEnd)}function tV(n,t){const e=cr.textEnd;return e===t?-1:(t=cr.keyEnd=function YX(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,cr.key=t,e),Hf(n,t,e))}function Hf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function nd(n,t,e){return Js(n,t,e,!1),nd}function ct(n,t){return Js(n,t,null,!0),ct}function Tc(n){ea(oJ,Pa,n,!0)}function Pa(n,t){for(let e=function KX(n){return function iV(n){cr.key=0,cr.keyEnd=0,cr.value=0,cr.valueEnd=0,cr.textEnd=n.length}(n),tV(n,Hf(n,0,cr.textEnd))}(t);e>=0;e=tV(t,e))ns(n,eV(t),!0)}function Js(n,t,e,i){const r=ge(),o=an(),s=Zs(2);o.firstUpdatePass&&aV(o,n,s,i),t!==At&&to(r,s,t)&&cV(o,o.data[Br()],r,r[Tt],n,r[s+1]=function aJ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Je(is(n)))),n}(t,e),i,s)}function ea(n,t,e,i){const r=an(),o=Zs(2);r.firstUpdatePass&&aV(r,null,o,i);const s=ge();if(e!==At&&to(s,o,e)){const a=r.data[Br()];if(dV(a,i)&&!sV(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Qi(l,e||"")),JD(r,a,s,e,i)}else!function sJ(n,t,e,i,r,o,s,a){r===At&&(r=un);let l=0,c=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const m=l<r.length?r[l+1]:void 0,_=c<o.length?o[c+1]:void 0;let b,v=null;u===f?(l+=2,c+=2,m!==_&&(v=f,b=_)):null===f||null!==u&&u<f?(l+=2,v=u):(c+=2,v=f,b=_),null!==v&&cV(n,t,e,i,v,b,s,a),u=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[Tt],s[o+1],s[o+1]=function rJ(n,t,e){if(null==e||""===e)return un;const i=[],r=is(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function sV(n,t){return t>=n.expandoStartIndex}function aV(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Br()],s=sV(n,e);dV(o,i)&&null===t&&!s&&(t=!1),t=function eJ(n,t,e,i){const r=function Gu(n){const t=vt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=d_(e=r1(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=r1(r,n,t,e,i),null===o){let l=function tJ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==td(i))return n[Ic(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=r1(null,n,t,l[1],i),l=d_(l,t.attrs,i),function nJ(n,t,e,i){n[Ic(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function iJ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=d_(i,n[o].hostAttrs,e);return d_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function $X(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ic(s),l=td(s);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||gf(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const m=Ic(n[a+1]);n[i+1]=pw(m,a),0!==m&&(n[m+1]=t1(n[m+1],i)),n[a+1]=function HX(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=pw(a,0),0!==a&&(n[a+1]=t1(n[a+1],i)),a=i;else n[i+1]=pw(l,0),0===a?a=i:n[l+1]=t1(n[l+1],i),l=i;c&&(n[i+1]=e1(n[i+1])),JL(n,u,i,!0),JL(n,u,i,!1),function WX(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&gf(o,t)>=0&&(e[i+1]=n1(e[i+1]))}(t,u,n,i,o),s=pw(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function r1(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=d_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function d_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ns(n,s,!!e||t[++o]))}return void 0===n?null:n}function oJ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ns(n,i,e)}function cV(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function zX(n){return 1==(1&n)}(c)?uV(l,t,e,r,td(c),s):void 0;mw(u)||(mw(o)||function jX(n){return 2==(2&n)}(c)&&(o=uV(l,null,e,r,a,s)),function UZ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Ec.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ec.Important),n.setStyle(e,i,r,o))}}(i,s,qh(Br(),e),r,o))}function uV(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let m=e[r+1];m===At&&(m=f?un:void 0);let _=f?jx(m,i):u===i?m:void 0;if(c&&!mw(_)&&(_=jx(l,i)),mw(_)&&(a=_,s))return a;const v=n[r+1];r=s?Ic(v):td(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=jx(l,i))}return a}function mw(n){return void 0!==n}function dV(n,t){return 0!=(n.flags&(t?8:16))}function ce(n,t=""){const e=ge(),i=an(),r=n+Zt,o=i.firstCreatePass?Mf(i,r,1,t,null):i.data[r],s=hV(i,e,o,t,n);e[r]=s,tf()&&B0(i,e,s,o),xs(o,!1)}let hV=(n,t,e,i,r)=>(Sa(!0),function P0(n,t){return n.createText(t)}(t[Tt],i));function ri(n){return ur("",n,""),ri}function ur(n,t,e){const i=ge(),r=Of(i,n,t,e);return r!==At&&El(i,Br(),r),ur}function o1(n,t,e,i,r){const o=ge(),s=function Pf(n,t,e,i,r,o){const a=ed(n,Ds(),e,r);return Zs(2),a?t+Ge(e)+i+Ge(r)+o:At}(o,n,t,e,i,r);return s!==At&&El(o,Br(),s),o1}function s1(n,t,e,i,r,o,s){const a=ge(),l=function Ff(n,t,e,i,r,o,s,a){const c=lw(n,Ds(),e,r,s);return Zs(3),c?t+Ge(e)+i+Ge(r)+o+Ge(s)+a:At}(a,n,t,e,i,r,o,s);return l!==At&&El(a,Br(),l),s1}function Hr(n,t,e){const i=ge();return to(i,yl(),t)&&rs(an(),mi(),i,n,t,i[Tt],e,!0),Hr}const id=void 0;var SJ=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DJ(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let zf={};function To(n){const t=function AJ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=kV(t);if(e)return e;const i=t.split("-")[0];if(e=kV(i),e)return e;if("en"===i)return SJ;throw new q(701,!1)}function kV(n){return n in zf||(zf[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),zf[n]}var oi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(oi||{});const $f="en-US";let MV=$f;function c1(n,t,e,i,r){if(n=V(n),Array.isArray(n))for(let o=0;o<n.length;o++)c1(n[o],t,e,i,r);else{const o=an(),s=ge(),a=sr();let l=Ju(n)?n:V(n.provide);const c=v2(n),u=1048575&a.providerIndexes,f=a.directiveStart,m=a.providerIndexes>>20;if(Ju(n)||!n.multi){const _=new vl(c,r,T),v=d1(l,t,r?u:u+m,f);-1===v?(je(C(a,s),o,l),u1(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[v]=_,s[v]=_)}else{const _=d1(l,t,u+m,f),v=d1(l,t,u,u+m),I=v>=0&&e[v];if(r&&!I||!r&&!(_>=0&&e[_])){je(C(a,s),o,l);const N=function xee(n,t,e,i,r){const o=new vl(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,iB(o,r,i&&!e),o}(r?Tee:Iee,e.length,r,i,c);!r&&I&&(e[v].providerFactory=N),u1(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),s.push(N)}else u1(o,n,_>-1?_:v,iB(e[r?v:_],c,!r&&i));!r&&i&&I&&e[v].componentProviders++}}}function u1(n,t,e,i){const r=Ju(t),o=function bY(n){return!!n.useClass}(t);if(r||o){const l=(o?V(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function iB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function d1(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Iee(n,t,e,i){return h1(this.multi,[])}function Tee(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Aa(e,e[Oe],this.providerFactory.index,i);o=a.slice(0,s),h1(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],h1(r,o);return o}function h1(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Cee(n,t,e){const i=an();if(i.firstCreatePass){const r=Is(n);c1(e,i.data,i.blueprint,r,!0),c1(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class rd{}class rB{}class f1 extends rd{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _L(this);const r=Lr(t);this._bootstrapComponents=wl(r.bootstrap),this._r3Injector=k2(t,e,[{provide:rd,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver},...i],Je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class p1 extends rB{constructor(t){super(),this.moduleType=t}create(t){return new f1(this.moduleType,t,[])}}class oB extends rd{constructor(t){super(),this.componentFactoryResolver=new _L(this),this.instance=null;const e=new Ef([...t.providers,{provide:rd,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver}],t.parent||q0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function m1(n,t,e=null){return new oB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Aee=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=m2(0,e.type),r=i.length>0?m1([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(F(Io))})}return n})();function Ho(n){n.getStandaloneInjector=t=>t.get(Aee).getOrCreateStandaloneInjector(n)}function bw(n,t,e){const i=Vr()+n,r=ge();return r[i]===At?Ma(r,i,e?t.call(e):t()):function s_(n,t){return n[t]}(r,i)}function Cl(n,t,e,i){return function hB(n,t,e,i,r,o){const s=t+e;return to(n,s,r)?Ma(n,s+1,o?i.call(o,r):i(r)):y_(n,s+1)}(ge(),Vr(),n,t,e,i)}function od(n,t,e,i,r){return fB(ge(),Vr(),n,t,e,i,r)}function ww(n,t,e,i,r,o){return function pB(n,t,e,i,r,o,s,a){const l=t+e;return lw(n,l,r,o,s)?Ma(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):y_(n,l+3)}(ge(),Vr(),n,t,e,i,r,o)}function y_(n,t){const e=n[t];return e===At?void 0:e}function fB(n,t,e,i,r,o,s){const a=t+e;return ed(n,a,r,o)?Ma(n,a+2,s?i.call(s,r,o):i(r,o)):y_(n,a+2)}function v_(n,t){const e=an();let i;const r=n+Zt;e.firstCreatePass?(i=function $ee(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=dc(i.type)),a=Jr(T);try{const l=lf(!1),c=o();return lf(l),function MX(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ge(),r,c),c}finally{Jr(a)}}function b_(n,t,e,i){const r=n+Zt,o=ge(),s=fc(o,r);return function w_(n,t){return n[Oe].data[t].pure}(o,r)?fB(o,Vr(),t,s.transform,e,i,s):s.transform(e,i)}function Zee(){return this._results[Symbol.iterator]()}class E_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Pe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=E_.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Zee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function As(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zK(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Qee(n,t,e,i=!0){const r=t[Oe];if(function MZ(n,t,e,i){const r=Cr+i,o=e.length;i>0&&(e[r-1][ts]=t),i<o-Cr?(t[ts]=e[r],gF(e,Cr+i,t)):(e.push(t),t[ts]=null),t[ii]=e;const s=t[hl];null!==s&&e!==s&&function NZ(n,t){const e=n[uc];t[Ai]!==t[ii][ii][Ai]&&(n[Ub]=!0),null===e?n[uc]=[t]:e.push(t)}(s,t);const a=t[Po];null!==a&&a.insertView(n),t[It]|=128}(r,t,n,e),i){const o=nD(e,n),s=t[Tt],a=V0(s,n[Cs]);null!==a&&function AZ(n,t,e,i,r,o){i[ni]=r,i[Er]=t,Gg(n,i,e,1,r,o)}(r,n[Er],s,t,a,o)}}let hn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ete}return n})();const Xee=hn,Jee=class extends Xee{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Yee(n,t,e,i){const r=t.tView,a=nw(n,r,e,4096&n[It]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[hl]=n[t.index];const c=n[Po];return null!==c&&(a[Po]=c.createEmbeddedView(r)),GD(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new i_(r)}};function ete(){return Ew(sr(),ge())}function Ew(n,t){return 4&n.type?new Jee(t,n,xf(n,t)):null}let Xi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ste}return n})();function ste(){return CB(sr(),ge())}const ate=Xi,wB=class extends ate{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return xf(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const t=ye(this._hostTNode,this._hostLView);if(Pg(t)){const e=Zu(t,this._hostLView),i=Ku(t);return new Ir(e[Oe].data[i+8],e)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=EB(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function Bg(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const l=s?t:new r_(en(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const I=(s?c:this.parentInjector).get(Io,null);I&&(o=I)}en(l.componentType??{});const _=l.create(c,r,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Ex(n){return or(n[ii])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[ii],u=new wB(c,c[Er],c[ii]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Qee(a,r,s,!i),t.attachToViewContainerRef(),gF(_1(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=EB(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=L0(this._lContainer,e);i&&(D0(_1(this._lContainer),e),Xx(i[Oe],i))}detach(t){const e=this._adjustIndex(t,-1),i=L0(this._lContainer,e);return i&&null!=D0(_1(this._lContainer),e)?new i_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function EB(n){return n[8]}function _1(n){return n[8]||(n[8]=[])}function CB(n,t){let e;const i=t[n.index];return or(i)?e=i:(e=oL(i,t,null,n),t[n.index]=e,iw(t,e)),IB(e,t,n,i),new wB(e,n,t)}let IB=function TB(n,t,e,i){if(n[Cs])return;let r;r=8&e.type?Hn(i):function lte(n,t){const e=n[Tt],i=e.createComment(""),r=Pi(t,n);return Qu(e,V0(e,r),i,function LZ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Cs]=r};class y1{constructor(t){this.queryList=t,this.matches=null}clone(){return new y1(this.queryList)}setDirty(){this.queryList.setDirty()}}class v1{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new v1(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==RB(t,e).matches&&this.queries[e].setDirty()}}class xB{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class b1{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new b1(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class w1{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new w1(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,dte(e,o)),this.matchTNodeWithReadOption(t,e,bc(e,t,o,!1,!1))}else i===hn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===it||r===Xi||r===hn&&4&e.type)this.addMatch(e.index,-2);else{const o=bc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function dte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function fte(n,t,e,i){return-1===e?function hte(n,t){return 11&n.type?xf(n,t):4&n.type?Ew(n,t):null}(t,n):-2===e?function pte(n,t,e){return e===it?xf(t,n):e===hn?Ew(t,n):e===Xi?CB(t,n):void 0}(n,t,i):Aa(n,n[Oe],e,t)}function DB(n,t,e,i){const r=t[Po].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:fte(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function E1(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=DB(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let f=Cr;f<u.length;f++){const m=u[f];m[hl]===m[ii]&&E1(m[Oe],m,c,i)}if(null!==u[uc]){const f=u[uc];for(let m=0;m<f.length;m++){const _=f[m];E1(_[Oe],_,c,i)}}}}}return i}function Le(n){const t=ge(),e=an(),i=p0();Rg(i+1);const r=RB(e,i);if(n.dirty&&function Cg(n){return 4==(4&n[It])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?E1(e,t,i,[]):DB(e,t,r,i);n.reset(o,jY),n.notifyOnChanges()}return!0}return!1}function En(n,t,e){const i=an();i.firstCreatePass&&(AB(i,new xB(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),SB(i,ge(),t)}function Ft(n,t,e,i){const r=an();if(r.firstCreatePass){const o=sr();AB(r,new xB(t,e,i),o.index),function gte(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}SB(r,ge(),e)}function Ve(){return function mte(n,t){return n[Po].queries[t].queryList}(ge(),p0())}function SB(n,t,e){const i=new E_(4==(4&e));(function bQ(n,t,e,i){const r=aL(t);r.push(e),n.firstCreatePass&&lL(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Po]&&(t[Po]=new v1),t[Po].queries.push(new y1(i))}function AB(n,t,e){null===n.queries&&(n.queries=new b1),n.queries.track(new w1(t,e))}function RB(n,t){return n.queries.getByIndex(t)}function zo(n,t){return Ew(n,t)}const S1=new ae("Application Initializer");let A1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Te(S1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(u_(o))e.push(o);else if(UL(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qB=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Os=new ae("LocaleId",{providedIn:"root",factory:()=>Te(Os,jt.Optional|jt.SkipSelf)||function Lte(){return typeof $localize<"u"&&$localize.locale||$f}()});let Tw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new w(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ute{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let KB=(()=>{class n{compileModuleSync(e){return new p1(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=wl(Lr(e).declarations).reduce((s,a)=>{const l=en(a);return l&&s.push(new r_(l)),s},[]);return new Ute(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const XB=new ae(""),Dw=new ae("");let O1,M1=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,O1||(function lne(n){O1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(F(He),F(N1),F(Dw))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),N1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return O1?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),xc=null;const JB=new ae("AllowMultipleToken"),P1=new ae("PlatformDestroyListeners"),F1=new ae("appBootstrapListener");class tU{constructor(t,e){this.name=t,this.token=e}}function iU(n,t,e=[]){const i=`Platform: ${t}`,r=new ae(i);return(o=[])=>{let s=L1();if(!s||s.injector.get(JB,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function dne(n){if(xc&&!xc.get(JB,!1))throw new q(400,!1);(function eU(){!function fx(n){hx=n}(()=>{throw new q(600,!1)})})(),xc=n;const t=n.get(oU);(function nU(n){n.get(b2,null)?.forEach(e=>e())})(n)}(function rU(n=[],t){return $i.create({name:t,providers:[{provide:mD,useValue:"platform"},{provide:P1,useValue:new Set([()=>xc=null])},...n]})}(a,i))}return function fne(n){const t=L1();if(!t)throw new q(401,!1);return t}()}}function L1(){return xc?.get(oU)??null}let oU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function pne(n="zone.js",t){return"noop"===n?new nQ:"zone.js"===n?new He(t):n}(i?.ngZone,function sU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function See(n,t,e){return new f1(n,t,e)}(e.moduleType,this.injector,function dU(n){return[{provide:He,useFactory:n},{provide:Zg,multi:!0,useFactory:()=>{const t=Te(gne,{optional:!0});return()=>t.initialize()}},{provide:uU,useFactory:mne},{provide:F2,useFactory:L2}]}(()=>r)),s=o.injector.get(Ms,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Sw(this._modules,o),a.unsubscribe()})}),function aU(n,t,e){try{const i=e();return u_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(A1);return a.runInitializers(),a.donePromise.then(()=>(function NV(n){wr(n,"Expected localeId to be defined"),"string"==typeof n&&(MV=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Os,$f)||$f),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=lU({},i);return function cne(n,t,e){const i=new p1(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ta);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new q(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(P1,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(F($i))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function lU(n,t){return Array.isArray(t)?t.reduce(lU,n):{...n,...t}}let ta=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(uU),this.zoneIsStable=Te(F2),this.componentTypes=[],this.components=[],this.isStable=Te(Tw).hasPendingTasks.pipe(Ue(e=>e?R(!1):this.zoneIsStable),dt(),oe()),this._injector=Te(Io)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof I2;if(!this._injector.get(A1).done)throw!r&&function sc(n){const t=en(n)||ir(n)||rr(n);return null!==t&&t.standalone}(e),new q(405,!1);let s;s=r?e:this._injector.get(Jg).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function une(n){return n.isBoundToModule}(s)?void 0:this._injector.get(rd),c=s.create($i.NULL,[],i||s.selector,a),u=c.location.nativeElement,f=c.injector.get(XB,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Sw(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Sw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(F1,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Sw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new q(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const uU=new ae("",{providedIn:"root",factory:()=>Te(Ms).handleError.bind(void 0)});function mne(){const n=Te(He),t=Te(Ms);return e=>n.runOutsideAngular(()=>t.handleError(e))}let gne=(()=>{class n{constructor(){this.zone=Te(He),this.applicationRef=Te(ta)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let dr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yne}return n})();function yne(n){return function vne(n,t,e){if(pl(n)&&!e){const i=Co(n.index,t);return new i_(i,i)}return 47&n.type?new i_(t[Ai],t):null}(sr(),ge(),16==(16&n))}class gU{constructor(){}supports(t){return aw(t)}create(t){return new Tne(t)}}const Ine=(n,t)=>t;class Tne{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ine}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<yU(i,r,o)?e:i,a=yU(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){const _=m<o.length?o[m]:o[m]=0,v=_+m;u<=v&&v<c&&(o[m]=_+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!aw(t))throw new q(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function dX(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new xne(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _U),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _U),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xne{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dne{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class _U{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Dne,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class vU{constructor(){}supports(t){return t instanceof Map||qD(t)}create(){return new Sne}}class Sne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||qD(t)))throw new q(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Ane(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ane{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bU(){return new Il([new gU])}let Il=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:bU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||bU()),deps:[[n,new jg,new Rs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new q(901,!1)}}return n})();function wU(){return new T_([new vU])}let T_=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:wU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||wU()),deps:[[n,new jg,new Rs]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new q(901,!1)}}return n})();const Mne=iU(null,"core",[]);let Nne=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(F(ta))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();function qf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function z1(n,t){const e=en(n),i=t.elementInjector||q0();return new r_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let $1=null;function Dc(){return $1}class qne{}const wt=new ae("DocumentToken");let W1=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(Zne)},providedIn:"platform"})}return n})();const Kne=new ae("Location Initialized");let Zne=(()=>{class n extends W1{constructor(){super(),this._doc=Te(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dc().getBaseHref(this._doc)}onPopState(e){const i=Dc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Dc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function G1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function RU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Tl(n){return n&&"?"!==n[0]?"?"+n:n}let ad=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(MU)},providedIn:"root"})}return n})();const kU=new ae("appBaseHref");let MU=(()=>{class n extends ad{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Te(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G1(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Tl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Tl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Tl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(W1),F(kU,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yne=(()=>{class n extends ad{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=G1(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Tl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Tl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(W1),F(kU,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),Mw=(()=>{class n{constructor(e){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Jne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(RU(NU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Tl(i))}normalize(e){return n.stripTrailingSlash(function Xne(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,NU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Tl;static#t=this.joinWithSlash=G1;static#n=this.stripTrailingSlash=RU;static#i=this.\u0275fac=function(i){return new(i||n)(F(ad))};static#r=this.\u0275prov=pe({token:n,factory:function(){return function Qne(){return new Mw(F(ad))}()},providedIn:"root"})}return n})();function NU(n){return n.replace(/\/index.html$/,"")}var Tr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Tr||{}),wn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(wn||{}),os=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(os||{}),Wi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Wi||{});function Ow(n,t){return Fs(To(n)[oi.DateFormat],t)}function Pw(n,t){return Fs(To(n)[oi.TimeFormat],t)}function Fw(n,t){return Fs(To(n)[oi.DateTimeFormat],t)}function Ps(n,t){const e=To(n),i=e[oi.NumberSymbols][t];if(typeof i>"u"){if(t===Wi.CurrencyDecimal)return e[oi.NumberSymbols][Wi.Decimal];if(t===Wi.CurrencyGroup)return e[oi.NumberSymbols][Wi.Group]}return i}function FU(n){if(!n[oi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[oi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fs(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Z1(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const die=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,x_={},hie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xl=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xl||{}),Tn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Tn||{}),xn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(xn||{});function LU(n,t,e,i){let r=function wie(n){if(UU(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Lw(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(die))return function Eie(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!UU(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Dl(e,t)||t;let a,s=[];for(;t;){if(a=hie.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=BU(i,l),r=function bie(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function vie(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(BU(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const f=function yie(n){if(Q1[n])return Q1[n];let t;switch(n){case"G":case"GG":case"GGG":t=si(xn.Eras,wn.Abbreviated);break;case"GGGG":t=si(xn.Eras,wn.Wide);break;case"GGGGG":t=si(xn.Eras,wn.Narrow);break;case"y":t=Ji(Tn.FullYear,1,0,!1,!0);break;case"yy":t=Ji(Tn.FullYear,2,0,!0,!0);break;case"yyy":t=Ji(Tn.FullYear,3,0,!1,!0);break;case"yyyy":t=Ji(Tn.FullYear,4,0,!1,!0);break;case"Y":t=jw(1);break;case"YY":t=jw(2,!0);break;case"YYY":t=jw(3);break;case"YYYY":t=jw(4);break;case"M":case"L":t=Ji(Tn.Month,1,1);break;case"MM":case"LL":t=Ji(Tn.Month,2,1);break;case"MMM":t=si(xn.Months,wn.Abbreviated);break;case"MMMM":t=si(xn.Months,wn.Wide);break;case"MMMMM":t=si(xn.Months,wn.Narrow);break;case"LLL":t=si(xn.Months,wn.Abbreviated,Tr.Standalone);break;case"LLLL":t=si(xn.Months,wn.Wide,Tr.Standalone);break;case"LLLLL":t=si(xn.Months,wn.Narrow,Tr.Standalone);break;case"w":t=Y1(1);break;case"ww":t=Y1(2);break;case"W":t=Y1(1,!0);break;case"d":t=Ji(Tn.Date,1);break;case"dd":t=Ji(Tn.Date,2);break;case"c":case"cc":t=Ji(Tn.Day,1);break;case"ccc":t=si(xn.Days,wn.Abbreviated,Tr.Standalone);break;case"cccc":t=si(xn.Days,wn.Wide,Tr.Standalone);break;case"ccccc":t=si(xn.Days,wn.Narrow,Tr.Standalone);break;case"cccccc":t=si(xn.Days,wn.Short,Tr.Standalone);break;case"E":case"EE":case"EEE":t=si(xn.Days,wn.Abbreviated);break;case"EEEE":t=si(xn.Days,wn.Wide);break;case"EEEEE":t=si(xn.Days,wn.Narrow);break;case"EEEEEE":t=si(xn.Days,wn.Short);break;case"a":case"aa":case"aaa":t=si(xn.DayPeriods,wn.Abbreviated);break;case"aaaa":t=si(xn.DayPeriods,wn.Wide);break;case"aaaaa":t=si(xn.DayPeriods,wn.Narrow);break;case"b":case"bb":case"bbb":t=si(xn.DayPeriods,wn.Abbreviated,Tr.Standalone,!0);break;case"bbbb":t=si(xn.DayPeriods,wn.Wide,Tr.Standalone,!0);break;case"bbbbb":t=si(xn.DayPeriods,wn.Narrow,Tr.Standalone,!0);break;case"B":case"BB":case"BBB":t=si(xn.DayPeriods,wn.Abbreviated,Tr.Format,!0);break;case"BBBB":t=si(xn.DayPeriods,wn.Wide,Tr.Format,!0);break;case"BBBBB":t=si(xn.DayPeriods,wn.Narrow,Tr.Format,!0);break;case"h":t=Ji(Tn.Hours,1,-12);break;case"hh":t=Ji(Tn.Hours,2,-12);break;case"H":t=Ji(Tn.Hours,1);break;case"HH":t=Ji(Tn.Hours,2);break;case"m":t=Ji(Tn.Minutes,1);break;case"mm":t=Ji(Tn.Minutes,2);break;case"s":t=Ji(Tn.Seconds,1);break;case"ss":t=Ji(Tn.Seconds,2);break;case"S":t=Ji(Tn.FractionalSeconds,1);break;case"SS":t=Ji(Tn.FractionalSeconds,2);break;case"SSS":t=Ji(Tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Bw(xl.Short);break;case"ZZZZZ":t=Bw(xl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bw(xl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bw(xl.Long);break;default:return null}return Q1[n]=t,t}(u);c+=f?f(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Lw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Dl(n,t){const e=function tie(n){return To(n)[oi.LocaleId]}(n);if(x_[e]=x_[e]||{},x_[e][t])return x_[e][t];let i="";switch(t){case"shortDate":i=Ow(n,os.Short);break;case"mediumDate":i=Ow(n,os.Medium);break;case"longDate":i=Ow(n,os.Long);break;case"fullDate":i=Ow(n,os.Full);break;case"shortTime":i=Pw(n,os.Short);break;case"mediumTime":i=Pw(n,os.Medium);break;case"longTime":i=Pw(n,os.Long);break;case"fullTime":i=Pw(n,os.Full);break;case"short":const r=Dl(n,"shortTime"),o=Dl(n,"shortDate");i=Vw(Fw(n,os.Short),[r,o]);break;case"medium":const s=Dl(n,"mediumTime"),a=Dl(n,"mediumDate");i=Vw(Fw(n,os.Medium),[s,a]);break;case"long":const l=Dl(n,"longTime"),c=Dl(n,"longDate");i=Vw(Fw(n,os.Long),[l,c]);break;case"full":const u=Dl(n,"fullTime"),f=Dl(n,"fullDate");i=Vw(Fw(n,os.Full),[u,f])}return i&&(x_[e][t]=i),i}function Vw(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function na(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Ji(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function pie(n,t){switch(n){case Tn.FullYear:return t.getFullYear();case Tn.Month:return t.getMonth();case Tn.Date:return t.getDate();case Tn.Hours:return t.getHours();case Tn.Minutes:return t.getMinutes();case Tn.Seconds:return t.getSeconds();case Tn.FractionalSeconds:return t.getMilliseconds();case Tn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Tn.Hours)0===a&&-12===e&&(a=12);else if(n===Tn.FractionalSeconds)return function fie(n,t){return na(n,3).substring(0,t)}(a,t);const l=Ps(s,Wi.MinusSign);return na(a,t,l,i,r)}}function si(n,t,e=Tr.Format,i=!1){return function(r,o){return function mie(n,t,e,i,r,o){switch(e){case xn.Months:return function q1(n,t,e){const i=To(n),o=Fs([i[oi.MonthsFormat],i[oi.MonthsStandalone]],t);return Fs(o,e)}(t,r,i)[n.getMonth()];case xn.Days:return function PU(n,t,e){const i=To(n),o=Fs([i[oi.DaysFormat],i[oi.DaysStandalone]],t);return Fs(o,e)}(t,r,i)[n.getDay()];case xn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function sie(n){const t=To(n);return FU(t),(t[oi.ExtraData][2]||[]).map(i=>"string"==typeof i?Z1(i):[Z1(i[0]),Z1(i[1])])}(t),u=function aie(n,t,e){const i=To(n);FU(i);const o=Fs([i[oi.ExtraData][0],i[oi.ExtraData][1]],t)||[];return Fs(o,e)||[]}(t,r,i),f=c.findIndex(m=>{if(Array.isArray(m)){const[_,v]=m,b=s>=_.hours&&a>=_.minutes,I=s<v.hours||s===v.hours&&a<v.minutes;if(_.hours<v.hours){if(b&&I)return!0}else if(b||I)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(-1!==f)return u[f]}return function nie(n,t,e){const i=To(n),o=Fs([i[oi.DayPeriodsFormat],i[oi.DayPeriodsStandalone]],t);return Fs(o,e)}(t,r,i)[s<12?0:1];case xn.Eras:return function iie(n,t){return Fs(To(n)[oi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Bw(n){return function(t,e,i){const r=-1*i,o=Ps(e,Wi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case xl.Short:return(r>=0?"+":"")+na(s,2,o)+na(Math.abs(r%60),2,o);case xl.ShortGMT:return"GMT"+(r>=0?"+":"")+na(s,1,o);case xl.Long:return"GMT"+(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);case xl.Extended:return 0===i?"Z":(r>=0?"+":"")+na(s,2,o)+":"+na(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const gie=0,Uw=4;function VU(n){return Lw(n.getFullYear(),n.getMonth(),n.getDate()+(Uw-n.getDay()))}function Y1(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=VU(e),s=function _ie(n){const t=Lw(n,gie,1).getDay();return Lw(n,0,1+(t<=Uw?Uw:Uw+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return na(r,n,Ps(i,Wi.MinusSign))}}function jw(n,t=!1){return function(e,i){return na(VU(e).getFullYear(),n,Ps(i,Wi.MinusSign),t)}}const Q1={};function BU(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function UU(n){return n instanceof Date&&!isNaN(n.valueOf())}function $U(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const iS=/\s+/,WU=[];let Sl=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=WU,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(iS):WU}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(iS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(iS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Il),T(T_),T(it),T(Vo))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Pie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ss=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Pie(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),qU(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(Il))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function qU(n,t){n.context.$implicit=t.item}let hr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Fie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){KU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){KU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Fie{constructor(){this.$implicit=null,this.ngIf=null}}function KU(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Je(t)}'.`)}class rS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let S_=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),oS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new rS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(S_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),ZU=(()=>{class n{constructor(e,i,r){r._addDefault(new rS(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi),T(hn),T(S_,9))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Sc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xi))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Yn]})}return n})();const Zie=new ae("DATE_PIPE_DEFAULT_TIMEZONE"),Yie=new ae("DATE_PIPE_DEFAULT_OPTIONS");let QU=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return LU(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function ia(n,t){return new q(2100,!1)}()}}static#e=this.\u0275fac=function(i){return new(i||n)(T(Os,16),T(Zie,24),T(Yie,24))};static#t=this.\u0275pipe=zi({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Zf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const JU="browser";function zw(n){return"server"===n}let ure=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new dre(F(wt),window)})}return n})();class dre{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hre(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ej{}class Pre extends qne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class uS extends Pre{static makeCurrent(){!function Gne(n){$1||($1=n)}(new uS)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fre(){return R_=R_||document.querySelector("base"),R_?R_.getAttribute("href"):null}();return null==e?null:function Lre(n){Gw=Gw||document.createElement("a"),Gw.setAttribute("href",n);const t=Gw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){R_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $U(document.cookie,t)}}let Gw,R_=null,Bre=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const dS=new ae("EventManagerPlugins");let oj=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(F(dS),F(He))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class sj{constructor(t){this._doc=t}}const hS="ng-app-id";let aj=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zw(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${hS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(hS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(hS,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(Yg),F(vD,8),F(ks))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const fS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pS=/%COMP%/g,zre=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cj(n,t){return t.map(e=>e.replace(pS,n))}let mS=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=zw(a),this.defaultRenderer=new gS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oo.ShadowDom&&(i={...i,encapsulation:Oo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof dj?r.applyToHost(e):r instanceof _S&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Oo.Emulated:o=new dj(l,c,i,this.appId,u,s,a,f);break;case Oo.ShadowDom:return new qre(l,c,e,i,s,a,this.nonce,f);default:o=new _S(l,c,i,u,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(F(oj),F(aj),F(Yg),F(zre),F(wt),F(ks),F(He),F(vD))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class gS{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(fS[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(uj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(uj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new q(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=fS[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=fS[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ec.DashCase|Ec.Important)?t.style.setProperty(e,i,r&Ec.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ec.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Dc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function uj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qre extends gS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=cj(r.id,r.styles);for(const u of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _S extends gS{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?cj(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dj extends _S{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function $re(n){return"_ngcontent-%COMP%".replace(pS,n)}(c),this.hostAttr=function Wre(n){return"_nghost-%COMP%".replace(pS,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Kre=(()=>{class n extends sj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const hj=["alt","control","meta","shift"],Zre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qre=(()=>{class n extends sj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),hj.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=Zre[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hj.forEach(s=>{s!==r&&(0,Yre[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const pj=[{provide:ks,useValue:JU},{provide:b2,useValue:function Xre(){uS.makeCurrent()},multi:!0},{provide:wt,useFactory:function eoe(){return function WZ(n){oD=n}(document),document},deps:[]}],toe=iU(Mne,"browser",pj),noe=new ae(""),mj=[{provide:Dw,useClass:class Vre{addToWindow(t){Mn.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new q(5103,!1);return o},Mn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mn.getAllAngularRootElements=()=>t.getAllRootElements(),Mn.frameworkStabilizers||(Mn.frameworkStabilizers=[]),Mn.frameworkStabilizers.push(i=>{const r=Mn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Dc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:XB,useClass:M1,deps:[He,N1,Dw]},{provide:M1,useClass:M1,deps:[He,N1,Dw]}],gj=[{provide:mD,useValue:"root"},{provide:Ms,useFactory:function Jre(){return new Ms},deps:[]},{provide:dS,useClass:Kre,multi:!0,deps:[wt,He,ks]},{provide:dS,useClass:Qre,multi:!0,deps:[wt]},mS,aj,oj,{provide:Df,useExisting:mS},{provide:ej,useClass:Bre,deps:[]},[]];let _j=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Yg,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(F(noe,12))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[...gj,...mj],imports:[Zf,Nne]})}return n})(),yj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function roe(){return new yj(F(wt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let vS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new(i||n):F(wj),r},providedIn:"root"})}return n})(),wj=(()=>{class n extends vS{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case jr.NONE:return i;case jr.HTML:return Ra(i,"HTML")?is(i):u2(this._doc,String(i)).toString();case jr.STYLE:return Ra(i,"Style")?is(i):i;case jr.SCRIPT:if(Ra(i,"Script"))return is(i);throw new q(5200,!1);case jr.URL:return Ra(i,"URL")?is(i):z0(String(i));case jr.RESOURCE_URL:if(Ra(i,"ResourceURL"))return is(i);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(e){return function XZ(n){return new GZ(n)}(e)}bypassSecurityTrustStyle(e){return function JZ(n){return new qZ(n)}(e)}bypassSecurityTrustScript(e){return function eY(n){return new KZ(n)}(e)}bypassSecurityTrustUrl(e){return function tY(n){return new ZZ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function nY(n){return new YZ(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:function(i){let r=null;return r=i?new i:function loe(n){return new wj(n.get(wt))}(F($i)),r},providedIn:"root"})}return n})();const{isArray:coe}=Array,{getPrototypeOf:uoe,prototype:doe,keys:hoe}=Object;function Cj(n){if(1===n.length){const t=n[0];if(coe(t))return{args:t,keys:null};if(function foe(n){return n&&"object"==typeof n&&uoe(n)===doe}(t)){const e=hoe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:poe}=Array;function bS(n){return Ie(t=>function moe(n,t){return poe(t)?n(...t):n(t)}(n,t))}function Ij(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Tj(...n){const t=mo(n),{args:e,keys:i}=Cj(n),r=new ut(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let f=!1;be(e[u]).subscribe(Se(o,m=>{f||(f=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?Ij(i,a):a),o.complete())}))}});return t?r.pipe(bS(t)):r}let xj=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(it))};static#t=this.\u0275dir=X({type:n})}return n})(),ld=(()=>{class n extends xj{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,features:[Ke]})}return n})();const as=new ae("NgValueAccessor"),goe={provide:as,useExisting:G(()=>wS),multi:!0};let wS=(()=>{class n extends ld{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&xe("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[bt([goe]),Ke]})}return n})();const _oe={provide:as,useExisting:G(()=>Al),multi:!0},voe=new ae("CompositionEventMode");let Al=(()=>{class n extends xj{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yoe(){const n=Dc()?Dc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(it),T(voe,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bt([_oe]),Ke]})}return n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Dj(n){return null!=n&&"number"==typeof n.length}const xr=new ae("NgValidators"),kc=new ae("NgAsyncValidators"),boe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class k_{static min(t){return function Sj(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Aj(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Rj(t)}static requiredTrue(t){return function kj(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return Mj(t)}static minLength(t){return function Nj(n){return t=>Rc(t.value)||!Dj(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Oj(n){return t=>Dj(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Pj(n){if(!n)return qw;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Rc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return jj(t)}static composeAsync(t){return Hj(t)}}function Rj(n){return Rc(n.value)?{required:!0}:null}function Mj(n){return Rc(n.value)||boe.test(n.value)?null:{email:!0}}function qw(n){return null}function Fj(n){return null!=n}function Lj(n){return u_(n)?E(n):n}function Vj(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Bj(n,t){return t.map(e=>e(n))}function Uj(n){return n.map(t=>function woe(n){return!n.validate}(t)?t:e=>t.validate(e))}function jj(n){if(!n)return null;const t=n.filter(Fj);return 0==t.length?null:function(e){return Vj(Bj(e,t))}}function ES(n){return null!=n?jj(Uj(n)):null}function Hj(n){if(!n)return null;const t=n.filter(Fj);return 0==t.length?null:function(e){return Tj(Bj(e,t).map(Lj)).pipe(Ie(Vj))}}function CS(n){return null!=n?Hj(Uj(n)):null}function zj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $j(n){return n._rawValidators}function Wj(n){return n._rawAsyncValidators}function IS(n){return n?Array.isArray(n)?n:[n]:[]}function Kw(n,t){return Array.isArray(n)?n.includes(t):n===t}function Gj(n,t){const e=IS(t);return IS(n).forEach(r=>{Kw(e,r)||e.push(r)}),e}function qj(n,t){return IS(t).filter(e=>!Kw(n,e))}class Kj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ES(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Do extends Kj{get formDirective(){return null}get path(){return null}}class Fa extends Kj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mc=(()=>{class n extends Zj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Fa,2))};static#t=this.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ct("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ke]})}return n})(),M_=(()=>{class n extends Zj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Do,10))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ct("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ke]})}return n})();const N_="VALID",Yw="INVALID",Yf="PENDING",O_="DISABLED";function DS(n){return(Qw(n)?n.validators:n)||null}function SS(n,t){return(Qw(t)?t.asyncValidators:n)||null}function Qw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Jj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===N_}get invalid(){return this.status===Yw}get pending(){return this.status==Yf}get disabled(){return this.status===O_}get enabled(){return this.status!==O_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Gj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Gj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qj(t,this._rawAsyncValidators))}hasValidator(t){return Kw(this._rawValidators,t)}hasAsyncValidator(t){return Kw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=O_,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=N_,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N_||this.status===Yf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O_:N_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yf,this._hasOwnPendingAsyncValidator=!0;const e=Lj(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?O_:this.errors?Yw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yf)?Yf:this._anyControlsHaveStatus(Yw)?Yw:N_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Toe(n){return Array.isArray(n)?ES(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function xoe(n){return Array.isArray(n)?CS(n):n||null}(this._rawAsyncValidators)}}class Xw extends Jj{constructor(t,e,i){super(DS(e),SS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Xj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new q(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Qj(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new q(1e3,"");if(!i[e])throw new q(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const cd=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>P_}),P_="always";function Jw(n,t){return[...t.path,n]}function F_(n,t,e=P_){AS(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Aoe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eH(n,t)})}(n,t),function koe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Roe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eH(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Soe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function eE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),nE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AS(n,t){const e=$j(n);null!==t.validator?n.setValidators(zj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Wj(n);null!==t.asyncValidator?n.setAsyncValidators(zj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();tE(t._rawValidators,r),tE(t._rawAsyncValidators,r)}function nE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=$j(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Wj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return tE(t._rawValidators,i),tE(t._rawAsyncValidators,i),e}function eH(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tH(n,t){AS(n,t)}function kS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function nH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function MS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Al?e=o:function Ooe(n){return Object.getPrototypeOf(n.constructor)===ld}(o)?i=o:r=o}),r||i||e||null}const Foe={provide:Do,useExisting:G(()=>Nc)},L_=(()=>Promise.resolve())();let Nc=(()=>{class n extends Do{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Xw({},ES(e),CS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){L_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),F_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){L_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){L_.then(()=>{const i=this._findContainer(e.path),r=new Xw({});tH(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){L_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){L_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(T(xr,10),T(kc,10),T(cd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Foe]),Ke]})}return n})();function iH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function rH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Oc=class extends Jj{constructor(t=null,e,i){super(DS(e),SS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Boe={provide:Fa,useExisting:G(()=>Pc)},aH=(()=>Promise.resolve())();let Pc=(()=>{class n extends Fa{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Oc,this._registered=!1,this.name="",this.update=new Pe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=MS(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),kS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){F_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){aH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&qf(i);aH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Jw(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(T(Do,9),T(xr,10),T(kc,10),T(as,10),T(dr,8),T(cd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([Boe]),Ke,Yn]})}return n})(),V_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Uoe={provide:as,useExisting:G(()=>NS),multi:!0};let NS=(()=>{class n extends ld{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&xe("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[bt([Uoe]),Ke]})}return n})();const joe={provide:as,useExisting:G(()=>OS),multi:!0};let lH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Hoe=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:lH})}return n})(),OS=(()=>{class n extends ld{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Te(cd,{optional:!0})??P_}ngOnInit(){this._control=this._injector.get(Fa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Vo),T(it),T(Hoe),T($i))};static#t=this.\u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&xe("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[bt([joe]),Ke]})}return n})();const PS=new ae("NgModelWithFormControlWarning"),Woe={provide:Do,useExisting:G(()=>Qf)};let Qf=(()=>{class n extends Do{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return F_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){eE(e.control||null,e,!1),function Poe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(eE(i||null,e),(n=>n instanceof Oc)(r)&&(F_(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);tH(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Moe(n,t){return nE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AS(this.form,this),this._oldForm&&nE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(T(xr,10),T(kc,10),T(cd,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([Woe]),Ke,Yn]})}return n})();const Koe={provide:Fa,useExisting:G(()=>VS)};let VS=(()=>{class n extends Fa{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=MS(0,o)}ngOnChanges(e){this._added||this._setUpControl(),kS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Jw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(T(Do,13),T(xr,10),T(kc,10),T(as,10),T(PS,8))};static#n=this.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([Koe]),Ke,Yn]})}return n})(),ud=(()=>{class n{constructor(){this._validator=qw}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):qw,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,features:[Yn]})}return n})();const ise={provide:xr,useExisting:G(()=>iE),multi:!0};let iE=(()=>{class n extends ud{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qf,this.createValidator=e=>Rj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},features:[bt([ise]),Ke]})}return n})();const ose={provide:xr,useExisting:G(()=>HS),multi:!0};let HS=(()=>{class n extends ud{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=qf,this.createValidator=e=>Mj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=X({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[bt([ose]),Ke]})}return n})(),wH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[lH]})}return n})(),use=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cd,useValue:e.callSetDisabledState??P_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[wH]})}return n})(),dse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:PS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:cd,useValue:e.callSetDisabledState??P_}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[wH]})}return n})();function rE(...n){const t=es(n),e=mo(n),{args:i,keys:r}=Cj(n);if(0===i.length)return E([],t);const o=new ut(function hse(n,t,e=Kn){return i=>{CH(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)CH(t,()=>{const c=E(n[l],t);let u=!1;c.subscribe(Se(i,f=>{o[l]=f,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Ij(r,s):Kn));return e?o.pipe(bS(e)):o}function CH(n,t,e){n?nr(e,n,t):t()}const oE=ie(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xf(...n){return function fse(){return cn(1)}()(E(n,es(n)))}function zS(n){return new ut(t=>{be(n()).subscribe(t)})}function dd(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new ut(t?r=>t.schedule(i,0,r):i)}function $S(){return le((n,t)=>{let e=null;n._refCount++;const i=Se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class WS extends ut{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pt;const e=this.getSubject();t.add(this.source.subscribe(Se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pt.EMPTY)}return t}refCount(){return $S()(this)}}function Qn(n){return n<=0?()=>yn:le((t,e)=>{let i=0;t.subscribe(Se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Fc(...n){const t=es(n);return le((e,i)=>{(t?Xf(n,e,t):Xf(n,e)).subscribe(i)})}function zn(n,t){return le((e,i)=>{let r=0;e.subscribe(Se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function sE(n){return le((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function IH(n=pse){return le((t,e)=>{let i=!1;t.subscribe(Se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pse(){return new oE}function Lc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,Qn(1),e?sE(t):IH(()=>new oE))}function Jf(n,t){return S(t)?Kt(n,t,1):Kt(n,1)}function gi(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?le((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Se(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Kn}function Rl(n){return le((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Se(e,void 0,void 0,s=>{o=be(n(s,Rl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ep(n,t){return le(function mse(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Se(s,u=>{const f=c++;l=a?n(l,u,f):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function GS(n){return n<=0?()=>yn:le((t,e)=>{let i=[];t.subscribe(Se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function TH(n){return Ie(()=>n)}function tp(n){return le((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Et(n){return le((t,e)=>{be(n).subscribe(Se(e,()=>e.complete(),We)),!e.closed&&t.subscribe(e)})}const Lt="primary",B_=Symbol("RouteTitle");class _se{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function np(n){return new _se(n)}function yse(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function La(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!xH(n[r],t[r]))return!1;return!0}function xH(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function DH(n){return n.length>0?n[n.length-1]:null}function Vc(n){return function EH(n){return!!n&&(n instanceof ut||S(n.lift)&&S(n.subscribe))}(n)?n:u_(n)?E(Promise.resolve(n)):R(n)}const bse={exact:function RH(n,t,e){if(!hd(n.segments,t.segments)||!aE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!RH(n.children[i],t.children[i],e))return!1;return!0},subset:kH},SH={exact:function wse(n,t){return La(n,t)},subset:function Ese(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xH(n[e],t[e]))},ignored:()=>!0};function AH(n,t,e){return bse[e.paths](n.root,t.root,e.matrixParams)&&SH[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function kH(n,t,e){return MH(n,t,t.segments,e)}function MH(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!hd(r,e)||t.hasChildren()||!aE(r,e,i))}if(n.segments.length===e.length){if(!hd(n.segments,e)||!aE(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!kH(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(hd(n.segments,r)&&aE(n.segments,r,i)&&n.children[Lt])&&MH(n.children[Lt],t,o,i)}}function aE(n,t,e){return t.every((i,r)=>SH[e](n[r].parameters,i.parameters))}class ip{constructor(t=new Pn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=np(this.queryParams)),this._queryParamMap}toString(){return Tse.serialize(this)}}class Pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lE(this)}}class U_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=np(this.parameters)),this._parameterMap}toString(){return PH(this)}}function hd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let j_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return new qS},providedIn:"root"})}return n})();class qS{parse(t){const e=new Fse(t);return new ip(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${H_(t.root,!0)}`,i=function Sse(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${cE(e)}=${cE(r)}`).join("&"):`${cE(e)}=${cE(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function xse(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Tse=new qS;function lE(n){return n.segments.map(t=>PH(t)).join("/")}function H_(n,t){if(!n.hasChildren())return lE(n);if(t){const e=n.children[Lt]?H_(n.children[Lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Lt&&i.push(`${r}:${H_(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ise(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Lt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Lt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Lt?[H_(n.children[Lt],!1)]:[`${r}:${H_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${lE(n)}/${e[0]}`:`${lE(n)}/(${e.join("//")})`}}function NH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cE(n){return NH(n).replace(/%3B/gi,";")}function KS(n){return NH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uE(n){return decodeURIComponent(n)}function OH(n){return uE(n.replace(/\+/g,"%20"))}function PH(n){return`${KS(n.path)}${function Dse(n){return Object.keys(n).map(t=>`;${KS(t)}=${KS(n[t])}`).join("")}(n.parameters)}`}const Ase=/^[^\/()?;#]+/;function ZS(n){const t=n.match(Ase);return t?t[0]:""}const Rse=/^[^\/()?;=#]+/,Mse=/^[^=?&#]+/,Ose=/^[^&#]+/;class Fse{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new Pn(t,e)),i}parseSegment(){const t=ZS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(t),new U_(uE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function kse(n){const t=n.match(Rse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ZS(this.remaining);r&&(i=r,this.capture(i))}t[uE(e)]=uE(i)}parseQueryParam(t){const e=function Nse(n){const t=n.match(Mse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Pse(n){const t=n.match(Ose);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=OH(e),o=OH(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ZS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Lt]:new Pn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new q(4011,!1)}}function FH(n){return n.segments.length>0?new Pn([],{[Lt]:n}):n}function LH(n){const t={};for(const i of Object.keys(n.children)){const o=LH(n.children[i]);if(i===Lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Lse(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new Pn(n.segments.concat(t.segments),t.children)}return n}(new Pn(n.segments,t))}function fd(n){return n instanceof ip}function VH(n){let t;const r=FH(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new Pn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function BH(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return YS(r,r,r,e,i);const o=function Bse(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new jH(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new jH(e,t,i)}(t);if(o.toRoot())return YS(r,r,new Pn([],{}),e,i);const s=function Use(n,t,e){if(n.isAbsolute)return new hE(t,!0,0);if(!e)return new hE(t,!1,NaN);if(null===e.parent)return new hE(e,!0,0);const i=dE(n.commands[0])?0:1;return function jse(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new hE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?$_(s.segmentGroup,s.index,o.commands):HH(s.segmentGroup,s.index,o.commands);return YS(r,s.segmentGroup,a,e,i)}function dE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function z_(n){return"object"==typeof n&&null!=n&&n.outlets}function YS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===t?e:UH(n,t,e);const a=FH(LH(s));return new ip(a,o,r)}function UH(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:UH(o,t,e)}),new Pn(n.segments,i)}class jH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dE(i[0]))throw new q(4003,!1);const r=i.find(z_);if(r&&r!==DH(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function HH(n,t,e){if(n||(n=new Pn([],{})),0===n.segments.length&&n.hasChildren())return $_(n,t,e);const i=function zse(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(z_(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!$H(l,c,s))return o;i+=2}else{if(!$H(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Pn(n.segments.slice(0,i.pathIndex),{});return o.children[Lt]=new Pn(n.segments.slice(i.pathIndex),n.children),$_(o,0,r)}return i.match&&0===r.length?new Pn(n.segments,{}):i.match&&!n.hasChildren()?QS(n,t,e):i.match?$_(n,0,r):QS(n,t,e)}function $_(n,t,e){if(0===e.length)return new Pn(n.segments,{});{const i=function Hse(n){return z_(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Lt)&&n.children[Lt]&&1===n.numberOfChildren&&0===n.children[Lt].segments.length){const o=$_(n.children[Lt],t,e);return new Pn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=HH(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Pn(n.segments,r)}}function QS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(z_(o)){const l=$se(o.outlets);return new Pn(i,l)}if(0===r&&dE(e[0])){i.push(new U_(n.segments[t].path,zH(e[0]))),r++;continue}const s=z_(o)?o.outlets[Lt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&dE(a)?(i.push(new U_(s,zH(a))),r+=2):(i.push(new U_(s,{})),r++)}return new Pn(i,{})}function $se(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=QS(new Pn([],{}),0,i))}),t}function zH(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function $H(n,t,e){return n==e.path&&La(t,e.parameters)}const W_="imperative";class Va{constructor(t,e){this.id=t,this.url=e}}class fE extends Va{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bc extends Va{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G_ extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rp extends Va{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class pE extends Va{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WH extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gse extends Va{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kse extends Va{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zse{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yse{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qse{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xse{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jse{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XS{}class JS{constructor(t){this.url=t}}class tae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new q_,this.attachRef=null}}let q_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new tae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=eA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=eA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tA(t,this._root).map(e=>e.value)}}function eA(n,t){if(n===t.value)return t;for(const e of t.children){const i=eA(n,e);if(i)return i}return null}function tA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=tA(n,e);if(i.length)return i.unshift(t),i}return[]}class kl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function op(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class KH extends qH{constructor(t,e){super(t),this.snapshot=e,nA(this,t)}toString(){return this.snapshot.toString()}}function ZH(n,t){const e=function nae(n,t){const s=new mE([],{},{},"",{},Lt,t,null,{});return new QH("",new kl(s,[]))}(0,t),i=new w([new U_("",{})]),r=new w({}),o=new w({}),s=new w({}),a=new w(""),l=new Ml(i,r,s,a,o,Lt,t,e.root);return l.snapshot=e.root,new KH(new kl(l,[]),e)}class Ml{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[B_]))??R(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>np(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>np(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function iae(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mE{get title(){return this.data?.[B_]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=np(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=np(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QH extends qH{constructor(t,e){super(e),this.url=t,nA(this,e)}toString(){return XH(this._root)}}function nA(n,t){t.value._routerState=n,t.children.forEach(e=>nA(n,e))}function XH(n){const t=n.children.length>0?` { ${n.children.map(XH).join(", ")} } `:"";return`${n.value}${t}`}function iA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,La(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),La(t.params,e.params)||n.paramsSubject.next(e.params),function vse(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!La(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),La(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rA(n,t){const e=La(n.params,t.params)&&function Cse(n,t){return hd(n,t)&&n.every((e,i)=>La(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||rA(n.parent,t.parent))}let gE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=Te(q_),this.location=Te(Xi),this.changeDetector=Te(dr),this.environmentInjector=Te(Io),this.inputBinder=Te(_E,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rae(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}return n})();class rae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ml?this.route:t===q_?this.childContexts:this.parent.get(t,e)}}const _E=new ae("");let JH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=rE([i.queryParams,i.params,i.data]).pipe(Ue(([o,s,a],l)=>(a={...o,...s,...a},0===l?R(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Wne(n){const t=en(n);if(!t)return null;const e=new r_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function K_(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function sae(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return K_(n,i,r);return K_(n,i)})}(n,t,e);return new kl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>K_(n,a)),s}}const i=function aae(n){return new Ml(new w(n.url),new w(n.params),new w(n.queryParams),new w(n.fragment),new w(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>K_(n,o));return new kl(i,r)}}const oA="ngNavigationCancelingError";function e3(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=fd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=t3(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function t3(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[oA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function n3(n){return n&&n[oA]}let i3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ho],decls:1,vars:0,template:function(i,r){1&i&&rt(0,"router-outlet")},dependencies:[gE],encapsulation:2})}return n})();function sA(n){const t=n.children&&n.children.map(sA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=i3),e}function ra(n){return n.outlet||Lt}function Z_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mae{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),iA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=op(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=op(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=op(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=op(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eae(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xse(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(iA(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iA(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Z_(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class r3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yE{constructor(t,e){this.component=t,this.route=e}}function gae(n,t,e){const i=n._root;return Y_(i,t?t._root:null,e,[i.value])}function sp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Sb(n){return null!==bh(n)}(n)?t.get(n):n:i}function Y_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=op(t);return n.children.forEach(s=>{(function yae(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function vae(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!hd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hd(n.url,t.url)||!La(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rA(n,t)||!La(n.queryParams,t.queryParams);default:return!rA(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new r3(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Y_(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yE(a.outlet.component,s))}else s&&Q_(t,a,r),r.canActivateChecks.push(new r3(i)),Y_(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Q_(a,e.getContext(s),r)),r}function Q_(n,t,e){const i=op(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Q_(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new yE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function X_(n){return"function"==typeof n}function o3(n){return n instanceof oE||"EmptyError"===n?.name}const vE=Symbol("INITIAL_VALUE");function ap(){return Ue(n=>rE(n.map(t=>t.pipe(Qn(1),Fc(vE)))).pipe(Ie(t=>{for(const e of t)if(!0!==e){if(e===vE)return vE;if(!1===e||e instanceof ip)return e}return!0}),zn(t=>t!==vE),Qn(1)))}function s3(n){return function ho(...n){return fo(n)}(gi(t=>{if(fd(t))throw e3(0,t)}),Ie(t=>!0===t))}class bE{constructor(t){this.segmentGroup=t||null}}class a3{constructor(t){this.urlTree=t}}function lp(n){return dd(new bE(n))}function l3(n){return dd(new a3(n))}class Bae{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new q(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return R(i);if(r.numberOfChildren>1||!r.children[Lt])return dd(new q(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ip(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Pn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const aA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uae(n,t,e,i,r){const o=lA(n,t,e);return o.matched?(i=function cae(n,t){return n.providers&&!n._injector&&(n._injector=m1(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Fae(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?R(r.map(s=>{const a=sp(s,n);return Vc(function Tae(n){return n&&X_(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(ap(),s3()):R(!0)}(i,t,e).pipe(Ie(s=>!0===s?o:{...aA}))):R(o)}function lA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...aA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||yse)(e,n,t);if(!r)return{...aA};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function c3(n,t,e,i){return e.length>0&&function zae(n,t,e){return e.some(i=>wE(n,t,i)&&ra(i)!==Lt)}(n,e,i)?{segmentGroup:new Pn(t,Hae(i,new Pn(e,n.children))),slicedSegments:[]}:0===e.length&&function $ae(n,t,e){return e.some(i=>wE(n,t,i))}(n,e,i)?{segmentGroup:new Pn(n.segments,jae(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Pn(n.segments,n.children),slicedSegments:e}}function jae(n,t,e,i,r){const o={};for(const s of i)if(wE(n,e,s)&&!r[ra(s)]){const a=new Pn([],{});o[ra(s)]=a}return{...r,...o}}function Hae(n,t){const e={};e[Lt]=t;for(const i of n)if(""===i.path&&ra(i)!==Lt){const r=new Pn([],{});e[ra(i)]=r}return e}function wE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Kae{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Bae(this.urlSerializer,this.urlTree)}noMatchError(t){return new q(4002,!1)}recognize(){const t=c3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe(Rl(e=>{if(e instanceof a3)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof bE?this.noMatchError(e):e}),Ie(e=>{const i=new mE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new kl(i,e),o=new QH("",r),s=function Vse(n,t,e=null,i=null){return BH(VH(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Lt).pipe(Rl(i=>{throw i instanceof bE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=YH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return E(r).pipe(Jf(o=>{const s=i.children[o],a=function fae(n,t){const e=n.filter(i=>ra(i)===t);return e.push(...n.filter(i=>ra(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),ep((o,s)=>(o.push(...s),o)),sE(null),function gse(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Kn,GS(1),e?sE(t):IH(()=>new oE))}(),Kt(o=>{if(null===o)return lp(i);const s=u3(o);return function Zae(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),R(s)}))}processSegment(t,e,i,r,o,s){return E(e).pipe(Jf(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Rl(l=>{if(l instanceof bE)return R(null);throw l}))),Lc(a=>!!a),Rl(a=>{if(o3(a))return function Gae(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?R([]):lp(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Wae(n,t,e,i){return!!(ra(n)===i||i!==Lt&&wE(t,e,n))&&("**"===n.path||lA(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):lp(r):lp(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?l3(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new Pn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=lA(e,r,o);if(!a)return lp(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?l3(f):this.applyRedirects.lineralizeSegments(r,f).pipe(Kt(m=>this.processSegment(t,i,e,m.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?DH(r).parameters:{};a=R({snapshot:new mE(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d3(i),ra(i),i.component??i._loadedComponent??null,i,h3(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Uae(e,i,r,t).pipe(Ie(({matched:l,consumedSegments:c,remainingSegments:u,parameters:f})=>l?{snapshot:new mE(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d3(i),ra(i),i.component??i._loadedComponent??null,i,h3(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ue(l=>null===l?lp(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ue(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:f,consumedSegments:m,remainingSegments:_}=l,{segmentGroup:v,slicedSegments:b}=c3(e,m,_,c);if(0===b.length&&v.hasChildren())return this.processChildren(u,c,v).pipe(Ie(N=>null===N?null:[new kl(f,N)]));if(0===c.length&&0===b.length)return R([new kl(f,[])]);const I=ra(i)===o;return this.processSegment(u,c,v,b,I?Lt:o,!0).pipe(Ie(N=>[new kl(f,N)]))}))))}getChildConfig(t,e,i){return e.children?R({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?R({routes:e._loadedRoutes,injector:e._loadedInjector}):function Pae(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?R(!0):R(r.map(s=>{const a=sp(s,n);return Vc(function wae(n){return n&&X_(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(ap(),s3())}(t,e,i).pipe(Kt(r=>r?this.configLoader.loadChildren(t,e).pipe(gi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Vae(n){return dd(t3(!1,3))}())):R({routes:[],injector:t})}}function Yae(n){const t=n.value.routeConfig;return t&&""===t.path}function u3(n){const t=[],e=new Set;for(const i of n){if(!Yae(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=u3(i.children);t.push(new kl(i.value,r))}return t.filter(i=>!e.has(i))}function d3(n){return n.data||{}}function h3(n){return n.resolve||{}}function f3(n){return"string"==typeof n.title||null===n.title}function cA(n){return Ue(t=>{const e=n(t);return e?E(e).pipe(Ie(()=>t)):R(t)})}const cp=new ae("ROUTES");let uA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(KB)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Vc(e.loadComponent()).pipe(Ie(p3),gi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),tp(()=>{this.componentLoaders.delete(e)})),r=new WS(i,()=>new z).pipe($S());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ile(n,t,e,i){return Vc(n.loadChildren()).pipe(Ie(p3),Kt(r=>r instanceof rB||Array.isArray(r)?R(r):E(t.compileModuleAsync(r))),Ie(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(cp,[],{optional:!0,self:!0}).flat()),{routes:s.map(sA),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(tp(()=>{this.childrenLoaders.delete(i)})),s=new WS(o,()=>new z).pipe($S());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p3(n){return function rle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let EE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=Te(uA),this.environmentInjector=Te(Io),this.urlSerializer=Te(j_),this.rootContexts=Te(q_),this.inputBindingEnabled=null!==Te(_E,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Yse(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zse(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new w({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zn(o=>0!==o.id),Ie(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{this.currentTransition=o;let s=!1,a=!1;return R(o).pipe(gi(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ue(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new rp(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),yn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(Ue(m=>{const _=this.transitions?.getValue();return this.events.next(new fE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?yn:Promise.resolve(m)}),function Qae(n,t,e,i,r,o){return Kt(s=>function qae(n,t,e,i,r,o,s="emptyOnly"){return new Kae(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(Ie(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),gi(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const _=new WH(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:_,source:v,restoredState:b,extras:I}=l,N=new fE(m,this.urlSerializer.serialize(_),v,b);this.events.next(N);const A=ZH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:A,urlAfterRedirects:_,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},R(o)}{const m="";return this.events.next(new rp(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),yn}}),gi(l=>{const c=new Wse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ie(l=>(this.currentTransition=o={...l,guards:gae(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Dae(n,t){return Kt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?R({...e,guardsResult:!0}):function Sae(n,t,e,i){return E(n).pipe(Kt(r=>function Oae(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?R(o.map(a=>{const l=Z_(t)??r,c=sp(a,l);return Vc(function Iae(n){return n&&X_(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Lc())})).pipe(ap()):R(!0)}(r.component,r.route,e,t,i)),Lc(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function bae(n){return"boolean"==typeof n}(a)?function Aae(n,t,e,i){return E(t).pipe(Jf(r=>Xf(function kae(n,t){return null!==n&&t&&t(new Qse(n)),R(!0)}(r.route.parent,i),function Rae(n,t){return null!==n&&t&&t(new Jse(n)),R(!0)}(r.route,i),function Nae(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function _ae(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>zS(()=>R(s.guards.map(l=>{const c=Z_(s.node)??e,u=sp(l,c);return Vc(function Cae(n){return n&&X_(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Lc())})).pipe(ap())));return R(o).pipe(ap())}(n,r.path,e),function Mae(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return R(!0);const r=i.map(o=>zS(()=>{const s=Z_(t)??e,a=sp(o,s);return Vc(function Eae(n){return n&&X_(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Lc())}));return R(r).pipe(ap())}(n,r.route,e))),Lc(r=>!0!==r,!0))}(i,o,n,t):R(a)),Ie(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),gi(l=>{if(o.guardsResult=l.guardsResult,fd(l.guardsResult))throw e3(0,l.guardsResult);const c=new Gse(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),zn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),cA(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(gi(c=>{const u=new qse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ue(c=>{let u=!1;return R(c).pipe(function Xae(n,t){return Kt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return R(e);let o=0;return E(r).pipe(Jf(s=>function Jae(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!f3(r)&&(o[B_]=r.title),function ele(n,t,e,i){const r=function tle(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return R({});const o={};return E(r).pipe(Kt(s=>function nle(n,t,e,i){const r=Z_(t)??i,o=sp(n,r);return Vc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Lc(),gi(a=>{o[s]=a}))),GS(1),TH(o),Rl(s=>o3(s)?yn:dd(s)))}(o,n,t,i).pipe(Ie(s=>(n._resolvedData=s,n.data=YH(n,e).resolve,r&&f3(r)&&(n.data[B_]=r.title),null)))}(s.route,i,n,t)),gi(()=>o++),GS(1),Kt(s=>o===r.length?R(e):yn))})}(e.paramsInheritanceStrategy,this.environmentInjector),gi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),gi(c=>{const u=new Kse(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),cA(l=>{const c=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(gi(m=>{u.component=m}),Ie(()=>{})));for(const m of u.children)f.push(...c(m));return f};return rE(c(l.targetSnapshot.root)).pipe(sE(),Qn(1))}),cA(()=>this.afterPreactivation()),Ie(l=>{const c=function oae(n,t,e){const i=K_(n,t._root,e?e._root:void 0);return new KH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),gi(()=>{this.events.next(new XS)}),((n,t,e,i)=>Ie(r=>(new mae(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),gi({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Et(this.transitionAbortSubject.pipe(gi(l=>{throw l}))),tp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Rl(l=>{if(a=!0,n3(l))this.events.next(new G_(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function lae(n){return n3(n)&&fd(n.url)}(l)?this.events.next(new JS(l.url)):o.resolve(!1);else{this.events.next(new pE(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return yn}))}))}cancelNavigationTransition(e,i,r){const o=new G_(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m3(n){return n!==W_}let g3=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[B_]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(ole)},providedIn:"root"})}return n})(),ole=(()=>{class n extends g3{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(F(yj))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(lle)},providedIn:"root"})}return n})();class ale{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let lle=(()=>{class n extends ale{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CE=new ae("",{providedIn:"root",factory:()=>({})});let cle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:function(){return Te(ule)},providedIn:"root"})}return n})(),ule=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(J_||{});function _3(n,t){n.events.pipe(zn(e=>e instanceof Bc||e instanceof G_||e instanceof pE||e instanceof rp),Ie(e=>e instanceof Bc||e instanceof rp?J_.COMPLETE:e instanceof G_&&(0===e.code||1===e.code)?J_.REDIRECTING:J_.FAILED),zn(e=>e!==J_.REDIRECTING),Qn(1)).subscribe(()=>{t()})}function dle(n){throw n}function hle(n,t,e){return t.parse("/")}const fle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ple={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Te(qB),this.isNgZoneEnabled=!1,this._events=new z,this.options=Te(CE,{optional:!0})||{},this.pendingTasks=Te(Tw),this.errorHandler=this.options.errorHandler||dle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Te(cle),this.routeReuseStrategy=Te(sle),this.titleStrategy=Te(g3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Te(cp,{optional:!0})?.flat()??[],this.navigationTransitions=Te(EE),this.urlSerializer=Te(j_),this.location=Te(Mw),this.componentInputBindingEnabled=!!Te(_E,{optional:!0}),this.eventsSubscription=new pt,this.isNgZoneEnabled=Te(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ip,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(y3(i)&&this._events.next(i));if(i instanceof fE)m3(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof rp)this.rawUrlTree=r.rawUrl;else if(i instanceof WH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof XS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof G_)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof JS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||m3(r.source)};this.scheduleNavigation(o,W_,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof pE&&this.restoreHistory(r,!0),i instanceof Bc&&(this.navigated=!0),y3(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(sA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=VH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return BH(f,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=fd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,W_,null,i)}navigate(e,i={skipLocationChange:!1}){return function mle(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new q(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...fle}:!1===i?{...ple}:i,fd(e))return AH(this.currentUrlTree,e,r);const o=this.parseUrl(e);return AH(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});const u=this.pendingTasks.add();return _3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y3(n){return!(n instanceof XS||n instanceof JS)}let Uc=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Bc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function h2(n,t,e){return function _Y(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?d2:uD}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Dr),T(Ml),Ss("tabindex"),T(Vo),T(it),T(ad))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&xe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",qf],skipLocationChange:["skipLocationChange","skipLocationChange",qf],replaceUrl:["replaceUrl","replaceUrl",qf],routerLink:"routerLink"},standalone:!0,features:[CL,Yn]})}return n})(),v3=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Bc&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(cn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=E(e).pipe(cn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function gle(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Dr),T(it),T(Vo),T(dr),T(Uc,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&Ft(o,Uc,5),2&i){let s;Le(s=Ve())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yn]})}return n})();class b3{}let _le=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zn(e=>e instanceof Bc),Jf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=m1(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return E(r).pipe(cn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):R(null);const o=r.pipe(Kt(s=>null===s?R(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?E([o,this.loader.loadComponent(i)]).pipe(cn()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(F(Dr),F(KB),F(Io),F(b3),F(uA))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dA=new ae("");let w3=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof rp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof GH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){kf()};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function Nl(n,t){return{\u0275kind:n,\u0275providers:t}}function C3(){const n=Te($i);return t=>{const e=n.get(ta);if(t!==e.components[0])return;const i=n.get(Dr),r=n.get(I3);1===n.get(hA)&&i.initialNavigation(),n.get(T3,null,jt.Optional)?.setUpPreloading(),n.get(dA,null,jt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const I3=new ae("",{factory:()=>new z}),hA=new ae("",{providedIn:"root",factory:()=>1}),T3=new ae("");function wle(n){return Nl(0,[{provide:T3,useExisting:_le},{provide:b3,useExisting:n}])}const x3=new ae("ROUTER_FORROOT_GUARD"),Cle=[Mw,{provide:j_,useClass:qS},Dr,q_,{provide:Ml,useFactory:function E3(n){return n.routerState.root},deps:[Dr]},uA,[]];function Ile(){return new tU("Router",Dr)}let D3=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Cle,[],{provide:cp,multi:!0,useValue:e},{provide:x3,useFactory:Sle,deps:[[Dr,new Rs,new jg]]},{provide:CE,useValue:i||{}},i?.useHash?{provide:ad,useClass:Yne}:{provide:ad,useClass:MU},{provide:dA,useFactory:()=>{const n=Te(ure),t=Te(He),e=Te(CE),i=Te(EE),r=Te(j_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new w3(r,i,n,t,e)}},i?.preloadingStrategy?wle(i.preloadingStrategy).\u0275providers:[],{provide:tU,multi:!0,useFactory:Ile},i?.initialNavigation?Ale(i):[],i?.bindToComponentInputs?Nl(8,[JH,{provide:_E,useExisting:JH}]).\u0275providers:[],[{provide:S3,useFactory:C3},{provide:F1,multi:!0,useExisting:S3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:cp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(F(x3,8))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();function Sle(n){return"guarded"}function Ale(n){return["disabled"===n.initialNavigation?Nl(3,[{provide:S1,multi:!0,useFactory:()=>{const t=Te(Dr);return()=>{t.setUpLocationChangeListener()}}},{provide:hA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Nl(2,[{provide:hA,useValue:0},{provide:S1,multi:!0,deps:[$i],useFactory:t=>{const e=t.get(Kne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Dr),o=t.get(I3);_3(r,()=>{i(!0)}),t.get(EE).afterPreactivation=()=>(i(!0),o.closed?R(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const S3=new ae(""),kle=["addListener","removeListener"],Mle=["addEventListener","removeEventListener"],Nle=["on","off"];function Sr(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return Sr(n,t,e).pipe(bS(i));const[r,o]=function Fle(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?Mle.map(s=>a=>n[s](t,a,e)):function Ole(n){return S(n.addListener)&&S(n.removeListener)}(n)?kle.map(A3(n,t)):function Ple(n){return S(n.on)&&S(n.off)}(n)?Nle.map(A3(n,t)):[];if(!r&&Jt(n))return Kt(s=>Sr(s,t,e))(be(n));if(!r)throw new TypeError("Invalid event target");return new ut(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function A3(n,t){return e=>i=>n[e](t,i)}class Lle extends pt{constructor(t,e){super()}schedule(t,e=0){return this}}const IE={setInterval(n,t,...e){const{delegate:i}=IE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=IE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class TE extends Lle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return IE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&IE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ye(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const fA={now:()=>(fA.delegate||Date).now(),delegate:void 0};class ey{constructor(t,e=ey.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}ey.now=fA.now;class xE extends ey{constructor(t,e=ey.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const pd=new xE(TE),Vle=pd;function pA(n=0,t,e=Vle){let i=-1;return null!=t&&(Zn(t)?e=t:i=t),new ut(r=>{let o=function Ble(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:Ule}=Array;function R3(n){return 1===n.length&&Ule(n[0])?n[0]:n}function k3(...n){return 1===(n=R3(n)).length?be(n[0]):new ut(function jle(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(be(n[i]).subscribe(Se(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function mA(...n){const t=mo(n),e=R3(n);return e.length?new ut(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)be(e[s]).subscribe(Se(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):yn}function DE(...n){const t=mo(n);return le((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)be(n[l]).subscribe(Se(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Kn))&&(s=null))},We));e.subscribe(Se(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}function M3(n,t){return t?e=>Xf(t.pipe(Qn(1),function zle(){return le((n,t)=>{n.subscribe(Se(t,We))})}()),e.pipe(M3(n))):Kt((e,i)=>be(n(e,i)).pipe(Qn(1),TH(e)))}function gA(n){return zn((t,e)=>n<=e)}var ace={left:"right",right:"left",bottom:"top",top:"bottom"};function kE(n){return n.replace(/left|right|bottom|top/g,function(t){return ace[t]})}function Ba(n){return n.split("-")[0]}var lce={start:"end",end:"start"};function z3(n){return n.replace(/start|end/g,function(t){return lce[t]})}var ls="top",oa="bottom",sa="right",cs="left",wA="auto",ny=[ls,oa,sa,cs],dp="start",iy="end",$3="viewport",ry="popper",W3=ny.reduce(function(n,t){return n.concat([t+"-"+dp,t+"-"+iy])},[]),G3=[].concat(ny,[wA]).reduce(function(n,t){return n.concat([t,t+"-"+dp,t+"-"+iy])},[]),bce=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function us(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function md(n){return n instanceof us(n).Element||n instanceof Element}function Ls(n){return n instanceof us(n).HTMLElement||n instanceof HTMLElement}function EA(n){return!(typeof ShadowRoot>"u")&&(n instanceof us(n).ShadowRoot||n instanceof ShadowRoot)}function Hc(n){return((md(n)?n.ownerDocument:n.document)||window.document).documentElement}var gd=Math.max,ME=Math.min,hp=Math.round;function CA(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function q3(){return!/^((?!chrome|android).)*safari/i.test(CA())}function fp(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),r=1,o=1;t&&Ls(n)&&(r=n.offsetWidth>0&&hp(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&hp(i.height)/n.offsetHeight||1);var a=(md(n)?us(n):window).visualViewport,l=!q3()&&e,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:u,right:c+f,bottom:u+m,left:c,x:c,y:u}}function IA(n){var t=us(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function TA(n){return fp(Hc(n)).left+IA(n).scrollLeft}function Ol(n){return us(n).getComputedStyle(n)}function Ua(n){return n?(n.nodeName||"").toLowerCase():null}function NE(n){return"html"===Ua(n)?n:n.assignedSlot||n.parentNode||(EA(n)?n.host:null)||Hc(n)}function xA(n){var t=Ol(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function K3(n){return["html","body","#document"].indexOf(Ua(n))>=0?n.ownerDocument.body:Ls(n)&&xA(n)?n:K3(NE(n))}function oy(n,t){var e;void 0===t&&(t=[]);var i=K3(n),r=i===(null==(e=n.ownerDocument)?void 0:e.body),o=us(i),s=r?[o].concat(o.visualViewport||[],xA(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(oy(NE(s)))}function Cce(n){return["table","td","th"].indexOf(Ua(n))>=0}function Z3(n){return Ls(n)&&"fixed"!==Ol(n).position?n.offsetParent:null}function sy(n){for(var t=us(n),e=Z3(n);e&&Cce(e)&&"static"===Ol(e).position;)e=Z3(e);return e&&("html"===Ua(e)||"body"===Ua(e)&&"static"===Ol(e).position)?t:e||function Ice(n){var t=/firefox/i.test(CA());if(/Trident/i.test(CA())&&Ls(n)&&"fixed"===Ol(n).position)return null;var r=NE(n);for(EA(r)&&(r=r.host);Ls(r)&&["html","body"].indexOf(Ua(r))<0;){var o=Ol(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(n)||t}function Y3(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&EA(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function DA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Q3(n,t,e){return t===$3?DA(function wce(n,t){var e=us(n),i=Hc(n),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=q3();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+TA(n),y:l}}(n,e)):md(t)?function Tce(n,t){var e=fp(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):DA(function Ece(n){var t,e=Hc(n),i=IA(n),r=null==(t=n.ownerDocument)?void 0:t.body,o=gd(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=gd(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+TA(n),l=-i.scrollTop;return"rtl"===Ol(r||e).direction&&(a+=gd(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Hc(n)))}function pp(n){return n.split("-")[1]}function SA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function X3(n){var l,t=n.reference,e=n.element,i=n.placement,r=i?Ba(i):null,o=i?pp(i):null,s=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2;switch(r){case ls:l={x:s,y:t.y-e.height};break;case oa:l={x:s,y:t.y+t.height};break;case sa:l={x:t.x+t.width,y:a};break;case cs:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?SA(r):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case dp:l[c]=l[c]-(t[u]/2-e[u]/2);break;case iy:l[c]=l[c]+(t[u]/2-e[u]/2)}}return l}function ez(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function tz(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}function AA(n,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?n.placement:i,o=t.strategy,s=void 0===o?n.strategy:o,a=t.boundary,l=void 0===a?"clippingParents":a,c=t.rootBoundary,u=void 0===c?$3:c,f=t.elementContext,m=void 0===f?ry:f,_=t.altBoundary,v=void 0!==_&&_,b=t.padding,I=void 0===b?0:b,N=ez("number"!=typeof I?I:tz(I,ny)),B=n.rects.popper,Z=n.elements[v?m===ry?"reference":ry:m],ue=function Dce(n,t,e,i){var r="clippingParents"===t?function xce(n){var t=oy(NE(n)),i=["absolute","fixed"].indexOf(Ol(n).position)>=0&&Ls(n)?sy(n):n;return md(i)?t.filter(function(r){return md(r)&&Y3(r,i)&&"body"!==Ua(r)}):[]}(n):[].concat(t),o=[].concat(r,[e]),a=o.reduce(function(l,c){var u=Q3(n,c,i);return l.top=gd(u.top,l.top),l.right=ME(u.right,l.right),l.bottom=ME(u.bottom,l.bottom),l.left=gd(u.left,l.left),l},Q3(n,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(md(Z)?Z:Z.contextElement||Hc(n.elements.popper),l,u,s),De=fp(n.elements.reference),Be=X3({reference:De,element:B,strategy:"absolute",placement:r}),ht=DA(Object.assign({},B,Be)),mn=m===ry?ht:De,gn={top:ue.top-mn.top+N.top,bottom:mn.bottom-ue.bottom+N.bottom,left:ue.left-mn.left+N.left,right:mn.right-ue.right+N.right},Ki=n.modifiersData.offset;if(m===ry&&Ki){var Qr=Ki[r];Object.keys(gn).forEach(function(Mi){var tl=[sa,oa].indexOf(Mi)>=0?1:-1,nl=[ls,oa].indexOf(Mi)>=0?"y":"x";gn[Mi]+=Qr[nl]*tl})}return gn}const kce={name:"flip",enabled:!0,phase:"main",fn:function Rce(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,l=e.fallbackPlacements,c=e.padding,u=e.boundary,f=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,v=void 0===_||_,b=e.allowedAutoPlacements,I=t.options.placement,N=Ba(I),B=l||(N!==I&&v?function Ace(n){if(Ba(n)===wA)return[];var t=kE(n);return[z3(n),t,z3(t)]}(I):[kE(I)]),Z=[I].concat(B).reduce(function(On,_a){return On.concat(Ba(_a)===wA?function Sce(n,t){void 0===t&&(t={});var r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=void 0===l?G3:l,u=pp(t.placement),f=u?a?W3:W3.filter(function(v){return pp(v)===u}):ny,m=f.filter(function(v){return c.indexOf(v)>=0});0===m.length&&(m=f);var _=m.reduce(function(v,b){return v[b]=AA(n,{placement:b,boundary:r,rootBoundary:o,padding:s})[Ba(b)],v},{});return Object.keys(_).sort(function(v,b){return _[v]-_[b]})}(t,{placement:_a,boundary:u,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:b}):_a)},[]),ue=t.rects.reference,De=t.rects.popper,Be=new Map,ht=!0,mn=Z[0],gn=0;gn<Z.length;gn++){var Ki=Z[gn],Qr=Ba(Ki),Mi=pp(Ki)===dp,tl=[ls,oa].indexOf(Qr)>=0,nl=tl?"width":"height",Ne=AA(t,{placement:Ki,boundary:u,rootBoundary:f,altBoundary:m,padding:c}),Ze=tl?Mi?sa:cs:Mi?oa:ls;ue[nl]>De[nl]&&(Ze=kE(Ze));var ft=kE(Ze),Ht=[];if(o&&Ht.push(Ne[Qr]<=0),a&&Ht.push(Ne[Ze]<=0,Ne[ft]<=0),Ht.every(function(On){return On})){mn=Ki,ht=!1;break}Be.set(Ki,Ht)}if(ht)for(var Xo=function(_a){var _h=Z.find(function(Zi){var No=Be.get(Zi);if(No)return No.slice(0,_a).every(function(uo){return uo})});if(_h)return mn=_h,"break"},_r=v?3:1;_r>0&&"break"!==Xo(_r);_r--);t.placement!==mn&&(t.modifiersData[i]._skip=!0,t.placement=mn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ay(n,t,e){return gd(n,ME(t,e))}function RA(n){var t=fp(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}const Pce={name:"preventOverflow",enabled:!0,phase:"main",fn:function Oce(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,m=e.tether,_=void 0===m||m,v=e.tetherOffset,b=void 0===v?0:v,I=AA(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),N=Ba(t.placement),A=pp(t.placement),B=!A,Z=SA(N),ue=function Mce(n){return"x"===n?"y":"x"}(Z),De=t.modifiersData.popperOffsets,Be=t.rects.reference,ht=t.rects.popper,mn="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,gn="number"==typeof mn?{mainAxis:mn,altAxis:mn}:Object.assign({mainAxis:0,altAxis:0},mn),Ki=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Qr={x:0,y:0};if(De){if(o){var Mi,tl="y"===Z?ls:cs,nl="y"===Z?oa:sa,Ne="y"===Z?"height":"width",Ze=De[Z],ft=Ze+I[tl],Ht=Ze-I[nl],Ni=_?-ht[Ne]/2:0,Xo=A===dp?Be[Ne]:ht[Ne],_r=A===dp?-ht[Ne]:-Be[Ne],vs=t.elements.arrow,On=_&&vs?RA(vs):{width:0,height:0},_a=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_h=_a[tl],Zi=_a[nl],No=ay(0,Be[Ne],On[Ne]),uo=B?Be[Ne]/2-Ni-No-_h-gn.mainAxis:Xo-No-_h-gn.mainAxis,Fm=B?-Be[Ne]/2+Ni+No+Zi+gn.mainAxis:_r+No+Zi+gn.mainAxis,yh=t.elements.arrow&&sy(t.elements.arrow),uRe=yh?"y"===Z?yh.clientTop||0:yh.clientLeft||0:0,IK=null!=(Mi=Ki?.[Z])?Mi:0,hRe=Ze+Fm-IK,TK=ay(_?ME(ft,Ze+uo-IK-uRe):ft,Ze,_?gd(Ht,hRe):Ht);De[Z]=TK,Qr[Z]=TK-Ze}if(a){var xK,vh=De[ue],QT="y"===ue?"height":"width",DK=vh+I["x"===Z?ls:cs],SK=vh-I["x"===Z?oa:sa],UP=-1!==[ls,cs].indexOf(N),AK=null!=(xK=Ki?.[ue])?xK:0,RK=UP?DK:vh-Be[QT]-ht[QT]-AK+gn.altAxis,kK=UP?vh+Be[QT]+ht[QT]-AK-gn.altAxis:SK,MK=_&&UP?function Nce(n,t,e){var i=ay(n,t,e);return i>e?e:i}(RK,vh,kK):ay(_?RK:DK,vh,_?kK:SK);De[ue]=MK,Qr[ue]=MK-vh}t.modifiersData[i]=Qr}},requiresIfExists:["offset"]},Bce={name:"arrow",enabled:!0,phase:"main",fn:function Lce(n){var t,e=n.state,i=n.name,r=n.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Ba(e.placement),l=SA(a),u=[cs,sa].indexOf(a)>=0?"height":"width";if(o&&s){var f=function(t,e){return ez("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:tz(t,ny))}(r.padding,e),m=RA(o),_="y"===l?ls:cs,v="y"===l?oa:sa,b=e.rects.reference[u]+e.rects.reference[l]-s[l]-e.rects.popper[u],I=s[l]-e.rects.reference[l],N=sy(o),A=N?"y"===l?N.clientHeight||0:N.clientWidth||0:0,De=A/2-m[u]/2+(b/2-I/2),Be=ay(f[_],De,A-m[u]-f[v]);e.modifiersData[i]=((t={})[l]=Be,t.centerOffset=Be-De,t)}},effect:function Vce(n){var t=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||Y3(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zce(n,t,e){void 0===e&&(e=!1);var i=Ls(t),r=Ls(t)&&function Hce(n){var t=n.getBoundingClientRect(),e=hp(t.width)/n.offsetWidth||1,i=hp(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),o=Hc(t),s=fp(n,r,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Ua(t)||xA(o))&&(a=function jce(n){return n!==us(n)&&Ls(n)?function Uce(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):IA(n)}(t)),Ls(t)?((l=fp(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=TA(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function $ce(n){var t=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.set(o.name,o)}),n.forEach(function(o){e.has(o.name)||r(o)}),i}function Gce(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var nz={placement:"bottom",modifiers:[],strategy:"absolute"};function iz(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Kce(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,r=n.defaultOptions,o=void 0===r?nz:r;return function(a,l,c){void 0===c&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},nz,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:u,setOptions:function(N){var A="function"==typeof N?N(u.options):N;b(),u.options=Object.assign({},o,u.options,A),u.scrollParents={reference:md(a)?oy(a):a.contextElement?oy(a.contextElement):[],popper:oy(l)};var B=function Wce(n){var t=$ce(n);return bce.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}(function qce(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=B.filter(function(Z){return Z.enabled}),function v(){u.orderedModifiers.forEach(function(I){var A=I.options,Z=I.effect;if("function"==typeof Z){var ue=Z({state:u,name:I.name,instance:_,options:void 0===A?{}:A});f.push(ue||function(){})}})}(),_.update()},forceUpdate:function(){if(!m){var N=u.elements,A=N.reference,B=N.popper;if(iz(A,B)){u.rects={reference:zce(A,sy(B),"fixed"===u.options.strategy),popper:RA(B)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(gn){return u.modifiersData[gn.name]=Object.assign({},gn.data)});for(var Z=0;Z<u.orderedModifiers.length;Z++)if(!0!==u.reset){var ue=u.orderedModifiers[Z],De=ue.fn,Be=ue.options;"function"==typeof De&&(u=De({state:u,options:void 0===Be?{}:Be,name:ue.name,instance:_})||u)}else u.reset=!1,Z=-1}}},update:Gce(function(){return new Promise(function(I){_.forceUpdate(),I(u)})}),destroy:function(){b(),m=!0}};if(!iz(a,l))return _;function b(){f.forEach(function(I){return I()}),f=[]}return _.setOptions(c).then(function(I){!m&&c.onFirstUpdate&&c.onFirstUpdate(I)}),_}}var OE={passive:!0};const Yce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Zce(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=us(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",e.update,OE)}),a&&l.addEventListener("resize",e.update,OE),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",e.update,OE)}),a&&l.removeEventListener("resize",e.update,OE)}},data:{}},Xce={name:"popperOffsets",enabled:!0,phase:"read",fn:function Qce(n){var t=n.state;t.modifiersData[n.name]=X3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Jce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rz(n){var t,e=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,f=n.isFixed,m=s.x,_=void 0===m?0:m,v=s.y,b=void 0===v?0:v,I="function"==typeof u?u({x:_,y:b}):{x:_,y:b};_=I.x,b=I.y;var N=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),B=cs,Z=ls,ue=window;if(c){var De=sy(e),Be="clientHeight",ht="clientWidth";De===us(e)&&"static"!==Ol(De=Hc(e)).position&&"absolute"===a&&(Be="scrollHeight",ht="scrollWidth"),(r===ls||(r===cs||r===sa)&&o===iy)&&(Z=oa,b-=(f&&De===ue&&ue.visualViewport?ue.visualViewport.height:De[Be])-i.height,b*=l?1:-1),r!==cs&&(r!==ls&&r!==oa||o!==iy)||(B=sa,_-=(f&&De===ue&&ue.visualViewport?ue.visualViewport.width:De[ht])-i.width,_*=l?1:-1)}var Mi,Ki=Object.assign({position:a},c&&Jce),Qr=!0===u?function eue(n,t){var i=n.y,r=t.devicePixelRatio||1;return{x:hp(n.x*r)/r||0,y:hp(i*r)/r||0}}({x:_,y:b},us(e)):{x:_,y:b};return _=Qr.x,b=Qr.y,Object.assign({},Ki,l?((Mi={})[Z]=A?"0":"",Mi[B]=N?"0":"",Mi.transform=(ue.devicePixelRatio||1)<=1?"translate("+_+"px, "+b+"px)":"translate3d("+_+"px, "+b+"px, 0)",Mi):((t={})[Z]=A?b+"px":"",t[B]=N?_+"px":"",t.transform="",t))}const nue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function tue(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,l=void 0===a||a,c={placement:Ba(t.placement),variation:pp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,rz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,rz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oue=[Yce,Xce,nue,{name:"applyStyles",enabled:!0,phase:"write",fn:function iue(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Ls(o)||!Ua(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function rue(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,c){return l[c]="",l},{});!Ls(r)||!Ua(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}},requires:["computeStyles"]}],sue=Kce({defaultModifiers:oue});const kA=["*"],Gue=["dialog"];function Ade(n,t){if(1&n&&(M(0,"strong",3),ce(1),O()),2&n){const e=re();H(1),ri(e.header)}}function Rde(n,t){}function kde(n,t){if(1&n){const e=bn();M(0,"div",4),se(1,Rde,0,0,"ng-template",5),M(2,"button",6),xe("click",function(){return st(e),tt(re().hide())}),O()()}if(2&n){const e=re(),i=lr(1);H(1),W("ngTemplateOutlet",e.contentHeaderTpl||i)}}function zc(n){return"string"==typeof n}function _d(n){return null!=n}function mp(n){return(n||document.body).getBoundingClientRect()}const cz={animation:!0,transitionTimerDelayMs:5},Ude=()=>{},{transitionTimerDelayMs:jde}=cz,ly=new Map,io=(n,t,e,i)=>{let r=i.context||{};const o=ly.get(t);if(o)switch(i.runningTransition){case"continue":return yn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),ly.delete(t)}const s=e(t,i.animation,r)||Ude;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),R(void 0).pipe(function Vde(n){return t=>new ut(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new z,l=new z,c=a.pipe(function Hle(...n){return t=>Xf(t,R(...n))}(!0));ly.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Bde(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const f=Sr(t,"transitionend").pipe(Et(c),zn(({target:_})=>_===t));k3(pA(u+jde).pipe(Et(c)),f,l).pipe(Et(c)).subscribe(()=>{ly.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},NA=(n,t,e)=>{let{direction:i,maxSize:r,dimension:o}=e;const{classList:s}=n;function a(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return r||(r=function Hde(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,o),e.maxSize=r,n.style[o]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),mp(n),s.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{a(),s.remove("collapsing"),n.style[o]=""};a()};let gp=(()=>{class n{constructor(){this.animation=cz.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wde=(()=>{class n{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(F(gp))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FA=(()=>{class n{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,r){this._element=e,this._zone=r,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Pe,this.shown=new Pe,this.hidden=new Pe,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return io(this._zone,this._element.nativeElement,NA,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(Wde),T(He))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&ct("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),_z=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),yz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),wz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Ez=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();var Xn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Xn||{});const UE=(n,t)=>!!t&&t.some(e=>e.contains(n)),Dz=(n,t)=>!t||null!=function Lde(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),ghe=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function zA(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>ghe?()=>setTimeout(()=>n(),100):n)(()=>{const c=Sr(t,"keydown").pipe(Et(r),zn(m=>m.which===Xn.Escape),gi(m=>m.preventDefault())),u=Sr(t,"mousedown").pipe(Ie(m=>{const _=m.target;return 2!==m.button&&!UE(_,s)&&("inside"===e?UE(_,o)&&Dz(_,a):"outside"===e?!UE(_,o):Dz(_,a)||!UE(_,o))}),Et(r)),f=Sr(t,"mouseup").pipe(DE(u),zn(([m,_])=>_),function $le(n,t=pd){const e=pA(n,t);return M3(()=>e)}(0),Et(r));k3([c.pipe(Ie(m=>0)),f.pipe(Ie(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}const Sz=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Az(n){const t=Array.from(n.querySelectorAll(Sz)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let yhe=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vhe=/\s+/,bhe=/  +/gi,whe={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Che=/^left/,Ihe=/^right/,The=/^start/,xhe=/^end/;function kz({placement:n,baseClass:t},e){let i=Array.isArray(n)?n:n.split(vhe),o=i.findIndex(c=>"auto"===c);o>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(c){null==i.find(u=>-1!==u.search("^"+c))&&i.splice(o++,1,c)});const s=i.map(c=>function Ehe(n,t){const[e,i]=whe[n];return t&&i||e}(c,e.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){const u=new RegExp(t+"(-[a-z]+)*","gi"),f=c.elements.popper,m=c.placement;let _=f.className;_=_.replace(u,""),_+=` ${function Dhe(n,t){let[e,i]=t.split("-");const r=e.replace(Che,"start").replace(Ihe,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(The,"top").replace(xhe,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}(t,m)}`,_=_.trim().replace(bhe," "),f.className=_}},kce,Pce,Bce,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Mz(n){return n}new Date(1882,10,12),new Date(2174,10,25);let jz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),$z=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();class Ed{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class Uhe{constructor(t,e,i,r,o,s){this._componentType=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(Qn(1),Kt(()=>io(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?io(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(gi(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):R(void 0)}_getContentRef(t,e){if(t){if(t instanceof hn){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Ed([i.rootNodes],i)}return new Ed([[this._renderer.createText(`${t}`)]])}return new Ed([])}}let jhe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{io(this._zone,this._el.nativeElement,(e,i)=>{i&&mp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return io(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Tc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ct("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ho],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class Wz{update(t){}close(t){}dismiss(t){}}const Hhe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],zhe=["animation","backdropClass"];class $he{_applyWindowOptions(t,e){Hhe.forEach(i=>{_d(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){zhe.forEach(i=>{_d(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new z,this._dismissed=new z,this._hidden=new z,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function sz(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():R(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var KA=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(KA||{});let Whe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new z,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Pe,this.shown=new z,this.hidden=new z}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=mA(io(this._zone,e,()=>e.classList.remove("show"),i),io(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};mA(io(this._zone,this._elRef.nativeElement,(o,s)=>{s&&mp(o),o.classList.add("show")},e),io(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Sr(e,"keydown").pipe(Et(this._closed$),zn(r=>r.which===Xn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(KA.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Sr(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),gi(()=>i=!1),Ue(()=>Sr(e,"mouseup").pipe(Et(this._closed$),Qn(1))),zn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Sr(e,"click").pipe(Et(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(KA.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Az(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&io(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(T(wt),T(it),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&En(Gue,7),2&i){let o;Le(o=Ve())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Tc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ct("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ho],ngContentSelectors:kA,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(no(),M(0,"div",0,1)(2,"div",2),dn(3),O()()),2&i&&Tc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Ghe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qhe=(()=>{class n{constructor(e,i,r,o,s,a,l){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new z,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Pe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Sr(t,"focusin").pipe(Et(e),Ie(o=>o.target));Sr(t,"keydown").pipe(Et(e),zn(o=>o.which===Xn.Tab),DE(r)).subscribe(([o,s])=>{const[a,l]=Az(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Sr(t,"click").pipe(Et(e),DE(r),Ie(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:_d(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new Wz,l=(e=r.injector||e).get(Io,null)||this._environmentInjector,c=this._getContentRef(e,l,i,a,r);let u=!1!==r.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,c.nodes),m=new $he(f,c,u,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(f),m.hidden.pipe(Qn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=z1(jhe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=z1(Whe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof hn?this._createFromTemplateRef(r,o):zc(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Ed([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Ed([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ed([[i]])}_createFromComponent(e,i,r,o,s){const l=z1(r,{environmentInjector:i,elementInjector:$i.create({providers:[{provide:Wz,useValue:o}],parent:e})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ed([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(F(ta),F($i),F(Io),F(wt),F(Ghe),F(Df),F(He))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Khe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(F(gp))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zhe=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(F($i),F(qhe),F(Khe))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[Zhe]})}return n})(),Zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),i$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const rfe={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let r$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),o$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),s$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),a$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),l$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const dfe=(n,t)=>{const{classList:e}=n;if(t)return e.add("fade"),mp(n),e.add("show","showing"),()=>{e.remove("showing")};e.add("show")},hfe=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let ffe=(()=>{class n{constructor(e){this._ngbConfig=e,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(F(gp))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),mfe=(()=>{class n{constructor(e,i,r,o){this.ariaLive=e,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new Pe,this.hidden=new Pe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Qn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const e=io(this._zone,this._element.nativeElement,hfe,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){const e=io(this._zone,this._element.nativeElement,dfe,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ss("aria-live"),T(ffe),T(He),T(it))};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(1&i&&Ft(o,pfe,7,hn),2&i){let s;Le(s=Ve())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){2&i&&(Pt("aria-live",r.ariaLive),ct("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Yn,Ho],ngContentSelectors:kA,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){1&i&&(no(),se(0,Ade,2,1,"ng-template",null,0,zo),se(2,kde,3,1,"ng-template",1),M(3,"div",2),dn(4),O()),2&i&&(H(2),W("ngIf",r.contentHeaderTpl||r.header))},dependencies:[hr,Sc],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),c$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),YA=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=i=>i,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(F(gp))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gfe=0,_fe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){2&i&&(Hr("id",r.id),Tc("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),ct("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Ho],ngContentSelectors:kA,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){1&i&&(no(),rt(0,"div",0),M(1,"div",1),dn(2),O())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),yfe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=c,this.shown=new Pe,this.hidden=new Pe,this._ngbTooltipWindowId="ngb-tooltip-"+gfe++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.popperOptions=s.popperOptions,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Uhe(_fe,r,o,i,this._ngZone,u),this._positioning=function $A(){const n=Te(yhe);let t=null;return{createPopper(e){if(!t){let r=(e.updatePopperOptions||Mz)(kz(e,n));t=sue(e.hostElement,e.targetElement,r)}},update(){t&&t.update()},setOptions(e){if(t){let r=(e.updatePopperOptions||Mz)(kz(e,n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}()}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(o)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),zA(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function sfe(n,t,e,i,r,o=0,s=0){const a=function ofe(n){const t=(n||"").trim();if(0===t.length)return[];const e=t.split(/\s+/).map(r=>r.split(":")).map(r=>rfe[r[0]]||r),i=e.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&e.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:e}(t);if(0===a.length)return()=>{};const l=new Set,c=[];let u;function f(_,v){n.addEventListener(_,v),c.push(()=>n.removeEventListener(_,v))}function m(_,v){clearTimeout(u),v>0?u=setTimeout(_,v):_()}for(const[_,v]of a)v?(f(_,()=>{l.add(_),m(()=>l.size>0&&i(),o)}),f(v,()=>{l.delete(_),m(()=>0===l.size&&r(),s)})):f(_,()=>e()?m(r,s):m(i,o));return()=>c.forEach(_=>_())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(zc(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(Vo),T($i),T(Xi),T(YA),T(He),T(wt),T(dr),T(ta))};static#t=this.\u0275dir=X({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Yn]})}return n})(),QA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();new ae("live announcer delay",{providedIn:"root",factory:function vfe(){return 100}});let u$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const wfe=[_z,yz,wz,Ez,jz,$z,Gz,Zz,d$,i$,r$,o$,s$,a$,l$,c$,QA,u$];let Efe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[wfe,_z,yz,wz,Ez,jz,$z,Gz,Zz,d$,i$,r$,o$,s$,a$,l$,c$,QA,u$]})}return n})();var fy=at(562),D=at(58),Vs=at(534),ds=at(879),Pl=at(537);(0,Vs.registerVersion)("firebase","10.6.0","app");const Dfe=new class xfe extends xE{}(class Tfe extends TE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),py=new Cc("ANGULARFIRE2_VERSION");class XA{constructor(){return((n,t)=>{const e=t?[t]:(0,Vs.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(Afe)}}const Afe="app-check";function bp(){}class f${zone;delegate;constructor(t,e=Dfe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class Rfe{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp)),e.pipe(gi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let JA=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new f$(Zone.current)),this.insideAngular=e.run(()=>new f$(Zone.current,pd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(F(He))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Cd(n){return wp().ngZone.run(()=>n())}function pr(n){return function Mfe(n){return function(e){return(e=e.lift(new Rfe(n.ngZone))).pipe(br(n.outsideAngular),Oi(n.insideAngular))}}(wp())(n)}const Nfe=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Cd(()=>n.apply(void 0,i))},Ofe=(n,t)=>function(){let e;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(t&&(e||=Cd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bp,{},bp,bp))),i[o]=Nfe(i[o],e));const r=function kfe(n){return wp().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ut){const o=wp();return r.pipe(br(o.outsideAngular),Oi(o.insideAngular))}return Cd(()=>r)}return r instanceof ut?r.pipe(pr):r instanceof Promise?Cd(()=>new Promise((o,s)=>r.then(a=>Cd(()=>o(a)),a=>Cd(()=>s(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Cd(()=>r)},zfe=Ofe(fy.o,!0);class KE{}class ZE{}class Bs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Bs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Bs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Bs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $fe{encodeKey(t){return m$(t)}encodeValue(t){return m$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gfe=/%(\d[a-f0-9])/gi,qfe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m$(n){return encodeURIComponent(n).replace(Gfe,(t,e)=>qfe[e]??t)}function YE(n){return`${n}`}class $c{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $fe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wfe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(YE):[YE(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $c({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(YE(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(YE(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Kfe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function g$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _$(n){return typeof Blob<"u"&&n instanceof Blob}function y$(n){return typeof FormData<"u"&&n instanceof FormData}class my{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Zfe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Bs),this.context||(this.context=new Kfe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new $c,this.urlWithParams=e}serializeBody(){return null===this.body?null:g$(this.body)||_$(this.body)||y$(this.body)||function Yfe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $c?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y$(this.body)?null:_$(this.body)?this.body.type||null:g$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $c?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),c)),new my(e,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var Id=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Id||{});class iR{constructor(t,e=200,i="OK"){this.headers=t.headers||new Bs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rR extends iR{constructor(t={}){super(t),this.type=Id.ResponseHeader}clone(t={}){return new rR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ep extends iR{constructor(t={}){super(t),this.type=Id.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ep({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class v$ extends iR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function oR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let gy=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof my)o=e;else{let l,c;l=r.headers instanceof Bs?r.headers:new Bs(r.headers),r.params&&(c=r.params instanceof $c?r.params:new $c({fromObject:r.params})),o=new my(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=R(o).pipe(Jf(l=>this.handler.handle(l)));if(e instanceof my||"events"===r.observe)return s;const a=s.pipe(zn(l=>l instanceof Ep));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new $c).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,oR(r,i))}post(e,i,r={}){return this.request("POST",e,oR(r,i))}put(e,i,r={}){return this.request("PUT",e,oR(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(F(KE))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function E$(n,t){return t(n)}function Xfe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const sR=new ae(""),_y=new ae(""),C$=new ae("");function epe(){let n=null;return(t,e)=>{null===n&&(n=(Te(sR,{optional:!0})??[]).reduceRight(Xfe,E$));const i=Te(Tw),r=i.add();return n(t,e).pipe(tp(()=>i.remove(r)))}}let I$=(()=>{class n extends KE{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Te(Tw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(_y),...this.injector.get(C$,[])]));this.chain=r.reduceRight((o,s)=>function Jfe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),E$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(tp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(F(ZE),F(Io))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const rpe=/^\)\]\}',?\n/;let x$=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new q(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?E(i.\u0275loadImpl()):R(null)).pipe(Ue(()=>new ut(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,I)=>s.setRequestHeader(b,I.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=s.statusText||"OK",I=new Bs(s.getAllResponseHeaders()),N=function ope(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new rR({headers:I,status:s.status,statusText:b,url:N}),l},u=()=>{let{headers:b,status:I,statusText:N,url:A}=c(),B=null;204!==I&&(B=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=B?200:0);let Z=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof B){const ue=B;B=B.replace(rpe,"");try{B=""!==B?JSON.parse(B):null}catch(De){B=ue,Z&&(Z=!1,B={error:De,text:B})}}Z?(o.next(new Ep({body:B,headers:b,status:I,statusText:N,url:A||void 0})),o.complete()):o.error(new v$({error:B,headers:b,status:I,statusText:N,url:A||void 0}))},f=b=>{const{url:I}=c(),N=new v$({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(N)};let m=!1;const _=b=>{m||(o.next(c()),m=!0);let I={type:Id.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),"text"===e.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},v=b=>{let I={type:Id.UploadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Id.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(F(ej))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const aR=new ae("XSRF_ENABLED"),D$=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),S$=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class A${}let lpe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=$U(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(ks),F(D$))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function cpe(n,t){const e=n.url.toLowerCase();if(!Te(aR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Te(A$).getToken(),r=Te(S$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Wc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Wc||{});function upe(...n){const t=[gy,x$,I$,{provide:KE,useExisting:I$},{provide:ZE,useExisting:x$},{provide:_y,useValue:cpe,multi:!0},{provide:aR,useValue:!0},{provide:A$,useClass:lpe}];for(const e of n)t.push(...e.\u0275providers);return function hD(n){return{\u0275providers:n}}(t)}const R$=new ae("LEGACY_INTERCEPTOR_FN");function dpe(){return function Td(n,t){return{\u0275kind:n,\u0275providers:t}}(Wc.LegacyInterceptors,[{provide:R$,useFactory:epe},{provide:_y,useExisting:R$,multi:!0}])}let hpe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[upe(dpe())]})}return n})();at(365);var la=at(106);la.Z.registerVersion("firebase","10.6.0","app-compat");const bpe=["ngOnDestroy"];class k${constructor(t){return t}}const yy=new ae("angularfire2.app.options"),vy=new ae("angularfire2.app.name");function XE(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=la.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>la.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Cpe("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new k$(s)}const Cpe=(n,...t)=>{},Ipe={provide:k$,useFactory:XE,deps:[yy,He,[new Rs,vy]]};let Tpe=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:yy,useValue:e},{provide:vy,useValue:i}]}}constructor(e){la.Z.registerVersion("angularfire",py.full,"core"),la.Z.registerVersion("angularfire",py.full,"app-compat"),la.Z.registerVersion("angular",x2.full,e.toString())}static \u0275fac=function(i){return new(i||n)(F(ks))};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[Ipe]})}return n})();function lR(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function xpe(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(M$("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Dpe?" You may need to reload as Firebase is not HMR aware.":""}`),M$("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Dpe=typeof module<"u"&&!!module.hot,M$=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class Spe extends z{constructor(t=1/0,e=1/0,i=fA){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function cR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,oe({connector:()=>new Spe(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function N$(n,t){return S(t)?Ue(()=>n,t):Ue(()=>n)}const uR=new ae("angularfire2.auth.use-emulator"),dR=new ae("angularfire2.auth.settings"),hR=new ae("angularfire2.auth.tenant-id"),fR=new ae("angularfire2.auth.langugage-code"),pR=new ae("angularfire2.auth.use-device-language"),mR=new ae("angularfire.auth.persistence"),gR=(n,t,e,i,r,o,s,a)=>lR(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let _R,by=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,u,f,m,_){const v=new z,b=R(void 0).pipe(Oi(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>Promise.resolve().then(at.bind(at,365)))),Ie(()=>XE(e,o,i)),Ie(I=>gR(I,o,a,c,u,f,l,m)),cR({bufferSize:1,refCount:!1}));if(zw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{b.pipe(Lc()).subscribe();const I=b.pipe(Ue(B=>B.getRedirectResult().then(Z=>Z,()=>null)),pr,cR({bufferSize:1,refCount:!1})),N=b.pipe(Ue(B=>new ut(Z=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(ue=>Z.next(ue),ue=>Z.error(ue),()=>Z.complete()))})))),A=b.pipe(Ue(B=>new ut(Z=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(ue=>Z.next(ue),ue=>Z.error(ue),()=>Z.complete()))}))));this.authState=I.pipe(N$(N),br(s.outsideAngular),Oi(s.insideAngular)),this.user=I.pipe(N$(A),br(s.outsideAngular),Oi(s.insideAngular)),this.idToken=this.user.pipe(Ue(B=>B?E(B.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(Ue(B=>B?E(B.getIdTokenResult()):R(null))),this.credential=x(I,v,this.authState.pipe(zn(B=>!B))).pipe(Ie(B=>B?.user?B:null),br(s.outsideAngular),Oi(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(bpe.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{const f=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,f),f})})})}))(this,b,o,{spy:{apply:(I,N,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(B=>v.next(B))}}})}static \u0275fac=function(i){return new(i||n)(F(yy),F(vy,8),F(ks),F(He),F(JA),F(uR,8),F(dR,8),F(hR,8),F(fR,8),F(pR,8),F(mR,8),F(XA,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Rpe=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",py.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[by]})}return n})(),Gc=(()=>{class n{constructor(e,i){this.aFireAuth=e,this.http=i,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new w(!1),this.navDisappear=new w(!1),this.httpHeaders=new Bs,this.isLoggedIn().subscribe(r=>{r&&(this.user=r),this.userLoggedInSubject=new w(this.user),r?.getIdToken().then(o=>{this.user.idToken=o,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(s=>{s?(this.user.claims=s,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin),this.getUsers().subscribe(a=>{this.usersSubject=new w(a),console.log(a)})):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(e,i){this.aFireAuth.createUserWithEmailAndPassword(e,i)}getUsersSubject(){return this.usersSubject}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let e=(new Bs).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:e})}return R({})}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(e,i){this.aFireAuth.signInWithEmailAndPassword(e,i)}ngOnInit(){}setCustomClaims(e,i){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:e,claims:i},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new fy.X)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new fy.W)}signInWithPhoneNumber(e){return this.aFireAuth.signInWithPhoneNumber(e,new fy.R(zfe(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(e){return this.aFireAuth.signInWithCredential(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(by),F(gy))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{_R=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_R=!1}let Cp,Ar=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function cre(n){return n===JU}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_R)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(F(ks))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const O$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function P$(){if(Cp)return Cp;if("object"!=typeof document||!document)return Cp=new Set(O$),Cp;let n=document.createElement("input");return Cp=new Set(O$.filter(t=>(n.setAttribute("type",t),n.type===t))),Cp}let wy,xd,yR;function Ip(n){return function kpe(){if(null==wy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wy=!0}))}finally{wy=wy||!1}return wy}()?n:!!n.capture}function Mpe(){if(null==xd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xd=!1,xd;if("scrollBehavior"in document.documentElement.style)xd=!0;else{const n=Element.prototype.scrollTo;xd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return xd}function qc(n){return n.composedPath?n.composedPath()[0]:n.target}function vR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Tp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function U$(n,t=pd){return le((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Se(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Fn(n){return null!=n&&"false"!=`${n}`}function eC(n,t=0){return function Kpe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function tC(n){return Array.isArray(n)?n:[n]}function er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kc(n){return n instanceof it?n.nativeElement:n}let Zpe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[Zpe]})}return n})();const H$=new Set;let Dd,Ype=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xpe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qpe(n,t){if(!H$.has(n))try{Dd||(Dd=document.createElement("style"),t&&(Dd.nonce=t),Dd.setAttribute("type","text/css"),document.head.appendChild(Dd)),Dd.sheet&&(Dd.sheet.insertRule(`@media ${n} {body{ }}`,0),H$.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(vD,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xpe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Jpe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return z$(tC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=rE(z$(tC(e)).map(s=>this._registerQuery(s).observable));return o=Xf(o.pipe(Qn(1)),o.pipe(gA(1),U$(0))),o.pipe(Ie(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ut(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Fc(i),Ie(({matches:s})=>({query:e,matches:s})),Et(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ype),F(He))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z$(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function W$(n,t,e){const i=nC(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function IR(n,t,e){const r=nC(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function nC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const G$="cdk-describedby-message",iC="cdk-describedby-host";let TR=0,eme=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+TR++,this._document=e,this._id=Te(Yg)+"-"+TR++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=xR(i,r);"string"!=typeof i?(q$(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=xR(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${iC}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(iC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");q$(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xR(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=nC(e,"aria-describedby").filter(r=>0!=r.indexOf(G$));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);W$(e,"aria-describedby",r.messageElement.id),e.setAttribute(iC,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,IR(e,"aria-describedby",r.messageElement.id),e.removeAttribute(iC)}_isElementDescribedByMessage(e,i){const r=nC(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(Ar))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xR(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function q$(n,t){n.id||(n.id=`${G$}-${t}-${TR++}`)}class tme{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new z,this._typeaheadSubscription=pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new z,this.change=new z,t instanceof E_&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gi(e=>this._pressedLetters.push(e)),U$(t),zn(()=>this._pressedLetters.length>0),Ie(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Tp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof E_?this._items.toArray():this._items}}class nme extends tme{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function Z$(n){return 0===n.buttons||0===n.detail}function Y$(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const lme=new ae("cdk-input-modality-detector-options"),cme={ignoreKeys:[18,17,224,91,16]},xp=Ip({passive:!0,capture:!0});let ume=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Z$(s)?"keyboard":"mouse"),this._mostRecentTarget=qc(s))},this._onTouchstart=s=>{Y$(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qc(s))},this._options={...cme,...o},this.modalityDetected=this._modality.pipe(gA(1)),this.modalityChanged=this.modalityDetected.pipe(dt()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xp),r.addEventListener("mousedown",this._onMousedown,xp),r.addEventListener("touchstart",this._onTouchstart,xp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xp),document.removeEventListener("mousedown",this._onMousedown,xp),document.removeEventListener("touchstart",this._onTouchstart,xp))}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(He),F(wt),F(lme,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dme=new ae("liveAnnouncerElement",{providedIn:"root",factory:function hme(){return null}}),fme=new ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pme=0,mme=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+pme++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(F(dme,8),F(He),F(wt),F(fme,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gme=new ae("cdk-focus-monitor-default-options"),rC=Ip({passive:!0,capture:!0});let X$=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z,this._rootNodeFocusAndBlurListener=a=>{for(let c=qc(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Kc(e);if(!this._platform.isBrowser||1!==r.nodeType)return R();const o=function Ope(n){if(function Npe(){if(null==yR){const n=typeof document<"u"?document.head:null;yR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Kc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Kc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=qc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(F(He),F(Ar),F(ume),F(wt,8),F(gme,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const J$="cdk-high-contrast-black-on-white",e4="cdk-high-contrast-white-on-black",DR="cdk-high-contrast-active";let t4=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Te(Jpe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(DR,J$,e4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(DR,J$):2===i&&e.add(DR,e4)}}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_me=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(F(t4))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[j$]})}return n})();const yme=new ae("cdk-dir-doc",{providedIn:"root",factory:function vme(){return Te(wt)}}),bme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Dp=(()=>{class n{constructor(e){this.value="ltr",this.change=new Pe,e&&(this.value=function wme(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?bme.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(F(yme,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ey=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const Eme=["text"];function Cme(n,t){if(1&n&&rt(0,"mat-pseudo-checkbox",6),2&n){const e=re();W("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Ime(n,t){1&n&&rt(0,"mat-pseudo-checkbox",7),2&n&&W("disabled",re().disabled)}function Tme(n,t){if(1&n&&(M(0,"span",8),ce(1),O()),2&n){const e=re();H(1),ur("(",e.group.label,")")}}const xme=[[["mat-icon"]],"*"],Dme=["mat-icon","*"],Ame=new ae("mat-sanity-checks",{providedIn:"root",factory:function Sme(){return!0}});let Li=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(F(t4),F(Ame,8),F(wt))};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Ey,Ey]})}return n})();function SR(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}constructor(...t){super(...t),this._disabled=!1}}}function AR(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function RR(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function r4(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?eC(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function o4(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let s4=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class kme{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const a4=Ip({passive:!0,capture:!0});class Mme{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=qc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,a4)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,a4)))}}const l4={enterDuration:225,exitDuration:150},c4=Ip({passive:!0,capture:!0}),u4=["mousedown","touchstart"],d4=["mouseup","mouseleave","touchend","touchcancel"];class oC{static#e=this._eventManager=new Mme;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Kc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...l4,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function Ome(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),_=f.transitionDuration,v="none"===f.transitionProperty||"0s"===_||"0s, 0s"===_||0===r.width&&0===r.height,b=new kme(this,u,i,v);u.style.transform="scale3d(1, 1, 1)",b.state=0,i.persistent||(this._mostRecentTransientRipple=b);let I=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(b),A=()=>this._destroyRipple(b);u.addEventListener("transitionend",N),u.addEventListener("transitioncancel",A),I={onTransitionEnd:N,onTransitionCancel:A}}),this._activeRipples.set(b,I),(v||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...l4,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Kc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,u4.forEach(i=>{oC._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{d4.forEach(e=>{this._triggerElement.addEventListener(e,this,c4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Z$(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Y$(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(u4.forEach(e=>oC._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&d4.forEach(e=>t.removeEventListener(e,this,c4)))}}const h4=new ae("mat-ripple-global-options");let sC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new oC(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(He),T(Ar),T(h4,8),T(Xs,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&ct("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),kR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Li]})}return n})(),Pme=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(T(Xs,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&ct("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Fme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li]})}return n})();const f4=new ae("MAT_OPTION_PARENT_COMPONENT"),p4=new ae("MatOptgroup");let Lme=0;class Vme{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Bme=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Fn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Lme++,this.onSelectionChange=new Pe,this._stateChanges=new z}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Tp(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Vme(this,e))}static#e=this.\u0275fac=function(i){kf()};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&En(Eme,7),2&i){let o;Le(o=Ve())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),m4=(()=>{class n extends Bme{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(dr),T(f4,8),T(p4,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&xe("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Hr("id",r.id),Pt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),ct("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Ke],ngContentSelectors:Dme,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(no(xme),se(0,Cme,1,2,"mat-pseudo-checkbox",0),dn(1),M(2,"span",1,2),dn(4,1),O(),se(5,Ime,1,1,"mat-pseudo-checkbox",3),se(6,Tme,2,1,"span",4),rt(7,"div",5)),2&i&&(W("ngIf",r.multiple),H(5),W("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),H(1),W("ngIf",r.group&&r.group._inert),H(1),W("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[sC,hr,Pme],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),g4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[kR,Zf,Li,Fme]})}return n})();const _4={capture:!0},y4=["focus","click","mouseenter","touchstart"],MR="mat-ripple-loader-uninitialized",NR="mat-ripple-loader-class-name",v4="mat-ripple-loader-centered",aC="mat-ripple-loader-disabled";let Hme=(()=>{class n{constructor(){this._document=Te(wt,{optional:!0}),this._animationMode=Te(Xs,{optional:!0}),this._globalRippleOptions=Te(h4,{optional:!0}),this._platform=Te(Ar),this._ngZone=Te(He),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${MR}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of y4)this._document?.addEventListener(e,this._onInteraction,_4)})}ngOnDestroy(){for(const e of y4)this._document?.removeEventListener(e,this._onInteraction,_4)}configureRipple(e,i){e.setAttribute(MR,""),(i.className||!e.hasAttribute(NR))&&e.setAttribute(NR,i.className||""),i.centered&&e.setAttribute(v4,""),i.disabled&&e.setAttribute(aC,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(aC,""):e.removeAttribute(aC)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(NR)),e.append(i);const r=new sC(new it(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(v4),r.disabled=e.hasAttribute(aC),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(MR),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zme=["mat-button",""],$me=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Wme=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Gme=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],qme=AR(SR(RR(class{constructor(n){this._elementRef=n}})));let Kme=(()=>{class n extends qme{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Fn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Te(X$),this._rippleLoader=Te(Hme),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of Gme)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){kf()};static#t=this.\u0275dir=X({type:n,features:[Ke]})}return n})(),Sd=(()=>{class n extends Kme{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(Ar),T(He),T(Xs,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("disabled",r.disabled||null),ct("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ke],attrs:zme,ngContentSelectors:Wme,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(no($me),rt(0,"span",0),dn(1),M(2,"span",1),dn(3,1),O(),dn(4,2),rt(5,"span",2)(6,"span",3)),2&i&&ct("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Qme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,kR,Li]})}return n})();const Xme=["*"];let lC;function Iy(n){return function Jme(){if(void 0===lC&&(lC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(lC=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return lC}()?.createHTML(n)||n}function b4(n){return Error(`Unable to find icon with the name "${n}"`)}function w4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function E4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ad{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let cC=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ad(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(jr.HTML,r);if(!s)throw E4(r);const a=Iy(s);return this._addSvgIconConfig(e,i,new Ad("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ad(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(jr.HTML,i);if(!o)throw E4(i);const s=Iy(o);return this._addSvgIconSetConfig(e,new Ad("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(jr.RESOURCE_URL,e);if(!i)throw w4(e);const r=this._cachedIconsByUrl.get(i);return r?R(uC(r)):this._loadSvgIconFromConfig(new Ad(e,null)).pipe(gi(o=>this._cachedIconsByUrl.set(i,o)),Ie(o=>uC(o)))}getNamedSvgIcon(e,i=""){const r=C4(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):dd(b4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?R(uC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ie(i=>uC(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?R(r):Tj(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Rl(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(jr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),R(null)})))).pipe(Ie(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw b4(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gi(i=>e.svgText=i),Ie(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?R(null):this._fetchIcon(e).pipe(gi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Iy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Iy("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function ege(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(jr.RESOURCE_URL,i);if(!s)throw w4(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Ie(c=>Iy(c)),tp(()=>this._inProgressUrlFetches.delete(s)),oe());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(C4(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return nge(o)?new Ad(o.url,null,o.options):new Ad(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(F(gy,8),F(vS),F(wt,8),F(Ms))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uC(n){return n.cloneNode(!0)}function C4(n,t){return n+":"+t}function nge(n){return!(!n.url||!n.options)}const ige=AR(class{constructor(n){this._elementRef=n}}),rge=new ae("MAT_ICON_DEFAULT_OPTIONS"),oge=new ae("mat-icon-location",{providedIn:"root",factory:function sge(){const n=Te(wt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),I4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],age=I4.map(n=>`[${n}]`).join(", "),lge=/^url\(['"]?#(.*?)['"]?\)$/;let T4=(()=>{class n extends ige{get inline(){return this._inline}set inline(e){this._inline=Fn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(age),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)I4.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(lge):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(cC),Ss("aria-hidden"),T(oge),T(Ms),T(rge,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Pt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ct("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ke],ngContentSelectors:Xme,decls:1,vars:0,template:function(i,r){1&i&&(no(),dn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),cge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Li]})}return n})();function uge(n,t){1&n&&(Bo(0),M(1,"div",1)(2,"div",2)(3,"ngb-toast",3)(4,"button",4)(5,"span",5)(6,"mat-icon"),ce(7,"restaurant"),O()(),M(8,"h3",6),ce(9,"Receptek"),O(),M(10,"span",5)(11,"mat-icon"),ce(12,"menu_book"),O()()()()(),M(13,"div",2)(14,"ngb-toast",7)(15,"button",8)(16,"span",5)(17,"mat-icon"),ce(18,"chat"),O()(),M(19,"h3",6),ce(20,"Chat"),O(),M(21,"span",5)(22,"mat-icon"),ce(23,"groups"),O()()()()(),M(24,"div",2)(25,"ngb-toast",9)(26,"button",10)(27,"span",5)(28,"mat-icon"),ce(29,"sunny"),O()(),M(30,"h3",6),ce(31,"Id\u0151j\xe1r\xe1s"),O(),M(32,"span",5),rt(33,"mat-icon"),O()()()(),M(34,"div",2)(35,"ngb-toast",11)(36,"button",12)(37,"span",5)(38,"mat-icon"),ce(39,"notes"),O()(),M(40,"h3",6),ce(41,"Jegyzetek"),O(),M(42,"span",5),rt(43,"mat-icon"),O()()()()(),Uo()),2&n&&(H(3),W("autohide",!1),H(11),W("autohide",!1),H(11),W("autohide",!1),H(10),W("autohide",!1))}function dge(n,t){1&n&&(Bo(0),M(1,"div",1)(2,"div",2)(3,"ngb-toast",13)(4,"button",14)(5,"span",5)(6,"mat-icon"),ce(7,"notes"),O()(),M(8,"h3",6),ce(9,"Regisztr\xe1ci\xf3"),O(),M(10,"span",5),rt(11,"mat-icon"),O()()()(),M(12,"div",2)(13,"ngb-toast",15)(14,"button",16)(15,"span",5)(16,"mat-icon"),ce(17,"notes"),O()(),M(18,"h3",6),ce(19,"Bejelentkez\xe9s"),O(),M(20,"span",5),rt(21,"mat-icon"),O()()()()(),Uo()),2&n&&(H(3),W("autohide",!1),H(10),W("autohide",!1))}let hge=(()=>{class n{constructor(e,i){this.ngbTConfig=e,this.auth=i,this.userLoggedIn={},e.placement="bottom",e.tooltipClass="tooltippp",e.animation=!0,e.closeDelay=2e3}ngOnInit(){this.auth.isLoggedIn().subscribe(e=>this.userLoggedIn=e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(YA),T(Gc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget1","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget1","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button",1,"greenButton"],[1,"icons"],[1,"d-inline"],["header","Chatelj az ismer\u0151seiddel",1,"tooltipTarget2","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget2","ngbTooltip","Egy chat-app, ahol felh\u0151tlen a besz\xe9lget\xe9s!","routerLink","chat","mat-raised-button","","color","accent","type","button",1,"blueButton"],["header","Tekintsd meg a jelenlegi id\u0151j\xe1r\xe1st",1,"tooltipTarget3","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget3","ngbTooltip","Id\u0151j\xe1r\xe1sjelent\xe9s","routerLink","weather","mat-raised-button","","color","accent","type","button",1,"orangeButton"],["header","Jegyzetek \xedr\xe1sa",1,"tooltipTarget4","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget4","ngbTooltip","\xcdrd meg a saj\xe1t jegyzeteid","routerLink","notes","mat-raised-button","","color","accent","type","button",1,"yellowButton"],["header","Regisztr\xe1ci\xf3",1,"tooltipTarget5","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget5","ngbTooltip","Regisztr\xe1lj e-mail c\xedmmel, vagy l\xe9pj be egy gombnyom\xe1sra Google-fi\xf3kkal","routerLink","signup","mat-raised-button","","color","accent","type","button",1,"greenButton"],["header","Bejelentkez\xe9s",1,"tooltipTarget6","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget6","ngbTooltip","L\xe9pj be e-mail c\xedmeddel, vagy Google-fi\xf3koddal, vagy telefonsz\xe1moddal egyszer\u0171en  ","routerLink","login","mat-raised-button","","color","accent","type","button",1,"blueButton"]],template:function(i,r){1&i&&(se(0,uge,44,4,"ng-container",0),se(1,dge,22,2,"ng-container",0)),2&i&&(W("ngIf",r.userLoggedIn),H(1),W("ngIf",!r.userLoggedIn))},dependencies:[hr,Uc,mfe,yfe,Sd,T4],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}.greenButton{background-color:#2d752db3!important}.blueButton{background-color:#0f0fb4b3!important}.orangeButton{background-color:#c98913b3!important}\n"],encapsulation:2})}return n})();var de=at(861);const x4="@firebase/database";let OR="";function PR(n){OR=n}class pge{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,D.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,D.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class mge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,D.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const S4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new pge(t)}}catch{}return new mge},Rd=S4("localStorage"),FR=S4("sessionStorage"),Sp=new ds.Yd("@firebase/database"),A4=function(){let n=1;return function(){return n++}}(),R4=function(n){const t=(0,D.dS)(n),e=new D.gQ;e.update(t);const i=e.digest();return D.US.encodeByteArray(i)},Ty=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ty.apply(null,i):t+="object"==typeof i?(0,D.Wl)(i):i,t+=" "}return t};let kd=null,k4=!0;const M4=function(n,t){(0,D.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Sp.logLevel=ds.in.VERBOSE,kd=Sp.log.bind(Sp),t&&FR.set("logging_enabled",!0)):"function"==typeof n?kd=n:(kd=null,FR.remove("logging_enabled"))},Rr=function(...n){if(!0===k4&&(k4=!1,null===kd&&!0===FR.get("logging_enabled")&&M4(!0)),kd){const t=Ty.apply(null,n);kd(t)}},xy=function(n){return function(...t){Rr(n,...t)}},LR=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ty(...n);Sp.error(t)},ja=function(...n){const t=`FIREBASE FATAL ERROR: ${Ty(...n)}`;throw Sp.error(t),new Error(t)},ro=function(...n){const t="FIREBASE WARNING: "+Ty(...n);Sp.warn(t)},dC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zc="[MIN_NAME]",Fl="[MAX_NAME]",Md=function(n,t){if(n===t)return 0;if(n===Zc||t===Fl)return-1;if(t===Zc||n===Fl)return 1;{const e=P4(n),i=P4(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},yge=function(n,t){return n===t?0:n<t?-1:1},Dy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(t))},VR=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,D.Wl)(t[i]),e+=":",e+=VR(n[t[i]]);return e+="}",e},N4=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function kr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const O4=function(n){(0,D.hu)(!dC(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let m=parseInt(u.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),f+=m}return f.toLowerCase()},Ege=new RegExp("^-?(0*)\\d{1,10}$"),P4=function(n){if(Ege.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ap=function(n){try{n()}catch(t){setTimeout(()=>{throw ro("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Sy=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class xge{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ro(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dge{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Rr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ro(t)}}let Ay=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const U4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z4="websocket",$4="long_polling";class UR{constructor(t,e,i,r,o=!1,s="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Rd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function W4(n,t,e){let i;if((0,D.hu)("string"==typeof t,"typeof type must == string"),(0,D.hu)("object"==typeof e,"typeof params must == object"),t===z4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==$4)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sge(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return kr(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class Age{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,D.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,D.p$)(this.counters_)}}const jR={},HR={};function zR(n){const t=n.toString();return jR[t]||(jR[t]=new Age),jR[t]}class kge{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ap(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yc{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xy(t),this.stats_=zR(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),W4(e,$4,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kge(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $R((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&U4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yc.forceAllow_=!0}static forceDisallow(){Yc.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!Yc.forceAllow_&&(Yc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,D.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,D.h$)(e),r=N4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,D.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class $R{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=A4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=$R.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Rr("frame writing exception"),a.stack&&Rr(a.stack),Rr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Rr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,D.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Rr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let fC=null;typeof MozWebSocket<"u"?fC=MozWebSocket:typeof WebSocket<"u"&&(fC=WebSocket);let Rp=(()=>{class n{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xy(this.connId),this.stats_=zR(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&U4.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),W4(e,z4,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rd.set("previous_websocket_failure",!0);try{let r;if((0,D.Yr)()){r={headers:{"User-Agent":`Firebase/5/${OR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new fC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==fC&&!n.forceDisallow_}static previouslyFailed(){return Rd.isInMemoryStorage||!0===Rd.get("previous_websocket_failure")}markConnectionHealthy(){Rd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,D.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,D.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=N4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),X4=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yc,Rp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Rp&&Rp.isAvailable();let r=i&&!Rp.previouslyFailed();if(e.webSocketOnly&&(i||ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rp];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class o5{constructor(t,e,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xy("c:"+this.id+":"),this.transportManager_=new X4(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Sy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Dy("t",t),i=Dy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Dy("t",t),i=Dy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Dy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?LR("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Sy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class s5{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class a5{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,D.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,D.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pC extends a5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pC}getInitialEvent(t){return(0,D.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Cn(){return new Nn("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qc(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Nn(n.pieces_,t)}function GR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ry(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function u5(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Nn(t,0)}function Ti(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Nn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Nn(e,0)}function Qt(n){return n.pieceNum_>=n.pieces_.length}function So(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return So(Jn(n),Jn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Jge(n,t){const e=Ry(n,0),i=Ry(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Md(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function qR(n,t){if(Qc(n)!==Qc(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Us(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Qc(n)>Qc(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class e_e{constructor(t,e){this.errorPrefix_=e,this.parts_=Ry(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,D.ug)(this.parts_[i]);d5(this)}}function d5(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Nd(n))}function Nd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class KR extends a5{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new KR}getInitialEvent(t){return(0,D.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ky=1e3;let gC,Od=(()=>{class n extends s5{constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=xy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ky,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,D.Wl)(s)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new D.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,D.r3)(e,"w")){const r=(0,D.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,D.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,D.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,D.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,D.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):LR("Unrecognized action received from server: "+(0,D.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ky,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ky,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ky),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,de.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};e.realtime_={close:u,sendRequest:function(_){(0,D.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)}};const m=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[_,v]=yield Promise.all([e.authTokenProvider_.getToken(m),e.appCheckTokenProvider_.getToken(m)]);l?Rr("getToken() completed but was canceled"):(Rr("getToken() completed. Creating connection."),e.authToken_=_&&_.accessToken,e.appCheckToken_=v&&v.token,c=new o5(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,b=>{ro(b+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(_){e.log_("Failed to get token: "+_),l||(e.repoInfo_.nodeAdmin&&ro(_),u())}}})()}interrupt(e){Rr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ky,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>VR(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Nn(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Rr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Rr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,D.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+OR.replace(/\./g,"-")]=1,(0,D.uI)()?e["framework.cordova"]=1:(0,D.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pC.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new nn(t,e)}}class mC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new nn(Zc,t),r=new nn(Zc,e);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class p5 extends mC{static get __EMPTY_NODE(){return gC}static set __EMPTY_NODE(t){gC=t}compare(t,e){return Md(t.name,e.name)}isDefinedOn(t){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Fl,gC)}makePost(t,e){return(0,D.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new nn(t,gC)}toString(){return".key"}}const Ha=new p5;class _C{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let YR,ca=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??qo.EMPTY_NODE,this.right=s??qo.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return qo.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qo{constructor(t,e=qo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ca.BLACK,null,null))}remove(t){return new qo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ca.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _C(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _C(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _C(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _C(this.root_,null,this.comparator_,!0,t)}}function l_e(n,t){return Md(n.name,t.name)}function ZR(n,t){return Md(n,t)}qo.EMPTY_NODE=new class a_e{copy(t,e,i,r,o){return this}insert(t,e,i){return new ca(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const m5=function(n){return"number"==typeof n?"number:"+O4(n):"string:"+n},g5=function(n){if(n.isLeafNode()){const t=n.val();(0,D.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,D.r3)(t,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===YR||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===YR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let _5,y5,v5,kp=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),g5(this.priorityNode_)}static set __childrenNodeConstructor(e){_5=e}static get __childrenNodeConstructor(){return _5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Yt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,D.hu)(".priority"!==r||1===Qc(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+m5(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?O4(this.value_):this.value_,this.lazyHash_=R4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,D.hu)(o>=0,"Unknown leaf type: "+i),(0,D.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ai=new class h_e extends mC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Md(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Fl,new kp("[PRIORITY-POST]",v5))}makePost(t,e){const i=y5(t);return new nn(e,new kp("[PRIORITY-POST]",i))}toString(){return".priority"}},f_e=Math.log(2);class p_e{constructor(t){this.count=parseInt(Math.log(t+1)/f_e,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yC=function(n,t,e,i){n.sort(t);const r=function(l,c){const u=c-l;let f,m;if(0===u)return null;if(1===u)return f=n[l],m=e?e(f):f,new ca(m,f.node,ca.BLACK,null,null);{const _=parseInt(u/2,10)+l,v=r(l,_),b=r(_+1,c);return f=n[_],m=e?e(f):f,new ca(m,f.node,ca.BLACK,v,b)}},a=function(l){let c=null,u=null,f=n.length;const m=function(v,b){const I=f-v,N=f;f-=v;const A=r(I+1,N),B=n[I],Z=e?e(B):B;_(new ca(Z,B.node,b,null,A))},_=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const b=l.nextBitIsOne(),I=Math.pow(2,l.count-(v+1));b?m(I,ca.BLACK):(m(I,ca.BLACK),m(I,ca.RED))}return u}(new p_e(n.length));return new qo(i||t,a)};let QR;const Mp={};class Ll{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,D.hu)(Mp&&ai,"ChildrenNode.ts has not been loaded"),QR=QR||new Ll({".priority":Mp},{".priority":ai}),QR}get(t){const e=(0,D.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qo?e:null}hasIndex(t){return(0,D.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,D.hu)(t!==Ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(nn.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?yC(i,t.getCompare()):Mp;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new Ll(u,c)}addToIndexes(t,e){const i=(0,D.UI)(this.indexes_,(r,o)=>{const s=(0,D.DV)(this.indexSet_,o);if((0,D.hu)(s,"Missing index implementation for "+o),r===Mp){if(s.isDefinedOn(t.node)){const a=[],l=e.getIterator(nn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),yC(a,s.getCompare())}return Mp}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new nn(t.name,a))),l.insert(t,t.node)}});return new Ll(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,D.UI)(this.indexes_,r=>{if(r===Mp)return r;{const o=e.get(t.name);return o?r.remove(new nn(t.name,o)):r}});return new Ll(i,this.indexSet_)}}let My,Nt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&g5(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return My||(My=new n(new qo(ZR),null,Ll.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||My}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?My:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(Jn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,D.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new nn(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?My:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=Yt(e);if(null===r)return i;{(0,D.hu)(".priority"!==Yt(e)||1===Qc(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(ai,(a,l)=>{i[a]=l.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+m5(this.getPriority().val())+":"),this.forEachChild(ai,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":R4(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new nn(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new nn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ny?-1:0}withIndex(e){if(e===Ha||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Ha||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ai),o=i.getIterator(ai);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===Ha?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ny=new class m_e extends Nt{constructor(){super(new qo(ZR),Nt.EMPTY_NODE,Ll.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Nt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(Zc,Nt.EMPTY_NODE)},MAX:{value:new nn(Fl,Ny)}}),p5.__EMPTY_NODE=Nt.EMPTY_NODE,kp.__childrenNodeConstructor=Nt,function c_e(n){YR=n}(Ny),function d_e(n){v5=n}(Ny);const g_e=!0;function ki(n,t=null){if(null===n)return Nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,D.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new kp(n,ki(t));if(n instanceof Array||!g_e){let e=Nt.EMPTY_NODE;return kr(n,(i,r)=>{if((0,D.r3)(n,i)&&"."!==i.substring(0,1)){const o=ki(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ki(t))}{const e=[];let i=!1;if(kr(n,(s,a)=>{if("."!==s.substring(0,1)){const l=ki(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new nn(s,l)))}}),0===e.length)return Nt.EMPTY_NODE;const o=yC(e,l_e,s=>s.name,ZR);if(i){const s=yC(e,ai.getCompare());return new Nt(o,ki(t),new Ll({".priority":s},{".priority":ai}))}return new Nt(o,ki(t),Ll.Default)}}!function u_e(n){y5=n}(ki);class XR extends mC{constructor(t){super(),this.indexPath_=t,(0,D.hu)(!Qt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Md(t.name,e.name):o}makePost(t,e){const i=ki(t),r=Nt.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(e,r)}maxPost(){const t=Nt.EMPTY_NODE.updateChild(this.indexPath_,Ny);return new nn(Fl,t)}toString(){return Ry(this.indexPath_,0).join("/")}}const JR=new class __e extends mC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Md(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(t,e){const i=ki(t);return new nn(e,i)}toString(){return".value"}};function b5(n){return{type:"value",snapshotNode:n}}function Np(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Oy(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Py(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ek{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,D.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(Oy(e,a)):(0,D.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Np(e,i)):s.trackChildChange(Py(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ai,(r,o)=>{e.hasChild(r)||i.trackChildChange(Oy(r,o))}),e.isLeafNode()||e.forEachChild(ai,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(Py(r,o,s))}else i.trackChildChange(Np(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fy{constructor(t){this.indexedFilter_=new ek(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fy.getStartPost_(t),this.endPost_=Fy.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Nt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Nt.EMPTY_NODE);const o=this;return e.forEachChild(ai,(s,a)=>{o.matches(new nn(s,a))||(r=r.updateImmediateChild(s,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class v_e{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Fy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new nn(e,i))||(i=Nt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Nt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Nt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(m,_)=>f(_,m)}else s=this.index_.getCompare();const a=t;(0,D.hu)(a.numChildren()===this.limit_,"");const l=new nn(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let m=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=m&&(m.name===e||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=null==m?1:s(m,l);if(u&&!i.isEmpty()&&_>=0)return o?.trackChildChange(Py(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(Oy(e,f));const b=a.updateImmediateChild(e,Nt.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(Np(m.name,m.node)),b.updateImmediateChild(m.name,m.node)):b}}return i.isEmpty()?t:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(Oy(c.name,c.node)),o.trackChildChange(Np(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,Nt.EMPTY_NODE)):t}}class vC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ai}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ai}copy(){const t=new vC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function tk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function nk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function bC(n,t){const e=n.copy();return e.index_=t,e}function w5(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ai?e="$priority":n.index_===JR?e="$value":n.index_===Ha?e="$key":((0,D.hu)(n.index_ instanceof XR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,D.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function E5(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ai&&(t.i=n.index_.toString()),t}class wC extends s5{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=xy("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,D.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=wC.getListenId_(t,i),a={};this.listens_[s]=a;const l=w5(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(o,f,!1,i),(0,D.DV)(this.listens_,s)===a){let m;m=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(m,null)}})}unlisten(t,e){const i=wC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=w5(t._queryParams),i=t._path.toString(),r=new D.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,D.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,D.cI)(a.responseText)}catch{ro("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&ro("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class T_e{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function EC(){return{value:null,children:new Map}}function Op(n,t,e){if(Qt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,EC()),Op(n.children.get(i),t=Jn(t),e)}}function ik(n,t){if(Qt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ai,(i,r)=>{Op(n,new Nn(i),r)}),ik(n,t)}}if(n.children.size>0){const e=Yt(t);return t=Jn(t),n.children.has(e)&&ik(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function rk(n,t,e){null!==n.value?e(t,n.value):function x_e(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{rk(r,new Nn(t.toString()+"/"+i),e)})}class D_e{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&kr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class R_e{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new D_e(t);const i=1e4+2e4*Math.random();Sy(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;kr(t,(r,o)=>{o>0&&(0,D.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Sy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var za=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(za||{});function ak(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class CC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=za.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Qt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Nn(t));return new CC(Cn(),e,this.revert)}}return(0,D.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new CC(Jn(this.path),this.affectedTree,this.revert)}}class Ly{constructor(t,e){this.source=t,this.path=e,this.type=za.LISTEN_COMPLETE}operationForChild(t){return Qt(this.path)?new Ly(this.source,Cn()):new Ly(this.source,Jn(this.path))}}class Pd{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=za.OVERWRITE}operationForChild(t){return Qt(this.path)?new Pd(this.source,Cn(),this.snap.getImmediateChild(t)):new Pd(this.source,Jn(this.path),this.snap)}}class Pp{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=za.MERGE}operationForChild(t){if(Qt(this.path)){const e=this.children.subtree(new Nn(t));return e.isEmpty()?null:e.value?new Pd(this.source,Cn(),e.value):new Pp(this.source,Cn(),e)}return(0,D.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Pp(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xc{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class k_e{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Vy(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,l)=>function O_e(n,t,e){if(null==t.childName||null==e.childName)throw(0,D.g5)("Should only compare child_ events.");const i=new nn(t.childName,t.snapshotNode),r=new nn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function N_e(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function IC(n,t){return{eventCache:n,serverCache:t}}function By(n,t,e,i){return IC(new Xc(t,e,i),n.serverCache)}function I5(n,t,e,i){return IC(n.eventCache,new Xc(t,e,i))}function TC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lk;class li{constructor(t,e=(()=>(lk||(lk=new qo(yge)),lk))()){this.value=t,this.children=e}static fromObject(t){let e=new li(null);return kr(t,(i,r)=>{e=e.set(new Nn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Cn(),value:this.value};if(Qt(t))return null;{const i=Yt(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(t),e);return null!=o?{path:Ti(new Nn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(Jn(t)):new li(null)}}set(t,e){if(Qt(t))return new li(e,this.children);{const i=Yt(t),o=(this.children.get(i)||new li(null)).set(Jn(t),e),s=this.children.insert(i,o);return new li(this.value,s)}}remove(t){if(Qt(t))return this.children.isEmpty()?new li(null):new li(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const r=i.remove(Jn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new li(null):new li(this.value,o)}return this}}get(t){if(Qt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(Jn(t)):null}}setTree(t,e){if(Qt(t))return e;{const i=Yt(t),o=(this.children.get(i)||new li(null)).setTree(Jn(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new li(this.value,s)}}fold(t){return this.fold_(Cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ti(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Qt(t))return null;{const o=Yt(t),s=this.children.get(o);return s?s.findOnPath_(Jn(t),Ti(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Cn(),e)}foreachOnPath_(t,e,i){if(Qt(t))return this;{this.value&&i(e,this.value);const r=Yt(t),o=this.children.get(r);return o?o.foreachOnPath_(Jn(t),Ti(e,r),i):new li(null)}}foreach(t){this.foreach_(Cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ti(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ua{constructor(t){this.writeTree_=t}static empty(){return new ua(new li(null))}}function Uy(n,t,e){if(Qt(t))return new ua(new li(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=So(r,t);return o=o.updateChild(s,e),new ua(n.writeTree_.set(r,o))}{const r=new li(e),o=n.writeTree_.setTree(t,r);return new ua(o)}}}function ck(n,t,e){let i=n;return kr(e,(r,o)=>{i=Uy(i,Ti(t,r),o)}),i}function T5(n,t){if(Qt(t))return ua.empty();{const e=n.writeTree_.setTree(t,new li(null));return new ua(e)}}function uk(n,t){return null!=Ld(n,t)}function Ld(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(So(e.path,t)):null}function x5(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ai,(i,r)=>{t.push(new nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new nn(i,r.value))}),t}function Jc(n,t){if(Qt(t))return n;{const e=Ld(n,t);return new ua(null!=e?new li(e):n.writeTree_.subtree(t))}}function dk(n){return n.writeTree_.isEmpty()}function Fp(n,t){return D5(Cn(),n.writeTree_,t)}function D5(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,D.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=D5(Ti(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ti(n,".priority"),i)),e}}function xC(n,t){return M5(t,n)}function U_e(n,t){if(n.snap)return Us(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Us(Ti(n.path,e),t))return!0;return!1}function H_e(n){return n.visible}function S5(n,t,e){let i=ua.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)Us(e,s)?(a=So(e,s),i=Uy(i,a,o.snap)):Us(s,e)&&(a=So(s,e),i=Uy(i,Cn(),o.snap.getChild(a)));else{if(!o.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(Us(e,s))a=So(e,s),i=ck(i,a,o.children);else if(Us(s,e))if(a=So(s,e),Qt(a))i=ck(i,Cn(),o.children);else{const l=(0,D.DV)(o.children,Yt(a));if(l){const c=l.getChild(Jn(a));i=Uy(i,Cn(),c)}}}}}return i}function A5(n,t,e,i,r){if(i||r){const o=Jc(n.visibleWrites,t);return!r&&dk(o)?e:r||null!=e||uk(o,Cn())?Fp(S5(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Us(c.path,t)||Us(t,c.path))},t),e||Nt.EMPTY_NODE):null}{const o=Ld(n.visibleWrites,t);if(null!=o)return o;{const s=Jc(n.visibleWrites,t);return dk(s)?e:null!=e||uk(s,Cn())?Fp(s,e||Nt.EMPTY_NODE):null}}}function DC(n,t,e,i){return A5(n.writeTree,n.treePath,t,e,i)}function hk(n,t){return function z_e(n,t,e){let i=Nt.EMPTY_NODE;const r=Ld(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ai,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=Jc(n.visibleWrites,t);return e.forEachChild(ai,(s,a)=>{const l=Fp(Jc(o,new Nn(s)),a);i=i.updateImmediateChild(s,l)}),x5(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return x5(Jc(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function R5(n,t,e,i){return function $_e(n,t,e,i,r){(0,D.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ti(t,e);if(uk(n.visibleWrites,o))return null;{const s=Jc(n.visibleWrites,o);return dk(s)?r.getChild(e):Fp(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function SC(n,t){return function G_e(n,t){return Ld(n.visibleWrites,t)}(n.writeTree,Ti(n.treePath,t))}function fk(n,t,e){return function W_e(n,t,e,i){const r=Ti(t,e),o=Ld(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Fp(Jc(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function k5(n,t){return M5(Ti(n.treePath,t),n.writeTree)}function M5(n,t){return{treePath:n,writeTree:t}}class Y_e{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,D.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Py(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Oy(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Np(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,D.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Py(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const N5=new class Q_e{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class pk{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Xc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fd(this.viewCache_),o=function Z_e(n,t,e,i,r,o){return function q_e(n,t,e,i,r,o,s){let a;const l=Jc(n.visibleWrites,t),c=Ld(l,Cn());if(null!=c)a=c;else{if(null==e)return[];a=Fp(l,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let _=m.getNext();for(;_&&u.length<r;)0!==f(_,i)&&u.push(_),_=m.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function O5(n,t,e,i,r,o){const s=t.eventCache;if(null!=SC(i,e))return t;{let a,l;if(Qt(e))if((0,D.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Fd(t),f=hk(i,c instanceof Nt?c:Nt.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const c=DC(i,Fd(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=Yt(e);if(".priority"===c){(0,D.hu)(1===Qc(e),"Can't have a priority with additional path components");const u=s.getNode();l=t.serverCache.getNode();const f=R5(i,e,u,l);a=null!=f?n.filter.updatePriority(u,f):s.getNode()}else{const u=Jn(e);let f;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const m=R5(i,e,s.getNode(),l);f=null!=m?s.getNode().getImmediateChild(c).updateChild(u,m):s.getNode().getImmediateChild(c)}else f=fk(i,c,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),c,f,u,r,o):s.getNode()}}return By(t,a,s.isFullyInitialized()||Qt(e),n.filter.filtersNodes())}}function AC(n,t,e,i,r,o,s,a){const l=t.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(Qt(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),_,null)}else{const _=Yt(e);if(!l.isCompleteForPath(e)&&Qc(e)>1)return t;const v=Jn(e),I=l.getNode().getImmediateChild(_).updateChild(v,i);c=".priority"===_?u.updatePriority(l.getNode(),I):u.updateChild(l.getNode(),_,I,v,N5,null)}const f=I5(t,c,l.isFullyInitialized()||Qt(e),u.filtersNodes());return O5(n,f,e,r,new pk(r,f,o),a)}function mk(n,t,e,i,r,o,s){const a=t.eventCache;let l,c;const u=new pk(r,t,o);if(Qt(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,s),l=By(t,c,!0,n.filter.filtersNodes());else{const f=Yt(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=By(t,c,a.isFullyInitialized(),a.isFiltered());else{const m=Jn(e),_=a.getNode().getImmediateChild(f);let v;if(Qt(m))v=i;else{const b=u.getCompleteChild(f);v=null!=b?".priority"===GR(m)&&b.getChild(u5(m)).isEmpty()?b:b.updateChild(m,i):Nt.EMPTY_NODE}l=_.equals(v)?t:By(t,n.filter.updateChild(a.getNode(),f,v,m,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function P5(n,t){return n.eventCache.isCompleteForChild(t)}function F5(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function gk(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Qt(e)?i:new li(null).setTree(e,i);const u=t.serverCache.getNode();return c.children.inorderTraversal((f,m)=>{if(u.hasChild(f)){const v=F5(0,t.serverCache.getNode().getImmediateChild(f),m);l=AC(n,l,new Nn(f),v,r,o,s,a)}}),c.children.inorderTraversal((f,m)=>{const _=!t.serverCache.isCompleteForChild(f)&&null===m.value;if(!u.hasChild(f)&&!_){const b=F5(0,t.serverCache.getNode().getImmediateChild(f),m);l=AC(n,l,new Nn(f),b,r,o,s,a)}}),l}class sye{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new ek(i.getIndex()),o=function b_e(n){return n.loadsAllData()?new ek(n.getIndex()):n.hasLimit()?new v_e(n):new Fy(n)}(i);this.processor_=function X_e(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,l=r.updateFullNode(Nt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Nt.EMPTY_NODE,a.getNode(),null),u=new Xc(l,s.isFullyInitialized(),r.filtersNodes()),f=new Xc(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=IC(f,u),this.eventGenerator_=new k_e(this.query_)}get query(){return this.query_}}function cye(n,t){const e=Fd(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Qt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function L5(n){return 0===n.eventRegistrations_.length}function V5(n,t,e){const i=[];if(e){(0,D.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function B5(n,t,e,i){t.type===za.MERGE&&null!==t.source.queryId&&((0,D.hu)(Fd(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(TC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function eye(n,t,e,i,r){const o=new Y_e;let s,a;if(e.type===za.OVERWRITE){const c=e;c.source.fromUser?s=mk(n,t,c.path,c.snap,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Qt(c.path),s=AC(n,t,c.path,c.snap,i,r,a,o))}else if(e.type===za.MERGE){const c=e;c.source.fromUser?s=function nye(n,t,e,i,r,o,s){let a=t;return i.foreach((l,c)=>{const u=Ti(e,l);P5(t,Yt(u))&&(a=mk(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Ti(e,l);P5(t,Yt(u))||(a=mk(n,a,u,c,r,o,s))}),a}(n,t,c.path,c.children,i,r,o):((0,D.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=gk(n,t,c.path,c.children,i,r,a,o))}else if(e.type===za.ACK_USER_WRITE){const c=e;s=c.revert?function oye(n,t,e,i,r,o){let s;if(null!=SC(i,e))return t;{const a=new pk(i,t,r),l=t.eventCache.getNode();let c;if(Qt(e)||".priority"===Yt(e)){let u;if(t.serverCache.isFullyInitialized())u=DC(i,Fd(t));else{const f=t.serverCache.getNode();(0,D.hu)(f instanceof Nt,"serverChildren would be complete if leaf node"),u=hk(i,f)}c=n.filter.updateFullNode(l,u,o)}else{const u=Yt(e);let f=fk(i,u,t.serverCache);null==f&&t.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),c=null!=f?n.filter.updateChild(l,u,f,Jn(e),a,o):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,Nt.EMPTY_NODE,Jn(e),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=DC(i,Fd(t)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=SC(i,Cn()),By(t,c,s,n.filter.filtersNodes())}}(n,t,c.path,i,r,o):function iye(n,t,e,i,r,o,s){if(null!=SC(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Qt(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return AC(n,t,e,l.getNode().getChild(e),r,o,a,s);if(Qt(e)){let c=new li(null);return l.getNode().forEachChild(Ha,(u,f)=>{c=c.set(new Nn(u),f)}),gk(n,t,e,c,r,o,a,s)}return t}{let c=new li(null);return i.foreach((u,f)=>{const m=Ti(e,u);l.isCompleteForPath(m)&&(c=c.set(u,l.getNode().getChild(m)))}),gk(n,t,e,c,r,o,a,s)}}(n,t,c.path,c.affectedTree,i,r,o)}else{if(e.type!==za.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+e.type);s=function rye(n,t,e,i,r){const o=t.serverCache;return O5(n,I5(t,o.getNode(),o.isFullyInitialized()||Qt(e),o.isFiltered()),e,i,N5,r)}(n,t,e.path,i,o)}const l=o.getChanges();return function tye(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=TC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(b5(TC(t)))}}(t,s,l),{viewCache:s,changes:l}}(n.processor_,r,t,e,i);return function J_e(n,t){(0,D.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,D.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,U5(n,o.changes,o.viewCache.eventCache.getNode(),null)}function U5(n,t,e,i){return function M_e(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function y_e(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),Vy(n,r,"child_removed",t,i,e),Vy(n,r,"child_added",t,i,e),Vy(n,r,"child_moved",o,i,e),Vy(n,r,"child_changed",t,i,e),Vy(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let RC,MC;class j5{constructor(){this.views=new Map}}function _k(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,D.hu)(null!=o,"SyncTree gave us an op for an invalid query."),B5(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(B5(s,t,e,i));return o}}function H5(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=DC(e,r?i:null),l=!1;a?l=!0:i instanceof Nt?(a=hk(e,i),l=!1):(a=Nt.EMPTY_NODE,l=!1);const c=IC(new Xc(a,l,!1),new Xc(i,r,!1));return new sye(t,c)}return s}function z5(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function eu(n,t){let e=null;for(const i of n.views.values())e=e||cye(i,t);return e}function $5(n,t){return t._queryParams.loadsAllData()?kC(n):n.views.get(t._queryIdentifier)}function W5(n,t){return null!=$5(n,t)}function tu(n){return null!=kC(n)}function kC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let vye=1;class G5{constructor(t){this.listenProvider_=t,this.syncPointTree_=new li(null),this.pendingWriteTree_=function K_e(){return{visibleWrites:ua.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yk(n,t,e,i,r){return function F_e(n,t,e,i,r){(0,D.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Uy(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Lp(n,new Pd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function nu(n,t,e=!1){const i=function V_e(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function B_e(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,D.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&U_e(a,i.path)?r=!1:Us(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function j_e(n){n.visibleWrites=S5(n.allWrites,H_e,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=T5(n.visibleWrites,i.path):kr(i.children,l=>{n.visibleWrites=T5(n.visibleWrites,Ti(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let o=new li(null);return null!=i.snap?o=o.set(Cn(),!0):kr(i.children,s=>{o=o.set(new Nn(s),!0)}),Lp(n,new CC(i.path,o,e))}return[]}function jy(n,t,e){return Lp(n,new Pd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function NC(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||W5(s,t))){const l=function gye(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=tu(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(V5(c,e,i)),L5(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(V5(l,e,i)),L5(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!tu(n)&&o.push(new(function fye(){return(0,D.hu)(RC,"Reference.ts has not been loaded"),RC}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function pye(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=-1!==c.findIndex(m=>m._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(m,_)=>tu(_));if(u&&!f){const m=n.syncPointTree_.subtree(o);if(!m.isEmpty()){const _=function xye(n){return n.fold((t,e,i)=>{if(e&&tu(e))return[kC(e)];{let r=[];return e&&(r=z5(e)),kr(i,(o,s)=>{r=r.concat(s)}),r}})}(m);for(let v=0;v<_.length;++v){const b=_[v],I=b.query,N=Y5(n,b);n.listenProvider_.startListening(zy(I),Hy(n,I),N.hashFn,N.onComplete)}}}!f&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(zy(t),null):c.forEach(m=>{const _=n.queryToTagMap.get(PC(m));n.listenProvider_.stopListening(zy(m),_)}))}!function Dye(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=PC(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function q5(n,t,e,i){const r=bk(n,i);if(null!=r){const o=wk(r),s=o.path,a=o.queryId,l=So(s,t);return Ek(n,s,new Pd(ak(a),l,e))}return[]}function vk(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(m,_)=>{const v=So(m,r);o=o||eu(_,v),s=s||tu(_)});let l,a=n.syncPointTree_.get(r);a?(s=s||tu(a),o=o||eu(a,Cn())):(a=new j5,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=Nt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((_,v)=>{const b=eu(v,Cn());b&&(o=o.updateImmediateChild(_,b))}));const c=W5(a,t);if(!c&&!t._queryParams.loadsAllData()){const m=PC(t);(0,D.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=function Sye(){return vye++}();n.queryToTagMap.set(m,_),n.tagToQueryMap.set(_,m)}let f=function mye(n,t,e,i,r,o){const s=H5(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function uye(n,t){n.eventRegistrations_.push(t)}(s,e),function dye(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ai,(o,s)=>{i.push(Np(o,s))}),e.isFullyInitialized()&&i.push(b5(e.getNode())),U5(n,i,e.getNode(),t)}(s,e)}(a,t,e,xC(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const m=$5(a,t);f=f.concat(function Aye(n,t,e){const i=t._path,r=Hy(n,t),o=Y5(n,e),s=n.listenProvider_.startListening(zy(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,D.hu)(!tu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!Qt(c)&&u&&tu(u))return[kC(u).query];{let m=[];return u&&(m=m.concat(z5(u).map(_=>_.query))),kr(f,(_,v)=>{m=m.concat(v)}),m}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(zy(u),Hy(n,u))}}return s}(n,t,m))}return f}function OC(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const c=eu(a,So(s,t));if(c)return c});return A5(r,t,o,e,!0)}function Lp(n,t){return K5(t,n.syncPointTree_,null,xC(n.pendingWriteTree_,Cn()))}function K5(n,t,e,i){if(Qt(n.path))return Z5(n,t,e,i);{const r=t.get(Cn());null==e&&null!=r&&(e=eu(r,Cn()));let o=[];const s=Yt(n.path),a=n.operationForChild(s),l=t.children.get(s);if(l&&a){const c=e?e.getImmediateChild(s):null,u=k5(i,s);o=o.concat(K5(a,l,c,u))}return r&&(o=o.concat(_k(r,n,i,e))),o}}function Z5(n,t,e,i){const r=t.get(Cn());null==e&&null!=r&&(e=eu(r,Cn()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=e?e.getImmediateChild(s):null,c=k5(i,s),u=n.operationForChild(s);u&&(o=o.concat(Z5(u,a,l,c)))}),r&&(o=o.concat(_k(r,n,i,e))),o}function Y5(n,t){const e=t.query,i=Hy(n,e);return{hashFn:()=>(function aye(n){return n.viewCache_.serverCache.getNode()}(t)||Nt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Cye(n,t,e){const i=bk(n,e);if(i){const r=wk(i),o=r.path,s=r.queryId,a=So(o,t);return Ek(n,o,new Ly(ak(s),a))}return[]}(n,e._path,i):function Eye(n,t){return Lp(n,new Ly({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function wge(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return NC(n,e,null,o)}}}}function Hy(n,t){const e=PC(t);return n.queryToTagMap.get(e)}function PC(n){return n._path.toString()+"$"+n._queryIdentifier}function bk(n,t){return n.tagToQueryMap.get(t)}function wk(n){const t=n.indexOf("$");return(0,D.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Nn(n.substr(0,t))}}function Ek(n,t,e){const i=n.syncPointTree_.get(t);return(0,D.hu)(i,"Missing sync point for query tag that we're tracking"),_k(i,e,xC(n.pendingWriteTree_,t),null)}function zy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function yye(){return(0,D.hu)(MC,"Reference.ts has not been loaded"),MC}())(n._repo,n._path):n}class Ck{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ck(e)}node(){return this.node_}}class Ik{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ti(this.path_,t);return new Ik(this.syncTree_,e)}node(){return OC(this.syncTree_,this.path_)}}const Rye=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},Q5=function(n,t,e){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?kye(n[".sv"],t,e):"object"==typeof n[".sv"]?Mye(n[".sv"],t):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},kye=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},Mye=function(n,t,e){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,D.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,D.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},X5=function(n,t,e,i){return xk(t,new Ik(e,n),i)},Tk=function(n,t,e){return xk(n,new Ck(t),e)};function xk(n,t,e){const i=n.getPriority().val(),r=Q5(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=Q5(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new kp(a,ki(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new kp(r))),s.forEachChild(ai,(a,l)=>{const c=xk(l,t.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class Dk{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function FC(n,t){let e=t instanceof Nn?t:new Nn(t),i=n,r=Yt(e);for(;null!==r;){const o=(0,D.DV)(i.node.children,r)||{children:{},childCount:0};i=new Dk(r,i,o),e=Jn(e),r=Yt(e)}return i}function Vd(n){return n.node.value}function Sk(n,t){n.node.value=t,Ak(n)}function J5(n){return n.node.childCount>0}function LC(n,t){kr(n.node.children,(e,i)=>{t(new Dk(e,n,i))})}function eW(n,t,e,i){e&&!i&&t(n),LC(n,r=>{eW(r,t,!0,i)}),e&&i&&t(n)}function $y(n){return new Nn(null===n.parent?n.name:$y(n.parent)+"/"+n.name)}function Ak(n){null!==n.parent&&function Pye(n,t,e){const i=function Nye(n){return void 0===Vd(n)&&!J5(n)}(e),r=(0,D.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Ak(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Ak(n))}(n.parent,n.name,n)}const Fye=/[\[\].#$\/\u0000-\u001F\u007F]/,Lye=/[\[\].#$\u0000-\u001F\u007F]/,Rk=10485760,VC=function(n){return"string"==typeof n&&0!==n.length&&!Fye.test(n)},tW=function(n){return"string"==typeof n&&0!==n.length&&!Lye.test(n)},Wy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!dC(n)||n&&"object"==typeof n&&(0,D.r3)(n,".sv")},$a=function(n,t,e,i){i&&void 0===t||Gy((0,D.gK)(n,"value"),t,e)},Gy=function(n,t,e){const i=e instanceof Nn?new e_e(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Nd(i));if("function"==typeof t)throw new Error(n+"contains a function "+Nd(i)+" with contents = "+t.toString());if(dC(t))throw new Error(n+"contains "+t.toString()+" "+Nd(i));if("string"==typeof t&&t.length>Rk/3&&(0,D.ug)(t)>Rk)throw new Error(n+"contains a string greater than "+Rk+" utf8 bytes "+Nd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(kr(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!VC(s)))throw new Error(n+" contains an invalid key ("+s+") "+Nd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function t_e(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,D.ug)(t),d5(n)})(i,s),Gy(n,a,i),function n_e(n){const t=n.parts_.pop();n.byteLength_-=(0,D.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Nd(i)+" in addition to actual children.")}},nW=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,D.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];kr(t,(s,a)=>{const l=new Nn(s);if(Gy(r,a,Ti(e,l)),".priority"===GR(l)&&!Wy(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Ry(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!VC(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Jge);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Us(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},kk=function(n,t,e){if(!e||void 0!==t){if(dC(t))throw new Error((0,D.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wy(t))throw new Error((0,D.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qy=function(n,t,e,i){if(!(i&&void 0===e||VC(e)))throw new Error((0,D.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ky=function(n,t,e,i){if(!(i&&void 0===e||tW(e)))throw new Error((0,D.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uye=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ky(n,t,e,i)},js=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},iW=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!VC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tW(n)}(e))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jye{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BC(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!qR(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function rW(n,t,e){BC(n,e),oW(n,i=>qR(i,t))}function hs(n,t,e){BC(n,e),oW(n,i=>Us(i,t)||Us(t,i))}function oW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Hye(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Hye(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();kd&&Rr("event: "+e.toString()),Ap(i)}}}const sW="repo_interrupt",zye=25;class $ye{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jye,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=EC(),this.transactionQueueTree_=new Dk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aW(n){const e=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Zy(n){return Rye({timestamp:aW(n)})}function lW(n,t,e,i,r){n.dataUpdateCount++;const o=new Nn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const l=(0,D.UI)(e,c=>ki(c));s=function Iye(n,t,e,i){const r=bk(n,i);if(r){const o=wk(r),s=o.path,a=o.queryId,l=So(s,t),c=li.fromObject(e);return Ek(n,s,new Pp(ak(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=ki(e);s=q5(n.serverSyncTree_,o,l,r)}else if(i){const l=(0,D.UI)(e,c=>ki(c));s=function wye(n,t,e){const i=li.fromObject(e);return Lp(n,new Pp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,l)}else{const l=ki(e);s=jy(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Bp(n,o)),hs(n.eventQueue_,a,s)}function cW(n,t){Mk(n,"connected",t),!1===t&&function Zye(n){Vp(n,"onDisconnectEvents");const t=Zy(n),e=EC();rk(n.onDisconnect_,Cn(),(r,o)=>{const s=X5(r,o,n.serverSyncTree_,t);Op(e,r,s)});let i=[];rk(e,Cn(),(r,o)=>{i=i.concat(jy(n.serverSyncTree_,r,o));const s=Fk(n,r);Bp(n,s)}),n.onDisconnect_=EC(),hs(n.eventQueue_,Cn(),i)}(n)}function Mk(n,t,e){const i=new Nn("/.info/"+t),r=ki(e);n.infoData_.updateSnapshot(i,r);const o=jy(n.infoSyncTree_,i,r);hs(n.eventQueue_,i,o)}function UC(n){return n.nextWriteId_++}function Nk(n,t,e,i,r){Vp(n,"set",{path:t.toString(),value:e,priority:i});const o=Zy(n),s=ki(e,i),a=OC(n.serverSyncTree_,t),l=Tk(s,a,o),c=UC(n),u=yk(n.serverSyncTree_,t,l,c,!0);BC(n.eventQueue_,u),n.server_.put(t.toString(),s.val(!0),(m,_)=>{const v="ok"===m;v||ro("set at "+t+" failed: "+m);const b=nu(n.serverSyncTree_,c,!v);hs(n.eventQueue_,t,b),iu(0,r,m,_)});const f=Fk(n,t);Bp(n,f),hs(n.eventQueue_,f,[])}function Yye(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&ik(n.onDisconnect_,t),iu(0,e,i,r)})}function uW(n,t,e,i){const r=ki(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Op(n.onDisconnect_,t,r),iu(0,i,o,s)})}function Ok(n,t,e){let i;i=".info"===Yt(t._path)?NC(n.infoSyncTree_,t,e):NC(n.serverSyncTree_,t,e),rW(n.eventQueue_,t._path,i)}function dW(n){n.persistentConnection_&&n.persistentConnection_.interrupt(sW)}function Vp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Rr(e,...t)}function iu(n,t,e,i){t&&Ap(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function Pk(n,t,e){return OC(n.serverSyncTree_,t,e)||Nt.EMPTY_NODE}function jC(n,t=n.transactionQueueTree_){if(t||HC(n,t),Vd(t)){const e=fW(n,t);(0,D.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function nve(n,t,e){const i=e.map(c=>c.currentWriteId),r=Pk(n,t,i);let o=r;const s=r.hash();for(let c=0;c<e.length;c++){const u=e[c];(0,D.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=So(t,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;n.server_.put(l.toString(),a,c=>{Vp(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const f=[];for(let m=0;m<e.length;m++)e[m].status=2,u=u.concat(nu(n.serverSyncTree_,e[m].currentWriteId)),e[m].onComplete&&f.push(()=>e[m].onComplete(null,!0,e[m].currentOutputSnapshotResolved)),e[m].unwatcher();HC(n,FC(n.transactionQueueTree_,t)),jC(n,n.transactionQueueTree_),hs(n.eventQueue_,t,u);for(let m=0;m<f.length;m++)Ap(f[m])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{ro("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}Bp(n,t)}},s)}(n,$y(t),e)}else J5(t)&&LC(t,e=>{jC(n,e)})}function Bp(n,t){const e=hW(n,t),i=$y(e);return function ive(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=So(e,l.path);let f,u=!1;if((0,D.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,f=l.abortReason,r=r.concat(nu(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=zye)u=!0,f="maxretry",r=r.concat(nu(n.serverSyncTree_,l.currentWriteId,!0));else{const m=Pk(n,l.path,s);l.currentInputSnapshot=m;const _=t[a].update(m.val());if(void 0!==_){Gy("transaction failed: Data returned ",_,l.path);let v=ki(_);"object"==typeof _&&null!=_&&(0,D.r3)(_,".priority")||(v=v.updatePriority(m.getPriority()));const I=l.currentWriteId,N=Zy(n),A=Tk(v,m,N);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=A,l.currentWriteId=UC(n),s.splice(s.indexOf(I),1),r=r.concat(yk(n.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(nu(n.serverSyncTree_,I,!0))}else u=!0,f="nodata",r=r.concat(nu(n.serverSyncTree_,l.currentWriteId,!0))}hs(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}HC(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Ap(i[a]);jC(n,n.transactionQueueTree_)}(n,fW(n,e),i),i}function hW(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===Vd(i);)i=FC(i,e),e=Yt(t=Jn(t));return i}function fW(n,t){const e=[];return pW(n,t,e),e.sort((i,r)=>i.order-r.order),e}function pW(n,t,e){const i=Vd(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);LC(t,r=>{pW(n,r,e)})}function HC(n,t){const e=Vd(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Sk(t,e.length>0?e:void 0)}LC(t,i=>{HC(n,i)})}function Fk(n,t){const e=$y(hW(n,t)),i=FC(n.transactionQueueTree_,t);return function Oye(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Lk(n,r)}),Lk(n,i),eW(i,r=>{Lk(n,r)}),e}function Lk(n,t){const e=Vd(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,D.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,D.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(nu(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Sk(t,void 0):e.length=o+1,hs(n.eventQueue_,$y(t),r);for(let s=0;s<i.length;s++)Ap(i[s])}}const Vk=function(n,t){const e=sve(n),i=e.namespace;return"firebase.com"===e.domain&&ja(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new UR(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Nn(e.pathString)}},sve=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(u,f)),u<f&&(r=function rve(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(u,f)));const m=function ove(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ro(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const _=t.slice(0,c);if("localhost"===_.toLowerCase())e="localhost";else if(_.split(".").length<=2)e=_;else{const v=t.indexOf(".");i=t.substring(0,v).toLowerCase(),e=t.substring(v+1),o=i}"ns"in m&&(o=m.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},mW="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ave=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=mW.charAt(e%64),e=Math.floor(e/64);(0,D.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=mW.charAt(t[r]);return(0,D.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class gW{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class _W{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Bk{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class yW{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new D.BH;return Yye(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){js("OnDisconnect.remove",this._path);const t=new D.BH;return uW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){js("OnDisconnect.set",this._path),$a("OnDisconnect.set",t,this._path,!1);const e=new D.BH;return uW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){js("OnDisconnect.setWithPriority",this._path),$a("OnDisconnect.setWithPriority",t,this._path,!1),kk("OnDisconnect.setWithPriority",e,!1);const i=new D.BH;return function Qye(n,t,e,i,r){const o=ki(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&Op(n.onDisconnect_,t,o),iu(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){js("OnDisconnect.update",this._path),nW("OnDisconnect.update",t,this._path,!1);const e=new D.BH;return function Xye(n,t,e,i){if((0,D.xb)(e))return Rr("onDisconnect().update() called with empty data.  Don't do anything."),void iu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&kr(e,(s,a)=>{const l=ki(a);Op(n.onDisconnect_,Ti(t,s),l)}),iu(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ko{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Qt(this._path)?null:GR(this._path)}get ref(){return new Hs(this._repo,this._path)}get _queryIdentifier(){const t=E5(this._queryParams),e=VR(t);return"{}"===e?"default":e}get _queryObject(){return E5(this._queryParams)}isEqual(t){if(!((t=(0,D.m9)(t))instanceof Ko))return!1;const e=this._repo===t._repo,i=qR(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Xge(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function zC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ru(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ha){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Fl)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ai){if(null!=t&&!Wy(t)||null!=e&&!Wy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(n.getIndex()instanceof XR||n.getIndex()===JR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $C(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Hs extends Ko{constructor(t,e){super(t,e,new vC,!1)}get parent(){const t=u5(this._path);return null===t?null:new Hs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Bd{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Nn(t),i=Ud(this.ref,t);return new Bd(this._node.getChild(e),i,ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Bd(r,Ud(this.ref,i),ai)))}hasChild(t){const e=new Nn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vW(n,t){return(n=(0,D.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ud(n._root,t):n._root}function bW(n,t){(n=(0,D.m9)(n))._checkNotDeleted("refFromURL");const e=Vk(t,n._repo.repoInfo_.nodeAdmin);iW("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ja("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),vW(n,e.path.toString())}function Ud(n,t){return null===Yt((n=(0,D.m9)(n))._path)?Uye("child","path",t,!1):Ky("child","path",t,!1),new Hs(n._repo,Ti(n._path,t))}function Uk(n,t){n=(0,D.m9)(n),js("set",n._path),$a("set",t,n._path,!1);const e=new D.BH;return Nk(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function hve(n,t){nW("update",t,n._path,!1);const e=new D.BH;return function Kye(n,t,e,i){Vp(n,"update",{path:t.toString(),value:e});let r=!0;const o=Zy(n),s={};if(kr(e,(a,l)=>{r=!1,s[a]=X5(Ti(t,a),ki(l),n.serverSyncTree_,o)}),r)Rr("update() called with empty data.  Don't do anything."),iu(0,i,"ok",void 0);else{const a=UC(n),l=function bye(n,t,e,i){!function L_e(n,t,e,i){(0,D.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=ck(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=li.fromObject(e);return Lp(n,new Pp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);BC(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,u)=>{const f="ok"===c;f||ro("update at "+t+" failed: "+c);const m=nu(n.serverSyncTree_,a,!f),_=m.length>0?Bp(n,t):t;hs(n.eventQueue_,_,m),iu(0,i,c,u)}),kr(e,c=>{const u=Fk(n,Ti(t,c));Bp(n,u)}),hs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function fve(n){n=(0,D.m9)(n);const t=new Bk(()=>{}),e=new Yy(t);return function qye(n,t,e){const i=function Tye(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,u)=>{const f=So(c,e);i=i||eu(u,f)});let r=n.syncPointTree_.get(e);r?i=i||eu(r,Cn()):(r=new j5,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new Xc(i,!0,!1):null;return function lye(n){return TC(n.viewCache_)}(H5(r,t,xC(n.pendingWriteTree_,t._path),o?s.getNode():Nt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ki(r).withIndex(t._queryParams.getIndex());let s;if(vk(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=jy(n.serverSyncTree_,t._path,o);else{const a=Hy(n.serverSyncTree_,t);s=q5(n.serverSyncTree_,t._path,o,a)}return hs(n.eventQueue_,t._path,s),NC(n.serverSyncTree_,t,e,null,!0),o},r=>(Vp(n,"get for query "+(0,D.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Bd(i,new Hs(n._repo,n._path),n._queryParams.getIndex()))}class Yy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new gW("value",this,new Bd(t.snapshotNode,new Hs(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new _W(this,t,e):null}matches(t){return t instanceof Yy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class WC{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new _W(this,t,e):null}createEvent(t,e){(0,D.hu)(null!=t.childName,"Child events should have a childName.");const i=Ud(new Hs(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new gW(t.type,this,new Bd(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof WC&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Qy(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=e,c=(u,f)=>{Ok(n._repo,n,a),l(u,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const s=new Bk(e,o||void 0),a="value"===t?new Yy(s):new WC(t,s);return function Jye(n,t,e){let i;i=".info"===Yt(t._path)?vk(n.infoSyncTree_,t,e):vk(n.serverSyncTree_,t,e),rW(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>Ok(n._repo,n,a)}function jk(n,t,e,i){return Qy(n,"value",t,e,i)}function wW(n,t,e,i){return Qy(n,"child_added",t,e,i)}function EW(n,t,e,i){return Qy(n,"child_changed",t,e,i)}function CW(n,t,e,i){return Qy(n,"child_moved",t,e,i)}function IW(n,t,e,i){return Qy(n,"child_removed",t,e,i)}function TW(n,t,e){let i=null;const r=e?new Bk(e):null;"value"===t?i=new Yy(r):t&&(i=new WC(t,r)),Ok(n._repo,n,i)}class da{}class xW extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("endAt",this._value,t._path,!0);const e=nk(t._queryParams,this._value,this._key);if($C(e),ru(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class mve extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("endBefore",this._value,t._path,!1);const e=function I_e(n,t,e){let i;return i=nk(n,t,n.index_===Ha||e?e:Zc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if($C(e),ru(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class DW extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("startAt",this._value,t._path,!0);const e=tk(t._queryParams,this._value,this._key);if($C(e),ru(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class yve extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){$a("startAfter",this._value,t._path,!1);const e=function C_e(n,t,e){let i;return i=tk(n,t,n.index_===Ha||e?e:Fl),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if($C(e),ru(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class bve extends da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function w_e(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Eve extends da{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function E_e(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Ive extends da{constructor(t){super(),this._path=t}_apply(t){zC(t,"orderByChild");const e=new Nn(this._path);if(Qt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new XR(e),r=bC(t._queryParams,i);return ru(r),new Ko(t._repo,t._path,r,!0)}}class xve extends da{_apply(t){zC(t,"orderByKey");const e=bC(t._queryParams,Ha);return ru(e),new Ko(t._repo,t._path,e,!0)}}class Sve extends da{_apply(t){zC(t,"orderByPriority");const e=bC(t._queryParams,ai);return ru(e),new Ko(t._repo,t._path,e,!0)}}class Rve extends da{_apply(t){zC(t,"orderByValue");const e=bC(t._queryParams,JR);return ru(e),new Ko(t._repo,t._path,e,!0)}}class Mve extends da{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if($a("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xW(this._value,this._key)._apply(new DW(this._value,this._key)._apply(t))}}function ha(n,...t){let e=(0,D.m9)(n);for(const i of t)e=i._apply(e);return e}(function hye(n){(0,D.hu)(!RC,"__referenceConstructor has already been defined"),RC=n})(Hs),function _ye(n){(0,D.hu)(!MC,"__referenceConstructor has already been defined"),MC=n}(Hs);const Hk={};function zk(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=Vk(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Vk(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new Ay(Ay.OWNER):new Dge(n.name,n.options,t);iW("Invalid Firebase Database URL",s),Qt(s.path)||ja("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Lve(n,t,e,i){let r=Hk[t.name];r||(r={},Hk[t.name]=r);let o=r[n.toURLString()];return o&&ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new $ye(n,false,e,i),r[n.toURLString()]=o,o}(a,n,u,new xge(n.name,e));return new Bve(f,n)}class Bve{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Wye(n,t,e){if(n.stats_=zR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new wC(n.repoInfo_,(i,r,o,s)=>{lW(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>cW(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Od(n.repoInfo_,t,(i,r,o,s)=>{lW(n,i,r,o,s)},i=>{cW(n,i)},i=>{!function Gye(n,t){kr(t,(e,i)=>{Mk(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Rge(n,t){const e=n.toString();return HR[e]||(HR[e]=t()),HR[e]}(n.repoInfo_,()=>new R_e(n.stats_,n.server_)),n.infoData_=new T_e,n.infoSyncTree_=new G5({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=jy(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Mk(n,"connected",!1),n.serverSyncTree_=new G5({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);hs(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hs(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Fve(n,t){const e=Hk[t];(!e||e[n.key]!==n)&&ja(`Database ${t}(${n.repoInfo_}) has already been deleted.`),dW(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ja("Cannot call "+t+" on a deleted database.")}}function AW(){X4.IS_TRANSPORT_INITIALIZED&&ro("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Uve(){AW(),Yc.forceDisallow()}function jve(){AW(),Rp.forceDisallow(),Yc.forceAllow()}function $ve(n,t){M4(n,t)}const Gve={".sv":"timestamp"};class Zve{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Od.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Od.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Wve(n){PR(Vs.SDK_VERSION),(0,Vs._registerComponent)(new Pl.wA("database",(t,{instanceIdentifier:e})=>zk(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(x4,"1.0.1",n),(0,Vs.registerVersion)(x4,"1.0.1","esm2017")}();const Jve=new ds.Yd("@firebase/database-compat"),kW=function(n){Jve.warn("FIREBASE WARNING: "+n)};class nbe{constructor(t){this._delegate=t}cancel(t){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class ibe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ou{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ky("DataSnapshot.child","path",t,!1),new ou(this._database,this._delegate.child(t))}hasChild(t){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ky("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ou(this._database,e)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new fs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",e,!1);const s=Wr.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{e.call(s.context,new ou(this.database,c),u)};a.userCallback=e,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return jk(this._delegate,a,l),e;case"child_added":return wW(this._delegate,a,l),e;case"child_removed":return IW(this._delegate,a,l),e;case"child_changed":return EW(this._delegate,a,l),e;case"child_moved":return CW(this._delegate,a,l),e;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,D.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,D.Wj)("Query.off","callback",e,!0),(0,D.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,TW(this._delegate,t,r)}else TW(this._delegate,t)}get(){return fve(this._delegate).then(t=>new ou(this.database,t))}once(t,e,i,r){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",e,!0);const o=Wr.getCancelAndContextArgs_("Query.once",i,r),s=new D.BH,a=(c,u)=>{const f=new ou(this.database,c);e&&e.call(o.context,f,u),s.resolve(f)};a.userCallback=e,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":jk(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":wW(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":IW(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":EW(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":CW(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function wve(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new bve(n)}(t)))}limitToLast(t){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function Cve(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Eve(n)}(t)))}orderByChild(t){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new Wr(this.database,ha(this._delegate,function Tve(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ky("orderByChild","path",n,!1),new Ive(n)}(t)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function Dve(){return new xve}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function Ave(){return new Sve}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new Wr(this.database,ha(this._delegate,function kve(){return new Rve}()))}startAt(t=null,e){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function _ve(n=null,t){return qy("startAt","key",t,!0),new DW(n,t)}(t,e)))}startAfter(t=null,e){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function vve(n,t){return qy("startAfter","key",t,!0),new yve(n,t)}(t,e)))}endAt(t=null,e){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function pve(n,t){return qy("endAt","key",t,!0),new xW(n,t)}(t,e)))}endBefore(t=null,e){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new Wr(this.database,ha(this._delegate,function gve(n,t){return qy("endBefore","key",t,!0),new mve(n,t)}(t,e)))}equalTo(t,e){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new Wr(this.database,ha(this._delegate,function Nve(n,t){return qy("equalTo","key",t,!0),new Mve(n,t)}(t,e)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Wr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,D.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,D.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,D.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new fs(this.database,new Hs(this._delegate._repo,this._delegate._path))}}class fs extends Wr{constructor(t,e){super(t,new Ko(e._repo,e._path,new vC,!1)),this.database=t,this._delegate=e}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new fs(this.database,Ud(this._delegate,t))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new fs(this.database,t):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new fs(this.database,this._delegate.root)}set(t,e){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",e,!0);const i=Uk(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,kW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}js("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",e,!0);const i=hve(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function dve(n,t,e){if(js("setWithPriority",n._path),$a("setWithPriority",t,n._path,!1),kk("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new D.BH;return Nk(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",t,!0);const e=function cve(n){return js("remove",n._path),Uk(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,D.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Yve(n,t,e){var i;if(n=(0,D.m9)(n),js("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new D.BH,a=jk(n,()=>{});return function tve(n,t,e,i,r,o){Vp(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:A4(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Pk(n,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Gy("transaction failed: Data returned ",l,s.path),s.status=0;const c=FC(n.transactionQueueTree_,t),u=Vd(c)||[];let f;u.push(s),Sk(c,u),"object"==typeof l&&null!==l&&(0,D.r3)(l,".priority")?(f=(0,D.DV)(l,".priority"),(0,D.hu)(Wy(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(OC(n.serverSyncTree_,t)||Nt.EMPTY_NODE).getPriority().val();const m=Zy(n),_=ki(l,f),v=Tk(_,a,m);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=v,s.currentWriteId=UC(n);const b=yk(n.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);hs(n.eventQueue_,t,b),jC(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,u)=>{let f=null;l?o.reject(l):(f=new Bd(u,new Hs(n._repo,n._path),ai),o.resolve(new Zve(c,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new ibe(o.committed,new ou(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",e,!0);const i=function uve(n,t){n=(0,D.m9)(n),js("setPriority",n._path),kk("setPriority",t,!1);const e=new D.BH;return Nk(n._repo,Ti(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",e,!0);const i=function lve(n,t){n=(0,D.m9)(n),js("push",n._path),$a("push",t,n._path,!0);const e=aW(n._repo),i=ave(e),r=Ud(n,i),o=Ud(n,i);let s;return s=null!=t?Uk(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new fs(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new fs(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return js("Reference.onDisconnect",this._delegate._path),new nbe(new yW(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Xy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Uve,forceLongPolling:jve}}useEmulator(t,e,i={}){!function RW(n,t,e,i={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ja("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ay(Ay.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,D.Sg)(i.mockUserToken,n.app.options.projectId);o=new Ay(s)}!function Pve(n,t,e,i){n.repoInfo_=new UR(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,D.Dv)("database.ref",0,1,arguments.length),t instanceof fs){const e=bW(this._delegate,t.toString());return new fs(this,e)}{const e=vW(this._delegate,t);return new fs(this,e)}}refFromURL(t){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const i=bW(this._delegate,t);return new fs(this,i)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function Hve(n){(n=(0,D.m9)(n))._checkNotDeleted("goOffline"),dW(n._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function zve(n){(n=(0,D.m9)(n))._checkNotDeleted("goOnline"),function eve(n){n.persistentConnection_&&n.persistentConnection_.resume(sW)}(n._repo)}(this._delegate)}}Xy.ServerValue={TIMESTAMP:function qve(){return Gve}(),increment:n=>function Kve(n){return{".sv":{increment:n}}}(n)};var obe=Object.freeze({__proto__:null,initStandalone:function rbe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){PR(e);const a=new Pl.H0("database-standalone"),l=new Pl.zt("auth-internal",a);let c;return l.setComponent(new Pl.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new Pl.zt("app-check-internal",a),c.setComponent(new Pl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Xy(zk(n,l,c,t,s),n),namespace:o}}});const sbe=Xy.ServerValue;function Jy(n,t,e="on",i=pd){return new ut(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(Ie(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),oe())}function MW(n){return null==n}function NW(n){return"function"==typeof n.set}function OW(n,t){return NW(t)?t:n.ref(t)}function PW(n,t){if(function lbe(n){return"string"==typeof n}(n))return t.stringCase();if(NW(n))return t.firebaseCase();if(function cbe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function FW(n){return(MW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function LW(n,t,e){return x(...(t=FW(t)).map(r=>Jy(n,r,"on",e)))}function VW(n,t){return function(i,r){return PW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function fbe(n){return function(e){return e?PW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function BW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function gbe(n,t){const{payload:e,prevKey:i,key:r}=t,o=BW(n,r),s=function mbe(n,t){if(MW(t))return 0;{const e=BW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function UW(n,t,e){return function pbe(n,t,e){return Jy(n,"value","once",e).pipe(Ue(i=>{const r=[R(i)];return t.forEach(o=>r.push(Jy(n,o,"on",e))),x(...r).pipe(ep(gbe,[]))}),dt())}(n,t=FW(t),e)}function jW(n,t){return function(){return Jy(n,"value","on",t)}}!function abe(n){n.INTERNAL.registerComponent(new Pl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Xy(r,i)},"PUBLIC").setServiceProps({Reference:fs,Query:Wr,Database:Xy,DataSnapshot:ou,enableLogging:$ve,INTERNAL:obe,ServerValue:sbe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(la.Z);const vbe=new ae("angularfire2.realtimeDatabaseURL"),bbe=new ae("angularfire2.database.use-emulator");let HW=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b,I){this.schedulers=a;const N=l,A=XE(e,s,i);c&&gR(A,s,u,m,_,v,f,b),this.database=lR(`${A.name}.database.${r}`,"AngularFireDatabase",A.name,()=>{const B=s.runOutsideAngular(()=>A.database(r||void 0));return N&&B.useEmulator(...N),B},[N])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>OW(this.database,e));let o=r;return i&&(o=i(r)),function _be(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:VW(i,"update"),set:VW(i,"set"),push:r=>i.push(r),remove:fbe(i),snapshotChanges:r=>UW(n,r,e).pipe(pr),stateChanges:r=>LW(n,r,e).pipe(pr),auditTrail:r=>function ube(n,t,e){return function hbe(n,t,e){return function dbe(n,t){return Jy(n,"value","on",t).pipe(Ie(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(DE(t),Ie(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function fge(n){return le((t,e)=>{let i=!1,r=0;t.subscribe(Se(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ie(r=>r.actions))}(n,LW(n,t).pipe(ep((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(pr),valueChanges:(r,o)=>UW(n,r,e).pipe(Ie(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),pr)}}(o,this)}object(e){return function ybe(n,t){return{query:n,snapshotChanges:()=>jW(n,t.schedulers.outsideAngular)().pipe(pr),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>jW(n,t.schedulers.outsideAngular)().pipe(pr,Ie(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>OW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(F(yy),F(vy,8),F(vbe,8),F(ks),F(He),F(JA),F(bbe,8),F(by,8),F(uR,8),F(dR,8),F(hR,8),F(fR,8),F(pR,8),F(mR,8),F(XA,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),wbe=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",py.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[HW]})}return n})(),Up=(()=>{class n{constructor(e,i,r){this.realTimeDatabase=e,this.http=i,this.authService=r,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.refNotes=e.list("/notes"),this.refRecipeList=e.list("/recipes"),this.refChats=e.list("/chats")}ngOnInit(){}addMessage(e){this.refChats.push(e)}updateMessage(e,i){this.refChats.update(e,i)}deleteMessage(e){return this.refChats.remove(e.key)}deleteMessages(){this.refChats.remove()}getMessages(){return this.refChats.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}getNotes(){return this.refNotes.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))),Rl(e=>dd(e)))}getWeather(e){return this.http.get(this.apiUrl+`weather?address=${e}`)}createNote(e){this.refNotes.push(e)}deleteNote(e){this.refNotes.remove(e.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(e,i){this.refNotes.update(e,i)}getRecipe(e){return this.refRecipeList.snapshotChanges().pipe(Ie(i=>i.map(r=>({key:e,Recipe:r.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe(Ie(e=>e.map(i=>({key:i.payload.key,...i.payload.val()}))))}addRecipe(e){this.refRecipeList.push(e)}updateRecipe(e,i){this.refRecipeList.update(e,i)}deleteRecipe(e){this.refRecipeList.remove(e)}static#e=this.\u0275fac=function(i){return new(i||n)(F(HW),F(gy),F(Gc))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ebe=(()=>{class n{transform(e,i){return i?(i=i.toLowerCase(),e.filter(r=>r.body.toLowerCase().includes(i))):e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"filter",type:n,pure:!0})}return n})();function Cbe(n,t){if(1&n){const e=bn();M(0,"div",10)(1,"button",14),xe("click",function(){return st(e),tt(re(2).deleteAllNotes())}),ce(2,"Osszes jegyzet torlese"),O()()}}function Ibe(n,t){1&n&&rt(0,"div",10)}function Tbe(n,t){1&n&&rt(0,"span",15)}const xbe=function(n,t,e){return{true:n,inputBg:t,inputFocus:e}};function Dbe(n,t){if(1&n){const e=bn();M(0,"div",8),se(1,Cbe,3,0,"div",9),M(2,"div",10)(3,"label",11),ce(4,"Keres\xe9s"),O()(),se(5,Ibe,1,0,"div",9),M(6,"div",10)(7,"input",12),xe("keyup",function(){return st(e),tt(re().inputClass=!1)})("keypress",function(){return st(e),tt(re().inputClass=!0)})("ngModelChange",function(r){return st(e),tt(re().searchWord=r)}),O(),se(8,Tbe,1,0,"span",13),O()()}if(2&n){const e=re();H(1),W("ngIf",e.isSuperAdmin),H(4),W("ngIf",e.isSuperAdmin),H(2),W("ngClass",ww(5,xbe,e.inputClass,!e.inputClass,""==e.searchWord))("ngModel",e.searchWord),H(1),W("ngIf",e.searchWord)}}function Sbe(n,t){1&n&&rt(0,"span",24)}function Abe(n,t){1&n&&rt(0,"span",25)}const Rbe=function(n,t){return{"btn-success":n,"btn-warning":t}};function kbe(n,t){if(1&n){const e=bn();M(0,"form",16)(1,"label",17),ce(2,"C\xedm"),O(),M(3,"input",18),xe("ngModelChange",function(r){return st(e),tt(re().title=r)}),O(),M(4,"label",19),ce(5,"Tennival\xf3"),O(),M(6,"textarea",20),xe("ngModelChange",function(r){return st(e),tt(re().body=r)}),O(),M(7,"button",21),xe("click",function(){return st(e),tt(re().createUpdateControl())}),se(8,Sbe,1,0,"span",22),se(9,Abe,1,0,"span",23),ce(10),O()()}if(2&n){const e=re();H(3),W("ngModel",e.title),H(3),W("ngModel",e.body),H(1),W("ngClass",od(6,Rbe,e.key,!e.key)),H(1),W("ngIf",!e.key),H(1),W("ngIf",e.key),H(1),ur(" ",e.buttonText,"")}}const Mbe=function(n){return{warning:n}};function Nbe(n,t){if(1&n&&(M(0,"div",26)(1,"b"),ce(2),O()()),2&n){const e=re();W("ngClass",Cl(2,Mbe,1==e.isLoading)),H(2),ri(e.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function Obe(n,t){if(1&n){const e=bn();M(0,"div",28)(1,"b"),ce(2," Hiba tortent az adatok lekeresekor: "),O(),ce(3),M(4,"button",29),xe("click",function(){return st(e),tt(re(2).onHandleError())}),ce(5,"Rendben"),O()()}if(2&n){const e=re(2);H(3),ur(" ",e.errorm," ")}}function Pbe(n,t){1&n&&se(0,Obe,6,1,"div",27),2&n&&W("ngIf",re().errorm)}function Fbe(n,t){if(1&n){const e=bn();M(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),ce(4),O(),M(5,"p",36),ce(6),O()(),M(7,"div",37),ce(8),v_(9,"date"),O(),M(10,"div",38)(11,"div",39)(12,"span",40),xe("click",function(){const o=st(e).$implicit;return tt(re(2).putDataToInput(o))}),O()(),M(13,"div",41)(14,"span",42),xe("click",function(){const o=st(e).$implicit;return tt(re(2).deleteNote(o))}),O()()()()()}if(2&n){const e=t.$implicit;H(4),ri(e.title),H(2),ri(e.body),H(2),o1(" ",0===e.counter?"Letrehozva: ":"Modositva: "," ",b_(9,4,e.timeStamp,"medium")," ")}}function Lbe(n,t){if(1&n&&(M(0,"div",30),se(1,Fbe,15,7,"div",31),v_(2,"filter"),O()),2&n){const e=re();H(1),W("ngForOf",b_(2,1,e.notes,e.searchWord))}}const Vbe=function(n,t){return{fg:n,"text-warning":t}};let Bbe=(()=>{class n{constructor(e,i){this.baseService=e,this.authService=i,this.isOpen=!1,this.isSuperAdmin=!1,this.subscription=new pt,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:e=>{this.isLoading=!1,this.notes=e,this.subscription=this.authService.isSuperAdmin.subscribe(i=>this.isSuperAdmin=i),console.log(this.subscription)},error:e=>{this.errorm=e.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(e),this.title="",this.body="",this.isOpen=!1}deleteNote(e){this.baseService.deleteNote(e)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(e=>{this.notes=[]})}updateNote(){const e={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,e),this.isUpdating=!1,this.isOpen=!1}putDataToInput(e){this.title=e.title,this.body=e.body,this.isUpdating=!0,this.key=e.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}ngOnDestroy(){this.subscription.unsubscribe(),console.log(this.subscription)}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up),T(Gc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search d-flex justify-content-center text-center align-items-center row",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","d-flex","justify-content-center","text-center","align-items-center","row"],["class","col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){if(1&i&&(M(0,"div",0),se(1,Dbe,9,9,"div",1),M(2,"button",2),xe("click",function(){return r.isOpen=!r.isOpen}),rt(3,"span",3),O(),se(4,kbe,11,9,"form",4),O(),se(5,Nbe,3,4,"div",5),se(6,Pbe,1,1,"ng-template",null,6,zo),se(8,Lbe,3,4,"div",7)),2&i){const o=lr(7);H(1),W("ngIf",!r.isOpen),H(2),W("ngClass",od(6,Vbe,r.isOpen,!r.isOpen)),H(1),W("ngIf",r.isOpen),H(1),W("ngIf",r.notes.length<1&&!r.errorm&&!r.clearError)("ngIfElse",o),H(3),W("ngIf",!r.isUpdating&&r.notes.length>=1)}},dependencies:[Sl,ss,hr,V_,Al,Mc,M_,Pc,Nc,QU,Ebe],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return n})();class Ube{constructor(t){this._box=t,this._destroyed=new z,this._resizeSubject=new z,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ut(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(zn(e=>e.some(i=>i.target===t)),cR({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let jbe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Te(He)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Ube(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zW{}class Hbe{}const Vl="*";function GC(n,t){return{type:7,name:n,definitions:t,options:{}}}function ev(n,t=null){return{type:4,styles:t,timings:n}}function $W(n,t=null){return{type:2,steps:n,options:t}}function Bl(n){return{type:6,styles:n,offset:null}}function qC(n,t,e){return{type:0,name:n,styles:t,options:e}}function jp(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zbe(n=null){return{type:9,options:n}}function $be(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class tv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WW{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Wbe=["notch"],Gbe=["matFormFieldNotchedOutline",""],qbe=["*"],Kbe=["textField"],Zbe=["iconPrefixContainer"],Ybe=["textPrefixContainer"];function Qbe(n,t){1&n&&rt(0,"span",19)}function Xbe(n,t){if(1&n&&(M(0,"label",17),dn(1,1),se(2,Qbe,1,0,"span",18),O()),2&n){const e=re(2);W("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Pt("for",e._control.id),H(2),W("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Jbe(n,t){1&n&&se(0,Xbe,3,5,"label",16),2&n&&W("ngIf",re()._hasFloatingLabel())}function e0e(n,t){1&n&&rt(0,"div",20)}function t0e(n,t){}function n0e(n,t){1&n&&se(0,t0e,0,0,"ng-template",22),2&n&&(re(2),W("ngTemplateOutlet",lr(1)))}function i0e(n,t){if(1&n&&(M(0,"div",21),se(1,n0e,1,1,"ng-template",9),O()),2&n){const e=re();W("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),H(1),W("ngIf",!e._forceDisplayInfixLabel())}}function r0e(n,t){1&n&&(M(0,"div",23,24),dn(2,2),O())}function o0e(n,t){1&n&&(M(0,"div",25,26),dn(2,3),O())}function s0e(n,t){}function a0e(n,t){1&n&&se(0,s0e,0,0,"ng-template",22),2&n&&(re(),W("ngTemplateOutlet",lr(1)))}function l0e(n,t){1&n&&(M(0,"div",27),dn(1,4),O())}function c0e(n,t){1&n&&(M(0,"div",28),dn(1,5),O())}function u0e(n,t){1&n&&rt(0,"div",29)}function d0e(n,t){1&n&&(M(0,"div",30),dn(1,6),O()),2&n&&W("@transitionMessages",re()._subscriptAnimationState)}function h0e(n,t){if(1&n&&(M(0,"mat-hint",34),ce(1),O()),2&n){const e=re(2);W("id",e._hintLabelId),H(1),ri(e.hintLabel)}}function f0e(n,t){if(1&n&&(M(0,"div",31),se(1,h0e,2,2,"mat-hint",32),dn(2,7),rt(3,"div",33),dn(4,8),O()),2&n){const e=re();W("@transitionMessages",e._subscriptAnimationState),H(1),W("ngIf",e.hintLabel)}}const p0e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],m0e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let jd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-label"]]})}return n})();const g0e=new ae("MatError");let _0e=0,GW=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+_0e++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Hr("id",r.id),Pt("align",null),ct("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const y0e=new ae("MatPrefix"),qW=new ae("MatSuffix");let v0e=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[bt([{provide:qW,useExisting:n}])]})}return n})();const KW=new ae("FloatingLabelParent");let ZW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Te(jbe),this._ngZone=Te(He),this._parent=Te(KW),this._resizeSubscription=new pt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function b0e(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(T(it))};static#t=this.\u0275dir=X({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&ct("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const YW="mdc-line-ripple--active",KC="mdc-line-ripple--deactivating";let QW=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(KC);"opacity"===r.propertyName&&s&&o.remove(YW,KC)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(KC),e.add(YW)}deactivate(){this._elementRef.nativeElement.classList.add(KC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(He))};static#t=this.\u0275dir=X({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),XW=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(He))};static#t=this.\u0275cmp=yt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&En(Wbe,5),2&i){let o;Le(o=Ve())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&ct("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Gbe,ngContentSelectors:qbe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(no(),rt(0,"div",0),M(1,"div",1,2),dn(3),O(),rt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const w0e={transitionMessages:GC("transitionMessages",[qC("enter",Bl({opacity:1,transform:"translateY(0%)"})),jp("void => enter",[Bl({opacity:0,transform:"translateY(-5px)"}),ev("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n})}return n})();const Gk=new ae("MatFormField"),E0e=new ae("MAT_FORM_FIELD_DEFAULT_OPTIONS");let JW=0,nv=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+JW++,this._hintLabelId="mat-mdc-hint-"+JW++,this._subscriptAnimationState="",this._destroyed=new z,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),x(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(dr),T(He),T(Dp),T(Ar),T(E0e,8),T(Xs,8),T(wt))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,jd,5),Ft(o,jd,7),Ft(o,Wk,5),Ft(o,y0e,5),Ft(o,qW,5),Ft(o,g0e,5),Ft(o,GW,5)),2&i){let s;Le(s=Ve())&&(r._labelChildNonStatic=s.first),Le(s=Ve())&&(r._labelChildStatic=s.first),Le(s=Ve())&&(r._formFieldControl=s.first),Le(s=Ve())&&(r._prefixChildren=s),Le(s=Ve())&&(r._suffixChildren=s),Le(s=Ve())&&(r._errorChildren=s),Le(s=Ve())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(En(Kbe,5),En(Zbe,5),En(Ybe,5),En(ZW,5),En(XW,5),En(QW,5)),2&i){let o;Le(o=Ve())&&(r._textField=o.first),Le(o=Ve())&&(r._iconPrefixContainer=o.first),Le(o=Ve())&&(r._textPrefixContainer=o.first),Le(o=Ve())&&(r._floatingLabel=o.first),Le(o=Ve())&&(r._notchedOutline=o.first),Le(o=Ve())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&ct("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[bt([{provide:Gk,useExisting:n},{provide:KW,useExisting:n}])],ngContentSelectors:m0e,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(no(p0e),se(0,Jbe,1,1,"ng-template",null,0,zo),M(2,"div",1,2),xe("click",function(s){return r._control.onContainerClick(s)}),se(4,e0e,1,0,"div",3),M(5,"div",4),se(6,i0e,2,2,"div",5),se(7,r0e,3,0,"div",6),se(8,o0e,3,0,"div",7),M(9,"div",8),se(10,a0e,1,1,"ng-template",9),dn(11),O(),se(12,l0e,2,0,"div",10),se(13,c0e,2,0,"div",11),O(),se(14,u0e,1,0,"div",12),O(),M(15,"div",13),se(16,d0e,2,1,"div",14),se(17,f0e,5,2,"div",15),O()),2&i&&(H(2),ct("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),H(2),W("ngIf",!r._hasOutline()&&!r._control.disabled),H(2),W("ngIf",r._hasOutline()),H(1),W("ngIf",r._hasIconPrefix),H(1),W("ngIf",r._hasTextPrefix),H(2),W("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),H(2),W("ngIf",r._hasTextSuffix),H(1),W("ngIf",r._hasIconSuffix),H(1),W("ngIf",!r._hasOutline()),H(1),ct("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),W("ngSwitch",r._getDisplayedMessages()),H(1),W("ngSwitchCase","error"),H(1),W("ngSwitchCase","hint"))},dependencies:[hr,Sc,S_,oS,GW,ZW,XW,QW],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[w0e.transitionMessages]},changeDetection:0})}return n})(),ZC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Zf,j$,Li]})}return n})();const n8=Ip({passive:!0});let T0e=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yn;const i=Kc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new z,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,n8),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,n8)}}),o}stopMonitoring(e){const i=Kc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(He))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const D0e=new ae("MAT_INPUT_VALUE_ACCESSOR"),S0e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let A0e=0;const R0e=o4(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new z}});let iv=(()=>{class n extends R0e{get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(k_.required)??!1}set required(e){this._required=Fn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&P$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fn(e)}constructor(e,i,r,o,s,a,l,c,u,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+A0e++,this.focused=!1,this.stateChanges=new z,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>P$().has(v)),this._iOSKeyupListener=v=>{const b=v.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const m=this._elementRef.nativeElement,_=m.nodeName.toLowerCase();this._inputValueAccessor=l||m,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===_,this._isTextarea="textarea"===_,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){S0e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(T(it),T(Ar),T(Fa,10),T(Nc,8),T(Qf,8),T(s4),T(D0e,10),T(T0e),T(He),T(Gk,8))};static#t=this.\u0275dir=X({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&xe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Hr("id",r.id)("disabled",r.disabled)("required",r.required),Pt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ct("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[bt([{provide:Wk,useExisting:n}]),Ke,Yn]})}return n})(),k0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,ZC,ZC,x0e,Li]})}return n})();const rv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=rv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new pt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=rv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=rv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class N0e extends xE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class M0e extends TE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=rv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(rv.cancelAnimationFrame(e),t._scheduled=void 0)}});let qk,P0e=1;const YC={};function i8(n){return n in YC&&(delete YC[n],!0)}const F0e={setImmediate(n){const t=P0e++;return YC[t]=!0,qk||(qk=Promise.resolve()),qk.then(()=>i8(t)&&n()),t},clearImmediate(n){i8(n)}},{setImmediate:L0e,clearImmediate:V0e}=F0e,QC={setImmediate(...n){const{delegate:t}=QC;return(t?.setImmediate||L0e)(...n)},clearImmediate(n){const{delegate:t}=QC;return(t?.clearImmediate||V0e)(n)},delegate:void 0};new class U0e extends xE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class B0e extends TE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=QC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(QC.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function r8(n,t=pd){return function H0e(n){return le((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Se(e,c=>{i=!0,r=c,o||be(n(c)).subscribe(o=Se(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>pA(n,t))}let o8=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ut(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(r8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):R()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Kc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Sr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(F(He),F(Ar),F(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XC=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(r8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(He),F(wt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Kk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Ey,JC,Ey,JC]})}return n})();class Zk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class s8 extends Zk{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class a8 extends Zk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class G0e extends Zk{constructor(t){super(),this.element=t instanceof it?t.nativeElement:t}}class q0e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof s8?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof a8?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof G0e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class K0e extends q0e{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||$i.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Z0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})();const l8=Mpe();class Y0e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),l8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),l8&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Q0e{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(zn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class c8{enable(){}disable(){}attach(){}}function Yk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function u8(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class X0e{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Yk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J0e=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new c8,this.close=s=>new Q0e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Y0e(this._viewportRuler,this._document),this.reposition=s=>new X0e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(F(o8),F(XC),F(He),F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class d8{constructor(t){if(this.scrollStrategy=new c8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class ewe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let h8=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),twe=(()=>{class n extends h8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(He,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nwe=(()=>{class n extends h8{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=qc(o)},this._clickListener=o=>{const s=qc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(Ar),F(He,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f8=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),vR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(Ar))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iwe{constructor(t,e,i,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new z,this._attachments=new z,this._detachments=new z,this._locationChanges=pt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new z,this._outsidePointerEvents=new z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=tC(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Et(x(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const p8="cdk-overlay-connected-position-bounding-box",rwe=/([A-Za-z%]+)$/;class owe{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z,this._resizeSubscription=pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(p8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(p8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=g8(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let m=0-a,_=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,m,_),I=v*b;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=m8(this._overlayRef.getConfig().minHeight),a=m8(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=g8(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new ewe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,f,m;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=2*_,f=t.x-_,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-v/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=er(i.height),r.top=er(i.top),r.bottom=er(i.bottom),r.width=er(i.width),r.left=er(i.left),r.right=er(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=er(o)),s&&(r.maxWidth=er(s))}this._lastBoundingBoxSize=i,Hd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Hd(i,this._getExactOverlayY(e,t,u)),Hd(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=er(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=er(s.maxWidth):o&&(i.maxWidth="")),Hd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=er(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=er(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u8(t,i),isOriginOutsideView:Yk(t,i),isOverlayClipped:u8(e,i),isOverlayOutsideView:Yk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&tC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof it)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Hd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function m8(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(rwe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function g8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _8="cdk-global-overlay-wrapper";class swe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let _="",v="",b="";l?b="flex-start":"center"===u?(b="center",m?v=f:_=f):m?"left"===u||"end"===u?(b="flex-end",_=f):("right"===u||"start"===u)&&(b="flex-start",v=f):"left"===u||"start"===u?(b="flex-start",_=f):("right"===u||"end"===u)&&(b="flex-end",v=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(_8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let awe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new swe}flexibleConnectedTo(e){return new owe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(F(XC),F(wt),F(Ar),F(f8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lwe=0,Hp=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,f,m,_){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=_}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new d8(e);return s.direction=s.direction||this._directionality.value,new iwe(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+lwe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ta)),new K0e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(F(J0e),F(f8),F(Jg),F(awe),F(twe),F($i),F(He),F(wt),F(Dp),F(Mw),F(nwe),F(Xs,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cwe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],y8=new ae("cdk-connected-overlay-scroll-strategy");let Qk=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(T(it))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),v8=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Fn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Fn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Fn(e)}get push(){return this._push}set push(e){this._push=Fn(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=pt.EMPTY,this._attachSubscription=pt.EMPTY,this._detachSubscription=pt.EMPTY,this._positionSubscription=pt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Pe,this.positionChange=new Pe,this.attach=new Pe,this.detach=new Pe,this.overlayKeydown=new Pe,this.overlayOutsideClick=new Pe,this._templatePortal=new a8(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=cwe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Tp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new d8({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Qk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function W0e(n,t=!1){return le((e,i)=>{let r=0;e.subscribe(Se(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Hp),T(hn),T(Xi),T(y8),T(Dp,8))};static#t=this.\u0275dir=X({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Yn]})}return n})();const dwe={provide:y8,deps:[Hp],useFactory:function uwe(n){return()=>n.scrollStrategies.reposition()}};let b8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[Hp,dwe],imports:[Ey,Z0e,Kk,Kk]})}return n})();const hwe=["tooltip"],w8=new ae("mat-tooltip-scroll-strategy"),mwe={provide:w8,deps:[Hp],useFactory:function pwe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},_we=new ae("mat-tooltip-default-options",{providedIn:"root",factory:function gwe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),E8="tooltip-panel",C8=Ip({passive:!0});let Cwe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Fn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=eC(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=eC(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,c,u,f,m,_){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new z,this._scrollStrategy=u,this._document=_,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),f.change.pipe(Et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,C8)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new s8(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof it)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Et(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${E8}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Et(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Tp(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qn(1),Et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${E8}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,C8)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){kf()};static#t=this.\u0275dir=X({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),I8=(()=>{class n extends Cwe{constructor(e,i,r,o,s,a,l,c,u,f,m,_){super(e,i,r,o,s,a,l,c,u,f,m,_),this._tooltipComponent=Twe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(T(Hp),T(it),T(o8),T(Xi),T(He),T(Ar),T(eme),T(X$),T(w8),T(Dp,8),T(_we,8),T(wt))};static#t=this.\u0275dir=X({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&ct("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Ke]})}return n})(),Iwe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new z,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(T(dr),T(Xs,8))};static#t=this.\u0275dir=X({type:n})}return n})(),Twe=(()=>{class n extends Iwe{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(T(dr),T(it),T(Xs,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&En(hwe,7),2&i){let o;Le(o=Ve())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&xe("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&nd("zoom",r.isVisible()?1:null)},features:[Ke],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(M(0,"div",0,1),xe("animationend",function(s){return r._handleAnimationEnd(s)}),M(2,"div",2),ce(3),O()()),2&i&&(ct("mdc-tooltip--multiline",r._isMultiline),W("ngClass",r.tooltipClass),H(3),ri(r.message))},dependencies:[Sl],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),xwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[mwe],imports:[_me,Zf,b8,Li,Li,JC]})}return n})();const Dwe=["f"];function Swe(n,t){1&n&&(M(0,"span"),ce(1,"Kerlek adj meg egy ervenyes e-mail cimet"),O())}function Awe(n,t){if(1&n&&(M(0,"div")(1,"label"),rt(2,"input",16),ce(3),O()()),2&n){const e=t.$implicit;H(2),W("value",e),H(1),ur(" ",e," ")}}let Rwe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.signupForm.reset(),this.router.navigate(["login"]),this.isLoggedIn=""}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gc),T(Dr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-signup"]],viewQuery:function(i,r){if(1&i&&En(Dwe,5),2&i){let o;Le(o=Ve())&&(r.signupForm=o.first)}},decls:24,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[1,"text-center","mt-0","container-2"],[4,"ngIf"],["mat-raised-button","","type","button",1,"mb-3",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],[1,"container-0","container-1"],["routerLink","/login","matTooltipPosition","left","matTooltip","Gyorsabb bel\xe9p\xe9s regisztr\xe1ci\xf3 n\xe9lk\xfcl"],["ngModel","","type","radio","name","genders","id","genders","required","",3,"value"]],template:function(i,r){if(1&i&&(M(0,"div",0)(1,"h2",1),ce(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),O()(),M(3,"form",2,3),xe("ngSubmit",function(){return r.createUserWithEmAndPa()}),M(5,"mat-form-field")(6,"mat-label",4),ce(7,"Email"),O(),M(8,"input",5,6),xe("ngModelChange",function(s){return r.email=s}),O()(),M(10,"div",7),se(11,Swe,2,0,"span",8),M(12,"button",9),xe("click",function(){return r.emailSuggestion()}),ce(13,"Mutass egy peldat a megfelelo formatumu email cimre!"),O()(),M(14,"mat-form-field")(15,"mat-label",10),ce(16,"Jelsz\xf3"),O(),M(17,"input",11),xe("ngModelChange",function(s){return r.password=s}),O()(),se(18,Awe,4,2,"div",12),M(19,"button",13),ce(20,"Regisztr\xe1ci\xf3"),O()(),M(21,"div",14)(22,"h2",15),ce(23,"Vagy l\xe9pj be Google fi\xf3kkal, vagy telefonsz\xe1mmal"),O()()),2&i){const o=lr(4),s=lr(9);H(8),W("ngModel",r.email),H(3),W("ngIf",!s.valid&&s.touched),H(6),W("ngModel",r.password),H(1),W("ngForOf",r.genders),H(1),W("disabled",!o.valid)}},dependencies:[ss,hr,Uc,V_,Al,OS,Mc,M_,iE,HS,Pc,Nc,nv,jd,Sd,iv,I8],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.container-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px!important;height:-moz-fit-content;height:fit-content;background-color:#0a7e0ab3;border-radius:10px}.container-2[_ngcontent-%COMP%], .container-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}form[_ngcontent-%COMP%]{display:grid}"]})}return n})();function kwe(n,t){1&n&&(M(0,"div",3)(1,"h2",4),ce(2," Bejelentkez\xe9s Email c\xedmmel "),O()())}function Mwe(n,t){if(1&n){const e=bn();M(0,"form",5),xe("ngSubmit",function(){return st(e),tt(re().loginWithEmAndPa())}),M(1,"mat-form-field")(2,"mat-label",6),ce(3,"Email"),O(),M(4,"input",7),xe("ngModelChange",function(r){return st(e),tt(re().email=r)}),O()(),M(5,"mat-form-field")(6,"mat-label",8),ce(7,"Jelsz\xf3"),O(),M(8,"input",9),xe("ngModelChange",function(r){return st(e),tt(re().password=r)}),O()(),M(9,"button",10),ce(10,"Bejelentkez\xe9s"),O(),M(11,"h4",11),ce(12," Vagy bejelentkez\xe9s egyszer\u0171en "),M(13,"a",12),xe("click",function(){st(e);const r=re();return r.facebookOrGoogle=!0,tt(r.booleanFunction())}),rt(14,"i",13),O(),M(15,"a",14),xe("click",function(){st(e);const r=re();return r.facebookOrGoogle=!1,tt(r.booleanFunction())}),rt(16,"i",15),O(),M(17,"button",16),xe("click",function(){st(e);const r=re();return r.booleanFunction(),tt(r.isPhone=!r.isPhone)}),rt(18,"span",17),O()()()}if(2&n){const e=re();H(4),W("ngModel",e.email),H(4),W("ngModel",e.password)}}function Nwe(n,t){if(1&n){const e=bn();M(0,"div",19)(1,"button",20),xe("click",function(){return st(e),tt(re(2).loginWithGoogle())}),rt(2,"i",21),ce(3," Bejelentkez\xe9s "),O()()}if(2&n){const e=re(2);H(1),W("disabled",!e.facebookOrGoogle)}}function Owe(n,t){if(1&n){const e=bn();M(0,"div",19)(1,"button",22),xe("click",function(){return st(e),tt(re(2).loginWithFacebook())}),rt(2,"i",23),ce(3," Bejelentkez\xe9s "),O()()}if(2&n){const e=re(2);H(1),W("disabled",e.facebookOrGoogle)}}function Pwe(n,t){if(1&n&&(Bo(0),se(1,Nwe,4,1,"div",18),se(2,Owe,4,1,"div",18),Uo()),2&n){const e=re();H(1),W("ngIf",e.emailOrGoogle),H(1),W("ngIf",e.emailOrGoogle)}}function Fwe(n,t){if(1&n){const e=bn();Bo(0),rt(1,"div",24),M(2,"div",25)(3,"div",26)(4,"input",27),xe("ngModelChange",function(r){return st(e),tt(re().phoneNumber=r)}),O(),M(5,"label",28),ce(6,"+36"),O()(),M(7,"div",29),rt(8,"span",30),O(),M(9,"div",31)(10,"button",32),xe("click",function(){return st(e),tt(re().startLoginWithPhoneNumber())}),rt(11,"i",33),ce(12," Bejelentkez\xe9s "),O()()(),Uo()}if(2&n){const e=re();H(2),W("ngClass",e.isPhone?"d-flex":"d-none"),H(2),W("ngModel",e.phoneNumber)}}function Lwe(n,t){if(1&n){const e=bn();Bo(0),M(1,"div",34)(2,"input",35),xe("ngModelChange",function(r){return st(e),tt(re().verificationCode=r)}),O(),M(3,"label",36),ce(4,"Meger\u0151s\xedt\u0151 k\xf3d"),O()(),M(5,"div",37)(6,"button",38),xe("click",function(){return st(e),tt(re().verifyPhoneNumberAndLogin())}),ce(7," K\xf3d meger\u0151s\xedt\xe9se "),O()(),Uo()}if(2&n){const e=re();H(2),W("ngModel",e.verificationCode)}}let Vwe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.router.navigate([""])}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>this.router.navigate([""]))}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate([""]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber("+36"+this.phoneNumber).then(e=>{this.verificationId=e.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const e=fy.P.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(e).then(()=>this.router.navigate([""]))}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gc),T(Dr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],[1,"bi","bi-facebook","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["color","primary","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-facebook"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(i,r){1&i&&(se(0,kwe,3,0,"div",0),se(1,Mwe,19,2,"form",1),se(2,Pwe,3,2,"ng-container",2),se(3,Fwe,13,2,"ng-container",2),se(4,Lwe,8,1,"ng-container",2)),2&i&&(W("ngIf",!r.emailOrGoogle),H(1),W("ngIf",!r.emailOrGoogle),H(1),W("ngIf",r.emailOrGoogle&&!r.isPhone),H(1),W("ngIf",r.emailOrGoogle&&!r.reCapthcaOff),H(1),W("ngIf",r.verificationId))},dependencies:[Sl,hr,V_,Al,Mc,M_,Pc,Nc,nv,jd,Sd,iv,I8],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:30%;width:40%}"]})}return n})();const Bwe=["saveChanges"];function Uwe(n,t){if(1&n&&(M(0,"div",3)(1,"b"),ce(2),O()()),2&n){const e=t.$implicit;H(2),ri(e)}}function jwe(n,t){if(1&n){const e=bn();M(0,"div",9)(1,"div",3),ce(2),O(),M(3,"div",3),rt(4,"img",10),O(),M(5,"div",3),ce(6),O(),M(7,"div",3)(8,"div",11)(9,"input",12),xe("change",function(){const o=st(e).$implicit;return tt(re(2).changeClaims(o))})("ngModelChange",function(r){return tt(st(e).$implicit.claims.superAdmin=r)}),O(),M(10,"label",13),ce(11,"Super Admin"),O()(),M(12,"div",11)(13,"input",12),xe("change",function(){const o=st(e).$implicit;return tt(re(2).changeClaims(o))})("ngModelChange",function(r){return tt(st(e).$implicit.claims.admin=r)}),O(),M(14,"label",13),ce(15,"Admin"),O()(),M(16,"div",11)(17,"input",12),xe("change",function(){const o=st(e).$implicit;return tt(re(2).changeClaims(o))})("ngModelChange",function(r){return tt(st(e).$implicit.claims.basic=r)}),O(),M(18,"label",13),ce(19,"Alap jogosults\xe1g"),O()()()()}if(2&n){const e=t.$implicit;H(2),ri(e.displayName),H(2),hw("src",e.profilePicture,uD),H(2),ri(e.email),H(3),W("ngModel",e.claims.superAdmin),H(4),W("ngModel",e.claims.admin),H(4),W("ngModel",e.claims.basic)}}function Hwe(n,t){if(1&n){const e=bn();Bo(0),se(1,jwe,20,6,"div",4),M(2,"div",5)(3,"div",6)(4,"button",7,8),xe("click",function(){return st(e),tt(re().save())}),ce(6,"Modositasok mentese"),O()()(),Uo()}if(2&n){const e=re();H(1),W("ngForOf",e.users)}}let zwe=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(e=>{this.users=e})},1e3)}changeClaims(e){this.authService.setCustomClaims(e.uid,e.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(e=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gc),T(Dr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&En(Bwe,5),2&i){let o;Le(o=Ve())&&(r.saveChanges=o.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(i,r){1&i&&(M(0,"div",0),se(1,Uwe,3,1,"div",1),O(),se(2,Hwe,7,1,"ng-container",2)),2&i&&(H(1),W("ngForOf",r.columns),H(1),W("ngIf",r.users))},dependencies:[ss,hr,wS,Mc,Pc]})}return n})();const $we=["*"],qwe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Kwe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Zwe=new ae("MAT_CARD_CONFIG");let eI=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(T(Zwe,8))};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&ct("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:$we,decls:1,vars:0,template:function(i,r){1&i&&(no(),dn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),tI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),nI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),Xk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),T8=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&ct("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),iI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Kwe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(no(qwe),dn(0),M(1,"div",0),dn(2,1),O(),dn(3,2))},encapsulation:2,changeDetection:0})}return n})(),Jk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=X({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),Qwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,Zf,Li]})}return n})();function Xwe(n,t){if(1&n&&(Bo(0),M(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),ce(5),O()(),M(6,"mat-card-content")(7,"p"),ce(8),O()()()(),Uo()),2&n){const e=re();H(5),ri(e.weather.location),H(3),ri(e.weather.forecast)}}let Jwe=(()=>{class n{constructor(e){this.baseService=e,this.location="",this.weather={}}getWeather(e){this.baseService.getWeather(e).subscribe(i=>{this.weather=i})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(i,r){1&i&&(M(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),ce(3,"Hely neve"),O(),M(4,"input",2),xe("ngModelChange",function(s){return r.location=s}),O()(),M(5,"button",3),xe("click",function(){return r.getWeather(r.location)}),ce(6,"Keres\xe9s"),O()(),se(7,Xwe,9,2,"ng-container",4)),2&i&&(H(4),W("ngModel",r.location),H(3),W("ngIf",r.weather.location))},dependencies:[hr,Al,Mc,Pc,nv,jd,eI,nI,iI,tI,Sd,iv]})}return n})(),eEe=(()=>{class n{transform(e,i){return e.sort((r,o)=>r[i]>o[i]?1:-1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"sort",type:n,pure:!0})}return n})(),tEe=(()=>{class n{transform(e,i){return e.length>i?e.substr(0,i)+"...":e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=zi({name:"shorten",type:n,pure:!0})}return n})();const nEe=function(n){return{active:n}};function iEe(n,t){if(1&n){const e=bn();M(0,"div",6)(1,"ul",7)(2,"li",8),xe("click",function(){const o=st(e).$implicit;return tt(re().recipeDetail(o.key))}),ce(3),v_(4,"shorten"),O()()()}if(2&n){const e=t.$implicit,i=re();H(2),W("ngClass",Cl(5,nEe,e.key===i.key)),H(1),ur(" ",b_(4,2,e.name,15)," ")}}let rEe=(()=>{class n{constructor(e,i,r){this.baseService=e,this.router=i,this.route=r,this.recipeEdit=!1,this.key="",this.recipes=[]}ngOnInit(){this.baseService.getRecipes().subscribe(e=>{this.recipes=e})}recipeDetail(e){this.key=e,this.router.navigate(["detail"],{relativeTo:this.route,queryParams:{key:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up),T(Dr),T(Ml))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipes"]],decls:10,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"text-center","col-12","col-md-4","col-lg-4","col-xl-4"],["routerLink","create","type","button",1,"btn","btn-secondary","mt-3"],[1,"mt-3","mb-0","border-top","border-success","border-5"],["class","mt-0 text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-8","col-lg-8","col-xl-8"],[1,"mt-0","text-center"],[1,"list-group","text-center","mt-0"],[1,"list-group-item","list-group-item-light","mb-1",2,"cursor","pointer",3,"ngClass","click"]],template:function(i,r){1&i&&(M(0,"div",0)(1,"div",1)(2,"button",2),ce(3," Uj recept hozzaadasa "),O(),M(4,"h2",3),ce(5,"Receptek"),O(),se(6,iEe,5,7,"div",4),v_(7,"sort"),O(),M(8,"div",5),rt(9,"router-outlet"),O()()),2&i&&(H(6),W("ngForOf",b_(7,1,r.recipes,"name")))},dependencies:[Sl,ss,gE,Uc,eEe,tEe],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.active[_ngcontent-%COMP%]{background-color:#7e037eb3;border:2px solid purple}.border-success[_ngcontent-%COMP%]{border-color:#0d6a0d80!important}"]})}return n})();class oEe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new z,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const sEe=["trigger"],aEe=["panel"];function lEe(n,t){if(1&n&&(M(0,"span",10),ce(1),O()),2&n){const e=re();H(1),ri(e.placeholder)}}function cEe(n,t){if(1&n&&(M(0,"span",14),ce(1),O()),2&n){const e=re(2);H(1),ri(e.triggerValue)}}function uEe(n,t){1&n&&dn(0,0,["*ngSwitchCase","true"])}function dEe(n,t){1&n&&(M(0,"span",11),se(1,cEe,2,1,"span",12),se(2,uEe,1,0,"ng-content",13),O()),2&n&&(W("ngSwitch",!!re().customTrigger),H(2),W("ngSwitchCase",!0))}function hEe(n,t){if(1&n){const e=bn();ef(),function Mg(){!function Nx(){vt.lFrame.currentNamespace=null}()}(),M(0,"div",15,16),xe("@transformPanel.done",function(r){return st(e),tt(re()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return st(e),tt(re()._handleKeydown(r))}),dn(2,1),O()}if(2&n){const e=re();(function vV(n,t,e){ea(ns,Pa,Of(ge(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),W("ngClass",e.panelClass)("@transformPanel","showing"),Pt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const fEe=[[["mat-select-trigger"]],"*"],pEe=["mat-select-trigger","*"],mEe={transformPanelWrap:GC("transformPanelWrap",[jp("* => void",$be("@transformPanel",[zbe()],{optional:!0}))]),transformPanel:GC("transformPanel",[qC("void",Bl({opacity:0,transform:"scale(1, 0.8)"})),jp("void => showing",ev("120ms cubic-bezier(0, 0, 0.2, 1)",Bl({opacity:1,transform:"scale(1, 1)"}))),jp("* => void",ev("100ms linear",Bl({opacity:0})))])};let S8=0;const A8=new ae("mat-select-scroll-strategy"),_Ee=new ae("MAT_SELECT_CONFIG"),yEe={provide:A8,deps:[Hp],useFactory:function gEe(n){return()=>n.scrollStrategies.reposition()}},vEe=new ae("MatSelectTrigger");class bEe{constructor(t,e){this.source=t,this.value=e}}const wEe=RR(r4(SR(o4(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new z}}))));let EEe=(()=>{class n extends wEe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(k_.required)??!1}set required(e){this._required=Fn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Fn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Fn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=eC(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b){super(s,o,l,c,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=v,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(I,N)=>I===N,this._uid="mat-select-"+S8++,this._triggerAriaLabelledBy=null,this._destroy=new z,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+S8++,this._panelDoneAnimatingStream=new z,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=zS(()=>{const I=this.options;return I?I.changes.pipe(Fc(I),Ue(()=>x(...I.map(N=>N.onSelectionChange)))):this._ngZone.onStable.pipe(Qn(1),Ue(()=>this.optionSelectionChanges))}),this.openedChange=new Pe,this._openedStream=this.openedChange.pipe(zn(I=>I),Ie(()=>{})),this._closedStream=this.openedChange.pipe(zn(I=>!I),Ie(()=>{})),this.selectionChange=new Pe,this.valueChange=new Pe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new oEe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(dt(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Fc(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&IR(this._trackedModal,"aria-owns",i),W$(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(IR(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Tp(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Tp(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new nme(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=x(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),x(...this.options.map(i=>i._stateChanges)).pipe(Et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(T(XC),T(dr),T(He),T(s4),T(it),T(Dp,8),T(Nc,8),T(Qf,8),T(Gk,8),T(Fa,10),Ss("tabindex"),T(A8),T(mme),T(_Ee,8))};static#t=this.\u0275dir=X({type:n,viewQuery:function(i,r){if(1&i&&(En(sEe,5),En(aEe,5),En(v8,5)),2&i){let o;Le(o=Ve())&&(r.trigger=o.first),Le(o=Ve())&&(r.panel=o.first),Le(o=Ve())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ke,Yn]})}return n})(),CEe=(()=>{class n extends EEe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function Ume(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function jme(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new bEe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof Qk?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Fn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275cmp=yt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ft(o,vEe,5),Ft(o,m4,5),Ft(o,p4,5)),2&i){let s;Le(s=Ve())&&(r.customTrigger=s.first),Le(s=Ve())&&(r.options=s),Le(s=Ve())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&xe("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Pt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),ct("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[bt([{provide:Wk,useExisting:n},{provide:f4,useExisting:n}]),Ke],ngContentSelectors:pEe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(no(fEe),M(0,"div",0,1),xe("click",function(){return r.toggle()}),M(3,"div",2),se(4,lEe,2,1,"span",3),se(5,dEe,3,2,"span",4),O(),M(6,"div",5)(7,"div",6),ef(),M(8,"svg",7),rt(9,"path",8),O()()()(),se(10,hEe,3,9,"ng-template",9),xe("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=lr(1);H(3),W("ngSwitch",r.empty),Pt("id",r._valueId),H(1),W("ngSwitchCase",!0),H(1),W("ngSwitchCase",!1),H(5),W("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Sl,S_,oS,ZU,v8,Qk],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[mEe.transformPanel]},changeDetection:0})}return n})(),IEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:[yEe],imports:[Zf,b8,g4,Li,JC,ZC,g4,Li]})}return n})();const TEe=["f"];function xEe(n,t){1&n&&(M(0,"span"),ce(1,"Kerem adjon meg egy recept nevet!"),O())}function DEe(n,t){1&n&&(M(0,"mat-form-field",16),rt(1,"mat-label"),M(2,"span",17),ce(3,"Kerem adjon meg valos adatokat!"),O(),rt(4,"input",18),O())}let R8=(()=>{class n{constructor(e,i,r){this.baseService=e,this.route=i,this.router=r,this.key="",this.defaultDifficulty="Kozepes",this.submitButtonValue="Recept hozzaadasa",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.recipeForm=new Xw({name:new Oc(null,k_.required),ingredients:new Oc(null,[k_.required,k_.minLength(5)]),howToMake:new Oc(null),timeToMake:new Oc(null),portion:new Oc(null),difficulty:new Oc("kozepes")}),this.route.queryParams.subscribe(e=>{e.key&&(this.submitButtonValue="Recept modositasa"),console.log(e),this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&this.recipeForm.patchValue(r)})})}onSubmit(){this.recipe=this.recipeForm.value,"Recept hozzaadasa"===this.submitButtonValue?this.baseService.addRecipe(this.recipe):this.baseService.updateRecipe(this.key,this.recipe),this.router.navigate(["recipes"])}static#e=this.\u0275fac=function(i){return new(i||n)(T(Up),T(Ml),T(Dr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-edit"]],viewQuery:function(i,r){if(1&i&&En(TEe,5),2&i){let o;Le(o=Ve())&&(r.formData=o.first)}},decls:44,vars:5,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],["f","ngForm"],["matSuffix",""],["formControlName","name","matInput","","type","text"],[4,"ngIf"],["formControlName","ingredients","matInput","","rows","5"],["formControlName","howToMake","matInput","","rows","5"],["formControlName","timeToMake","matInput","","type","number"],["formControlName","portion","matInput","","type","number"],[1,"select-container"],["formControlName","difficulty","id","difficulty"],["ngClass","green","value","konnyu"],["ngClass","yellow","value","kozepes"],["ngClass","red","value","nehez"],["class","text-center border border-danger",4,"ngIf"],["mat-button","","type","submit",3,"disabled"],[1,"text-center","border","border-danger"],[1,"text-danger"],["matInput","","disabled",""]],template:function(i,r){if(1&i&&(M(0,"form",0,1),xe("ngSubmit",function(){return r.onSubmit()}),M(2,"mat-form-field")(3,"mat-label"),ce(4,"Recept neve"),O(),M(5,"mat-icon",2),ce(6,"menu_book"),O(),rt(7,"input",3),se(8,xEe,2,0,"span",4),O(),M(9,"mat-form-field")(10,"mat-label"),ce(11,"Hozz\xe1val\xf3k"),O(),rt(12,"textarea",5),O(),M(13,"mat-form-field")(14,"mat-label"),ce(15,"Elk\xe9szit\xe9s"),O(),rt(16,"textarea",6),O(),M(17,"mat-form-field")(18,"mat-label"),ce(19,"Elk\xe9szit\xe9si id\u0151"),O(),M(20,"mat-icon",2),ce(21,"schedule"),O(),rt(22,"input",7),O(),M(23,"mat-form-field")(24,"mat-label"),ce(25,"Adag"),O(),M(26,"mat-icon",2),ce(27,"restaurant"),O(),rt(28,"input",8),O(),M(29,"mat-form-field",9)(30,"mat-icon",2),ce(31,"sentiment_very_satisfied"),O(),M(32,"mat-label"),ce(33,"Nehezseg"),O(),M(34,"mat-select",10)(35,"mat-option",11),ce(36,"Konnyu"),O(),M(37,"mat-option",12),ce(38,"Kozepes"),O(),M(39,"mat-option",13),ce(40,"Nehez"),O()()(),se(41,DEe,5,0,"mat-form-field",14),M(42,"button",15),ce(43),O()()),2&i){const o=lr(1);let s;W("formGroup",r.recipeForm),H(8),W("ngIf",!(null!=(s=r.recipeForm.get("name"))&&s.valid)&&(null==(s=r.recipeForm.get("name"))?null:s.touched)),H(33),W("ngIf",!r.recipeForm.valid&&r.recipeForm.touched),H(1),W("disabled",!o.valid),H(1),ri(r.submitButtonValue)}},dependencies:[Sl,hr,V_,Al,NS,Mc,M_,Qf,VS,nv,jd,v0e,Sd,T4,iv,CEe,m4],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-bottom:1px;border-style:solid;border-color:#fe1717df;border-top:0;border-right:0;border-left:0}form[_ngcontent-%COMP%]{display:grid}button[_ngcontent-%COMP%]{margin-top:10px;background-color:#791679b3;color:#fff!important}button[_ngcontent-%COMP%]:hover{background-color:#791679}.example-panel-red.mat-mdc-select-panel[_ngcontent-%COMP%]{background:rgba(255,0,0,.5)}.select-container[_ngcontent-%COMP%]{border-top:2px solid rgba(119,255,0,.5)!important;border-radius:5px}.red[_ngcontent-%COMP%]{background-color:#f60b0b80}.green[_ngcontent-%COMP%]{background:rgba(3,141,3,.5)}.yellow[_ngcontent-%COMP%]{background:rgba(246,246,6,.5)}.red[_ngcontent-%COMP%]:hover{background:rgba(167,16,16,.8)!important}.green[_ngcontent-%COMP%]:hover{background:rgba(3,81,3,.8)!important}.yellow[_ngcontent-%COMP%]:hover{background:rgba(157,157,15,.8)!important}"]})}return n})();const SEe=function(n){return{key:n}};let AEe=(()=>{class n{constructor(e,i,r){this.route=e,this.baseService=i,this.router=r,this.key="",this.recipe={name:"",ingredients:"",howToMake:"",timeToMake:0,portion:0,difficulty:""}}ngOnInit(){this.route.queryParams.subscribe(e=>{this.key=e.key,this.baseService.getRecipes().subscribe(i=>{for(let r of i)r.key===this.key&&(this.recipe=r)})})}deleteRecipe(){this.baseService.deleteRecipe(this.key),this.router.navigate(["../"],{relativeTo:this.route})}static#e=this.\u0275fac=function(i){return new(i||n)(T(Ml),T(Up),T(Dr))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-recipe-detail"]],decls:22,vars:9,consts:[[1,"mt-3"],[1,"recipe-making-container"],[1,"card-content"],[1,"justify-content-end"],["routerLink","/recipes/edit","mat-raised-button","","color","accent","type","button",1,"me-2",3,"queryParams"],["mat-raised-button","","type","button",1,"deleteButton",3,"click"]],template:function(i,r){1&i&&(M(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),ce(3),O()(),M(4,"div",1)(5,"mat-card-content")(6,"mat-card-subtitle"),ce(7,"Elkeszites: "),O(),ce(8),O(),M(9,"mat-card-content",2)(10,"mat-card-subtitle"),ce(11,"Hozz\xe1val\xf3k: "),O(),ce(12),O()(),M(13,"mat-card-footer")(14,"mat-card-content")(15,"mat-card-subtitle"),ce(16),O()()(),M(17,"mat-card-actions",3)(18,"button",4),ce(19,"Modositas"),O(),M(20,"button",5),xe("click",function(){return r.deleteRecipe()}),ce(21,"Torles"),O()()()),2&i&&(H(3),ur(" ",r.recipe.name,""),H(5),ur(" ",r.recipe.howToMake," "),H(4),ur(" ",r.recipe.ingredients," "),H(4),s1("Adag: ",r.recipe.portion," Nehezseg: ",r.recipe.difficulty," Elkeszitesi ido: ",r.recipe.timeToMake," perc"),H(2),W("queryParams",Cl(7,SEe,r.recipe.key)))},dependencies:[Uc,eI,T8,nI,Jk,iI,Xk,tI,Sd],styles:[".recipe-making-container[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{padding-top:16px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important}.deleteButton[_ngcontent-%COMP%]:hover{background-color:#e33!important;border:2px solid rgb(142,19,19)}"]})}return n})();class REe{constructor(t="",e="",i="",r="",o="",s=""){this.id=t,this.uid=e,this.displayName=i,this.email=r,this.message=o,this.date=s}}function kEe(n,t){if(1&n){const e=bn();M(0,"span",16),xe("click",function(){st(e);const r=re(2).$implicit;return tt(re(2).deleteMessage(r))}),O()}}function MEe(n,t){if(1&n&&(Bo(0),M(1,"mat-card-header")(2,"mat-card-title"),ce(3),se(4,kEe,1,0,"span",12),O()(),M(5,"div",13)(6,"mat-card-content")(7,"b"),ce(8),O()(),M(9,"mat-card-content",14),rt(10,"mat-card-subtitle"),O()(),M(11,"mat-card-footer")(12,"mat-card-content")(13,"mat-card-subtitle",15),ce(14),O(),M(15,"mat-card-subtitle",15),ce(16),O()()(),Uo()),2&n){const e=re().$implicit,i=re().$implicit,r=re();H(3),ur(" ",e.displayName," "),H(1),W("ngIf",r.user.userId===e.uid),H(4),ri(e.message),H(5),W("ngClass",i.uid===r.user.userId?"grey":"right"),H(1),ri(e.email),H(1),W("ngClass",i.uid===r.user.userId?"grey":"right"),H(1),ri(e.date)}}function NEe(n,t){if(1&n&&(M(0,"mat-card",10),se(1,MEe,17,7,"ng-container",11),O()),2&n){const e=t.$implicit,i=re().$implicit,r=re();W("ngClass",i.uid===r.user.userId?"left messagesCard":"right"),H(1),W("ngIf",e.uid===i.uid)}}function OEe(n,t){if(1&n&&(M(0,"div",8),se(1,NEe,2,2,"mat-card",9),O()),2&n){const e=t.$implicit,i=re();W("ngClass",e.uid===i.user.userId?"justify-content-start":"justify-content-end"),H(1),W("ngForOf",i.messages)}}const PEe=[{path:"",component:hge},{path:"notes",component:Bbe},{path:"signup",component:Rwe},{path:"login",component:Vwe},{path:"users",component:zwe},{path:"weather",component:Jwe},{path:"chat",component:(()=>{class n{constructor(e,i){this.auth=e,this.base=i,this.users=[],this.isSAdmin=!1,this.message=new REe,this.messages=[],this.user={messageId:"",userId:"",displayName:"",email:""}}ngOnInit(){setTimeout(()=>{this.base.getMessages().subscribe(e=>{if(0===this.messages.length)for(let i of e)i.uid===this.user.userId&&(this.user.messageId=i.uid),i.id=i.key,i.id=i.uid,this.messages=e,console.log(this.messages),this.base.updateMessage(i.key,i)}),this.userLoggedInSubscription=this.auth.userLoggedInSubject.subscribe(e=>{this.user.userId=e.uid,this.user.displayName=e.displayName,this.user.email=e.email,e.displayName||(this.user.displayName="N\xe9vtelen felhaszn\xe1l\xf3"),e.email||(this.user.email="Nincs regisztr\xe1lt e-mail c\xedm")}),this.usersSubscription=this.auth.getUsersSubject().subscribe(e=>{this.users=e,this.users.forEach(i=>{""===i.displayName&&(i.displayName="N\xe9vtelen felhaszn\xe1l\xf3"),""===i.email&&(i.email="Nincs regisztr\xe1lt e-mail c\xedm")})})},2e3),this.isSuperAdminSubscription=this.auth.isSuperAdmin.subscribe(e=>this.isSAdmin=e)}addMessage(){this.message.uid||(this.message.uid=this.user.userId),this.message.date=(new Date).toLocaleDateString(),this.message.displayName=this.user.displayName,this.message.email=this.user.email,this.base.addMessage(this.message),this.base.getMessages().subscribe(e=>this.messages=e)}deleteMessage(e){this.base.deleteMessage(e).then(i=>this.base.getMessages().subscribe(r=>this.messages=r))}deleteMessages(){this.base.deleteMessages()}ngOnDestroy(){this.userLoggedInSubscription&&this.userLoggedInSubscription.unsubscribe(),this.isSuperAdminSubscription&&this.isSuperAdminSubscription.unsubscribe(),this.usersSubscription&&this.usersSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gc),T(Up))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-chat"]],decls:16,vars:3,consts:[[1,"text-center"],[1,"d-grid","justify-content-center"],[1,"card","mb-5"],[1,"mat"],["matInput","","rows","5",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","",1,"me-2","mt-2",3,"click"],["mat-raised-button","",1,"mt-2","deleteButton",3,"disabled","click"],["class","d-grid mb-2 mainDiv",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-grid","mb-2","mainDiv",3,"ngClass"],["class","card",3,"ngClass",4,"ngFor","ngForOf"],[1,"card",3,"ngClass"],[4,"ngIf"],["class","ms-2 bi bi-trash3-fill h3 text-danger rounded",3,"click",4,"ngIf"],[1,"recipe-making-container"],[1,"card-content"],[3,"ngClass"],[1,"ms-2","bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(i,r){1&i&&(M(0,"h1",0),ce(1,"Flame Chat"),O(),M(2,"div",1)(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title")(6,"mat-form-field",3)(7,"mat-label"),ce(8,"\xdczenet \xedr\xe1sa"),O(),M(9,"textarea",4),xe("ngModelChange",function(s){return r.message.message=s}),O()()()(),M(10,"mat-card-content",0)(11,"button",5),xe("click",function(){return r.addMessage()}),ce(12,"\xdczenet k\xfcld\xe9se"),O(),M(13,"button",6),xe("click",function(){return r.deleteMessages()}),ce(14,"\xdczenetek t\xf6rl\xe9se"),O()()()(),se(15,OEe,2,2,"div",7)),2&i&&(H(9),W("ngModel",r.message.message),H(4),W("disabled",!r.isSAdmin),H(2),W("ngForOf",r.users))},dependencies:[Sl,ss,hr,Al,Mc,Pc,nv,jd,eI,nI,Jk,iI,Xk,tI,Sd,iv],styles:[".card[_ngcontent-%COMP%]{width:50vw}.mat[_ngcontent-%COMP%]{width:40vw}.left[_ngcontent-%COMP%]{background-color:#17178f80;color:#fff}.right[_ngcontent-%COMP%]{margin-bottom:5px}.grey[_ngcontent-%COMP%]{color:#201f1f}.messagesCard[_ngcontent-%COMP%]{margin-bottom:10px}.deleteButton[_ngcontent-%COMP%]{background-color:red!important;color:#f5f5f5!important}"]})}return n})()},{path:"recipes",component:rEe,children:[{path:"create",component:R8},{path:"detail",component:AEe},{path:"edit",component:R8}]},{path:"**",redirectTo:""}];let FEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[D3.forRoot(PEe),D3]})}return n})();function tM(){return le((n,t)=>{let e,i=!1;n.subscribe(Se(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Fe,LEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fa={},nM=nM||{},St=LEe||self;function rI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function sv(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var iM="closure_uid_"+(1e9*Math.random()>>>0),BEe=0;function UEe(n,t,e){return n.call.apply(n.bind,arguments)}function jEe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function oo(n,t,e){return(oo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UEe:jEe).apply(null,arguments)}function oI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(i,s)}}function su(){this.s=this.s,this.o=this.o}su.prototype.s=!1,su.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function VEe(n){Object.prototype.hasOwnProperty.call(n,iM)&&n[iM]||(n[iM]=++BEe)}(this)},su.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k8=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function rM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function M8(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(rI(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function so(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}so.prototype.h=function(){this.defaultPrevented=!0};var zEe=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",()=>{},t),St.removeEventListener("test",()=>{},t)}catch{}return n}();function av(n){return/^[\s\xa0]*$/.test(n)}function sI(){var n=St.navigator;return n&&(n=n.userAgent)?n:""}function Wa(n){return-1!=sI().indexOf(n)}function oM(n){return oM[" "](n),n}oM[" "]=function(){};var aM,n,WEe=Wa("Opera"),zp=Wa("Trident")||Wa("MSIE"),N8=Wa("Edge"),sM=N8||zp,O8=Wa("Gecko")&&!(-1!=sI().toLowerCase().indexOf("webkit")&&!Wa("Edge"))&&!(Wa("Trident")||Wa("MSIE"))&&!Wa("Edge"),GEe=-1!=sI().toLowerCase().indexOf("webkit")&&!Wa("Edge");function P8(){var n=St.document;return n?n.documentMode:void 0}e:{var lM="",cM=(n=sI(),O8?/rv:([^\);]+)(\)|;)/.exec(n):N8?/Edge\/([\d\.]+)/.exec(n):zp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GEe?/WebKit\/(\S+)/.exec(n):WEe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cM&&(lM=cM?cM[1]:""),zp){var uM=P8();if(null!=uM&&uM>parseFloat(lM)){aM=String(uM);break e}}aM=lM}var qEe=St.document&&zp&&(P8()||parseInt(aM,10))||void 0;function lv(n,t){if(so.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(O8){e:{try{oM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lv.$.h.call(this)}}Mr(lv,so);var KEe={2:"touch",3:"pen",4:"mouse"};lv.prototype.h=function(){lv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cv="closure_listenable_"+(1e6*Math.random()|0),ZEe=0;function YEe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++ZEe,this.fa=this.ia=!1}function aI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function L8(n){const t={};for(const e in n)t[e]=n[e];return t}const V8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B8(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<V8.length;o++)e=V8[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function lI(n){this.src=n,this.g={},this.h=0}function fM(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=k8(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(aI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function pM(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}lI.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=pM(n,t,i,r);return-1<s?(t=n[s],e||(t.ia=!1)):((t=new YEe(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var mM="closure_lm_"+(1e6*Math.random()|0),gM={};function U8(n,t,e,i,r){if(i&&i.once)return H8(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)U8(n,t[o],e,i,r);return null}return e=bM(e),n&&n[cv]?n.O(t,e,sv(i)?!!i.capture:!!i,r):j8(n,t,e,!1,i,r)}function j8(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var s=sv(r)?!!r.capture:!!r,a=yM(n);if(a||(n[mM]=a=new lI(n)),(e=a.add(t,e,i,s,o)).proxy)return e;if(i=function XEe(){const t=JEe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)zEe||(r=s),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent($8(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function H8(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)H8(n,t[o],e,i,r);return null}return e=bM(e),n&&n[cv]?n.P(t,e,sv(i)?!!i.capture:!!i,r):j8(n,t,e,!0,i,r)}function z8(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)z8(n,t[o],e,i,r);else i=sv(i)?!!i.capture:!!i,e=bM(e),n&&n[cv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=pM(o=n.g[t],e,i,r))&&(aI(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=yM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=pM(t,e,i,r)),(e=-1<n?t[n]:null)&&_M(e))}function _M(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[cv])fM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent($8(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=yM(t))?(fM(e,n),0==e.h&&(e.src=null,t[mM]=null)):aI(n)}}}function $8(n){return n in gM?gM[n]:gM[n]="on"+n}function JEe(n,t){if(n.fa)n=!0;else{t=new lv(t,this);var e=n.listener,i=n.la||n.src;n.ia&&_M(n),n=e.call(i,t)}return n}function yM(n){return(n=n[mM])instanceof lI?n:null}var vM="__closure_events_fn_"+(1e9*Math.random()>>>0);function bM(n){return"function"==typeof n?n:(n[vM]||(n[vM]=function(t){return n.handleEvent(t)}),n[vM])}function Nr(){su.call(this),this.i=new lI(this),this.S=this,this.J=null}function Gr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new so(t,n);else if(t instanceof so)t.target=t.target||n;else{var r=t;B8(t=new so(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];r=cI(s,i,!0,t)&&r}if(r=cI(s=t.g=n,i,!0,t)&&r,r=cI(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=cI(s=t.g=e[o],i,!1,t)&&r}function cI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var a=s.listener,l=s.la||s.src;s.ia&&fM(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Mr(Nr,su),Nr.prototype[cv]=!0,Nr.prototype.removeEventListener=function(n,t,e,i){z8(this,n,t,e,i)},Nr.prototype.N=function(){if(Nr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)aI(e[i]);delete n.g[t],n.h--}}this.J=null},Nr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Nr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var wM=St.JSON.stringify;function tCe(){var n=EM;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var W8=new class eCe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new iCe,n=>n.reset());class iCe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function rCe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function oCe(n){St.setTimeout(()=>{throw n},0)}let uv,dv=!1,EM=new class nCe{constructor(){this.h=this.g=null}add(t,e){const i=W8.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},G8=()=>{const n=St.Promise.resolve(void 0);uv=()=>{n.then(sCe)}};var sCe=()=>{for(var n;n=tCe();){try{n.h.call(n.g)}catch(e){oCe(e)}var t=W8;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}dv=!1};function uI(n,t){Nr.call(this),this.h=n||1,this.g=t||St,this.j=oo(this.qb,this),this.l=Date.now()}function CM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function IM(n,t,e){if("function"==typeof n)e&&(n=oo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=oo(n.handleEvent,n)}return 2147483647<Number(t)?-1:St.setTimeout(n,t||0)}function q8(n){n.g=IM(()=>{n.g=null,n.i&&(n.i=!1,q8(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Mr(uI,Nr),(Fe=uI.prototype).ga=!1,Fe.T=null,Fe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(CM(this),this.start()))}},Fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.N=function(){uI.$.N.call(this),CM(this),delete this.g};class aCe extends su{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:q8(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hv(n){su.call(this),this.h=n,this.g={}}Mr(hv,su);var K8=[];function Z8(n,t,e,i){Array.isArray(e)||(e&&(K8[0]=e.toString()),e=K8);for(var r=0;r<e.length;r++){var o=U8(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Y8(n){hM(n.g,function(t,e){this.g.hasOwnProperty(e)&&_M(t)},n),n.g={}}function dI(){this.g=!0}function $p(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function dCe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return wM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}hv.prototype.N=function(){hv.$.N.call(this),Y8(this)},hv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dI.prototype.Ea=function(){this.g=!1},dI.prototype.info=function(){};var zd={},Q8=null;function hI(){return Q8=Q8||new Nr}function X8(n){so.call(this,zd.Ta,n)}function fv(n){const t=hI();Gr(t,new X8(t))}function J8(n,t){so.call(this,zd.STAT_EVENT,n),this.stat=t}function Ao(n){const t=hI();Gr(t,new J8(t,n))}function eG(n,t){so.call(this,zd.Ua,n),this.size=t}function pv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},t)}zd.Ta="serverreachability",Mr(X8,so),zd.STAT_EVENT="statevent",Mr(J8,so),zd.Ua="timingevent",Mr(eG,so);var fI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TM(){}function iG(){}TM.prototype.h=null;var SM,mv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xM(){so.call(this,"d")}function DM(){so.call(this,"c")}function pI(){}function gv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new hv(this),this.P=hCe,this.V=new uI(n=sM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rG}function rG(){this.i=null,this.g="",this.h=!1}Mr(xM,so),Mr(DM,so),Mr(pI,TM),pI.prototype.g=function(){return new XMLHttpRequest},pI.prototype.i=function(){return{}},SM=new pI;var hCe=45e3,AM={},mI={};function RM(n,t,e){n.L=1,n.v=vI(Ul(t)),n.s=e,n.S=!0,oG(n,null)}function oG(n,t){n.G=Date.now(),_v(n),n.A=Ul(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),mG(e.i,"t",i),n.C=0,e=n.l.J,n.h=new rG,n.g=BG(n.l,e?t:null,!n.s),0<n.O&&(n.M=new aCe(oo(n.Pa,n,n.g),n.O)),Z8(n.U,n.g,"readystatechange",n.nb),t=n.I?L8(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),fv(),function lCe(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&"type"==f[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function sG(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function aG(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=fCe(n,e),r==mI){4==t&&(n.o=4,Ao(14),i=!1),$p(n.j,n.m,null,"[Incomplete Response]");break}if(r==AM){n.o=4,Ao(15),$p(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}$p(n.j,n.m,r,null),kM(n,r)}sG(n)&&r!=mI&&r!=AM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),VM(t),t.M=!0,Ao(11))):($p(n.j,n.m,e,"[Invalid Chunked Response]"),$d(n),yv(n))}function fCe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?mI:(e=Number(t.substring(e,i)),isNaN(e)?AM:(i+=1)+e>t.length?mI:(t=t.slice(i,i+e),n.C=i+e,t))}function _v(n){n.Y=Date.now()+n.P,lG(n,n.P)}function lG(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pv(oo(n.lb,n),t)}function gI(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function yv(n){0==n.l.H||n.J||PG(n.l,n)}function $d(n){gI(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,CM(n.V),Y8(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function kM(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||MM(e.i,n)))if(!n.K&&MM(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;TI(e),CI(e)}LM(e),Ao(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=pv(oo(e.ib,e),6e3));if(1>=yG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Gd(e,11)}else if((n.K||e.g==n)&&TI(e),!av(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const f=c[4];null!=f&&(e.Ga=f,e.l.info("SVER="+e.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(e.L=i=1.5*m,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const _=n.g;if(_){const v=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=i.i;o.g||-1==v.indexOf("spdy")&&-1==v.indexOf("quic")&&-1==v.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(NM(o,o.h),o.h=null))}if(i.F){const b=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,_i(i.I,i.F,b))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=n;if((i=e).wa=VG(i,i.J?i.pa:null,i.Y),s.K){vG(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(gI(a),_v(a)),i.g=s}else NG(i);0<e.j.length&&II(e)}else"stop"!=c[0]&&"close"!=c[0]||Gd(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Gd(e,7):FM(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}fv()}catch{}}function cG(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(rI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function mCe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function pCe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Fe=gv.prototype).setTimeout=function(n){this.P=n},Fe.nb=function(n){n=n.target;const t=this.M;t&&3==Ga(n)?t.l():this.Pa(n)},Fe.Pa=function(n){try{if(n==this.g)e:{const u=Ga(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||sM||this.g&&(this.h.h||this.g.ja()||DG(this.g)))){this.J||4!=u||7==t||fv(),gI(this);var e=this.g.da();this.ca=e;t:if(sG(this)){var i=DG(this.g);n="";var r=i.length,o=4==Ga(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$d(this),yv(this);var s="";break t}this.h.i=new St.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function cCe(n,t,e,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!av(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.o=3,Ao(12),$d(this),yv(this);break e}$p(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kM(this,e)}this.S?(aG(this,u,s),sM&&this.i&&3==u&&(Z8(this.U,this.V,"tick",this.mb),this.V.start())):($p(this.j,this.m,s,null),kM(this,s)),4==u&&$d(this),this.i&&!this.J&&(4==u?PG(this.l,this):(this.i=!1,_v(this)))}else(function NCe(n){const t={};n=(n.g&&2<=Ga(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(av(n[i]))continue;var e=rCe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function QEe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),$d(this),yv(this)}}}catch{}},Fe.mb=function(){if(this.g){var n=Ga(this.g),t=this.g.ja();this.C<t.length&&(gI(this),aG(this,n,t),this.i&&4!=n&&_v(this))}},Fe.cancel=function(){this.J=!0,$d(this)},Fe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function uCe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(fv(),Ao(17)),$d(this),this.o=2,yv(this)):lG(this,this.Y-n)};var uG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wd){this.h=n.h,_I(this,n.j),this.s=n.s,this.g=n.g,yI(this,n.m),this.l=n.l;var t=n.i,e=new wv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),dG(this,e),this.o=n.o}else n&&(t=String(n).match(uG))?(this.h=!1,_I(this,t[1]||"",!0),this.s=vv(t[2]||""),this.g=vv(t[3]||"",!0),yI(this,t[4]),this.l=vv(t[5]||"",!0),dG(this,t[6]||"",!0),this.o=vv(t[7]||"")):(this.h=!1,this.i=new wv(null,this.h))}function Ul(n){return new Wd(n)}function _I(n,t,e){n.j=e?vv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function yI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function dG(n,t,e){t instanceof wv?(n.i=t,function ECe(n,t){t&&!n.j&&(au(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(fG(this,i),mG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=bv(t,bCe)),n.i=new wv(t,n.h))}function _i(n,t,e){n.i.set(t,e)}function vI(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,_Ce),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _Ce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(bv(t,hG,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(bv(t,hG,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(bv(e,"/"==e.charAt(0)?vCe:yCe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",bv(e,wCe)),n.join("")};var hG=/[#\/\?@]/g,yCe=/[#\?:]/g,vCe=/[#\?]/g,bCe=/[#\?@]/g,wCe=/#/g;function wv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function au(n){n.g||(n.g=new Map,n.h=0,n.i&&function gCe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function fG(n,t){au(n),t=Wp(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function pG(n,t){return au(n),t=Wp(n,t),n.g.has(t)}function mG(n,t,e){fG(n,t),0<e.length&&(n.i=null,n.g.set(Wp(n,t),rM(e)),n.h+=e.length)}function Wp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function gG(n){this.l=n||ICe,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=wv.prototype).add=function(n,t){au(this),this.i=null,n=Wp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Fe.forEach=function(n,t){au(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Fe.ta=function(){au(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Fe.Z=function(n){au(this);let t=[];if("string"==typeof n)pG(this,n)&&(t=t.concat(this.g.get(Wp(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Fe.set=function(n,t){return au(this),this.i=null,pG(this,n=Wp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Fe.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var ICe=10;function _G(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yG(n){return n.h?1:n.g?n.g.size:0}function MM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function NM(n,t){n.g?n.g.add(t):n.h=t}function vG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function bG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return rM(n.i)}gG.prototype.cancel=function(){if(this.i=bG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var TCe=class{stringify(n){return St.JSON.stringify(n,void 0)}parse(n){return St.JSON.parse(n,void 0)}};function xCe(){this.g=new TCe}function DCe(n,t,e){const i=e||"";try{cG(n,function(r,o){let s=r;sv(r)&&(s=wM(r)),t.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function bI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ev(n){this.l=n.ec||null,this.j=n.ob||!1}function wI(n,t){Nr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=OM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(Ev,TM),Ev.prototype.g=function(){return new wI(this.l,this.j)},Ev.prototype.i=function(n){return function(){return n}}({}),Mr(wI,Nr);var OM=0;function wG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Cv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Iv(n)}function Iv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Fe=wI.prototype).open=function(n,t){if(this.readyState!=OM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Iv(this)},Fe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cv(this)),this.readyState=OM},Fe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Iv(this)),this.g&&(this.readyState=3,Iv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Fe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Cv(this):Iv(this),3==this.readyState&&wG(this)}},Fe.Za=function(n){this.g&&(this.response=this.responseText=n,Cv(this))},Fe.Ya=function(n){this.g&&(this.response=n,Cv(this))},Fe.ka=function(){this.g&&Cv(this)},Fe.setRequestHeader=function(n,t){this.v.append(n,t)},Fe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(wI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ACe=St.JSON.parse;function Vi(n){Nr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=EG,this.L=this.M=!1}Mr(Vi,Nr);var EG="",RCe=/^https?$/i,kCe=["POST","PUT"];function CG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,IG(n),EI(n)}function IG(n){n.F||(n.F=!0,Gr(n,"complete"),Gr(n,"error"))}function TG(n){if(n.h&&typeof nM<"u"&&(!n.C[1]||4!=Ga(n)||2!=n.da()))if(n.v&&4==Ga(n))IM(n.La,0,n);else if(Gr(n,"readystatechange"),4==Ga(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===s){var r=String(n.I).match(uG)[1]||null;!r&&St.self&&St.self.location&&(r=St.self.location.protocol.slice(0,-1)),i=!RCe.test(r?r.toLowerCase():"")}e=i}if(e)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var o=2<Ga(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",IG(n)}}finally{EI(n)}}}function EI(n,t){if(n.g){xG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Gr(n,"ready");try{e.onreadystatechange=i}catch{}}}function xG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function Ga(n){return n.g?n.g.readyState:0}function DG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case EG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SG(n){let t="";return hM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function PM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=SG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):_i(n,t,e))}function Tv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function AG(n){this.Ga=0,this.j=[],this.l=new dI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tv("baseRetryDelayMs",5e3,n),this.hb=Tv("retryDelaySeedMs",1e4,n),this.eb=Tv("forwardChannelMaxRetries",2,n),this.xa=Tv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new gG(n&&n.concurrentRequestLimit),this.Ja=new xCe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function FM(n){if(RG(n),3==n.H){var t=n.W++,e=Ul(n.I);if(_i(e,"SID",n.K),_i(e,"RID",t),_i(e,"TYPE","terminate"),xv(n,e),(t=new gv(n,n.l,t)).L=2,t.v=vI(Ul(e)),e=!1,St.navigator&&St.navigator.sendBeacon)try{e=St.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&St.Image&&((new Image).src=t.v,e=!0),e||(t.g=BG(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_v(t)}LG(n)}function CI(n){n.g&&(VM(n),n.g.cancel(),n.g=null)}function RG(n){CI(n),n.u&&(St.clearTimeout(n.u),n.u=null),TI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function II(n){if(!_G(n.i)&&!n.m){n.m=!0;var t=n.Na;uv||G8(),dv||(uv(),dv=!0),EM.add(t,n),n.C=0}}function kG(n,t){var e;e=t?t.m:n.W++;const i=Ul(n.I);_i(i,"SID",n.K),_i(i,"RID",e),_i(i,"AID",n.V),xv(n,i),n.o&&n.s&&PM(i,n.o,n.s),e=new gv(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=MG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),NM(n.i,e),RM(e,i,t)}function xv(n,t){n.na&&hM(n.na,function(e,i){_i(t,i,e)}),n.h&&cG({},function(e,i){_i(t,i,e)})}function MG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?oo(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{DCe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function NG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;uv||G8(),dv||(uv(),dv=!0),EM.add(t,n),n.A=0}}function LM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=pv(oo(n.Ma,n),FG(n,n.A)),n.A++,0))}function VM(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function OG(n){n.g=new gv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Ul(n.wa);_i(t,"RID","rpc"),_i(t,"SID",n.K),_i(t,"AID",n.V),_i(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&_i(t,"TO",n.qa),_i(t,"TYPE","xmlhttp"),xv(n,t),n.o&&n.s&&PM(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=vI(Ul(t)),e.s=null,e.S=!0,oG(e,n)}function TI(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function PG(n,t){var e=null;if(n.g==t){TI(n),VM(n),n.g=null;var i=2}else{if(!MM(n.i,t))return;e=t.F,vG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Gr(i=hI(),new eG(i,e)),II(n)}else NG(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function OCe(n,t){return!(yG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=pv(oo(n.Na,n,t),FG(n,n.C)),n.C++,0)))}(n,t)||2==i&&LM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Gd(n,5);break;case 4:Gd(n,10);break;case 3:Gd(n,6);break;default:Gd(n,2)}}function FG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Gd(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=oo(n.pb,n);e||(e=new Wd("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||_I(e,"https"),vI(e)),function SCe(n,t){const e=new dI;if(St.Image){const i=new Image;i.onload=oI(bI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=oI(bI,e,i,"TestLoadImage: error",!1,t),i.onabort=oI(bI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=oI(bI,e,i,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ao(2);n.H=0,n.h&&n.h.za(t),LG(n),RG(n)}function LG(n){if(n.H=0,n.ma=[],n.h){const t=bG(n.i);(0!=t.length||0!=n.j.length)&&(M8(n.ma,t),M8(n.ma,n.j),n.i.i.length=0,rM(n.j),n.j.length=0),n.h.ya()}}function VG(n,t,e){var i=e instanceof Wd?Ul(e):new Wd(e);if(""!=i.g)t&&(i.g=t+"."+i.g),yI(i,i.m);else{var r=St.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Wd(null);i&&_I(o,i),t&&(o.g=t),r&&yI(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&_i(i,e,t),_i(i,"VER",n.ra),xv(n,i),i}function BG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Vi(e&&n.Ha&&!n.va?new Ev({ob:!0}):n.va)).Oa(n.J),t}function UG(){}function xI(){if(zp&&!(10<=Number(qEe)))throw Error("Environmental error: no available transport.")}function ps(n,t){Nr.call(this),this.g=new AG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!av(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!av(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Gp(this)}function jG(n){xM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function HG(){DM.call(this),this.status=1}function Gp(n){this.g=n}function pa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BM(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],s=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ln(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Fe=Vi.prototype).Oa=function(n){this.M=n},Fe.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SM.g(),this.C=function nG(n){return n.h||(n.h=n.i())}(this.u?this.u:SM),this.g.onreadystatechange=oo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void CG(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=St.FormData&&n instanceof St.FormData,!(0<=k8(kCe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xG(this),0<this.B&&((this.L=function MCe(n){return zp&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=oo(this.ua,this)):this.A=IM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){CG(this,o)}},Fe.ua=function(){typeof nM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},Fe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),EI(this))},Fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),EI(this,!0)),Vi.$.N.call(this)},Fe.La=function(){this.s||(this.G||this.v||this.l?TG(this):this.kb())},Fe.kb=function(){TG(this)},Fe.isActive=function(){return!!this.g},Fe.da=function(){try{return 2<Ga(this)?this.g.status:-1}catch{return-1}},Fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Fe.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ACe(t)}},Fe.Ia=function(){return this.m},Fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=AG.prototype).ra=8,Fe.H=1,Fe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new gv(this,this.l,n);let o=this.s;if(this.U&&(o?(o=L8(o),B8(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=MG(this,r,t),_i(e=Ul(this.I),"RID",n),_i(e,"CVER",22),this.F&&_i(e,"X-HTTP-Session-Id",this.F),xv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(SG(o)))+"&"+t:this.o&&PM(e,this.o,o)),NM(this.i,r),this.bb&&_i(e,"TYPE","init"),this.P?(_i(e,"$req",t),_i(e,"SID","null"),r.aa=!0,RM(r,e,null)):RM(r,e,t),this.H=2}}else 3==this.H&&(n?kG(this,n):0==this.j.length||_G(this.i)||kG(this))},Fe.Ma=function(){if(this.u=null,OG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pv(oo(this.jb,this),n)}},Fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ao(10),CI(this),OG(this))},Fe.ib=function(){null!=this.v&&(this.v=null,CI(this),LM(this),Ao(19))},Fe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ao(2)):(this.l.info("Failed to ping google.com"),Ao(1))},Fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fe=UG.prototype).Ba=function(){},Fe.Aa=function(){},Fe.za=function(){},Fe.ya=function(){},Fe.isActive=function(){return!0},Fe.Va=function(){},xI.prototype.g=function(n,t){return new ps(n,t)},Mr(ps,Nr),ps.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ao(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=VG(n,null,n.Y),II(n)},ps.prototype.close=function(){FM(this.g)},ps.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=wM(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&II(t)},ps.prototype.N=function(){this.g.h=null,delete this.j,FM(this.g),delete this.g,ps.$.N.call(this)},Mr(jG,xM),Mr(HG,DM),Mr(Gp,UG),Gp.prototype.Ba=function(){Gr(this.g,"a")},Gp.prototype.Aa=function(n){Gr(this.g,new jG(n))},Gp.prototype.za=function(n){Gr(this.g,new HG)},Gp.prototype.ya=function(){Gr(this.g,"b")},Mr(pa,function PCe(){this.blockSize=-1}),pa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pa.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)BM(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){BM(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){BM(this,i),r=0;break}}this.h=r,this.i+=t},pa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var FCe={};function UM(n){return-128<=n&&128>n?function $Ee(n,t){var e=FCe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ln([0|t],0>t?-1:0)}):new Ln([0|n],0>n?-1:0)}function qa(n){if(isNaN(n)||!isFinite(n))return qp;if(0>n)return qr(qa(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=jM;return new Ln(t,0)}var jM=4294967296,qp=UM(0),HM=UM(1),$G=UM(16777216);function jl(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function zs(n){return-1==n.h}function qr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ln(e,~n.h).add(HM)}function DI(n,t){return n.add(qr(t))}function SI(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Dv(n,t){this.g=n,this.h=t}function AI(n,t){if(jl(t))throw Error("division by zero");if(jl(n))return new Dv(qp,qp);if(zs(n))return t=AI(qr(n),t),new Dv(qr(t.g),qr(t.h));if(zs(t))return t=AI(n,qr(t)),new Dv(qr(t.g),t.h);if(30<n.g.length){if(zs(n)||zs(t))throw Error("slowDivide_ only works with positive integers.");for(var e=HM,i=t;0>=i.X(n);)e=WG(e),i=WG(i);var r=Kp(e,1),o=Kp(i,1);for(i=Kp(i,2),e=Kp(e,2);!jl(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(e),o=s),i=Kp(i,1),e=Kp(e,1)}return t=DI(n,r.R(t)),new Dv(r,t)}for(r=qp;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),s=(o=qa(e)).R(t);zs(s)||0<s.X(n);)s=(o=qa(e-=i)).R(t);jl(o)&&(o=HM),r=r.add(o),n=DI(n,s)}return new Dv(r,n)}function WG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ln(e,n.h)}function Kp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Ln(r,n.h)}(Fe=Ln.prototype).ea=function(){if(zs(this))return-qr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:jM+i)*t,t*=jM}return n},Fe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(jl(this))return"0";if(zs(this))return"-"+qr(this).toString(n);for(var t=qa(Math.pow(n,6)),e=this,i="";;){var r=AI(e,t).g,o=((0<(e=DI(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(jl(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Fe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Fe.X=function(n){return zs(n=DI(this,n))?-1:jl(n)?0:1},Fe.abs=function(){return zs(this)?qr(this):this},Fe.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,e[r]=(s&=65535)<<16|(o&=65535)}return new Ln(e,-2147483648&e[e.length-1]?-1:0)},Fe.R=function(n){if(jl(this)||jl(n))return qp;if(zs(this))return zs(n)?qr(this).R(qr(n)):qr(qr(this).R(n));if(zs(n))return qr(this.R(qr(n)));if(0>this.X($G)&&0>n.X($G))return qa(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=s*l,SI(e,2*i+2*r),e[2*i+2*r+1]+=o*l,SI(e,2*i+2*r+1),e[2*i+2*r+1]+=s*a,SI(e,2*i+2*r+1),e[2*i+2*r+2]+=o*a,SI(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ln(e,0)},Fe.gb=function(n){return AI(this,n).h},Fe.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ln(e,this.h&n.h)},Fe.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ln(e,this.h|n.h)},Fe.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ln(e,this.h^n.h)},xI.prototype.createWebChannel=xI.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,fI.NO_ERROR=0,fI.TIMEOUT=8,fI.HTTP_ERROR=6,tG.COMPLETE="complete",iG.EventType=mv,mv.OPEN="a",mv.CLOSE="b",mv.ERROR="c",mv.MESSAGE="d",Nr.prototype.listen=Nr.prototype.O,Vi.prototype.listenOnce=Vi.prototype.P,Vi.prototype.getLastError=Vi.prototype.Sa,Vi.prototype.getLastErrorCode=Vi.prototype.Ia,Vi.prototype.getStatus=Vi.prototype.da,Vi.prototype.getResponseJson=Vi.prototype.Wa,Vi.prototype.getResponseText=Vi.prototype.ja,Vi.prototype.send=Vi.prototype.ha,Vi.prototype.setWithCredentials=Vi.prototype.Oa,pa.prototype.digest=pa.prototype.l,pa.prototype.reset=pa.prototype.reset,pa.prototype.update=pa.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=qa,Ln.fromString=function zG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return qr(zG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=qa(Math.pow(t,8)),i=qp,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),t);8>o?(o=qa(Math.pow(t,o)),i=i.R(o).add(qa(s))):i=(i=i.R(e)).add(qa(s))}return i};var LCe=fa.createWebChannelTransport=function(){return new xI},VCe=fa.getStatEventTarget=function(){return hI()},zM=fa.ErrorCode=fI,BCe=fa.EventType=tG,UCe=fa.Event=zd,GG=fa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jCe=fa.FetchXmlHttpFactory=Ev,RI=fa.WebChannel=iG,HCe=fa.XhrIo=Vi,zCe=fa.Md5=pa,Zp=fa.Integer=Ln;const qG="@firebase/firestore";class Or{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Yp="10.5.2";const lu=new ds.Yd("@firebase/firestore");function Qp(){return lu.logLevel}function Ce(n,...t){if(lu.logLevel<=ds.in.DEBUG){const e=t.map($M);lu.debug(`Firestore (${Yp}): ${n}`,...e)}}function Gi(n,...t){if(lu.logLevel<=ds.in.ERROR){const e=t.map($M);lu.error(`Firestore (${Yp}): ${n}`,...e)}}function Zo(n,...t){if(lu.logLevel<=ds.in.WARN){const e=t.map($M);lu.warn(`Firestore (${Yp}): ${n}`,...e)}}function $M(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $e(n="Unexpected state"){const t=`FIRESTORE (${Yp}) INTERNAL ASSERTION FAILED: `+n;throw Gi(t),new Error(t)}function nt(n,t){n||$e()}function Re(n,t){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends D.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class KG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Or.UNAUTHENTICATED))}shutdown(){}}class qCe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class KCe{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,de.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt("string"==typeof i.accessToken),new KG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return nt(null===t||"string"==typeof t),new Or(t)}}class ZCe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YCe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ZCe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QCe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(nt("string"==typeof e.token),this.R=e.token,new ZG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XCe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class YG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=XCe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Dt(n,t){return n<t?-1:n>t?1:0}function Xp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function QG(n){return n+"\0"}class xi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xi.fromMillis(Date.now())}static fromDate(t){return xi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new xi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ot(t)}static min(){return new ot(new xi(0,0))}static max(){return new ot(new xi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sv{constructor(t,e,i){void 0===e?e=0:e>t.length&&$e(),void 0===i?i=t.length-e:i>t.length-e&&$e(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Sv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fn extends Sv{construct(t,e,i){return new fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fn(e)}static emptyPath(){return new fn([])}}const JCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Sv{construct(t,e,i){return new yi(t,e,i)}static isValidIdentifier(t){return JCe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(e)}static emptyPath(){return new yi([])}}class ke{constructor(t){this.path=t}static fromPath(t){return new ke(fn.fromString(t))}static fromName(t){return new ke(fn.fromString(t).popFirst(5))}static empty(){return new ke(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new fn(t.slice()))}}class Jp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function WM(n){return n.fields.find(t=>2===t.kind)}function qd(n){return n.fields.filter(t=>2!==t.kind)}Jp.UNKNOWN_ID=-1;class Kd{constructor(t,e){this.fieldPath=t,this.kind=e}}class em{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new em(0,ms.min())}}function XG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ot.fromTimestamp(1e9===i?new xi(e+1,0):new xi(e,i));return new ms(r,ke.empty(),t)}function JG(n){return new ms(n.readTime,n.key,-1)}class ms{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ms(ot.min(),ke.empty(),-1)}static max(){return new ms(ot.max(),ke.empty(),-1)}}function GM(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ke.comparator(n.documentKey,t.documentKey),0!==e?e:Dt(n.largestBatchId,t.largestBatchId))}const e6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function cu(n){return qM.apply(this,arguments)}function qM(){return qM=(0,de.Z)(function*(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==e6)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}),qM.apply(this,arguments)}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new K((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof K?e:K.resolve(e)}catch(e){return K.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):K.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):K.reject(e)}static resolve(t){return new K((e,i)=>{e(t)})}static reject(t){return new K((e,i)=>{i(t)})}static waitFor(t){return new K((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=K.resolve(!1);for(const i of t)e=e.next(r=>r?K.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new K((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new K((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class kI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new mr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Av(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=KM(i.target.error);this.V.reject(new Av(t,r))}}static open(t,e,i,r){try{return new kI(e,t.transaction(r,i))}catch(o){throw new Av(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ce("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new iIe(e)}}class ma{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===ma.S((0,D.z$)())&&Gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ce("SimpleDb","Removing database:",t),Zd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,D.hl)())return!1;if(ma.C())return!0;const t=(0,D.z$)(),e=ma.S(t),i=0<e&&e<10,r=ma.v(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,de.Z)(function*(){return e.db||(Ce("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Av(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new _e(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new _e(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Av(t,a))},o.onupgradeneeded=s=>{Ce("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.N(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,de.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.O(t);const l=kI.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),K.reject(u))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(Ce("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),o.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nIe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Zd(this.k.delete())}}class Av extends _e{constructor(t,e){super(te.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function uu(n){return"IndexedDbTransactionError"===n.name}class iIe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ce("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Zd(i)}add(t){return Ce("SimpleDb","ADD",this.store.name,t,t),Zd(this.store.add(t))}get(t){return Zd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ce("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ce("SimpleDb","DELETE",this.store.name,t),Zd(this.store.delete(t))}count(){return Ce("SimpleDb","COUNT",this.store.name),Zd(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new K((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new K((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(t,e){Ce("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new K((i,r)=>{e.onerror=o=>{const s=KM(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(t,e){const i=[];return new K((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new nIe(a),c=e(a.primaryKey,a.value,l);if(c instanceof K){const u=c.catch(f=>(l.done(),K.reject(f)));i.push(u)}l.isDone?r():null===l.$?a.continue():a.continue(l.$)}}).next(()=>K.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Zd(n){return new K((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KM(i.target.error);e(r)}})}let n6=!1;function KM(n){const t=ma.S((0,D.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n6||(n6=!0,setTimeout(()=>{throw i},0)),i}}return n}class rIe{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;Ce("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,de.Z)(function*(){e.task=null;try{Ce("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){uu(i)?Ce("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield cu(i)}yield e.ee(6e4)}))}}class oIe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,de.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,o=!0;return K.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return Ce("IndexBackiller",`Processing collection: ${s}`),this.re(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.ie(r,o)).next(a=>(Ce("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=JG(o);GM(s,i)>0&&(i=s)}),new ms(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let gs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function Rv(n){return null==n}function kv(n){return 0===n&&1/n==-1/0}function i6(n){return"number"==typeof n&&Number.isInteger(n)&&!kv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ao(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=r6(t)),t=sIe(n.get(e),t);return r6(t)}function sIe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function r6(n){return n+"\x01\x01"}function Ka(n){const t=n.length;if(nt(t>=2),2===t)return nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&$e(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:$e()}o=s+2}return new fn(i)}const o6=["userId","batchId"];function MI(n,t){return[n,ao(t)]}function s6(n,t,e){return[n,ao(t),e]}const aIe={},lIe=["prefixPath","collectionGroup","readTime","documentId"],cIe=["prefixPath","collectionGroup","documentId"],uIe=["collectionGroup","readTime","prefixPath","documentId"],dIe=["canonicalId","targetId"],hIe=["targetId","path"],fIe=["path","targetId"],pIe=["collectionId","parent"],mIe=["indexId","uid"],gIe=["uid","sequenceNumber"],_Ie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yIe=["indexId","uid","orderedDocumentKey"],vIe=["userId","collectionPath","documentId"],bIe=["userId","collectionPath","largestBatchId"],wIe=["userId","collectionGroup","largestBatchId"],a6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EIe=[...a6,"documentOverlays"],l6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c6=l6,CIe=[...c6,"indexConfiguration","indexState","indexEntries"];class ZM extends t6{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Pr(n,t){const e=Re(n);return ma.M(e.ae,t)}function u6(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function du(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function d6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ci{constructor(t,e){this.comparator=t,this.root=e||Kr.EMPTY}insert(t,e){return new ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(t){return new ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new NI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new NI(this.root,t,this.comparator,!1)}getReverseIterator(){return new NI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new NI(this.root,t,this.comparator,!0)}}class NI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Kr.RED,this.left=r??Kr.EMPTY,this.right=o??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Kr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Kr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const t=this.left.check();if(t!==this.right.check())throw $e();return t+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Kr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(t){this.comparator=t,this.data=new ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new h6(this.data.getIterator())}getIteratorFrom(t){return new h6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $n)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $n(this.comparator);return e.data=t,e}}class h6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tm(n){return n.hasNext()?n.getNext():void 0}class Yo{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new Yo([])}unionWith(t){let e=new $n(yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Yo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Xp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class f6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f6("Invalid base64 string: "+o):o}}(t);return new gr(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new gr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const TIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hu(n){if(nt(!!n),"string"==typeof n){let t=0;const e=TIe.exec(n);if(nt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hl(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function OI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function PI(n){const t=n.mapValue.fields.__previous_value__;return OI(t)?PI(t):t}function Mv(n){const t=hu(n.mapValue.fields.__local_write_time__.timestampValue);return new xi(t.seconds,t.nanos)}class xIe{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FI={nullValue:"NULL_VALUE"};function mu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OI(n)?4:_6(n)?9007199254740991:10:$e()}function Za(n,t){if(n===t)return!0;const e=mu(n);if(e!==mu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mv(n).isEqual(Mv(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=hu(r.timestampValue),a=hu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Hl(n.bytesValue).isEqual(Hl(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Bi(r.geoPointValue.latitude)===Bi(o.geoPointValue.latitude)&&Bi(r.geoPointValue.longitude)===Bi(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bi(r.integerValue)===Bi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Bi(r.doubleValue),a=Bi(o.doubleValue);return s===a?kv(s)===kv(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Xp(n.arrayValue.values||[],t.arrayValue.values||[],Za);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(u6(s)!==u6(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Za(s[l],a[l])))return!1;return!0}(n,t);default:return $e()}var o}function Nv(n,t){return void 0!==(n.values||[]).find(e=>Za(e,t))}function gu(n,t){if(n===t)return 0;const e=mu(n),i=mu(t);if(e!==i)return Dt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Bi(o.integerValue||o.doubleValue),l=Bi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return p6(n.timestampValue,t.timestampValue);case 4:return p6(Mv(n),Mv(t));case 5:return Dt(n.stringValue,t.stringValue);case 6:return function(o,s){const a=Hl(o),l=Hl(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Dt(a[c],l[c]);if(0!==u)return u}return Dt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Dt(Bi(o.latitude),Bi(s.latitude));return 0!==a?a:Dt(Bi(o.longitude),Bi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=gu(a[c],l[c]);if(u)return u}return Dt(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===pu.mapValue&&s===pu.mapValue)return 0;if(o===pu.mapValue)return 1;if(s===pu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const m=Dt(l[f],u[f]);if(0!==m)return m;const _=gu(a[l[f]],c[u[f]]);if(0!==_)return _}return Dt(l.length,u.length)}(n.mapValue,t.mapValue);default:throw $e()}}function p6(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Dt(n,t);const e=hu(n),i=hu(t),r=Dt(e.seconds,i.seconds);return 0!==r?r:Dt(e.nanos,i.nanos)}function nm(n){return YM(n)}function YM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=hu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hl(n.bytesValue).toBase64():"referenceValue"in n?ke.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=YM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${YM(e.fields[s])}`;return r+"}"}(n.mapValue):$e()}function Yd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function QM(n){return!!n&&"integerValue"in n}function Ov(n){return!!n&&"arrayValue"in n}function m6(n){return!!n&&"nullValue"in n}function g6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VI(n){return!!n&&"mapValue"in n}function Pv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return du(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Pv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Pv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DIe(n){return"nullValue"in n?FI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yd(fu.empty(),ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:$e()}function SIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yd(fu.empty(),ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pu:$e()}function y6(n,t){const e=gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function v6(n,t){const e=gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!VI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pv(e)}setAll(t){let e=yi.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=Pv(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());VI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Za(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];VI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){du(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Zr(Pv(this.value))}}function b6(n){const t=[];return du(n.fields,(e,i)=>{const r=new yi([e]);if(VI(i)){const o=b6(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Yo(t)}class vi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new vi(t,0,ot.min(),ot.min(),ot.min(),Zr.empty(),0)}static newFoundDocument(t,e,i,r){return new vi(t,1,e,ot.min(),i,r,0)}static newNoDocument(t,e){return new vi(t,2,e,ot.min(),ot.min(),Zr.empty(),0)}static newUnknownDocument(t,e){return new vi(t,3,e,ot.min(),ot.min(),Zr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _u{constructor(t,e){this.position=t,this.inclusive=e}}function w6(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?ke.comparator(ke.fromName(s.referenceValue),e.key):gu(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function E6(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Za(n.position[e],t.position[e]))return!1;return!0}class Fv{constructor(t,e="asc"){this.field=t,this.dir=e}}function AIe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class C6{}class ln extends C6{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new RIe(t,e,i):"array-contains"===e?new NIe(t,i):"in"===e?new A6(t,i):"not-in"===e?new OIe(t,i):"array-contains-any"===e?new PIe(t,i):new ln(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new kIe(t,i):new MIe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gu(e,this.value)):null!==e&&mu(this.value)===mu(e)&&this.matchesComparison(gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends C6{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Vn(t,e)}matches(t){return im(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function im(n){return"and"===n.op}function XM(n){return"or"===n.op}function JM(n){return I6(n)&&im(n)}function I6(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function eN(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+nm(n.value);if(JM(n))return n.filters.map(t=>eN(t)).join(",");{const t=n.filters.map(e=>eN(e)).join(",");return`${n.op}(${t})`}}function T6(n,t){return n instanceof ln?(i=n,(r=t)instanceof ln&&i.op===r.op&&i.field.isEqual(r.field)&&Za(i.value,r.value)):n instanceof Vn?function(i,r){return r instanceof Vn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&T6(s,r.filters[a]),!0)}(n,t):void $e();var i,r}function x6(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function D6(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${nm(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(D6).join(" ,")+"}"}(n):"Filter";var e}class RIe extends ln{constructor(t,e,i){super(t,e,i),this.key=ke.fromName(i.referenceValue)}matches(t){const e=ke.comparator(t.key,this.key);return this.matchesComparison(e)}}class kIe extends ln{constructor(t,e){super(t,"in",e),this.keys=S6(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class MIe extends ln{constructor(t,e){super(t,"not-in",e),this.keys=S6(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function S6(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ke.fromName(i.referenceValue))}class NIe extends ln{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ov(e)&&Nv(e.arrayValue,this.value)}}class A6 extends ln{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Nv(this.value.arrayValue,e)}}class OIe extends ln{constructor(t,e){super(t,"not-in",e)}matches(t){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Nv(this.value.arrayValue,e)}}class PIe extends ln{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ov(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Nv(this.value.arrayValue,i))}}class FIe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function tN(n,t=null,e=[],i=[],r=null,o=null,s=null){return new FIe(n,t,e,i,r,o,s)}function Qd(n){const t=Re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>eN(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Rv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>nm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>nm(i)).join(",")),t.ce=e}return t.ce}function Lv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!AIe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!T6(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!E6(n.startAt,t.startAt)&&E6(n.endAt,t.endAt)}function BI(n){return ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function UI(n,t){return n.filters.filter(e=>e instanceof ln&&e.field.isEqual(t))}function R6(n,t,e){let i=FI,r=!0;for(const o of UI(n,t)){let s=FI,a=!0;switch(o.op){case"<":case"<=":s=DIe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=FI}y6({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];y6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function k6(n,t,e){let i=pu,r=!0;for(const o of UI(n,t)){let s=pu,a=!0;switch(o.op){case">=":case">":s=SIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=pu}v6({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];v6({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class zl{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function M6(n,t,e,i,r,o,s,a){return new zl(n,t,e,i,r,o,s,a)}function rm(n){return new zl(n)}function N6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nN(n){return null!==n.collectionGroup}function om(n){const t=Re(n);if(null===t.le){t.le=[];const e=new Set;for(const o of t.explicitOrderBy)t.le.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $n(yi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.le.push(new Fv(o,i))}),e.has(yi.keyField().canonicalString())||t.le.push(new Fv(yi.keyField(),i))}return t.le}function Ro(n){const t=Re(n);return t.he||(t.he=function O6(n,t){if("F"===n.limitType)return tN(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Fv(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new _u(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _u(n.startAt.position,n.startAt.inclusive):null;return tN(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,om(n))),t.he}function iN(n,t){const e=n.filters.concat([t]);return new zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function jI(n,t,e){return new zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Vv(n,t){return Lv(Ro(n),Ro(t))&&n.limitType===t.limitType}function P6(n){return`${Qd(Ro(n))}|lt:${n.limitType}`}function sm(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>D6(r)).join(", ")}]`),Rv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>nm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>nm(r)).join(",")),`Target(${i})`}(Ro(n))}; limitType=${n.limitType})`}function Bv(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ke.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of om(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=w6(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,om(i),r)||i.endAt&&!function(s,a,l){const c=w6(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,om(i),r)));var i,r}function F6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L6(n){return(t,e)=>{let i=!1;for(const r of om(n)){const o=LIe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function LIe(n,t,e){const i=n.field.isKeyField()?ke.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?gu(l,c):$e()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}class $l{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){du(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return d6(this.inner)}size(){return this.innerSize}}const VIe=new ci(ke.comparator);function Qo(){return VIe}const V6=new ci(ke.comparator);function Uv(...n){let t=V6;for(const e of n)t=t.insert(e.key,e);return t}function B6(n){let t=V6;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ya(){return jv()}function U6(){return jv()}function jv(){return new $l(n=>n.toString(),(n,t)=>n.isEqual(t))}const BIe=new ci(ke.comparator),UIe=new $n(ke.comparator);function Vt(...n){let t=UIe;for(const e of n)t=t.add(e);return t}const jIe=new $n(Dt);function rN(){return jIe}function j6(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kv(t)?"-0":t}}function H6(n){return{integerValue:""+n}}function z6(n,t){return i6(t)?H6(t):j6(n,t)}class HI{constructor(){this._=void 0}}function HIe(n,t,e){return n instanceof am?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&OI(o)&&(o=PI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Xd?W6(n,t):n instanceof Jd?G6(n,t):function(r,o){const s=$6(r,o),a=q6(s)+q6(r.Ie);return QM(s)&&QM(r.Ie)?H6(a):j6(r.serializer,a)}(n,t)}function zIe(n,t,e){return n instanceof Xd?W6(n,t):n instanceof Jd?G6(n,t):e}function $6(n,t){return n instanceof lm?QM(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class am extends HI{}class Xd extends HI{constructor(t){super(),this.elements=t}}function W6(n,t){const e=K6(t);for(const i of n.elements)e.some(r=>Za(r,i))||e.push(i);return{arrayValue:{values:e}}}class Jd extends HI{constructor(t){super(),this.elements=t}}function G6(n,t){let e=K6(t);for(const i of n.elements)e=e.filter(r=>!Za(r,i));return{arrayValue:{values:e}}}class lm extends HI{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function q6(n){return Bi(n.integerValue||n.doubleValue)}function K6(n){return Ov(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hv{constructor(t,e){this.field=t,this.transform=e}}class WIe{constructor(t,e){this.version=t,this.transformResults=e}}class Di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class $I{}function Z6(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new um(n.key,Di.none()):new cm(n.key,n.data,Di.none());{const e=n.data,i=Zr.empty();let r=new $n(yi.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Wl(n.key,i,new Yo(r.toArray()),Di.none())}}function GIe(n,t,e){n instanceof cm?function(r,o,s){const a=r.value.clone(),l=X6(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Wl?function(r,o,s){if(!zI(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=X6(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Q6(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function zv(n,t,e,i){return n instanceof cm?function(o,s,a,l){if(!zI(o.precondition,s))return a;const c=o.value.clone(),u=J6(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Wl?function(o,s,a,l){if(!zI(o.precondition,s))return a;const c=J6(o.fieldTransforms,l,s),u=s.data;return u.setAll(Q6(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,zI(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qIe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=$6(i.transform,r||null);null!=o&&(null===e&&(e=Zr.empty()),e.set(i.field,o))}return e||null}function Y6(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Xp(i,r,(o,s)=>function $Ie(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Xd&&r instanceof Xd||i instanceof Jd&&r instanceof Jd?Xp(i.elements,r.elements,Za):i instanceof lm&&r instanceof lm?Za(i.Ie,r.Ie):i instanceof am&&r instanceof am);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class cm extends $I{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wl extends $I{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Q6(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function X6(n,t,e){const i=new Map;nt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,zIe(s,a,e[r]))}return i}function J6(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,HIe(o,s,t))}return i}class um extends $I{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oN extends $I{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&GIe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=U6();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=Z6(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ot.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Xp(this.mutations,t.mutations,(e,i)=>Y6(e,i))&&Xp(this.baseMutations,t.baseMutations,(e,i)=>Y6(e,i))}}class aN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){nt(t.mutations.length===i.length);let r=BIe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new aN(t,e,i,r)}}class lN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ZIe{constructor(t,e){this.count=t,this.unchangedNames=e}}var tr,pn;function e9(n){switch(n){default:return $e();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function t9(n){if(void 0===n)return Gi("GRPC error has no .code"),te.UNKNOWN;switch(n){case tr.OK:return te.OK;case tr.CANCELLED:return te.CANCELLED;case tr.UNKNOWN:return te.UNKNOWN;case tr.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case tr.INTERNAL:return te.INTERNAL;case tr.UNAVAILABLE:return te.UNAVAILABLE;case tr.UNAUTHENTICATED:return te.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case tr.NOT_FOUND:return te.NOT_FOUND;case tr.ALREADY_EXISTS:return te.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return te.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case tr.ABORTED:return te.ABORTED;case tr.OUT_OF_RANGE:return te.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return te.UNIMPLEMENTED;case tr.DATA_LOSS:return te.DATA_LOSS;default:return $e()}}(pn=tr||(tr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";function n9(){return new TextEncoder}const YIe=new Zp([4294967295,4294967295],0);function i9(n){const t=n9().encode(n),e=new zCe;return e.update(t),new Uint8Array(e.digest())}function r9(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Zp([e,i],0),new Zp([r,o],0)]}class cN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new $v(`Invalid padding: ${e}`);if(i<0)throw new $v(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new $v(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new $v(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Zp.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Zp.fromNumber(i)));return 1===r.compare(YIe)&&(r=new Zp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=i9(t),[i,r]=r9(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new cN(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Te)return;const e=i9(t),[i,r]=r9(e);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class $v extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Gv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Wv(ot.min(),r,new ci(Dt),Qo(),Vt())}}class Gv{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Gv(i,e,Vt(),Vt(),Vt())}}class GI{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class o9{constructor(t,e){this.targetId=t,this.fe=e}}class s9{constructor(t,e,i=gr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class a9{constructor(){this.ge=0,this.pe=c9(),this.ye=gr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Vt(),e=Vt(),i=Vt();return this.pe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$e()}}),new Gv(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=c9()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class QIe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Qo(),this.Qe=l9(),this.Ke=new ci(Dt)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:$e()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const o=r.target;if(BI(o))if(0===i){const s=new ke(o.path);this.We(e,s,vi.newNoDocument(s,ot.min()))}else nt(1===i);else{const s=this.Ze(e);if(s!==i){const a=this.Xe(t),l=a?this.et(a,t,s):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Hl(i).toUint8Array()}catch(l){if(l instanceof f6)return Zo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cN(s,r,o)}catch(l){return Zo(l instanceof $v?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(e,o,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&BI(a.target)){const l=new ke(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,vi.newNoDocument(l,t))}o.De&&(e.set(s,o.ve()),o.Fe())}});let i=Vt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const r=new Wv(t,e,this.Ke,this.qe,i);return this.qe=Qo(),this.Qe=l9(),this.Ke=new ci(Dt),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new a9,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new $n(Dt),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ce("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new a9),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function l9(){return new ci(ke.comparator)}function c9(){return new ci(ke.comparator)}const XIe={asc:"ASCENDING",desc:"DESCENDING"},JIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eTe={and:"AND",or:"OR"};class tTe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function uN(n,t){return n.useProto3Json||Rv(t)?t:{value:t}}function dm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u9(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function nTe(n,t){return dm(n,t.toTimestamp())}function qi(n){return nt(!!n),ot.fromTimestamp(function(e){const i=hu(e);return new xi(i.seconds,i.nanos)}(n))}function dN(n,t){return(i=n,new fn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function d9(n){const t=fn.fromString(n);return nt(b9(t)),t}function qv(n,t){return dN(n.databaseId,t.path)}function Qa(n,t){const e=d9(t);if(e.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ke(f9(e))}function hN(n,t){return dN(n.databaseId,t)}function h9(n){const t=d9(n);return 4===t.length?fn.emptyPath():f9(t)}function Kv(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function f9(n){return nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function p9(n,t,e){return{name:qv(n,t),fields:e.value.mapValue.fields}}function m9(n,t,e){const i=Qa(n,t.name),r=qi(t.updateTime),o=t.createTime?qi(t.createTime):ot.min(),s=new Zr({mapValue:{fields:t.fields}}),a=vi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Zv(n,t){let e;if(t instanceof cm)e={update:p9(n,t.key,t.value)};else if(t instanceof um)e={delete:qv(n,t.key)};else if(t instanceof Wl)e={update:p9(n,t.key,t.data),updateMask:uTe(t.fieldMask)};else{if(!(t instanceof oN))return $e();e={verify:qv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof am)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lm)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw $e()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:nTe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$e()),e;var o}function fN(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Di.updateTime(qi(o.updateTime)):void 0!==o.exists?Di.exists(o.exists):Di.none():Di.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(nt("REQUEST_TIME"===a.setToServerValue),l=new am):"appendMissingElements"in a?l=new Xd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Jd(a.removeAllFromArray.values||[]):"increment"in a?l=new lm(s,a.increment):$e();const c=yi.fromServerFormat(a.fieldPath);return new Hv(c,l)}(n,r)):[];var o;if(t.update){const r=Qa(n,t.update.name),o=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Yo((t.updateMask.fieldPaths||[]).map(u=>yi.fromServerFormat(u)));return new Wl(r,o,s,e,i)}return new cm(r,o,e,i)}if(t.delete){const r=Qa(n,t.delete);return new um(r,e)}if(t.verify){const r=Qa(n,t.verify);return new oN(r,e)}return $e()}function g9(n,t){return{documents:[hN(n,t.path)]}}function pN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=hN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=hN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return v9(Vn.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:yu((f=c).field),direction:aTe(f.dir)};var f})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=uN(n,t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function _9(n){let t=h9(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){nt(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(f){const m=y9(f);return m instanceof Vn&&JM(m)?m.getFilters():[m]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(m=>{return new Fv(hm((v=m).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let a=null;e.limit&&(a=function(f){let m;return m="object"==typeof f?f.value:f,Rv(m)?null:m}(e.limit));let l=null;var f;e.startAt&&(l=new _u((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new _u(f.values||[],!f.before)}(e.endAt)),M6(t,r,s,o,a,"F",l,c)}function y9(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=hm(e.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hm(e.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hm(e.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hm(e.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):void 0!==n.fieldFilter?ln.create(hm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(i=>y9(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $e()}}(e.compositeFilter.op))}(n):$e();var e}function aTe(n){return XIe[n]}function lTe(n){return JIe[n]}function cTe(n){return eTe[n]}function yu(n){return{fieldPath:n.canonicalString()}}function hm(n){return yi.fromServerFormat(n.fieldPath)}function v9(n){return n instanceof ln?function(e){if("=="===e.op){if(g6(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NAN"}};if(m6(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(g6(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NAN"}};if(m6(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(e.field),op:lTe(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const i=e.getFilters().map(r=>v9(r));return 1===i.length?i[0]:{compositeFilter:{op:cTe(e.op),filters:i}}}(n):$e()}function uTe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function b9(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gl{constructor(t,e,i,r,o=ot.min(),s=ot.min(),a=gr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Gl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class w9{constructor(t){this.ut=t}}function E9(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:qI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:qv(o=n.ut,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:dm(o,s.version.toTimestamp()),createTime:dm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:eh(t.version)};else{if(!t.isUnknownDocument())return $e();i.unknownDocument={path:e.path.toArray(),version:eh(t.version)}}var o,s;return i}function qI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function eh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function th(n){const t=new xi(n.seconds,n.nanoseconds);return ot.fromTimestamp(t)}function nh(n,t){const e=(t.baseMutations||[]).map(o=>fN(n.ut,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>fN(n.ut,o)),r=xi.fromMillis(t.localWriteTimeMs);return new sN(t.batchId,r,e,i)}function Yv(n){const t=th(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?th(n.lastLimboFreeSnapshotVersion):ot.min();let i;return i=void 0!==n.query.documents?(nt(1===(o=n.query).documents.length),Ro(rm(h9(o.documents[0])))):function(o){return Ro(_9(o))}(n.query),new Gl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,gr.fromBase64String(n.resumeToken));var o}function C9(n,t){const e=eh(t.snapshotVersion),i=eh(t.lastLimboFreeSnapshotVersion);let r;r=BI(t.target)?g9(n.ut,t.target):pN(n.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qd(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function mN(n){const t=_9({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jI(t,t.limit,"L"):t}function gN(n,t){return new lN(t.largestBatchId,fN(n.ut,t.overlayMutation))}function I9(n,t){const e=t.path.lastSegment();return[n,ao(t.path.popLast()),e]}function T9(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:eh(i.readTime),documentKey:ao(i.documentKey.path),largestBatchId:i.largestBatchId}}class hTe{getBundleMetadata(t,e){return x9(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:th(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return x9(t).put({bundleId:(r=e).id,createTime:eh(qi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return D9(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:mN(o.bundledQuery),readTime:th(o.readTime)};var o})}saveNamedQuery(t,e){return D9(t).put({name:(r=e).name,readTime:eh(qi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function x9(n){return Pr(n,"bundles")}function D9(n){return Pr(n,"namedQueries")}class KI{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new KI(t,e.uid||"")}getOverlay(t,e){return Qv(t).get(I9(this.userId,e)).next(i=>i?gN(this.serializer,i):null)}getOverlays(t,e){const i=Ya();return K.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new lN(e,s);r.push(this.lt(t,a))}),K.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(ao(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Qv(t).H("collectionPathOverlayIndex",a))}),K.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ya(),o=ao(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Qv(t).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=gN(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ya();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Qv(t).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const f=gN(this.serializer,c);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}lt(t,e){return Qv(t).put(function(r,o,s){const[a,l,c]=I9(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zv(r.ut,s.mutation)}}(this.serializer,this.userId,e))}}function Qv(n){return Pr(n,"documentOverlays")}class ih{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Bi(t.integerValue));else if("doubleValue"in t){const i=Bi(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),kv(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Hl(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?_6(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):$e()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),ke.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function fTe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function S9(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=fTe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}ih.St=new ih;class pTe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=S9(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=S9(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class mTe{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class gTe{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Xv{constructor(){this.Wt=new pTe,this.Gt=new mTe(this.Wt),this.zt=new gTe(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class rh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new rh(this.indexId,this.documentKey,this.arrayValue,i)}}function vu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=A9(n.arrayValue,t.arrayValue),0!==e?e:(e=A9(n.directionalValue,t.directionalValue),0!==e?e:ke.comparator(n.documentKey,t.documentKey)))}function A9(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class R9{constructor(t){this.Jt=new $n((e,i)=>yi.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(nt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=WM(t);if(void 0!==e&&!this.tn(e))return!1;const i=qd(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let t=new $n(yi.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Kd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Kd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Kd(i.field,"asc"===i.dir?0:1)));return new Jp(Jp.UNKNOWN_ID,this.collectionId,e,em.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function k9(n){var t,e;if(nt(n instanceof ln||n instanceof Vn),n instanceof ln){if(n instanceof A6){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>ln.create(n.field,"==",o)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>k9(r));return Vn.create(i,n.op)}function _Te(n){if(0===n.getFilters().length)return[];const t=vN(k9(n));return nt(M9(t)),_N(t)||yN(t)?[t]:t.getFilters()}function _N(n){return n instanceof ln}function yN(n){return n instanceof Vn&&JM(n)}function M9(n){return _N(n)||yN(n)||function(e){if(e instanceof Vn&&XM(e)){for(const i of e.getFilters())if(!_N(i)&&!yN(i))return!1;return!0}return!1}(n)}function vN(n){if(nt(n instanceof ln||n instanceof Vn),n instanceof ln)return n;if(1===n.filters.length)return vN(n.filters[0]);const t=n.filters.map(i=>vN(i));let e=Vn.create(t,n.op);return e=ZI(e),M9(e)?e:(nt(e instanceof Vn),nt(im(e)),nt(e.filters.length>1),e.filters.reduce((i,r)=>bN(i,r)))}function bN(n,t){let e;return nt(n instanceof ln||n instanceof Vn),nt(t instanceof ln||t instanceof Vn),e=n instanceof ln?t instanceof ln?Vn.create([n,t],"and"):N9(n,t):t instanceof ln?N9(t,n):function(r,o){if(nt(r.filters.length>0&&o.filters.length>0),im(r)&&im(o))return x6(r,o.getFilters());const s=XM(r)?r:o,a=XM(r)?o:r,l=s.filters.map(c=>bN(c,a));return Vn.create(l,"or")}(n,t),ZI(e)}function N9(n,t){if(im(t))return x6(t,n.getFilters());{const e=t.filters.map(i=>bN(n,i));return Vn.create(e,"or")}}function ZI(n){if(nt(n instanceof ln||n instanceof Vn),n instanceof ln)return n;const t=n.getFilters();if(1===t.length)return ZI(t[0]);if(I6(n))return n;const e=t.map(r=>ZI(r)),i=[];return e.forEach(r=>{r instanceof ln?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class yTe{constructor(){this.on=new wN}addToCollectionParentIndex(t,e){return this.on.add(e),K.resolve()}getCollectionParents(t,e){return K.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return K.resolve()}deleteFieldIndex(t,e){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,e){return K.resolve()}getDocumentsMatchingTarget(t,e){return K.resolve(null)}getIndexType(t,e){return K.resolve(0)}getFieldIndexes(t,e){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,e){return K.resolve(ms.min())}getMinOffsetFromCollectionGroup(t,e){return K.resolve(ms.min())}updateCollectionGroup(t,e,i){return K.resolve()}updateIndexEntries(t,e){return K.resolve()}}class wN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $n(fn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $n(fn.comparator)).toArray()}}const YI=new Uint8Array(0);class vTe{constructor(t,e){this.user=t,this.databaseId=e,this._n=new wN,this.an=new $l(i=>Qd(i),(i,r)=>Lv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const o={collectionId:i,parent:ao(r)};return O9(t).put(o)}return K.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[QG(e),""],!1,!0);return O9(t).W(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(Ka(s.parent))}return i})}addFieldIndex(t,e){const i=Jv(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=pm(t);return o.next(a=>{s.put(T9(a,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Jv(t),r=pm(t),o=fm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Jv(t),i=fm(t),r=pm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return K.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new R9(i).sn();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=fm(t);let r=!0;const o=new Map;return K.forEach(this.un(e),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Vt();const a=[];return K.forEach(o,(l,c)=>{var B;Ce("IndexedDbIndexManager",`Using index ${B=l,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(Z=>`${Z.fieldPath}:${Z.kind}`).join(",")}`} to execute ${Qd(e)}`);const u=function(B,Z){const ue=WM(Z);if(void 0===ue)return null;for(const De of UI(B,ue.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(c,l),f=function(B,Z){const ue=new Map;for(const De of qd(Z))for(const Be of UI(B,De.fieldPath))switch(Be.op){case"==":case"in":ue.set(De.fieldPath.canonicalString(),Be.value);break;case"not-in":case"!=":return ue.set(De.fieldPath.canonicalString(),Be.value),Array.from(ue.values())}return null}(c,l),m=function(B,Z){const ue=[];let De=!0;for(const Be of qd(Z)){const ht=0===Be.kind?R6(B,Be.fieldPath,B.startAt):k6(B,Be.fieldPath,B.startAt);ue.push(ht.value),De&&(De=ht.inclusive)}return new _u(ue,De)}(c,l),_=function(B,Z){const ue=[];let De=!0;for(const Be of qd(Z)){const ht=0===Be.kind?k6(B,Be.fieldPath,B.endAt):R6(B,Be.fieldPath,B.endAt);ue.push(ht.value),De&&(De=ht.inclusive)}return new _u(ue,De)}(c,l),v=this.ln(l,c,m),b=this.ln(l,c,_),I=this.hn(l,c,f),N=this.Pn(l.indexId,u,v,m.inclusive,b,_.inclusive,I);return K.forEach(N,A=>i.j(A,e.limit).next(B=>{B.forEach(Z=>{const ue=ke.fromSegments(Z.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return K.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:_Te(Vn.create(t.filters,"and")).map(i=>tN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),u=[];for(let f=0;f<l;++f){const m=e?this.In(e[f/c]):YI,_=this.Tn(t,m,i[f%c],r),v=this.En(t,m,o[f%c],s),b=a.map(I=>this.Tn(t,m,I,!0));u.push(...this.createRange(_,v,b))}return u}Tn(t,e,i,r){const o=new rh(t,ke.empty(),e,i);return r?o:o.Ht()}En(t,e,i,r){const o=new rh(t,ke.empty(),e,i);return r?o.Ht():o}cn(t,e){const i=new R9(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.un(e);return K.forEach(r,o=>this.cn(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new $n(yi.comparator),u=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?u=!0:c=c.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Xv;for(const r of qd(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);ih.St.ht(o,s)}return i.Ut()}In(t){const e=new Xv;return ih.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Xv;return ih.St.ht(Yd(this.databaseId,e),i.jt(function(o){const s=qd(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Xv);let o=0;for(const s of qd(t)){const a=i[o++];for(const l of r)if(this.Rn(e,s.fieldPath)&&Ov(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);ih.St.ht(a,c)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Xv;l.seed(a.Ut()),ih.St.ht(s,l.jt(e.kind)),o.push(l)}return o}Rn(t,e){return!!t.filters.find(i=>i instanceof ln&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Jv(t),r=pm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const s=[];return K.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,f){const m=f?new em(f.sequenceNumber,new ms(th(f.readTime),new ke(Ka(f.documentKey)),f.largestBatchId)):em.empty(),_=u.fields.map(([v,b])=>new Kd(yi.fromServerFormat(v),b));return new Jp(u.indexId,u.collectionGroup,_,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Dt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Jv(t),o=pm(t);return this.fn(t).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>K.forEach(a,l=>o.put(T9(l.indexId,this.user,s,i)))))}updateIndexEntries(t,e){const i=new Map;return K.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?K.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),K.forEach(a,l=>this.gn(t,r,l).next(c=>{const u=this.pn(o,l);return c.isEqual(u)?K.resolve():this.yn(t,o,l,c,u)}))))})}wn(t,e,i,r){return fm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return fm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=fm(t);let o=new $n(vu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(s,a)=>{o=o.add(new rh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,e){let i=new $n(vu);const r=this.dn(e,t);if(null==r)return i;const o=WM(e);if(null!=o){const s=t.data.field(o.fieldPath);if(Ov(s))for(const a of s.arrayValue.values||[])i=i.add(new rh(e.indexId,t.key,this.In(a),r))}else i=i.add(new rh(e.indexId,t.key,YI,r));return i}yn(t,e,i,r,o){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,u,f,m){const _=l.getIterator(),v=c.getIterator();let b=tm(_),I=tm(v);for(;b||I;){let N=!1,A=!1;if(b&&I){const B=u(b,I);B<0?A=!0:B>0&&(N=!0)}else null!=b?A=!0:N=!0;N?(f(I),I=tm(v)):A?(m(b),b=tm(_)):(b=tm(_),I=tm(v))}}(r,o,vu,a=>{s.push(this.wn(t,e,i,a))},a=>{s.push(this.Sn(t,e,i,a))}),K.waitFor(s)}fn(t){let e=1;return pm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>vu(s,a)).filter((s,a,l)=>!a||0!==vu(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=vu(s,t),l=vu(s,e);if(0===a)r[0]=t.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,YI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,YI,[]]))}return o}bn(t,e){return vu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(P9)}getMinOffset(t,e){return K.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||$e())).next(P9)}}function O9(n){return Pr(n,"collectionParents")}function fm(n){return Pr(n,"indexEntries")}function Jv(n){return Pr(n,"indexConfiguration")}function pm(n){return Pr(n,"indexState")}function P9(n){nt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;GM(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ms(t.readTime,t.documentKey,e)}const F9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new lo(t,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function L9(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(l.next(()=>{nt(1===a)}));const c=[];for(const u of e.mutations){const f=s6(t,u.key.path,e.batchId);o.push(r.delete(f)),c.push(u.key)}return K.waitFor(o).next(()=>c)}function QI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw $e();t=n.noDocument}return JSON.stringify(t).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class XI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){nt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new XI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=mm(t),s=bu(t);return s.add({}).next(a=>{nt("number"==typeof a);const l=new sN(a,e,i,r),c=function(_,v,b){const I=b.baseMutations.map(A=>Zv(_.ut,A)),N=b.mutations.map(A=>Zv(_.ut,A));return{userId:v,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:I,mutations:N}}(this.serializer,this.userId,l),u=[];let f=new $n((m,_)=>Dt(m.canonicalString(),_.canonicalString()));for(const m of r){const _=s6(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(c)),u.push(o.put(_,aIe))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),K.waitFor(u).next(()=>l)})}lookupMutationBatch(t,e){return bu(t).get(e).next(i=>i?(nt(i.userId===this.userId),nh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?K.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return bu(t).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(nt(a.batchId>=i),o=nh(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bu(t).W("userMutationsIndex",e).next(i=>i.map(r=>nh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=MI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return mm(t).Y({range:r},(s,a,l)=>{const[c,u,f]=s,m=Ka(u);if(c===this.userId&&e.path.isEqual(m))return bu(t).get(f).next(_=>{if(!_)throw $e();nt(_.userId===this.userId),o.push(nh(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);const r=[];return e.forEach(o=>{const s=MI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=mm(t).Y({range:a},(c,u,f)=>{const[m,_,v]=c,b=Ka(_);m===this.userId&&o.path.isEqual(b)?i=i.add(v):f.done()});r.push(l)}),K.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=MI(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new $n(Dt);return mm(t).Y({range:s},(l,c,u)=>{const[f,m,_]=l,v=Ka(m);f===this.userId&&i.isPrefixOf(v)?v.length===r&&(a=a.add(_)):u.done()}).next(()=>this.vn(t,a))}vn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(bu(t).get(o).next(s=>{if(null===s)throw $e();nt(s.userId===this.userId),i.push(nh(this.serializer,s))}))}),K.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return L9(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),K.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return K.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return mm(t).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Ka(o[1]);r.push(l)}else a.done()}).next(()=>{nt(0===r.length)})})}containsKey(t,e){return V9(t,this.userId,e)}Mn(t){return B9(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function V9(n,t,e){const i=MI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return mm(n).Y({range:o,J:!0},(a,l,c)=>{const[u,f,m]=a;u===t&&f===r&&(s=!0),c.done()}).next(()=>s)}function bu(n){return Pr(n,"mutations")}function mm(n){return Pr(n,"documentMutations")}function B9(n){return Pr(n,"mutationQueues")}class oh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new oh(0)}static Nn(){return new oh(-1)}}class bTe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new oh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>ot.fromTimestamp(new xi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(nt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return gm(t).Y((s,a)=>{const l=Yv(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>K.waitFor(o)).next(()=>r)}forEachTarget(t,e){return gm(t).Y((i,r)=>{const o=Yv(r);e(o)})}Bn(t){return U9(t).get("targetGlobalKey").next(e=>(nt(null!==e),e))}Ln(t,e){return U9(t).put("targetGlobalKey",e)}kn(t,e){return gm(t).put(C9(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Qd(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return gm(t).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=Yv(a);Lv(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=wu(t);return e.forEach(s=>{const a=ao(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),K.waitFor(r)}removeMatchingKeys(t,e,i){const r=wu(t);return K.forEach(e,o=>{const s=ao(o.path);return K.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=wu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=wu(t);let o=Vt();return r.Y({range:i,J:!0},(s,a,l)=>{const c=Ka(s[1]),u=new ke(c);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=ao(e.path),r=IDBKeyRange.bound([i],[QG(i)],!1,!0);let o=0;return wu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}_t(t,e){return gm(t).get(e).next(i=>i?Yv(i):null)}}function gm(n){return Pr(n,"targets")}function U9(n){return Pr(n,"targetGlobal")}function wu(n){return Pr(n,"targetDocuments")}function j9([n,t],[e,i]){const r=Dt(n,e);return 0===r?Dt(t,i):r}class wTe{constructor(t){this.Qn=t,this.buffer=new $n(j9),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();j9(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class H9{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,de.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){uu(i)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield cu(i)}yield e.Gn(3e5)}))}}class ETe{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return K.resolve(gs._e);const i=new wTe(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(F9)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F9):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),Qp()<=ds.in.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class CTe{constructor(t,e){this.db=t,this.garbageCollector=function z9(n,t){return new ETe(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return JI(t,i)}removeReference(t,e,i){return JI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return JI(t,e)}Xn(t,e){return function(r,o){let s=!1;return B9(r).Z(a=>V9(r,a,o).next(l=>(l&&(s=!0),K.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(t,(s,a)=>{if(a<=e){const l=this.Xn(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,ot.min()),wu(t).delete([0,ao(s.path)])))});r.push(l)}}).next(()=>K.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return JI(t,e)}Zn(t,e){const i=wu(t);let r,o=gs._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==gs._e&&e(new ke(Ka(r)),o),o=c,r=l):o=gs._e}).next(()=>{o!==gs._e&&e(new ke(Ka(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function JI(n,t){return wu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ao(t.path),sequenceNumber:r}));var r}class $9{constructor(){this.changes=new $l(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?K.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ITe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return sh(t).put(i)}removeEntry(t,e,i){return sh(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],qI(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=vi.newInvalidDocument(e);return sh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(eb(e))},(r,o)=>{i=this.tr(e,o)}).next(()=>i)}nr(t,e){let i={size:0,document:vi.newInvalidDocument(e)};return sh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(eb(e))},(r,o)=>{i={document:this.tr(e,o),size:QI(o)}}).next(()=>i)}getEntries(t,e){let i=Qo();return this.rr(t,e,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(t,e){let i=Qo(),r=new ci(ke.comparator);return this.rr(t,e,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,QI(s))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return K.resolve();let r=new $n(K9);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(eb(r.first()),eb(r.last())),s=r.getIterator();let a=s.getNext();return sh(t).Y({index:"documentKeyIndex",range:o},(l,c,u)=>{const f=ke.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&K9(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.U(eb(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),qI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sh(t).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let u=Qo();for(const f of c){const m=this.tr(ke.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Bv(e,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=Qo();const s=q9(e,i),a=q9(e,ms.max());return sh(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const f=this.tr(ke.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new TTe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return G9(t).get("remoteDocumentGlobalKey").next(e=>(nt(!!e),e))}er(t,e){return G9(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function dTe(n,t){let e;if(t.document)e=m9(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ke.fromSegments(t.noDocument.path),r=th(t.noDocument.readTime);e=vi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $e();{const i=ke.fromSegments(t.unknownDocument.path),r=th(t.unknownDocument.version);e=vi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new xi(r[0],r[1]);return ot.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(ot.min()))return i}return vi.newInvalidDocument(t)}}function W9(n){return new ITe(n)}class TTe extends $9{constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new $l(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new $n((o,s)=>Dt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(e.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=E9(this._r.serializer,s);r=r.add(o.path.popLast());const c=QI(l);i+=c-a.size,e.push(this._r.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=E9(this._r.serializer,s.convertToNoDocument(ot.min()));e.push(this._r.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),e.push(this._r.updateMetadata(t,i)),K.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function G9(n){return Pr(n,"remoteDocumentGlobal")}function sh(n){return Pr(n,"remoteDocumentsV14")}function eb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function q9(n,t){const e=t.documentKey.path.toArray();return[n,qI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function K9(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Dt(e[o],i[o]),r)return r;return r=Dt(e.length,i.length),r||(r=Dt(e[e.length-2],i[i.length-2]),r||Dt(e[e.length-1],i[i.length-1]))}class xTe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Z9{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&zv(i.mutation,r,Yo.empty(),xi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=Ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=Uv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Qo();const s=jv(),a=jv();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Wl)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),zv(u.mutation,c,u.mutation.getFieldMask(),xi.now())):s.set(c.key,Yo.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),e.forEach((c,u)=>{var f;return a.set(c,new xTe(u,null!==(f=s.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=jv();let r=new ci((s,a)=>s-a),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||Yo.empty();u=a.applyToLocalView(c,u),i.set(l,u);const f=(r.get(a.batchId)||Vt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=U6();u.forEach(m=>{if(!o.has(m)){const _=Z6(e.get(m),i.get(m));null!==_&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return K.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return ke.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):nN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):K.resolve(Ya());let a=-1,l=o;return s.next(c=>K.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?K.resolve():this.remoteDocumentCache.getEntry(t,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Vt())).next(u=>({batchId:a,changes:B6(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ke(e)).next(i=>{let r=Uv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=Uv();return this.indexManager.getCollectionParents(t,o).next(a=>K.forEach(a,l=>{const c=(f=e,m=l.child(o),new zl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,m;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,vi.newInvalidDocument(u)))});let a=Uv();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&zv(u.mutation,c,Yo.empty(),xi.now()),Bv(e,c)&&(a=a.insert(l,c))}),a})}}class DTe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return K.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:qi(r.createTime)}),K.resolve();var r}getNamedQuery(t,e){return K.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:mN(r.bundledQuery),readTime:qi(r.readTime)}),K.resolve();var r}}class STe{constructor(){this.overlays=new ci(ke.comparator),this.lr=new Map}getOverlay(t,e){return K.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ya();return K.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.lt(t,e,o)}),K.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),K.resolve()}getOverlaysForCollection(t,e,i){const r=Ya(),o=e.length+1,s=new ke(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return K.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ci((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=Ya(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ya(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return K.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new lN(e,i));let o=this.lr.get(e);void 0===o&&(o=Vt(),this.lr.set(e,o)),this.lr.set(e,o.add(i.key))}}class EN{constructor(){this.hr=new $n(Fr.Pr),this.Ir=new $n(Fr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Fr(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Fr(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new ke(new fn([])),i=new Fr(e,t),r=new Fr(e,t+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new ke(new fn([])),i=new Fr(e,t),r=new Fr(e,t+1);let o=Vt();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new Fr(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Fr{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return ke.comparator(t.key,e.key)||Dt(t.gr,e.gr)}static Tr(t,e){return Dt(t.gr,e.gr)||ke.comparator(t.key,e.key)}}class ATe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new $n(Fr.Pr)}checkEmpty(t){return K.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.pr;this.pr++;const s=new sN(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Fr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return K.resolve(s)}lookupMutationBatch(t,e){return K.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fr(e,0),r=new Fr(e,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Dt);return e.forEach(r=>{const o=new Fr(r,0),s=new Fr(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),K.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ke.isDocumentKey(o)||(o=o.child(""));const s=new Fr(new ke(o),0);let a=new $n(Dt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),K.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){nt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return K.forEach(e.mutations,r=>{const o=new Fr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Fr(e,0),r=this.yr.firstAfterOrEqual(i);return K.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return K.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class RTe{constructor(t){this.Cr=t,this.docs=new ci(ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return K.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(e))}getEntries(t,e){let i=Qo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():vi.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Qo();const s=e.path,a=new ke(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||GM(JG(u),i)<=0||(r.has(u.key)||Bv(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$e()}vr(t,e){return K.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new kTe(this)}getSize(t){return K.resolve(this.size)}}class kTe extends $9{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),K.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class MTe{constructor(t){this.persistence=t,this.Fr=new $l(e=>Qd(e),Lv),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Mr=0,this.Or=new EN,this.targetCount=0,this.Nr=oh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),K.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new oh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,K.resolve()}updateTargetData(t,e){return this.kn(e),K.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return K.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),K.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),K.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),K.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return K.resolve(i)}containsKey(t,e){return K.resolve(this.Or.containsKey(e))}}class CN{constructor(t,e){this.Br={},this.overlays={},this.Lr=new gs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new MTe(this),this.indexManager=new yTe,this.remoteDocumentCache=new RTe(i=>this.referenceDelegate.Qr(i)),this.serializer=new w9(e),this.Kr=new DTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new STe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new ATe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ce("MemoryPersistence","Starting transaction:",t);const r=new NTe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,e){return K.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class NTe extends t6{constructor(t){super(),this.currentSequenceNumber=t}}class eT{constructor(t){this.persistence=t,this.Gr=new EN,this.zr=null}static jr(t){return new eT(t)}get Hr(){if(this.zr)return this.zr;throw $e()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),K.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),K.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Hr,i=>{const r=ke.fromPath(i);return this.Jr(t,r).next(o=>{o||e.removeEntry(r,ot.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return K.or([()=>K.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class OTe{constructor(t){this.serializer=t}N(t,e,i,r){const o=new kI("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o6,{unique:!0}),l.createObjectStore("documentMutations"),Y9(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=K.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),Y9(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o6,{unique:!0});const f=c.store("mutations"),m=u.map(_=>f.put(_));return K.waitFor(m)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:vIe});c.createIndex("collectionPathOverlayIndex",bIe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",wIe,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:lIe});c.createIndex("documentKeyIndex",cIe),c.createIndex("collectionGroupIndex",uIe)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:mIe}).createIndex("sequenceNumberIndex",gIe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:_Ie}).createIndex("documentKeyIndex",yIe,{unique:!1})}(t))),s}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=QI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>K.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>K.forEach(a,l=>{nt(l.userId===o.userId);const c=nh(this.serializer,l);return L9(t,o.userId,c).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new fn(s),c=[0,ao(l)];o.push(e.get(c).next(u=>u?K.resolve():e.put({targetId:0,path:ao(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>K.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:pIe});const i=e.store("collectionParents"),r=new wN,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:ao(l)})}};return e.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new fn(s);return o(l.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const u=Ka(a);return o(u.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const o=Yv(r),s=C9(this.serializer,o);return e.put(s)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(f=s,f.document?new ke(fn.fromString(f.document.name).popFirst(5)):f.noDocument?ke.fromSegments(f.noDocument.path):f.unknownDocument?ke.fromSegments(f.unknownDocument.path):$e()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>K.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=W9(this.serializer),o=new CN(eT.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Vt();nh(this.serializer,l).keys().forEach(f=>u=u.add(f)),a.set(l.userId,u)}),K.forEach(a,(l,c)=>{const u=new Or(c),f=KI.ct(this.serializer,u),m=o.getIndexManager(u),_=XI.ct(u,this.serializer,m,o.referenceDelegate);return new Z9(r,_,f,m).recalculateAndSaveOverlaysForDocumentKeys(new ZM(e,gs._e),l).next()})})}}function Y9(n){n.createObjectStore("targetDocuments",{keyPath:hIe}).createIndex("documentTargetsIndex",fIe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dIe,{unique:!0}),n.createObjectStore("targetGlobal")}const IN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TN{constructor(t,e,i,r,o,s,a,l,c,u,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=u,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!TN.D())throw new _e(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CTe(this,r),this.Ii=e+"main",this.serializer=new w9(l),this.Ti=new ma(this.Ii,this.ai,new OTe(this.serializer)),this.qr=new bTe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=W9(this.serializer),this.Kr=new hTe,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,IN);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new gs(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,de.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,de.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,de.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>nT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(uu(t))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return tb(t).get("owner").next(e=>K.resolve(this.wi(e)))}Si(t){return nT(t).delete(this.clientId)}bi(){var t=this;return(0,de.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pr(i,"clientMetadata");return r.W().next(o=>{const s=t.Ci(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return K.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?K.resolve(!0):tb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new _e(te.FAILED_PRECONDITION,IN);return!1}}return!(!this.networkEnabled||!this.inForeground)||nT(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ce("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,de.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new ZM(e,gs._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>nT(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return XI.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new vTe(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return KI.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){Ce("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ai)?CIe:14===l?c6:13===l?l6:12===l?EIe:11===l?a6:void $e();var l;let s;return this.Ti.runTransaction(t,r,o,a=>(s=new ZM(a,this.Lr?this.Lr.next():gs._e),"readwrite-primary"===e?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw Gi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _e(te.FAILED_PRECONDITION,e6);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(t){return tb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new _e(te.FAILED_PRECONDITION,IN)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tb(t).put("owner",e)}static D(){return ma.D()}pi(t){const e=tb(t);return e.get("owner").next(i=>this.wi(i)?(Ce("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):K.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Gi(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,D.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return Ce("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Gi("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function tb(n){return Pr(n,"owner")}function nT(n){return Pr(n,"clientMetadata")}function xN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class DN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new DN(t,e.fromCache,i,r)}}class PTe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Q9{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.zi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new PTe;return this.Hi(t,e,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,e,s,a.size)})}).next(()=>o.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Qp()<=ds.in.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",sm(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),K.resolve()):(Qp()<=ds.in.DEBUG&&Ce("QueryEngine","Query:",sm(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Qp()<=ds.in.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",sm(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ro(e))):K.resolve())}zi(t,e){if(N6(e))return K.resolve(null);let i=Ro(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=jI(e,null,"F"),i=Ro(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Vt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,s,l.readTime)?this.zi(t,jI(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return N6(e)||r.isEqual(ot.min())?K.resolve(null):this.Gi.getDocuments(t,i).next(o=>{const s=this.Yi(e,o);return this.Zi(e,s,i,r)?K.resolve(null):(Qp()<=ds.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sm(e)),this.Xi(t,s,e,XG(r,-1)).next(a=>a))})}Yi(t,e){let i=new $n(L6(t));return e.forEach((r,o)=>{Bv(t,o)&&(i=i.add(o))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,e,i){return Qp()<=ds.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",sm(e)),this.Gi.getDocumentsMatchingQuery(t,e,ms.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class FTe{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ci(Dt),this.ns=new $l(o=>Qd(o),Lv),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z9(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function X9(n,t,e,i){return new FTe(n,t,e,i)}function J9(n,t){return SN.apply(this,arguments)}function SN(){return SN=(0,de.Z)(function*(n,t){const e=Re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Vt();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),SN.apply(this,arguments)}function eq(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function tq(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Qo();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function BTe(n,t){const e=Re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _m(n,t){const e=Re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(o=>o?(r=o,K.resolve(r)):e.qr.allocateTargetId(i).next(s=>(r=new Gl(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function ym(n,t,e){return AN.apply(this,arguments)}function AN(){return AN=(0,de.Z)(function*(n,t,e){const i=Re(n),r=i.ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!uu(s))throw s;Ce("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),AN.apply(this,arguments)}function iT(n,t,e){const i=Re(n);let r=ot.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Re(l),m=f.ns.get(u);return void 0!==m?K.resolve(f.ts.get(m)):f.qr.getTargetData(c,u)}(i,s,Ro(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,t,e?r:ot.min(),e?o:Vt())).next(a=>(rq(i,F6(t),a),{documents:a,ls:o})))}function nq(n,t){const e=Re(n),i=Re(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i._t(o,t).next(s=>s?s.target:null))}function iq(n,t){const e=Re(n),i=e.rs.get(t)||ot.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,XG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(rq(e,t,r),r))}function rq(n,t,e){let i=n.rs.get(t)||ot.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(t,i)}function RN(){return RN=(0,de.Z)(function*(n,t,e,i){const r=Re(n);let o=Vt(),s=Qo();for(const c of e){const u=t.hs(c.metadata.name);c.document&&(o=o.add(u));const f=t.Ps(c);f.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(u,f)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield _m(r,(u=i,Ro(rm(fn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>tq(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}),RN.apply(this,arguments)}function jTe(n,t){return kN.apply(this,arguments)}function kN(){return kN=(0,de.Z)(function*(n,t,e=Vt()){const i=yield _m(n,Ro(mN(t.bundledQuery))),r=Re(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=qi(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,t);const a=i.withResumeToken(gr.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,t))})}),kN.apply(this,arguments)}function oq(n,t){return`firestore_clients_${n}_${t}`}function sq(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function MN(n,t){return`firestore_targets_${n}_${t}`}class rT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new _e(r.error.code,r.error.message))),s?new rT(t,e,r.state,o):(Gi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new _e(i.error.code,i.error.message))),o?new nb(t,i.state,r):(Gi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class oT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=rN();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=i6(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new oT(t,o):(Gi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class NN{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new NN(e.clientId,e.onlineState):(Gi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ON{constructor(){this.activeTargetIds=rN()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PN{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ci(Dt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=oq(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new ON),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,de.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const o=t.getItem(oq(t.persistenceKey,r));if(o){const s=oT.Ts(r,o);s&&(t.gs=t.gs.insert(s.clientId,s))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(MN(this.persistenceKey,t));if(i){const r=nb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(MN(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ce("SharedClientState","READ",t,e),e}setItem(t,e){Ce("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ce("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ce("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,de.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(s){let a=gs._e;if(null!=s)try{const l=JSON.parse(s);nt("number"==typeof l),a=l}catch(l){Gi("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==gs._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Js(o)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new rT(this.currentUser,t,e,i),o=sq(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Bs(t){const e=sq(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=MN(this.persistenceKey,t),o=new nb(t,e,i);this.setItem(r,o.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return oT.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return rT.Ts(new Or(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return nb.Ts(r,e)}Ms(t){return NN.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,de.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=rN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class aq{constructor(){this.eo=new ON,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new ON,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HTe{ro(t){}shutdown(){}}class lq{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sT=null;function FN(){return null===sT?sT=268435456+Math.round(2147483648*Math.random()):sT++,"0x"+sT.toString(16)}const zTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $Te{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const co="WebChannelConnection";class WTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(e,i,r,o,s){const a=FN(),l=this.So(e,i);Ce("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(e,l,c,r).then(u=>(Ce("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Zo("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,o,s,a){return this.wo(e,i,r,o,s)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}So(e,i){return`${this.mo}/v1/${i}:${zTe[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const o=FN();return new Promise((s,a)=>{const l=new HCe;l.setWithCredentials(!0),l.listenOnce(BCe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zM.NO_ERROR:const u=l.getResponseJson();Ce(co,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case zM.TIMEOUT:Ce(co,`RPC '${t}' ${o} timed out`),a(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case zM.HTTP_ERROR:const f=l.getStatus();if(Ce(co,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m?.error;if(_&&_.status&&_.message){const v=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN}(_.status);a(new _e(v,_.message))}else a(new _e(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new _e(te.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ce(co,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);Ce(co,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=FN(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=LCe(),a=VCe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new jCe({})),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=o.join("");Ce(co,`Creating RPC '${t}' stream ${r}: ${u}`,l);const f=s.createWebChannel(u,l);let m=!1,_=!1;const v=new $Te({co:I=>{_?Ce(co,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(m||(Ce(co,`Opening RPC '${t}' stream ${r} transport.`),f.open(),m=!0),Ce(co,`RPC '${t}' stream ${r} sending:`,I),f.send(I))},lo:()=>f.close()}),b=(I,N,A)=>{I.listen(N,B=>{try{A(B)}catch(Z){setTimeout(()=>{throw Z},0)}})};return b(f,RI.EventType.OPEN,()=>{_||Ce(co,`RPC '${t}' stream ${r} transport opened.`)}),b(f,RI.EventType.CLOSE,()=>{_||(_=!0,Ce(co,`RPC '${t}' stream ${r} transport closed`),v.Ro())}),b(f,RI.EventType.ERROR,I=>{_||(_=!0,Zo(co,`RPC '${t}' stream ${r} transport errored:`,I),v.Ro(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,RI.EventType.MESSAGE,I=>{var N;if(!_){const A=I.data[0];nt(!!A);const Z=A.error||(null===(N=A[0])||void 0===N?void 0:N.error);if(Z){Ce(co,`RPC '${t}' stream ${r} received error:`,Z);const ue=Z.status;let De=function(mn){const gn=tr[mn];if(void 0!==gn)return t9(gn)}(ue),Be=Z.message;void 0===De&&(De=te.INTERNAL,Be="Unknown error status: "+ue+" with message "+Z.message),_=!0,v.Ro(new _e(De,Be)),f.close()}else Ce(co,`RPC '${t}' stream ${r} received:`,A),v.Vo(A)}}),b(a,UCe.STAT_EVENT,I=>{I.stat===GG.PROXY?Ce(co,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===GG.NOPROXY&&Ce(co,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function cq(){return typeof window<"u"?window:null}function aT(){return typeof document<"u"?document:null}function ib(n){return new tTe(n,!0)}class LN{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&Ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class uq{constructor(t,e,i,r,o,s,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new LN(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,de.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,de.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,de.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===te.RESOURCE_EXHAUSTED?(Gi(e.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===te.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new _e(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,de.Z)(function*(){t.state=0,t.start()}))}o_(t){return Ce("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GTe extends uq{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function rTe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$e(),r=t.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(nt(void 0===u||"string"==typeof u),gr.fromBase64String(u||"")):(nt(void 0===u||u instanceof Uint8Array),gr.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const u=void 0===c.code?te.UNKNOWN:t9(c.code);return new _e(u,c.message||"")}(s);e=new s9(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Qa(n,i.document.name),o=qi(i.document.updateTime),s=i.document.createTime?qi(i.document.createTime):ot.min(),a=new Zr({mapValue:{fields:i.document.fields}}),l=vi.newFoundDocument(r,o,s,a);e=new GI(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Qa(n,i.document),o=i.readTime?qi(i.readTime):ot.min(),s=vi.newNoDocument(r,o);e=new GI([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Qa(n,i.document);e=new GI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $e();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new ZIe(r,o);e=new o9(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return ot.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?qi(s.readTime):ot.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Kv(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=BI(l)?{documents:g9(o,l)}:{query:pN(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=u9(o,s.resumeToken);const c=uN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ot.min())>0){a.readTime=dm(o,s.snapshotVersion.toTimestamp());const c=uN(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function sTe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Kv(this.serializer),e.removeTarget=t,this.e_(e)}}class qTe extends uq{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function oTe(n,t){return n&&n.length>0?(nt(void 0!==t),n.map(e=>function(r,o){let s=qi(r.updateTime?r.updateTime:o);return s.isEqual(ot.min())&&(s=qi(o)),new WIe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qi(t.commitTime);return this.listener.I_(i,e)}return nt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Kv(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Zv(this.serializer,i))};this.e_(e)}}class KTe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new _e(te.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,e,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(te.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class YTe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Gi(e),this.f_=!1):Ce("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class QTe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,de.Z)(function*(){var l;Eu(s)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,de.Z)(function*(u){const f=Re(u);f.C_.add(4),yield vm(f),f.M_.set("Unknown"),f.C_.delete(4),yield rb(f)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new YTe(i,r)}}function rb(n){return BN.apply(this,arguments)}function BN(){return BN=(0,de.Z)(function*(n){if(Eu(n))for(const t of n.v_)yield t(!0)}),BN.apply(this,arguments)}function vm(n){return UN.apply(this,arguments)}function UN(){return UN=(0,de.Z)(function*(n){for(const t of n.v_)yield t(!1)}),UN.apply(this,arguments)}function lT(n,t){const e=Re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),zN(e)?HN(e):wm(e).Ho()&&jN(e,t))}function ob(n,t){const e=Re(n),i=wm(e);e.D_.delete(t),i.Ho()&&dq(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Eu(e)&&e.M_.set("Unknown"))}function jN(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}wm(n).u_(t)}function dq(n,t){n.x_.Oe(t),wm(n).c_(t)}function HN(n){n.x_=new QIe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),wm(n).start(),n.M_.g_()}function zN(n){return Eu(n)&&!wm(n).jo()&&n.D_.size>0}function Eu(n){return 0===Re(n).C_.size}function hq(n){n.x_=void 0}function XTe(n){return $N.apply(this,arguments)}function $N(){return $N=(0,de.Z)(function*(n){n.D_.forEach((t,e)=>{jN(n,t)})}),$N.apply(this,arguments)}function JTe(n,t){return WN.apply(this,arguments)}function WN(){return WN=(0,de.Z)(function*(n,t){hq(n),zN(n)?(n.M_.w_(t),HN(n)):n.M_.set("Unknown")}),WN.apply(this,arguments)}function exe(n,t,e){return GN.apply(this,arguments)}function GN(){return GN=(0,de.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof s9&&2===t.state&&t.cause)try{yield(i=(0,de.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){Ce("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield cT(n,i)}else if(t instanceof GI?n.x_.$e(t):t instanceof o9?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ot.min()))try{const i=yield eq(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(gr.EMPTY_BYTE_STRING,u.snapshotVersion)),dq(o,l);const f=new Gl(u.target,l,c,u.sequenceNumber);jN(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ce("RemoteStore","Failed to raise snapshot:",i),yield cT(n,i)}var i}),GN.apply(this,arguments)}function cT(n,t,e){return qN.apply(this,arguments)}function qN(){return qN=(0,de.Z)(function*(n,t,e){if(!uu(t))throw t;n.C_.add(1),yield vm(n),n.M_.set("Offline"),e||(e=()=>eq(n.localStore)),n.asyncQueue.enqueueRetryable((0,de.Z)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield rb(n)}))}),qN.apply(this,arguments)}function fq(n,t){return t().catch(e=>cT(n,e,t))}function bm(n){return KN.apply(this,arguments)}function KN(){return KN=(0,de.Z)(function*(n){const t=Re(n),e=Cu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;txe(t);)try{const r=yield BTe(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,nxe(t,r)}catch(r){yield cT(t,r)}pq(t)&&mq(t)}),KN.apply(this,arguments)}function txe(n){return Eu(n)&&n.b_.length<10}function nxe(n,t){n.b_.push(t);const e=Cu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function pq(n){return Eu(n)&&!Cu(n).jo()&&n.b_.length>0}function mq(n){Cu(n).start()}function ixe(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,de.Z)(function*(n){Cu(n).E_()}),ZN.apply(this,arguments)}function rxe(n){return YN.apply(this,arguments)}function YN(){return YN=(0,de.Z)(function*(n){const t=Cu(n);for(const e of n.b_)t.P_(e.mutations)}),YN.apply(this,arguments)}function oxe(n,t,e){return QN.apply(this,arguments)}function QN(){return QN=(0,de.Z)(function*(n,t,e){const i=n.b_.shift(),r=aN.from(i,t,e);yield fq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield bm(n)}),QN.apply(this,arguments)}function sxe(n,t){return XN.apply(this,arguments)}function XN(){return XN=(0,de.Z)(function*(n,t){var e;t&&Cu(n).h_&&(yield(e=(0,de.Z)(function*(r,o){if(e9(a=o.code)&&a!==te.ABORTED){const s=r.b_.shift();Cu(r).Yo(),yield fq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield bm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),pq(n)&&mq(n)}),XN.apply(this,arguments)}function gq(n,t){return JN.apply(this,arguments)}function JN(){return JN=(0,de.Z)(function*(n,t){const e=Re(n);e.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const i=Eu(e);e.C_.add(3),yield vm(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield rb(e)}),JN.apply(this,arguments)}function eO(n,t){return tO.apply(this,arguments)}function tO(){return tO=(0,de.Z)(function*(n,t){const e=Re(n);t?(e.C_.delete(2),yield rb(e)):t||(e.C_.add(2),yield vm(e),e.M_.set("Unknown"))}),tO.apply(this,arguments)}function wm(n){return n.O_||(n.O_=function(e,i,r){const o=Re(e);return o.A_(),new GTe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:XTe.bind(null,n),Io:JTe.bind(null,n),a_:exe.bind(null,n)}),n.v_.push(function(){var t=(0,de.Z)(function*(e){e?(n.O_.Yo(),zN(n)?HN(n):n.M_.set("Unknown")):(yield n.O_.stop(),hq(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Cu(n){return n.N_||(n.N_=function(e,i,r){const o=Re(e);return o.A_(),new qTe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:ixe.bind(null,n),Io:sxe.bind(null,n),T_:rxe.bind(null,n),I_:oxe.bind(null,n)}),n.v_.push(function(){var t=(0,de.Z)(function*(e){e?(n.N_.Yo(),yield bm(n)):(yield n.N_.stop(),n.b_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class nO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new nO(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(n,t){if(Gi("AsyncQueue",`${t}: ${n}`),uu(n))return new _e(te.UNAVAILABLE,`${t}: ${n}`);throw n}class Cm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ke.comparator(e.key,i.key):(e,i)=>ke.comparator(e.key,i.key),this.keyedMap=Uv(),this.sortedSet=new ci(this.comparator)}static emptySet(t){return new Cm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Cm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Cm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class _q{constructor(){this.B_=new ci(ke.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):$e():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Im{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Im(t,e,Cm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class axe{constructor(){this.k_=void 0,this.listeners=[]}}class lxe{constructor(){this.queries=new $l(t=>P6(t),Vv),this.onlineState="Unknown",this.q_=new Set}}function iO(n,t){return rO.apply(this,arguments)}function rO(){return rO=(0,de.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new axe),r)try{o.k_=yield e.onListen(i)}catch(s){const a=Em(s,`Initialization of query '${sm(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,o),o.listeners.push(t),t.Q_(e.onlineState),o.k_&&t.K_(o.k_)&&aO(e)}),rO.apply(this,arguments)}function oO(n,t){return sO.apply(this,arguments)}function sO(){return sO=(0,de.Z)(function*(n,t){const e=Re(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sO.apply(this,arguments)}function cxe(n,t){const e=Re(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&aO(e)}function uxe(n,t,e){const i=Re(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function aO(n){n.q_.forEach(t=>{t.next()})}class lO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Im(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Im.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class dxe{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class yq{constructor(t){this.serializer=t}hs(t){return Qa(this.serializer,t)}Ps(t){return t.metadata.exists?m9(this.serializer,t.document,!1):vi.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return qi(t)}}class hxe{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vq(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=fn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new yq(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Vt()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,de.Z)(function*(){const e=yield function UTe(n,t,e,i){return RN.apply(this,arguments)}(t.localStore,new yq(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield jTe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function vq(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bq{constructor(t){this.key=t}}class wq{constructor(t){this.key=t}}class Eq{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vt(),this.mutatedKeys=Vt(),this._a=L6(t),this.aa=new Cm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new _q,r=e?e.aa:this.aa;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,f)=>{const m=r.get(u),_=Bv(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;m&&_?m.data.isEqual(_.data)?v!==b&&(i.track({type:3,doc:_}),I=!0):this.ha(m,_)||(i.track({type:2,doc:_}),I=!0,(l&&this._a(_,l)>0||c&&this._a(_,c)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),I=!0):m&&!_&&(i.track({type:1,doc:m}),I=!0,(l||c)&&(a=!0)),I&&(_?(s=s.add(_),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,u)=>function(m,_){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return v(m)-v(_)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const s=e?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Im(this.query,t.aa,r,o,t.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new _q,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Vt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new wq(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new bq(i))}),e}da(t){this.ia=t.ls,this.oa=Vt();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Im.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class fxe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class pxe{constructor(t){this.key=t,this.Ra=!1}}class mxe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new $l(a=>P6(a),Vv),this.fa=new Map,this.ga=new Set,this.pa=new ci(ke.comparator),this.ya=new Map,this.wa=new EN,this.Sa={},this.ba=new Map,this.Da=oh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function gxe(n,t){return cO.apply(this,arguments)}function cO(){return cO=(0,de.Z)(function*(n,t){const e=MO(n);let i,r;const o=e.ma.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield _m(e.localStore,Ro(t)),a=e.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield uO(e,t,i,"current"===a,s.resumeToken),e.isPrimaryClient&&lT(e.remoteStore,s)}return r}),cO.apply(this,arguments)}function uO(n,t,e,i,r){return dO.apply(this,arguments)}function dO(){return dO=(0,de.Z)(function*(n,t,e,i,r){n.va=(f,m,_)=>{return(v=(0,de.Z)(function*(I,N,A,B){let Z=N.view.ca(A);Z.Zi&&(Z=yield iT(I.localStore,N.query,!1).then(({documents:Be})=>N.view.ca(Be,Z)));const ue=B&&B.targetChanges.get(N.targetId),De=N.view.applyChanges(Z,I.isPrimaryClient,ue);return wO(I,N.targetId,De.Ta),De.snapshot}),function b(I,N,A,B){return v.apply(this,arguments)})(n,f,m,_);var v};const o=yield iT(n.localStore,t,!0),s=new Eq(t,o.ls),a=s.ca(o.documents),l=Gv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);wO(n,e,c.Ta);const u=new fxe(t,e,s);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),dO.apply(this,arguments)}function _xe(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,de.Z)(function*(n,t){const e=Re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(o=>!Vv(o,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ym(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),ob(e.remoteStore,i.targetId),Tm(e,i.targetId)}).catch(cu))):(Tm(e,i.targetId),yield ym(e.localStore,i.targetId,!0))}),hO.apply(this,arguments)}function fO(){return fO=(0,de.Z)(function*(n,t,e){const i=NO(n);try{const r=yield function(s,a){const l=Re(s),c=xi.now(),u=a.reduce((_,v)=>_.add(v.key),Vt());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=Qo(),b=Vt();return l.ss.getEntries(_,u).next(I=>{v=I,v.forEach((N,A)=>{A.isValidDocument()||(b=b.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,v)).next(I=>{f=I;const N=[];for(const A of a){const B=qIe(A,f.get(A.key).overlayedDocument);null!=B&&N.push(new Wl(A.key,B,b6(B.value.mapValue),Di.exists(!0)))}return l.mutationQueue.addMutationBatch(_,c,N,a)}).next(I=>{m=I;const N=I.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(_,I.batchId,N)})}).then(()=>({batchId:m.batchId,changes:B6(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ci(Dt)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,e),yield ql(i,r.changes),yield bm(i.remoteStore)}catch(r){const o=Em(r,"Failed to persist write");e.reject(o)}}),fO.apply(this,arguments)}function Cq(n,t){return pO.apply(this,arguments)}function pO(){return pO=(0,de.Z)(function*(n,t){const e=Re(n);try{const i=yield function VTe(n,t){const e=Re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,f)=>{const m=r.get(f);if(!m)return;a.push(e.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>e.qr.addMatchingKeys(o,u.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);var b,I,N;null!==t.targetMismatches.get(f)?_=_.withResumeToken(gr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):u.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(u.resumeToken,i)),r=r.insert(f,_),I=_,N=u,(0===(b=m).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(o,_))});let l=Qo(),c=Vt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(tq(o,s,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ot.min())){const u=e.qr.getLastRemoteSnapshotVersion(o).next(f=>e.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return K.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.ts=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.ya.get(o);s&&(nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?nt(s.Ra):r.removedDocuments.size>0&&(nt(s.Ra),s.Ra=!1))}),yield ql(e,i,t)}catch(i){yield cu(i)}}),pO.apply(this,arguments)}function Iq(n,t,e){const i=Re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Re(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const m of f.listeners)m.Q_(a)&&(c=!0)}),c&&aO(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function vxe(n,t,e){return mO.apply(this,arguments)}function mO(){return mO=(0,de.Z)(function*(n,t,e){const i=Re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),o=r&&r.key;if(o){let s=new ci(ke.comparator);s=s.insert(o,vi.newNoDocument(o,ot.min()));const a=Vt().add(o),l=new Wv(ot.min(),new Map,new ci(Dt),s,a);yield Cq(i,l),i.pa=i.pa.remove(o),i.ya.delete(t),EO(i)}else yield ym(i.localStore,t,!1).then(()=>Tm(i,t,e)).catch(cu)}),mO.apply(this,arguments)}function bxe(n,t){return gO.apply(this,arguments)}function gO(){return gO=(0,de.Z)(function*(n,t){const e=Re(n),i=t.batch.batchId;try{const r=yield function LTe(n,t){const e=Re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,m=f.keys();let _=K.resolve();return m.forEach(v=>{_=_.next(()=>u.getEntry(l,v)).next(b=>{const I=c.docVersions.get(v);nt(null!==I),b.version.compareTo(I)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Vt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);bO(e,i,null),vO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ql(e,r)}catch(r){yield cu(r)}}),gO.apply(this,arguments)}function wxe(n,t,e){return _O.apply(this,arguments)}function _O(){return _O=(0,de.Z)(function*(n,t,e){const i=Re(n);try{const r=yield function(s,a){const l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(nt(null!==f),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);bO(i,t,e),vO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ql(i,r)}catch(r){yield cu(r)}}),_O.apply(this,arguments)}function yO(){return yO=(0,de.Z)(function*(n,t){const e=Re(n);Eu(e.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Re(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=Em(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),yO.apply(this,arguments)}function vO(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function bO(n,t,e){const i=Re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Tm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||Tq(n,i)})}function Tq(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(ob(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),EO(n))}function wO(n,t,e){for(const i of e)i instanceof bq?(n.wa.addReference(i.key,t),Cxe(n,i)):i instanceof wq?(Ce("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||Tq(n,i.key)):$e()}function Cxe(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(Ce("SyncEngine","New document in limbo: "+e),n.ga.add(i),EO(n))}function EO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new ke(fn.fromString(t)),i=n.Da.next();n.ya.set(i,new pxe(e)),n.pa=n.pa.insert(e,i),lT(n.remoteStore,new Gl(Ro(rm(e.path)),i,"TargetPurposeLimboResolution",gs._e))}}function ql(n,t,e){return CO.apply(this,arguments)}function CO(){return CO=(0,de.Z)(function*(n,t,e){const i=Re(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=DN.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,de.Z)(function*(c,u){const f=Re(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(u,_=>K.forEach(_.ki,v=>f.persistence.referenceDelegate.addReference(m,_.targetId,v)).next(()=>K.forEach(_.qi,v=>f.persistence.referenceDelegate.removeReference(m,_.targetId,v)))))}catch(m){if(!uu(m))throw m;Ce("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const _=m.targetId;if(!m.fromCache){const v=f.ts.get(_),I=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);f.ts=f.ts.insert(_,I)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,o))}),CO.apply(this,arguments)}function Ixe(n,t){return IO.apply(this,arguments)}function IO(){return IO=(0,de.Z)(function*(n,t){const e=Re(n);if(!e.currentUser.isEqual(t)){Ce("SyncEngine","User change. New user:",t.toKey());const i=yield J9(e.localStore,t);e.currentUser=t,(o=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new _e(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ql(e,i._s)}var o}),IO.apply(this,arguments)}function Txe(n,t){const e=Re(n),i=e.ya.get(t);if(i&&i.Ra)return Vt().add(i.key);{let r=Vt();const o=e.fa.get(t);if(!o)return r;for(const s of o){const a=e.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function xxe(n,t){return TO.apply(this,arguments)}function TO(){return TO=(0,de.Z)(function*(n,t){const e=Re(n),i=yield iT(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&wO(e,t.targetId,r.Ta),r}),TO.apply(this,arguments)}function Dxe(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,de.Z)(function*(n,t){const e=Re(n);return iq(e.localStore,t).then(i=>ql(e,i))}),xO.apply(this,arguments)}function Sxe(n,t,e,i){return DO.apply(this,arguments)}function DO(){return DO=(0,de.Z)(function*(n,t,e,i){const r=Re(n),o=yield function(a,l){const c=Re(a),u=Re(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.Cn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):K.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield bm(r.remoteStore):"acknowledged"===e||"rejected"===e?(bO(r,t,i||null),vO(r,t),l=t,Re(Re(r.localStore).mutationQueue).Fn(l)):$e(),yield ql(r,o)):Ce("SyncEngine","Cannot apply mutation batch with id: "+t)}),DO.apply(this,arguments)}function SO(){return SO=(0,de.Z)(function*(n,t){const e=Re(n);if(MO(e),NO(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield xq(e,i.toArray());e.Ca=!0,yield eO(e.remoteStore,!0);for(const o of r)lT(e.remoteStore,o)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Tm(e,s),ym(e.localStore,s,!0))),ob(e.remoteStore,s)}),yield r,yield xq(e,i),function(s){const a=Re(s);a.ya.forEach((l,c)=>{ob(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new ci(ke.comparator)}(e),e.Ca=!1,yield eO(e.remoteStore,!1)}}),SO.apply(this,arguments)}function xq(n,t,e){return AO.apply(this,arguments)}function AO(){return AO=(0,de.Z)(function*(n,t,e){const i=Re(n),r=[],o=[];for(const s of t){let a;const l=i.fa.get(s);if(l&&0!==l.length){a=yield _m(i.localStore,Ro(l[0]));for(const c of l){const u=i.ma.get(c),f=yield xxe(i,u);f.snapshot&&o.push(f.snapshot)}}else{const c=yield nq(i.localStore,s);a=yield _m(i.localStore,c),yield uO(i,Dq(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),AO.apply(this,arguments)}function Dq(n){return M6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Rxe(n){return e=Re(n).localStore,Re(Re(e).persistence).Bi();var e}function kxe(n,t,e,i){return RO.apply(this,arguments)}function RO(){return RO=(0,de.Z)(function*(n,t,e,i){const r=Re(n);if(r.Ca)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield iq(r.localStore,F6(o[0])),a=Wv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,gr.EMPTY_BYTE_STRING);yield ql(r,s,a);break}case"rejected":yield ym(r.localStore,t,!0),Tm(r,t,i);break;default:$e()}}),RO.apply(this,arguments)}function Mxe(n,t,e){return kO.apply(this,arguments)}function kO(){return kO=(0,de.Z)(function*(n,t,e){const i=MO(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){Ce("SyncEngine","Adding an already active target "+r);continue}const o=yield nq(i.localStore,r),s=yield _m(i.localStore,o);yield uO(i,Dq(o),s.targetId,!1,s.resumeToken),lT(i.remoteStore,s)}for(const r of e)i.fa.has(r)&&(yield ym(i.localStore,r,!1).then(()=>{ob(i.remoteStore,r),Tm(i,r)}).catch(cu))}}),kO.apply(this,arguments)}function MO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cq.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Txe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vxe.bind(null,t),t.Va.a_=cxe.bind(null,t.eventManager),t.Va.Fa=uxe.bind(null,t.eventManager),t}function NO(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bxe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wxe.bind(null,t),t}class sb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,de.Z)(function*(){e.serializer=ib(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return X9(this.persistence,new Q9,t.initialUser,this.serializer)}createPersistence(t){return new CN(eT.jr,this.serializer)}createSharedClientState(t){return new aq}terminate(){var t=this;return(0,de.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class OO extends sb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,de.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield NO(i.xa.syncEngine),yield bm(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return X9(this.persistence,new Q9,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new H9(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new oIe(e,this.persistence);return new rIe(t.asyncQueue,i)}createPersistence(t){const e=xN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new TN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,cq(),aT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new aq}}class Sq extends OO{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,de.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof PN&&(i.sharedClientState.syncEngine={Ys:Sxe.bind(null,r),Zs:kxe.bind(null,r),Xs:Mxe.bind(null,r),Bi:Rxe.bind(null,r),Js:Dxe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,de.Z)(function*(s){yield function Axe(n,t){return SO.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=cq();if(!PN.D(e))throw new _e(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=xN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new PN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class xm{initialize(t,e){var i=this;return(0,de.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Iq(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ixe.bind(null,i.syncEngine),yield eO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new lxe}createDatastore(t){const e=ib(t.databaseInfo.databaseId),i=new WTe(t.databaseInfo);return new KTe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>Iq(this.syncEngine,e,0),a=lq.D()?new lq:new HTe,new QTe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,l,c,u){const f=new mxe(r,o,s,a,l,c);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,de.Z)(function*(i){const r=Re(i);Ce("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield vm(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function Aq(n,t=10240){let e=0;return{read:()=>(0,de.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class uT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Pxe{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new mr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,de.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,de.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,de.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const o=yield t.Ka(r);return new dxe(JSON.parse(o),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,de.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,de.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,de.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Fxe{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new _e(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,de.Z)(function*(s,a){const l=Re(s),c=Kv(l.serializer)+"/documents",u={documents:a.map(v=>qv(l.serializer,v))},f=yield l.Co("BatchGetDocuments",c,u,a.length),m=new Map;f.forEach(v=>{const b=function iTe(n,t){return"found"in t?function(i,r){nt(!!r.found);const o=Qa(i,r.found.name),s=qi(r.found.updateTime),a=r.found.createTime?qi(r.found.createTime):ot.min(),l=new Zr({mapValue:{fields:r.found.fields}});return vi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){nt(!!r.missing),nt(!!r.readTime);const o=Qa(i,r.missing),s=qi(r.readTime);return vi.newNoDocument(o,s)}(n,t):$e()}(l.serializer,v);m.set(b.key.toString(),b)});const _=[];return a.forEach(v=>{const b=m.get(v.toString());nt(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new um(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ke.fromPath(r);t.mutations.push(new oN(o,t.precondition(o)))}),yield(i=(0,de.Z)(function*(o,s){const a=Re(o),l=Kv(a.serializer)+"/documents",c={writes:s.map(u=>Zv(a.serializer,u))};yield a.wo("Commit",l,c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $e();e=ot.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new _e(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(ot.min())?Di.exists(!1):Di.updateTime(e):Di.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ot.min()))throw new _e(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(e)}return Di.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Lxe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new LN(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,de.Z)(function*(){const e=new Fxe(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ja(o)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!Rv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!e9(e)}return!1}}class Vxe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=YG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,de.Z)(function*(a){Ce("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,de.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Em(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function dT(n,t){return PO.apply(this,arguments)}function PO(){return PO=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,de.Z)(function*(o){i.isEqual(o)||(yield J9(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),PO.apply(this,arguments)}function FO(n,t){return LO.apply(this,arguments)}function LO(){return LO=(0,de.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield VO(n);Ce("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>gq(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>gq(t.remoteStore,o)),n._onlineComponents=t}),LO.apply(this,arguments)}function Rq(n){return"FirebaseError"===n.name?n.code===te.FAILED_PRECONDITION||n.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function VO(n){return BO.apply(this,arguments)}function BO(){return BO=(0,de.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dT(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!Rq(e))throw e;Zo("Error using user provided cache. Falling back to memory cache: "+e),yield dT(n,new sb)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield dT(n,new sb);return n._offlineComponents}),BO.apply(this,arguments)}function hT(n){return UO.apply(this,arguments)}function UO(){return UO=(0,de.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield FO(n,n._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield FO(n,new xm))),n._onlineComponents}),UO.apply(this,arguments)}function kq(n){return VO(n).then(t=>t.persistence)}function Dm(n){return VO(n).then(t=>t.localStore)}function Mq(n){return hT(n).then(t=>t.remoteStore)}function jO(n){return hT(n).then(t=>t.syncEngine)}function Sm(n){return HO.apply(this,arguments)}function HO(){return HO=(0,de.Z)(function*(n){const t=yield hT(n),e=t.eventManager;return e.onListen=gxe.bind(null,t.syncEngine),e.onUnlisten=_xe.bind(null,t.syncEngine),e}),HO.apply(this,arguments)}function Oq(n,t,e={}){const i=new mr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,s,a,l,c){const u=new uT({next:m=>{s.enqueueAndForget(()=>oO(o,f));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&l&&"server"===l.source?c.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new lO(rm(a.path),u,{includeMetadataChanges:!0,J_:!0});return iO(o,f)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function Pq(n,t,e={}){const i=new mr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(o,s,a,l,c){const u=new uT({next:m=>{s.enqueueAndForget(()=>oO(o,f)),m.fromCache&&"server"===l.source?c.reject(new _e(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new lO(a,u,{includeMetadataChanges:!0,J_:!0});return iO(o,f)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function Fq(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Lq=new Map;function zO(n,t,e){if(!e)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Vq(n,t,e,i){if(!0===t&&!0===i)throw new _e(te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Bq(n){if(!ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uq(n){if(ke.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":$e()}function on(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fT(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function jq(n,t){if(t<=0)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Hq{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Vq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Fq(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ab{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hq({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hq(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new GCe;switch(i.type){case"firstParty":return new YCe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Lq.get(e);i&&(Ce("ComponentProvider","Removing Datastore"),Lq.delete(e),i.terminate())}(this),Promise.resolve()}}class Yr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yr(this.firestore,t,this._query)}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class Xa extends Yr{constructor(t,e,i){super(t,e,rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new ke(t))}withConverter(t){return new Xa(this.firestore,t,this._path)}}function $q(n,t,...e){if(n=(0,D.m9)(n),zO("collection","path",t),n instanceof ab){const i=fn.fromString(t,...e);return Uq(i),new Xa(n,null,i)}{if(!(n instanceof bi||n instanceof Xa))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return Uq(i),new Xa(n.firestore,null,i)}}function pT(n,t,...e){if(n=(0,D.m9)(n),1===arguments.length&&(t=YG.newId()),zO("doc","path",t),n instanceof ab){const i=fn.fromString(t,...e);return Bq(i),new bi(n,null,new ke(i))}{if(!(n instanceof bi||n instanceof Xa))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return Bq(i),new bi(n.firestore,n instanceof Xa?n.converter:null,new ke(i))}}function Wq(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),(n instanceof bi||n instanceof Xa)&&(t instanceof bi||t instanceof Xa)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function $O(n,t){return n=(0,D.m9)(n),t=(0,D.m9)(t),n instanceof Yr&&t instanceof Yr&&n.firestore===t.firestore&&Vv(n._query,t._query)&&n.converter===t.converter}class Yxe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new LN(this,"async_queue_retry"),this.iu=()=>{const e=aT();e&&Ce("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=aT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=aT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new mr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,de.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!uu(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Gi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=nO.createAndSchedule(this,t,e,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&$e()}verifyOperationInProgress(){}uu(){var t=this;return(0,de.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function WO(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Qxe{constructor(){this._progressObserver={},this._taskCompletionResolver=new mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ui extends ab{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Yxe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gq(this),this._firestoreClient.terminate()}}function Ui(n){return n._firestoreClient||Gq(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Gq(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new xIe(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Fq(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new Vxe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function qq(n,t,e){const i=new mr;return n.asyncQueue.enqueue((0,de.Z)(function*(){try{yield dT(n,e),yield FO(n,t),i.resolve()}catch(r){const o=r;if(!Rq(o))throw o;Zo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function Kq(n){if(n._initialized||n._terminated)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ja(gr.fromBase64String(t))}catch(e){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ja(gr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ah{constructor(t){this._methodName=t}}class mT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}const lDe=/^__.*__$/;class cDe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Wl(t,this.data,this.fieldMask,e,this.fieldTransforms):new cm(t,this.data,e,this.fieldTransforms)}}class Zq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Wl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Yq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class gT{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new gT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return vT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Yq(this.Iu)&&lDe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class uDe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ib(t)}pu(t,e,i,r=!1){return new gT({Iu:t,methodName:e,gu:i,path:yi.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(n){const t=n._freezeSettings(),e=ib(n._databaseId);return new uDe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function _T(n,t,e,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,t,e,r);ZO("Data must be an object, but it was:",s,i);const a=Jq(i,s);let l,c;if(o.merge)l=new Yo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const m=ub(t,f,e);if(!s.contains(m))throw new _e(te.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);t7(u,m)||u.push(m)}l=new Yo(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new cDe(new Zr(a),l,c)}class cb extends ah{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cb}}function Qq(n,t,e){return new gT({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class GO extends ah{_toFieldTransform(t){return new Hv(t.path,new am)}isEqual(t){return t instanceof GO}}class dDe extends ah{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=Qq(this,t,!0),i=this.yu.map(o=>ch(o,e)),r=new Xd(i);return new Hv(t.path,r)}isEqual(t){return this===t}}class hDe extends ah{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=Qq(this,t,!0),i=this.yu.map(o=>ch(o,e)),r=new Jd(i);return new Hv(t.path,r)}isEqual(t){return this===t}}class fDe extends ah{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new lm(t.serializer,z6(t.serializer,this.wu));return new Hv(t.path,e)}isEqual(t){return this===t}}function qO(n,t,e,i){const r=n.pu(1,t,e);ZO("Data must be an object, but it was:",r,i);const o=[],s=Zr.empty();du(i,(l,c)=>{const u=yT(t,l,e);c=(0,D.m9)(c);const f=r.Ru(u);if(c instanceof cb)o.push(u);else{const m=ch(c,f);null!=m&&(o.push(u),s.set(u,m))}});const a=new Yo(o);return new Zq(s,a,r.fieldTransforms)}function KO(n,t,e,i,r,o){const s=n.pu(1,t,e),a=[ub(t,i,e)],l=[r];if(o.length%2!=0)throw new _e(te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(ub(t,o[m])),l.push(o[m+1]);const c=[],u=Zr.empty();for(let m=a.length-1;m>=0;--m)if(!t7(c,a[m])){const _=a[m];let v=l[m];v=(0,D.m9)(v);const b=s.Ru(_);if(v instanceof cb)c.push(_);else{const I=ch(v,b);null!=I&&(c.push(_),u.set(_,I))}}const f=new Yo(c);return new Zq(u,f,s.fieldTransforms)}function Xq(n,t,e,i=!1){return ch(e,n.pu(i?4:3,t))}function ch(n,t){if(e7(n=(0,D.m9)(n)))return ZO("Unsupported field value:",t,n),Jq(n,t);if(n instanceof ah)return function(i,r){if(!Yq(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=ch(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,D.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return z6(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=xi.fromDate(i);return{timestampValue:dm(r.serializer,o)}}if(i instanceof xi){const o=new xi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dm(r.serializer,o)}}if(i instanceof mT)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ja)return{bytesValue:u9(r.serializer,i._byteString)};if(i instanceof bi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dN(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${fT(i)}`)}(n,t)}function Jq(n,t){const e={};return d6(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):du(n,(i,r)=>{const o=ch(r,t.Eu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function e7(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xi||n instanceof mT||n instanceof Ja||n instanceof bi||n instanceof ah)}function ZO(n,t,e){if(!e7(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=fT(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function ub(n,t,e){if((t=(0,D.m9)(t))instanceof Kl)return t._internalPath;if("string"==typeof t)return yT(n,t);throw vT("Field path arguments must be of type string or ",n,!1,void 0,e)}const pDe=new RegExp("[~\\*/\\[\\]]");function yT(n,t,e){if(t.search(pDe)>=0)throw vT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Kl(...t.split("."))._internalPath}catch{throw vT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vT(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new _e(te.INVALID_ARGUMENT,a+n+l)}function t7(n,t){return n.some(e=>e.isEqual(t))}class db{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new mDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class mDe extends db{data(){return super.data()}}function bT(n,t){return"string"==typeof t?yT(n,t):t instanceof Kl?t._internalPath:t._delegate._internalPath}function n7(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YO{}class hb extends YO{}function Iu(n,t,...e){let i=[];t instanceof YO&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof Am).length,a=o.filter(l=>l instanceof fb).length;if(s>1||s>0&&a>0)throw new _e(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class fb extends hb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new fb(t,e,i)}_apply(t){const e=this._parse(t);return s7(t._query,e),new Yr(t.firestore,t.converter,iN(t._query,e))}_parse(t){const e=lh(t.firestore);return function(o,s,a,l,c,u,f){let m;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){o7(f,u);const _=[];for(const v of f)_.push(r7(l,o,v));m={arrayValue:{values:_}}}else m=r7(l,o,f)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||o7(f,u),m=Xq(a,"where",f,"in"===u||"not-in"===u);return ln.create(c,u,m)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Am extends YO{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Am(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)s7(s,l),s=iN(s,l)}(t._query,e),new Yr(t.firestore,t.converter,iN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QO extends hb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new QO(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fv(o,s)}(t._query,this._field,this._direction);return new Yr(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new zl(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class wT extends hb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new wT(t,e,i)}_apply(t){return new Yr(t.firestore,t.converter,jI(t._query,this._limit,this._limitType))}}class ET extends hb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ET(t,e,i)}_apply(t){const e=i7(t,this.type,this._docOrFields,this._inclusive);return new Yr(t.firestore,t.converter,(o=e,new zl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class CT extends hb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new CT(t,e,i)}_apply(t){const e=i7(t,this.type,this._docOrFields,this._inclusive);return new Yr(t.firestore,t.converter,(o=e,new zl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function i7(n,t,e,i){if(e[0]=(0,D.m9)(e[0]),e[0]instanceof db)return function(o,s,a,l,c){if(!l)throw new _e(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of om(o))if(f.field.isKeyField())u.push(Yd(s,l.key));else{const m=l.data.field(f.field);if(OI(m))throw new _e(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const _=f.field.canonicalString();throw new _e(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}u.push(m)}return new _u(u,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=lh(n.firestore);return function(s,a,l,c,u,f){const m=s.explicitOrderBy;if(u.length>m.length)throw new _e(te.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let v=0;v<u.length;v++){const b=u[v];if(m[v].field.isKeyField()){if("string"!=typeof b)throw new _e(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!nN(s)&&-1!==b.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);const I=s.path.child(fn.fromString(b));if(!ke.isDocumentKey(I))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const N=new ke(I);_.push(Yd(a,N))}else{const I=Xq(l,c,b);_.push(I)}}return new _u(_,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function r7(n,t,e){if("string"==typeof(e=(0,D.m9)(e))){if(""===e)throw new _e(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nN(t)&&-1!==e.indexOf("/"))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fn.fromString(e));if(!ke.isDocumentKey(i))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yd(n,new ke(i))}if(e instanceof bi)return Yd(n,e._key);throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fT(e)}.`)}function o7(n,t){if(!Array.isArray(n)||0===n.length)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function s7(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new _e(te.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class XO{convertValue(t,e="none"){switch(mu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw $e()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return du(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new mT(Bi(t.latitude),Bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=PI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Mv(t));default:return null}}convertTimestamp(t){const e=hu(t);return new xi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fn.fromString(t);nt(b9(i));const r=new fu(i.get(1),i.get(3)),o=new ke(i.popFirst(5));return r.isEqual(e)||Gi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function IT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class IDe extends XO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ja(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class uh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zl extends db{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(bT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class pb extends Zl{data(t={}){return super.data(t)}}class Tu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new uh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new pb(this._firestore,this._userDataWriter,i.key,i,new uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _e(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new pb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new pb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new uh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:xDe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}function l7(n,t){return n instanceof Zl&&t instanceof Zl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Tu&&t instanceof Tu&&n._firestore===t._firestore&&$O(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class xu extends XO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ja(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function c7(n,t,e){n=on(n,bi);const i=on(n.firestore,ui),r=IT(n.converter,t,e);return Rm(i,[_T(lh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Di.none())])}function u7(n,t,e,...i){n=on(n,bi);const r=on(n.firestore,ui),o=lh(r);let s;return s="string"==typeof(t=(0,D.m9)(t))||t instanceof Kl?KO(o,"updateDoc",n._key,t,e,i):qO(o,"updateDoc",n._key,t),Rm(r,[s.toMutation(n._key,Di.exists(!0))])}function d7(n,...t){var e,i,r;n=(0,D.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||WO(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(WO(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,u;if(n instanceof bi)c=on(n.firestore,ui),u=rm(n._key.path),l={next:f=>{t[s]&&t[s](JO(c,n,f))},error:t[s+1],complete:t[s+2]};else{const f=on(n,Yr);c=on(f.firestore,ui),u=f._query;const m=new xu(c);l={next:_=>{t[s]&&t[s](new Tu(c,m,f,_))},error:t[s+1],complete:t[s+2]},n7(n._query)}return function(m,_,v,b){const I=new uT(b),N=new lO(_,I,v);return m.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return iO(yield Sm(m),N)})),()=>{I.Na(),m.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return oO(yield Sm(m),N)}))}}(Ui(c),u,a,l)}function Rm(n,t){return function(i,r){const o=new mr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function yxe(n,t,e){return fO.apply(this,arguments)}(yield jO(i),r,o)})),o.promise}(Ui(n),t)}function JO(n,t,e){const i=e.docs.get(t._key),r=new xu(n);return new Zl(n,r,t._key,i,new uh(e.hasPendingWrites,e.fromCache),t.converter)}const $De={maxAttempts:5};class h7{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lh(t)}set(t,e,i){this._verifyNotCommitted();const r=Du(t,this._firestore),o=IT(r.converter,e,i),s=_T(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Di.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Du(t,this._firestore);let s;return s="string"==typeof(e=(0,D.m9)(e))||e instanceof Kl?KO(this._dataReader,"WriteBatch.update",o._key,e,i,r):qO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Di.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Du(t,this._firestore);return this._mutations=this._mutations.concat(new um(e._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Du(n,t){if((n=(0,D.m9)(n)).firestore!==t)throw new _e(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class WDe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=lh(e)}get(e){const i=Du(e,this._firestore),r=new IDe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return $e();const s=o[0];if(s.isFoundDocument())return new db(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new db(this._firestore,r,i._key,null,i.converter);throw $e()})}set(e,i,r){const o=Du(e,this._firestore),s=IT(o.converter,i,r),a=_T(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Du(e,this._firestore);let a;return a="string"==typeof(i=(0,D.m9)(i))||i instanceof Kl?KO(this._dataReader,"Transaction.update",s._key,i,r,o):qO(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Du(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Du(t,this._firestore),i=new xu(this._firestore);return super.get(t).then(r=>new Zl(this._firestore,i,e._key,r._document,new uh(!1,!1),e.converter))}}function tP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function g7(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function _7(){if(!function IIe(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Yp=Vs.SDK_VERSION,(0,Vs._registerComponent)(new Pl.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ui(new KCe(i.getProvider("auth-internal")),new QCe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(qG,"4.3.2",t),(0,Vs.registerVersion)(qG,"4.3.2","esm2017")}();class mb{constructor(t){this._delegate=t}static fromBase64String(t){return _7(),new mb(Ja.fromBase64String(t))}static fromUint8Array(t){return g7(),new mb(Ja.fromUint8Array(t))}toBase64(){return _7(),this._delegate.toBase64()}toUint8Array(){return g7(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nP(n){return function t1e(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class n1e{enableIndexedDbPersistence(t,e){return function Jxe(n,t){Kq(n=on(n,ui));const e=Ui(n);if(e._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");Zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new xm;return qq(e,r,new OO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function eDe(n){Kq(n=on(n,ui));const t=Ui(n);if(t._uninitializedComponentsProvider)throw new _e(te.FAILED_PRECONDITION,"SDK cache is already specified.");Zo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new xm;return qq(t,i,new Sq(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function tDe(n){if(n._initialized&&!n._terminated)throw new _e(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(e=(0,de.Z)(function*(r){if(!ma.D())return Promise.resolve();const o=r+"main";yield ma.delete(o)}),function i(r){return e.apply(this,arguments)})(xN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class y7{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function zq(n,t,e,i={}){var r;const o=(n=on(n,ab))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Or.MOCK_USER;else{a=(0,D.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Or(c)}n._authCredentials=new qCe(new KG(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function iDe(n){return function Bxe(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield kq(n),e=yield Mq(n);return t.setNetworkEnabled(!0),function(r){const o=Re(r);return o.C_.delete(0),rb(o)}(e)}))}(Ui(n=on(n,ui)))}(this._delegate)}disableNetwork(){return function rDe(n){return function Uxe(n){return n.asyncQueue.enqueue((0,de.Z)(function*(){const t=yield kq(n),e=yield Mq(n);return t.setNetworkEnabled(!1),(i=(0,de.Z)(function*(o){const s=Re(o);s.C_.add(0),yield vm(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Ui(n=on(n,ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Vq("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nDe(n){return function(e){const i=new mr;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function Exe(n,t){return yO.apply(this,arguments)}(yield jO(e),i)})),i.promise}(Ui(n=on(n,ui)))}(this._delegate)}onSnapshotsInSync(t){return function PDe(n,t){return function zxe(n,t){const e=new uT(t);return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield Sm(n),o=e,Re(r).q_.add(o),void o.next();var r,o})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return r=yield Sm(n),o=e,void Re(r).q_.delete(o);var r,o}))}}(Ui(n=on(n,ui)),WO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new km(this,$q(this._delegate,t))}catch(e){throw ko(e,"collection()","Firestore.collection()")}}doc(t){try{return new $s(this,pT(this._delegate,t))}catch(e){throw ko(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Mo(this,function Zxe(n,t){if(n=on(n,ab),zO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yr(n,null,(i=t,new zl(fn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw ko(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function GDe(n,t,e){n=on(n,ui);const i=Object.assign(Object.assign({},$De),e);return function(o){if(o.maxAttempts<1)throw new _e(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new mr;return o.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const c=yield function Nq(n){return hT(n).then(t=>t.datastore)}(o);new Lxe(o.asyncQueue,c,a,s,l).run()})),l.promise}(Ui(n),r=>t(new WDe(n,r)),i)}(this._delegate,e=>t(new v7(this,e)))}batch(){return Ui(this._delegate),new b7(new h7(this._delegate,t=>Rm(this._delegate,t)))}loadBundle(t){return function oDe(n,t){const e=Ui(n=on(n,ui)),i=new Qxe;return function $xe(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?n9().encode(s):s,u=function(u,f){if(u instanceof Uint8Array)return Aq(u,f);if(u instanceof ArrayBuffer)return Aq(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Pxe(u,a);var u}(e,ib(t));n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function Nxe(n,t,e){const i=Re(n);var r;(r=(0,de.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(v,b){const I=Re(v),N=qi(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,b.id)).then(A=>!!A&&A.createTime.compareTo(N)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(v=c).totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}),Promise.resolve(new Set);l._updateProgress(vq(c));const u=new hxe(c,s.localStore,a.serializer);let f=yield a.Ma();for(;f;){const _=yield u.ea(f);_&&l._updateProgress(_),f=yield a.Ma()}const m=yield u.complete();return yield ql(s,m.ra,void 0),yield function(v,b){const I=Re(v);return I.persistence.runTransaction("Save bundle","readwrite",N=>I.Kr.saveBundleMetadata(N,b))}(s.localStore,c),l._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return Zo("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var v}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield jO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function sDe(n,t){return function Wxe(n,t){return n.asyncQueue.enqueue((0,de.Z)(function*(){return function(i,r){const o=Re(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Dm(n),t)}))}(Ui(n=on(n,ui)),t).then(e=>e?new Yr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Mo(this,e):null)}}class xT extends XO{constructor(t){super(),this.firestore=t}convertBytes(t){return new mb(new Ja(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return $s.forKey(e,this.firestore,null)}}class v7{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xT(t)}get(t){const e=hh(t);return this._delegate.get(e).then(i=>new gb(this._firestore,new Zl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=hh(t);return i?(tP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=hh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=hh(t);return this._delegate.delete(e),this}}class b7{constructor(t){this._delegate=t}set(t,e,i){const r=hh(t);return i?(tP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=hh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=hh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class dh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new pb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _b(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=dh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new dh(t,new xT(t),e),r.set(e,o)),o}}dh.INSTANCES=new WeakMap;class $s{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new $s(e,new bi(e._delegate,i,new ke(t)))}static forKey(t,e,i){return new $s(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new km(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new km(this.firestore,$q(this._delegate,t))}catch(e){throw ko(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,D.m9)(t))instanceof bi&&Wq(this._delegate,t)}set(t,e){e=tP("DocumentReference.set",e);try{return e?c7(this._delegate,t,e):c7(this._delegate,t)}catch(i){throw ko(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?u7(this._delegate,t):u7(this._delegate,t,e,...i)}catch(r){throw ko(r,"updateDoc()","DocumentReference.update()")}}delete(){return function NDe(n){return Rm(on(n.firestore,ui),[new um(n._key,Di.none())])}(this._delegate)}onSnapshot(...t){const e=w7(t),i=E7(t,r=>new gb(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return d7(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function SDe(n){n=on(n,bi);const t=on(n.firestore,ui),e=Ui(t),i=new xu(t);return function jxe(n,t){const e=new mr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(i=(0,de.Z)(function*(o,s,a){try{const l=yield function(u,f){const m=Re(u);return m.persistence.runTransaction("read document","readonly",_=>m.localDocuments.getDocument(_,f))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new _e(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Em(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Zl(t,i,n._key,r,new uh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function ADe(n){n=on(n,bi);const t=on(n.firestore,ui);return Oq(Ui(t),n._key,{source:"server"}).then(e=>JO(t,n,e))}(this._delegate):function DDe(n){n=on(n,bi);const t=on(n.firestore,ui);return Oq(Ui(t),n._key).then(e=>JO(t,n,e))}(this._delegate),e.then(i=>new gb(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new $s(this.firestore,this._delegate.withConverter(t?dh.getInstance(this.firestore,t):null))}}function ko(n,t,e){return n.message=n.message.replace(t,e),n}function w7(n){for(const t of n)if("object"==typeof t&&!nP(t))return t;return{}}function E7(n,t){var e,i;let r;return r=nP(n[0])?n[0]:nP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class gb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new $s(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return l7(this._delegate,t._delegate)}}class _b extends gb{data(t){const e=this._delegate.data(t);return this._delegate._converter||function WCe(n,t){n||$e()}(void 0!==e),e}}class Mo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xT(t)}where(t,e,i){try{return new Mo(this.firestore,Iu(this._delegate,function gDe(n,t,e){const i=t,r=bT("where",n);return fb._create(r,i,e)}(t,e,i)))}catch(r){throw ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Mo(this.firestore,Iu(this._delegate,function _De(n,t="asc"){const e=t,i=bT("orderBy",n);return QO._create(i,e)}(t,e)))}catch(i){throw ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Mo(this.firestore,Iu(this._delegate,function yDe(n){return jq("limit",n),wT._create("limit",n,"F")}(t)))}catch(e){throw ko(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Mo(this.firestore,Iu(this._delegate,function vDe(n){return jq("limitToLast",n),wT._create("limitToLast",n,"L")}(t)))}catch(e){throw ko(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Mo(this.firestore,Iu(this._delegate,function bDe(...n){return ET._create("startAt",n,!0)}(...t)))}catch(e){throw ko(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Mo(this.firestore,Iu(this._delegate,function wDe(...n){return ET._create("startAfter",n,!1)}(...t)))}catch(e){throw ko(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Mo(this.firestore,Iu(this._delegate,function EDe(...n){return CT._create("endBefore",n,!1)}(...t)))}catch(e){throw ko(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Mo(this.firestore,Iu(this._delegate,function CDe(...n){return CT._create("endAt",n,!0)}(...t)))}catch(e){throw ko(e,"endAt()","Query.endAt()")}}isEqual(t){return $O(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function kDe(n){n=on(n,Yr);const t=on(n.firestore,ui),e=Ui(t),i=new xu(t);return function Hxe(n,t){const e=new mr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(i=(0,de.Z)(function*(o,s,a){try{const l=yield iT(o,s,!0),c=new Eq(s,l.ls),u=c.ca(l.documents),f=c.applyChanges(u,!1);a.resolve(f.snapshot)}catch(l){const c=Em(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate):"server"===t?.source?function MDe(n){n=on(n,Yr);const t=on(n.firestore,ui),e=Ui(t),i=new xu(t);return Pq(e,n._query,{source:"server"}).then(r=>new Tu(t,i,n,r))}(this._delegate):function RDe(n){n=on(n,Yr);const t=on(n.firestore,ui),e=Ui(t),i=new xu(t);return n7(n._query),Pq(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate),e.then(i=>new iP(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=w7(t),i=E7(t,r=>new iP(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return d7(this._delegate,e,i)}withConverter(t){return new Mo(this.firestore,this._delegate.withConverter(t?dh.getInstance(this.firestore,t):null))}}class r1e{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new _b(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new _b(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new r1e(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new _b(this._firestore,i))})}isEqual(t){return l7(this._delegate,t._delegate)}}class km extends Mo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new $s(this.firestore,t):null}doc(t){try{return new $s(this.firestore,void 0===t?pT(this._delegate):pT(this._delegate,t))}catch(e){throw ko(e,"doc()","CollectionReference.doc()")}}add(t){return function ODe(n,t){const e=on(n.firestore,ui),i=pT(n),r=IT(n.converter,t);return Rm(e,[_T(lh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Di.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new $s(this.firestore,e))}isEqual(t){return Wq(this._delegate,t._delegate)}withConverter(t){return new km(this.firestore,this._delegate.withConverter(t?dh.getInstance(this.firestore,t):null))}}function hh(n){return on(n,bi)}class rP{constructor(...t){this._delegate=new Kl(...t)}static documentId(){return new rP(yi.keyField().canonicalString())}isEqual(t){return(t=(0,D.m9)(t))instanceof Kl&&this._delegate._internalPath.isEqual(t._internalPath)}}class fh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function KDe(){return new GO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new fh(t)}static delete(){const t=function qDe(){return new cb("deleteField")}();return t._methodName="FieldValue.delete",new fh(t)}static arrayUnion(...t){const e=function ZDe(...n){return new dDe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new fh(e)}static arrayRemove(...t){const e=function YDe(...n){return new hDe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new fh(e)}static increment(t){const e=function QDe(n){return new fDe("increment",n)}(t);return e._methodName="FieldValue.increment",new fh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const o1e={Firestore:y7,GeoPoint:mT,Timestamp:xi,Blob:mb,Transaction:v7,WriteBatch:b7,DocumentReference:$s,DocumentSnapshot:gb,Query:Mo,QueryDocumentSnapshot:_b,QuerySnapshot:iP,CollectionReference:km,FieldPath:rP,FieldValue:fh,setLogLevel:function i1e(n){!function $Ce(n){lu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function C7(n,t){return function l1e(n,t=pd){return new ut(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function oP(n,t){return C7(n,t).pipe(Ie(e=>({payload:e,type:"query"})))}!function a1e(n){(function s1e(n,t){n.INTERNAL.registerComponent(new Pl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},o1e)))})(n,(t,e)=>new y7(t,e,new n1e)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(la.Z);class I7{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=R7(i,e);return new D7(r,o,this.afs)}snapshotChanges(){return function c1e(n,t){return C7(n,t).pipe(Fc(void 0),tM(),Ie(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pr)}valueChanges(t={}){return this.snapshotChanges().pipe(Ie(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return E(this.ref.get(t)).pipe(pr)}}function DT(n,t){return oP(n,t).pipe(Fc(void 0),tM(),Ie(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function T7(n,t,e){return DT(n,e).pipe(ep((i,r)=>function u1e(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function d1e(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return sP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return sP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return sP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),dt(),Ie(i=>i.map(r=>({type:r.type,payload:r}))))}function sP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function x7(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class D7{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=DT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ie(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Fc(void 0),tM(),zn(([i,r])=>r.length>0||!i),Ie(([,i])=>i),pr)}auditTrail(t){return this.stateChanges(t).pipe(ep((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x7(t);return T7(this.query,e,this.afs.schedulers.outsideAngular).pipe(pr)}valueChanges(t={}){return oP(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),pr)}get(t){return E(this.query.get(t)).pipe(pr)}add(t){return this.ref.add(t)}doc(t){return new I7(this.ref.doc(t),this.afs)}}class h1e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?DT(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(e=>e.filter(i=>t.indexOf(i.type)>-1)),zn(e=>e.length>0),pr):DT(this.query,this.afs.schedulers.outsideAngular).pipe(pr)}auditTrail(t){return this.stateChanges(t).pipe(ep((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x7(t);return T7(this.query,e,this.afs.schedulers.outsideAngular).pipe(pr)}valueChanges(t={}){return oP(this.query,this.afs.schedulers.outsideAngular).pipe(Ie(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),pr)}get(t){return E(this.query.get(t)).pipe(pr)}}const S7=new ae("angularfire2.enableFirestorePersistence"),A7=new ae("angularfire2.firestore.persistenceSettings"),f1e=new ae("angularfire2.firestore.settings"),p1e=new ae("angularfire2.firestore.use-emulator");function R7(n,t=(e=>e)){return{query:t(n),ref:n}}let m1e=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,u,f,m,_,v,b,I,N,A){this.schedulers=l;const B=XE(e,a,i),Z=u;f&&gR(B,a,m,v,b,I,_,N),[this.firestore,this.persistenceEnabled$]=lR(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{const ue=a.runOutsideAngular(()=>B.firestore());if(o&&ue.settings(o),Z&&ue.useEmulator(...Z),r&&!zw(s)){const De=()=>{try{return E(ue.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Be){return typeof console<"u"&&console.warn(Be),R(!1)}};return[ue,a.runOutsideAngular(De)]}return[ue,R(!1)]},[o,Z,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=R7(r,i),a=this.schedulers.ngZone.run(()=>o);return new D7(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new h1e(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new I7(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(F(yy),F(vy,8),F(S7,8),F(f1e,8),F(ks),F(He),F(JA),F(A7,8),F(p1e,8),F(by,8),F(uR,8),F(dR,8),F(hR,8),F(fR,8),F(pR,8),F(mR,8),F(XA,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),g1e=(()=>{class n{constructor(){la.Z.registerVersion("angularfire",py.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:S7,useValue:!0},{provide:A7,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=qe({type:n});static \u0275inj=Xe({providers:[m1e]})}return n})();const _1e_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};let N7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({})}return n})(),R1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,kR,N7,Li,N7]})}return n})(),$1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Kk]})}return n})(),J1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({imports:[Li,$1e,Li]})}return n})();function tSe(n,t){if(1&n){const e=bn();M(0,"a",16),xe("click",function(){return st(e),tt(re(2).navDisappear())}),M(1,"span"),ce(2,"Felhaszn\xe1l\xf3k"),O()()}}function nSe(n,t){if(1&n){const e=bn();M(0,"li",13),xe("click",function(){st(e);const r=re(2);return tt(r.isMenuClicked=!r.isMenuClicked)}),M(1,"a",17),ce(2,"Id\u0151j\xe1r\xe1s"),O()()}}function iSe(n,t){if(1&n){const e=bn();M(0,"li",13),xe("click",function(){st(e);const r=re(2);return tt(r.isMenuClicked=!r.isMenuClicked)}),M(1,"a",18),ce(2,"Chat"),O()()}}const rSe=function(){return["recipes"]};function oSe(n,t){if(1&n){const e=bn();M(0,"li",13),xe("click",function(){st(e);const r=re(2);return tt(r.isMenuClicked=!r.isMenuClicked)}),M(1,"a",19),ce(2,"Receptek"),O()()}2&n&&(H(1),W("routerLink",bw(1,rSe)))}function sSe(n,t){if(1&n){const e=bn();M(0,"li",13),xe("click",function(){st(e);const r=re(2);return tt(r.isMenuClicked=!r.isMenuClicked)}),M(1,"a",20),ce(2,"Jegyzetek"),O()()}}function aSe(n,t){if(1&n){const e=bn();M(0,"li",13),xe("click",function(){st(e);const r=re(2);return tt(r.isMenuClicked=!r.isMenuClicked)}),M(1,"a",21),xe("click",function(){return st(e),tt(re(2).signOut())}),ce(2,"Kijelentkez\xe9s "),O()()}}const lSe=function(n){return{"mt-3":n}},$7=function(){return{exact:!0}};function cSe(n,t){if(1&n){const e=bn();Bo(0),M(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),xe("click",function(){st(e);const r=re();return tt(r.isMenuClicked=!r.isMenuClicked)}),M(5,"span"),ce(6,"Menu "),O(),rt(7,"span",4),O()(),M(8,"div",5)(9,"ul",6)(10,"li",7),xe("click",function(){st(e);const r=re();return tt(r.isMenuClicked=!r.isMenuClicked)}),M(11,"a",8),rt(12,"span",9),ce(13," Kezd\u0151lap"),O()(),M(14,"li",10),se(15,tSe,3,0,"a",11),O(),se(16,nSe,3,0,"li",12),se(17,iSe,3,0,"li",12),se(18,oSe,3,2,"li",12),se(19,sSe,3,0,"li",12),M(20,"li",13),xe("click",function(){st(e);const r=re();return tt(r.isMenuClicked=!r.isMenuClicked)}),M(21,"a",14),ce(22," Regisztr\xe1ci\xf3 "),O()(),M(23,"li",13),xe("click",function(){st(e);const r=re();return tt(r.isMenuClicked=!r.isMenuClicked)}),M(24,"a",15),ce(25,"Bejelentkez\xe9s"),O()(),se(26,aSe,3,0,"li",12),O()()()(),Uo()}if(2&n){const e=re();H(8),W("ngbCollapse",!e.isMenuClicked),H(1),W("ngClass",Cl(10,lSe,e.isMenuClicked)),H(2),W("routerLinkActiveOptions",bw(12,$7)),H(4),W("ngIf",e.isSuperAdmin),H(1),W("ngIf",e.isLoggedIn),H(1),W("ngIf",e.isLoggedIn),H(1),W("ngIf",e.isLoggedIn),H(1),W("ngIf",e.isLoggedIn),H(5),W("routerLinkActiveOptions",bw(13,$7)),H(2),W("ngIf",e.isLoggedIn)}}let uSe=(()=>{class n{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:e=>{1==e?.emailVerified||"facebook.com"==e?.providerData[0]?.providerId||"phone"==e?.providerData[0]?.providerId?this.isLoggedIn=e:(e?.sendEmailVerification(),this.isLoggedIn="")},error:e=>console.log(e)}),this.authService.isSuperAdmin.subscribe(e=>{this.isSuperAdmin=e})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(e=>{this.isNavDisappeared=e})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(i){return new(i||n)(T(Gc))};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center",3,"click"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],[1,"nav-item",3,"click"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","chat",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","",1,"nav-link","sign-out",3,"click"]],template:function(i,r){1&i&&se(0,cSe,27,14,"ng-container",0),2&i&&W("ngIf",!r.isNavDisappeared)},dependencies:[Sl,hr,Uc,v3,FA],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return n})(),dSe=(()=>{class n{constructor(){this.title="Project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(i,r){1&i&&(rt(0,"app-nav"),M(1,"div",0),rt(2,"img",1),O(),M(3,"div",2),rt(4,"router-outlet"),O())},dependencies:[gE,uSe],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return n})();function W7(n){return new q(3e3,!1)}function Su(n){switch(n.length){case 0:return new tv;case 1:return n[0];default:return new WW(n)}}function G7(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((m,_)=>{let v=_,b=m;if("offset"!==_)switch(v=n.normalizePropertyName(v,r),b){case"!":b=e.get(_);break;case Vl:b=i.get(_);break;default:b=n.normalizeStyleValue(_,v,b,r)}f.set(v,b)}),u||o.push(f),a=f,s=c}),r.length)throw function OSe(n){return new q(3502,!1)}();return o}function _P(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&yP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&yP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&yP(e,"destroy",n)))}}function yP(n,t,e){const o=vP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function vP(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function _s(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function q7(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const GSe=(()=>typeof document>"u"?null:document.documentElement)();function bP(n){const t=n.parentNode||n.host||null;return t===GSe?null:t}let ph=null,K7=!1;function Z7(n,t){for(;t;){if(t===n)return!0;t=bP(t)}return!1}function Y7(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let Q7=(()=>{class n{validateStyleProperty(e){return function KSe(n){ph||(ph=function ZSe(){return typeof document<"u"?document.body:null}()||{},K7=!!ph.style&&"WebkitAppearance"in ph.style);let t=!0;return ph.style&&!function qSe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ph.style,!t&&K7&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ph.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Z7(e,i)}getParentElement(e){return bP(e)}query(e,i,r){return Y7(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new tv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),wP=(()=>{class n{static#e=this.NOOP=new Q7}return n})();const YSe=1e3,EP="ng-enter",LT="ng-leave",VT="ng-trigger",BT=".ng-trigger",J7="ng-animating",CP=".ng-animating";function Xl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:IP(parseFloat(t[1]),t[2])}function IP(n,t){return"s"===t?n*YSe:n}function UT(n,t,e){return n.hasOwnProperty("duration")?n:function XSe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(W7()),{duration:0,delay:0,easing:""};r=IP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=IP(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function hSe(){return new q(3100,!1)}()),a=!0),o<0&&(t.push(function fSe(){return new q(3101,!1)}()),a=!0),a&&t.splice(l,0,W7())}return{duration:r,delay:o,easing:s}}(n,t,e)}function bb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function eK(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Au(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function el(n,t,e){t.forEach((i,r)=>{const o=xP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function mh(n,t){t.forEach((e,i)=>{const r=xP(i);n.style[r]=""})}function wb(n){return Array.isArray(n)?1==n.length?n[0]:$W(n):n}const TP=new RegExp("{{\\s*(.+?)\\s*}}","g");function nK(n){let t=[];if("string"==typeof n){let e;for(;e=TP.exec(n);)t.push(e[1]);TP.lastIndex=0}return t}function Eb(n,t,e){const i=n.toString(),r=i.replace(TP,(o,s)=>{let a=t[s];return null==a&&(e.push(function mSe(n){return new q(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function jT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tAe=/-+([a-z0-9])/g;function xP(n){return n.replace(tAe,(...t)=>t[1].toUpperCase())}function ys(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function gSe(n){return new q(3004,!1)}()}}function iK(n,t){return window.getComputedStyle(n)[t]}const HT="*";function rAe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function oAe(n,t,e){if(":"==n[0]){const l=function sAe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function RSe(n){return new q(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function ASe(n){return new q(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(rK(r,s));"<"==o[0]&&!(r==HT&&s==HT)&&t.push(rK(s,r))}(i,e,t)):e.push(n),e}const zT=new Set(["true","1"]),$T=new Set(["false","0"]);function rK(n,t){const e=zT.has(n)||$T.has(n),i=zT.has(t)||$T.has(t);return(r,o)=>{let s=n==HT||n==r,a=t==HT||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?zT.has(n):$T.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?zT.has(t):$T.has(t)),s&&a}}const aAe=new RegExp("s*:selfs*,?","g");function DP(n,t,e,i){return new lAe(n).build(t,e,i)}class lAe{constructor(t){this._driver=t}build(t,e,i){const r=new dAe(e);return this._resetContextStyleTimingState(r),ys(this,wb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function ySe(){return new q(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function vSe(){return new q(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{nK(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(jT(o.values()),e.errors.push(function bSe(n,t){return new q(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ys(this,wb(t.animation),e);return{type:1,matchers:rAe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ys(this,i,e)),options:gh(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ys(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:gh(t.options)}}visitAnimate(t,e){const i=function fAe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SP(UT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=SP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=UT(e,t);return SP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Bl({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Bl(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Vl?i.push(a):e.errors.push(new q(3002,!1)):i.push(eK(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function ESe(n,t,e,i,r){return new q(3010,!1)}()),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function eAe(n,t,e){const i=t.params||{},r=nK(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function pSe(n){return new q(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function CSe(){return new q(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(N=>{const A=this._makeStyleAst(N,e);let B=null!=A.offset?A.offset:function hAe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(A.styles),Z=0;return null!=B&&(o++,Z=A.offset=B),l=l||Z<0||Z>1,a=a||Z<c,c=Z,s.push(Z),A});l&&e.errors.push(function ISe(){return new q(3012,!1)}()),a&&e.errors.push(function TSe(){return new q(3200,!1)}());const f=t.steps.length;let m=0;o>0&&o<f?e.errors.push(function xSe(){return new q(3202,!1)}()):0==o&&(m=1/(f-1));const _=f-1,v=e.currentTime,b=e.currentAnimateTimings,I=b.duration;return u.forEach((N,A)=>{const B=m>0?A==_?1:m*A:s[A],Z=B*I;e.currentTime=v+b.delay+Z,b.duration=Z,this._validateStyleAst(N,e),N.offset=B,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:ys(this,wb(t.animation),e),options:gh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gh(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function cAe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(aAe,"")),n=n.replace(/@\*/g,BT).replace(/@\w+/g,e=>BT+"-"+e.slice(1)).replace(/:animating/g,CP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,_s(e.collectedStyles,e.currentQuerySelector,new Map);const a=ys(this,wb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:gh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function DSe(){return new q(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:UT(t.timings,e.errors,!0);return{type:12,animation:ys(this,wb(t.animation),e),timings:i,options:null}}}class dAe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gh(n){return n?(n=bb(n)).params&&(n.params=function uAe(n){return n?bb(n):null}(n.params)):n={},n}function SP(n,t,e){return{duration:n,delay:t,easing:e}}function AP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class WT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gAe=new RegExp(":enter","g"),yAe=new RegExp(":leave","g");function RP(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new vAe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class vAe{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new WT;const f=new kP(t,e,c,r,o,u,[]);f.options=l;const m=l.delay?Xl(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,l),ys(this,i,f);const _=f.timelines.filter(v=>v.containsAnimation());if(_.length&&a.size){let v;for(let b=_.length-1;b>=0;b--){const I=_[b];if(I.element===e){v=I;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[AP(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Xl(Eb(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Xl(i.duration):null,a=null!=i.delay?Xl(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ys(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GT);const s=Xl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ys(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ys(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return UT(e.params?Eb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Xl(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=GT);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),ys(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;ys(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const GT={};class kP{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new qT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Xl(i.duration)),null!=i.delay&&(r.delay=Xl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Eb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new kP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=GT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new bAe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(gAe,"."+this._enterClassName)).replace(yAe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function SSe(n){return new q(3014,!1)}()),a}}class qT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Vl),this._currentKeyframe.set(e,Vl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function wAe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Vl)}else Au(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Eb(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Au(a,new Map,this._backFill);c.forEach((u,f)=>{"!"===u?t.add(f):u===Vl&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?jT(t.values()):[],s=e.size?jT(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return AP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class bAe extends qT{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Au(t[0]);l.set("offset",0),o.push(l);const c=Au(t[0]);c.set("offset",aK(a)),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let m=Au(t[f]);const _=m.get("offset");m.set("offset",aK((e+_*i)/s)),o.push(m)}i=s,e=0,r="",t=o}return AP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function aK(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class MP{}const EAe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class CAe extends MP{normalizePropertyName(t,e){return xP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(EAe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function _Se(n,t){return new q(3005,!1)}())}return s+o}}function lK(n,t,e,i,r,o,s,a,l,c,u,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:m}}const NP={};class cK{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function IAe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const f=[],m=this.ast.options&&this.ast.options.params||NP,v=this.buildStyles(i,a&&a.params||NP,f),b=l&&l.params||NP,I=this.buildStyles(r,b,f),N=new Set,A=new Map,B=new Map,Z="void"===r,ue={params:TAe(b,m),delay:this.ast.options?.delay},De=u?[]:RP(t,e,this.ast.animation,o,s,v,I,ue,c,f);let Be=0;if(De.forEach(mn=>{Be=Math.max(mn.duration+mn.delay,Be)}),f.length)return lK(e,this._triggerName,i,r,Z,v,I,[],[],A,B,Be,f);De.forEach(mn=>{const gn=mn.element,Ki=_s(A,gn,new Set);mn.preStyleProps.forEach(Mi=>Ki.add(Mi));const Qr=_s(B,gn,new Set);mn.postStyleProps.forEach(Mi=>Qr.add(Mi)),gn!==e&&N.add(gn)});const ht=jT(N.values());return lK(e,this._triggerName,i,r,Z,v,I,De,ht,A,B,Be)}}function TAe(n,t){const e=bb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class xAe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=bb(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Eb(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class SAe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new xAe(r.style,r.options&&r.options.params||{},i))}),uK(this.states,"true","1"),uK(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cK(t,r,this.states))}),this.fallbackTransition=function AAe(n,t,e){return new cK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function uK(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const RAe=new WT;class kAe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=DP(this._driver,e,i,[]);if(i.length)throw function PSe(n){return new q(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=G7(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=RP(this._driver,e,o,EP,LT,new Map,new Map,i,RAe,r),s.forEach(u=>{const f=_s(a,u.element,new Map);u.postStyleProps.forEach(m=>f.set(m,null))})):(r.push(function FSe(){return new q(3300,!1)}()),s=[]),r.length)throw function LSe(n){return new q(3504,!1)}();a.forEach((u,f)=>{u.forEach((m,_)=>{u.set(_,this._driver.computeStyle(f,_,Vl))})});const c=Su(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function VSe(n){return new q(3301,!1)}();return e}listen(t,e,i,r){const o=vP(e,"","","");return _P(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const dK="ng-animate-queued",OP="ng-animate-disabled",FAe=[],hK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LAe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ga="__ng_removed";class PP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function jAe(n){return n??null}(i?t.value:t),i){const o=bb(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Cb="void",FP=new PP(Cb);class VAe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ws(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function BSe(n,t){return new q(3302,!1)}();if(null==i||0==i.length)throw function USe(n){return new q(3303,!1)}();if(!function HAe(n){return"start"==n||"done"==n}(i))throw function jSe(n,t){return new q(3400,!1)}();const o=_s(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=_s(this._engine.statesByElement,t,new Map);return a.has(e)||(Ws(t,VT),Ws(t,VT+"-"+e),a.set(e,FP)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function HSe(n){return new q(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new LP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ws(t,VT),Ws(t,VT+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new PP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=FP),c.value!==Cb&&l.value===c.value){if(!function WAe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const b=[],I=o.matchStyles(l.value,l.params,b),N=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{mh(t,I),el(t,N)})}return}const m=_s(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let _=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!_){if(!r)return;_=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(Ws(t,dK),s.onStart(()=>{Pm(t,dK)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const I=this._engine.playersByElement.get(t);if(I){let N=I.indexOf(s);N>=0&&I.splice(N,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,BT,!0);i.forEach(r=>{if(r[ga])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Cb,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Su(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||FP,u=new PP(Cb),f=new LP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ga];(!o||o===hK)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ws(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=vP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,_P(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class BAe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new VAe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(KT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!KT(e))return;const o=e[ga];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ws(t,OP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pm(t,OP))}removeNode(t,e,i){if(KT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[ga]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return KT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,BT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,CP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Su(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ga];if(e&&e.setForRemoval){if(t[ga]=hK,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(OP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ws(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Su(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function zSe(n){return new q(3402,!1)}()}_flushAnimations(t,e){const i=new WT,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ne=>{u.add(Ne);const Ze=this.driver.query(Ne,".ng-animate-queued",!0);for(let ft=0;ft<Ze.length;ft++)u.add(Ze[ft])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),_=mK(m,this.collectedEnterElements),v=new Map;let b=0;_.forEach((Ne,Ze)=>{const ft=EP+b++;v.set(Ze,ft),Ne.forEach(Ht=>Ws(Ht,ft))});const I=[],N=new Set,A=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const Ze=this.collectedLeaveElements[Ne],ft=Ze[ga];ft&&ft.setForRemoval&&(I.push(Ze),N.add(Ze),ft.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(Ht=>N.add(Ht)):A.add(Ze))}const B=new Map,Z=mK(m,Array.from(N));Z.forEach((Ne,Ze)=>{const ft=LT+b++;B.set(Ze,ft),Ne.forEach(Ht=>Ws(Ht,ft))}),t.push(()=>{_.forEach((Ne,Ze)=>{const ft=v.get(Ze);Ne.forEach(Ht=>Pm(Ht,ft))}),Z.forEach((Ne,Ze)=>{const ft=B.get(Ze);Ne.forEach(Ht=>Pm(Ht,ft))}),I.forEach(Ne=>{this.processLeaveNode(Ne)})});const ue=[],De=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(e).forEach(ft=>{const Ht=ft.player,Ni=ft.element;if(ue.push(Ht),this.collectedEnterElements.length){const Zi=Ni[ga];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has(ft.triggerName)){const No=Zi.previousTriggersValues.get(ft.triggerName),uo=this.statesByElement.get(ft.element);if(uo&&uo.has(ft.triggerName)){const Fm=uo.get(ft.triggerName);Fm.value=No,uo.set(ft.triggerName,Fm)}}return void Ht.destroy()}}const Xo=!f||!this.driver.containsElement(f,Ni),_r=B.get(Ni),vs=v.get(Ni),On=this._buildInstruction(ft,i,vs,_r,Xo);if(On.errors&&On.errors.length)return void De.push(On);if(Xo)return Ht.onStart(()=>mh(Ni,On.fromStyles)),Ht.onDestroy(()=>el(Ni,On.toStyles)),void r.push(Ht);if(ft.isFallbackTransition)return Ht.onStart(()=>mh(Ni,On.fromStyles)),Ht.onDestroy(()=>el(Ni,On.toStyles)),void r.push(Ht);const _a=[];On.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||_a.push(Zi)}),On.timelines=_a,i.append(Ni,On.timelines),s.push({instruction:On,player:Ht,element:Ni}),On.queriedElements.forEach(Zi=>_s(a,Zi,[]).push(Ht)),On.preStyleProps.forEach((Zi,No)=>{if(Zi.size){let uo=l.get(No);uo||l.set(No,uo=new Set),Zi.forEach((Fm,yh)=>uo.add(yh))}}),On.postStyleProps.forEach((Zi,No)=>{let uo=c.get(No);uo||c.set(No,uo=new Set),Zi.forEach((Fm,yh)=>uo.add(yh))})});if(De.length){const Ne=[];De.forEach(Ze=>{Ne.push(function $Se(n,t){return new q(3505,!1)}())}),ue.forEach(Ze=>Ze.destroy()),this.reportError(Ne)}const Be=new Map,ht=new Map;s.forEach(Ne=>{const Ze=Ne.element;i.has(Ze)&&(ht.set(Ze,Ze),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,Be))}),r.forEach(Ne=>{const Ze=Ne.element;this._getPreviousPlayers(Ze,!1,Ne.namespaceId,Ne.triggerName,null).forEach(Ht=>{_s(Be,Ze,[]).push(Ht),Ht.destroy()})});const mn=I.filter(Ne=>_K(Ne,l,c)),gn=new Map;pK(gn,this.driver,A,c,Vl).forEach(Ne=>{_K(Ne,l,c)&&mn.push(Ne)});const Qr=new Map;_.forEach((Ne,Ze)=>{pK(Qr,this.driver,new Set(Ne),l,"!")}),mn.forEach(Ne=>{const Ze=gn.get(Ne),ft=Qr.get(Ne);gn.set(Ne,new Map([...Ze?.entries()??[],...ft?.entries()??[]]))});const Mi=[],tl=[],nl={};s.forEach(Ne=>{const{element:Ze,player:ft,instruction:Ht}=Ne;if(i.has(Ze)){if(u.has(Ze))return ft.onDestroy(()=>el(Ze,Ht.toStyles)),ft.disabled=!0,ft.overrideTotalTime(Ht.totalTime),void r.push(ft);let Ni=nl;if(ht.size>1){let _r=Ze;const vs=[];for(;_r=_r.parentNode;){const On=ht.get(_r);if(On){Ni=On;break}vs.push(_r)}vs.forEach(On=>ht.set(On,Ni))}const Xo=this._buildAnimation(ft.namespaceId,Ht,Be,o,Qr,gn);if(ft.setRealPlayer(Xo),Ni===nl)Mi.push(ft);else{const _r=this.playersByElement.get(Ni);_r&&_r.length&&(ft.parentPlayer=Su(_r)),r.push(ft)}}else mh(Ze,Ht.fromStyles),ft.onDestroy(()=>el(Ze,Ht.toStyles)),tl.push(ft),u.has(Ze)&&r.push(ft)}),tl.forEach(Ne=>{const Ze=o.get(Ne.element);if(Ze&&Ze.length){const ft=Su(Ze);Ne.setRealPlayer(ft)}}),r.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<I.length;Ne++){const Ze=I[Ne],ft=Ze[ga];if(Pm(Ze,LT),ft&&ft.hasAnimation)continue;let Ht=[];if(a.size){let Xo=a.get(Ze);Xo&&Xo.length&&Ht.push(...Xo);let _r=this.driver.query(Ze,CP,!0);for(let vs=0;vs<_r.length;vs++){let On=a.get(_r[vs]);On&&On.length&&Ht.push(...On)}}const Ni=Ht.filter(Xo=>!Xo.destroyed);Ni.length?zAe(this,Ze,Ni):this.processLeaveNode(Ze)}return I.length=0,Mi.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const Ze=this.players.indexOf(Ne);this.players.splice(Ze,1)}),Ne.play()}),Mi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Cb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=_s(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(_=>{const v=_.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),_.destroy(),f.push(_)})}mh(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,m=e.timelines.map(v=>{const b=v.element;u.add(b);const I=b[ga];if(I&&I.removedBeforeQueried)return new tv(v.duration,v.delay);const N=b!==l,A=function $Ae(n){const t=[];return gK(n,t),t}((i.get(b)||FAe).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===b),B=o.get(b),Z=s.get(b),ue=G7(this._normalizer,v.keyframes,B,Z),De=this._buildPlayer(v,ue,A);if(v.subTimeline&&r&&f.add(b),N){const Be=new LP(t,a,b);Be.setRealPlayer(De),c.push(Be)}return De});c.forEach(v=>{_s(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function UAe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Ws(v,J7));const _=Su(m);return _.onDestroy(()=>{u.forEach(v=>Pm(v,J7)),el(l,e.toStyles)}),f.forEach(v=>{_s(r,v,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new tv(t.duration,t.delay)}}class LP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new tv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>_P(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_s(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function KT(n){return n&&1===n.nodeType}function fK(n,t){const e=n.style.display;return n.style.display=t??"none",e}function pK(n,t,e,i,r){const o=[];e.forEach(l=>o.push(fK(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(f=>{const m=t.computeStyle(c,f,r);u.set(f,m),(!m||0==m.length)&&(c[ga]=LAe,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>fK(l,o[a++])),s}function mK(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Ws(n,t){n.classList?.add(t)}function Pm(n,t){n.classList?.remove(t)}function zAe(n,t,e){Su(e).onDone(()=>n.processLeaveNode(t))}function gK(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof WW?gK(i.players,t):t.push(i)}}function _K(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class ZT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new BAe(t,e,i),this._timelineEngine=new kAe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=DP(this._driver,o,l,[]);if(l.length)throw function NSe(n,t){return new q(3404,!1)}();a=function DAe(n,t,e){return new SAe(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=q7(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=q7(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let qAe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&el(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(el(this._element,this._initialStyles),this._endStyles&&(el(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(mh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mh(this._element,this._endStyles),this._endStyles=null),el(this._element,this._initialStyles),this._state=3)}}return n})();function VP(n){let t=null;return n.forEach((e,i)=>{(function KAe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class yK{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:iK(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZAe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Z7(t,e)}getParentElement(t){return bP(t)}query(t,e,i){return Y7(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(_=>_ instanceof yK);(function nAe(n,t){return 0===n||0===t})(i,r)&&u.forEach(_=>{_.currentSnapshot.forEach((v,b)=>c.set(b,v))});let f=function JSe(n){return n.length?n[0]instanceof Map?n:n.map(t=>eK(t)):[]}(e).map(_=>Au(_));f=function iAe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,iK(n,a)))}}return t}(t,f,c);const m=function GAe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=VP(t[0]),t.length>1&&(i=VP(t[t.length-1]))):t instanceof Map&&(e=VP(t)),e||i?new qAe(n,e,i):null}(t,f);return new yK(t,f,l,m)}}let YAe=(()=>{class n extends zW{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Oo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?$W(e):e;return vK(this._renderer,null,i,"register",[r]),new QAe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Df),F(wt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class QAe extends Hbe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new XAe(this._id,t,e||{},this._renderer)}}class XAe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vK(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vK(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const bK="@.disabled";let JAe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new wK("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new eRe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(F(Df),F(ZT),F(He))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class wK{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==bK?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class eRe extends wK{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bK?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function tRe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function nRe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let iRe=(()=>{class n extends ZT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(F(wt),F(wP),F(MP),F(ta))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const EK=[{provide:zW,useClass:YAe},{provide:MP,useFactory:function rRe(){return new CAe}},{provide:ZT,useClass:iRe},{provide:Df,useFactory:function oRe(n,t,e){return new JAe(n,t,e)},deps:[mS,ZT,He]}],BP=[{provide:wP,useFactory:()=>new ZAe},{provide:Xs,useValue:"BrowserAnimations"},...EK],CK=[{provide:wP,useClass:Q7},{provide:Xs,useValue:"NoopAnimations"},...EK];let sRe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?CK:BP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n});static#n=this.\u0275inj=Xe({providers:BP,imports:[_j]})}return n})();class aRe{intercept(t,e){const i=t.clone({headers:t.headers.append("Auth","xyz")});return e.handle(i)}}class lRe{intercept(t,e){return console.log("Kimeno keres"),console.log(t.url),console.log(t.headers),e.handle(t).pipe(gi(i=>{i.type===Id.Response&&(console.log("Bejovo valasz"),console.log(i.body))}))}}let cRe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=qe({type:n,bootstrap:[dSe]});static#n=this.\u0275inj=Xe({providers:[{provide:sR,useClass:aRe,multi:!0},{provide:sR,useClass:lRe,multi:!0},YA],imports:[_j,FEe,Efe,use,dse,hpe,Tpe.initializeApp(_1e_firebaseConfig),wbe,Rpe,g1e,sRe,ZC,Qwe,Qme,cge,R1e,k0e,xwe,IEe,J1e,QA]})}return n})();toe().bootstrapModule(cRe).catch(n=>console.error(n))},614:()=>{const Xr=":";const _n=function($,...U){if(_n.translate){const fe=_n.translate($,U);$=fe[0],U=fe[1]}let ee=hi($[0],$.raw[0]);for(let fe=1;fe<$.length;fe++)ee+=U[fe-1]+hi($[fe],$.raw[fe]);return ee},Un=":";function hi($,U){return U.charAt(0)===Un?$.substring(function ne($,U){for(let ee=1,fe=1;ee<$.length;ee++,fe++)if("\\"===U[fe])fe++;else if($[ee]===Xr)return ee;throw new Error(`Unterminated $localize metadata block in "${U}".`)}($,U)+1):$}globalThis.$localize=_n},106:(Xr,wi,at)=>{at.d(wi,{Z:()=>Gn});var S=at(58),ie=at(537),j=at(534),Ye=at(879);class pt{constructor(gt,_t){this._delegate=gt,this.firebase=_t,(0,j._addComponent)(gt,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=gt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this._delegate.automaticDataCollectionEnabled=gt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(gt=>{this._delegate.checkDestroyed(),gt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(gt,_t=j._DEFAULT_ENTRY_NAME){var Ei;this._delegate.checkDestroyed();const qn=this._delegate.container.getProvider(gt);return!qn.isInitialized()&&"EXPLICIT"===(null===(Ei=qn.getComponent())||void 0===Ei?void 0:Ei.instantiationMode)&&qn.initialize(),qn.getImmediate({identifier:_t})}_removeServiceInstance(gt,_t=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(gt).clearInstance(_t)}_addComponent(gt){(0,j._addComponent)(this._delegate,gt)}_addOrOverwriteComponent(gt){(0,j._addOrOverwriteComponent)(this._delegate,gt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const di=new S.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Xt(){const zt=function Dn(zt){const gt={},_t={__esModule:!0,initializeApp:function Rt(xt,ve={}){const Gt=j.initializeApp(xt,ve);if((0,S.r3)(gt,Gt.name))return gt[Gt.name];const Sn=new zt(Gt,_t);return gt[Gt.name]=Sn,Sn},app:qn,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function yr(xt){const ve=xt.name,Gt=ve.replace("-compat","");if(j._registerComponent(xt)&&"PUBLIC"===xt.type){const Sn=(ei=qn())=>{if("function"!=typeof ei[Gt])throw di.create("invalid-app-argument",{appName:ve});return ei[Gt]()};void 0!==xt.serviceProps&&(0,S.ZB)(Sn,xt.serviceProps),_t[Gt]=Sn,zt.prototype[Gt]=function(...ei){return this._getService.bind(this,ve).apply(this,xt.multipleInstances?ei:[])}}return"PUBLIC"===xt.type?_t[Gt]:null},removeApp:function Ei(xt){delete gt[xt]},useAsService:function Ci(xt,ve){return"serverAuth"===ve?null:ve},modularAPIs:j}};function qn(xt){if(!(0,S.r3)(gt,xt=xt||j._DEFAULT_ENTRY_NAME))throw di.create("no-app",{appName:xt});return gt[xt]}return _t.default=_t,Object.defineProperty(_t,"apps",{get:function $t(){return Object.keys(gt).map(xt=>gt[xt])}}),qn.App=zt,_t}(pt);return zt.INTERNAL=Object.assign(Object.assign({},zt.INTERNAL),{createFirebaseNamespace:Xt,extendNamespace:function gt(_t){(0,S.ZB)(zt,_t)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),zt}(),Ee=new Ye.Yd("@firebase/app-compat");if((0,S.jU)()&&void 0!==self.firebase){Ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const zt=self.firebase.SDK_VERSION;zt&&zt.indexOf("LITE")>=0&&Ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gn=he;!function rn(zt){(0,j.registerVersion)("@firebase/app-compat","0.2.23",zt)}()},534:(Xr,wi,at)=>{at.r(wi),at.d(wi,{FirebaseError:()=>Ye.ZR,SDK_VERSION:()=>Jo,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Yi,_addOrOverwriteComponent:()=>nr,_apps:()=>ti,_clearComponents:()=>yn,_components:()=>ji,_getProvider:()=>Kt,_registerComponent:()=>In,_removeServiceInstance:()=>cn,deleteApp:()=>Oi,getApp:()=>es,getApps:()=>Hi,initializeApp:()=>mo,onLog:()=>Jl,registerVersion:()=>go,setLogLevel:()=>ya});var S=at(861),ie=at(537),j=at(879),Ye=at(58);const pt=(G,V)=>V.some(we=>G instanceof we);let Wn,di;const he=new WeakMap,Ee=new WeakMap,We=new WeakMap,Ct=new WeakMap,rn=new WeakMap;let gt={get(G,V,we){if(G instanceof IDBTransaction){if("done"===V)return Ee.get(G);if("objectStoreNames"===V)return G.objectStoreNames||We.get(G);if("store"===V)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return Rt(G[V])},set:(G,V,we)=>(G[V]=we,!0),has:(G,V)=>G instanceof IDBTransaction&&("done"===V||"store"===V)||V in G};function qn(G){return"function"==typeof G?function Ei(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xt(){return di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...V){return G.apply($t(this),V),Rt(he.get(this))}:function(...V){return Rt(G.apply($t(this),V))}:function(V,...we){const Qe=G.call($t(this),V,...we);return We.set(Qe,V.sort?V.sort():[V]),Rt(Qe)}}(G):(G instanceof IDBTransaction&&function zt(G){if(Ee.has(G))return;const V=new Promise((we,Qe)=>{const Ot=()=>{G.removeEventListener("complete",Ut),G.removeEventListener("error",q),G.removeEventListener("abort",q)},Ut=()=>{we(),Ot()},q=()=>{Qe(G.error||new DOMException("AbortError","AbortError")),Ot()};G.addEventListener("complete",Ut),G.addEventListener("error",q),G.addEventListener("abort",q)});Ee.set(G,V)}(G),pt(G,function Dn(){return Wn||(Wn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,gt):G)}function Rt(G){if(G instanceof IDBRequest)return function Gn(G){const V=new Promise((we,Qe)=>{const Ot=()=>{G.removeEventListener("success",Ut),G.removeEventListener("error",q)},Ut=()=>{we(Rt(G.result)),Ot()},q=()=>{Qe(G.error),Ot()};G.addEventListener("success",Ut),G.addEventListener("error",q)});return V.then(we=>{we instanceof IDBCursor&&he.set(we,G)}).catch(()=>{}),rn.set(V,G),V}(G);if(Ct.has(G))return Ct.get(G);const V=qn(G);return V!==G&&(Ct.set(G,V),rn.set(V,G)),V}const $t=G=>rn.get(G),xt=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Gt=new Map;function Sn(G,V){if(!(G instanceof IDBDatabase)||V in G||"string"!=typeof V)return;if(Gt.get(V))return Gt.get(V);const we=V.replace(/FromIndex$/,""),Qe=V!==we,Ot=ve.includes(we);if(!(we in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ot&&!xt.includes(we))return;const Ut=function(){var q=(0,S.Z)(function*(Si,...Ge){const Wt=this.transaction(Si,Ot?"readwrite":"readonly");let Ru=Wt.store;return Qe&&(Ru=Ru.index(Ge.shift())),(yield Promise.all([Ru[we](...Ge),Ot&&Wt.done]))[0]});return function(Ge){return q.apply(this,arguments)}}();return Gt.set(V,Ut),Ut}!function _t(G){gt=G(gt)}(G=>({...G,get:(V,we,Qe)=>Sn(V,we)||G.get(V,we,Qe),has:(V,we)=>!!Sn(V,we)||G.has(V,we)}));class ei{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function Kn(G){const V=G.getComponent();return"VERSION"===V?.type}(we)){const Qe=we.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(we=>we).join(" ")}}const ho="@firebase/app",ut=new j.Yd("@firebase/app"),Bt="[DEFAULT]",Rn={[ho]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,ji=new Map;function Yi(G,V){try{G.container.addComponent(V)}catch(we){ut.debug(`Component ${V.name} failed to register with FirebaseApp ${G.name}`,we)}}function nr(G,V){G.container.addOrOverwriteComponent(V)}function In(G){const V=G.name;if(ji.has(V))return ut.debug(`There were multiple attempts to register component ${V}.`),!1;ji.set(V,G);for(const we of ti.values())Yi(we,G);return!0}function Kt(G,V){const we=G.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),G.container.getProvider(V)}function cn(G,V,we=Bt){Kt(G,V).clearInstance(we)}function yn(){ji.clear()}const jn=new Ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zn{constructor(V,we,Qe){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Jo="10.6.0";function mo(G,V={}){let we=G;"object"!=typeof V&&(V={name:V});const Qe=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},V),Ot=Qe.name;if("string"!=typeof Ot||!Ot)throw jn.create("bad-app-name",{appName:String(Ot)});if(we||(we=(0,Ye.aH)()),!we)throw jn.create("no-options");const Ut=ti.get(Ot);if(Ut){if((0,Ye.vZ)(we,Ut.options)&&(0,Ye.vZ)(Qe,Ut.config))return Ut;throw jn.create("duplicate-app",{appName:Ot})}const q=new ie.H0(Ot);for(const Ge of ji.values())q.addComponent(Ge);const Si=new Zn(we,Qe,q);return ti.set(Ot,Si),Si}function es(G=Bt){const V=ti.get(G);if(!V&&G===Bt&&(0,Ye.aH)())return mo();if(!V)throw jn.create("no-app",{appName:G});return V}function Hi(){return Array.from(ti.values())}function Oi(G){return br.apply(this,arguments)}function br(){return(br=(0,S.Z)(function*(G){const V=G.name;ti.has(V)&&(ti.delete(V),yield Promise.all(G.container.getProviders().map(we=>we.delete())),G.isDeleted=!0)})).apply(this,arguments)}function go(G,V,we){var Qe;let Ot=null!==(Qe=Rn[G])&&void 0!==Qe?Qe:G;we&&(Ot+=`-${we}`);const Ut=Ot.match(/\s|\//),q=V.match(/\s|\//);if(Ut||q){const Si=[`Unable to register library "${Ot}" with version "${V}":`];return Ut&&Si.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Ut&&q&&Si.push("and"),q&&Si.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void ut.warn(Si.join(" "))}In(new ie.wA(`${Ot}-version`,()=>({library:Ot,version:V}),"VERSION"))}function Jl(G,V){if(null!==G&&"function"!=typeof G)throw jn.create("invalid-log-argument");(0,j.Am)(G,V)}function ya(G){(0,j.Ub)(G)}const rl="firebase-heartbeat-database",bs=1,P="firebase-heartbeat-store";let k=null;function E(){return k||(k=function yr(G,V,{blocked:we,upgrade:Qe,blocking:Ot,terminated:Ut}={}){const q=indexedDB.open(G,V),Si=Rt(q);return Qe&&q.addEventListener("upgradeneeded",Ge=>{Qe(Rt(q.result),Ge.oldVersion,Ge.newVersion,Rt(q.transaction),Ge)}),we&&q.addEventListener("blocked",Ge=>we(Ge.oldVersion,Ge.newVersion,Ge)),Si.then(Ge=>{Ut&&Ge.addEventListener("close",()=>Ut()),Ot&&Ge.addEventListener("versionchange",Wt=>Ot(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Si}(rl,bs,{upgrade:(G,V)=>{0===V&&G.createObjectStore(P)}}).catch(G=>{throw jn.create("idb-open",{originalErrorMessage:G.message})})),k}function w(){return(w=(0,S.Z)(function*(G){try{return yield(yield E()).transaction(P).objectStore(P).get(ze(G))}catch(V){if(V instanceof Ye.ZR)ut.warn(V.message);else{const we=jn.create("idb-get",{originalErrorMessage:V?.message});ut.warn(we.message)}}})).apply(this,arguments)}function R(G,V){return oe.apply(this,arguments)}function oe(){return(oe=(0,S.Z)(function*(G,V){try{const Qe=(yield E()).transaction(P,"readwrite");yield Qe.objectStore(P).put(V,ze(G)),yield Qe.done}catch(we){if(we instanceof Ye.ZR)ut.warn(we.message);else{const Qe=jn.create("idb-set",{originalErrorMessage:we?.message});ut.warn(Qe.message)}}})).apply(this,arguments)}function ze(G){return`${G.name}!${G.options.appId}`}class sn{constructor(V){this.container=V,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Je(we),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var V=this;return(0,S.Z)(function*(){var we;const Ot=V.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Me();if(null==(null===(we=V._heartbeatsCache)||void 0===we?void 0:we.heartbeats)&&(V._heartbeatsCache=yield V._heartbeatsCachePromise),V._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!V._heartbeatsCache.heartbeats.some(q=>q.date===Ut))return V._heartbeatsCache.heartbeats.push({date:Ut,agent:Ot}),V._heartbeatsCache.heartbeats=V._heartbeatsCache.heartbeats.filter(q=>{const Si=new Date(q.date).valueOf();return Date.now()-Si<=2592e6}),V._storage.overwrite(V._heartbeatsCache)})()}getHeartbeatsHeader(){var V=this;return(0,S.Z)(function*(){var we;if(null===V._heartbeatsCache&&(yield V._heartbeatsCachePromise),null==(null===(we=V._heartbeatsCache)||void 0===we?void 0:we.heartbeats)||0===V._heartbeatsCache.heartbeats.length)return"";const Qe=Me(),{heartbeatsToSend:Ot,unsentEntries:Ut}=function kn(G,V=1024){const we=[];let Qe=G.slice();for(const Ot of G){const Ut=we.find(q=>q.agent===Ot.agent);if(Ut){if(Ut.dates.push(Ot.date),Qi(we)>V){Ut.dates.pop();break}}else if(we.push({agent:Ot.agent,dates:[Ot.date]}),Qi(we)>V){we.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:we,unsentEntries:Qe}}(V._heartbeatsCache.heartbeats),q=(0,Ye.L)(JSON.stringify({version:2,heartbeats:Ot}));return V._heartbeatsCache.lastSentHeartbeatDate=Qe,Ut.length>0?(V._heartbeatsCache.heartbeats=Ut,yield V._storage.overwrite(V._heartbeatsCache)):(V._heartbeatsCache.heartbeats=[],V._storage.overwrite(V._heartbeatsCache)),q})()}}function Me(){return(new Date).toISOString().substring(0,10)}class Je{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Ye.hl)()&&(0,Ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var V=this;return(0,S.Z)(function*(){return(yield V._canUseIndexedDBPromise)&&(yield function x(G){return w.apply(this,arguments)}(V.app))||{heartbeats:[]}})()}overwrite(V){var we=this;return(0,S.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const Ut=yield we.read();return R(we.app,{lastSentHeartbeatDate:null!==(Qe=V.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ut.lastSentHeartbeatDate,heartbeats:V.heartbeats})}})()}add(V){var we=this;return(0,S.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const Ut=yield we.read();return R(we.app,{lastSentHeartbeatDate:null!==(Qe=V.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...V.heartbeats]})}})()}}function Qi(G){return(0,Ye.L)(JSON.stringify({version:2,heartbeats:G})).length}!function ol(G){In(new ie.wA("platform-logger",V=>new ei(V),"PRIVATE")),In(new ie.wA("heartbeat",V=>new sn(V),"PRIVATE")),go(ho,"0.9.23",G),go(ho,"0.9.23","esm2017"),go("fire-js","")}("")},537:(Xr,wi,at)=>{at.d(wi,{H0:()=>Dn,wA:()=>j,zt:()=>pt});var S=at(861),ie=at(58);class j{constructor(he,Ee,We){this.name=he,this.instanceFactory=Ee,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ye="[DEFAULT]";class pt{constructor(he,Ee){this.name=he,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const Ee=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(Ee)){const We=new ie.BH;if(this.instancesDeferred.set(Ee,We),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:Ee});Ct&&We.resolve(Ct)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(he){var Ee;const We=this.normalizeInstanceIdentifier(he?.identifier),Ct=null!==(Ee=he?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(rn){if(Ct)return null;throw rn}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function di(Xt){return"EAGER"===Xt.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch{}for(const[Ee,We]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(Ee);try{const rn=this.getOrInitializeService({instanceIdentifier:Ct});We.resolve(rn)}catch{}}}}clearInstance(he=Ye){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,S.Z)(function*(){const Ee=Array.from(he.instances.values());yield Promise.all([...Ee.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...Ee.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ye){return this.instances.has(he)}getOptions(he=Ye){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:Ee={}}=he,We=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:We,options:Ee});for(const[rn,Gn]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(rn)&&Gn.resolve(Ct);return Ct}onInit(he,Ee){var We;const Ct=this.normalizeInstanceIdentifier(Ee),rn=null!==(We=this.onInitCallbacks.get(Ct))&&void 0!==We?We:new Set;rn.add(he),this.onInitCallbacks.set(Ct,rn);const Gn=this.instances.get(Ct);return Gn&&he(Gn,Ct),()=>{rn.delete(he)}}invokeOnInitCallbacks(he,Ee){const We=this.onInitCallbacks.get(Ee);if(We)for(const Ct of We)try{Ct(he,Ee)}catch{}}getOrInitializeService({instanceIdentifier:he,options:Ee={}}){let We=this.instances.get(he);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(Xt=he,Xt===Ye?void 0:Xt),options:Ee}),this.instances.set(he,We),this.instancesOptions.set(he,Ee),this.invokeOnInitCallbacks(We,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,We)}catch{}var Xt;return We||null}normalizeInstanceIdentifier(he=Ye){return this.component?this.component.multipleInstances?he:Ye:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dn{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const Ee=this.getProvider(he.name);if(Ee.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);Ee.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const Ee=new pt(he,this);return this.providers.set(he,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},879:(Xr,wi,at)=>{at.d(wi,{Am:()=>Xt,Ub:()=>Dn,Yd:()=>di,in:()=>ie});const S=[];var ie=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(ie||{});const j={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ye=ie.INFO,pt={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Wn=(he,Ee,...We)=>{if(Ee<he.logLevel)return;const Ct=(new Date).toISOString(),rn=pt[Ee];if(!rn)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[rn](`[${Ct}]  ${he.name}:`,...We)};class di{constructor(Ee){this.name=Ee,this._logLevel=Ye,this._logHandler=Wn,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in ie))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?j[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...Ee),this._logHandler(this,ie.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...Ee),this._logHandler(this,ie.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...Ee),this._logHandler(this,ie.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...Ee),this._logHandler(this,ie.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...Ee),this._logHandler(this,ie.ERROR,...Ee)}}function Dn(he){S.forEach(Ee=>{Ee.setLogLevel(he)})}function Xt(he,Ee){for(const We of S){let Ct=null;Ee&&Ee.level&&(Ct=j[Ee.level]),We.userLogHandler=null===he?null:(rn,Gn,...zt)=>{const gt=zt.map(_t=>{if(null==_t)return null;if("string"==typeof _t)return _t;if("number"==typeof _t||"boolean"==typeof _t)return _t.toString();if(_t instanceof Error)return _t.message;try{return JSON.stringify(_t)}catch{return null}}).filter(_t=>_t).join(" ");Gn>=(Ct??rn.logLevel)&&he({level:ie[Gn].toLowerCase(),message:gt,args:zt,type:rn.name})}}}},365:(Xr,wi,at)=>{at.r(wi);var S=at(861),ie=at(106),j=at(562),Ye=at(58),di=(at(534),at(879),at(537));function Dn(){return window}function Ee(){return Ee=(0,S.Z)(function*(E,x,w){var R;const{BuildInfo:oe}=Dn();(0,j.au)(x.sessionId,"AuthEvent did not contain a session ID");const ze=yield function _t(E){return Ei.apply(this,arguments)}(x.sessionId),Ue={};return(0,j.av)()?Ue.ibi=oe.packageName:(0,j.aw)()?Ue.apn=oe.packageName:(0,j.ax)(E,"operation-not-supported-in-this-environment"),oe.displayName&&(Ue.appDisplayName=oe.displayName),Ue.sessionId=ze,(0,j.ay)(E,w,x.type,void 0,null!==(R=x.eventId)&&void 0!==R?R:void 0,Ue)}),Ee.apply(this,arguments)}function Ct(){return(Ct=(0,S.Z)(function*(E){const{BuildInfo:x}=Dn(),w={};(0,j.av)()?w.iosBundleId=x.packageName:(0,j.aw)()?w.androidPackageName=x.packageName:(0,j.ax)(E,"operation-not-supported-in-this-environment"),yield(0,j.az)(E,w)})).apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(E,x,w){const{cordova:R}=Dn();let oe=()=>{};try{yield new Promise((ze,Ue)=>{let dt=null;function sn(){var Je;ze();const Qi=null===(Je=R.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Qi&&Qi(),"function"==typeof w?.close&&w.close()}function Me(){dt||(dt=window.setTimeout(()=>{Ue((0,j.aB)(E,"redirect-cancelled-by-user"))},2e3))}function kn(){"visible"===document?.visibilityState&&Me()}x.addPassiveListener(sn),document.addEventListener("resume",Me,!1),(0,j.aw)()&&document.addEventListener("visibilitychange",kn,!1),oe=()=>{x.removePassiveListener(sn),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",kn,!1),dt&&window.clearTimeout(dt)}})}finally{oe()}})).apply(this,arguments)}function Ei(){return(Ei=(0,S.Z)(function*(E){const x=function qn(E){if((0,j.au)(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const x=new ArrayBuffer(E.length),w=new Uint8Array(x);for(let R=0;R<E.length;R++)w[R]=E.charCodeAt(R);return w}(E),w=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(w)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $t extends j.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(x)),super.onEvent(x)}initialized(){var x=this;return(0,S.Z)(function*(){yield x.initPromise})()}}function xt(E){return ve.apply(this,arguments)}function ve(){return(ve=(0,S.Z)(function*(E){const x=yield ei()._get(Kn(E));return x&&(yield ei()._remove(Kn(E))),x})).apply(this,arguments)}function Sn(){const E=[];for(let w=0;w<20;w++){const R=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return E.join("")}function ei(){return(0,j.aE)(j.b)}function Kn(E){return(0,j.aF)("authEvent",E.config.apiKey,E.name)}function ut(E){if(!E?.includes("?"))return{};const[x,...w]=E.split("?");return(0,Ye.zd)(w.join("?"))}const Q=class po{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){const R=x._key();let oe=w.eventManagers.get(R);return oe||(oe=new $t(x),w.eventManagers.set(R,oe),w.attachCallbackListeners(x,oe)),oe})()}_openPopup(x){(0,j.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,w,R,oe){var ze=this;return(0,S.Z)(function*(){!function gt(E){var x,w,R,oe,ze,Ue,dt,sn,Me,kn;const Je=Dn();(0,j.aC)("function"==typeof(null===(x=Je?.universalLinks)||void 0===x?void 0:x.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aC)(typeof(null===(w=Je?.BuildInfo)||void 0===w?void 0:w.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aC)("function"==typeof(null===(ze=null===(oe=null===(R=Je?.cordova)||void 0===R?void 0:R.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===ze?void 0:ze.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(sn=null===(dt=null===(Ue=Je?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===sn?void 0:sn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(kn=null===(Me=Je?.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===kn?void 0:kn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Ue=yield ze._initialize(x);yield Ue.initialized(),Ue.resetRedirect(),(0,j.aI)(),yield ze._originValidation(x);const dt=function yr(E,x,w=null){return{type:x,eventId:w,urlResponse:null,sessionId:Sn(),postBody:null,tenantId:E.tenantId,error:(0,j.aB)(E,"no-auth-event")}}(x,R,oe);yield function Ci(E,x){return ei()._set(Kn(E),x)}(x,dt);const sn=yield function he(E,x,w){return Ee.apply(this,arguments)}(x,dt,w),Me=yield function rn(E){const{cordova:x}=Dn();return new Promise(w=>{x.plugins.browsertab.isAvailable(R=>{let oe=null;R?x.plugins.browsertab.openUrl(E):oe=x.InAppBrowser.open(E,(0,j.aA)()?"_blank":"_system","location=yes"),w(oe)})})}(sn);return function Gn(E,x,w){return zt.apply(this,arguments)}(x,Ue,Me)})()}_isIframeWebStorageSupported(x,w){throw new Error("Method not implemented.")}_originValidation(x){const w=x._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function We(E){return Ct.apply(this,arguments)}(x)),this.originValidationPromises[w]}attachCallbackListeners(x,w){const{universalLinks:R,handleOpenURL:oe,BuildInfo:ze}=Dn(),Ue=setTimeout((0,S.Z)(function*(){yield xt(x),w.onEvent(ne())}),500),dt=function(){var kn=(0,S.Z)(function*(Je){clearTimeout(Ue);const Qi=yield xt(x);let ol=null;Qi&&Je?.url&&(ol=function Gt(E,x){var w,R;const oe=function fo(E){const x=ut(E),w=x.link?decodeURIComponent(x.link):void 0,R=ut(w).link,oe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return ut(oe).link||oe||R||w||E}(x);if(oe.includes("/__/auth/callback")){const ze=ut(oe),Ue=ze.firebaseError?function ho(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(ze.firebaseError)):null,dt=null===(R=null===(w=Ue?.code)||void 0===w?void 0:w.split("auth/"))||void 0===R?void 0:R[1],sn=dt?(0,j.aB)(dt):null;return sn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:oe,postBody:null}}return null}(Qi,Je.url)),w.onEvent(ol||ne())});return function(Qi){return kn.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,dt);const sn=oe,Me=`${ze.packageName.toLowerCase()}://`;Dn().handleOpenURL=function(){var kn=(0,S.Z)(function*(Je){if(Je.toLowerCase().startsWith(Me)&&dt({url:Je}),"function"==typeof sn)try{sn(Je)}catch(Qi){console.error(Qi)}});return function(Je){return kn.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aB)("no-auth-event")}}function Se(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Ie(E=(0,Ye.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const E=self.localStorage,x=j.aN();if(E)return E.setItem(x,"1"),E.removeItem(x),!function _n(E=(0,Ye.z$)()){return function Jt(){return(0,Ye.w1)()&&11===document?.documentMode}()||function Bn(E=(0,Ye.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,Ye.hl)()}catch{return hi()&&(0,Ye.hl)()}return!1}function hi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $(){return(function kt(){return"http:"===Se()||"https:"===Se()}()||(0,Ye.ru)()||Ie())&&!function et(){return(0,Ye.b$)()||(0,Ye.UG)()}()&&Un()&&!hi()}function U(){return Ie()&&typeof document<"u"}function fe(){return(fe=(0,S.Z)(function*(){return!!U()&&new Promise(E=>{const x=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),E(!0)})})})).apply(this,arguments)}const be={LOCAL:"local",NONE:"none",SESSION:"session"},An=j.aC,qt="persistence";function Rn(E){return ti.apply(this,arguments)}function ti(){return(ti=(0,S.Z)(function*(E){yield E._initializationPromise;const x=Yi(),w=j.aF(qt,E.config.apiKey,E.name);x&&x.setItem(w,E._getPersistence())})).apply(this,arguments)}function Yi(){var E;try{return(null===(E=function Ae(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const nr=j.aC;class In{constructor(){this.browserResolver=j.aE(j.k),this.cordovaResolver=j.aE(Q),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(x){var w=this;return(0,S.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,w,R,oe){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(x,w,R,oe)})()}_openRedirect(x,w,R,oe){var ze=this;return(0,S.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(x,w,R,oe)})()}_isIframeWebStorageSupported(x,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,w)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return U()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,S.Z)(function*(){if(x.underlyingResolver)return;const w=yield function ee(){return fe.apply(this,arguments)}();x.underlyingResolver=w?x.cordovaResolver:x.browserResolver})()}}function Kt(E){return E.unwrap()}function yn(E){return jn(E)}function jn(E){const{_tokenResponse:x}=E instanceof Ye.ZR?E.customData:E;if(!x)return null;if(!(E instanceof Ye.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return j.P.credentialFromResult(E);const w=x.providerId;if(!w||w===j.p.PASSWORD)return null;let R;switch(w){case j.p.GOOGLE:R=j.X;break;case j.p.FACEBOOK:R=j.W;break;case j.p.GITHUB:R=j.Y;break;case j.p.TWITTER:R=j.$;break;default:const{oauthIdToken:oe,oauthAccessToken:ze,oauthTokenSecret:Ue,pendingToken:dt,nonce:sn}=x;return ze||Ue||oe||dt?dt?w.startsWith("saml.")?j.aQ._create(w,dt):j.N._fromParams({providerId:w,signInMethod:w,pendingToken:dt,idToken:oe,accessToken:ze}):new j.Z(w).credential({idToken:oe,accessToken:ze,rawNonce:sn}):null}return E instanceof Ye.ZR?R.credentialFromError(E):R.credentialFromResult(E)}function Zn(E,x){return x.catch(w=>{throw w instanceof Ye.ZR&&function il(E,x){var w;const R=null===(w=x.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new es(E,j.as(E,x));else if(R){const oe=jn(x),ze=x;oe&&(ze.credential=oe,ze.tenantId=R.tenantId||void 0,ze.email=R.email||void 0,ze.phoneNumber=R.phoneNumber||void 0)}}(E,w),w}).then(w=>{const oe=w.user;return{operationType:w.operationType,credential:yn(w),additionalUserInfo:j.aq(w),user:Hi.getOrCreate(oe)}})}function Jo(E,x){return mo.apply(this,arguments)}function mo(){return(mo=(0,S.Z)(function*(E,x){const w=yield x;return{verificationId:w.verificationId,confirm:R=>Zn(E,w.confirm(R))}})).apply(this,arguments)}class es{constructor(x,w){this.resolver=w,this.auth=function cn(E){return E.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Zn(Kt(this.auth),this.resolver.resolveSignIn(x))}}class Hi{constructor(x){this._delegate=x,this.multiFactor=j.at(x)}static getOrCreate(x){return Hi.USER_MAP.has(x)||Hi.USER_MAP.set(x,new Hi(x)),Hi.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,j.a2(w._delegate,x))})()}linkWithPhoneNumber(x,w){var R=this;return(0,S.Z)(function*(){return Jo(R.auth,j.l(R._delegate,x,w))})()}linkWithPopup(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,j.d(w._delegate,x,In))})()}linkWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield Rn(j.aJ(w.auth)),j.g(w._delegate,x,In)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var w=this;return(0,S.Z)(function*(){return Zn(w.auth,j.a3(w._delegate,x))})()}reauthenticateWithPhoneNumber(x,w){return Jo(this.auth,j.r(this._delegate,x,w))}reauthenticateWithPopup(x){return Zn(this.auth,j.e(this._delegate,x,In))}reauthenticateWithRedirect(x){var w=this;return(0,S.Z)(function*(){return yield Rn(j.aJ(w.auth)),j.h(w._delegate,x,In)})()}sendEmailVerification(x){return j.ag(this._delegate,x)}unlink(x){var w=this;return(0,S.Z)(function*(){return yield j.ap(w._delegate,x),w})()}updateEmail(x){return j.al(this._delegate,x)}updatePassword(x){return j.am(this._delegate,x)}updatePhoneNumber(x){return j.u(this._delegate,x)}updateProfile(x){return j.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,w){return j.ah(this._delegate,x,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hi.USER_MAP=new WeakMap;const Oi=j.aC;let br=(()=>{class E{constructor(w,R){if(this.app=w,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=w.options;Oi(oe,"invalid-api-key",{appName:w.name}),Oi(oe,"invalid-api-key",{appName:w.name});const ze=typeof window<"u"?In:void 0;this._delegate=R.initialize({options:{persistence:Jl(oe,w.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(j.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,R){j.K(this._delegate,w,R)}applyActionCode(w){return j.a7(this._delegate,w)}checkActionCode(w){return j.a8(this._delegate,w)}confirmPasswordReset(w,R){return j.a6(this._delegate,w,R)}createUserWithEmailAndPassword(w,R){var oe=this;return(0,S.Z)(function*(){return Zn(oe._delegate,j.aa(oe._delegate,w,R))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return j.af(this._delegate,w)}isSignInWithEmailLink(w){return j.ad(this._delegate,w)}getRedirectResult(){var w=this;return(0,S.Z)(function*(){Oi($(),w._delegate,"operation-not-supported-in-this-environment");const R=yield j.j(w._delegate,In);return R?Zn(w._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function z(E,x){(0,j.aJ)(E)._logFramework(x)}(this._delegate,w)}onAuthStateChanged(w,R,oe){const{next:ze,error:Ue,complete:dt}=go(w,R,oe);return this._delegate.onAuthStateChanged(ze,Ue,dt)}onIdTokenChanged(w,R,oe){const{next:ze,error:Ue,complete:dt}=go(w,R,oe);return this._delegate.onIdTokenChanged(ze,Ue,dt)}sendSignInLinkToEmail(w,R){return j.ac(this._delegate,w,R)}sendPasswordResetEmail(w,R){return j.a5(this._delegate,w,R||void 0)}setPersistence(w){var R=this;return(0,S.Z)(function*(){let oe;switch(function Bt(E,x){An(Object.values(be).includes(x),E,"invalid-persistence-type"),(0,Ye.b$)()?An(x!==be.SESSION,E,"unsupported-persistence-type"):(0,Ye.UG)()?An(x===be.NONE,E,"unsupported-persistence-type"):hi()?An(x===be.NONE||x===be.LOCAL&&(0,Ye.hl)(),E,"unsupported-persistence-type"):An(x===be.NONE||Un(),E,"unsupported-persistence-type")}(R._delegate,w),w){case be.SESSION:oe=j.a;break;case be.LOCAL:oe=(yield j.aE(j.i)._isAvailable())?j.i:j.b;break;case be.NONE:oe=j.U;break;default:return j.ax("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Zn(this._delegate,j.a0(this._delegate))}signInWithCredential(w){return Zn(this._delegate,j.a1(this._delegate,w))}signInWithCustomToken(w){return Zn(this._delegate,j.a4(this._delegate,w))}signInWithEmailAndPassword(w,R){return Zn(this._delegate,j.ab(this._delegate,w,R))}signInWithEmailLink(w,R){return Zn(this._delegate,j.ae(this._delegate,w,R))}signInWithPhoneNumber(w,R){return Jo(this._delegate,j.s(this._delegate,w,R))}signInWithPopup(w){var R=this;return(0,S.Z)(function*(){return Oi($(),R._delegate,"operation-not-supported-in-this-environment"),Zn(R._delegate,j.c(R._delegate,w,In))})()}signInWithRedirect(w){var R=this;return(0,S.Z)(function*(){return Oi($(),R._delegate,"operation-not-supported-in-this-environment"),yield Rn(R._delegate),j.f(R._delegate,w,In)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return j.a9(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=be,E})();function go(E,x,w){let R=E;"function"!=typeof E&&({next:R,error:x,complete:w}=E);const oe=R;return{next:Ue=>oe(Ue&&Hi.getOrCreate(Ue)),error:x,complete:w}}function Jl(E,x){const w=function ji(E,x){const w=Yi();if(!w)return[];const R=j.aF(qt,E,x);switch(w.getItem(R)){case be.NONE:return[j.U];case be.LOCAL:return[j.i,j.a];case be.SESSION:return[j.a];default:return[]}}(E,x);if(typeof self<"u"&&!w.includes(j.i)&&w.push(j.i),typeof window<"u")for(const R of[j.b,j.a])w.includes(R)||w.push(R);return w.includes(j.U)||w.push(j.U),w}class ya{constructor(){this.providerId="phone",this._delegate=new j.P(Kt(ie.Z.auth()))}static credential(x,w){return j.P.credential(x,w)}verifyPhoneNumber(x,w){return this._delegate.verifyPhoneNumber(x,w)}unwrap(){return this._delegate}}ya.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,ya.PROVIDER_ID=j.P.PROVIDER_ID;const rl=j.aC;class bs{constructor(x,w,R=ie.Z.app()){var oe;rl(null===(oe=R.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new j.R(R.auth(),x,w),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function k(E){E.INTERNAL.registerComponent(new di.wA("auth-compat",x=>{const w=x.getProvider("app-compat").getImmediate(),R=x.getProvider("auth");return new br(w,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.V,FacebookAuthProvider:j.W,GithubAuthProvider:j.Y,GoogleAuthProvider:j.X,OAuthProvider:j.Z,SAMLAuthProvider:j._,PhoneAuthProvider:ya,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:bs,TwitterAuthProvider:j.$,Auth:br,AuthCredential:j.L,Error:Ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.9")}(ie.Z)},861:(Xr,wi,at)=>{function S(j,Ye,pt,Wn,di,Dn,Xt){try{var he=j[Dn](Xt),Ee=he.value}catch(We){return void pt(We)}he.done?Ye(Ee):Promise.resolve(Ee).then(Wn,di)}function ie(j){return function(){var Ye=this,pt=arguments;return new Promise(function(Wn,di){var Dn=j.apply(Ye,pt);function Xt(Ee){S(Dn,Wn,di,Xt,he,"next",Ee)}function he(Ee){S(Dn,Wn,di,Xt,he,"throw",Ee)}Xt(void 0)})}}at.d(wi,{Z:()=>ie})},582:(Xr,wi,at)=>{function Ye(Q,ne){var z={};for(var Y in Q)Object.prototype.hasOwnProperty.call(Q,Y)&&ne.indexOf(Y)<0&&(z[Y]=Q[Y]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Y=Object.getOwnPropertySymbols(Q);me<Y.length;me++)ne.indexOf(Y[me])<0&&Object.prototype.propertyIsEnumerable.call(Q,Y[me])&&(z[Y[me]]=Q[Y[me]])}return z}function We(Q,ne,z,Y){return new(z||(z=Promise))(function(le,Se){function kt(Jt){try{et(Y.next(Jt))}catch(Bn){Se(Bn)}}function Ie(Jt){try{et(Y.throw(Jt))}catch(Bn){Se(Bn)}}function et(Jt){Jt.done?le(Jt.value):function me(le){return le instanceof z?le:new z(function(Se){Se(le)})}(Jt.value).then(kt,Ie)}et((Y=Y.apply(Q,ne||[])).next())})}function Rt(Q){return this instanceof Rt?(this.v=Q,this):new Rt(Q)}function $t(Q,ne,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Y=z.apply(Q,ne||[]),le=[];return me={},Se("next"),Se("throw"),Se("return"),me[Symbol.asyncIterator]=function(){return this},me;function Se(_n){Y[_n]&&(me[_n]=function(Un){return new Promise(function(hi,$){le.push([_n,Un,hi,$])>1||kt(_n,Un)})})}function kt(_n,Un){try{!function Ie(_n){_n.value instanceof Rt?Promise.resolve(_n.value.v).then(et,Jt):Bn(le[0][2],_n)}(Y[_n](Un))}catch(hi){Bn(le[0][3],hi)}}function et(_n){kt("next",_n)}function Jt(_n){kt("throw",_n)}function Bn(_n,Un){_n(Un),le.shift(),le.length&&kt(le[0][0],le[0][1])}}function Ci(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function zt(Q){var ne="function"==typeof Symbol&&Symbol.iterator,z=ne&&Q[ne],Y=0;if(z)return z.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&Y>=Q.length&&(Q=void 0),{value:Q&&Q[Y++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),z={},Y("next"),Y("throw"),Y("return"),z[Symbol.asyncIterator]=function(){return this},z);function Y(le){z[le]=Q[le]&&function(Se){return new Promise(function(kt,Ie){!function me(le,Se,kt,Ie){Promise.resolve(Ie).then(function(et){le({value:et,done:kt})},Se)}(kt,Ie,(Se=Q[le](Se)).done,Se.value)})}}}at.d(wi,{FC:()=>$t,KL:()=>Ci,_T:()=>Ye,mG:()=>We,qq:()=>Rt}),"function"==typeof SuppressedError&&SuppressedError}},Xr=>{var wi=S=>Xr(Xr.s=S);wi(614),wi(367)}]);